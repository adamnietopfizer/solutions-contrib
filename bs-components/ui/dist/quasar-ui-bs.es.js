var ST = Object.defineProperty, wT = Object.defineProperties;
var _T = Object.getOwnPropertyDescriptors;
var DC = Object.getOwnPropertySymbols;
var bT = Object.prototype.hasOwnProperty, ET = Object.prototype.propertyIsEnumerable;
var PC = (o, t, e) => t in o ? ST(o, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : o[t] = e, Kt = (o, t) => {
  for (var e in t || (t = {}))
    bT.call(t, e) && PC(o, e, t[e]);
  if (DC)
    for (var e of DC(t))
      ET.call(t, e) && PC(o, e, t[e]);
  return o;
}, ca = (o, t) => wT(o, _T(t));
var Sd = (o, t, e) => new Promise((r, n) => {
  var i = (l) => {
    try {
      s(e.next(l));
    } catch (u) {
      n(u);
    }
  }, a = (l) => {
    try {
      s(e.throw(l));
    } catch (u) {
      n(u);
    }
  }, s = (l) => l.done ? r(l.value) : Promise.resolve(l.value).then(i, a);
  s((e = e.apply(o, t)).next());
});
import OT from "axios";
import { defineComponent as Ae, computed as W0, openBlock as se, createBlock as be, Teleport as sf, renderSlot as We, createCommentVNode as Re, resolveComponent as ce, withCtx as he, createVNode as ge, normalizeStyle as ts, normalizeClass as qr, createElementVNode as _e, createElementBlock as Ge, createTextVNode as $0, toDisplayString as Ot, pushScopeId as us, popScopeId as cs, mergeProps as Jr, withDirectives as qo, vShow as Vc, Fragment as id, renderList as $t, createSlots as Lr, normalizeProps as Mt, guardReactiveProps as kt, resolveDirective as Jy, render as AC, h as xT, getCurrentInstance as TT } from "vue";
import { QCard as RT, QBtn as ds, QIcon as Ri, QDrawer as DT, QHeader as PT, QTab as AT, QTooltip as U0, QTabs as MT, QPageContainer as IT, QPage as FT, QLayout as LT, QSelect as NT, QSlider as GT, QRange as kT, QSpinner as VT, QInput as lf, QTh as em, QMenu as z0, QItem as K0, QItemSection as Y0, QList as X0, ClosePopup as q0, QTr as tm, QCheckbox as Z0, QLinearProgress as BT, QTable as HT, QTd as jT, QImg as WT, QDate as $T, QPopupProxy as UT } from "quasar";
import { isEqual as zT, uniqueId as KT, isUndefined as rs, isNull as YT, escape as XT, isEmpty as Q0 } from "lodash";
import { mdiMagnify as uf, mdiArrowUpThin as qT, mdiSortAscending as Qp, mdiSortDescending as Jp, mdiChevronDown as J0, mdiAlert as ZT, mdiTrashCanOutline as rm, mdiCloseCircleMultiple as QT, mdiFilterOutline as JT } from "@quasar/extras/mdi-v6";
function eR(o) {
  return o !== null && typeof o == "object" && Array.isArray(o) !== !0;
}
function tR(o, t) {
  t.components !== void 0 && Object.values(t.components).forEach((e) => {
    eR(e) === !0 && e.name !== void 0 && o.component(e.name, e);
  });
}
function Uf(o) {
  return new Promise((t, e) => {
    o.then((r) => t(r == null ? void 0 : r.data)).catch((r) => e(r));
  });
}
class Xa {
  static initClient(t) {
    this._restApiEndpoint = t, this.client = OT.create({ baseURL: this._restApiEndpoint }), this.client.interceptors.response.use(
      (e) => e,
      (e) => {
        console.error(e), this.errors.push(e.response);
      }
    );
  }
  static requestWrapper(t) {
    const e = t.bind(this);
    return (...r) => new Promise((n, i) => {
      this.client || i("client not set, init servetApi with the backendUrl"), e(...r).then(n).catch(i);
    });
  }
  static init(t) {
    this.initialized || (this.initClient(t), this.doDelete = this.requestWrapper(this.doDelete), this.doPost = this.requestWrapper(this.doPost), this.doGet = this.requestWrapper(this.doGet), this.doPut = this.requestWrapper(this.doPut), this.initialized = !0);
  }
  static doPost(t, e) {
    return Uf(this.client.post(t, e));
  }
  static doPut(t, e) {
    return Uf(this.client.put(t, e));
  }
  static doGet(t) {
    return Uf(this.client.get(t));
  }
  static doDelete(t) {
    return Sd(this, null, function* () {
      return new Promise((e, r) => {
        this.client.delete(t).then((n) => e(!!n)).catch((n) => r(n));
      });
    });
  }
  static getDatasetChunk(t, e = 1e4, r = 0) {
    return this.doPost("bs_api/dataset/get", {
      dataset_name: t,
      chunksize: e,
      chunk_index: r
    });
  }
  static getDatasetSchema(t) {
    return this.doPost("bs_api/dataset/get_schema", {
      dataset_name: t
    });
  }
  static getFilteredDataset(t, e = 1e4, r = 0, n, i, a, s, l) {
    return this.doPost("bs_api/dataset/get_filtered_dataset", {
      dataset_name: t,
      chunksize: e,
      chunk_index: r,
      filters: n || {},
      group_keys: i,
      group_rows: a,
      sort_model: s,
      custom_filters: l
    });
  }
  static getDatasetGenericData(t) {
    return this.doPost("bs_api/dataset/get_generic_data", {
      dataset_name: t
    });
  }
}
Xa.errors = [];
Xa.initialized = !1;
const nm = Ae({
  name: "ProvideMixin",
  methods: {
    providePrefixed(o, t) {
      const { prefix: e, getter: r } = Kt({
        prefix: "$",
        getter: (n) => this[n]
      }, t);
      return o.reduce((n, i) => {
        const a = e + i;
        return n[a] = r(i), n;
      }, {});
    },
    createComputedFromKey(o) {
      return W0(() => this[o]);
    },
    provideComputed(o, t) {
      const e = ca(Kt({}, t), {
        getter: (r) => this.createComputedFromKey(r)
      });
      return this.providePrefixed(o, e);
    },
    provideStatic(o, t) {
      const e = ca(Kt({}, t), {
        getter: (r) => this[r]
      });
      return this.providePrefixed(o, e);
    }
  }
}), im = Ae({
  name: "CheckSlotComponentsMixin",
  methods: {
    /**
     * Returns an array of the components under a certain slot.
     *
     * It filters the `$slot[slotName]()` by the `componentName`.
     *
     * @param {string} componentName - The name field of the component
     * @param {string} [slotName=\"default\"] - The name of the slot under which to look for the component
     * */
    getSlotComponents(o, t = "default") {
      return ((n) => this.$slots.hasOwnProperty(n) ? this.$slots[n]() : [])(t).filter((n) => {
        const i = n.type;
        return (i == null ? void 0 : i.name) && i.name === o;
      });
    }
  }
});
function rR(...o) {
  o.forEach(([t, e]) => {
    setTimeout(() => {
      t();
    }, e);
  });
}
function eb(o, t, e, r, n = 50) {
  rR(
    [o, n * +!e],
    [t, r * +e]
  );
}
const tb = (o) => `bs-menu-tab-${o}`, rb = (o) => `tab-content-id-${o}`, nR = Ae({
  name: "BsTabPageChildWrapper",
  inject: ["$qPageMounted", "$tabId"],
  computed: {
    contentCSSSelector() {
      return `#${this.tabContentId}`;
    },
    tabContentId() {
      return rb(this.tabId);
    },
    tabId() {
      return this == null ? void 0 : this.$tabId;
    },
    qPageMounted() {
      return this == null ? void 0 : this.$qPageMounted;
    }
  }
}), Le = (o, t) => {
  const e = o.__vccOpts || o;
  for (const [r, n] of t)
    e[r] = n;
  return e;
};
function iR(o, t, e, r, n, i) {
  return o.qPageMounted ? (se(), be(sf, {
    key: 0,
    to: o.contentCSSSelector
  }, [
    We(o.$slots, "default")
  ], 8, ["to"])) : Re("", !0);
}
const om = /* @__PURE__ */ Le(nR, [["render", iR]]), oR = Ae({
  name: "BsContent",
  components: {
    BsTabPageChildWrapper: om
  }
});
function aR(o, t, e, r, n, i) {
  const a = ce("BsTabPageChildWrapper");
  return se(), be(a, null, {
    default: he(() => [
      We(o.$slots, "default")
    ]),
    _: 3
  });
}
const Yg = /* @__PURE__ */ Le(oR, [["render", aR]]), sR = Ae({
  name: "BsDocumentation",
  components: {
    QCard: RT,
    QBtn: ds,
    BsTabPageChildWrapper: om
  },
  data() {
    return {
      open: !1,
      docHidden: !0,
      docHide: !0,
      defaultDocsPropValues: {
        docIcon: "help",
        docTitle: "Documentation",
        docImageDimensions: {
          width: 36,
          height: 40
        }
      }
    };
  },
  props: {
    modelValue: {
      type: Boolean,
      default: !1
    },
    docIcon: {
      type: String
    },
    docTitle: {
      type: String
    },
    docImageDimensions: {
      type: Object
    }
  },
  inject: [
    // docs props
    "$tabDocsProps",
    "$layoutDocsProps"
  ],
  computed: {
    closed() {
      return !this.open;
    },
    mDocsProps() {
      return Kt(Kt(Kt(Kt({}, this.defaultDocsPropValues), this.layoutDocsProps), this.tabDocsProps), this.docsProps);
    },
    docsProps() {
      return this.clearObjectFromUndefined({
        docImageDimensions: this.docImageDimensions,
        docTitle: this.docTitle,
        docIcon: this.docIcon
      });
    },
    tabDocsProps() {
      const o = (this == null ? void 0 : this.$tabDocsProps) || {};
      return this.clearObjectFromUndefined(o);
    },
    layoutDocsProps() {
      const o = (this == null ? void 0 : this.$layoutDocsProps) || {};
      return this.clearObjectFromUndefined(o);
    },
    docContentStyleVariables() {
      return {
        "--doc-content-hide-transition-duration": ".345s"
      };
    }
  },
  methods: {
    toggleDoc(o) {
      o === void 0 && (o = !this.open), this.open = o, this.$emit("update:model-value", o);
    },
    clearObjectFromUndefined(o) {
      return Object.entries(o).reduce((e, [r, n]) => (n !== void 0 && (e[r] = n), e), {});
    }
  },
  watch: {
    modelValue() {
      this.open = this.modelValue;
    },
    open() {
      eb(
        () => this.docHide = this.closed,
        () => this.docHidden = this.closed,
        this.closed,
        500
      );
    }
  },
  mounted() {
    this.open = this.modelValue;
  }
}), nb = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxNCAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEuNjQ2IDAuNzAzNjEzQzAuNzM2ODU3IDAuNzAzNjEzIDAgMS40MTMxOCAwIDIuMjg4NjVWNy43ODUyNEMwIDguNjYwNzEgMC43MzY4NTcgOS4zNzAyOCAxLjY0NiA5LjM3MDI4SDQuMDkwNjVDNC4wMzExMSA5LjA1ODAyIDQgOC43MzYxNyA0IDguNDA3MzJIMy43NVYxLjY2NjU4SDEwLjM1NEMxMC43MTA5IDEuNjY2NTggMTEgMS45NDUwMSAxMSAyLjI4ODY1VjMuMzEwMzFDMTEuMzQ4NiAzLjQwNTI0IDExLjY4MzIgMy41MzI0NCAxMiAzLjY4ODM1VjIuMjg4NjVDMTIgMS40MTMxOCAxMS4yNjMxIDAuNzAzNjEzIDEwLjM1NCAwLjcwMzYxM0gxLjY0NlpNMi43NSAxLjY2NjU4VjguNDA3MzJIMS42NDZDMS4yODkxNCA4LjQwNzMyIDEgOC4xMjg4OCAxIDcuNzg1MjRWMi4yODg2NUMxIDEuOTQ1MDEgMS4yODkxNCAxLjY2NjU4IDEuNjQ2IDEuNjY2NThIMi43NVoiIGZpbGw9IiMwMUIyQUEiLz4KPHBhdGggZD0iTTkuNDk5OSA3LjUxODVDOC45ODk5IDcuNTE4NSA4LjU3Njg5IDcuOTE2MjEgOC41NzY4OSA4LjQwNzMyQzguNTc2ODkgOC44OTg0MyA4Ljk4OTkgOS4yOTYxMyA5LjQ5OTkgOS4yOTYxM0MxMC4wMDk5IDkuMjk2MTMgMTAuNDIyOSA4Ljg5ODQzIDEwLjQyMjkgOC40MDczMkMxMC40MjI5IDcuOTE2MjEgMTAuMDA5OSA3LjUxODUgOS40OTk5IDcuNTE4NVoiIGZpbGw9IiMwMUIyQUEiLz4KPHBhdGggZD0iTTkuNSAxMi43NDA2QzExLjk4NSAxMi43NDA2IDE0IDEwLjgwMDMgMTQgOC40MDczMkMxNCA2LjAxNDM1IDExLjk4NSA0LjA3Mzk4IDkuNSA0LjA3Mzk4QzcuMDE1IDQuMDczOTggNSA2LjAxNDM1IDUgOC40MDczMkM1IDEwLjgwMDMgNy4wMTUgMTIuNzQwNiA5LjUgMTIuNzQwNlpNOS41MDI5IDUuNTE4NDNDOS43Mjg5IDUuNTIxMzIgOS45NTM5IDUuNTQ2MzUgMTAuMTczOSA1LjU5MzU0QzEwLjI2OTkgNS42MTM3NiAxMC4zNDE5IDUuNjkxNzYgMTAuMzUyOSA1Ljc4NjEzTDEwLjQwNDkgNi4yMzg3MkMxMC40Mjg5IDYuNDQ2NzIgMTAuNjEwOSA2LjYwMzY5IDEwLjgyNzkgNi42MDM2OUMxMC44ODU5IDYuNjAzNjkgMTAuOTQzOSA2LjU5MjEzIDEwLjk5NzkgNi41NjkwMkwxMS40Mjg5IDYuMzg3MDJDMTEuNTE4OSA2LjM0OTQ3IDExLjYyMjkgNi4zNjk2OSAxMS42ODk5IDYuNDM5MDJDMTIuMDAwOSA2Ljc1OTY5IDEyLjIzMjkgNy4xNDM5MSAxMi4zNjc5IDcuNTYyOEMxMi4zOTY5IDcuNjUzMzIgMTIuMzYzOSA3Ljc1MTU0IDEyLjI4NDkgNy44MDczOUwxMS45MDI5IDguMDc4OTVDMTEuNzkzOSA4LjE1NTk4IDExLjcyOTkgOC4yNzgyOCAxMS43Mjk5IDguNDA4MjhDMTEuNzI5OSA4LjUzODI4IDExLjc5MzkgOC42NjA1OCAxMS45MDM5IDguNzM4NThMMTIuMjg1OSA5LjAxMDEzQzEyLjM2NDkgOS4wNjU5OCAxMi4zOTg5IDkuMTY0MjEgMTIuMzY5OSA5LjI1NDcyQzEyLjIzNDkgOS42NzM2MSAxMi4wMDI5IDEwLjA1NzggMTEuNjkxOSAxMC4zNzg1QzExLjYyNDkgMTAuNDQ2OSAxMS41MTk5IDEwLjQ2ODEgMTEuNDMwOSAxMC40MzA1TDEwLjk5NzkgMTAuMjQ3NUMxMC44NzM5IDEwLjE5NTUgMTAuNzMxOSAxMC4yMDMyIDEwLjYxNDkgMTAuMjY3OEMxMC40OTc5IDEwLjMzMzIgMTAuNDE5OSAxMC40NDc4IDEwLjQwNDkgMTAuNTc2OUwxMC4zNTI5IDExLjAyOTVDMTAuMzQxOSAxMS4xMjI5IDEwLjI3MTkgMTEuMTk5OSAxMC4xNzY5IDExLjIyMTFDOS43MzA5IDExLjMyMzIgOS4yNjY5IDExLjMyMzIgOC44MjA5IDExLjIyMTFDOC43MjU5IDExLjE5ODkgOC42NTU5IDExLjEyMjkgOC42NDQ5IDExLjAyOTVMOC41OTI5IDEwLjU3NzhDOC41Nzc5IDEwLjQ0ODggOC40OTk5IDEwLjMzNDIgOC4zODI5IDEwLjI2OTdDOC4yNjU5IDEwLjIwNTIgOC4xMjM5IDEwLjE5NzUgOC4wMDA5IDEwLjI0OTVMNy41Njc4OSAxMC40MzI0QzcuNDc3OSAxMC40NyA3LjM3MzkgMTAuNDQ5OCA3LjMwNjkgMTAuMzgwNEM2Ljk5NTkgMTAuMDU5OCA2Ljc2MzkgOS42NzU1NCA2LjYyODg5IDkuMjU1NjlDNi41OTk5IDkuMTY1MTcgNi42MzM5IDkuMDY2OTUgNi43MTI5IDkuMDExMDlMNy4wOTU4OSA4LjczOTU0QzcuMjA0OSA4LjY2MjUgNy4yNjg5IDguNTQwMjEgNy4yNjg5IDguNDEwMjFDNy4yNjg5IDguMjgwMjEgNy4yMDQ5IDguMTU3OTEgNy4wOTU4OSA4LjA3OTkxTDYuNzEzODkgNy44MDkzMkM2LjYzNDkgNy43NTM0NiA2LjYwMDkgNy42NTUyNCA2LjYyOTkgNy41NjQ3MkM2Ljc2NDkgNy4xNDU4MyA2Ljk5Njg5IDYuNzYxNjEgNy4zMDc4OSA2LjQ0MDk1QzcuMzc0OSA2LjM3MjU4IDcuNDc5OSA2LjM1MTM5IDcuNTY4OSA2LjM4ODk1TDcuOTk5OSA2LjU3MDk1QzguMTIzOSA2LjYyMjk1IDguMjY1ODkgNi42MTUyNCA4LjM4Mzg5IDYuNTQ5NzZDOC41MDA5IDYuNDg0MjggOC41Nzg5IDYuMzY5NjkgOC41OTM4OSA2LjIzOTY5TDguNjQ1OSA1Ljc4ODA2QzguNjU2OSA1LjY5MzY5IDguNzI4OSA1LjYxNjY1IDguODI0OSA1LjU5NTQ2QzkuMDQ1OSA1LjU0ODI4IDkuMjcwOSA1LjUyMzI0IDkuNTAxOSA1LjUyMDM1TDkuNTAyOSA1LjUxODQzWiIgZmlsbD0iIzAxQjJBQSIvPgo8L3N2Zz4K";
const ib = (o) => (us("data-v-47db9d18"), o = o(), cs(), o), lR = /* @__PURE__ */ ib(() => /* @__PURE__ */ _e("div", { class: "row items-center q-gutter-sm no-wrap" }, [
  /* @__PURE__ */ _e("img", {
    src: nb,
    width: "15",
    height: "16"
  }),
  /* @__PURE__ */ _e("span", { class: "btn-solution-text" }, "Dataiku Solutions")
], -1)), uR = { class: "flex row items-center q-gutter-sm q-mb-lg" }, cR = ["src", "width", "height"], dR = { class: "dku-large-title-sb" }, pR = { class: "doc-body" }, hR = /* @__PURE__ */ ib(() => /* @__PURE__ */ _e("div", { class: "doc-footer flex row items-center" }, [
  /* @__PURE__ */ _e("span", { class: "doc-footer__icon" }, [
    /* @__PURE__ */ _e("img", {
      src: nb,
      width: "14",
      height: "12.5"
    })
  ]),
  /* @__PURE__ */ _e("span", { class: "doc-footer__text dku-tiny-text-sb" }, "Dataiku Solutions")
], -1));
function fR(o, t, e, r, n, i) {
  const a = ce("QBtn"), s = ce("QCard"), l = ce("BsTabPageChildWrapper");
  return se(), be(l, null, {
    default: he(() => [
      ge(a, {
        unelevated: "",
        outline: "",
        "no-caps": "",
        "no-wrap": "",
        class: "btn-solution absolute",
        square: "",
        onClick: t[0] || (t[0] = (u) => o.toggleDoc())
      }, {
        default: he(() => [
          lR
        ]),
        _: 1
      }),
      ge(s, {
        style: ts(o.docContentStyleVariables),
        class: qr([
          "doc-content",
          "flex",
          "row",
          o.docHide && "doc-hide",
          o.docHidden && "doc-hidden"
        ])
      }, {
        default: he(() => [
          _e("div", uR, [
            o.mDocsProps.docIcon ? (se(), Ge("img", {
              key: 0,
              src: o.mDocsProps.docIcon,
              width: o.mDocsProps.docImageDimensions.width,
              height: o.mDocsProps.docImageDimensions.height
            }, null, 8, cR)) : Re("", !0),
            _e("span", dR, [
              o.$slots.title ? We(o.$slots, "title", { key: 0 }, void 0, !0) : Re("", !0),
              $0(" " + Ot(o.$slots.title ? "" : o.mDocsProps.docTitle), 1)
            ])
          ]),
          _e("div", pR, [
            We(o.$slots, "default", {}, void 0, !0)
          ]),
          hR
        ]),
        _: 3
      }, 8, ["style", "class"])
    ]),
    _: 3
  });
}
const Xg = /* @__PURE__ */ Le(sR, [["render", fR], ["__scopeId", "data-v-47db9d18"]]), od = Ae({
  inject: ["$isTabSelected", "$qLayoutMounted"],
  computed: {
    showComponent() {
      const o = this == null ? void 0 : this.$isTabSelected;
      return o === void 0 || o;
    },
    qLayoutMounted() {
      return this.$qLayoutMounted;
    }
  }
}), vR = Ae({
  name: "BsTabTitle",
  extends: od,
  inject: ["$tabName", "$defaultTabUsed"],
  emits: ["calculated"],
  props: {
    calculateWidth: {
      type: Boolean,
      default: !1
    }
  },
  data() {
    return {
      tabTitleWidth: "0px"
    };
  },
  computed: {
    tabName() {
      return this.$tabName;
    },
    defaultDrawer() {
      return this.$defaultDrawer;
    },
    defaultTabUsed() {
      return this.$defaultTabUsed;
    },
    tabTitleWidthSet() {
      return !this.widthNotSet(this.tabTitleWidth);
    }
  },
  methods: {
    calculateTabTitleWidth() {
      const { width: o } = this.$el ? getComputedStyle(this.$el) : { width: "0px" };
      this.widthNotSet(o) || (this.tabTitleWidth = o, this.$emit("calculated", o));
    },
    widthNotSet(o) {
      return ["0px", "auto"].includes(o);
    },
    calculateWidthIfNeeded() {
      !this.calculateWidth || !this.showComponent || this.tabTitleWidthSet || this.$nextTick(() => this.calculateTabTitleWidth());
    }
  },
  watch: {
    showComponent() {
      this.calculateWidthIfNeeded();
    },
    calculateWidth() {
      this.calculateWidthIfNeeded();
    }
  }
});
function gR(o, t, e, r, n, i) {
  return o.defaultTabUsed ? Re("", !0) : (se(), Ge("div", Jr({ key: 0 }, o.$attrs, { class: "text-primary bs-tab-title dku-medium-title-sb q-px-md" }), Ot(o.tabName), 17));
}
const am = /* @__PURE__ */ Le(vR, [["render", gR], ["__scopeId", "data-v-9ace8c82"]]), yR = Ae({
  name: "BsDrawer",
  extends: od,
  components: {
    BsTabTitle: am
  }
});
const mR = { class: "bs-drawer-container" };
function CR(o, t, e, r, n, i) {
  const a = ce("BsTabTitle");
  return o.qLayoutMounted ? (se(), be(sf, {
    key: 0,
    to: ".q-drawer"
  }, [
    qo(_e("div", mR, [
      ge(a),
      We(o.$slots, "default", {}, void 0, !0)
    ], 512), [
      [Vc, o.showComponent]
    ])
  ])) : Re("", !0);
}
const Sc = /* @__PURE__ */ Le(yR, [["render", CR], ["__scopeId", "data-v-ef244777"]]), SR = Ae({
  name: "BsHeader",
  components: {
    BsTabTitle: am
  },
  extends: od,
  inject: ["$defaultTabUsed", "$drawerOpen"],
  data() {
    return {
      headerTabTitleWidth: "0px",
      wrapperTransitions: !1,
      calculateHeaderTabTitleWidth: !1
    };
  },
  computed: {
    appendTabTitleToHeader() {
      return !this.defaultTabUsed;
    },
    defaultTabUsed() {
      return this.$defaultTabUsed;
    },
    drawerOpen() {
      return this.$drawerOpen;
    },
    tabHeaderStyles() {
      return {
        "--header-tab-title-width": this.headerTabTitleWidth
      };
    },
    headerTabTitleWidthExists() {
      return !this.widthNonExistant(this.headerTabTitleWidth);
    }
  },
  methods: {
    widthUpdated() {
      this.toggleTransitions();
    },
    toggleTransitions() {
      setTimeout(() => {
        this.wrapperTransitions = !0;
      }, 0);
    },
    widthNonExistant(o) {
      return ["0px", "auto"].includes(o);
    },
    updateHeaderTabTitleWidth(o) {
      this.headerTabTitleWidth = o, this.widthUpdated();
    }
  }
});
function wR(o, t, e, r, n, i) {
  const a = ce("BsTabTitle");
  return o.qLayoutMounted ? (se(), be(sf, {
    key: 0,
    to: ".bs-header"
  }, [
    qo(_e("div", {
      onVnodeMounted: t[0] || (t[0] = (s) => o.calculateHeaderTabTitleWidth = !0),
      style: ts(o.tabHeaderStyles),
      class: qr([
        "bs-header-wrapper",
        o.wrapperTransitions && "bs-header-wrapper--transition",
        o.showComponent && o.drawerOpen && o.headerTabTitleWidthExists && "bs-header-wrapper--hide-tab-name"
      ])
    }, [
      qo(ge(a, {
        ref: "headerTabTitle",
        "calculate-width": o.calculateHeaderTabTitleWidth,
        onCalculated: o.updateHeaderTabTitleWidth
      }, null, 8, ["calculate-width", "onCalculated"]), [
        [Vc, o.appendTabTitleToHeader]
      ]),
      We(o.$slots, "default", {}, void 0, !0)
    ], 6), [
      [Vc, o.showComponent]
    ])
  ])) : Re("", !0);
}
const wc = /* @__PURE__ */ Le(SR, [["render", wR], ["__scopeId", "data-v-f4a44855"]]), _R = Ae({
  name: "BsTabIcon",
  inject: ["$menuTabsMounted", "$tabId"],
  components: {
    QIcon: Ri
  },
  props: {
    name: String
  },
  computed: {
    iconName() {
      return this.name === void 0 ? this.$slots.default ? void 0 : "tab" : this.name;
    },
    menuTabsMounted() {
      return this.$menuTabsMounted;
    },
    tabId() {
      return this == null ? void 0 : this.$tabId;
    },
    bsMenuTabId() {
      return tb(this.tabId);
    },
    bsMenuTabCSSSelector() {
      return `#${this.bsMenuTabId}`;
    }
  }
});
function bR(o, t, e, r, n, i) {
  const a = ce("q-icon");
  return o.menuTabsMounted ? (se(), be(sf, {
    key: 0,
    to: o.bsMenuTabCSSSelector
  }, [
    o.iconName ? (se(), be(a, Jr({ key: 0 }, o.$attrs, { name: o.iconName }), null, 16, ["name"])) : Re("", !0),
    We(o.$slots, "default")
  ], 8, ["to"])) : Re("", !0);
}
const jp = /* @__PURE__ */ Le(_R, [["render", bR]]), ER = Ae({
  name: "BsDrawerBtn",
  extends: od,
  props: {
    modelValue: {
      type: Boolean,
      required: !0
    },
    show: {
      type: Boolean,
      default: !0
    }
  },
  data() {
    return {
      hide: !1,
      hidden: !1,
      hideTransitionDuration: 200
    };
  },
  watch: {
    show() {
      this.toggleShown(this.show);
    }
  },
  methods: {
    toggleLeftPanel() {
      this.$emit("update:modelValue", !this.modelValue);
    },
    toggleShown(o) {
      const t = !o;
      eb(
        () => this.hide = t,
        () => this.hidden = t,
        t,
        this.hideTransitionDuration
      );
    }
  }
}), OR = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTYgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMCAwSDRDMTAuNjI3NCAwIDE2IDUuMzcyNTggMTYgMTJWODhDMTYgOTQuNjI3NCAxMC42Mjc0IDEwMCA0IDEwMEgwVjBaIiBmaWxsPSIjQ0NDQ0NDIi8+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfMV8xNjY4KSI+CjxyZWN0IHg9IjUiIHk9IjIwIiB3aWR0aD0iMSIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Y1RjVGNSIvPgo8L2c+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIxX2RfMV8xNjY4KSI+CjxyZWN0IHg9IjkiIHk9IjIwIiB3aWR0aD0iMSIgaGVpZ2h0PSI2MCIgZmlsbD0iI0Y1RjVGNSIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMV8xNjY4IiB4PSI1IiB5PSIyMCIgd2lkdGg9IjIiIGhlaWdodD0iNjAiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeD0iMSIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMTEgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18xXzE2NjgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMV8xNjY4IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8ZmlsdGVyIGlkPSJmaWx0ZXIxX2RfMV8xNjY4IiB4PSI5IiB5PSIyMCIgd2lkdGg9IjIiIGhlaWdodD0iNjAiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeD0iMSIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMTEgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18xXzE2NjgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMV8xNjY4IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=";
const xR = (o) => (us("data-v-9969ac6c"), o = o(), cs(), o), TR = /* @__PURE__ */ xR(() => /* @__PURE__ */ _e("img", { src: OR }, null, -1)), RR = [
  TR
];
function DR(o, t, e, r, n, i) {
  return qo((se(), Ge("div", {
    onClick: t[0] || (t[0] = (...a) => o.toggleLeftPanel && o.toggleLeftPanel(...a)),
    class: qr([o.hide && "hide", o.hidden && "hidden", "toggle-left-button"]),
    style: ts({
      "--hide-transition-duration": `.${o.hideTransitionDuration}s`
    })
  }, RR, 6)), [
    [Vc, o.showComponent]
  ]);
}
const ob = /* @__PURE__ */ Le(ER, [["render", DR], ["__scopeId", "data-v-9969ac6c"]]), PR = Ae({
  name: "BsLayoutDrawer",
  components: {
    QDrawer: DT,
    BsDrawerBtn: ob
  },
  props: {
    collapsedWidth: {
      type: Number,
      default: 50
    },
    panelWidth: {
      type: Number,
      default: 300
    },
    mini: {
      type: Boolean,
      default: !1
    },
    expandable: {
      type: Boolean,
      default: !0
    },
    modelValue: Boolean
  },
  data() {
    return {
      expand: !0
    };
  },
  computed: {
    collapsed() {
      return !this.displayExpanded;
    },
    displayExpanded() {
      return this.expand && this.expandable;
    },
    expandedWidth() {
      return +this.mini * this.collapsedWidth + this.panelWidth;
    },
    miniDrawerProps() {
      return {
        mini: this.collapsed,
        modelValue: !0
      };
    },
    defaultDrawerProps() {
      return {
        modelValue: this.displayExpanded
      };
    },
    drawerProps() {
      return this.mini ? this.miniDrawerProps : this.defaultDrawerProps;
    }
  },
  watch: {
    modelValue() {
      this.expand = this.modelValue;
    }
  },
  methods: {
    toggleDrawer(o) {
      this.expand = o, this.$emit("update:model-value", o);
    }
  },
  mounted() {
    this.modelValue !== void 0 && (this.expand = !0);
  }
});
function AR(o, t, e, r, n, i) {
  const a = ce("BsDrawerBtn"), s = ce("QDrawer");
  return se(), be(s, Jr(o.drawerProps, {
    "mini-width": o.collapsedWidth,
    width: o.expandedWidth,
    side: "left",
    behavior: "desktop",
    bordered: ""
  }), {
    default: he(() => [
      ge(a, {
        "model-value": o.expand,
        "onUpdate:modelValue": o.toggleDrawer,
        show: o.expandable
      }, null, 8, ["model-value", "onUpdate:modelValue", "show"])
    ]),
    _: 1
  }, 16, ["mini-width", "width"]);
}
const ab = /* @__PURE__ */ Le(PR, [["render", AR], ["__scopeId", "data-v-8f8c14f8"]]), MR = Ae({
  name: "BsLayoutHeader",
  components: {
    QHeader: PT
  }
});
function IR(o, t, e, r, n, i) {
  const a = ce("QHeader");
  return se(), be(a, {
    bordered: "",
    class: "bg-white bs-header"
  });
}
const sb = /* @__PURE__ */ Le(MR, [["render", IR], ["__scopeId", "data-v-9ba496fa"]]), FR = Ae({
  name: "BsMenuTab",
  components: {
    QTab: AT,
    QTooltip: U0
  },
  props: {
    name: {
      type: String
    },
    icon: {
      type: String
    },
    tabIndex: {
      type: Number
    },
    tabId: {
      type: String
    }
  },
  methods: {
    getBsMenuTabId(o) {
      return o = o || `${this.tabIndex}` || "", tb(o);
    }
  }
});
const LR = { class: "tab-name-tooltip" }, NR = ["id"];
function GR(o, t, e, r, n, i) {
  const a = ce("QTooltip"), s = ce("QTab");
  return se(), be(s, {
    name: o.tabIndex,
    icon: o.icon,
    ripple: !1
  }, {
    default: he(() => [
      ge(a, {
        offset: [9, 10],
        anchor: "center right",
        self: "center left",
        "transition-show": "jump-right",
        "transition-hide": "jump-left"
      }, {
        default: he(() => [
          _e("span", LR, Ot(o.name), 1)
        ]),
        _: 1
      }),
      o.tabId ? (se(), Ge("span", {
        key: 0,
        id: o.getBsMenuTabId(o.tabId)
      }, null, 8, NR)) : Re("", !0)
    ]),
    _: 1
  }, 8, ["name", "icon"]);
}
const lb = /* @__PURE__ */ Le(FR, [["render", GR], ["__scopeId", "data-v-61b2252d"]]), kR = Ae({
  name: "BsMenuTabs",
  components: {
    QTabs: MT
  },
  props: {
    modelValue: [Number, String]
  },
  data() {
    return {
      leftPanelFull: !0
    };
  },
  methods: {
    emitUpdatedValue(o) {
      this.$emit("update:model-value", o);
    }
  }
});
const VR = { class: "tabs-container" };
function BR(o, t, e, r, n, i) {
  const a = ce("q-tabs");
  return se(), Ge("div", VR, [
    ge(a, {
      "model-value": o.modelValue,
      "onUpdate:modelValue": t[0] || (t[0] = (s) => o.$emit("update:model-value", s)),
      vertical: "",
      "active-color": "primary",
      "indicator-color": "primary",
      "active-bg-color": "white"
    }, {
      default: he(() => [
        We(o.$slots, "default", {}, void 0, !0)
      ]),
      _: 3
    }, 8, ["model-value"])
  ]);
}
const ub = /* @__PURE__ */ Le(kR, [["render", BR], ["__scopeId", "data-v-0b4a6261"]]);
class cb {
  constructor() {
    this.seen = {}, this.seen = {};
  }
  serialize(t) {
    return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
  }
  /**
   * Finds the next safe (unique) slug to use
   * @param {string} originalSlug
   * @param {boolean} isDryRun
   */
  getNextSafeSlug(t, e) {
    let r = t, n = 0;
    if (this.seen.hasOwnProperty(r)) {
      n = this.seen[t];
      do
        n++, r = t + "-" + n;
      while (this.seen.hasOwnProperty(r));
    }
    return e || (this.seen[t] = n, this.seen[r] = 0), r;
  }
  /**
   * Convert string to unique id
   * @param {object} [options]
   * @param {boolean} [options.dryrun] Generates the next unique slug without
   * updating the internal accumulator.
  */
  slug(t, e = {}) {
    const r = { dryrun: !!e.dryrun }, n = this.serialize(t);
    return this.getNextSafeSlug(n, r.dryrun);
  }
}
const Wp = class {
  constructor(o = "default") {
    typeof o != "string" && (console.error("instanceKey param should be of type string! Using default instance."), o = "default"), Wp.instances.hasOwnProperty(o) || (Wp.instances[o] = new cb()), this.instance = Wp.instances[o];
  }
  slug(o, t = {}) {
    return this.instance.slug(o, t);
  }
};
let db = Wp;
db.instances = {};
const HR = new db("tabs"), jR = Ae({
  name: "BsTab",
  mixins: [im, nm],
  components: {
    BsDrawer: Sc,
    BsHeader: wc,
    BsDocumentation: Xg,
    BsContent: Yg,
    BsTabIcon: jp,
    QPageContainer: IT,
    QPage: FT
  },
  data() {
    return {
      index: 0,
      tabId: HR.slug(this.name),
      isActive: !1,
      openDoc: !1,
      qPageMounted: !1
    };
  },
  inject: ["$tabs", "$selectedTab", "$defaultTabUsed", "$defaultDrawer", "$defaultHeader"],
  provide() {
    return this.provideComputed([
      "isTabSelected",
      "tabName",
      // documention
      "tabDocsProps",
      "tabId",
      "qPageMounted"
    ]);
  },
  props: {
    name: {
      type: String,
      default: "tab-name-not-set"
    },
    icon: {
      type: String
    },
    docTitle: {
      type: String
    },
    docIcon: {
      type: String
    },
    docImageDimensions: {
      type: Object
    }
  },
  computed: {
    tabContentId() {
      return rb(this.tabId);
    },
    tabName() {
      return this.name;
    },
    tabDocsProps() {
      return {
        docImageDimensions: this.docImageDimensions,
        docTitle: this.docTitle,
        docIcon: this.docIcon
      };
    },
    isTabSelected() {
      var o;
      return ((o = this.selectedTab) == null ? void 0 : o.tabId) === this.tabId;
    },
    selectedTab() {
      return this.$selectedTab;
    },
    defaultDrawer() {
      return this.$defaultDrawer;
    },
    defaultHeader() {
      return this.$defaultHeader;
    },
    defaultTabUsed() {
      return this.$defaultTabUsed;
    },
    tabs() {
      return this.$tabs;
    },
    tab() {
      const { tabId: o, drawer: t, header: e, name: r } = this;
      return {
        tabId: o,
        drawer: t,
        header: e,
        name: r,
        icon: W0(() => this.tabIcon)
      };
    },
    header() {
      return this.usingComponent(wc) || this.usingSlotHeader || this.defaultHeader;
    },
    drawer() {
      return this.usingComponent(Sc) || this.usingSlotDrawer || this.defaultDrawer;
    },
    tabIcon() {
      return this.usingComponent(jp) || this.usingSlotTabIcon ? void 0 : this.icon;
    },
    usingSlotHeader() {
      return this.usingSlot(wc, "header", "head");
    },
    usingSlotDrawer() {
      return this.usingSlot(Sc, "leftpanel", "drawer");
    },
    usingSlotDocumentation() {
      return this.usingSlot(Xg, "documentation");
    },
    usingSlotContent() {
      return this.usingSlot(Yg, "content");
    },
    usingSlotTabIcon() {
      return this.usingSlot(jp, "tabicon");
    },
    appendTabTitleToHeader() {
      return !this.defaultTabUsed;
    },
    slotsKeys() {
      return Object.keys(this.$slots);
    }
  },
  methods: {
    registerTab() {
      this.tabs.push(this.tab);
    },
    unregisterTab() {
      const o = this.tabs.indexOf(this.tab);
      o !== -1 && this.tabs.splice(o, 1);
    },
    onQPageMounted() {
      this.qPageMounted = !0, this.$emit("mounted:q-page");
    },
    usingComponent(o) {
      return !!this.getSlotComponents(o.name || "").length;
    },
    usingSlot(o, ...t) {
      return this.usingComponent(o) ? !1 : t.reduce((r, n) => r && this.slotsKeys.includes(n), !0);
    }
  },
  emits: ["mounted:q-page"],
  mounted() {
    this.registerTab();
  },
  unmounted() {
    this.unregisterTab();
  }
});
const WR = ["id"];
function $R(o, t, e, r, n, i) {
  const a = ce("BsHeader"), s = ce("BsDrawer"), l = ce("BsDocumentation"), u = ce("BsTabIcon"), c = ce("BsContent"), d = ce("QPage"), p = ce("QPageContainer");
  return se(), Ge(id, null, [
    o.usingSlotHeader || !(o.header || o.defaultTabUsed) ? (se(), be(a, { key: 0 }, {
      default: he(() => [
        o.$slots.header ? Re("", !0) : We(o.$slots, "head", { key: 0 }, void 0, !0),
        We(o.$slots, "header", {}, void 0, !0)
      ]),
      _: 3
    })) : Re("", !0),
    o.usingSlotDrawer ? (se(), be(s, { key: 1 }, {
      default: he(() => [
        o.$slots.drawer ? Re("", !0) : We(o.$slots, "leftpanel", { key: 0 }, void 0, !0),
        We(o.$slots, "drawer", {}, void 0, !0)
      ]),
      _: 3
    })) : Re("", !0),
    o.usingSlotDocumentation ? (se(), be(l, {
      key: 2,
      modelValue: o.openDoc,
      "onUpdate:modelValue": t[0] || (t[0] = (h) => o.openDoc = h)
    }, {
      default: he(() => [
        We(o.$slots, "documentation", {}, void 0, !0)
      ]),
      _: 3
    }, 8, ["modelValue"])) : Re("", !0),
    !o.defaultTabUsed && o.usingSlotTabIcon ? (se(), be(u, { key: 3 }, {
      default: he(() => [
        We(o.$slots, "tabicon", {}, void 0, !0)
      ]),
      _: 3
    })) : Re("", !0),
    qo(ge(p, null, {
      default: he(() => [
        ge(d, { onVnodeMounted: o.onQPageMounted }, {
          default: he(() => [
            _e("div", {
              class: "content",
              id: o.tabContentId
            }, [
              o.usingSlotContent ? (se(), be(c, { key: 0 }, {
                default: he(() => [
                  We(o.$slots, "content", {}, void 0, !0)
                ]),
                _: 3
              })) : Re("", !0)
            ], 8, WR)
          ]),
          _: 3
        }, 8, ["onVnodeMounted"])
      ]),
      _: 3
    }, 512), [
      [Vc, o.isTabSelected]
    ]),
    We(o.$slots, "default", {}, void 0, !0)
  ], 64);
}
const pb = /* @__PURE__ */ Le(jR, [["render", $R], ["__scopeId", "data-v-694ef9e9"]]), UR = new cb(), zR = Ae({
  name: "BsLayoutDefault",
  mixins: [nm, im],
  components: {
    BsTab: pb,
    BsMenuTab: lb,
    BsMenuTabs: ub,
    BsLayoutDrawer: ab,
    BsLayoutHeader: sb,
    QLayout: LT
  },
  props: {
    docTitle: {
      type: String
    },
    docIcon: {
      type: String
    },
    docImageDimensions: {
      type: Object
    },
    tabMenuWidth: {
      type: Number,
      default: 50
    },
    leftPanelWidth: {
      type: Number,
      default: 300
    }
  },
  data() {
    return {
      tabIndex: 0,
      tabs: [],
      mounted: !1,
      headerMounted: !1,
      drawerMounted: !1,
      qPageMounted: !1,
      menuTabsMounted: !1,
      drawerOpen: !0,
      tabSlotNames: [
        "header",
        "head",
        "leftpanel",
        "drawer",
        "documentation",
        "content"
      ],
      defaultLayoutTabName: "Layout Default",
      defaultTabUsed: !0
    };
  },
  provide() {
    let o = this.provideComputed([
      "tabs",
      "selectedTab",
      "qLayoutMounted",
      "menuTabsMounted",
      "layoutDocsProps",
      "defaultTabUsed",
      "drawerOpen"
    ]);
    if (this.defaultTabUsed) {
      const e = this.provideComputed([
        "tabContentId",
        "qPageMounted",
        "defaultDrawer",
        "defaultHeader"
      ]);
      o = Kt(Kt({}, o), e);
    }
    return o;
  },
  methods: {
    getTabIndex(o) {
      return this.tabs.findIndex(({ tabId: t }) => o === t);
    }
  },
  computed: {
    tabContentId() {
      return `tab-content-id-${UR.slug(this.defaultLayoutTabName)}`;
    },
    activeTabSlots() {
      return Object.keys(this.$slots).filter((o) => this.tabSlotNames.includes(o));
    },
    selectedTab() {
      return this.tabs[this.tabIndex];
    },
    selectedTabDrawer() {
      var o;
      return (o = this.selectedTab) == null ? void 0 : o.drawer;
    },
    layoutDocsProps() {
      const { docTitle: o, docIcon: t, docImageDimensions: e } = this;
      return { docTitle: o, docIcon: t, docImageDimensions: e };
    },
    qLayoutMounted() {
      return this.drawerMounted && this.headerMounted;
    },
    defaultDrawer() {
      return !!this.getSlotComponents(Sc.name).length;
    },
    defaultHeader() {
      return !!this.getSlotComponents(wc.name).length;
    },
    layoutStyles() {
      return {
        "--bs-drawer-width": `${this.leftPanelWidth}px`
      };
    }
  },
  watch: {
    "tabs.length"(o) {
      this.defaultTabUsed = o === 0 || o === 1 && this.tabs[0].name === this.defaultLayoutTabName;
    }
  },
  mounted() {
    this.mounted = !0;
  }
});
function KR(o, t, e, r, n, i) {
  const a = ce("BsLayoutDrawer"), s = ce("BsLayoutHeader"), l = ce("BsMenuTab"), u = ce("BsMenuTabs"), c = ce("BsTab"), d = ce("QLayout");
  return se(), be(d, {
    view: "lHh LpR lFf",
    class: "bg-white",
    style: ts(o.layoutStyles)
  }, {
    default: he(() => [
      ge(a, {
        modelValue: o.drawerOpen,
        "onUpdate:modelValue": t[0] || (t[0] = (p) => o.drawerOpen = p),
        onVnodeMounted: t[1] || (t[1] = (p) => o.drawerMounted = !0),
        expandable: o.selectedTabDrawer,
        "collapsed-width": o.tabMenuWidth,
        "panel-width": o.leftPanelWidth,
        mini: !o.defaultTabUsed
      }, null, 8, ["modelValue", "expandable", "collapsed-width", "panel-width", "mini"]),
      ge(s, {
        onVnodeMounted: t[2] || (t[2] = (p) => o.headerMounted = !0)
      }, null, 512),
      o.mounted && !o.defaultTabUsed ? (se(), be(u, {
        key: 0,
        modelValue: o.tabIndex,
        "onUpdate:modelValue": t[3] || (t[3] = (p) => o.tabIndex = p),
        onVnodeMounted: t[4] || (t[4] = (p) => o.menuTabsMounted = !0)
      }, {
        default: he(() => [
          (se(!0), Ge(id, null, $t(o.tabs, ({ name: p, icon: h, tabId: f }, v) => (se(), be(l, {
            name: p,
            "tab-id": f,
            icon: h,
            "tab-index": v
          }, null, 8, ["name", "tab-id", "icon", "tab-index"]))), 256))
        ]),
        _: 1
      }, 8, ["modelValue"])) : Re("", !0),
      o.mounted && o.defaultTabUsed ? (se(), be(c, {
        key: 1,
        "onMounted:qPage": t[5] || (t[5] = (p) => o.qPageMounted = !0),
        name: o.defaultLayoutTabName
      }, Lr({
        default: he(() => [
          We(o.$slots, "default")
        ]),
        _: 2
      }, [
        $t(o.activeTabSlots, (p) => ({
          name: p,
          fn: he(() => [
            We(o.$slots, p)
          ])
        }))
      ]), 1032, ["name"])) : We(o.$slots, "default", { key: 2 })
    ]),
    _: 3
  }, 8, ["style"]);
}
const YR = /* @__PURE__ */ Le(zR, [["render", KR]]), XR = {
  xs: 18,
  sm: 22,
  md: 26,
  lg: 30,
  xl: 34
}, qR = function(o, t = XR) {
  return o !== void 0 ? o in t ? `${t[o]}px` : o : null;
}, ZR = {
  size: {
    type: String,
    default: "sm"
  },
  modelValue: {
    required: !0,
    default: null
  },
  val: {},
  trueValue: { default: !0 },
  falseValue: { default: !1 },
  labelLeft: String,
  labelRight: String,
  labelClass: { type: String, default: "dku-text" },
  color: { type: String, default: "rgba(111, 125, 137, 0.8)" },
  disable: Boolean,
  tabindex: [String, Number]
}, QR = ["update:modelValue"];
function MC(o) {
  o.cancelable !== !1 && o.preventDefault(), o.stopPropagation();
}
const JR = Ae({
  name: "BsToggle",
  data() {
    return {};
  },
  props: Kt({}, ZR),
  emits: QR,
  computed: {
    modelIsArray() {
      return this.val !== void 0 && Array.isArray(this.modelValue);
    },
    index() {
      const o = this.val;
      return this.modelIsArray === !0 ? this.modelValue.findIndex((t) => t === o) : -1;
    },
    isTrue() {
      return this.modelIsArray === !0 ? this.index > -1 : this.modelValue === this.trueValue;
    },
    isFalse() {
      return this.modelIsArray === !0 ? this.index === -1 : this.modelValue === this.falseValue;
    },
    tabIndex() {
      return this.disable === !0 ? -1 : this.tabindex || 0;
    },
    fontSize() {
      return qR(this.size);
    }
  },
  methods: {
    getNextValue() {
      if (this.modelIsArray === !0) {
        if (this.isTrue === !0) {
          const o = this.modelValue.slice();
          return o.splice(this.index, 1), o;
        }
        return this.modelValue.concat([this.val]);
      }
      if (this.isTrue === !0)
        return this.falseValue;
      if (this.isFalse === !0)
        return this.trueValue;
    },
    onClick(o) {
      o !== void 0 && MC(o), this.disable !== !0 && (console.log("next value"), console.log(this.isTrue), console.log(this.getNextValue()), this.$emit("update:modelValue", this.getNextValue(), o));
    },
    onKeydown(o) {
      (o.keyCode === 13 || o.keyCode === 32) && MC(o);
    },
    onKeyup(o) {
      (o.keyCode === 13 || o.keyCode === 32) && this.onClick(o);
    }
  }
}), eD = ["checked", "value"], tD = ["aria-checked", "aria-disabled", "aria-readonly", "tabindex"];
function rD(o, t, e, r, n, i) {
  return se(), Ge("div", {
    class: qr([{
      "bs-toggle--is-disabled": o.disable
    }, "bs-toggle"]),
    style: ts({ "font-size": o.fontSize })
  }, [
    o.labelLeft ? (se(), Ge("label", {
      key: 0,
      class: qr(["bs-toggle__label", [o.labelClass]])
    }, Ot(o.labelLeft), 3)) : Re("", !0),
    _e("input", {
      type: "checkbox",
      checked: o.isTrue === !0,
      value: o.modelIsArray === !0 ? o.val : o.trueValue,
      class: "bs-toggle__input"
    }, null, 8, eD),
    _e("div", {
      "aria-checked": o.isTrue === !0,
      "aria-disabled": o.disable,
      "aria-readonly": o.disable,
      class: qr([
        "bs-toggle__content",
        o.isTrue === !0 ? "bs-toggle__content__active" : ""
      ]),
      style: ts({ "background-color": o.isTrue === !0 ? o.color : "" }),
      role: "checkbox",
      onClick: t[0] || (t[0] = (...a) => o.onClick && o.onClick(...a)),
      onKeydown: t[1] || (t[1] = (...a) => o.onKeydown && o.onKeydown(...a)),
      onKeyup: t[2] || (t[2] = (...a) => o.onKeyup && o.onKeyup(...a)),
      tabindex: o.tabIndex
    }, null, 46, tD),
    o.labelRight ? (se(), Ge("label", {
      key: 1,
      class: qr(["bs-toggle__label", [o.labelClass]])
    }, Ot(o.labelRight), 3)) : Re("", !0)
  ], 6);
}
const nD = /* @__PURE__ */ Le(JR, [["render", rD]]), iD = Ae({
  name: "BsSelect",
  data() {
    return {
      width: 0
    };
  },
  props: {
    bsLabel: {
      type: String
    },
    placeHolder: {
      type: String
    }
  },
  components: {
    QSelect: NT
  },
  methods: {
    popupShow() {
      this.width = this.$refs.bsSelect.$el.offsetWidth;
    },
    popupHide() {
      this.width = 0;
    }
  },
  computed: {
    popupStyle() {
      return {
        width: this.width,
        maxWidth: this.width,
        wordBreak: "break-all"
      };
    },
    computedLabel() {
      if (this.placeHolder && !this.$attrs.modelValue)
        return this.placeHolder;
    }
  }
}), oD = {
  key: 0,
  class: "bs-select__label dss-caption-400 q-mb-xs"
};
function aD(o, t, e, r, n, i) {
  const a = ce("QSelect");
  return se(), Ge("div", null, [
    o.bsLabel ? (se(), Ge("label", oD, Ot(o.bsLabel), 1)) : Re("", !0),
    ge(a, Jr({ ref: "bsSelect" }, o.$attrs, {
      "dropdown-icon": "r_expand_more",
      class: "bs-select",
      outlined: "",
      dense: "",
      "popup-content-class": "bs-select__popup dds-text-400",
      onPopupShow: o.popupShow,
      onPopupHide: o.popupHide,
      "popup-content-style": o.popupStyle,
      label: o.computedLabel,
      "label-color": "#CCCCCC"
    }), Lr({ _: 2 }, [
      $t(o.$slots, (s, l) => ({
        name: l,
        fn: he((u) => [
          We(o.$slots, l, Mt(kt(u || {})))
        ])
      }))
    ]), 1040, ["onPopupShow", "onPopupHide", "popup-content-style", "label"])
  ]);
}
const sD = /* @__PURE__ */ Le(iD, [["render", aD]]), lD = Ae({
  name: "BsButton",
  components: {
    QBtn: ds
  }
});
function uD(o, t, e, r, n, i) {
  const a = ce("QBtn");
  return se(), be(a, Jr(o.$attrs, { unelevated: "" }), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const cD = /* @__PURE__ */ Le(lD, [["render", uD]]), dD = Ae({
  name: "BsTooltip",
  components: {
    QTooltip: U0
  }
});
function pD(o, t, e, r, n, i) {
  const a = ce("QTooltip");
  return se(), be(a, Mt(kt(o.$attrs)), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const hD = /* @__PURE__ */ Le(dD, [["render", pD]]), fD = Ae({
  name: "BsSlider",
  components: {
    QSlider: GT
  },
  props: {
    sliderWidth: {
      type: Number,
      default: 192
    }
  },
  computed: {
    inputData() {
      return {
        value: this.$attrs.modelValue,
        min: this.$attrs.min,
        max: this.$attrs.max,
        step: this.$attrs.step
      };
    }
  },
  methods: {
    // TODO : Round to step in needed
    updateSliderFromInput(o) {
      let t = Number(o.target.value);
      t < this.$attrs.min && (t = this.$attrs.min), t > this.$attrs.max && (t = this.$attrs.max), this.$emit("update:model-value", t);
    }
  }
}), vD = { class: "flex row bs-slider no-wrap" }, gD = ["value", "min", "max", "step"];
function yD(o, t, e, r, n, i) {
  const a = ce("QSlider");
  return se(), Ge("div", vD, [
    ge(a, Jr(o.$attrs, {
      style: { width: o.sliderWidth + "px" },
      "thumb-size": "15px",
      "track-size": "3.5px"
    }), Lr({ _: 2 }, [
      $t(o.$slots, (s, l) => ({
        name: l,
        fn: he((u) => [
          We(o.$slots, l, Mt(kt(u || {})))
        ])
      }))
    ]), 1040, ["style"]),
    _e("input", {
      class: "bs-slider__input dku-text",
      type: "number",
      value: o.inputData.value,
      onInput: t[0] || (t[0] = (...s) => o.updateSliderFromInput && o.updateSliderFromInput(...s)),
      min: o.inputData.min,
      max: o.inputData.max,
      step: o.inputData.step
    }, null, 40, gD)
  ]);
}
const mD = /* @__PURE__ */ Le(fD, [["render", yD]]), CD = Ae({
  name: "BsRange",
  components: {
    QRange: kT
  }
});
function SD(o, t, e, r, n, i) {
  const a = ce("QRange");
  return se(), be(a, Mt(kt(o.$attrs)), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const wD = /* @__PURE__ */ Le(CD, [["render", SD]]), _D = Ae({
  name: "BsSpinner",
  components: {
    QSpinner: VT
  }
});
function bD(o, t, e, r, n, i) {
  const a = ce("QSpinner");
  return se(), be(a, Mt(kt(o.$attrs)), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const ED = /* @__PURE__ */ Le(_D, [["render", bD]]), OD = Ae({
  name: "BsDSSTable",
  props: {
    dssTableName: {
      type: String
    },
    serverSidePagination: Object,
    filters: Object
  },
  emits: ["update:fetching", "update:rows", "update:columns", "update:columns-count"],
  data() {
    return {
      DSSColumns: void 0,
      DSSData: void 0,
      fetchingChunk: !1,
      fetchingSchema: !1
    };
  },
  watch: {
    dssTableName(o, t) {
      this.updateTableDataOnWatchedChanged(o, t);
    },
    "serverSidePagination.batchSize"(o, t) {
      this.updateTableDataOnWatchedChanged(o, t);
    },
    "serverSidePagination.batchOffset"(o, t) {
      this.updateTableDataOnWatchedChanged(o, t);
    },
    filters(o, t) {
      this.updateTableDataOnWatchedChanged(o, t);
    }
  },
  methods: {
    setFetching({ fetchingChunk: o, fetchingSchema: t }) {
      o !== void 0 && (this.fetchingChunk = o), t !== void 0 && (this.fetchingSchema = t);
      const e = this.fetchingChunk || this.fetchingSchema;
      this.$emit("update:fetching", e);
    },
    setFetchingSchema(o) {
      this.setFetching({ fetchingSchema: o });
    },
    setFetchingChunk(o) {
      this.setFetching({ fetchingChunk: o });
    },
    fetchDSSData(...o) {
      return new Promise((t, e) => {
        this.setFetchingChunk(!0), Xa.getDatasetChunk(...o).then((r) => {
          const n = this.transformDSSDataToQTableRow(r);
          t(n);
        }).catch(e).finally(() => {
          this.setFetchingChunk(!1);
        });
      });
    },
    fetchFilteredDSSDataset(...o) {
      return new Promise((t, e) => {
        this.setFetchingChunk(!0), Xa.getFilteredDataset(
          ...o
        ).then((r) => {
          const n = this.transformDSSDataToQTableRow(r);
          t(n);
        }).catch(e).finally(() => {
          this.setFetchingChunk(!1);
        });
      });
    },
    fetchDSSColumns(...o) {
      return this.setFetchingSchema(!0), new Promise((t, e) => {
        Xa.getDatasetGenericData(...o).then(({ schema: r, columnsCount: n }) => {
          const a = r.columns.map((s) => this.createBsTableCol({ name: s.name, dataType: s.type }));
          t({ columns: a, columnsCount: n });
        }).catch(e).finally(() => {
          this.setFetchingSchema(!1);
        });
      });
    },
    updateColumns(...o) {
      this.fetchDSSColumns(...o).then(({ columns: t, columnsCount: e }) => {
        this.$emit("update:columns", t), this.$emit("update:columns-count", e);
      });
    },
    updateRows(...o) {
      this.fetchFilteredDSSDataset(...o).then((t) => {
        this.$emit("update:rows", t);
      });
    },
    parseDSSColumn(o) {
      return o === "index" ? "in_dss_index" : o;
    },
    createBsTableCol(o) {
      const t = (o == null ? void 0 : o.name) || "default";
      return Kt({
        name: t,
        label: t,
        field: t,
        sortable: !0,
        align: "left"
      }, o);
    },
    transformDSSDataToQTableRow(o) {
      if (o === "None")
        return;
      const t = Object.entries(o);
      if (!(t != null && t.length))
        return;
      const e = Object.entries(t[0][1]).length, r = Array(e).fill(void 0).map((n, i) => ({}));
      return t.forEach(([n, i]) => {
        n = this.parseDSSColumn(n);
        const a = Object.values(i), { batchSize: s, batchOffset: l } = this.serverSidePagination || { batchSize: 0, batchOffset: 0 };
        a.forEach((u, c) => {
          const d = r[c];
          d[n] = u, d.index = s * l + c;
        });
      }), r;
    },
    updateTableData() {
      const { batchSize: o, batchOffset: t } = this.serverSidePagination || {};
      this.dssTableName && o && t !== void 0 && (this.updateColumns(this.dssTableName), this.updateRows(this.dssTableName, o, t, this.filters));
    },
    updateTableDataOnWatchedChanged(o, t) {
      zT(o, t) || this.updateTableData();
    }
  },
  mounted() {
    this.updateTableData();
  }
});
function xD(o, t, e, r, n, i) {
  return null;
}
const TD = /* @__PURE__ */ Le(OD, [["render", xD]]), RD = 45, DD = 250;
let qg = () => {
};
{
  let o = function(r, n, i, ...a) {
    i === void 0 && (i = r), t.set(i, Date.now()), e.set(i, n), setTimeout(() => {
      if (!t.has(i))
        return;
      const s = e.get(i), l = t.get(i);
      (s < DD || Date.now() - l > s - RD) && (a ? r(...a) : r(), t.delete(i));
    }, n);
  };
  const t = /* @__PURE__ */ new Map(), e = /* @__PURE__ */ new Map();
  qg = o;
}
function hb(o, t, e, ...r) {
  return r ? qg(o, t, e, ...r) : qg(o, t, e);
}
function PD(o, t, e = !1) {
  let r = o.length, n = 0, i = [];
  if (r) {
    const a = (s = 0) => t.indexOf(o, s);
    e || (t = t.toLowerCase(), o = o.toLowerCase());
    for (let s = a(n); s > -1; s = a(n))
      i.push(s), n = s + r;
  }
  return i;
}
function AD(o, t) {
  return o.hasOwnProperty(t) ? o[t] : void 0;
}
function IC(o, t, e, r) {
  {
    const n = r(o, t) + "";
    return (n === "undefined" || n === "null" ? "" : n.toLowerCase()).includes(e);
  }
}
function MD(o) {
  return o ? `${o}`.toLowerCase() : "";
}
function ID(o, { columns: t, searchVal: e }, r, n) {
  let i = o;
  const a = Object.keys(t);
  if (a.length) {
    const s = r.filter((l) => a.includes(l.name));
    i = i.filter((l) => s.every((u) => {
      const c = t[u.name];
      return IC(u, l, c, n);
    }));
  }
  return e && (i = i.filter((s) => r.some((l) => IC(l, s, e, n)))), i;
}
const FD = Ae({
  name: "BsInputDebounce",
  props: {
    modelValue: {
      type: [String, Number],
      default: null
    },
    valueSearchDebounce: {
      type: [Number, String],
      default: 500
    },
    formatInput: {
      type: Boolean,
      default: !1
    },
    formatInputMethod: {
      type: Function,
      default: MD
    }
  },
  components: { QInput: lf },
  emits: ["update:model-value", "update:loading", "update:formatted-value", "update:no-debounce:formatted-value"],
  data() {
    return {
      inputDebouncing: !1,
      value: null,
      id: KT("bs-input-debounce-")
    };
  },
  watch: {
    modelValue() {
      this.syncModelValue();
    }
  },
  methods: {
    setLoading(o) {
      this.inputDebouncing = o, this.$emit("update:loading", o);
    },
    updateSearchedValue(o) {
      this.$emit("update:model-value", o), this.updateFormattedValue(o);
    },
    updateFormattedValue(o) {
      this.formatInput && this.$emit("update:formatted-value", this.formatInputMethod(o));
    },
    updateValueDebounce(o) {
      this.updateValueNoDebounce(o), this.setLoading(!0), hb(
        () => {
          this.updateSearchedValue(o), this.setLoading(!1);
        },
        +this.valueSearchDebounce,
        this.id
      );
    },
    updateValueNoDebounce(o) {
      this.value = o, this.$emit("update:no-debounce:formatted-value", this.formatInputMethod(o));
    },
    syncModelValue() {
      this.updateValueNoDebounce(this.modelValue), this.updateFormattedValue(this.modelValue);
    }
  },
  mounted() {
    this.syncModelValue();
  }
});
function LD(o, t, e, r, n, i) {
  const a = ce("QInput");
  return se(), be(a, Jr({
    "model-value": o.value,
    "onUpdate:modelValue": o.updateValueDebounce,
    loading: o.inputDebouncing
  }, o.$attrs), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040, ["model-value", "onUpdate:modelValue", "loading"]);
}
const fb = /* @__PURE__ */ Le(FD, [["render", LD]]), ND = Ae({
  name: "BsSearchTable",
  components: {
    QIcon: Ri,
    BsInputDebounce: fb
  },
  data() {
    return {
      searchColIcon: uf
    };
  }
});
const GD = { class: "bs-search-table-container" };
function kD(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("BsInputDebounce");
  return se(), Ge("div", GD, [
    ge(s, Jr({
      width: "190",
      label: "Search items",
      filled: "",
      dense: "",
      "format-input": ""
    }, o.$attrs), Lr({
      append: he(() => [
        ge(a, {
          name: o.searchColIcon,
          size: "1rem"
        }, null, 8, ["name"])
      ]),
      _: 2
    }, [
      $t(o.$slots, (l, u) => ({
        name: u,
        fn: he((c) => [
          We(o.$slots, u, Mt(kt(c || {})), void 0, !0)
        ])
      }))
    ]), 1040)
  ]);
}
const VD = /* @__PURE__ */ Le(ND, [["render", kD], ["__scopeId", "data-v-02144179"]]), BD = Ae({
  name: "BSTableColHeader",
  components: {
    QIcon: Ri,
    QTh: em,
    QMenu: z0,
    QItem: K0,
    QItemSection: Y0,
    QList: X0
  },
  directives: {
    ClosePopup: q0
  },
  emits: ["search-col"],
  data() {
    return {
      mdiArrowUpThin: qT,
      mdiSortAscending: Qp,
      mdiSortDescending: Jp,
      mdiChevronDown: J0,
      searchColIcon: uf,
      noDebounceValue: "",
      sortAsc: !1,
      sorted: !1
    };
  },
  computed: {
    sortable() {
      var o;
      return !!((o = this.col) != null && o._sortable);
    },
    sortColIcon() {
      return this.sortAsc ? Qp : Jp;
    },
    sortText() {
      return this.sortAsc ? "descending" : "ascending";
    }
  },
  props: {
    sort: Function,
    col: Object,
    sortedCol: String
  },
  methods: {
    sortColumn() {
      this.sortable && this.sort && this.sort(this.col), this.sortAsc = this.sorted ? !this.sortAsc : !0;
    },
    searchColumn() {
      var o;
      this.$emit("search-col", (o = this.col) == null ? void 0 : o.name);
    }
  },
  watch: {
    sortedCol(o) {
      var t;
      o === ((t = this.col) == null ? void 0 : t.name) ? (this.sortAsc = this.sorted ? !this.sortAsc : !0, this.sorted = !0) : (this.sorted = !1, this.sortAsc = !1);
    }
  }
});
const HD = (o) => (us("data-v-24b689ca"), o = o(), cs(), o), jD = { class: "bs-table-col-header-container" }, WD = {
  class: "bs-table-col-header-title-container",
  ref: "BsTableColHeaderTitleContainer"
}, $D = { class: "bs-table-col-header-title" }, UD = { class: "bs-table-col-header-title-label" }, zD = { class: "bs-table-col-header-title-icon" }, KD = /* @__PURE__ */ HD(() => /* @__PURE__ */ _e("div", null, "Search", -1)), YD = {
  key: 0,
  class: "bs-table-col-header-data-type"
};
function XD(o, t, e, r, n, i) {
  var p, h, f, v;
  const a = ce("q-icon"), s = ce("q-item-section"), l = ce("q-item"), u = ce("q-list"), c = ce("q-menu"), d = Jy("close-popup");
  return se(), Ge("div", jD, [
    _e("div", WD, [
      _e("div", $D, [
        _e("div", UD, Ot(((p = o.col) == null ? void 0 : p.label) || ((h = o.col) == null ? void 0 : h.name) || ""), 1),
        _e("div", zD, [
          ge(a, {
            name: o.mdiChevronDown,
            size: "1rem"
          }, {
            default: he(() => [
              ge(c, {
                anchor: "bottom middle",
                self: "top middle",
                "transition-show": "scale",
                "transition-hide": "scale",
                offset: [0, 10]
              }, {
                default: he(() => [
                  ge(u, {
                    ref: "BsTableColHeaderActions",
                    class: "bs-table-col-header-actions q-py-xs q-px-sm rounded-borders"
                  }, {
                    default: he(() => [
                      o.sortable ? (se(), be(l, { key: 0 }, {
                        default: he(() => [
                          ge(s, null, {
                            default: he(() => [
                              _e("div", {
                                class: "bs-table-col-header-action-section cursor-pointer",
                                onClick: t[0] || (t[0] = (...g) => o.sortColumn && o.sortColumn(...g))
                              }, [
                                ge(a, {
                                  name: o.sortColIcon,
                                  size: "0.8rem",
                                  class: qr(["sort-icon", { sorted: o.sorted }])
                                }, null, 8, ["name", "class"]),
                                _e("div", null, " Sort " + Ot(o.sortText), 1)
                              ])
                            ]),
                            _: 1
                          })
                        ]),
                        _: 1
                      })) : Re("", !0),
                      qo((se(), be(l, null, {
                        default: he(() => [
                          ge(s, null, {
                            default: he(() => [
                              _e("div", {
                                class: "bs-table-col-header-action-section cursor-pointer",
                                onClick: t[1] || (t[1] = (...g) => o.searchColumn && o.searchColumn(...g))
                              }, [
                                ge(a, {
                                  name: o.searchColIcon,
                                  size: "0.8rem"
                                }, null, 8, ["name"]),
                                KD
                              ])
                            ]),
                            _: 1
                          })
                        ]),
                        _: 1
                      })), [
                        [d]
                      ])
                    ]),
                    _: 1
                  }, 512)
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["name"])
        ])
      ]),
      (f = o.col) != null && f.dataType ? (se(), Ge("div", YD, Ot((v = o.col) == null ? void 0 : v.dataType), 1)) : Re("", !0)
    ], 512)
  ]);
}
const qD = /* @__PURE__ */ Le(BD, [["render", XD], ["__scopeId", "data-v-24b689ca"]]), ZD = Ae({
  name: "BSTableHeader",
  components: {
    QTr: tm,
    QTh: em,
    BsTableColHeader: qD,
    QCheckbox: Z0
  },
  props: {
    props: {
      type: Object,
      required: !0
    },
    selection: String,
    allSelected: {
      type: Boolean,
      default: !1
    },
    loading: Boolean
  },
  data() {
    return {
      sortedCol: "",
      sortedDesc: !1,
      isChecked: !1
    };
  },
  emits: ["search-col", "select-all"],
  methods: {
    activateSearchCol(o) {
      this.$emit("search-col", o);
    },
    sort(o) {
      const t = this.sortedCol;
      this.sortedCol = t !== o.name ? o.name : this.sortedDesc ? "" : o.name, this.sortedDesc = t !== o.name ? !1 : !this.sortedDesc, this.props.sort(o);
    },
    toggleCheckbox() {
      this.$emit("select-all", this.isChecked);
    }
  },
  computed: {
    cols() {
      return this.props.cols.filter((o) => o.name !== "clearAllCol");
    }
  },
  watch: {
    allSelected(o) {
      this.isChecked = o;
    }
  }
});
function QD(o, t, e, r, n, i) {
  const a = ce("q-checkbox"), s = ce("q-th"), l = ce("BsTableColHeader"), u = ce("q-tr");
  return se(), be(u, { props: o.props }, {
    default: he(() => [
      o.selection === "multiple" ? (se(), be(s, {
        "auto-width": "",
        key: "selectAll"
      }, {
        default: he(() => [
          ge(a, {
            modelValue: o.isChecked,
            "onUpdate:modelValue": [
              t[0] || (t[0] = (c) => o.isChecked = c),
              o.toggleCheckbox
            ],
            disable: o.loading
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disable"])
        ]),
        _: 1
      })) : Re("", !0),
      o.selection === "single" ? (se(), be(s, {
        "auto-width": "",
        key: "select"
      })) : Re("", !0),
      (se(!0), Ge(id, null, $t(o.cols, (c) => (se(), be(s, {
        key: c.name,
        props: o.props
      }, {
        default: he(() => [
          ge(l, {
            sort: o.sort,
            col: c,
            "sorted-col": o.sortedCol,
            onSearchCol: o.activateSearchCol
          }, null, 8, ["sort", "col", "sorted-col", "onSearchCol"])
        ]),
        _: 2
      }, 1032, ["props"]))), 128)),
      (se(), be(s, {
        "auto-width": "",
        key: "clearAllCol"
      }))
    ]),
    _: 1
  }, 8, ["props"]);
}
const JD = /* @__PURE__ */ Le(ZD, [["render", QD], ["__scopeId", "data-v-e4895239"]]), eP = Ae({
  name: "BsTextHighlight",
  components: {},
  data() {
    return {};
  },
  props: {
    queries: Array,
    text: [String, Number, Boolean]
  },
  computed: {
    highlightedText() {
      let o = rs(this.text) || YT(this.text) ? "" : XT(`${this.text}`);
      const t = (this.queries || []).filter((u) => !rs(u));
      if (!(o && t.length))
        return o;
      let e = /* @__PURE__ */ new Map([
        [0, { from: [], to: [] }],
        [o.length, { from: [], to: [] }]
      ]);
      t.forEach(
        (u, c) => PD(u, o).forEach((d) => {
          const p = d, h = d + u.length;
          e.has(p) || e.set(p, { from: [], to: [] }), e.has(h) || e.set(h, { from: [], to: [] });
          const f = e.get(p), v = e.get(h);
          f.from.push(c), v.to.push(c);
        })
      );
      const r = Array.from(e.keys()).sort((u, c) => u - c);
      if (!r.length)
        return o;
      const n = r.length - 1, i = [], a = new Array(n).fill("").map((u, c) => o.substring(r[c], r[c + 1]));
      let s = 0;
      for (; s < n; ) {
        const { from: u, to: c } = e.get(r[s]);
        u.forEach((p) => {
          i.includes(p) || i.push(p);
          const h = c.indexOf(p);
          h !== -1 && i.splice(h, 1);
        }), c.forEach((p) => {
          const h = i.indexOf(p);
          h !== -1 && i.splice(h, 1);
        });
        const d = this.createClassesFromQueries(i);
        a[s] = `<span class="text-underline ${d}">${a[s]}</span>`, s++;
      }
      return a.join("");
    }
  },
  methods: {
    createClassesFromQueries(o) {
      return o.map((t) => `resolved-query-${t}`).join(" ");
    }
  }
});
const tP = ["innerHTML"];
function rP(o, t, e, r, n, i) {
  return se(), Ge("span", { innerHTML: o.highlightedText }, null, 8, tP);
}
const FC = /* @__PURE__ */ Le(eP, [["render", rP]]), nP = Ae({
  name: "BsTablePagination",
  components: {
    QBtn: ds
  },
  props: {
    scope: {
      type: Object,
      required: !0
    },
    serverSidePagination: Object,
    startOfThePage: {
      type: Function,
      required: !0
    }
  },
  data() {
    return {
      batchSize: 0,
      batchOffset: 0,
      recordsCount: 0
    };
  },
  computed: {
    pagination() {
      return this.scope.pagination;
    },
    recordsShown() {
      const o = this.pagination.rowsPerPage;
      let t = this.pagination.page * o + this.batchSize * this.batchOffset;
      const e = t - o;
      return this.recordsCount && (t = Math.min(t, this.recordsCount)), `${e} - ${t}`;
    }
  },
  watch: {
    "serverSidePagination.batchOffset"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.batchSize"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.recordsCount"() {
      this.syncServerSidePagination();
    }
  },
  methods: {
    syncServerSidePagination() {
      var o, t, e, r, n;
      rs((o = this.serverSidePagination) == null ? void 0 : o.batchOffset) || (this.batchOffset = this.serverSidePagination.batchOffset), (t = this.serverSidePagination) != null && t.batchSize && (this.batchSize = (e = this.serverSidePagination) == null ? void 0 : e.batchSize), (r = this.serverSidePagination) != null && r.recordsCount && (this.recordsCount = (n = this.serverSidePagination) == null ? void 0 : n.recordsCount);
    },
    executeAndGoToTop(o) {
      o(), this.startOfThePage && this.startOfThePage();
    }
  }
});
const iP = { class: "bs-table-pagination" }, oP = { class: "bs-table-pagination-controls" }, aP = { class: "bs-table-records-info" };
function sP(o, t, e, r, n, i) {
  const a = ce("q-btn");
  return se(), Ge("div", iP, [
    _e("div", oP, [
      o.scope.pagesNumber > 2 ? (se(), be(a, {
        key: 0,
        icon: "first_page",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.scope.isFirstPage,
        onClick: t[0] || (t[0] = (s) => o.executeAndGoToTop(o.scope.firstPage))
      }, null, 8, ["disable"])) : Re("", !0),
      ge(a, {
        icon: "chevron_left",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.scope.isFirstPage,
        onClick: t[1] || (t[1] = (s) => o.executeAndGoToTop(o.scope.prevPage))
      }, null, 8, ["disable"]),
      _e("div", aP, Ot(o.recordsShown), 1),
      ge(a, {
        icon: "chevron_right",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.scope.isLastPage,
        onClick: t[2] || (t[2] = (s) => o.executeAndGoToTop(o.scope.nextPage))
      }, null, 8, ["disable"]),
      o.scope.pagesNumber > 2 ? (se(), be(a, {
        key: 1,
        icon: "last_page",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.scope.isLastPage,
        onClick: t[3] || (t[3] = (s) => o.executeAndGoToTop(o.scope.lastPage))
      }, null, 8, ["disable"])) : Re("", !0)
    ])
  ]);
}
const lP = /* @__PURE__ */ Le(nP, [["render", sP], ["__scopeId", "data-v-4c15147d"]]), uP = Ae({
  name: "BsTableVirtualScrollIndicator",
  components: {
    QLinearProgress: BT
  },
  props: {
    fetchedRowsLength: Number,
    serverSidePagination: Object,
    scrollDetails: Object
  },
  data() {
    return {
      progress: 0,
      showProgressBar: !1
    };
  },
  computed: {},
  methods: {
    updateProgress() {
      hb(() => {
        this.showProgressBar = this.scrollDetails ? this.scrollDetails.scrollHeight > 0 : !1, this.progress = this.showProgressBar && this.scrollDetails ? this.scrollDetails.scrollTop / this.scrollDetails.scrollHeight : 1;
      }, 250, "bs-table-scroll-update-indicator");
    }
  },
  mounted() {
    this.updateProgress();
  },
  watch: {
    "serverSidePagination.batchOffset"() {
      this.updateProgress();
    },
    "serverSidePagination.batchSize"() {
      this.updateProgress();
    },
    "serverSidePagination.recordsCount"() {
      this.updateProgress();
    },
    scrollDetails(o) {
      this.updateProgress();
    }
  }
});
const cP = { class: "bs-table-virtual-scroll-progress-bar" };
function dP(o, t, e, r, n, i) {
  const a = ce("q-linear-progress");
  return se(), Ge("div", {
    class: qr(["bs-table-virtual-scroll", o.showProgressBar && "bs-table-virtual-scroll--active"])
  }, [
    _e("div", cP, [
      ge(a, {
        value: o.progress,
        rounded: "",
        size: "5px"
      }, null, 8, ["value"])
    ])
  ], 2);
}
const pP = /* @__PURE__ */ Le(uP, [["render", dP], ["__scopeId", "data-v-195a0692"]]), hP = Ae({
  name: "BsTableBottom",
  components: {
    BsTablePagination: lP,
    BsTableVirtualScrollIndicator: pP,
    QIcon: Ri
  },
  props: {
    scope: {
      type: Object,
      required: !0
    },
    serverSidePagination: Object,
    searching: Boolean,
    virtualScroll: {
      type: Boolean,
      required: !0
    },
    fetchedRowsLength: Number,
    startOfThePage: {
      type: Function,
      required: !0
    },
    scrollDetails: Object || void 0
  },
  data() {
    return {
      recordsCount: 0,
      mdiAlert: ZT,
      recordsNumber: 0,
      virtualScrollOn: !1
    };
  },
  computed: {
    pagination() {
      return this.scope.pagination;
    },
    isFullDataset() {
      return rs(this.serverSidePagination);
    },
    recordsTotal() {
      if (this.recordsCount)
        return this.recordsCount;
      if (this.isFullDataset)
        return this.fetchedRowsLength;
    }
  },
  watch: {
    "serverSidePagination.recordsCount"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.batchOffset"() {
      this.updateRecordNumber(0);
    },
    scrollDetails(o) {
      this.virtualScrollOn = o.scrollHeight > 0, this.updateRecordNumber(o.index);
    }
  },
  methods: {
    syncServerSidePagination() {
      var o, t;
      (o = this.serverSidePagination) != null && o.recordsCount && (this.recordsCount = (t = this.serverSidePagination) == null ? void 0 : t.recordsCount);
    },
    updateRecordNumber(o) {
      this.serverSidePagination ? this.recordsNumber = o + 1 + this.serverSidePagination.batchOffset * this.serverSidePagination.batchSize : this.fetchedRowsLength ? this.recordsNumber = o + 1 : this.recordsNumber = 0;
    }
  },
  mounted() {
    this.syncServerSidePagination();
  }
});
const fP = (o) => (us("data-v-79b28020"), o = o(), cs(), o), vP = { class: "bs-table-bottom-container" }, gP = /* @__PURE__ */ fP(() => /* @__PURE__ */ _e("div", { class: "bs-table-warning-text" }, "the search is applied only to the sampled records!", -1)), yP = {
  key: 3,
  class: "bs-table-records-total"
}, mP = { key: 0 };
function CP(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("BsTablePagination"), l = ce("BsTableVirtualScrollIndicator");
  return se(), Ge("div", vP, [
    o.isFullDataset ? Re("", !0) : (se(), Ge("div", {
      key: 0,
      class: qr(["bs-table-warning", o.searching && "bs-table-warning-active"])
    }, [
      ge(a, { name: o.mdiAlert }, null, 8, ["name"]),
      gP
    ], 2)),
    o.virtualScroll ? o.virtualScrollOn ? (se(), be(l, {
      key: 2,
      "server-side-pagination": o.serverSidePagination,
      "scroll-details": o.scrollDetails,
      "fetched-rows-length": o.fetchedRowsLength
    }, null, 8, ["server-side-pagination", "scroll-details", "fetched-rows-length"])) : Re("", !0) : (se(), be(s, {
      key: 1,
      scope: o.scope,
      "server-side-pagination": o.serverSidePagination,
      "start-of-the-page": o.startOfThePage
    }, null, 8, ["scope", "server-side-pagination", "start-of-the-page"])),
    o.recordsTotal && o.virtualScroll ? (se(), Ge("div", yP, [
      o.virtualScrollOn ? (se(), Ge("span", mP, Ot(o.recordsNumber) + " on  ", 1)) : Re("", !0),
      $0(Ot(o.recordsTotal) + " rows", 1)
    ])) : Re("", !0)
  ]);
}
const SP = /* @__PURE__ */ Le(hP, [["render", CP], ["__scopeId", "data-v-79b28020"]]), wP = Ae({
  name: "default",
  components: {
    QBtn: ds
  },
  emits: ["update:batch-offset"],
  data() {
    return {
      batchSize: 0,
      batchOffset: 0,
      recordsCount: 0
    };
  },
  props: {
    serverSidePagination: Object
  },
  computed: {
    sampleFrom() {
      return this.batchSize * this.batchOffset;
    },
    sampleTo() {
      let o = this.sampleFrom + this.batchSize;
      return this.recordsCount && (o = Math.min(o, this.recordsCount)), o;
    },
    isFirstBatch() {
      return this.batchOffset === 0;
    },
    isLastBatch() {
      return !(rs(this.lastBatchIndex) || this.batchOffset !== this.lastBatchIndex);
    },
    lastBatchIndex() {
      if (this.recordsCount && this.batchSize)
        return Math.floor((this.recordsCount - 1) / this.batchSize);
    }
  },
  watch: {
    "serverSidePagination.batchOffset"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.batchSize"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.recordsCount"() {
      this.syncServerSidePagination();
    }
  },
  methods: {
    prevBatch() {
      this.changeCurrentBatchOffsetBy(-1);
    },
    nextBatch() {
      this.changeCurrentBatchOffsetBy(1);
    },
    changeCurrentBatchOffsetBy(o) {
      this.$emit("update:batch-offset", this.batchOffset + o);
    },
    syncServerSidePagination() {
      var o, t, e, r, n;
      rs((o = this.serverSidePagination) == null ? void 0 : o.batchOffset) || (this.batchOffset = this.serverSidePagination.batchOffset), (t = this.serverSidePagination) != null && t.batchSize && (this.batchSize = (e = this.serverSidePagination) == null ? void 0 : e.batchSize), (r = this.serverSidePagination) != null && r.recordsCount && (this.recordsCount = (n = this.serverSidePagination) == null ? void 0 : n.recordsCount);
    }
  },
  mounted() {
    this.syncServerSidePagination();
  }
});
const _P = (o) => (us("data-v-b7be3388"), o = o(), cs(), o), bP = {
  key: 0,
  class: "bs-table-server-side-pagination"
}, EP = { class: "bs-table-server-side-pagination-controls" }, OP = { class: "bs-table-server-side-pagination-offset" }, xP = /* @__PURE__ */ _P(() => /* @__PURE__ */ _e("div", { class: "bs-table-server-side-pagination-label" }, " sampled rows ", -1));
function TP(o, t, e, r, n, i) {
  const a = ce("q-btn");
  return o.lastBatchIndex !== 0 ? (se(), Ge("div", bP, [
    _e("div", EP, [
      ge(a, {
        icon: "chevron_left",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.isFirstBatch,
        onClick: o.prevBatch
      }, null, 8, ["disable", "onClick"]),
      _e("div", OP, Ot(o.sampleFrom) + " - " + Ot(o.sampleTo), 1),
      ge(a, {
        icon: "chevron_right",
        color: "grey-8",
        round: "",
        dense: "",
        flat: "",
        disable: o.isLastBatch,
        onClick: o.nextBatch
      }, null, 8, ["disable", "onClick"])
    ]),
    xP
  ])) : Re("", !0);
}
const RP = /* @__PURE__ */ Le(wP, [["render", TP], ["__scopeId", "data-v-b7be3388"]]), DP = Ae({
  name: "BsSearchTableCol",
  components: { BsInputDebounce: fb, QIcon: Ri },
  props: {
    icon: String,
    clear: Boolean,
    colName: String,
    searchedCols: Object
  },
  data() {
    return {
      value: null,
      mdiTrashCanOutline: rm
    };
  },
  emits: ["clear-search"],
  watch: {
    clear() {
      this.value = null;
    },
    searchedCols(o) {
      this.colName && o.hasOwnProperty(this.colName) ? this.value = o[this.colName] : this.value = "";
    }
  },
  methods: {
    clearField() {
      this.$emit("clear-search", this.colName);
    }
  }
});
const PP = { class: "bs-search-table-col-search-box" };
function AP(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("BsInputDebounce");
  return se(), Ge("div", PP, [
    ge(s, Jr({
      class: "bs-search-table-col-input",
      width: "102",
      label: "Search",
      clearable: "",
      "clear-icon": "close",
      borderless: "",
      dense: "",
      "format-input": "",
      autofocus: "",
      modelValue: o.value,
      "onUpdate:modelValue": t[0] || (t[0] = (l) => o.value = l)
    }, o.$attrs), Lr({
      prepend: he(() => [
        ge(a, {
          name: o.icon,
          size: "1rem"
        }, null, 8, ["name"])
      ]),
      _: 2
    }, [
      $t(o.$slots, (l, u) => ({
        name: u,
        fn: he((c) => [
          We(o.$slots, u, Mt(kt(c || {})), void 0, !0)
        ])
      }))
    ]), 1040, ["modelValue"]),
    _e("div", null, [
      ge(a, {
        name: o.mdiTrashCanOutline,
        onClick: o.clearField,
        size: "1rem",
        class: "cursor-pointer"
      }, null, 8, ["name", "onClick"])
    ])
  ]);
}
const MP = /* @__PURE__ */ Le(DP, [["render", AP], ["__scopeId", "data-v-79755b04"]]), IP = Ae({
  name: "BSTableSearchHeader",
  components: {
    QTr: tm,
    QTh: em,
    BsSearchTableCol: MP
  },
  props: {
    props: {
      type: Object,
      required: !0
    },
    searchedCols: Object,
    searchedCol: String || void 0,
    selectionOn: Boolean
  },
  emits: ["search-col", "clear-all"],
  data() {
    return {
      noDebounceValue: "",
      searchColIcon: uf
    };
  },
  watch: {
    searchedCol(o) {
      o && this.activateSearchCol(o);
    }
  },
  methods: {
    activateSearchCol(o) {
      var t;
      (t = this.searchedCols) != null && t.hasOwnProperty(o) || this.$emit("search-col", o, "");
    },
    searchColumn(o, t) {
      this.$emit("search-col", o, t);
    },
    clearAll() {
      this.$emit("clear-all");
    }
  },
  computed: {
    noSearches() {
      return Q0(this.searchedCols);
    },
    cols() {
      return this.props.cols.filter((o) => o.name !== "clearAllCol");
    }
  }
});
const FP = { class: "bs-table-search-header" };
function LP(o, t, e, r, n, i) {
  const a = ce("q-th"), s = ce("BsSearchTableCol"), l = ce("q-tr");
  return o.noSearches ? Re("", !0) : (se(), be(l, {
    key: 0,
    props: o.props
  }, {
    default: he(() => [
      o.selectionOn ? (se(), be(a, {
        key: 0,
        "auto-width": ""
      })) : Re("", !0),
      (se(!0), Ge(id, null, $t(o.cols, (u) => (se(), be(a, {
        key: u.name,
        style: ts({ "text-align": u.align ? u.align : "left" })
      }, {
        default: he(() => {
          var c;
          return [
            _e("div", FP, [
              (c = o.searchedCols) != null && c.hasOwnProperty(u.name) ? (se(), be(s, {
                key: 0,
                icon: o.searchColIcon,
                searchedCols: o.searchedCols,
                "col-name": u.name,
                "onUpdate:formattedValue": (d) => o.searchColumn(u.name, d),
                "onUpdate:noDebounce:formattedValue": t[0] || (t[0] = (d) => o.noDebounceValue = d),
                onClearSearch: (d) => o.searchColumn(u.name, null)
              }, null, 8, ["icon", "searchedCols", "col-name", "onUpdate:formattedValue", "onClearSearch"])) : Re("", !0)
            ])
          ];
        }),
        _: 2
      }, 1032, ["style"]))), 128)),
      o.noSearches ? Re("", !0) : (se(), be(a, { key: "clearAllCol" }, {
        default: he(() => [
          _e("span", {
            onClick: t[1] || (t[1] = (...u) => o.clearAll && o.clearAll(...u)),
            class: "bs-table-header-clear-all-btn"
          }, " Clear all ")
        ]),
        _: 1
      }))
    ]),
    _: 1
  }, 8, ["props"]));
}
const NP = /* @__PURE__ */ Le(IP, [["render", LP], ["__scopeId", "data-v-7f9a0bde"]]), GP = Ae({
  name: "BsTable",
  components: {
    QTable: HT,
    QTr: tm,
    QTd: jT,
    QBtn: ds,
    BsDSSTableFunctional: TD,
    BsSearchWholeTable: VD,
    BSTableHeader: JD,
    BsTextHighlight: FC,
    BsTableBottom: SP,
    BsTableServerSidePagination: RP,
    BSTableSearchHeader: NP
  },
  emits: ["update:rows", "update:columns", "update:loading", "update:server-side-pagination", "virtual-scroll", "update:selection"],
  inheritAttrs: !1,
  props: {
    dssTableName: String,
    title: String,
    serverSidePagination: [Object, Boolean],
    loading: {
      type: Boolean,
      default: !1
    },
    rows: Array,
    columns: Array,
    virtualScroll: {
      type: Boolean,
      default: !0
    },
    stickyHeader: {
      type: Boolean,
      default: !0
    },
    globalSearch: {
      type: Boolean,
      default: !0
    },
    serverSidePaginationControls: {
      type: Boolean,
      default: !0
    },
    style: [Object, String],
    class: [Array, String],
    filters: Object,
    selection: {
      type: String,
      default: void 0
    },
    rowKey: String
  },
  data() {
    return {
      searching: !1,
      fetching: !1,
      searchedCols: {},
      searchedCol: void 0,
      searchedValue: null,
      searchedValueFormatted: "",
      _serverSidePagination: void 0,
      _rows: void 0,
      _columns: void 0,
      lastBatchIndex: -1,
      scrollDetails: { from: 0 },
      passedRowsLength: 0,
      tableEl: void 0,
      mdiCloseCircleMultiple: QT,
      selectedRowsByBatch: {},
      selected: [],
      allSelected: {},
      prevBatchIndex: 0
    };
  },
  computed: {
    isDSSTable() {
      return this.dssTableName !== void 0;
    },
    isLoading() {
      return this.loading || this.searching || this.fetching;
    },
    anyColumnSearched() {
      return !(!this.searchedValue && Q0(this.searchedCols));
    },
    isServerSidePaginationObject() {
      return typeof this.serverSidePagination != "boolean";
    },
    passedRows() {
      return this.isDSSTable ? this._rows : this.rows;
    },
    passedColumns() {
      return this.isDSSTable ? this._columns : this.columns;
    },
    colSlotsUsed() {
      if (this.passedColumns)
        return this.passedColumns.filter((o) => this.colBodySlotUsed(o));
    },
    formattedColumns() {
      if (this.passedColumns) {
        const o = this.passedColumns.map((e) => ca(Kt({}, e), { sortable: !1, _sortable: e.sortable })), t = {
          name: "clearAllCol",
          required: !0,
          label: "",
          field: "",
          sortable: !1,
          _sortable: !1
        };
        return o.push(t), o;
      }
    },
    filter() {
      return {
        columns: this.searchedCols,
        searchVal: this.searchedValueFormatted
      };
    },
    classParsed() {
      let o = this.class || "";
      return typeof o == "string" && (o = [o]), o;
    },
    tableClasses() {
      return ["bs-table", this.stickyHeader && "bs-table-sticky"];
    },
    filteredSlots() {
      const o = ["top"];
      return Object.fromEntries(
        Object.entries(this.$slots).filter(
          ([t]) => !(o.includes(t) || t.includes("body-cell"))
        )
      );
    },
    selectionOn() {
      return this.selection === "multiple" || this.selection === "single";
    },
    allSelectedBatch() {
      return rs(this.allSelected[this.currentBatchIndex]) ? !1 : this.allSelected[this.currentBatchIndex];
    },
    currentBatchIndex() {
      var o;
      return this.isLoading ? this.prevBatchIndex : ((o = this._serverSidePagination) == null ? void 0 : o.batchOffset) || 0;
    }
  },
  watch: {
    "serverSidePagination.batchOffset"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.batchSize"() {
      this.syncServerSidePagination();
    },
    "serverSidePagination.recordsCount"() {
      this.syncServerSidePagination();
    },
    "passedRows.length"(o) {
      this.passedRowsLength = o;
    },
    isLoading(o) {
      this.$emit("update:loading", o);
    },
    selected(o) {
      var e, r, n;
      this.selectedRowsByBatch[this.currentBatchIndex] = this.passedRows ? this.passedRows.filter((i) => o.findIndex((a) => a[this.rowKey] === i[this.rowKey]) >= 0) : [], ((e = this.selectedRowsByBatch[this.currentBatchIndex]) == null ? void 0 : e.length) === ((r = this.passedRows) == null ? void 0 : r.length) ? this.allSelected[this.currentBatchIndex] = !0 : ((n = this.selectedRowsByBatch[this.currentBatchIndex]) == null ? void 0 : n.length) === 0 ? this.allSelected[this.currentBatchIndex] = !1 : this.allSelected[this.currentBatchIndex] = null, this.$emit("update:selection", this.selected);
    }
  },
  methods: {
    updateDSSRows(o) {
      o || (o = []);
      const { batchSize: t, batchOffset: e } = this._serverSidePagination, r = Object.keys(o).length;
      if (r < t) {
        const n = {};
        n.recordsCount = e * t + r, r == 0 && (n.batchOffset = e - 1), this.setServerSidePagination(n, !0);
      }
      this._rows = o, this.$emit("update:rows", this._rows);
    },
    updateDSSColumns(o) {
      this._columns = o, this.$emit("update:columns", this._columns);
    },
    searchTableFilter(...o) {
      return ID(...o);
    },
    updateSearchedCols(o, t) {
      t == null ? (delete this.searchedCols[o], o === this.searchedCol && (this.searchedCol = void 0)) : this.searchedCols[o] = t;
    },
    searchCol(o) {
      this.searchedCol = o;
    },
    colBodySlotUsed(o) {
      return this.$slots.hasOwnProperty(this.getColBodySlot(o));
    },
    getColBodySlot(o) {
      return `body-cell-${o.name}`;
    },
    getColSearchedValue(o) {
      return AD(this.searchedCols, o);
    },
    setBatchOffset(o, t = !1) {
      this.setServerSidePagination({ batchOffset: o }, t), this.startOfTheTable();
    },
    setBatchSize(o, t = !1) {
      this.setServerSidePagination({ batchSize: o }, t);
    },
    setRecordsCount(o, t = !1) {
      this.setServerSidePagination({ recordsCount: o }, t);
    },
    setServerSidePagination(o, t = !1) {
      this.prevBatchIndex = this.currentBatchIndex, o = Kt({}, o), Object.entries(o).forEach(([e, r]) => {
        r < 0 && (r = 0), o[e] = r, this._serverSidePagination[e] = r;
      }), t && this.$emit("update:server-side-pagination", o);
    },
    syncServerSidePagination() {
      this.isServerSidePaginationObject && this.setServerSidePagination(this.serverSidePagination);
    },
    createServerSidePagination() {
      this._serverSidePagination = {
        batchOffset: 0,
        batchSize: 100,
        recordsCount: void 0
      };
    },
    clearAllSearch() {
      this.searchedValue = null, this.searchedCol = void 0, this.searchedCols = {};
    },
    onVirtualScroll(o) {
      var e;
      const t = (e = this.tableEl) == null ? void 0 : e.getElementsByClassName("q-table__middle")[0];
      this.scrollDetails = ca(Kt({}, o), { scrollHeight: t.scrollHeight - t.clientHeight, scrollTop: t.scrollTop }), this.$emit("virtual-scroll", this.scrollDetails);
    },
    startOfTheTable() {
      this.virtualScroll || this.firstPage(), this.startOfThePage();
    },
    startOfThePage() {
      this.scrollTo(0);
    },
    firstPage() {
      return this.$refs.qTable.firstPage();
    },
    scrollTo(o, t) {
      return this.$refs.qTable.scrollTo(o, t);
    },
    getBodyCellProps(o) {
      return ca(Kt({}, o), {
        cellValueComponent: FC,
        cellValueComponentProps: {
          queries: [this.searchedValueFormatted, this.getColSearchedValue(o.col.name)],
          text: o.value
        }
      });
    },
    selectAllHandler(o) {
      if (o && this.passedRows && this.allSelectedBatch != null)
        this.selectedRowsByBatch[this.currentBatchIndex] = [...this.passedRows], this.selected = [...this.selected, ...this.passedRows];
      else {
        this.selectedRowsByBatch[this.currentBatchIndex] = [];
        const t = [];
        Object.values(this.selectedRowsByBatch).forEach((e) => t.push(...e)), this.selected = t;
      }
    }
  },
  mounted() {
    var o, t;
    (this.dssTableName || this.serverSidePagination) && (this.createServerSidePagination(), this.syncServerSidePagination()), this.passedRowsLength = ((o = this.passedRows) == null ? void 0 : o.length) || 0, this.tableEl = (t = this.$refs.qTable) == null ? void 0 : t.$el;
  }
});
const kP = (o) => (us("data-v-1142bfea"), o = o(), cs(), o), VP = { class: "bs-table-top-container bs-table-name bordered" }, BP = { key: 1 }, HP = { class: "bs-table-search-container bordered" }, jP = { class: "bs-table-top-slot-container bordered" }, WP = /* @__PURE__ */ kP(() => /* @__PURE__ */ _e("div", { class: "my-table-details" }, null, -1));
function $P(o, t, e, r, n, i) {
  const a = ce("BsDSSTableFunctional"), s = ce("BsSearchWholeTable"), l = ce("q-btn"), u = ce("BsTableServerSidePagination"), c = ce("BsTextHighlight"), d = ce("q-td"), p = ce("BSTableHeader"), h = ce("BSTableSearchHeader"), f = ce("BsTableBottom"), v = ce("QTable");
  return se(), Ge(id, null, [
    o.isDSSTable ? (se(), be(a, {
      key: 0,
      "dss-table-name": o.dssTableName,
      "server-side-pagination": o._serverSidePagination,
      filters: o.filters,
      "onUpdate:fetching": t[0] || (t[0] = (g) => o.fetching = g),
      "onUpdate:rows": o.updateDSSRows,
      "onUpdate:columns": o.updateDSSColumns,
      "onUpdate:columnsCount": t[1] || (t[1] = (g) => o.setRecordsCount(g, !0))
    }, null, 8, ["dss-table-name", "server-side-pagination", "filters", "onUpdate:rows", "onUpdate:columns"])) : Re("", !0),
    ge(v, Jr({
      ref: "qTable",
      rows: o.passedRows,
      columns: o.formattedColumns,
      filter: o.filter,
      "filter-method": o.searchTableFilter,
      loading: o.isLoading
    }, o.$attrs, {
      "header-align": "left",
      "virtual-scroll": o.virtualScroll,
      "rows-per-page-options": o.virtualScroll ? [0] : void 0,
      class: [...o.classParsed, ...o.tableClasses],
      onVirtualScroll: o.onVirtualScroll,
      selected: o.selected,
      "onUpdate:selected": t[6] || (t[6] = (g) => o.selected = g),
      selection: o.selection,
      "row-key": o.rowKey
    }), Lr({
      top: he(() => [
        _e("div", VP, [
          o.$slots.title ? We(o.$slots, "title", { key: 0 }, void 0, !0) : (se(), Ge("span", BP, Ot(o.title || o.dssTableName || ""), 1))
        ]),
        _e("div", HP, [
          o.globalSearch ? (se(), be(s, {
            key: 0,
            modelValue: o.searchedValue,
            "onUpdate:modelValue": t[2] || (t[2] = (g) => o.searchedValue = g),
            "onUpdate:formattedValue": t[3] || (t[3] = (g) => o.searchedValueFormatted = g),
            "onUpdate:loading": t[4] || (t[4] = (g) => o.searching = g)
          }, null, 8, ["modelValue"])) : Re("", !0),
          _e("div", {
            class: qr(["bs-table-clear-all-btn", o.anyColumnSearched && "bs-table-clear-all-btn--active"])
          }, [
            ge(l, {
              flat: "",
              round: "",
              color: "primary",
              icon: o.mdiCloseCircleMultiple,
              onClick: o.clearAllSearch
            }, null, 8, ["icon", "onClick"])
          ], 2)
        ]),
        o._serverSidePagination && o.serverSidePaginationControls && o.passedColumns ? (se(), be(u, {
          key: 0,
          "server-side-pagination": o._serverSidePagination,
          "onUpdate:batchOffset": t[5] || (t[5] = (g) => o.setBatchOffset(g, !0)),
          class: "bordered"
        }, null, 8, ["server-side-pagination"])) : Re("", !0),
        _e("div", jP, [
          We(o.$slots, "top", {}, void 0, !0)
        ])
      ]),
      "body-cell": he((g) => [
        o.$slots.hasOwnProperty("body-cell") ? We(o.$slots, "body-cell", Mt(Jr({ key: 0 }, o.getBodyCellProps(g))), void 0, !0) : (se(), be(d, {
          key: 1,
          props: g
        }, {
          default: he(() => [
            ge(c, {
              queries: [o.searchedValueFormatted, o.getColSearchedValue(g.col.name)],
              text: g.value
            }, null, 8, ["queries", "text"])
          ]),
          _: 2
        }, 1032, ["props"]))
      ]),
      "body-cell-clearAllCol": he((g) => [
        ge(d, { props: g }, {
          default: he(() => [
            WP
          ]),
          _: 2
        }, 1032, ["props"])
      ]),
      header: he((g) => [
        o.passedColumns ? (se(), be(p, {
          key: 0,
          props: g,
          onSearchCol: o.searchCol,
          onSelectAll: o.selectAllHandler,
          loading: o.isLoading,
          selection: o.selection,
          "all-selected": o.allSelectedBatch
        }, null, 8, ["props", "onSearchCol", "onSelectAll", "loading", "selection", "all-selected"])) : Re("", !0),
        o.passedColumns ? (se(), be(h, {
          key: 1,
          class: "bordered",
          props: g,
          "searched-cols": o.searchedCols,
          "searched-col": o.searchedCol,
          "selection-on": o.selectionOn,
          onSearchCol: o.updateSearchedCols,
          onClearAll: o.clearAllSearch
        }, null, 8, ["props", "searched-cols", "searched-col", "selection-on", "onSearchCol", "onClearAll"])) : Re("", !0)
      ]),
      bottom: he((g) => [
        ge(f, {
          scope: g,
          "server-side-pagination": o._serverSidePagination,
          "start-of-the-page": o.startOfThePage,
          searching: o.anyColumnSearched,
          "virtual-scroll": o.virtualScroll,
          "scroll-details": o.scrollDetails,
          "fetched-rows-length": o.passedRowsLength
        }, null, 8, ["scope", "server-side-pagination", "start-of-the-page", "searching", "virtual-scroll", "scroll-details", "fetched-rows-length"])
      ]),
      _: 2
    }, [
      $t(o.colSlotsUsed, (g) => ({
        name: o.getColBodySlot(g),
        fn: he((y) => [
          We(o.$slots, o.getColBodySlot(g), Mt(kt(o.getBodyCellProps(y))), void 0, !0)
        ])
      })),
      $t(o.filteredSlots, (g, y) => ({
        name: y,
        fn: he((m) => [
          We(o.$slots, y, Mt(kt(m || {})), void 0, !0)
        ])
      }))
    ]), 1040, ["rows", "columns", "filter", "filter-method", "loading", "virtual-scroll", "rows-per-page-options", "class", "onVirtualScroll", "selected", "selection", "row-key"])
  ], 64);
}
const UP = /* @__PURE__ */ Le(GP, [["render", $P], ["__scopeId", "data-v-1142bfea"]]), zP = Ae({
  name: "BsImg",
  components: {
    QImg: WT
  }
});
function KP(o, t, e, r, n, i) {
  const a = ce("QImg");
  return se(), be(a, Mt(kt(o.$attrs)), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const YP = /* @__PURE__ */ Le(zP, [["render", KP]]), XP = Ae({
  name: "BsIcon",
  components: {
    QIcon: Ri
  }
});
function qP(o, t, e, r, n, i) {
  const a = ce("QIcon");
  return se(), be(a, Mt(kt(o.$attrs)), Lr({ _: 2 }, [
    $t(o.$slots, (s, l) => ({
      name: l,
      fn: he((u) => [
        We(o.$slots, l, Mt(kt(u || {})))
      ])
    }))
  ]), 1040);
}
const ZP = /* @__PURE__ */ Le(XP, [["render", qP]]), QP = Ae({
  name: "BsCheckbox",
  components: {
    QCheckbox: Z0
  },
  props: {
    hint: {
      type: String
    }
  },
  computed: {
    labelFromHint() {
      return this.$attrs.label ? this.$attrs.label : this.hint ? this.hint : null;
    },
    isHintOnly() {
      return !this.$attrs.label && this.hint;
    },
    isDisabled() {
      return this.$attrs.disable != null;
    }
  }
}), JP = {
  key: 0,
  class: "dku-tiny-text bs-checkbox__hint"
};
function eA(o, t, e, r, n, i) {
  const a = ce("QCheckbox");
  return se(), Ge("div", {
    class: qr(["bs-checkbox", { hint: o.isHintOnly, disabled: o.isDisabled }])
  }, [
    ge(a, Jr(o.$attrs, {
      size: "29.57px",
      tabindex: 0,
      label: o.labelFromHint
    }), Lr({ _: 2 }, [
      $t(o.$slots, (s, l) => ({
        name: l,
        fn: he((u) => [
          We(o.$slots, l, Mt(kt(u || {})))
        ])
      }))
    ]), 1040, ["label"]),
    o.hint && o.$attrs.label ? (se(), Ge("div", JP, Ot(o.hint), 1)) : Re("", !0)
  ], 2);
}
const tA = /* @__PURE__ */ Le(QP, [["render", eA]]), rA = Ae({
  name: "BsDateRange",
  components: {
    QInput: lf,
    QDate: $T,
    QPopupProxy: UT,
    QIcon: Ri,
    QBtn: ds
  },
  props: {
    bsLabel: {
      type: String
    }
  },
  computed: {
    inputValue() {
      return this.$attrs.modelValue && this.$attrs.modelValue.from && this.$attrs.modelValue.to ? this.$attrs.modelValue.from + " - " + this.$attrs.modelValue.to : "";
    }
  }
}), nA = {
  key: 0,
  class: "bs-date-range__label dss-caption-400 q-mb-xs"
}, iA = { class: "row items-center justify-end" };
function oA(o, t, e, r, n, i) {
  const a = ce("QBtn"), s = ce("QDate"), l = ce("QPopupProxy"), u = ce("QIcon"), c = ce("QInput"), d = Jy("close-popup");
  return se(), Ge("div", null, [
    o.bsLabel ? (se(), Ge("label", nA, Ot(o.bsLabel), 1)) : Re("", !0),
    ge(c, {
      dense: "",
      outlined: "",
      readonly: "",
      modelValue: o.inputValue,
      "onUpdate:modelValue": t[0] || (t[0] = (p) => o.inputValue = p)
    }, {
      append: he(() => [
        ge(u, {
          name: "event",
          class: "cursor-pointer"
        }, {
          default: he(() => [
            ge(l, {
              cover: "",
              "transition-show": "scale",
              "transition-hide": "scale"
            }, {
              default: he(() => [
                ge(s, Jr({ range: "" }, o.$attrs), {
                  default: he(() => [
                    _e("div", iA, [
                      qo(ge(a, {
                        label: "Close",
                        color: "primary",
                        flat: ""
                      }, null, 512), [
                        [d]
                      ])
                    ])
                  ]),
                  _: 1
                }, 16)
              ]),
              _: 1
            })
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])
  ]);
}
const aA = /* @__PURE__ */ Le(rA, [["render", oA]]);
/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.6
          * @link https://www.ag-grid.com/
          * @license MIT
          */
function $o(o) {
  return o == null || o === "" ? null : o;
}
function z(o, t) {
  return t === void 0 && (t = !1), o != null && (o !== "" || t);
}
function me(o) {
  return !z(o);
}
function Kr(o) {
  return o == null || o.length === 0;
}
function Bc(o) {
  return o != null && typeof o.toString == "function" ? o.toString() : null;
}
function yn(o) {
  if (o !== void 0) {
    if (o === null || o === "")
      return null;
    if (typeof o == "number")
      return isNaN(o) ? void 0 : o;
    var t = parseInt(o, 10);
    return isNaN(t) ? void 0 : t;
  }
}
function pi(o) {
  if (o !== void 0)
    return o === null || o === "" ? !1 : typeof o == "boolean" ? o : /true/i.test(o);
}
function sA(o) {
  if (!(o == null || o === ""))
    return o;
}
function lA(o, t) {
  return o == null && t == null ? !0 : o == null && t != null || o != null && t == null ? !1 : o === t;
}
function uA(o, t) {
  var e = o ? JSON.stringify(o) : null, r = t ? JSON.stringify(t) : null;
  return e === r;
}
function cA(o, t, e) {
  e === void 0 && (e = !1);
  var r = o == null, n = t == null;
  if (o && o.toNumber && (o = o.toNumber()), t && t.toNumber && (t = t.toNumber()), r && n)
    return 0;
  if (r)
    return -1;
  if (n)
    return 1;
  function i(a, s) {
    return a > s ? 1 : a < s ? -1 : 0;
  }
  if (typeof o != "string" || !e)
    return i(o, t);
  try {
    return o.localeCompare(t);
  } catch (a) {
    return i(o, t);
  }
}
function qa(o) {
  if (o instanceof Set || o instanceof Map) {
    var t = [];
    return o.forEach(function(e) {
      return t.push(e);
    }), t;
  }
  return Object.values(o);
}
var dA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  makeNull: $o,
  exists: z,
  missing: me,
  missingOrEmpty: Kr,
  toStringOrNull: Bc,
  attrToNumber: yn,
  attrToBoolean: pi,
  attrToString: sA,
  referenceCompare: lA,
  jsonEquals: uA,
  defaultComparator: cA,
  values: qa
}), pA = (
  /** @class */
  function() {
    function o() {
      this.existingKeys = {};
    }
    return o.prototype.addExistingKeys = function(t) {
      for (var e = 0; e < t.length; e++)
        this.existingKeys[t[e]] = !0;
    }, o.prototype.getUniqueKey = function(t, e) {
      t = Bc(t);
      for (var r = 0; ; ) {
        var n = void 0;
        if (t ? (n = t, r !== 0 && (n += "_" + r)) : e ? (n = e, r !== 0 && (n += "_" + r)) : n = "" + r, !this.existingKeys[n])
          return this.existingKeys[n] = !0, n;
        r++;
      }
    }, o;
  }()
);
function ut(o, t) {
  o != null && (Array.isArray(o) ? o.forEach(function(e, r) {
    return t("" + r, e);
  }) : Object.keys(o).forEach(function(e) {
    return t(e, o[e]);
  }));
}
function sm(o) {
  for (var t = {}, e = Object.keys(o), r = 0; r < e.length; r++) {
    var n = e[r], i = o[n];
    t[n] = i;
  }
  return t;
}
function hA(o) {
  return JSON.parse(JSON.stringify(o));
}
function eh(o, t) {
  if (o) {
    var e = o, r = {};
    return Object.keys(e).forEach(function(n) {
      if (!(t && t.indexOf(n) >= 0)) {
        var i = e[n], a = th(i) && i.constructor === Object;
        a ? r[n] = eh(i) : r[n] = i;
      }
    }), r;
  }
}
function vb(o, t) {
  return o[t];
}
function gb(o, t, e) {
  o[t] = e;
}
function fA(o, t) {
  for (var e = [], r = 2; r < arguments.length; r++)
    e[r - 2] = arguments[r];
  e.forEach(function(n) {
    return yb(o, t, n);
  });
}
function yb(o, t, e, r) {
  var n = vb(o, e);
  n !== void 0 && gb(t, e, r ? r(n) : n);
}
function mb(o) {
  var t = {};
  return o.filter(function(e) {
    return e != null;
  }).forEach(function(e) {
    Object.keys(e).forEach(function(r) {
      return t[r] = null;
    });
  }), Object.keys(t);
}
function Ei(o) {
  if (!o)
    return [];
  var t = Object;
  if (typeof t.values == "function")
    return t.values(o);
  var e = [];
  for (var r in o)
    o.hasOwnProperty(r) && o.propertyIsEnumerable(r) && e.push(o[r]);
  return e;
}
function Zr(o, t, e, r) {
  e === void 0 && (e = !0), r === void 0 && (r = !1), z(t) && ut(t, function(n, i) {
    var a = o[n];
    if (a !== i) {
      if (r) {
        var s = a == null && i != null;
        if (s) {
          var l = typeof i == "object" && i.constructor === Object, u = l;
          u && (a = {}, o[n] = a);
        }
      }
      th(i) && th(a) && !Array.isArray(a) ? Zr(a, i, e, r) : (e || i !== void 0) && (o[n] = i);
    }
  });
}
function vA(o) {
  return me(o) || Object.keys(o).length === 0;
}
function gA(o, t, e) {
  if (o == null)
    return e;
  for (var r = t.split("."), n = o; r.length > 1; )
    if (n = n[r.shift()], n == null)
      return e;
  var i = n[r[0]];
  return i != null ? i : e;
}
function yA(o, t, e) {
  if (o != null) {
    var r = t.split("."), n = o;
    r.forEach(function(i, a) {
      n[i] || (n[i] = {}), a < r.length - 1 && (n = n[i]);
    }), n[r[r.length - 1]] = e;
  }
}
function Il(o, t, e) {
  if (!(!t || !o)) {
    if (!e)
      return o[t];
    for (var r = t.split("."), n = o, i = 0; i < r.length; i++) {
      if (n == null)
        return;
      n = n[r[i]];
    }
    return n;
  }
}
function Cb(o, t) {
  Object.keys(o).forEach(function(n) {
    var i = o[n];
    typeof i == "object" && (o[n] = void 0);
  });
  var e = Object.getPrototypeOf(o), r = {};
  Object.keys(e).forEach(function(n) {
    var i = e[n];
    if (typeof i == "function") {
      var a = function() {
        console.warn("AG Grid: " + t + " function " + n + `() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`);
      };
      r[n] = { value: a, writable: !0 };
    }
  }), Object.defineProperties(o, r);
}
function th(o) {
  return typeof o == "object" && o !== null;
}
var mA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  iterateObject: ut,
  cloneObject: sm,
  deepCloneObject: hA,
  deepCloneDefinition: eh,
  getProperty: vb,
  setProperty: gb,
  copyPropertiesIfPresent: fA,
  copyPropertyIfPresent: yb,
  getAllKeysInObjects: mb,
  getAllValuesInObject: Ei,
  mergeDeep: Zr,
  missingOrEmptyObject: vA,
  get: gA,
  set: yA,
  getValueUsingField: Il,
  removeAllReferences: Cb,
  isNonNullObject: th
}), LC = {};
function ze(o, t) {
  LC[t] || (o(), LC[t] = !0);
}
function cf(o) {
  if (o.name)
    return o.name;
  var t = /function\s+([^\(]+)/.exec(o.toString());
  return t && t.length === 2 ? t[1].trim() : null;
}
function df(o) {
  return !!(o && o.constructor && o.call && o.apply);
}
function Sb(o) {
  wb(o, 400);
}
var zf = [], Kf = !1;
function Zg(o) {
  zf.push(o), !Kf && (Kf = !0, window.setTimeout(function() {
    var t = zf.slice();
    zf.length = 0, Kf = !1, t.forEach(function(e) {
      return e();
    });
  }, 0));
}
function wb(o, t) {
  t === void 0 && (t = 0), o.length > 0 && window.setTimeout(function() {
    return o.forEach(function(e) {
      return e();
    });
  }, t);
}
function mi(o, t) {
  var e;
  return function() {
    for (var r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    var i = this;
    window.clearTimeout(e), e = window.setTimeout(function() {
      o.apply(i, r);
    }, t);
  };
}
function Qg(o, t) {
  var e = 0;
  return function() {
    for (var r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    var i = this, a = (/* @__PURE__ */ new Date()).getTime();
    a - e < t || (e = a, o.apply(i, r));
  };
}
function lm(o, t, e, r) {
  e === void 0 && (e = 100);
  var n = (/* @__PURE__ */ new Date()).getTime(), i = null, a = !1, s = function() {
    var l = (/* @__PURE__ */ new Date()).getTime() - n > e;
    (o() || l) && (t(), a = !0, i != null && (window.clearInterval(i), i = null), l && r && console.warn(r));
  };
  s(), a || (i = window.setInterval(s, 10));
}
function CA() {
  for (var o = [], t = 0; t < arguments.length; t++)
    o[t] = arguments[t];
  return function(e) {
    return o.reduce(function(r, n) {
      return n(r);
    }, e);
  };
}
function _b(o) {
  o && o();
}
var SA = function() {
}, wA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  doOnce: ze,
  getFunctionName: cf,
  isFunction: df,
  executeInAWhile: Sb,
  executeNextVMTurn: Zg,
  executeAfter: wb,
  debounce: mi,
  throttle: Qg,
  waitUntil: lm,
  compose: CA,
  callIfPresent: _b,
  noop: SA
}), Z;
(function(o) {
  o.CommunityCoreModule = "@ag-grid-community/core", o.InfiniteRowModelModule = "@ag-grid-community/infinite-row-model", o.ClientSideRowModelModule = "@ag-grid-community/client-side-row-model", o.CsvExportModule = "@ag-grid-community/csv-export", o.EnterpriseCoreModule = "@ag-grid-enterprise/core", o.RowGroupingModule = "@ag-grid-enterprise/row-grouping", o.ColumnsToolPanelModule = "@ag-grid-enterprise/column-tool-panel", o.FiltersToolPanelModule = "@ag-grid-enterprise/filter-tool-panel", o.MenuModule = "@ag-grid-enterprise/menu", o.SetFilterModule = "@ag-grid-enterprise/set-filter", o.MultiFilterModule = "@ag-grid-enterprise/multi-filter", o.StatusBarModule = "@ag-grid-enterprise/status-bar", o.SideBarModule = "@ag-grid-enterprise/side-bar", o.RangeSelectionModule = "@ag-grid-enterprise/range-selection", o.MasterDetailModule = "@ag-grid-enterprise/master-detail", o.RichSelectModule = "@ag-grid-enterprise/rich-select", o.GridChartsModule = "@ag-grid-enterprise/charts", o.ViewportRowModelModule = "@ag-grid-enterprise/viewport-row-model", o.ServerSideRowModelModule = "@ag-grid-enterprise/server-side-row-model", o.ExcelExportModule = "@ag-grid-enterprise/excel-export", o.ClipboardModule = "@ag-grid-enterprise/clipboard", o.SparklinesModule = "@ag-grid-enterprise/sparklines", o.AngularModule = "@ag-grid-community/angular", o.ReactModule = "@ag-grid-community/react", o.VueModule = "@ag-grid-community/vue";
})(Z || (Z = {}));
var gu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, NC = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, de = (
  /** @class */
  function() {
    function o() {
    }
    return o.register = function(t) {
      o.__register(t, !0, void 0);
    }, o.registerModules = function(t) {
      o.__registerModules(t, !0, void 0);
    }, o.__register = function(t, e, r) {
      o.runVersionChecks(t), r !== void 0 ? (o.areGridScopedModules = !0, o.gridModulesMap[r] === void 0 && (o.gridModulesMap[r] = {}), o.gridModulesMap[r][t.moduleName] = t) : o.globalModulesMap[t.moduleName] = t, o.setModuleBased(e);
    }, o.__unRegisterGridModules = function(t) {
      delete o.gridModulesMap[t];
    }, o.__registerModules = function(t, e, r) {
      o.setModuleBased(e), t && t.forEach(function(n) {
        return o.__register(n, e, r);
      });
    }, o.isValidModuleVersion = function(t) {
      var e = gu(t.version.split(".") || [], 2), r = e[0], n = e[1], i = gu(o.currentModuleVersion.split(".") || [], 2), a = i[0], s = i[1];
      return r === a && n === s;
    }, o.runVersionChecks = function(t) {
      if (o.currentModuleVersion || (o.currentModuleVersion = t.version), t.version ? o.isValidModuleVersion(t) || console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '" + t.moduleName + "' is version " + t.version + " but the other modules are version " + this.currentModuleVersion + ". Please update all modules to the same version.") : console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '" + t.moduleName + "' is incompatible. Please update all modules to the same version."), t.validate) {
        var e = t.validate();
        if (!e.isValid) {
          var r = e;
          console.error("AG Grid: " + r.message);
        }
      }
    }, o.setModuleBased = function(t) {
      o.moduleBased === void 0 ? o.moduleBased = t : o.moduleBased !== t && ze(function() {
        console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."), console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.");
      }, "ModulePackageCheck");
    }, o.__setIsBundled = function() {
      o.isBundled = !0;
    }, o.__assertRegistered = function(t, e, r) {
      var n;
      if (this.__isRegistered(t, r))
        return !0;
      var i = e + t, a;
      if (o.isBundled)
        a = "AG Grid: unable to use " + e + ` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;
      else if (o.moduleBased || o.moduleBased === void 0) {
        var s = (n = Object.entries(Z).find(function(l) {
          var u = gu(l, 2);
          u[0];
          var c = u[1];
          return c === t;
        })) === null || n === void 0 ? void 0 : n[0];
        a = "AG Grid: unable to use " + e + " as the " + s + " is not registered" + (o.areGridScopedModules ? " for gridId: " + r : "") + `. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ` + s + " } from '" + t + `';
    
    ModuleRegistry.registerModules([ ` + s + ` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`;
      } else
        a = "AG Grid: unable to use " + e + ` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;
      return ze(function() {
        console.warn(a);
      }, i), !1;
    }, o.__isRegistered = function(t, e) {
      var r;
      return !!o.globalModulesMap[t] || !!(!((r = o.gridModulesMap[e]) === null || r === void 0) && r[t]);
    }, o.__getRegisteredModules = function(t) {
      return NC(NC([], gu(qa(o.globalModulesMap))), gu(qa(o.gridModulesMap[t] || {})));
    }, o.__getGridRegisteredModules = function(t) {
      var e;
      return qa((e = o.gridModulesMap[t]) !== null && e !== void 0 ? e : {}) || [];
    }, o.__isPackageBased = function() {
      return !o.moduleBased;
    }, o.globalModulesMap = {}, o.gridModulesMap = {}, o.areGridScopedModules = !1, o;
  }()
), _A = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, bA = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, EA = (
  /** @class */
  function() {
    function o(t, e) {
      if (this.beanWrappers = {}, this.destroyed = !1, !(!t || !t.beanClasses)) {
        this.contextParams = t, this.logger = e, this.logger.log(">> creating ag-Application Context"), this.createBeans();
        var r = this.getBeanInstances();
        this.wireBeans(r), this.logger.log(">> ag-Application Context ready - component is alive");
      }
    }
    return o.prototype.getBeanInstances = function() {
      return qa(this.beanWrappers).map(function(t) {
        return t.beanInstance;
      });
    }, o.prototype.createBean = function(t, e) {
      if (!t)
        throw Error("Can't wire to bean since it is null");
      return this.wireBeans([t], e), t;
    }, o.prototype.wireBeans = function(t, e) {
      this.autoWireBeans(t), this.methodWireBeans(t), this.callLifeCycleMethods(t, "preConstructMethods"), z(e) && t.forEach(e), this.callLifeCycleMethods(t, "postConstructMethods");
    }, o.prototype.createBeans = function() {
      var t = this;
      this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)), ut(this.beanWrappers, function(r, n) {
        var i;
        n.bean.__agBeanMetaData && n.bean.__agBeanMetaData.autowireMethods && n.bean.__agBeanMetaData.autowireMethods.agConstructor && (i = n.bean.__agBeanMetaData.autowireMethods.agConstructor);
        var a = t.getBeansForParameters(i, n.bean.name), s = new (n.bean.bind.apply(n.bean, bA([null], _A(a))))();
        n.beanInstance = s;
      });
      var e = Object.keys(this.beanWrappers).join(", ");
      this.logger.log("created beans: " + e);
    }, o.prototype.createBeanWrapper = function(t) {
      var e = t.__agBeanMetaData;
      if (!e) {
        var r = void 0;
        t.prototype.constructor ? r = cf(t.prototype.constructor) : r = "" + t, console.error("Context item " + r + " is not a bean");
        return;
      }
      var n = {
        bean: t,
        beanInstance: null,
        beanName: e.beanName
      };
      this.beanWrappers[e.beanName] = n;
    }, o.prototype.autoWireBeans = function(t) {
      var e = this;
      t.forEach(function(r) {
        e.forEachMetaDataInHierarchy(r, function(n, i) {
          var a = n.agClassAttributes;
          a && a.forEach(function(s) {
            var l = e.lookupBeanInstance(i, s.beanName, s.optional);
            r[s.attributeName] = l;
          });
        });
      });
    }, o.prototype.methodWireBeans = function(t) {
      var e = this;
      t.forEach(function(r) {
        e.forEachMetaDataInHierarchy(r, function(n, i) {
          ut(n.autowireMethods, function(a, s) {
            if (a !== "agConstructor") {
              var l = e.getBeansForParameters(s, i);
              r[a].apply(r, l);
            }
          });
        });
      });
    }, o.prototype.forEachMetaDataInHierarchy = function(t, e) {
      for (var r = Object.getPrototypeOf(t); r != null; ) {
        var n = r.constructor;
        if (n.hasOwnProperty("__agBeanMetaData")) {
          var i = n.__agBeanMetaData, a = this.getBeanName(n);
          e(i, a);
        }
        r = Object.getPrototypeOf(r);
      }
    }, o.prototype.getBeanName = function(t) {
      if (t.__agBeanMetaData && t.__agBeanMetaData.beanName)
        return t.__agBeanMetaData.beanName;
      var e = t.toString(), r = e.substring(9, e.indexOf("("));
      return r;
    }, o.prototype.getBeansForParameters = function(t, e) {
      var r = this, n = [];
      return t && ut(t, function(i, a) {
        var s = r.lookupBeanInstance(e, a);
        n[Number(i)] = s;
      }), n;
    }, o.prototype.lookupBeanInstance = function(t, e, r) {
      if (r === void 0 && (r = !1), this.destroyed)
        return this.logger.log("AG Grid: bean reference " + e + " is used after the grid is destroyed!"), null;
      if (e === "context")
        return this;
      if (this.contextParams.providedBeanInstances && this.contextParams.providedBeanInstances.hasOwnProperty(e))
        return this.contextParams.providedBeanInstances[e];
      var n = this.beanWrappers[e];
      return n ? n.beanInstance : (r || console.error("AG Grid: unable to find bean reference " + e + " while initialising " + t), null);
    }, o.prototype.callLifeCycleMethods = function(t, e) {
      var r = this;
      t.forEach(function(n) {
        return r.callLifeCycleMethodsOnBean(n, e);
      });
    }, o.prototype.callLifeCycleMethodsOnBean = function(t, e, r) {
      var n = {};
      this.forEachMetaDataInHierarchy(t, function(a) {
        var s = a[e];
        s && s.forEach(function(l) {
          l != r && (n[l] = !0);
        });
      });
      var i = Object.keys(n);
      i.forEach(function(a) {
        return t[a]();
      });
    }, o.prototype.getBean = function(t) {
      return this.lookupBeanInstance("getBean", t, !0);
    }, o.prototype.destroy = function() {
      if (!this.destroyed) {
        this.logger.log(">> Shutting down ag-Application Context");
        var t = this.getBeanInstances();
        this.destroyBeans(t), this.contextParams.providedBeanInstances = null, de.__unRegisterGridModules(this.contextParams.gridId), this.destroyed = !0, this.logger.log(">> ag-Application Context shut down - component is dead");
      }
    }, o.prototype.destroyBean = function(t) {
      t && this.destroyBeans([t]);
    }, o.prototype.destroyBeans = function(t) {
      var e = this;
      return t ? (t.forEach(function(r) {
        e.callLifeCycleMethodsOnBean(r, "preDestroyMethods", "destroy");
        var n = r;
        typeof n.destroy == "function" && n.destroy();
      }), []) : [];
    }, o.prototype.isDestroyed = function() {
      return this.destroyed;
    }, o.prototype.getGridId = function() {
      return this.contextParams.gridId;
    }, o;
  }()
);
function jl(o, t, e) {
  var r = ns(o.constructor);
  r.preConstructMethods || (r.preConstructMethods = []), r.preConstructMethods.push(t);
}
function V(o, t, e) {
  var r = ns(o.constructor);
  r.postConstructMethods || (r.postConstructMethods = []), r.postConstructMethods.push(t);
}
function rt(o, t, e) {
  var r = ns(o.constructor);
  r.preDestroyMethods || (r.preDestroyMethods = []), r.preDestroyMethods.push(t);
}
function q(o) {
  return function(t) {
    var e = ns(t);
    e.beanName = o;
  };
}
function w(o) {
  return function(t, e, r) {
    bb(t, o, !1, t, e, null);
  };
}
function Fe(o) {
  return function(t, e, r) {
    bb(t, o, !0, t, e, null);
  };
}
function bb(o, t, e, r, n, i) {
  if (t === null) {
    console.error("AG Grid: Autowired name should not be null");
    return;
  }
  if (typeof i == "number") {
    console.error("AG Grid: Autowired should be on an attribute");
    return;
  }
  var a = ns(o.constructor);
  a.agClassAttributes || (a.agClassAttributes = []), a.agClassAttributes.push({
    attributeName: n,
    beanName: t,
    optional: e
  });
}
function Er(o) {
  return function(t, e, r) {
    var n = typeof t == "function" ? t : t.constructor, i;
    if (typeof r == "number") {
      var a = void 0;
      e ? (i = ns(n), a = e) : (i = ns(n), a = "agConstructor"), i.autowireMethods || (i.autowireMethods = {}), i.autowireMethods[a] || (i.autowireMethods[a] = {}), i.autowireMethods[a][r] = o;
    }
  };
}
function ns(o) {
  return o.hasOwnProperty("__agBeanMetaData") || (o.__agBeanMetaData = {}), o.__agBeanMetaData;
}
var GC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, wd = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, Di = (
  /** @class */
  function() {
    function o() {
      this.allSyncListeners = /* @__PURE__ */ new Map(), this.allAsyncListeners = /* @__PURE__ */ new Map(), this.globalSyncListeners = /* @__PURE__ */ new Set(), this.globalAsyncListeners = /* @__PURE__ */ new Set(), this.asyncFunctionsQueue = [], this.scheduled = !1, this.firedEvents = {};
    }
    return o.prototype.setBeans = function(t, e, r, n) {
      if (n === void 0 && (n = null), this.frameworkOverrides = r, this.gridOptionsService = e, n) {
        var i = e.useAsyncEvents();
        this.addGlobalListener(n, i);
      }
    }, o.prototype.getListeners = function(t, e, r) {
      var n = e ? this.allAsyncListeners : this.allSyncListeners, i = n.get(t);
      return !i && r && (i = /* @__PURE__ */ new Set(), n.set(t, i)), i;
    }, o.prototype.noRegisteredListenersExist = function() {
      return this.allSyncListeners.size === 0 && this.allAsyncListeners.size === 0 && this.globalSyncListeners.size === 0 && this.globalAsyncListeners.size === 0;
    }, o.prototype.addEventListener = function(t, e, r) {
      r === void 0 && (r = !1), this.getListeners(t, r, !0).add(e);
    }, o.prototype.removeEventListener = function(t, e, r) {
      r === void 0 && (r = !1);
      var n = this.getListeners(t, r, !1);
      if (n && (n.delete(e), n.size === 0)) {
        var i = r ? this.allAsyncListeners : this.allSyncListeners;
        i.delete(t);
      }
    }, o.prototype.addGlobalListener = function(t, e) {
      e === void 0 && (e = !1), (e ? this.globalAsyncListeners : this.globalSyncListeners).add(t);
    }, o.prototype.removeGlobalListener = function(t, e) {
      e === void 0 && (e = !1), (e ? this.globalAsyncListeners : this.globalSyncListeners).delete(t);
    }, o.prototype.dispatchEvent = function(t) {
      var e = t;
      if (this.gridOptionsService) {
        var r = this.gridOptionsService, n = r.api, i = r.columnApi, a = r.context;
        e.api = n, e.columnApi = i, e.context = a;
      }
      this.dispatchToListeners(e, !0), this.dispatchToListeners(e, !1), this.firedEvents[e.type] = !0;
    }, o.prototype.dispatchEventOnce = function(t) {
      this.firedEvents[t.type] || this.dispatchEvent(t);
    }, o.prototype.dispatchToListeners = function(t, e) {
      var r = this, n = t.type;
      if (e && "event" in t) {
        var i = t.event;
        i instanceof Event && (t.eventPath = i.composedPath());
      }
      var a = function(u) {
        return u.forEach(function(c) {
          e ? r.dispatchAsync(function() {
            return c(t);
          }) : c(t);
        });
      }, s = new Set(this.getListeners(n, e, !1));
      s && a(s);
      var l = new Set(e ? this.globalAsyncListeners : this.globalSyncListeners);
      l.forEach(function(u) {
        e ? r.dispatchAsync(function() {
          return r.frameworkOverrides.dispatchEvent(n, function() {
            return u(n, t);
          }, !0);
        }) : r.frameworkOverrides.dispatchEvent(n, function() {
          return u(n, t);
        }, !0);
      });
    }, o.prototype.dispatchAsync = function(t) {
      this.asyncFunctionsQueue.push(t), this.scheduled || (window.setTimeout(this.flushAsyncQueue.bind(this), 0), this.scheduled = !0);
    }, o.prototype.flushAsyncQueue = function() {
      this.scheduled = !1;
      var t = this.asyncFunctionsQueue.slice();
      this.asyncFunctionsQueue = [], t.forEach(function(e) {
        return e();
      });
    }, GC([
      wd(0, Er("loggerFactory")),
      wd(1, Er("gridOptionsService")),
      wd(2, Er("frameworkOverrides")),
      wd(3, Er("globalEventListener"))
    ], o.prototype, "setBeans", null), o = GC([
      q("eventService")
    ], o), o;
  }()
), _d = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kC = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, VC = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, OA = 0;
function Eb() {
  return OA++;
}
var Me = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.instanceId = Eb(), this.autoHeaderHeight = null, this.moving = !1, this.menuVisible = !1, this.filterActive = !1, this.eventService = new Di(), this.tooltipEnabled = !1, this.rowGroupActive = !1, this.pivotActive = !1, this.aggregationActive = !1, this.colDef = t, this.userProvidedColDef = e, this.colId = r, this.primary = n, this.setState(t);
    }
    return o.prototype.getInstanceId = function() {
      return this.instanceId;
    }, o.prototype.setState = function(t) {
      t.sort !== void 0 ? (t.sort === "asc" || t.sort === "desc") && (this.sort = t.sort) : (t.initialSort === "asc" || t.initialSort === "desc") && (this.sort = t.initialSort);
      var e = yn(t.sortIndex), r = yn(t.initialSortIndex);
      e !== void 0 ? e !== null && (this.sortIndex = e) : r !== null && (this.sortIndex = r);
      var n = pi(t.hide), i = pi(t.initialHide);
      n !== void 0 ? this.visible = !n : this.visible = !i, t.pinned !== void 0 ? this.setPinned(t.pinned) : this.setPinned(t.initialPinned);
      var a = yn(t.flex), s = yn(t.initialFlex);
      a !== void 0 ? this.flex = a : s !== void 0 && (this.flex = s);
    }, o.prototype.setColDef = function(t, e) {
      this.colDef = t, this.userProvidedColDef = e, this.initMinAndMaxWidths(), this.initDotNotation(), this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged", "api"));
    }, o.prototype.getUserProvidedColDef = function() {
      return this.userProvidedColDef;
    }, o.prototype.setParent = function(t) {
      this.parent = t;
    }, o.prototype.getParent = function() {
      return this.parent;
    }, o.prototype.setOriginalParent = function(t) {
      this.originalParent = t;
    }, o.prototype.getOriginalParent = function() {
      return this.originalParent;
    }, o.prototype.initialise = function() {
      this.initMinAndMaxWidths(), this.resetActualWidth("gridInitializing"), this.initDotNotation(), this.initTooltip(), this.validate();
    }, o.prototype.initDotNotation = function() {
      var t = this.gridOptionsService.is("suppressFieldDotNotation");
      this.fieldContainsDots = z(this.colDef.field) && this.colDef.field.indexOf(".") >= 0 && !t, this.tooltipFieldContainsDots = z(this.colDef.tooltipField) && this.colDef.tooltipField.indexOf(".") >= 0 && !t;
    }, o.prototype.initMinAndMaxWidths = function() {
      var t = this.colDef;
      this.minWidth = this.columnUtils.calculateColMinWidth(t), this.maxWidth = this.columnUtils.calculateColMaxWidth(t);
    }, o.prototype.initTooltip = function() {
      this.tooltipEnabled = z(this.colDef.tooltipField) || z(this.colDef.tooltipValueGetter) || z(this.colDef.tooltipComponent);
    }, o.prototype.resetActualWidth = function(t) {
      t === void 0 && (t = "api");
      var e = this.columnUtils.calculateColInitialWidth(this.colDef);
      this.setActualWidth(e, t, !0);
    }, o.prototype.isEmptyGroup = function() {
      return !1;
    }, o.prototype.isRowGroupDisplayed = function(t) {
      if (me(this.colDef) || me(this.colDef.showRowGroup))
        return !1;
      var e = this.colDef.showRowGroup === !0, r = this.colDef.showRowGroup === t;
      return e || r;
    }, o.prototype.isPrimary = function() {
      return this.primary;
    }, o.prototype.isFilterAllowed = function() {
      var t = !!this.colDef.filter;
      return t;
    }, o.prototype.isFieldContainsDots = function() {
      return this.fieldContainsDots;
    }, o.prototype.isTooltipEnabled = function() {
      return this.tooltipEnabled;
    }, o.prototype.isTooltipFieldContainsDots = function() {
      return this.tooltipFieldContainsDots;
    }, o.prototype.validate = function() {
      var t = this.colDef;
      function e(u, c, d) {
        ze(function() {
          d ? console.warn(u, d) : ze(function() {
            return console.warn(u);
          }, c);
        }, c);
      }
      var r = this.gridOptionsService.isRowModelType("clientSide");
      if (r && !de.__isRegistered(Z.RowGroupingModule, this.gridOptionsService.getGridId())) {
        var n = ["enableRowGroup", "rowGroup", "rowGroupIndex", "enablePivot", "enableValue", "pivot", "pivotIndex", "aggFunc"], i = n.filter(function(u) {
          return z(t[u]);
        });
        i.length > 0 && de.__assertRegistered(Z.RowGroupingModule, i.map(function(u) {
          return "colDef." + u;
        }).join(", "), this.gridOptionsService.getGridId());
      }
      if ((this.colDef.cellEditor === "agRichSelect" || this.colDef.cellEditor === "agRichSelectCellEditor") && de.__assertRegistered(Z.RichSelectModule, this.colDef.cellEditor, this.gridOptionsService.getGridId()), this.gridOptionsService.isTreeData()) {
        var a = ["rowGroup", "rowGroupIndex", "pivot", "pivotIndex"], i = a.filter(function(c) {
          return z(t[c]);
        });
        i.length > 0 && e("AG Grid: " + i.join() + " is not possible when doing tree data, your column definition should not have " + i.join(), "TreeDataCannotRowGroup");
      }
      if (z(t.menuTabs))
        if (Array.isArray(t.menuTabs)) {
          var s = ["filterMenuTab"], l = ["columnsMenuTab", "generalMenuTab"], i = l.filter(function(c) {
            return t.menuTabs.includes(c);
          });
          i.length > 0 && de.__assertRegistered(Z.MenuModule, "menuTab(s): " + i.map(function(c) {
            return "'" + c + "'";
          }).join(), this.gridOptionsService.getGridId()), t.menuTabs.forEach(function(c) {
            !l.includes(c) && !s.includes(c) && e("AG Grid: '" + c + "' is not valid for 'colDef.menuTabs'. Valid values are: " + VC(VC([], kC(s)), kC(l)).map(function(d) {
              return "'" + d + "'";
            }).join() + ".", "wrongValue_menuTabs_" + c);
          });
        } else
          e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:" + typeof t.menuTabs, "wrongType_menuTabs");
      z(t.columnsMenuParams) && de.__assertRegistered(Z.MenuModule, "columnsMenuParams", this.gridOptionsService.getGridId()), z(t.columnsMenuParams) && de.__assertRegistered(Z.ColumnsToolPanelModule, "columnsMenuParams", this.gridOptionsService.getGridId()), z(this.colDef.width) && typeof this.colDef.width != "number" && e("AG Grid: colDef.width should be a number, not " + typeof this.colDef.width, "ColumnCheck"), z(t.columnGroupShow) && t.columnGroupShow !== "closed" && t.columnGroupShow !== "open" && e("AG Grid: '" + t.columnGroupShow + "' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null", "columnGroupShow_invalid");
    }, o.prototype.addEventListener = function(t, e) {
      this.eventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.eventService.removeEventListener(t, e);
    }, o.prototype.createColumnFunctionCallbackParams = function(t) {
      return {
        node: t,
        data: t.data,
        column: this,
        colDef: this.colDef,
        context: this.gridOptionsService.context,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi
      };
    }, o.prototype.isSuppressNavigable = function(t) {
      if (typeof this.colDef.suppressNavigable == "boolean")
        return this.colDef.suppressNavigable;
      if (typeof this.colDef.suppressNavigable == "function") {
        var e = this.createColumnFunctionCallbackParams(t), r = this.colDef.suppressNavigable;
        return r(e);
      }
      return !1;
    }, o.prototype.isCellEditable = function(t) {
      return t.group && !this.gridOptionsService.is("enableGroupEdit") ? !1 : this.isColumnFunc(t, this.colDef.editable);
    }, o.prototype.isSuppressFillHandle = function() {
      return !!pi(this.colDef.suppressFillHandle);
    }, o.prototype.isAutoHeight = function() {
      return !!pi(this.colDef.autoHeight);
    }, o.prototype.isAutoHeaderHeight = function() {
      return !!pi(this.colDef.autoHeaderHeight);
    }, o.prototype.isRowDrag = function(t) {
      return this.isColumnFunc(t, this.colDef.rowDrag);
    }, o.prototype.isDndSource = function(t) {
      return this.isColumnFunc(t, this.colDef.dndSource);
    }, o.prototype.isCellCheckboxSelection = function(t) {
      return this.isColumnFunc(t, this.colDef.checkboxSelection);
    }, o.prototype.isSuppressPaste = function(t) {
      return this.isColumnFunc(t, this.colDef ? this.colDef.suppressPaste : null);
    }, o.prototype.isResizable = function() {
      return !!pi(this.colDef.resizable);
    }, o.prototype.isColumnFunc = function(t, e) {
      if (typeof e == "boolean")
        return e;
      if (typeof e == "function") {
        var r = this.createColumnFunctionCallbackParams(t), n = e;
        return n(r);
      }
      return !1;
    }, o.prototype.setMoving = function(t, e) {
      e === void 0 && (e = "api"), this.moving = t, this.eventService.dispatchEvent(this.createColumnEvent("movingChanged", e));
    }, o.prototype.createColumnEvent = function(t, e) {
      return {
        type: t,
        column: this,
        columns: [this],
        source: e,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      };
    }, o.prototype.isMoving = function() {
      return this.moving;
    }, o.prototype.getSort = function() {
      return this.sort;
    }, o.prototype.setSort = function(t, e) {
      e === void 0 && (e = "api"), this.sort !== t && (this.sort = t, this.eventService.dispatchEvent(this.createColumnEvent("sortChanged", e))), this.dispatchStateUpdatedEvent("sort");
    }, o.prototype.setMenuVisible = function(t, e) {
      e === void 0 && (e = "api"), this.menuVisible !== t && (this.menuVisible = t, this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged", e)));
    }, o.prototype.isMenuVisible = function() {
      return this.menuVisible;
    }, o.prototype.isSortAscending = function() {
      return this.sort === "asc";
    }, o.prototype.isSortDescending = function() {
      return this.sort === "desc";
    }, o.prototype.isSortNone = function() {
      return me(this.sort);
    }, o.prototype.isSorting = function() {
      return z(this.sort);
    }, o.prototype.getSortIndex = function() {
      return this.sortIndex;
    }, o.prototype.setSortIndex = function(t) {
      this.sortIndex = t, this.dispatchStateUpdatedEvent("sortIndex");
    }, o.prototype.setAggFunc = function(t) {
      this.aggFunc = t, this.dispatchStateUpdatedEvent("aggFunc");
    }, o.prototype.getAggFunc = function() {
      return this.aggFunc;
    }, o.prototype.getLeft = function() {
      return this.left;
    }, o.prototype.getOldLeft = function() {
      return this.oldLeft;
    }, o.prototype.getRight = function() {
      return this.left + this.actualWidth;
    }, o.prototype.setLeft = function(t, e) {
      e === void 0 && (e = "api"), this.oldLeft = this.left, this.left !== t && (this.left = t, this.eventService.dispatchEvent(this.createColumnEvent("leftChanged", e)));
    }, o.prototype.isFilterActive = function() {
      return this.filterActive;
    }, o.prototype.setFilterActive = function(t, e, r) {
      e === void 0 && (e = "api"), this.filterActive !== t && (this.filterActive = t, this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged", e)));
      var n = this.createColumnEvent("filterChanged", e);
      r && Zr(n, r), this.eventService.dispatchEvent(n);
    }, o.prototype.isHovered = function() {
      return this.columnHoverService.isHovered(this);
    }, o.prototype.setPinned = function(t) {
      t === !0 || t === "left" ? this.pinned = "left" : t === "right" ? this.pinned = "right" : this.pinned = null, this.dispatchStateUpdatedEvent("pinned");
    }, o.prototype.setFirstRightPinned = function(t, e) {
      e === void 0 && (e = "api"), this.firstRightPinned !== t && (this.firstRightPinned = t, this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged", e)));
    }, o.prototype.setLastLeftPinned = function(t, e) {
      e === void 0 && (e = "api"), this.lastLeftPinned !== t && (this.lastLeftPinned = t, this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged", e)));
    }, o.prototype.isFirstRightPinned = function() {
      return this.firstRightPinned;
    }, o.prototype.isLastLeftPinned = function() {
      return this.lastLeftPinned;
    }, o.prototype.isPinned = function() {
      return this.pinned === "left" || this.pinned === "right";
    }, o.prototype.isPinnedLeft = function() {
      return this.pinned === "left";
    }, o.prototype.isPinnedRight = function() {
      return this.pinned === "right";
    }, o.prototype.getPinned = function() {
      return this.pinned;
    }, o.prototype.setVisible = function(t, e) {
      e === void 0 && (e = "api");
      var r = t === !0;
      this.visible !== r && (this.visible = r, this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged", e))), this.dispatchStateUpdatedEvent("hide");
    }, o.prototype.isVisible = function() {
      return this.visible;
    }, o.prototype.isSpanHeaderHeight = function() {
      var t = this.getColDef();
      return !t.suppressSpanHeaderHeight && !t.autoHeaderHeight;
    }, o.prototype.getColDef = function() {
      return this.colDef;
    }, o.prototype.getColumnGroupShow = function() {
      return this.colDef.columnGroupShow;
    }, o.prototype.getColId = function() {
      return this.colId;
    }, o.prototype.getId = function() {
      return this.colId;
    }, o.prototype.getUniqueId = function() {
      return this.colId;
    }, o.prototype.getDefinition = function() {
      return this.colDef;
    }, o.prototype.getActualWidth = function() {
      return this.actualWidth;
    }, o.prototype.getAutoHeaderHeight = function() {
      return this.autoHeaderHeight;
    }, o.prototype.setAutoHeaderHeight = function(t) {
      var e = t !== this.autoHeaderHeight;
      return this.autoHeaderHeight = t, e;
    }, o.prototype.createBaseColDefParams = function(t) {
      var e = {
        node: t,
        data: t.data,
        colDef: this.colDef,
        column: this,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      };
      return e;
    }, o.prototype.getColSpan = function(t) {
      if (me(this.colDef.colSpan))
        return 1;
      var e = this.createBaseColDefParams(t), r = this.colDef.colSpan(e);
      return Math.max(r, 1);
    }, o.prototype.getRowSpan = function(t) {
      if (me(this.colDef.rowSpan))
        return 1;
      var e = this.createBaseColDefParams(t), r = this.colDef.rowSpan(e);
      return Math.max(r, 1);
    }, o.prototype.setActualWidth = function(t, e, r) {
      e === void 0 && (e = "api"), r === void 0 && (r = !1), this.minWidth != null && (t = Math.max(t, this.minWidth)), this.maxWidth != null && (t = Math.min(t, this.maxWidth)), this.actualWidth !== t && (this.actualWidth = t, this.flex && e !== "flex" && e !== "gridInitializing" && (this.flex = null), r || this.fireColumnWidthChangedEvent(e)), this.dispatchStateUpdatedEvent("width");
    }, o.prototype.fireColumnWidthChangedEvent = function(t) {
      this.eventService.dispatchEvent(this.createColumnEvent("widthChanged", t));
    }, o.prototype.isGreaterThanMax = function(t) {
      return this.maxWidth != null ? t > this.maxWidth : !1;
    }, o.prototype.getMinWidth = function() {
      return this.minWidth;
    }, o.prototype.getMaxWidth = function() {
      return this.maxWidth;
    }, o.prototype.getFlex = function() {
      return this.flex || 0;
    }, o.prototype.setFlex = function(t) {
      this.flex !== t && (this.flex = t), this.dispatchStateUpdatedEvent("flex");
    }, o.prototype.setMinimum = function(t) {
      t === void 0 && (t = "api"), z(this.minWidth) && this.setActualWidth(this.minWidth, t);
    }, o.prototype.setRowGroupActive = function(t, e) {
      e === void 0 && (e = "api"), this.rowGroupActive !== t && (this.rowGroupActive = t, this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged", e))), this.dispatchStateUpdatedEvent("rowGroup");
    }, o.prototype.isRowGroupActive = function() {
      return this.rowGroupActive;
    }, o.prototype.setPivotActive = function(t, e) {
      e === void 0 && (e = "api"), this.pivotActive !== t && (this.pivotActive = t, this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged", e))), this.dispatchStateUpdatedEvent("pivot");
    }, o.prototype.isPivotActive = function() {
      return this.pivotActive;
    }, o.prototype.isAnyFunctionActive = function() {
      return this.isPivotActive() || this.isRowGroupActive() || this.isValueActive();
    }, o.prototype.isAnyFunctionAllowed = function() {
      return this.isAllowPivot() || this.isAllowRowGroup() || this.isAllowValue();
    }, o.prototype.setValueActive = function(t, e) {
      e === void 0 && (e = "api"), this.aggregationActive !== t && (this.aggregationActive = t, this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged", e)));
    }, o.prototype.isValueActive = function() {
      return this.aggregationActive;
    }, o.prototype.isAllowPivot = function() {
      return this.colDef.enablePivot === !0;
    }, o.prototype.isAllowValue = function() {
      return this.colDef.enableValue === !0;
    }, o.prototype.isAllowRowGroup = function() {
      return this.colDef.enableRowGroup === !0;
    }, o.prototype.getMenuTabs = function(t) {
      var e = this.getColDef().menuTabs;
      return e == null && (e = t), e;
    }, o.prototype.dispatchStateUpdatedEvent = function(t) {
      this.eventService.dispatchEvent({
        type: o.EVENT_STATE_UPDATED,
        key: t
      });
    }, o.EVENT_MOVING_CHANGED = "movingChanged", o.EVENT_LEFT_CHANGED = "leftChanged", o.EVENT_WIDTH_CHANGED = "widthChanged", o.EVENT_LAST_LEFT_PINNED_CHANGED = "lastLeftPinnedChanged", o.EVENT_FIRST_RIGHT_PINNED_CHANGED = "firstRightPinnedChanged", o.EVENT_VISIBLE_CHANGED = "visibleChanged", o.EVENT_FILTER_CHANGED = "filterChanged", o.EVENT_FILTER_ACTIVE_CHANGED = "filterActiveChanged", o.EVENT_SORT_CHANGED = "sortChanged", o.EVENT_COL_DEF_CHANGED = "colDefChanged", o.EVENT_MENU_VISIBLE_CHANGED = "menuVisibleChanged", o.EVENT_ROW_GROUP_CHANGED = "columnRowGroupChanged", o.EVENT_PIVOT_CHANGED = "columnPivotChanged", o.EVENT_VALUE_CHANGED = "columnValueChanged", o.EVENT_STATE_UPDATED = "columnStateUpdated", _d([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), _d([
      w("columnUtils")
    ], o.prototype, "columnUtils", void 0), _d([
      w("columnHoverService")
    ], o.prototype, "columnHoverService", void 0), _d([
      V
    ], o.prototype, "initialise", null), o;
  }()
), xA = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, qe = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.localEventService = new Di(), this.expandable = !1, this.instanceId = Eb(), this.expandableListenerRemoveCallback = null, this.colGroupDef = t, this.groupId = e, this.expanded = !!t && !!t.openByDefault, this.padding = r, this.level = n;
    }
    return o.prototype.destroy = function() {
      this.expandableListenerRemoveCallback && this.reset(null, void 0);
    }, o.prototype.reset = function(t, e) {
      this.colGroupDef = t, this.level = e, this.originalParent = null, this.expandableListenerRemoveCallback && this.expandableListenerRemoveCallback(), this.children = void 0, this.expandable = void 0;
    }, o.prototype.getInstanceId = function() {
      return this.instanceId;
    }, o.prototype.setOriginalParent = function(t) {
      this.originalParent = t;
    }, o.prototype.getOriginalParent = function() {
      return this.originalParent;
    }, o.prototype.getLevel = function() {
      return this.level;
    }, o.prototype.isVisible = function() {
      return this.children ? this.children.some(function(t) {
        return t.isVisible();
      }) : !1;
    }, o.prototype.isPadding = function() {
      return this.padding;
    }, o.prototype.setExpanded = function(t) {
      this.expanded = t === void 0 ? !1 : t;
      var e = {
        type: o.EVENT_EXPANDED_CHANGED
      };
      this.localEventService.dispatchEvent(e);
    }, o.prototype.isExpandable = function() {
      return this.expandable;
    }, o.prototype.isExpanded = function() {
      return this.expanded;
    }, o.prototype.getGroupId = function() {
      return this.groupId;
    }, o.prototype.getId = function() {
      return this.getGroupId();
    }, o.prototype.setChildren = function(t) {
      this.children = t;
    }, o.prototype.getChildren = function() {
      return this.children;
    }, o.prototype.getColGroupDef = function() {
      return this.colGroupDef;
    }, o.prototype.getLeafColumns = function() {
      var t = [];
      return this.addLeafColumns(t), t;
    }, o.prototype.addLeafColumns = function(t) {
      this.children && this.children.forEach(function(e) {
        e instanceof Me ? t.push(e) : e instanceof o && e.addLeafColumns(t);
      });
    }, o.prototype.getColumnGroupShow = function() {
      var t = this.colGroupDef;
      if (t)
        return t.columnGroupShow;
    }, o.prototype.setupExpandable = function() {
      var t = this;
      this.setExpandable(), this.expandableListenerRemoveCallback && this.expandableListenerRemoveCallback();
      var e = this.onColumnVisibilityChanged.bind(this);
      this.getLeafColumns().forEach(function(r) {
        return r.addEventListener("visibleChanged", e);
      }), this.expandableListenerRemoveCallback = function() {
        t.getLeafColumns().forEach(function(r) {
          return r.removeEventListener("visibleChanged", e);
        }), t.expandableListenerRemoveCallback = null;
      };
    }, o.prototype.setExpandable = function() {
      if (!this.isPadding()) {
        for (var t = !1, e = !1, r = !1, n = this.findChildrenRemovingPadding(), i = 0, a = n.length; i < a; i++) {
          var s = n[i];
          if (s.isVisible()) {
            var l = s.getColumnGroupShow();
            l === "open" ? (t = !0, r = !0) : l === "closed" ? (e = !0, r = !0) : (t = !0, e = !0);
          }
        }
        var u = t && e && r;
        if (this.expandable !== u) {
          this.expandable = u;
          var c = {
            type: o.EVENT_EXPANDABLE_CHANGED
          };
          this.localEventService.dispatchEvent(c);
        }
      }
    }, o.prototype.findChildrenRemovingPadding = function() {
      var t = [], e = function(r) {
        r.forEach(function(n) {
          var i = n instanceof o && n.isPadding();
          i ? e(n.children) : t.push(n);
        });
      };
      return e(this.children), t;
    }, o.prototype.onColumnVisibilityChanged = function() {
      this.setExpandable();
    }, o.prototype.addEventListener = function(t, e) {
      this.localEventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.localEventService.removeEventListener(t, e);
    }, o.EVENT_EXPANDED_CHANGED = "expandedChanged", o.EVENT_EXPANDABLE_CHANGED = "expandableChanged", xA([
      rt
    ], o.prototype, "destroy", null), o;
  }()
), TA = {
  numericColumn: {
    headerClass: "ag-right-aligned-header",
    cellClass: "ag-right-aligned-cell"
  },
  rightAligned: {
    headerClass: "ag-right-aligned-header",
    cellClass: "ag-right-aligned-cell"
  }
};
function Ob() {
  for (var o = [], t = 0; t < arguments.length; t++)
    o[t] = arguments[t];
  for (var e = 0; e < o.length; e++) {
    var r = o[e];
    if (z(r))
      return r;
  }
  return null;
}
function RA(o) {
  return o != null && o.length > 0;
}
function et(o) {
  if (!(!o || !o.length))
    return o[o.length - 1];
}
function Vo(o, t, e) {
  return o == null && t == null ? !0 : o != null && t != null && o.length === t.length && o.every(function(r, n) {
    return e ? e(r, t[n]) : t[n] === r;
  });
}
function DA(o, t) {
  return Vo(o, t);
}
function xb(o) {
  return o.sort(function(t, e) {
    return t - e;
  });
}
function PA(o, t) {
  if (o)
    for (var e = o.length - 2; e >= 0; e--) {
      var r = o[e] === t, n = o[e + 1] === t;
      r && n && o.splice(e + 1, 1);
    }
}
function vr(o, t) {
  var e = o.indexOf(t);
  e >= 0 && o.splice(e, 1);
}
function um(o, t) {
  t.forEach(function(e) {
    return vr(o, e);
  });
}
function Hc(o, t, e) {
  o.splice(e, 0, t);
}
function AA(o, t, e) {
  if (!(o == null || t == null))
    for (var r = t.length - 1; r >= 0; r--) {
      var n = t[r];
      Hc(o, n, e);
    }
}
function Jg(o, t, e) {
  um(o, t), t.slice().reverse().forEach(function(r) {
    return Hc(o, r, e);
  });
}
function Sn(o, t) {
  return o.indexOf(t) > -1;
}
function Tb(o) {
  return [].concat.apply([], o);
}
function ey(o, t) {
  t == null || o == null || t.forEach(function(e) {
    return o.push(e);
  });
}
function MA(o) {
  return o.map(Bc);
}
function IA(o, t) {
  if (o != null)
    for (var e = o.length - 1; e >= 0; e--)
      t(o[e], e);
}
var FA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  firstExistingValue: Ob,
  existsAndNotEmpty: RA,
  last: et,
  areEqual: Vo,
  shallowCompare: DA,
  sortNumerically: xb,
  removeRepeatsFromArray: PA,
  removeFromArray: vr,
  removeAllFromArray: um,
  insertIntoArray: Hc,
  insertArrayIntoArray: AA,
  moveInArray: Jg,
  includes: Sn,
  flatten: Tb,
  pushAll: ey,
  toStrings: MA,
  forEachReverse: IA
}), Rb = "__ag_Grid_Stop_Propagation", LA = ["touchstart", "touchend", "touchmove", "touchcancel", "scroll"], Yf = {};
function io(o) {
  o[Rb] = !0;
}
function _i(o) {
  return o[Rb] === !0;
}
var cm = function() {
  var o = {
    select: "input",
    change: "input",
    submit: "form",
    reset: "form",
    error: "img",
    load: "img",
    abort: "img"
  }, t = function(e) {
    if (typeof Yf[e] == "boolean")
      return Yf[e];
    var r = document.createElement(o[e] || "div");
    return e = "on" + e, Yf[e] = e in r;
  };
  return t;
}();
function rh(o, t, e) {
  for (var r = t; r; ) {
    var n = o.getDomData(r, e);
    if (n)
      return n;
    r = r.parentElement;
  }
  return null;
}
function nh(o, t) {
  return !t || !o ? !1 : Pb(t).indexOf(o) >= 0;
}
function Db(o) {
  for (var t = [], e = o.target; e; )
    t.push(e), e = e.parentElement;
  return t;
}
function Pb(o) {
  var t = o;
  return t.path ? t.path : t.composedPath ? t.composedPath() : Db(t);
}
function Ab(o, t, e, r) {
  var n = Sn(LA, e), i = n ? { passive: !0 } : void 0;
  o && o.addEventListener && o.addEventListener(t, e, r, i);
}
var NA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  stopPropagationForAgGrid: io,
  isStopPropagationForAgGrid: _i,
  isEventSupported: cm,
  getCtrlForEventTarget: rh,
  isElementInEventPath: nh,
  createEventPath: Db,
  getEventPath: Pb,
  addSafePassiveEventListener: Ab
}), da = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, W = (
  /** @class */
  function() {
    function o() {
      var t = this;
      this.destroyFunctions = [], this.destroyed = !1, this.__v_skip = !0, this.isAlive = function() {
        return !t.destroyed;
      };
    }
    return o.prototype.getFrameworkOverrides = function() {
      return this.frameworkOverrides;
    }, o.prototype.getContext = function() {
      return this.context;
    }, o.prototype.destroy = function() {
      this.destroyFunctions.forEach(function(t) {
        return t();
      }), this.destroyFunctions.length = 0, this.destroyed = !0, this.dispatchEvent({ type: o.EVENT_DESTROYED });
    }, o.prototype.addEventListener = function(t, e) {
      this.localEventService || (this.localEventService = new Di()), this.localEventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.localEventService && this.localEventService.removeEventListener(t, e);
    }, o.prototype.dispatchEventAsync = function(t) {
      var e = this;
      window.setTimeout(function() {
        return e.dispatchEvent(t);
      }, 0);
    }, o.prototype.dispatchEvent = function(t) {
      this.localEventService && this.localEventService.dispatchEvent(t);
    }, o.prototype.addManagedListener = function(t, e, r) {
      var n = this;
      if (!this.destroyed) {
        t instanceof HTMLElement ? Ab(this.getFrameworkOverrides(), t, e, r) : t.addEventListener(e, r);
        var i = function() {
          return t.removeEventListener(e, r), n.destroyFunctions = n.destroyFunctions.filter(function(a) {
            return a !== i;
          }), null;
        };
        return this.destroyFunctions.push(i), i;
      }
    }, o.prototype.addManagedPropertyListener = function(t, e) {
      var r = this;
      if (!this.destroyed) {
        this.gridOptionsService.addEventListener(t, e);
        var n = function() {
          return r.gridOptionsService.removeEventListener(t, e), r.destroyFunctions = r.destroyFunctions.filter(function(i) {
            return i !== n;
          }), null;
        };
        return this.destroyFunctions.push(n), n;
      }
    }, o.prototype.addDestroyFunc = function(t) {
      this.isAlive() ? this.destroyFunctions.push(t) : t();
    }, o.prototype.createManagedBean = function(t, e) {
      var r = this.createBean(t, e);
      return this.addDestroyFunc(this.destroyBean.bind(this, t, e)), r;
    }, o.prototype.createBean = function(t, e, r) {
      return (e || this.getContext()).createBean(t, r);
    }, o.prototype.destroyBean = function(t, e) {
      return (e || this.getContext()).destroyBean(t);
    }, o.prototype.destroyBeans = function(t, e) {
      var r = this;
      return t && t.forEach(function(n) {
        return r.destroyBean(n, e);
      }), [];
    }, o.EVENT_DESTROYED = "destroyed", da([
      w("frameworkOverrides")
    ], o.prototype, "frameworkOverrides", void 0), da([
      w("context")
    ], o.prototype, "context", void 0), da([
      w("eventService")
    ], o.prototype, "eventService", void 0), da([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), da([
      w("localeService")
    ], o.prototype, "localeService", void 0), da([
      w("environment")
    ], o.prototype, "environment", void 0), da([
      rt
    ], o.prototype, "destroy", null), o;
  }()
), GA = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kA = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, VA = (
  /** @class */
  function(o) {
    GA(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setBeans = function(e) {
      this.logger = e.create("ColumnFactory");
    }, t.prototype.createColumnTree = function(e, r, n) {
      var i = new pA(), a = this.extractExistingTreeData(n), s = a.existingCols, l = a.existingGroups, u = a.existingColKeys;
      i.addExistingKeys(u);
      var c = this.recursivelyCreateColumns(e, 0, r, s, i, l), d = this.findMaxDept(c, 0);
      this.logger.log("Number of levels for grouped columns is " + d);
      var p = this.balanceColumnTree(c, 0, d, i), h = function(f, v) {
        f instanceof qe && f.setupExpandable(), f.setOriginalParent(v);
      };
      return this.columnUtils.depthFirstOriginalTreeSearch(null, p, h), {
        columnTree: p,
        treeDept: d
      };
    }, t.prototype.extractExistingTreeData = function(e) {
      var r = [], n = [], i = [];
      return e && this.columnUtils.depthFirstOriginalTreeSearch(null, e, function(a) {
        if (a instanceof qe) {
          var s = a;
          n.push(s);
        } else {
          var l = a;
          i.push(l.getId()), r.push(l);
        }
      }), { existingCols: r, existingGroups: n, existingColKeys: i };
    }, t.prototype.createForAutoGroups = function(e, r) {
      var n = this;
      return e.map(function(i) {
        return n.createAutoGroupTreeItem(r, i);
      });
    }, t.prototype.createAutoGroupTreeItem = function(e, r) {
      for (var n = this.findDepth(e), i = r, a = n - 1; a >= 0; a--) {
        var s = new qe(null, "FAKE_PATH_" + r.getId() + "}_" + a, !0, a);
        this.createBean(s), s.setChildren([i]), i.setOriginalParent(s), i = s;
      }
      return i;
    }, t.prototype.findDepth = function(e) {
      for (var r = 0, n = e; n && n[0] && n[0] instanceof qe; )
        r++, n = n[0].getChildren();
      return r;
    }, t.prototype.balanceColumnTree = function(e, r, n, i) {
      for (var a = [], s = 0; s < e.length; s++) {
        var l = e[s];
        if (l instanceof qe) {
          var u = l, c = this.balanceColumnTree(u.getChildren(), r + 1, n, i);
          u.setChildren(c), a.push(u);
        } else {
          for (var d = void 0, p = void 0, h = n - 1; h >= r; h--) {
            var f = i.getUniqueKey(null, null), v = this.createMergedColGroupDef(null), g = new qe(v, f, !0, r);
            this.createBean(g), p && p.setChildren([g]), p = g, d || (d = p);
          }
          if (d && p) {
            a.push(d);
            var y = e.some(function(m) {
              return m instanceof qe;
            });
            if (y) {
              p.setChildren([l]);
              continue;
            } else {
              p.setChildren(e);
              break;
            }
          }
          a.push(l);
        }
      }
      return a;
    }, t.prototype.findMaxDept = function(e, r) {
      for (var n = r, i = 0; i < e.length; i++) {
        var a = e[i];
        if (a instanceof qe) {
          var s = a, l = this.findMaxDept(s.getChildren(), r + 1);
          n < l && (n = l);
        }
      }
      return n;
    }, t.prototype.recursivelyCreateColumns = function(e, r, n, i, a, s) {
      var l = this;
      return (e || []).map(function(u) {
        return l.isColumnGroup(u) ? l.createColumnGroup(n, u, r, i, a, s) : l.createColumn(n, u, i, a);
      });
    }, t.prototype.createColumnGroup = function(e, r, n, i, a, s) {
      var l = this.createMergedColGroupDef(r), u = a.getUniqueKey(l.groupId || null, null), c = new qe(l, u, !1, n);
      this.createBean(c);
      var d = this.findExistingGroup(r, s);
      d && vr(s, d), d && d.isExpanded() && c.setExpanded(!0);
      var p = this.recursivelyCreateColumns(l.children, n + 1, e, i, a, s);
      return c.setChildren(p), c;
    }, t.prototype.createMergedColGroupDef = function(e) {
      var r = {};
      return Object.assign(r, this.gridOptionsService.get("defaultColGroupDef")), Object.assign(r, e), r;
    }, t.prototype.createColumn = function(e, r, n, i) {
      var a = this.findExistingColumn(r, n);
      if (n && a && vr(n, a), a) {
        var l = this.mergeColDefs(r, a.getColId());
        a.setColDef(l, r), this.applyColumnState(a, l);
      } else {
        var s = i.getUniqueKey(r.colId, r.field), l = this.mergeColDefs(r, s);
        a = new Me(l, r, s, e), this.context.createBean(a);
      }
      return this.dataTypeService.addColumnListeners(a), a;
    }, t.prototype.applyColumnState = function(e, r) {
      var n = yn(r.flex);
      n !== void 0 && e.setFlex(n);
      var i = e.getFlex() <= 0;
      if (i) {
        var a = yn(r.width);
        if (a != null)
          e.setActualWidth(a);
        else {
          var s = e.getActualWidth();
          e.setActualWidth(s);
        }
      }
      r.sort !== void 0 && (r.sort == "asc" || r.sort == "desc" ? e.setSort(r.sort) : e.setSort(void 0));
      var l = yn(r.sortIndex);
      l !== void 0 && e.setSortIndex(l);
      var u = pi(r.hide);
      u !== void 0 && e.setVisible(!u), r.pinned !== void 0 && e.setPinned(r.pinned);
    }, t.prototype.findExistingColumn = function(e, r) {
      return (r || []).find(function(n) {
        var i = n.getUserProvidedColDef();
        if (!i)
          return !1;
        var a = e.colId != null, s = e.field != null;
        return a ? n.getId() === e.colId : s ? i.field === e.field : i === e;
      });
    }, t.prototype.findExistingGroup = function(e, r) {
      return r.find(function(n) {
        var i = n.getColGroupDef();
        if (!i)
          return !1;
        var a = e.groupId != null;
        return a ? n.getId() === e.groupId : !1;
      });
    }, t.prototype.mergeColDefs = function(e, r) {
      var n = {}, i = this.gridOptionsService.get("defaultColDef");
      Zr(n, i, !1, !0);
      var a = this.dataTypeService.updateColDefAndGetColumnType(n, e, r);
      a && this.assignColumnTypes(a, n), Zr(n, e, !1, !0);
      var s = this.gridOptionsService.get("autoGroupColumnDef"), l = this.gridOptionsService.isColumnsSortingCoupledToGroup();
      return e.rowGroup && s && l && Zr(n, { sort: s.sort, initialSort: s.initialSort }, !1, !0), this.dataTypeService.validateColDef(n), n;
    }, t.prototype.assignColumnTypes = function(e, r) {
      if (e.length) {
        var n = Object.assign({}, TA), i = this.gridOptionsService.get("columnTypes") || {};
        ut(i, function(a, s) {
          a in n ? console.warn("AG Grid: the column type '" + a + "' is a default column type and cannot be overridden.") : n[a] = s;
        }), e.forEach(function(a) {
          var s = n[a.trim()];
          s ? Zr(r, s, !1, !0) : console.warn("AG Grid: colDef.type '" + a + "' does not correspond to defined gridOptions.columnTypes");
        });
      }
    }, t.prototype.isColumnGroup = function(e) {
      return e.children !== void 0;
    }, bd([
      w("columnUtils")
    ], t.prototype, "columnUtils", void 0), bd([
      w("dataTypeService")
    ], t.prototype, "dataTypeService", void 0), bd([
      kA(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), t = bd([
      q("columnFactory")
    ], t), t;
  }(W)
), BA = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Fr = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.displayedChildren = [], this.localEventService = new Di(), this.groupId = e, this.partId = r, this.providedColumnGroup = t, this.pinned = n;
    }
    return o.createUniqueId = function(t, e) {
      return t + "_" + e;
    }, o.prototype.reset = function() {
      this.parent = null, this.children = null, this.displayedChildren = null;
    }, o.prototype.getParent = function() {
      return this.parent;
    }, o.prototype.setParent = function(t) {
      this.parent = t;
    }, o.prototype.getUniqueId = function() {
      return o.createUniqueId(this.groupId, this.partId);
    }, o.prototype.isEmptyGroup = function() {
      return this.displayedChildren.length === 0;
    }, o.prototype.isMoving = function() {
      var t = this.getProvidedColumnGroup().getLeafColumns();
      return !t || t.length === 0 ? !1 : t.every(function(e) {
        return e.isMoving();
      });
    }, o.prototype.checkLeft = function() {
      if (this.displayedChildren.forEach(function(n) {
        n instanceof o && n.checkLeft();
      }), this.displayedChildren.length > 0)
        if (this.gridOptionsService.is("enableRtl")) {
          var t = et(this.displayedChildren), e = t.getLeft();
          this.setLeft(e);
        } else {
          var r = this.displayedChildren[0].getLeft();
          this.setLeft(r);
        }
      else
        this.setLeft(null);
    }, o.prototype.getLeft = function() {
      return this.left;
    }, o.prototype.getOldLeft = function() {
      return this.oldLeft;
    }, o.prototype.setLeft = function(t) {
      this.oldLeft = t, this.left !== t && (this.left = t, this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_LEFT_CHANGED)));
    }, o.prototype.getPinned = function() {
      return this.pinned;
    }, o.prototype.createAgEvent = function(t) {
      return { type: t };
    }, o.prototype.addEventListener = function(t, e) {
      this.localEventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.localEventService.removeEventListener(t, e);
    }, o.prototype.getGroupId = function() {
      return this.groupId;
    }, o.prototype.getPartId = function() {
      return this.partId;
    }, o.prototype.isChildInThisGroupDeepSearch = function(t) {
      var e = !1;
      return this.children.forEach(function(r) {
        t === r && (e = !0), r instanceof o && r.isChildInThisGroupDeepSearch(t) && (e = !0);
      }), e;
    }, o.prototype.getActualWidth = function() {
      var t = 0;
      return this.displayedChildren && this.displayedChildren.forEach(function(e) {
        t += e.getActualWidth();
      }), t;
    }, o.prototype.isResizable = function() {
      if (!this.displayedChildren)
        return !1;
      var t = !1;
      return this.displayedChildren.forEach(function(e) {
        e.isResizable() && (t = !0);
      }), t;
    }, o.prototype.getMinWidth = function() {
      var t = 0;
      return this.displayedChildren.forEach(function(e) {
        t += e.getMinWidth() || 0;
      }), t;
    }, o.prototype.addChild = function(t) {
      this.children || (this.children = []), this.children.push(t);
    }, o.prototype.getDisplayedChildren = function() {
      return this.displayedChildren;
    }, o.prototype.getLeafColumns = function() {
      var t = [];
      return this.addLeafColumns(t), t;
    }, o.prototype.getDisplayedLeafColumns = function() {
      var t = [];
      return this.addDisplayedLeafColumns(t), t;
    }, o.prototype.getDefinition = function() {
      return this.providedColumnGroup.getColGroupDef();
    }, o.prototype.getColGroupDef = function() {
      return this.providedColumnGroup.getColGroupDef();
    }, o.prototype.isPadding = function() {
      return this.providedColumnGroup.isPadding();
    }, o.prototype.isExpandable = function() {
      return this.providedColumnGroup.isExpandable();
    }, o.prototype.isExpanded = function() {
      return this.providedColumnGroup.isExpanded();
    }, o.prototype.setExpanded = function(t) {
      this.providedColumnGroup.setExpanded(t);
    }, o.prototype.addDisplayedLeafColumns = function(t) {
      this.displayedChildren.forEach(function(e) {
        e instanceof Me ? t.push(e) : e instanceof o && e.addDisplayedLeafColumns(t);
      });
    }, o.prototype.addLeafColumns = function(t) {
      this.children.forEach(function(e) {
        e instanceof Me ? t.push(e) : e instanceof o && e.addLeafColumns(t);
      });
    }, o.prototype.getChildren = function() {
      return this.children;
    }, o.prototype.getColumnGroupShow = function() {
      return this.providedColumnGroup.getColumnGroupShow();
    }, o.prototype.getProvidedColumnGroup = function() {
      return this.providedColumnGroup;
    }, o.prototype.getPaddingLevel = function() {
      var t = this.getParent();
      return !this.isPadding() || !t || !t.isPadding() ? 0 : 1 + t.getPaddingLevel();
    }, o.prototype.calculateDisplayedColumns = function() {
      var t = this;
      this.displayedChildren = [];
      for (var e = this; e != null && e.isPadding(); )
        e = e.getParent();
      var r = e ? e.providedColumnGroup.isExpandable() : !1;
      if (!r) {
        this.displayedChildren = this.children, this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED));
        return;
      }
      this.children.forEach(function(n) {
        var i = n instanceof o && (!n.displayedChildren || !n.displayedChildren.length);
        if (!i) {
          var a = n.getColumnGroupShow();
          switch (a) {
            case "open":
              e.providedColumnGroup.isExpanded() && t.displayedChildren.push(n);
              break;
            case "closed":
              e.providedColumnGroup.isExpanded() || t.displayedChildren.push(n);
              break;
            default:
              t.displayedChildren.push(n);
              break;
          }
        }
      }), this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED));
    }, o.EVENT_LEFT_CHANGED = "leftChanged", o.EVENT_DISPLAYED_CHILDREN_CHANGED = "displayedChildrenChanged", BA([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), o;
  }()
), R = (
  /** @class */
  function() {
    function o() {
    }
    return o.EVENT_COLUMN_EVERYTHING_CHANGED = "columnEverythingChanged", o.EVENT_NEW_COLUMNS_LOADED = "newColumnsLoaded", o.EVENT_COLUMN_PIVOT_MODE_CHANGED = "columnPivotModeChanged", o.EVENT_COLUMN_ROW_GROUP_CHANGED = "columnRowGroupChanged", o.EVENT_EXPAND_COLLAPSE_ALL = "expandOrCollapseAll", o.EVENT_COLUMN_PIVOT_CHANGED = "columnPivotChanged", o.EVENT_GRID_COLUMNS_CHANGED = "gridColumnsChanged", o.EVENT_COLUMN_VALUE_CHANGED = "columnValueChanged", o.EVENT_COLUMN_MOVED = "columnMoved", o.EVENT_COLUMN_VISIBLE = "columnVisible", o.EVENT_COLUMN_PINNED = "columnPinned", o.EVENT_COLUMN_GROUP_OPENED = "columnGroupOpened", o.EVENT_COLUMN_RESIZED = "columnResized", o.EVENT_DISPLAYED_COLUMNS_CHANGED = "displayedColumnsChanged", o.EVENT_VIRTUAL_COLUMNS_CHANGED = "virtualColumnsChanged", o.EVENT_ASYNC_TRANSACTIONS_FLUSHED = "asyncTransactionsFlushed", o.EVENT_ROW_GROUP_OPENED = "rowGroupOpened", o.EVENT_ROW_DATA_CHANGED = "rowDataChanged", o.EVENT_ROW_DATA_UPDATED = "rowDataUpdated", o.EVENT_PINNED_ROW_DATA_CHANGED = "pinnedRowDataChanged", o.EVENT_RANGE_SELECTION_CHANGED = "rangeSelectionChanged", o.EVENT_CHART_CREATED = "chartCreated", o.EVENT_CHART_RANGE_SELECTION_CHANGED = "chartRangeSelectionChanged", o.EVENT_CHART_OPTIONS_CHANGED = "chartOptionsChanged", o.EVENT_CHART_DESTROYED = "chartDestroyed", o.EVENT_TOOL_PANEL_VISIBLE_CHANGED = "toolPanelVisibleChanged", o.EVENT_TOOL_PANEL_SIZE_CHANGED = "toolPanelSizeChanged", o.EVENT_COLUMN_PANEL_ITEM_DRAG_START = "columnPanelItemDragStart", o.EVENT_COLUMN_PANEL_ITEM_DRAG_END = "columnPanelItemDragEnd", o.EVENT_MODEL_UPDATED = "modelUpdated", o.EVENT_CUT_START = "cutStart", o.EVENT_CUT_END = "cutEnd", o.EVENT_PASTE_START = "pasteStart", o.EVENT_PASTE_END = "pasteEnd", o.EVENT_FILL_START = "fillStart", o.EVENT_FILL_END = "fillEnd", o.EVENT_RANGE_DELETE_START = "rangeDeleteStart", o.EVENT_RANGE_DELETE_END = "rangeDeleteEnd", o.EVENT_UNDO_STARTED = "undoStarted", o.EVENT_UNDO_ENDED = "undoEnded", o.EVENT_REDO_STARTED = "redoStarted", o.EVENT_REDO_ENDED = "redoEnded", o.EVENT_KEY_SHORTCUT_CHANGED_CELL_START = "keyShortcutChangedCellStart", o.EVENT_KEY_SHORTCUT_CHANGED_CELL_END = "keyShortcutChangedCellEnd", o.EVENT_CELL_CLICKED = "cellClicked", o.EVENT_CELL_DOUBLE_CLICKED = "cellDoubleClicked", o.EVENT_CELL_MOUSE_DOWN = "cellMouseDown", o.EVENT_CELL_CONTEXT_MENU = "cellContextMenu", o.EVENT_CELL_VALUE_CHANGED = "cellValueChanged", o.EVENT_CELL_EDIT_REQUEST = "cellEditRequest", o.EVENT_ROW_VALUE_CHANGED = "rowValueChanged", o.EVENT_CELL_FOCUSED = "cellFocused", o.EVENT_CELL_FOCUS_CLEARED = "cellFocusCleared", o.EVENT_FULL_WIDTH_ROW_FOCUSED = "fullWidthRowFocused", o.EVENT_ROW_SELECTED = "rowSelected", o.EVENT_SELECTION_CHANGED = "selectionChanged", o.EVENT_CELL_KEY_DOWN = "cellKeyDown", o.EVENT_CELL_MOUSE_OVER = "cellMouseOver", o.EVENT_CELL_MOUSE_OUT = "cellMouseOut", o.EVENT_FILTER_CHANGED = "filterChanged", o.EVENT_FILTER_MODIFIED = "filterModified", o.EVENT_FILTER_OPENED = "filterOpened", o.EVENT_SORT_CHANGED = "sortChanged", o.EVENT_VIRTUAL_ROW_REMOVED = "virtualRowRemoved", o.EVENT_ROW_CLICKED = "rowClicked", o.EVENT_ROW_DOUBLE_CLICKED = "rowDoubleClicked", o.EVENT_GRID_READY = "gridReady", o.EVENT_GRID_SIZE_CHANGED = "gridSizeChanged", o.EVENT_VIEWPORT_CHANGED = "viewportChanged", o.EVENT_SCROLLBAR_WIDTH_CHANGED = "scrollbarWidthChanged", o.EVENT_FIRST_DATA_RENDERED = "firstDataRendered", o.EVENT_DRAG_STARTED = "dragStarted", o.EVENT_DRAG_STOPPED = "dragStopped", o.EVENT_CHECKBOX_CHANGED = "checkboxChanged", o.EVENT_ROW_EDITING_STARTED = "rowEditingStarted", o.EVENT_ROW_EDITING_STOPPED = "rowEditingStopped", o.EVENT_CELL_EDITING_STARTED = "cellEditingStarted", o.EVENT_CELL_EDITING_STOPPED = "cellEditingStopped", o.EVENT_BODY_SCROLL = "bodyScroll", o.EVENT_BODY_SCROLL_END = "bodyScrollEnd", o.EVENT_HEIGHT_SCALE_CHANGED = "heightScaleChanged", o.EVENT_PAGINATION_CHANGED = "paginationChanged", o.EVENT_COMPONENT_STATE_CHANGED = "componentStateChanged", o.EVENT_STORE_REFRESHED = "storeRefreshed", o.EVENT_BODY_HEIGHT_CHANGED = "bodyHeightChanged", o.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED = "displayedColumnsWidthChanged", o.EVENT_SCROLL_VISIBILITY_CHANGED = "scrollVisibilityChanged", o.EVENT_COLUMN_HOVER_CHANGED = "columnHoverChanged", o.EVENT_FLASH_CELLS = "flashCells", o.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED = "paginationPixelOffsetChanged", o.EVENT_DISPLAYED_ROWS_CHANGED = "displayedRowsChanged", o.EVENT_LEFT_PINNED_WIDTH_CHANGED = "leftPinnedWidthChanged", o.EVENT_RIGHT_PINNED_WIDTH_CHANGED = "rightPinnedWidthChanged", o.EVENT_ROW_CONTAINER_HEIGHT_CHANGED = "rowContainerHeightChanged", o.EVENT_HEADER_HEIGHT_CHANGED = "headerHeightChanged", o.EVENT_COLUMN_HEADER_HEIGHT_CHANGED = "columnHeaderHeightChanged", o.EVENT_ROW_DRAG_ENTER = "rowDragEnter", o.EVENT_ROW_DRAG_MOVE = "rowDragMove", o.EVENT_ROW_DRAG_LEAVE = "rowDragLeave", o.EVENT_ROW_DRAG_END = "rowDragEnd", o.EVENT_GRID_STYLES_CHANGED = "gridStylesChanged", o.EVENT_POPUP_TO_FRONT = "popupToFront", o.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST = "columnRowGroupChangeRequest", o.EVENT_COLUMN_PIVOT_CHANGE_REQUEST = "columnPivotChangeRequest", o.EVENT_COLUMN_VALUE_CHANGE_REQUEST = "columnValueChangeRequest", o.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST = "columnAggFuncChangeRequest", o.EVENT_KEYBOARD_FOCUS = "keyboardFocus", o.EVENT_MOUSE_FOCUS = "mouseFocus", o.EVENT_STORE_UPDATED = "storeUpdated", o.EVENT_FILTER_DESTROYED = "filterDestroyed", o.EVENT_ROW_DATA_UPDATE_STARTED = "rowDataUpdateStarted", o;
  }()
), Mb = (
  /** @class */
  function() {
    function o() {
      this.existingIds = {};
    }
    return o.prototype.getInstanceIdForKey = function(t) {
      var e = this.existingIds[t], r;
      return typeof e != "number" ? r = 0 : r = e + 1, this.existingIds[t] = r, r;
    }, o;
  }()
), HA = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Xf = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, oo = "ag-Grid-AutoColumn", jA = (
  /** @class */
  function(o) {
    HA(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createAutoGroupColumns = function(e, r) {
      var n = this, i = [], a = this.gridOptionsService.isTreeData(), s = this.gridOptionsService.isGroupMultiAutoColumn();
      return a && s && (console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'), s = !1), s ? r.forEach(function(l, u) {
        i.push(n.createOneAutoGroupColumn(e, l, u));
      }) : i.push(this.createOneAutoGroupColumn(e)), i;
    }, t.prototype.createOneAutoGroupColumn = function(e, r, n) {
      var i = this.generateDefaultColDef(r), a;
      r ? a = oo + "-" + r.getId() : a = oo;
      var s = this.gridOptionsService.get("autoGroupColumnDef");
      if (Zr(i, s), i = this.columnFactory.mergeColDefs(i, a), i.colId = a, !this.gridOptionsService.isTreeData()) {
        var l = me(i.field) && me(i.valueGetter) && me(i.filterValueGetter) && i.filter !== "agGroupColumnFilter";
        l && (i.filter = !1);
      }
      n && n > 0 && (i.headerCheckboxSelection = !1);
      var u = e.find(function(p) {
        return p.getId() == a;
      }), c = this.gridOptionsService.isColumnsSortingCoupledToGroup();
      if (u)
        return c && (i.sort = void 0, i.sortIndex = void 0), u.setColDef(i, null), this.columnFactory.applyColumnState(u, i), u;
      c && (i.sort || i.initialSort || "sortIndex" in i) && !i.field && (i.sort = null, i.sortIndex = null, i.initialSort = null);
      var d = new Me(i, null, a, !0);
      return this.context.createBean(d), d;
    }, t.prototype.generateDefaultColDef = function(e) {
      var r = this.gridOptionsService.get("autoGroupColumnDef"), n = this.localeService.getLocaleTextFunc(), i = {
        headerName: n("group", "Group")
      }, a = r && (r.cellRenderer || r.cellRendererSelector);
      if (a || (i.cellRenderer = "agGroupCellRenderer"), e) {
        var s = e.getColDef();
        Object.assign(i, {
          // cellRendererParams.groupKey: colDefToCopy.field;
          headerName: this.columnModel.getDisplayNameForColumn(e, "header"),
          headerValueGetter: s.headerValueGetter
        }), s.cellRenderer && Object.assign(i, {
          cellRendererParams: {
            innerRenderer: s.cellRenderer,
            innerRendererParams: s.cellRendererParams
          }
        }), i.showRowGroup = e.getColId();
      } else
        i.showRowGroup = !0;
      return i;
    }, Xf([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Xf([
      w("columnFactory")
    ], t.prototype, "columnFactory", void 0), t = Xf([
      q("autoGroupColService")
    ], t), t;
  }(W)
), WA = /[&<>"']/g, $A = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function UA(o) {
  var t = String.fromCharCode;
  function e(d) {
    var p = [];
    if (!d)
      return [];
    for (var h = d.length, f = 0, v, g; f < h; )
      v = d.charCodeAt(f++), v >= 55296 && v <= 56319 && f < h ? (g = d.charCodeAt(f++), (g & 64512) == 56320 ? p.push(((v & 1023) << 10) + (g & 1023) + 65536) : (p.push(v), f--)) : p.push(v);
    return p;
  }
  function r(d) {
    if (d >= 55296 && d <= 57343)
      throw Error("Lone surrogate U+" + d.toString(16).toUpperCase() + " is not a scalar value");
  }
  function n(d, p) {
    return t(d >> p & 63 | 128);
  }
  function i(d) {
    if (d >= 0 && d <= 31 && d !== 10) {
      var p = d.toString(16).toUpperCase(), h = p.padStart(4, "0");
      return "_x" + h + "_";
    }
    if (!(d & 4294967168))
      return t(d);
    var f = "";
    return d & 4294965248 ? d & 4294901760 ? d & 4292870144 || (f = t(d >> 18 & 7 | 240), f += n(d, 12), f += n(d, 6)) : (r(d), f = t(d >> 12 & 15 | 224), f += n(d, 6)) : f = t(d >> 6 & 31 | 192), f += t(d & 63 | 128), f;
  }
  for (var a = e(o), s = a.length, l = -1, u, c = ""; ++l < s; )
    u = a[l], c += i(u);
  return c;
}
function Ib(o) {
  return o[0].toUpperCase() + o.substr(1).toLowerCase();
}
function Oi(o, t) {
  if (o == null)
    return null;
  var e = o.toString().toString();
  return t ? e : e.replace(WA, function(r) {
    return $A[r];
  });
}
function Fb(o) {
  if (!o || o == null)
    return null;
  var t = /([a-z])([A-Z])/g, e = /([A-Z]+)([A-Z])([a-z])/g, r = o.replace(t, "$1 $2").replace(e, "$1 $2$3").replace(/\./g, " ").split(" ");
  return r.map(function(n) {
    return n.substring(0, 1).toUpperCase() + (n.length > 1 ? n.substring(1, n.length) : "");
  }).join(" ");
}
function Lb(o) {
  return o.replace(/[A-Z]/g, function(t) {
    return "-" + t.toLocaleLowerCase();
  });
}
var zA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  utf8_encode: UA,
  capitalise: Ib,
  escapeString: Oi,
  camelCaseToHumanText: Fb,
  camelCaseToHyphenated: Lb
});
function Zi(o) {
  var t = /* @__PURE__ */ new Map();
  return o.forEach(function(e) {
    return t.set(e[0], e[1]);
  }), t;
}
function KA(o, t) {
  var e = /* @__PURE__ */ new Map();
  return o.forEach(function(r) {
    return e.set(t(r), r);
  }), e;
}
function YA(o) {
  var t = [];
  return o.forEach(function(e, r) {
    return t.push(r);
  }), t;
}
var XA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  convertToMap: Zi,
  mapById: KA,
  keys: YA
}), qA = (
  /** @class */
  function() {
    function o() {
    }
    return o.ColDefPropertyMap = {
      headerName: void 0,
      columnGroupShow: void 0,
      headerClass: void 0,
      toolPanelClass: void 0,
      headerValueGetter: void 0,
      pivotKeys: void 0,
      groupId: void 0,
      colId: void 0,
      sort: void 0,
      initialSort: void 0,
      field: void 0,
      type: void 0,
      cellDataType: void 0,
      tooltipComponent: void 0,
      tooltipField: void 0,
      headerTooltip: void 0,
      cellClass: void 0,
      showRowGroup: void 0,
      filter: void 0,
      initialAggFunc: void 0,
      defaultAggFunc: void 0,
      aggFunc: void 0,
      pinned: void 0,
      initialPinned: void 0,
      chartDataType: void 0,
      cellEditorPopupPosition: void 0,
      headerGroupComponent: void 0,
      headerGroupComponentParams: void 0,
      cellStyle: void 0,
      cellRenderer: void 0,
      cellRendererParams: void 0,
      cellEditor: void 0,
      cellEditorParams: void 0,
      filterParams: void 0,
      pivotValueColumn: void 0,
      headerComponent: void 0,
      headerComponentParams: void 0,
      floatingFilterComponent: void 0,
      floatingFilterComponentParams: void 0,
      tooltipComponentParams: void 0,
      refData: void 0,
      columnsMenuParams: void 0,
      children: void 0,
      sortingOrder: void 0,
      allowedAggFuncs: void 0,
      menuTabs: void 0,
      pivotTotalColumnIds: void 0,
      cellClassRules: void 0,
      icons: void 0,
      sortIndex: void 0,
      initialSortIndex: void 0,
      flex: void 0,
      initialFlex: void 0,
      width: void 0,
      initialWidth: void 0,
      minWidth: void 0,
      maxWidth: void 0,
      rowGroupIndex: void 0,
      initialRowGroupIndex: void 0,
      pivotIndex: void 0,
      initialPivotIndex: void 0,
      suppressCellFlash: void 0,
      suppressColumnsToolPanel: void 0,
      suppressFiltersToolPanel: void 0,
      openByDefault: void 0,
      marryChildren: void 0,
      suppressStickyLabel: void 0,
      hide: void 0,
      initialHide: void 0,
      rowGroup: void 0,
      initialRowGroup: void 0,
      pivot: void 0,
      initialPivot: void 0,
      checkboxSelection: void 0,
      showDisabledCheckboxes: void 0,
      headerCheckboxSelection: void 0,
      headerCheckboxSelectionFilteredOnly: void 0,
      headerCheckboxSelectionCurrentPageOnly: void 0,
      suppressMenu: void 0,
      suppressMovable: void 0,
      lockPosition: void 0,
      lockVisible: void 0,
      lockPinned: void 0,
      unSortIcon: void 0,
      suppressSizeToFit: void 0,
      suppressAutoSize: void 0,
      enableRowGroup: void 0,
      enablePivot: void 0,
      enableValue: void 0,
      editable: void 0,
      suppressPaste: void 0,
      suppressNavigable: void 0,
      enableCellChangeFlash: void 0,
      rowDrag: void 0,
      dndSource: void 0,
      autoHeight: void 0,
      wrapText: void 0,
      sortable: void 0,
      resizable: void 0,
      singleClickEdit: void 0,
      floatingFilter: void 0,
      cellEditorPopup: void 0,
      suppressFillHandle: void 0,
      wrapHeaderText: void 0,
      autoHeaderHeight: void 0,
      dndSourceOnRowDrag: void 0,
      valueGetter: void 0,
      valueSetter: void 0,
      filterValueGetter: void 0,
      keyCreator: void 0,
      valueFormatter: void 0,
      valueParser: void 0,
      comparator: void 0,
      equals: void 0,
      pivotComparator: void 0,
      suppressKeyboardEvent: void 0,
      suppressHeaderKeyboardEvent: void 0,
      colSpan: void 0,
      rowSpan: void 0,
      getQuickFilterText: void 0,
      onCellValueChanged: void 0,
      onCellClicked: void 0,
      onCellDoubleClicked: void 0,
      onCellContextMenu: void 0,
      rowDragText: void 0,
      tooltipValueGetter: void 0,
      cellRendererSelector: void 0,
      cellEditorSelector: void 0,
      suppressSpanHeaderHeight: void 0,
      useValueFormatterForExport: void 0,
      useValueParserForImport: void 0
    }, o.ALL_PROPERTIES = Object.keys(o.ColDefPropertyMap), o;
  }()
), co = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, po = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, zi = (
  /** @class */
  function() {
    function o() {
    }
    return o.STRING_PROPERTIES = [
      "rowSelection",
      "overlayLoadingTemplate",
      "overlayNoRowsTemplate",
      "gridId",
      "quickFilterText",
      "rowModelType",
      "editType",
      "domLayout",
      "clipboardDelimiter",
      "rowGroupPanelShow",
      "multiSortKey",
      "pivotColumnGroupTotals",
      "pivotRowTotals",
      "pivotPanelShow",
      "fillHandleDirection",
      "serverSideStoreType",
      "groupDisplayType",
      "treeDataDisplayType",
      "colResizeDefault"
    ], o.OBJECT_PROPERTIES = [
      "components",
      "rowStyle",
      "context",
      "autoGroupColumnDef",
      "localeText",
      "icons",
      "datasource",
      "serverSideDatasource",
      "viewportDatasource",
      "groupRowRendererParams",
      "aggFuncs",
      "fullWidthCellRendererParams",
      "defaultColGroupDef",
      "defaultColDef",
      "defaultCsvExportParams",
      "defaultExcelExportParams",
      "columnTypes",
      "rowClassRules",
      "detailCellRendererParams",
      "loadingCellRendererParams",
      "loadingOverlayComponentParams",
      "noRowsOverlayComponentParams",
      "popupParent",
      "statusBar",
      "sideBar",
      "chartThemeOverrides",
      "customChartThemes",
      "chartToolPanelsDef",
      "dataTypeDefinitions"
    ], o.ARRAY_PROPERTIES = [
      "sortingOrder",
      "alignedGrids",
      "rowData",
      "columnDefs",
      "excelStyles",
      "pinnedTopRowData",
      "pinnedBottomRowData",
      "chartThemes",
      "rowClass"
    ], o.NUMBER_PROPERTIES = [
      "rowHeight",
      "detailRowHeight",
      "rowBuffer",
      "headerHeight",
      "groupHeaderHeight",
      "floatingFiltersHeight",
      "pivotHeaderHeight",
      "pivotGroupHeaderHeight",
      "groupDefaultExpanded",
      "viewportRowModelPageSize",
      "viewportRowModelBufferSize",
      "autoSizePadding",
      "maxBlocksInCache",
      "maxConcurrentDatasourceRequests",
      "tooltipShowDelay",
      "tooltipHideDelay",
      "cacheOverflowSize",
      "paginationPageSize",
      "cacheBlockSize",
      "infiniteInitialRowCount",
      "serverSideInitialRowCount",
      "scrollbarWidth",
      "asyncTransactionWaitMillis",
      "blockLoadDebounceMillis",
      "keepDetailRowsCount",
      "undoRedoCellEditingLimit",
      "cellFlashDelay",
      "cellFadeDelay",
      "tabIndex"
    ], o.BOOLEAN_PROPERTIES = [
      "suppressMakeColumnVisibleAfterUnGroup",
      "suppressRowClickSelection",
      "suppressCellFocus",
      "suppressHorizontalScroll",
      "alwaysShowHorizontalScroll",
      "alwaysShowVerticalScroll",
      "debug",
      "enableBrowserTooltips",
      "enableCellExpressions",
      "groupSelectsChildren",
      "groupIncludeFooter",
      "groupIncludeTotalFooter",
      "groupSuppressBlankHeader",
      "suppressMenuHide",
      "suppressRowDeselection",
      "unSortIcon",
      "suppressMultiSort",
      "alwaysMultiSort",
      "singleClickEdit",
      "suppressLoadingOverlay",
      "suppressNoRowsOverlay",
      "suppressAutoSize",
      "skipHeaderOnAutoSize",
      "suppressParentsInRowNodes",
      "suppressColumnMoveAnimation",
      "suppressMovableColumns",
      "suppressFieldDotNotation",
      "enableRangeSelection",
      "enableRangeHandle",
      "enableFillHandle",
      "suppressClearOnFillReduction",
      "deltaSort",
      "suppressTouch",
      "suppressAsyncEvents",
      "allowContextMenuWithControlKey",
      "suppressContextMenu",
      "rememberGroupStateWhenNewData",
      "enableCellChangeFlash",
      "suppressDragLeaveHidesColumns",
      "suppressRowGroupHidesColumns",
      "suppressMiddleClickScrolls",
      "suppressPreventDefaultOnMouseWheel",
      "suppressCopyRowsToClipboard",
      "copyHeadersToClipboard",
      "copyGroupHeadersToClipboard",
      "pivotMode",
      "suppressAggFuncInHeader",
      "suppressColumnVirtualisation",
      "alwaysAggregateAtRootLevel",
      "suppressAggAtRootLevel",
      "suppressFocusAfterRefresh",
      "functionsPassive",
      "functionsReadOnly",
      "animateRows",
      "groupSelectsFiltered",
      "groupRemoveSingleChildren",
      "groupRemoveLowestSingleChildren",
      "enableRtl",
      "suppressClickEdit",
      "rowDragEntireRow",
      "rowDragManaged",
      "suppressRowDrag",
      "suppressMoveWhenRowDragging",
      "rowDragMultiRow",
      "enableGroupEdit",
      "embedFullWidthRows",
      "suppressPaginationPanel",
      "groupHideOpenParents",
      "groupAllowUnbalanced",
      "pagination",
      "paginationAutoPageSize",
      "suppressScrollOnNewData",
      "suppressScrollWhenPopupsAreOpen",
      "purgeClosedRowNodes",
      "cacheQuickFilter",
      "includeHiddenColumnsInQuickFilter",
      "excludeHiddenColumnsFromQuickFilter",
      "ensureDomOrder",
      "accentedSort",
      "suppressChangeDetection",
      "valueCache",
      "valueCacheNeverExpires",
      "aggregateOnlyChangedColumns",
      "suppressAnimationFrame",
      "suppressExcelExport",
      "suppressCsvExport",
      "treeData",
      "masterDetail",
      "suppressMultiRangeSelection",
      "enterMovesDown",
      "enterMovesDownAfterEdit",
      "enterNavigatesVerticallyAfterEdit",
      "enterNavigatesVertically",
      "suppressPropertyNamesCheck",
      "rowMultiSelectWithClick",
      "suppressRowHoverHighlight",
      "suppressRowTransform",
      "suppressClipboardPaste",
      "suppressLastEmptyLineOnPaste",
      "enableCharts",
      "enableChartToolPanelsButton",
      "suppressChartToolPanelsButton",
      "suppressMaintainUnsortedOrder",
      "enableCellTextSelection",
      "suppressBrowserResizeObserver",
      "suppressMaxRenderedRowRestriction",
      "excludeChildrenWhenTreeDataFiltering",
      "tooltipMouseTrack",
      "keepDetailRows",
      "paginateChildRows",
      "preventDefaultOnContextMenu",
      "undoRedoCellEditing",
      "allowDragFromColumnsToolPanel",
      "pivotSuppressAutoColumn",
      "suppressExpandablePivotGroups",
      "debounceVerticalScrollbar",
      "detailRowAutoHeight",
      "serverSideFilteringAlwaysResets",
      "serverSideFilterAllLevels",
      "serverSideSortingAlwaysResets",
      "serverSideSortAllLevels",
      "serverSideOnlyRefreshFilteredGroups",
      "serverSideSortOnServer",
      "serverSideFilterOnServer",
      "suppressAggFilteredOnly",
      "showOpenedGroup",
      "suppressClipboardApi",
      "suppressModelUpdateAfterUpdateTransaction",
      "stopEditingWhenCellsLoseFocus",
      "maintainColumnOrder",
      "groupMaintainOrder",
      "columnHoverHighlight",
      "suppressReactUi",
      "readOnlyEdit",
      "suppressRowVirtualisation",
      "enableCellEditingOnBackspace",
      "resetRowDataOnUpdate",
      "removePivotHeaderRowWhenSingleValueColumn",
      "suppressCopySingleCellRanges",
      "suppressGroupRowsSticky",
      "suppressServerSideInfiniteScroll",
      "rowGroupPanelSuppressSort",
      "allowShowChangeAfterFilter",
      "suppressCutToClipboard"
    ], o.FUNCTIONAL_PROPERTIES = [
      "doesExternalFilterPass",
      "processSecondaryColDef",
      "processSecondaryColGroupDef",
      "processPivotResultColDef",
      "processPivotResultColGroupDef",
      "getBusinessKeyForNode",
      "isRowSelectable",
      "rowDragText",
      "groupRowRenderer",
      "fullWidthCellRenderer",
      "loadingCellRenderer",
      "loadingOverlayComponent",
      "noRowsOverlayComponent",
      "detailCellRenderer"
    ], o.CALLBACK_PROPERTIES = [
      "getLocaleText",
      "isExternalFilterPresent",
      "getRowHeight",
      "getRowClass",
      "getRowStyle",
      "getContextMenuItems",
      "getMainMenuItems",
      "processRowPostCreate",
      "processCellForClipboard",
      "getGroupRowAgg",
      "isFullWidthRow",
      "sendToClipboard",
      "navigateToNextHeader",
      "tabToNextHeader",
      "navigateToNextCell",
      "tabToNextCell",
      "processCellFromClipboard",
      "getDocument",
      "postProcessPopup",
      "getChildCount",
      "getDataPath",
      "isRowMaster",
      "postSortRows",
      "processHeaderForClipboard",
      "processGroupHeaderForClipboard",
      "paginationNumberFormatter",
      "processDataFromClipboard",
      "getServerSideGroupKey",
      "isServerSideGroup",
      "createChartContainer",
      "getChartToolbarItems",
      "fillOperation",
      "isApplyServerSideTransaction",
      "getServerSideStoreParams",
      "getServerSideGroupLevelParams",
      "isServerSideGroupOpenByDefault",
      "isGroupOpenByDefault",
      "initialGroupOrderComparator",
      "loadingCellRendererSelector",
      "getRowId",
      "groupAggFiltering"
    ], o.FUNCTION_PROPERTIES = po(po([], co(o.FUNCTIONAL_PROPERTIES)), co(o.CALLBACK_PROPERTIES)), o.ALL_PROPERTIES = po(po(po(po(po(po([], co(o.ARRAY_PROPERTIES)), co(o.OBJECT_PROPERTIES)), co(o.STRING_PROPERTIES)), co(o.NUMBER_PROPERTIES)), co(o.FUNCTION_PROPERTIES)), co(o.BOOLEAN_PROPERTIES)), o;
  }()
), ty = function() {
  return ty = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ty.apply(this, arguments);
}, yu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, mu = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Uo = (
  /** @class */
  function() {
    function o() {
    }
    return o.getCallbackForEvent = function(t) {
      return !t || t.length < 2 ? t : "on" + t[0].toUpperCase() + t.substr(1);
    }, o.getCoercionLookup = function() {
      var t = {};
      return mu(mu(mu(mu(mu([], yu(o.ARRAY_PROPERTIES)), yu(o.OBJECT_PROPERTIES)), yu(o.STRING_PROPERTIES)), yu(o.FUNCTION_PROPERTIES)), yu(o.EVENT_CALLBACKS)).forEach(function(e) {
        return t[e] = "none";
      }), o.BOOLEAN_PROPERTIES.forEach(function(e) {
        return t[e] = "boolean";
      }), o.NUMBER_PROPERTIES.forEach(function(e) {
        return t[e] = "number";
      }), t;
    }, o.getValue = function(t, e) {
      var r = o.coercionLookup[t];
      if (r) {
        var n = e;
        switch (r) {
          case "number": {
            n = o.toNumber(e);
            break;
          }
          case "boolean": {
            n = o.toBoolean(e);
            break;
          }
          case "none": {
            t === "groupAggFiltering" && typeof e != "function" && (n = o.toBoolean(e));
            break;
          }
        }
        return n;
      }
    }, o.getGridOptionKeys = function(t, e) {
      return Object.keys(e ? o.coercionLookup : t);
    }, o.copyAttributesToGridOptions = function(t, e, r) {
      r === void 0 && (r = !1), typeof t != "object" && (t = {});
      var n = t, i = o.getGridOptionKeys(e, r);
      return i.forEach(function(a) {
        var s = e[a];
        if (typeof s != "undefined") {
          var l = o.getValue(a, s);
          l !== void 0 && (n[a] = l);
        }
      }), t;
    }, o.processOnChange = function(t, e) {
      if (!(!t || Object.keys(t).length === 0)) {
        var r = ty({}, t);
        r.columnTypes && (e.setColumnTypes(r.columnTypes.currentValue, "gridOptionsChanged"), delete r.columnTypes), r.autoGroupColumnDef && (e.setAutoGroupColumnDef(r.autoGroupColumnDef.currentValue, "gridOptionsChanged"), delete r.autoGroupColumnDef), r.defaultColDef && (e.setDefaultColDef(r.defaultColDef.currentValue, "gridOptionsChanged"), delete r.defaultColDef), r.columnDefs && (e.setColumnDefs(r.columnDefs.currentValue, "gridOptionsChanged"), delete r.columnDefs), Object.keys(r).forEach(function(i) {
          var a = i, s = o.getValue(a, r[a].currentValue);
          e.__setProperty(a, s);
        });
        var n = {
          type: R.EVENT_COMPONENT_STATE_CHANGED
        };
        ut(t, function(i, a) {
          n[i] = a;
        }), e.dispatchEvent(n);
      }
    }, o.toBoolean = function(t) {
      return typeof t == "boolean" ? t : typeof t == "string" ? t.toUpperCase() === "TRUE" || t == "" : !1;
    }, o.toNumber = function(t) {
      if (typeof t == "number")
        return t;
      if (typeof t == "string")
        return Number(t);
    }, o.EVENTS = qa(R), o.EXCLUDED_INTERNAL_EVENTS = [
      R.EVENT_SCROLLBAR_WIDTH_CHANGED,
      R.EVENT_CHECKBOX_CHANGED,
      R.EVENT_HEIGHT_SCALE_CHANGED,
      R.EVENT_BODY_HEIGHT_CHANGED,
      R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,
      R.EVENT_SCROLL_VISIBILITY_CHANGED,
      R.EVENT_COLUMN_HOVER_CHANGED,
      R.EVENT_FLASH_CELLS,
      R.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,
      R.EVENT_DISPLAYED_ROWS_CHANGED,
      R.EVENT_LEFT_PINNED_WIDTH_CHANGED,
      R.EVENT_RIGHT_PINNED_WIDTH_CHANGED,
      R.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,
      R.EVENT_POPUP_TO_FRONT,
      R.EVENT_KEYBOARD_FOCUS,
      R.EVENT_MOUSE_FOCUS,
      R.EVENT_STORE_UPDATED,
      R.EVENT_COLUMN_PANEL_ITEM_DRAG_START,
      R.EVENT_COLUMN_PANEL_ITEM_DRAG_END,
      R.EVENT_FILL_START,
      R.EVENT_FILL_END,
      R.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,
      R.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,
      R.EVENT_FULL_WIDTH_ROW_FOCUSED,
      R.EVENT_HEADER_HEIGHT_CHANGED,
      R.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,
      R.EVENT_CELL_FOCUS_CLEARED,
      R.EVENT_GRID_STYLES_CHANGED,
      R.EVENT_FILTER_DESTROYED,
      R.EVENT_ROW_DATA_UPDATE_STARTED
    ], o.PUBLIC_EVENTS = o.EVENTS.filter(function(t) {
      return !Sn(o.EXCLUDED_INTERNAL_EVENTS, t);
    }), o.EVENT_CALLBACKS = o.EVENTS.map(function(t) {
      return o.getCallbackForEvent(t);
    }), o.STRING_PROPERTIES = zi.STRING_PROPERTIES, o.OBJECT_PROPERTIES = zi.OBJECT_PROPERTIES, o.ARRAY_PROPERTIES = zi.ARRAY_PROPERTIES, o.NUMBER_PROPERTIES = zi.NUMBER_PROPERTIES, o.BOOLEAN_PROPERTIES = zi.BOOLEAN_PROPERTIES, o.FUNCTION_PROPERTIES = zi.FUNCTION_PROPERTIES, o.ALL_PROPERTIES = zi.ALL_PROPERTIES, o.ALL_PROPERTIES_SET = new Set(zi.ALL_PROPERTIES), o.coercionLookup = o.getCoercionLookup(), o;
  }()
);
function Nb(o, t, e) {
  var r = {}, n = o.filter(function(i) {
    return !t.some(function(a) {
      return a === i;
    });
  });
  return n.length > 0 && n.forEach(function(i) {
    return r[i] = dm(i, e);
  }), r;
}
function dm(o, t, e, r) {
  var n = t.map(function(s) {
    return {
      value: s,
      relevance: ZA(o.toLowerCase(), s.toLocaleLowerCase())
    };
  });
  if (n.sort(function(s, l) {
    return l.relevance - s.relevance;
  }), e && (n = n.filter(function(s) {
    return s.relevance !== 0;
  })), r && r > 0) {
    var i = n[0].relevance, a = i * r;
    n = n.filter(function(s) {
      return a - s.relevance < 0;
    });
  }
  return n.map(function(s) {
    return s.value;
  });
}
function ZA(o, t) {
  for (var e = o.replace(/\s/g, ""), r = t.replace(/\s/g, ""), n = 0, i = -1, a = 0; a < e.length; a++) {
    var s = r.indexOf(e[a], i + 1);
    s !== -1 && (i = s, n += 100 - i * 100 / 1e4 * 100);
  }
  return n;
}
var QA = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  fuzzyCheckStrings: Nb,
  fuzzySuggestions: dm
}), Ed = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ho = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, fo = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
};
function gn(o, t, e, r) {
  var n = e ? "Please use '" + e + "' instead. " : "";
  ze(function() {
    return console.warn("AG Grid: since v" + o + ", '" + t + "' is deprecated. " + n + (r != null ? r : ""));
  }, "Deprecated_" + t);
}
var BC = ["__ob__", "__v_skip", "__metadata__"], JA = (
  /** @class */
  function() {
    function o() {
      this.deprecatedProperties = {
        rememberGroupStateWhenNewData: { version: "24", message: "Now that transaction updates are possible and they keep group state, this feature is no longer needed." },
        serverSideFilteringAlwaysResets: { version: "28.0", newProp: "serverSideOnlyRefreshFilteredGroups", copyToNewProp: !0 },
        serverSideSortingAlwaysResets: { version: "28.0", newProp: "serverSideSortAllLevels", copyToNewProp: !0 },
        suppressReactUi: { version: "28", message: "The legacy React rendering engine is deprecated and will be removed in the next major version of the grid." },
        processSecondaryColDef: { version: "28", newProp: "processPivotResultColDef", copyToNewProp: !0 },
        processSecondaryColGroupDef: { version: "28", newProp: "processPivotResultColGroupDef", copyToNewProp: !0 },
        getServerSideStoreParams: { version: "28", newProp: "getServerSideGroupLevelParams", copyToNewProp: !0 },
        serverSideInfiniteScroll: { version: "29", message: "Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`." },
        enableChartToolPanelsButton: { version: "29", message: "The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true." },
        functionsPassive: { version: "29.2" },
        onColumnRowGroupChangeRequest: { version: "29.2" },
        onColumnPivotChangeRequest: { version: "29.2" },
        onColumnValueChangeRequest: { version: "29.2" },
        onColumnAggFuncChangeRequest: { version: "29.2" },
        serverSideFilterAllLevels: { version: "30", message: "All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`." },
        suppressAggAtRootLevel: { version: "30", message: "The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`." },
        excludeHiddenColumnsFromQuickFilter: { version: "30", message: "Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`." },
        enterMovesDown: { version: "30", newProp: "enterNavigatesVertically", copyToNewProp: !0 },
        enterMovesDownAfterEdit: { version: "30", newProp: "enterNavigatesVerticallyAfterEdit", copyToNewProp: !0 }
      };
    }
    return o.prototype.pickOneWarning = function(t, e) {
      console.warn("AG Grid: " + t + " and " + e + " do not work with each other, you need to pick one.");
    }, o.prototype.init = function() {
      var t = this;
      if (this.checkForDeprecated(), this.checkForViolations(), this.gridOptions.suppressPropertyNamesCheck !== !0 && (this.checkGridOptionsProperties(), this.checkColumnDefProperties()), this.checkColumnDefViolations(), this.gridOptionsService.is("groupSelectsChildren") && this.gridOptionsService.is("suppressParentsInRowNodes") && console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"), this.gridOptionsService.is("groupSelectsChildren") && this.gridOptionsService.get("rowSelection") !== "multiple" && console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"), this.gridOptionsService.is("groupRemoveSingleChildren") && this.gridOptionsService.is("groupHideOpenParents") && this.pickOneWarning("groupRemoveSingleChildren", "groupHideOpenParents"), this.gridOptionsService.isRowModelType("serverSide")) {
        var e = function(n, i) {
          return "AG Grid: '" + n + "' is not supported on the Server-Side Row Model." + (i ? " Please use " + i + " instead." : "");
        };
        this.gridOptionsService.exists("groupDefaultExpanded") && console.warn(e("groupDefaultExpanded", "isServerSideGroupOpenByDefault callback")), this.gridOptionsService.exists("groupIncludeFooter") && this.gridOptionsService.is("suppressServerSideInfiniteScroll") && console.warn(e("groupIncludeFooter")), this.gridOptionsService.exists("groupIncludeTotalFooter") && console.warn(e("groupIncludeTotalFooter"));
      }
      this.gridOptionsService.is("enableRangeSelection") ? de.__assertRegistered(Z.RangeSelectionModule, "enableRangeSelection", this.gridOptionsService.getGridId()) : (this.gridOptionsService.is("enableRangeHandle") || this.gridOptionsService.is("enableFillHandle")) && console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");
      var r = function(n, i) {
        return t.gridOptionsService.exists(n) && de.__assertRegistered(i, n, t.gridOptionsService.getGridId());
      };
      r("sideBar", Z.SideBarModule), r("statusBar", Z.StatusBarModule), r("enableCharts", Z.GridChartsModule), r("getMainMenuItems", Z.MenuModule), r("getContextMenuItems", Z.MenuModule), r("allowContextMenuWithControlKey", Z.MenuModule);
    }, o.prototype.checkColumnDefProperties = function() {
      var t = this;
      if (this.gridOptions.columnDefs != null) {
        var e = qA.ALL_PROPERTIES, r = function(n, i) {
          var a = Object.getOwnPropertyNames(n);
          t.checkProperties(a, fo(fo([], ho(e)), ho(BC)), e, i, "https://www.ag-grid.com/javascript-data-grid/column-properties/"), n.children && n.children.forEach(function(s) {
            return r(s, "columnDefs.children");
          });
        };
        this.gridOptions.columnDefs.forEach(function(n) {
          return r(n, "columnDefs");
        }), this.gridOptions.defaultColDef && r(this.gridOptions.defaultColDef, "defaultColDef");
      }
    }, o.prototype.checkColumnDefViolations = function() {
      var t, e = (t = this.gridOptionsService.get("rowModelType")) !== null && t !== void 0 ? t : "clientSide", r = {
        infinite: ["headerCheckboxSelection", "headerCheckboxSelectionFilteredOnly", "headerCheckboxSelectionCurrentPageOnly"],
        viewport: ["headerCheckboxSelection", "headerCheckboxSelectionFilteredOnly", "headerCheckboxSelectionCurrentPageOnly"],
        serverSide: ["headerCheckboxSelectionFilteredOnly", "headerCheckboxSelectionCurrentPageOnly"],
        clientSide: []
      }, n = r[e];
      if (n != null && n.length) {
        var i = function(a) {
          n.forEach(function(s) {
            s in a && a[s] && console.warn("AG Grid: Column property " + s + " is not supported with the row model type " + e + ".");
          });
        };
        this.gridOptions.columnDefs != null && this.gridOptions.columnDefs.forEach(function(a) {
          return i(a);
        }), this.gridOptions.autoGroupColumnDef != null && i(this.gridOptions.autoGroupColumnDef), this.gridOptions.defaultColDef != null && i(this.gridOptions.defaultColDef);
      }
    }, o.prototype.checkGridOptionsProperties = function() {
      var t = Object.getOwnPropertyNames(this.gridOptions), e = fo(fo([], ho(zi.ALL_PROPERTIES)), ho(Uo.EVENT_CALLBACKS)), r = fo(fo(fo(fo([], ho(e)), ["api", "columnApi"]), ho(BC)), ho(Object.keys(this.deprecatedProperties)));
      this.checkProperties(t, r, e, "gridOptions", "https://www.ag-grid.com/javascript-data-grid/grid-options/");
    }, o.prototype.checkProperties = function(t, e, r, n, i) {
      var a = Nb(t, e, r);
      ut(a, function(s, l) {
        ze(function() {
          return console.warn("AG Grid: invalid " + n + " property '" + s + "' did you mean any of these: " + l.slice(0, 8).join(", "));
        }, "invalidProperty" + n + s);
      }), Object.keys(a).length > 0 && ze(function() {
        return console.warn("AG Grid: to see all the valid " + n + " properties please check: " + i);
      }, "invalidProperties" + n + i);
    }, o.prototype.checkForDeprecated = function() {
      var t = this.gridOptions;
      Object.entries(this.deprecatedProperties).forEach(function(e) {
        var r, n = ho(e, 2), i = n[0], a = n[1], s = t[i];
        s && (gn(a.version, i, a.newProp, a.message), a.copyToNewProp && a.newProp && t[a.newProp] == null && (t[a.newProp] = (r = a.newPropValue) !== null && r !== void 0 ? r : s));
      }), t.serverSideStoreType && (console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."), t.suppressServerSideInfiniteScroll = t.serverSideStoreType !== "partial");
    }, o.prototype.checkForViolations = function() {
      this.gridOptionsService.is("treeData") && this.treeDataViolations();
    }, o.prototype.treeDataViolations = function() {
      this.gridOptionsService.isRowModelType("clientSide") && (this.gridOptionsService.exists("getDataPath") || console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")), this.gridOptionsService.isRowModelType("serverSide") && (this.gridOptionsService.exists("isServerSideGroup") || console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."), this.gridOptionsService.exists("getServerSideGroupKey") || console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."));
    }, Ed([
      w("gridOptions")
    ], o.prototype, "gridOptions", void 0), Ed([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), Ed([
      V
    ], o.prototype, "init", null), o = Ed([
      q("gridOptionsValidator")
    ], o), o;
  }()
);
function ry(o, t) {
  var e = ["groupRows", "multipleColumns", "custom", "singleColumn"];
  return e.indexOf(t) < 0 ? (console.warn("AG Grid: '" + t + "' is not a valid groupDisplayType value - possible values are: '" + e.join("', '") + "'"), !1) : t === o;
}
function eM(o, t) {
  var e = ["auto", "custom"];
  return e.indexOf(t) < 0 ? (console.warn("AG Grid: '" + t + "' is not a valid treeDataDisplayType value - possible values are: '" + e.join("', '") + "'"), !1) : t === o;
}
var tM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, rM = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, nM = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, HC = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, pa = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, ha = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, iM = (
  /** @class */
  function(o) {
    tM(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.primaryHeaderRowCount = 0, e.secondaryHeaderRowCount = 0, e.gridHeaderRowCount = 0, e.displayedColumnsLeft = [], e.displayedColumnsRight = [], e.displayedColumnsCenter = [], e.displayedColumns = [], e.displayedColumnsAndGroupsMap = {}, e.viewportColumns = [], e.viewportColumnsHash = "", e.headerViewportColumns = [], e.viewportColumnsCenter = [], e.headerViewportColumnsCenter = [], e.autoHeightActiveAtLeastOnce = !1, e.rowGroupColumns = [], e.valueColumns = [], e.pivotColumns = [], e.ready = !1, e.autoGroupsNeedBuilding = !1, e.forceRecreateAutoGroups = !1, e.pivotMode = !1, e.bodyWidth = 0, e.leftWidth = 0, e.rightWidth = 0, e.bodyWidthDirty = !0, e.shouldQueueResizeOperations = !1, e.resizeOperationQueue = [], e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.suppressColumnVirtualisation = this.gridOptionsService.is("suppressColumnVirtualisation");
      var r = this.gridOptionsService.is("pivotMode");
      this.isPivotSettingAllowed(r) && (this.pivotMode = r), this.usingTreeData = this.gridOptionsService.isTreeData(), this.addManagedPropertyListener("groupDisplayType", function() {
        return e.onAutoGroupColumnDefChanged();
      }), this.addManagedPropertyListener("autoGroupColumnDef", function() {
        return e.onAutoGroupColumnDefChanged();
      }), this.addManagedPropertyListener("defaultColDef", function(n) {
        return e.onSharedColDefChanged(n.source);
      }), this.addManagedPropertyListener("columnTypes", function(n) {
        return e.onSharedColDefChanged(n.source);
      });
    }, t.prototype.onAutoGroupColumnDefChanged = function() {
      this.columnDefs && (this.autoGroupsNeedBuilding = !0, this.forceRecreateAutoGroups = !0, this.updateGridColumns(), this.updateDisplayedColumns("gridOptionsChanged"));
    }, t.prototype.onSharedColDefChanged = function(e) {
      e === void 0 && (e = "api"), this.forceRecreateAutoGroups = !0, this.createColumnsFromColumnDefs(!0, e);
    }, t.prototype.setColumnDefs = function(e, r) {
      r === void 0 && (r = "api");
      var n = !!this.columnDefs;
      this.columnDefs = e, this.createColumnsFromColumnDefs(n, r);
    }, t.prototype.recreateColumnDefs = function(e) {
      e === void 0 && (e = "api"), this.onSharedColDefChanged(e);
    }, t.prototype.destroyOldColumns = function(e, r) {
      var n = {};
      if (e) {
        this.columnUtils.depthFirstOriginalTreeSearch(null, e, function(a) {
          n[a.getInstanceId()] = a;
        }), r && this.columnUtils.depthFirstOriginalTreeSearch(null, r, function(a) {
          n[a.getInstanceId()] = null;
        });
        var i = Object.values(n).filter(function(a) {
          return a != null;
        });
        this.destroyBeans(i);
      }
    }, t.prototype.destroyColumns = function() {
      this.destroyOldColumns(this.primaryColumnTree), this.destroyOldColumns(this.secondaryBalancedTree), this.destroyOldColumns(this.groupAutoColsBalancedTree);
    }, t.prototype.createColumnsFromColumnDefs = function(e, r) {
      var n = this;
      r === void 0 && (r = "api");
      var i = e ? this.compareColumnStatesAndDispatchEvents(r) : void 0;
      this.valueCache.expire(), this.autoGroupsNeedBuilding = !0;
      var a = this.primaryColumns, s = this.primaryColumnTree, l = this.columnFactory.createColumnTree(this.columnDefs, !0, s);
      this.destroyOldColumns(this.primaryColumnTree, l.columnTree), this.primaryColumnTree = l.columnTree, this.primaryHeaderRowCount = l.treeDept + 1, this.primaryColumns = this.getColumnsFromTree(this.primaryColumnTree), this.primaryColumnsMap = {}, this.primaryColumns.forEach(function(d) {
        return n.primaryColumnsMap[d.getId()] = d;
      }), this.extractRowGroupColumns(r, a), this.extractPivotColumns(r, a), this.extractValueColumns(r, a), this.ready = !0;
      var u = this.gridColsArePrimary === void 0, c = this.gridColsArePrimary || u;
      c && (this.updateGridColumns(), e && !this.gridOptionsService.is("maintainColumnOrder") && this.orderGridColumnsLikePrimary(), this.updateDisplayedColumns(r), this.checkViewportColumns()), this.dispatchEverythingChanged(r), i && i(), this.dispatchNewColumnsLoaded();
    }, t.prototype.dispatchNewColumnsLoaded = function() {
      var e = {
        type: R.EVENT_NEW_COLUMNS_LOADED
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.dispatchEverythingChanged = function(e) {
      e === void 0 && (e = "api");
      var r = {
        type: R.EVENT_COLUMN_EVERYTHING_CHANGED,
        source: e
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.orderGridColumnsLikePrimary = function() {
      var e = this, r = this.primaryColumns;
      r && (this.gridColumns.sort(function(n, i) {
        var a = r.indexOf(n), s = r.indexOf(i), l = a >= 0, u = s >= 0;
        if (l && u)
          return a - s;
        if (l)
          return 1;
        if (u)
          return -1;
        var c = e.gridColumns.indexOf(n), d = e.gridColumns.indexOf(i);
        return c - d;
      }), this.gridColumns = this.placeLockedColumns(this.gridColumns));
    }, t.prototype.getAllDisplayedAutoHeightCols = function() {
      return this.displayedAutoHeightCols;
    }, t.prototype.setViewport = function() {
      this.gridOptionsService.is("enableRtl") ? (this.viewportLeft = this.bodyWidth - this.scrollPosition - this.scrollWidth, this.viewportRight = this.bodyWidth - this.scrollPosition) : (this.viewportLeft = this.scrollPosition, this.viewportRight = this.scrollWidth + this.scrollPosition);
    }, t.prototype.getDisplayedColumnsStartingAt = function(e) {
      for (var r = e, n = []; r != null; )
        n.push(r), r = this.getDisplayedColAfter(r);
      return n;
    }, t.prototype.checkViewportColumns = function() {
      if (this.displayedColumnsCenter != null) {
        var e = this.extractViewport();
        if (e) {
          var r = {
            type: R.EVENT_VIRTUAL_COLUMNS_CHANGED
          };
          this.eventService.dispatchEvent(r);
        }
      }
    }, t.prototype.setViewportPosition = function(e, r) {
      (e !== this.scrollWidth || r !== this.scrollPosition || this.bodyWidthDirty) && (this.scrollWidth = e, this.scrollPosition = r, this.bodyWidthDirty = !0, this.setViewport(), this.ready && this.checkViewportColumns());
    }, t.prototype.isPivotMode = function() {
      return this.pivotMode;
    }, t.prototype.isPivotSettingAllowed = function(e) {
      return e && this.gridOptionsService.isTreeData() ? (console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"), !1) : !0;
    }, t.prototype.setPivotMode = function(e, r) {
      if (r === void 0 && (r = "api"), !(e === this.pivotMode || !this.isPivotSettingAllowed(this.pivotMode))) {
        this.pivotMode = e, this.autoGroupsNeedBuilding = !0, this.updateGridColumns(), this.updateDisplayedColumns(r);
        var n = {
          type: R.EVENT_COLUMN_PIVOT_MODE_CHANGED
        };
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.getSecondaryPivotColumn = function(e, r) {
      if (me(this.secondaryColumns))
        return null;
      var n = this.getPrimaryColumn(r), i = null;
      return this.secondaryColumns.forEach(function(a) {
        var s = a.getColDef().pivotKeys, l = a.getColDef().pivotValueColumn, u = Vo(s, e), c = l === n;
        u && c && (i = a);
      }), i;
    }, t.prototype.setBeans = function(e) {
      this.logger = e.create("columnModel");
    }, t.prototype.setFirstRightAndLastLeftPinned = function(e) {
      var r, n;
      this.gridOptionsService.is("enableRtl") ? (r = this.displayedColumnsLeft ? this.displayedColumnsLeft[0] : null, n = this.displayedColumnsRight ? et(this.displayedColumnsRight) : null) : (r = this.displayedColumnsLeft ? et(this.displayedColumnsLeft) : null, n = this.displayedColumnsRight ? this.displayedColumnsRight[0] : null), this.gridColumns.forEach(function(i) {
        i.setLastLeftPinned(i === r, e), i.setFirstRightPinned(i === n, e);
      });
    }, t.prototype.autoSizeColumns = function(e) {
      var r = this;
      if (this.shouldQueueResizeOperations) {
        this.resizeOperationQueue.push(function() {
          return r.autoSizeColumns(e);
        });
        return;
      }
      var n = e.columns, i = e.skipHeader, a = e.skipHeaderGroups, s = e.stopAtGroup, l = e.source, u = l === void 0 ? "api" : l;
      this.animationFrameService.flushAllFrames();
      for (var c = [], d = -1, p = i != null ? i : this.gridOptionsService.is("skipHeaderOnAutoSize"), h = a != null ? a : p; d !== 0; )
        d = 0, this.actionOnGridColumns(n, function(f) {
          if (c.indexOf(f) >= 0)
            return !1;
          var v = r.autoWidthCalculator.getPreferredWidthForColumn(f, p);
          if (v > 0) {
            var g = r.normaliseColumnWidth(f, v);
            f.setActualWidth(g, u), c.push(f), d++;
          }
          return !0;
        }, u);
      h || this.autoSizeColumnGroupsByColumns(n, u, s), this.dispatchColumnResizedEvent(c, !0, "autosizeColumns");
    }, t.prototype.dispatchColumnResizedEvent = function(e, r, n, i) {
      if (i === void 0 && (i = null), e && e.length) {
        var a = {
          type: R.EVENT_COLUMN_RESIZED,
          columns: e,
          column: e.length === 1 ? e[0] : null,
          flexColumns: i,
          finished: r,
          source: n
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.dispatchColumnChangedEvent = function(e, r, n) {
      var i = {
        type: e,
        columns: r,
        column: r && r.length == 1 ? r[0] : null,
        source: n
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.dispatchColumnMovedEvent = function(e) {
      var r = e.movedColumns, n = e.source, i = e.toIndex, a = e.finished, s = {
        type: R.EVENT_COLUMN_MOVED,
        columns: r,
        column: r && r.length === 1 ? r[0] : null,
        toIndex: i,
        finished: a,
        source: n
      };
      this.eventService.dispatchEvent(s);
    }, t.prototype.dispatchColumnPinnedEvent = function(e, r) {
      if (e.length) {
        var n = e.length === 1 ? e[0] : null, i = this.getCommonValue(e, function(s) {
          return s.getPinned();
        }), a = {
          type: R.EVENT_COLUMN_PINNED,
          // mistake in typing, 'undefined' should be allowed, as 'null' means 'not pinned'
          pinned: i != null ? i : null,
          columns: e,
          column: n,
          source: r
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.dispatchColumnVisibleEvent = function(e, r) {
      if (e.length) {
        var n = e.length === 1 ? e[0] : null, i = this.getCommonValue(e, function(s) {
          return s.isVisible();
        }), a = {
          type: R.EVENT_COLUMN_VISIBLE,
          visible: i,
          columns: e,
          column: n,
          source: r
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.autoSizeColumn = function(e, r, n) {
      n === void 0 && (n = "api"), e && this.autoSizeColumns({ columns: [e], skipHeader: r, skipHeaderGroups: !0, source: n });
    }, t.prototype.autoSizeColumnGroupsByColumns = function(e, r, n) {
      var i, a, s, l, u = /* @__PURE__ */ new Set(), c = this.getGridColumns(e);
      c.forEach(function(C) {
        for (var S = C.getParent(); S && S != n; )
          S.isPadding() || u.add(S), S = S.getParent();
      });
      var d, p = [];
      try {
        for (var h = HC(u), f = h.next(); !f.done; f = h.next()) {
          var v = f.value;
          try {
            for (var g = (s = void 0, HC(this.ctrlsService.getHeaderRowContainerCtrls())), y = g.next(); !y.done; y = g.next()) {
              var m = y.value;
              if (d = m.getHeaderCtrlForColumn(v), d)
                break;
            }
          } catch (C) {
            s = { error: C };
          } finally {
            try {
              y && !y.done && (l = g.return) && l.call(g);
            } finally {
              if (s)
                throw s.error;
            }
          }
          d && d.resizeLeafColumnsToFit(r);
        }
      } catch (C) {
        i = { error: C };
      } finally {
        try {
          f && !f.done && (a = h.return) && a.call(h);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return p;
    }, t.prototype.autoSizeAllColumns = function(e, r) {
      var n = this;
      if (r === void 0 && (r = "api"), this.shouldQueueResizeOperations) {
        this.resizeOperationQueue.push(function() {
          return n.autoSizeAllColumns(e, r);
        });
        return;
      }
      var i = this.getAllDisplayedColumns();
      this.autoSizeColumns({ columns: i, skipHeader: e, source: r });
    }, t.prototype.getColumnsFromTree = function(e) {
      var r = [], n = function(i) {
        for (var a = 0; a < i.length; a++) {
          var s = i[a];
          s instanceof Me ? r.push(s) : s instanceof qe && n(s.getChildren());
        }
      };
      return n(e), r;
    }, t.prototype.getAllDisplayedTrees = function() {
      return this.displayedTreeLeft && this.displayedTreeRight && this.displayedTreeCentre ? this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight) : null;
    }, t.prototype.getPrimaryColumnTree = function() {
      return this.primaryColumnTree;
    }, t.prototype.getHeaderRowCount = function() {
      return this.gridHeaderRowCount;
    }, t.prototype.getDisplayedTreeLeft = function() {
      return this.displayedTreeLeft;
    }, t.prototype.getDisplayedTreeRight = function() {
      return this.displayedTreeRight;
    }, t.prototype.getDisplayedTreeCentre = function() {
      return this.displayedTreeCentre;
    }, t.prototype.isColumnDisplayed = function(e) {
      return this.getAllDisplayedColumns().indexOf(e) >= 0;
    }, t.prototype.getAllDisplayedColumns = function() {
      return this.displayedColumns;
    }, t.prototype.getViewportColumns = function() {
      return this.viewportColumns;
    }, t.prototype.getDisplayedLeftColumnsForRow = function(e) {
      return this.colSpanActive ? this.getDisplayedColumnsForRow(e, this.displayedColumnsLeft) : this.displayedColumnsLeft;
    }, t.prototype.getDisplayedRightColumnsForRow = function(e) {
      return this.colSpanActive ? this.getDisplayedColumnsForRow(e, this.displayedColumnsRight) : this.displayedColumnsRight;
    }, t.prototype.isColSpanActive = function() {
      return this.colSpanActive;
    }, t.prototype.getDisplayedColumnsForRow = function(e, r, n, i) {
      for (var a = [], s = null, l = function(d) {
        var p = r[d], h = r.length - d, f = Math.min(p.getColSpan(e), h), v = [p];
        if (f > 1) {
          for (var g = f - 1, y = 1; y <= g; y++)
            v.push(r[d + y]);
          d += g;
        }
        var m;
        if (n ? (m = !1, v.forEach(function(S) {
          n(S) && (m = !0);
        })) : m = !0, m) {
          if (a.length === 0 && s) {
            var C = i ? i(p) : !1;
            C && a.push(s);
          }
          a.push(p);
        }
        s = p, u = d;
      }, u, c = 0; c < r.length; c++)
        l(c), c = u;
      return a;
    }, t.prototype.getViewportCenterColumnsForRow = function(e) {
      var r = this;
      if (!this.colSpanActive)
        return this.viewportColumnsCenter;
      var n = function(a) {
        var s = a.getLeft();
        return z(s) && s > r.viewportLeft;
      }, i = this.suppressColumnVirtualisation ? null : this.isColumnInRowViewport.bind(this);
      return this.getDisplayedColumnsForRow(e, this.displayedColumnsCenter, i, n);
    }, t.prototype.getAriaColumnIndex = function(e) {
      return this.getAllGridColumns().indexOf(e) + 1;
    }, t.prototype.isColumnInHeaderViewport = function(e) {
      return e.isAutoHeaderHeight() ? !0 : this.isColumnInRowViewport(e);
    }, t.prototype.isColumnInRowViewport = function(e) {
      if (e.isAutoHeight())
        return !0;
      var r = e.getLeft() || 0, n = r + e.getActualWidth(), i = this.viewportLeft - 200, a = this.viewportRight + 200, s = r < i && n < i, l = r > a && n > a;
      return !s && !l;
    }, t.prototype.getDisplayedColumnsLeftWidth = function() {
      return this.getWidthOfColsInList(this.displayedColumnsLeft);
    }, t.prototype.getDisplayedColumnsRightWidth = function() {
      return this.getWidthOfColsInList(this.displayedColumnsRight);
    }, t.prototype.updatePrimaryColumnList = function(e, r, n, i, a, s) {
      var l = this;
      if (s === void 0 && (s = "api"), !(!e || Kr(e))) {
        var u = !1;
        if (e.forEach(function(d) {
          var p = l.getPrimaryColumn(d);
          if (p) {
            if (n) {
              if (r.indexOf(p) >= 0)
                return;
              r.push(p);
            } else {
              if (r.indexOf(p) < 0)
                return;
              vr(r, p);
            }
            i(p), u = !0;
          }
        }), !!u) {
          this.autoGroupsNeedBuilding && this.updateGridColumns(), this.updateDisplayedColumns(s);
          var c = {
            type: a,
            columns: r,
            column: r.length === 1 ? r[0] : null,
            source: s
          };
          this.eventService.dispatchEvent(c);
        }
      }
    }, t.prototype.setRowGroupColumns = function(e, r) {
      r === void 0 && (r = "api"), this.autoGroupsNeedBuilding = !0, this.setPrimaryColumnList(e, this.rowGroupColumns, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.setRowGroupActive.bind(this), r);
    }, t.prototype.setRowGroupActive = function(e, r, n) {
      e !== r.isRowGroupActive() && (r.setRowGroupActive(e, n), e && !this.gridOptionsService.is("suppressRowGroupHidesColumns") && this.setColumnVisible(r, !1, n), !e && !this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup") && this.setColumnVisible(r, !0, n));
    }, t.prototype.addRowGroupColumn = function(e, r) {
      r === void 0 && (r = "api"), e && this.addRowGroupColumns([e], r);
    }, t.prototype.addRowGroupColumns = function(e, r) {
      r === void 0 && (r = "api"), this.autoGroupsNeedBuilding = !0, this.updatePrimaryColumnList(e, this.rowGroupColumns, !0, this.setRowGroupActive.bind(this, !0), R.EVENT_COLUMN_ROW_GROUP_CHANGED, r);
    }, t.prototype.removeRowGroupColumns = function(e, r) {
      r === void 0 && (r = "api"), this.autoGroupsNeedBuilding = !0, this.updatePrimaryColumnList(e, this.rowGroupColumns, !1, this.setRowGroupActive.bind(this, !1), R.EVENT_COLUMN_ROW_GROUP_CHANGED, r);
    }, t.prototype.removeRowGroupColumn = function(e, r) {
      r === void 0 && (r = "api"), e && this.removeRowGroupColumns([e], r);
    }, t.prototype.addPivotColumns = function(e, r) {
      r === void 0 && (r = "api"), this.updatePrimaryColumnList(e, this.pivotColumns, !0, function(n) {
        return n.setPivotActive(!0, r);
      }, R.EVENT_COLUMN_PIVOT_CHANGED, r);
    }, t.prototype.setPivotColumns = function(e, r) {
      r === void 0 && (r = "api"), this.setPrimaryColumnList(e, this.pivotColumns, R.EVENT_COLUMN_PIVOT_CHANGED, function(n, i) {
        i.setPivotActive(n, r);
      }, r);
    }, t.prototype.addPivotColumn = function(e, r) {
      r === void 0 && (r = "api"), this.addPivotColumns([e], r);
    }, t.prototype.removePivotColumns = function(e, r) {
      r === void 0 && (r = "api"), this.updatePrimaryColumnList(e, this.pivotColumns, !1, function(n) {
        return n.setPivotActive(!1, r);
      }, R.EVENT_COLUMN_PIVOT_CHANGED, r);
    }, t.prototype.removePivotColumn = function(e, r) {
      r === void 0 && (r = "api"), this.removePivotColumns([e], r);
    }, t.prototype.setPrimaryColumnList = function(e, r, n, i, a) {
      var s = this;
      r.length = 0, z(e) && e.forEach(function(l) {
        var u = s.getPrimaryColumn(l);
        u && r.push(u);
      }), (this.primaryColumns || []).forEach(function(l) {
        var u = r.indexOf(l) >= 0;
        i(u, l);
      }), this.autoGroupsNeedBuilding && this.updateGridColumns(), this.updateDisplayedColumns(a), this.dispatchColumnChangedEvent(n, r, a);
    }, t.prototype.setValueColumns = function(e, r) {
      r === void 0 && (r = "api"), this.setPrimaryColumnList(e, this.valueColumns, R.EVENT_COLUMN_VALUE_CHANGED, this.setValueActive.bind(this), r);
    }, t.prototype.setValueActive = function(e, r, n) {
      if (e !== r.isValueActive() && (r.setValueActive(e, n), e && !r.getAggFunc())) {
        var i = this.aggFuncService.getDefaultAggFunc(r);
        r.setAggFunc(i);
      }
    }, t.prototype.addValueColumns = function(e, r) {
      r === void 0 && (r = "api"), this.updatePrimaryColumnList(e, this.valueColumns, !0, this.setValueActive.bind(this, !0), R.EVENT_COLUMN_VALUE_CHANGED, r);
    }, t.prototype.addValueColumn = function(e, r) {
      r === void 0 && (r = "api"), e && this.addValueColumns([e], r);
    }, t.prototype.removeValueColumn = function(e, r) {
      r === void 0 && (r = "api"), this.removeValueColumns([e], r);
    }, t.prototype.removeValueColumns = function(e, r) {
      r === void 0 && (r = "api"), this.updatePrimaryColumnList(e, this.valueColumns, !1, this.setValueActive.bind(this, !1), R.EVENT_COLUMN_VALUE_CHANGED, r);
    }, t.prototype.normaliseColumnWidth = function(e, r) {
      var n = e.getMinWidth();
      z(n) && r < n && (r = n);
      var i = e.getMaxWidth();
      return z(i) && e.isGreaterThanMax(r) && (r = i), r;
    }, t.prototype.getPrimaryOrGridColumn = function(e) {
      var r = this.getPrimaryColumn(e);
      return r || this.getGridColumn(e);
    }, t.prototype.setColumnWidths = function(e, r, n, i) {
      var a = this;
      i === void 0 && (i = "api");
      var s = [];
      e.forEach(function(l) {
        var u = a.getPrimaryOrGridColumn(l.key);
        if (u) {
          s.push({
            width: l.newWidth,
            ratios: [1],
            columns: [u]
          });
          var c = a.gridOptionsService.get("colResizeDefault") === "shift";
          if (c && (r = !r), r) {
            var d = a.getDisplayedColAfter(u);
            if (!d)
              return;
            var p = u.getActualWidth() - l.newWidth, h = d.getActualWidth() + p;
            s.push({
              width: h,
              ratios: [1],
              columns: [d]
            });
          }
        }
      }), s.length !== 0 && this.resizeColumnSets({
        resizeSets: s,
        finished: n,
        source: i
      });
    }, t.prototype.checkMinAndMaxWidthsForSet = function(e) {
      var r = e.columns, n = e.width, i = 0, a = 0, s = !0;
      r.forEach(function(c) {
        var d = c.getMinWidth();
        i += d || 0;
        var p = c.getMaxWidth();
        z(p) && p > 0 ? a += p : s = !1;
      });
      var l = n >= i, u = !s || n <= a;
      return l && u;
    }, t.prototype.resizeColumnSets = function(e) {
      var r = this, n = e.resizeSets, i = e.finished, a = e.source, s = !n || n.every(function(f) {
        return r.checkMinAndMaxWidthsForSet(f);
      });
      if (!s) {
        if (i) {
          var l = n && n.length > 0 ? n[0].columns : null;
          this.dispatchColumnResizedEvent(l, i, a);
        }
        return;
      }
      var u = [], c = [];
      n.forEach(function(f) {
        var v = f.width, g = f.columns, y = f.ratios, m = {}, C = {};
        g.forEach(function(E) {
          return c.push(E);
        });
        for (var S = !0, b = 0, _ = function() {
          if (b++, b > 1e3)
            return console.error("AG Grid: infinite loop in resizeColumnSets"), "break";
          S = !1;
          var E = [], D = 0, x = v;
          g.forEach(function(M, F) {
            var I = C[M.getId()];
            if (I)
              x -= m[M.getId()];
            else {
              E.push(M);
              var N = y[F];
              D += N;
            }
          });
          var P = 1 / D;
          E.forEach(function(M, F) {
            var I = F === E.length - 1, N;
            I ? N = x : (N = Math.round(y[F] * v * P), x -= N);
            var k = M.getMinWidth(), L = M.getMaxWidth();
            z(k) && N < k ? (N = k, C[M.getId()] = !0, S = !0) : z(L) && L > 0 && N > L && (N = L, C[M.getId()] = !0, S = !0), m[M.getId()] = N;
          });
        }; S; ) {
          var O = _();
          if (O === "break")
            break;
        }
        g.forEach(function(E) {
          var D = m[E.getId()], x = E.getActualWidth();
          x !== D && (E.setActualWidth(D, a), u.push(E));
        });
      });
      var d = u.length > 0, p = [];
      d && (p = this.refreshFlexedColumns({ resizingCols: c, skipSetLeft: !0 }), this.setLeftValues(a), this.updateBodyWidths(), this.checkViewportColumns());
      var h = c.concat(p);
      (d || i) && this.dispatchColumnResizedEvent(h, i, a, p);
    }, t.prototype.setColumnAggFunc = function(e, r, n) {
      if (n === void 0 && (n = "api"), !!e) {
        var i = this.getPrimaryColumn(e);
        i && (i.setAggFunc(r), this.dispatchColumnChangedEvent(R.EVENT_COLUMN_VALUE_CHANGED, [i], n));
      }
    }, t.prototype.moveRowGroupColumn = function(e, r, n) {
      n === void 0 && (n = "api");
      var i = this.rowGroupColumns[e];
      this.rowGroupColumns.splice(e, 1), this.rowGroupColumns.splice(r, 0, i);
      var a = {
        type: R.EVENT_COLUMN_ROW_GROUP_CHANGED,
        columns: this.rowGroupColumns,
        column: this.rowGroupColumns.length === 1 ? this.rowGroupColumns[0] : null,
        source: n
      };
      this.eventService.dispatchEvent(a);
    }, t.prototype.moveColumns = function(e, r, n, i) {
      if (n === void 0 && (n = "api"), i === void 0 && (i = !0), this.columnAnimationService.start(), r > this.gridColumns.length - e.length) {
        console.warn("AG Grid: tried to insert columns in invalid location, toIndex = " + r), console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");
        return;
      }
      var a = this.getGridColumns(e), s = !this.doesMovePassRules(a, r);
      s || (Jg(this.gridColumns, a, r), this.updateDisplayedColumns(n), this.dispatchColumnMovedEvent({ movedColumns: a, source: n, toIndex: r, finished: i }), this.columnAnimationService.finish());
    }, t.prototype.doesMovePassRules = function(e, r) {
      var n = this.getProposedColumnOrder(e, r);
      return this.doesOrderPassRules(n);
    }, t.prototype.doesOrderPassRules = function(e) {
      return !(!this.doesMovePassMarryChildren(e) || !this.doesMovePassLockedPositions(e));
    }, t.prototype.getProposedColumnOrder = function(e, r) {
      var n = this.gridColumns.slice();
      return Jg(n, e, r), n;
    }, t.prototype.sortColumnsLikeGridColumns = function(e) {
      var r = this;
      if (!(!e || e.length <= 1)) {
        var n = e.filter(function(i) {
          return r.gridColumns.indexOf(i) < 0;
        }).length > 0;
        n || e.sort(function(i, a) {
          var s = r.gridColumns.indexOf(i), l = r.gridColumns.indexOf(a);
          return s - l;
        });
      }
    }, t.prototype.doesMovePassLockedPositions = function(e) {
      var r = 0, n = !0, i = function(a) {
        return a ? a === !0 || a === "left" ? 0 : 2 : 1;
      };
      return e.forEach(function(a) {
        var s = i(a.getColDef().lockPosition);
        s < r && (n = !1), r = s;
      }), n;
    }, t.prototype.doesMovePassMarryChildren = function(e) {
      var r = !0;
      return this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function(n) {
        if (n instanceof qe) {
          var i = n, a = i.getColGroupDef(), s = a && a.marryChildren;
          if (s) {
            var l = [];
            i.getLeafColumns().forEach(function(h) {
              var f = e.indexOf(h);
              l.push(f);
            });
            var u = Math.max.apply(Math, l), c = Math.min.apply(Math, l), d = u - c, p = i.getLeafColumns().length - 1;
            d > p && (r = !1);
          }
        }
      }), r;
    }, t.prototype.moveColumn = function(e, r, n) {
      n === void 0 && (n = "api"), this.moveColumns([e], r, n);
    }, t.prototype.moveColumnByIndex = function(e, r, n) {
      n === void 0 && (n = "api");
      var i = this.gridColumns[e];
      this.moveColumn(i, r, n);
    }, t.prototype.getColumnDefs = function() {
      var e = this;
      if (this.primaryColumns) {
        var r = this.primaryColumns.slice();
        return this.gridColsArePrimary ? r.sort(function(n, i) {
          return e.gridColumns.indexOf(n) - e.gridColumns.indexOf(i);
        }) : this.lastPrimaryOrder && r.sort(function(n, i) {
          return e.lastPrimaryOrder.indexOf(n) - e.lastPrimaryOrder.indexOf(i);
        }), this.columnDefFactory.buildColumnDefs(r, this.rowGroupColumns, this.pivotColumns);
      }
    }, t.prototype.getBodyContainerWidth = function() {
      return this.bodyWidth;
    }, t.prototype.getContainerWidth = function(e) {
      switch (e) {
        case "left":
          return this.leftWidth;
        case "right":
          return this.rightWidth;
        default:
          return this.bodyWidth;
      }
    }, t.prototype.updateBodyWidths = function() {
      var e = this.getWidthOfColsInList(this.displayedColumnsCenter), r = this.getWidthOfColsInList(this.displayedColumnsLeft), n = this.getWidthOfColsInList(this.displayedColumnsRight);
      this.bodyWidthDirty = this.bodyWidth !== e;
      var i = this.bodyWidth !== e || this.leftWidth !== r || this.rightWidth !== n;
      if (i) {
        this.bodyWidth = e, this.leftWidth = r, this.rightWidth = n;
        var a = {
          type: R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.getValueColumns = function() {
      return this.valueColumns ? this.valueColumns : [];
    }, t.prototype.getPivotColumns = function() {
      return this.pivotColumns ? this.pivotColumns : [];
    }, t.prototype.isPivotActive = function() {
      return this.pivotColumns && this.pivotColumns.length > 0 && this.pivotMode;
    }, t.prototype.getRowGroupColumns = function() {
      return this.rowGroupColumns ? this.rowGroupColumns : [];
    }, t.prototype.getDisplayedCenterColumns = function() {
      return this.displayedColumnsCenter;
    }, t.prototype.getDisplayedLeftColumns = function() {
      return this.displayedColumnsLeft;
    }, t.prototype.getDisplayedRightColumns = function() {
      return this.displayedColumnsRight;
    }, t.prototype.getDisplayedColumns = function(e) {
      switch (e) {
        case "left":
          return this.getDisplayedLeftColumns();
        case "right":
          return this.getDisplayedRightColumns();
        default:
          return this.getDisplayedCenterColumns();
      }
    }, t.prototype.getAllPrimaryColumns = function() {
      return this.primaryColumns ? this.primaryColumns.slice() : null;
    }, t.prototype.getSecondaryColumns = function() {
      return this.secondaryColumns ? this.secondaryColumns.slice() : null;
    }, t.prototype.getAllColumnsForQuickFilter = function() {
      return this.columnsForQuickFilter;
    }, t.prototype.getAllGridColumns = function() {
      return this.gridColumns;
    }, t.prototype.isEmpty = function() {
      return Kr(this.gridColumns);
    }, t.prototype.isRowGroupEmpty = function() {
      return Kr(this.rowGroupColumns);
    }, t.prototype.setColumnVisible = function(e, r, n) {
      n === void 0 && (n = "api"), this.setColumnsVisible([e], r, n);
    }, t.prototype.setColumnsVisible = function(e, r, n) {
      r === void 0 && (r = !1), n === void 0 && (n = "api"), this.applyColumnState({
        state: e.map(function(i) {
          return {
            colId: typeof i == "string" ? i : i.getColId(),
            hide: !r
          };
        })
      }, n);
    }, t.prototype.setColumnPinned = function(e, r, n) {
      n === void 0 && (n = "api"), e && this.setColumnsPinned([e], r, n);
    }, t.prototype.setColumnsPinned = function(e, r, n) {
      if (n === void 0 && (n = "api"), this.gridOptionsService.isDomLayout("print")) {
        console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");
        return;
      }
      this.columnAnimationService.start();
      var i;
      r === !0 || r === "left" ? i = "left" : r === "right" ? i = "right" : i = null, this.actionOnGridColumns(e, function(a) {
        return a.getPinned() !== i ? (a.setPinned(i), !0) : !1;
      }, n, function() {
        var a = {
          type: R.EVENT_COLUMN_PINNED,
          pinned: i,
          column: null,
          columns: null,
          source: n
        };
        return a;
      }), this.columnAnimationService.finish();
    }, t.prototype.actionOnGridColumns = function(e, r, n, i) {
      var a = this;
      if (!Kr(e)) {
        var s = [];
        if (e.forEach(function(u) {
          var c = a.getGridColumn(u);
          if (c) {
            var d = r(c);
            d !== !1 && s.push(c);
          }
        }), !!s.length && (this.updateDisplayedColumns(n), z(i) && i)) {
          var l = i();
          l.columns = s, l.column = s.length === 1 ? s[0] : null, this.eventService.dispatchEvent(l);
        }
      }
    }, t.prototype.getDisplayedColBefore = function(e) {
      var r = this.getAllDisplayedColumns(), n = r.indexOf(e);
      return n > 0 ? r[n - 1] : null;
    }, t.prototype.getDisplayedColAfter = function(e) {
      var r = this.getAllDisplayedColumns(), n = r.indexOf(e);
      return n < r.length - 1 ? r[n + 1] : null;
    }, t.prototype.getDisplayedGroupAfter = function(e) {
      return this.getDisplayedGroupAtDirection(e, "After");
    }, t.prototype.getDisplayedGroupBefore = function(e) {
      return this.getDisplayedGroupAtDirection(e, "Before");
    }, t.prototype.getDisplayedGroupAtDirection = function(e, r) {
      for (var n = e.getProvidedColumnGroup().getLevel() + e.getPaddingLevel(), i = e.getDisplayedLeafColumns(), a = r === "After" ? et(i) : i[0], s = "getDisplayedCol" + r; ; ) {
        var l = this[s](a);
        if (!l)
          return null;
        var u = this.getColumnGroupAtLevel(l, n);
        if (u !== e)
          return u;
      }
    }, t.prototype.getColumnGroupAtLevel = function(e, r) {
      for (var n = e.getParent(), i, a; ; ) {
        var s = n.getProvidedColumnGroup();
        if (i = s.getLevel(), a = n.getPaddingLevel(), i + a <= r)
          break;
        n = n.getParent();
      }
      return n;
    }, t.prototype.isPinningLeft = function() {
      return this.displayedColumnsLeft.length > 0;
    }, t.prototype.isPinningRight = function() {
      return this.displayedColumnsRight.length > 0;
    }, t.prototype.getPrimaryAndSecondaryAndAutoColumns = function() {
      var e;
      return (e = []).concat.apply(e, [
        this.primaryColumns || [],
        this.groupAutoColumns || [],
        this.secondaryColumns || []
      ]);
    }, t.prototype.createStateItemFromColumn = function(e) {
      var r = e.isRowGroupActive() ? this.rowGroupColumns.indexOf(e) : null, n = e.isPivotActive() ? this.pivotColumns.indexOf(e) : null, i = e.isValueActive() ? e.getAggFunc() : null, a = e.getSort() != null ? e.getSort() : null, s = e.getSortIndex() != null ? e.getSortIndex() : null, l = e.getFlex() != null && e.getFlex() > 0 ? e.getFlex() : null, u = {
        colId: e.getColId(),
        width: e.getActualWidth(),
        hide: !e.isVisible(),
        pinned: e.getPinned(),
        sort: a,
        sortIndex: s,
        aggFunc: i,
        rowGroup: e.isRowGroupActive(),
        rowGroupIndex: r,
        pivot: e.isPivotActive(),
        pivotIndex: n,
        flex: l
      };
      return u;
    }, t.prototype.getColumnState = function() {
      if (me(this.primaryColumns) || !this.isAlive())
        return [];
      var e = this.getPrimaryAndSecondaryAndAutoColumns(), r = e.map(this.createStateItemFromColumn.bind(this));
      return this.orderColumnStateList(r), r;
    }, t.prototype.orderColumnStateList = function(e) {
      var r = Zi(this.gridColumns.map(function(n, i) {
        return [n.getColId(), i];
      }));
      e.sort(function(n, i) {
        var a = r.has(n.colId) ? r.get(n.colId) : -1, s = r.has(i.colId) ? r.get(i.colId) : -1;
        return a - s;
      });
    }, t.prototype.resetColumnState = function(e) {
      var r = this;
      e === void 0 && (e = "api");
      var n = this.getColumnsFromTree(this.primaryColumnTree), i = [], a = 1e3, s = 1e3, l = [];
      this.groupAutoColumns && (l = l.concat(this.groupAutoColumns)), n && (l = l.concat(n)), l.forEach(function(u) {
        var c = r.getColumnStateFromColDef(u);
        me(c.rowGroupIndex) && c.rowGroup && (c.rowGroupIndex = a++), me(c.pivotIndex) && c.pivot && (c.pivotIndex = s++), i.push(c);
      }), this.applyColumnState({ state: i, applyOrder: !0 }, e);
    }, t.prototype.getColumnStateFromColDef = function(e) {
      var r = function(g, y) {
        return g != null ? g : y != null ? y : null;
      }, n = e.getColDef(), i = r(n.sort, n.initialSort), a = r(n.sortIndex, n.initialSortIndex), s = r(n.hide, n.initialHide), l = r(n.pinned, n.initialPinned), u = r(n.width, n.initialWidth), c = r(n.flex, n.initialFlex), d = r(n.rowGroupIndex, n.initialRowGroupIndex), p = r(n.rowGroup, n.initialRowGroup);
      d == null && (p == null || p == !1) && (d = null, p = null);
      var h = r(n.pivotIndex, n.initialPivotIndex), f = r(n.pivot, n.initialPivot);
      h == null && (f == null || f == !1) && (h = null, f = null);
      var v = r(n.aggFunc, n.initialAggFunc);
      return {
        colId: e.getColId(),
        sort: i,
        sortIndex: a,
        hide: s,
        pinned: l,
        width: u,
        flex: c,
        rowGroup: p,
        rowGroupIndex: d,
        pivot: f,
        pivotIndex: h,
        aggFunc: v
      };
    }, t.prototype.applyColumnState = function(e, r) {
      var n = this;
      if (Kr(this.primaryColumns))
        return !1;
      if (e && e.state && !e.state.forEach)
        return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."), !1;
      var i = function(u, c, d) {
        var p = n.compareColumnStatesAndDispatchEvents(r);
        n.autoGroupsNeedBuilding = !0;
        var h = c.slice(), f = {}, v = {}, g = [], y = [], m = 0, C = n.rowGroupColumns.slice(), S = n.pivotColumns.slice();
        u.forEach(function(E) {
          var D = E.colId || "", x = D.startsWith(oo);
          if (x) {
            g.push(E), y.push(E);
            return;
          }
          var P = d(D);
          P ? (n.syncColumnWithStateItem(P, E, e.defaultState, f, v, !1, r), vr(h, P)) : (y.push(E), m += 1);
        });
        var b = function(E) {
          return n.syncColumnWithStateItem(E, null, e.defaultState, f, v, !1, r);
        };
        h.forEach(b);
        var _ = function(E, D, x, P) {
          var M = E[x.getId()], F = E[P.getId()], I = M != null, N = F != null;
          if (I && N)
            return M - F;
          if (I)
            return -1;
          if (N)
            return 1;
          var k = D.indexOf(x), L = D.indexOf(P), B = k >= 0, j = L >= 0;
          return B && j ? k - L : B ? -1 : 1;
        };
        n.rowGroupColumns.sort(_.bind(n, f, C)), n.pivotColumns.sort(_.bind(n, v, S)), n.updateGridColumns();
        var O = n.groupAutoColumns ? n.groupAutoColumns.slice() : [];
        return g.forEach(function(E) {
          var D = n.getAutoColumn(E.colId);
          vr(O, D), n.syncColumnWithStateItem(D, E, e.defaultState, null, null, !0, r);
        }), O.forEach(b), n.applyOrderAfterApplyState(e), n.updateDisplayedColumns(r), n.dispatchEverythingChanged(r), p(), { unmatchedAndAutoStates: y, unmatchedCount: m };
      };
      this.columnAnimationService.start();
      var a = i(e.state || [], this.primaryColumns || [], function(u) {
        return n.getPrimaryColumn(u);
      }), s = a.unmatchedAndAutoStates, l = a.unmatchedCount;
      return (s.length > 0 || z(e.defaultState)) && (l = i(s, this.secondaryColumns || [], function(u) {
        return n.getSecondaryColumn(u);
      }).unmatchedCount), this.columnAnimationService.finish(), l === 0;
    }, t.prototype.applyOrderAfterApplyState = function(e) {
      var r = this;
      if (!(!e.applyOrder || !e.state)) {
        var n = [], i = {};
        e.state.forEach(function(s) {
          if (!(!s.colId || i[s.colId])) {
            var l = r.gridColumnsMap[s.colId];
            l && (n.push(l), i[s.colId] = !0);
          }
        });
        var a = 0;
        if (this.gridColumns.forEach(function(s) {
          var l = s.getColId(), u = i[l] != null;
          if (!u) {
            var c = l.startsWith(oo);
            c ? Hc(n, s, a++) : n.push(s);
          }
        }), n = this.placeLockedColumns(n), !this.doesMovePassMarryChildren(n)) {
          console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");
          return;
        }
        this.gridColumns = n;
      }
    }, t.prototype.compareColumnStatesAndDispatchEvents = function(e) {
      var r = this, n = {
        rowGroupColumns: this.rowGroupColumns.slice(),
        pivotColumns: this.pivotColumns.slice(),
        valueColumns: this.valueColumns.slice()
      }, i = this.getColumnState(), a = {};
      return i.forEach(function(s) {
        a[s.colId] = s;
      }), function() {
        var s = r.getPrimaryAndSecondaryAndAutoColumns(), l = function(y, m, C, S) {
          var b = m.map(S), _ = C.map(S), O = Vo(b, _);
          if (!O) {
            var E = {
              type: y,
              columns: C,
              column: C.length === 1 ? C[0] : null,
              source: e
            };
            r.eventService.dispatchEvent(E);
          }
        }, u = function(y) {
          var m = [];
          return s.forEach(function(C) {
            var S = a[C.getColId()];
            S && y(S, C) && m.push(C);
          }), m;
        }, c = function(y) {
          return y.getColId();
        };
        l(R.EVENT_COLUMN_ROW_GROUP_CHANGED, n.rowGroupColumns, r.rowGroupColumns, c), l(R.EVENT_COLUMN_PIVOT_CHANGED, n.pivotColumns, r.pivotColumns, c);
        var d = function(y, m) {
          var C = y.aggFunc != null, S = C != m.isValueActive(), b = C && y.aggFunc != m.getAggFunc();
          return S || b;
        }, p = u(d);
        p.length > 0 && r.dispatchColumnChangedEvent(R.EVENT_COLUMN_VALUE_CHANGED, r.valueColumns, e);
        var h = function(y, m) {
          return y.width != m.getActualWidth();
        };
        r.dispatchColumnResizedEvent(u(h), !0, e);
        var f = function(y, m) {
          return y.pinned != m.getPinned();
        };
        r.dispatchColumnPinnedEvent(u(f), e);
        var v = function(y, m) {
          return y.hide == m.isVisible();
        };
        r.dispatchColumnVisibleEvent(u(v), e);
        var g = function(y, m) {
          return y.sort != m.getSort() || y.sortIndex != m.getSortIndex();
        };
        u(g).length > 0 && r.sortController.dispatchSortChangedEvents(e), r.normaliseColumnMovedEventForColumnState(i, e);
      };
    }, t.prototype.getCommonValue = function(e, r) {
      if (!(!e || e.length == 0)) {
        for (var n = r(e[0]), i = 1; i < e.length; i++)
          if (n !== r(e[i]))
            return;
        return n;
      }
    }, t.prototype.normaliseColumnMovedEventForColumnState = function(e, r) {
      var n = this, i = this.getColumnState(), a = {};
      i.forEach(function(d) {
        return a[d.colId] = d;
      });
      var s = {};
      e.forEach(function(d) {
        a[d.colId] && (s[d.colId] = !0);
      });
      var l = e.filter(function(d) {
        return s[d.colId];
      }), u = i.filter(function(d) {
        return s[d.colId];
      }), c = [];
      u.forEach(function(d, p) {
        var h = l && l[p];
        if (h && h.colId !== d.colId) {
          var f = n.getGridColumn(h.colId);
          f && c.push(f);
        }
      }), c.length && this.dispatchColumnMovedEvent({ movedColumns: c, source: r, finished: !0 });
    }, t.prototype.syncColumnWithStateItem = function(e, r, n, i, a, s, l) {
      if (e) {
        var u = function(D, x) {
          var P = { value1: void 0, value2: void 0 }, M = !1;
          return r && (r[D] !== void 0 && (P.value1 = r[D], M = !0), z(x) && r[x] !== void 0 && (P.value2 = r[x], M = !0)), !M && n && (n[D] !== void 0 && (P.value1 = n[D]), z(x) && n[x] !== void 0 && (P.value2 = n[x])), P;
        }, c = u("hide").value1;
        c !== void 0 && e.setVisible(!c, l);
        var d = u("pinned").value1;
        d !== void 0 && e.setPinned(d);
        var p = this.columnUtils.calculateColMinWidth(e.getColDef()), h = u("flex").value1;
        h !== void 0 && e.setFlex(h);
        var f = e.getFlex() <= 0;
        if (f) {
          var v = u("width").value1;
          v != null && p != null && v >= p && e.setActualWidth(v, l);
        }
        var g = u("sort").value1;
        g !== void 0 && (g === "desc" || g === "asc" ? e.setSort(g, l) : e.setSort(void 0, l));
        var y = u("sortIndex").value1;
        if (y !== void 0 && e.setSortIndex(y), !(s || !e.isPrimary())) {
          var m = u("aggFunc").value1;
          m !== void 0 && (typeof m == "string" ? (e.setAggFunc(m), e.isValueActive() || (e.setValueActive(!0, l), this.valueColumns.push(e))) : (z(m) && console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."), e.isValueActive() && (e.setValueActive(!1, l), vr(this.valueColumns, e))));
          var C = u("rowGroup", "rowGroupIndex"), S = C.value1, b = C.value2;
          (S !== void 0 || b !== void 0) && (typeof b == "number" || S ? (e.isRowGroupActive() || (e.setRowGroupActive(!0, l), this.rowGroupColumns.push(e)), i && typeof b == "number" && (i[e.getId()] = b)) : e.isRowGroupActive() && (e.setRowGroupActive(!1, l), vr(this.rowGroupColumns, e)));
          var _ = u("pivot", "pivotIndex"), O = _.value1, E = _.value2;
          (O !== void 0 || E !== void 0) && (typeof E == "number" || O ? (e.isPivotActive() || (e.setPivotActive(!0, l), this.pivotColumns.push(e)), a && typeof E == "number" && (a[e.getId()] = E)) : e.isPivotActive() && (e.setPivotActive(!1, l), vr(this.pivotColumns, e)));
        }
      }
    }, t.prototype.getGridColumns = function(e) {
      return this.getColumns(e, this.getGridColumn.bind(this));
    }, t.prototype.getColumns = function(e, r) {
      var n = [];
      return e && e.forEach(function(i) {
        var a = r(i);
        a && n.push(a);
      }), n;
    }, t.prototype.getColumnWithValidation = function(e) {
      if (e == null)
        return null;
      var r = this.getGridColumn(e);
      return r || console.warn("AG Grid: could not find column " + e), r;
    }, t.prototype.getPrimaryColumn = function(e) {
      return this.primaryColumns ? this.getColumn(e, this.primaryColumns, this.primaryColumnsMap) : null;
    }, t.prototype.getGridColumn = function(e) {
      return this.getColumn(e, this.gridColumns, this.gridColumnsMap);
    }, t.prototype.getSecondaryColumn = function(e) {
      return this.secondaryColumns ? this.getColumn(e, this.secondaryColumns, this.secondaryColumnsMap) : null;
    }, t.prototype.getColumn = function(e, r, n) {
      if (!e)
        return null;
      if (typeof e == "string" && n[e])
        return n[e];
      for (var i = 0; i < r.length; i++)
        if (this.columnsMatch(r[i], e))
          return r[i];
      return this.getAutoColumn(e);
    }, t.prototype.getSourceColumnsForGroupColumn = function(e) {
      var r = e.getColDef().showRowGroup;
      if (!r)
        return null;
      if (r === !0)
        return this.rowGroupColumns.slice(0);
      var n = this.getPrimaryColumn(r);
      return n ? [n] : null;
    }, t.prototype.getAutoColumn = function(e) {
      var r = this;
      return !this.groupAutoColumns || !z(this.groupAutoColumns) || me(this.groupAutoColumns) ? null : this.groupAutoColumns.find(function(n) {
        return r.columnsMatch(n, e);
      }) || null;
    }, t.prototype.columnsMatch = function(e, r) {
      var n = e === r, i = e.getColDef() === r, a = e.getColId() == r;
      return n || i || a;
    }, t.prototype.getDisplayNameForColumn = function(e, r, n) {
      if (n === void 0 && (n = !1), !e)
        return null;
      var i = this.getHeaderName(e.getColDef(), e, null, null, r);
      return n ? this.wrapHeaderNameWithAggFunc(e, i) : i;
    }, t.prototype.getDisplayNameForProvidedColumnGroup = function(e, r, n) {
      var i = r ? r.getColGroupDef() : null;
      return i ? this.getHeaderName(i, null, e, r, n) : null;
    }, t.prototype.getDisplayNameForColumnGroup = function(e, r) {
      return this.getDisplayNameForProvidedColumnGroup(e, e.getProvidedColumnGroup(), r);
    }, t.prototype.getHeaderName = function(e, r, n, i, a) {
      var s = e.headerValueGetter;
      if (s) {
        var l = {
          colDef: e,
          column: r,
          columnGroup: n,
          providedColumnGroup: i,
          location: a,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        };
        return typeof s == "function" ? s(l) : typeof s == "string" ? this.expressionService.evaluate(s, l) : (console.warn("AG Grid: headerValueGetter must be a function or a string"), "");
      } else {
        if (e.headerName != null)
          return e.headerName;
        if (e.field)
          return Fb(e.field);
      }
      return "";
    }, t.prototype.wrapHeaderNameWithAggFunc = function(e, r) {
      if (this.gridOptionsService.is("suppressAggFuncInHeader"))
        return r;
      var n = e.getColDef().pivotValueColumn, i = z(n), a = null, s;
      if (i) {
        var l = this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn") && this.valueColumns.length === 1, u = e.getColDef().pivotTotalColumnIds !== void 0;
        if (l && !u)
          return r;
        a = n ? n.getAggFunc() : null, s = !0;
      } else {
        var c = e.isValueActive(), d = this.pivotMode || !this.isRowGroupEmpty();
        c && d ? (a = e.getAggFunc(), s = !0) : s = !1;
      }
      if (s) {
        var p = typeof a == "string" ? a : "func", h = this.localeService.getLocaleTextFunc(), f = h(p, p);
        return f + "(" + r + ")";
      }
      return r;
    }, t.prototype.getColumnGroup = function(e, r) {
      if (!e)
        return null;
      if (e instanceof Fr)
        return e;
      var n = this.getAllDisplayedTrees(), i = typeof r == "number", a = null;
      return this.columnUtils.depthFirstAllColumnTreeSearch(n, function(s) {
        if (s instanceof Fr) {
          var l = s, u = void 0;
          i ? u = e === l.getGroupId() && r === l.getPartId() : u = e === l.getGroupId(), u && (a = l);
        }
      }), a;
    }, t.prototype.isReady = function() {
      return this.ready;
    }, t.prototype.extractValueColumns = function(e, r) {
      this.valueColumns = this.extractColumns(
        r,
        this.valueColumns,
        function(n, i) {
          return n.setValueActive(i, e);
        },
        // aggFunc doesn't have index variant, cos order of value cols doesn't matter, so always return null
        function() {
        },
        function() {
        },
        // aggFunc is a string, so return it's existence
        function(n) {
          var i = n.aggFunc;
          if (i === null || i === "")
            return null;
          if (i !== void 0)
            return !!i;
        },
        function(n) {
          return n.initialAggFunc != null && n.initialAggFunc != "";
        }
      ), this.valueColumns.forEach(function(n) {
        var i = n.getColDef();
        i.aggFunc != null && i.aggFunc != "" ? n.setAggFunc(i.aggFunc) : n.getAggFunc() || n.setAggFunc(i.initialAggFunc);
      });
    }, t.prototype.extractRowGroupColumns = function(e, r) {
      this.rowGroupColumns = this.extractColumns(r, this.rowGroupColumns, function(n, i) {
        return n.setRowGroupActive(i, e);
      }, function(n) {
        return n.rowGroupIndex;
      }, function(n) {
        return n.initialRowGroupIndex;
      }, function(n) {
        return n.rowGroup;
      }, function(n) {
        return n.initialRowGroup;
      });
    }, t.prototype.extractColumns = function(e, r, n, i, a, s, l) {
      e === void 0 && (e = []), r === void 0 && (r = []);
      var u = [], c = [];
      (this.primaryColumns || []).forEach(function(h) {
        var f = e.indexOf(h) < 0, v = h.getColDef(), g = pi(s(v)), y = pi(l(v)), m = yn(i(v)), C = yn(a(v)), S, b = g !== void 0, _ = m !== void 0, O = y !== void 0, E = C !== void 0;
        if (b ? S = g : _ ? m === null ? S = !1 : S = m >= 0 : f ? O ? S = y : E ? S = C != null && C >= 0 : S = !1 : S = r.indexOf(h) >= 0, S) {
          var D = f ? m != null || C != null : m != null;
          D ? u.push(h) : c.push(h);
        }
      });
      var d = function(h) {
        var f = i(h.getColDef()), v = a(h.getColDef());
        return f != null ? f : v;
      };
      u.sort(function(h, f) {
        var v = d(h), g = d(f);
        return v === g ? 0 : v < g ? -1 : 1;
      });
      var p = [].concat(u);
      return r.forEach(function(h) {
        c.indexOf(h) >= 0 && p.push(h);
      }), c.forEach(function(h) {
        p.indexOf(h) < 0 && p.push(h);
      }), r.forEach(function(h) {
        p.indexOf(h) < 0 && n(h, !1);
      }), p.forEach(function(h) {
        r.indexOf(h) < 0 && n(h, !0);
      }), p;
    }, t.prototype.extractPivotColumns = function(e, r) {
      this.pivotColumns = this.extractColumns(r, this.pivotColumns, function(n, i) {
        return n.setPivotActive(i, e);
      }, function(n) {
        return n.pivotIndex;
      }, function(n) {
        return n.initialPivotIndex;
      }, function(n) {
        return n.pivot;
      }, function(n) {
        return n.initialPivot;
      });
    }, t.prototype.resetColumnGroupState = function(e) {
      e === void 0 && (e = "api");
      var r = [];
      this.columnUtils.depthFirstOriginalTreeSearch(null, this.primaryColumnTree, function(n) {
        if (n instanceof qe) {
          var i = n.getColGroupDef(), a = {
            groupId: n.getGroupId(),
            open: i ? i.openByDefault : void 0
          };
          r.push(a);
        }
      }), this.setColumnGroupState(r, e);
    }, t.prototype.getColumnGroupState = function() {
      var e = [];
      return this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function(r) {
        r instanceof qe && e.push({
          groupId: r.getGroupId(),
          open: r.isExpanded()
        });
      }), e;
    }, t.prototype.setColumnGroupState = function(e, r) {
      var n = this;
      r === void 0 && (r = "api"), this.columnAnimationService.start();
      var i = [];
      e.forEach(function(a) {
        var s = a.groupId, l = a.open, u = n.getProvidedColumnGroup(s);
        u && u.isExpanded() !== l && (n.logger.log("columnGroupOpened(" + u.getGroupId() + "," + l + ")"), u.setExpanded(l), i.push(u));
      }), this.updateGroupsAndDisplayedColumns(r), this.setFirstRightAndLastLeftPinned(r), i.forEach(function(a) {
        var s = {
          type: R.EVENT_COLUMN_GROUP_OPENED,
          columnGroup: a
        };
        n.eventService.dispatchEvent(s);
      }), this.columnAnimationService.finish();
    }, t.prototype.setColumnGroupOpened = function(e, r, n) {
      n === void 0 && (n = "api");
      var i;
      e instanceof qe ? i = e.getId() : i = e || "", this.setColumnGroupState([{ groupId: i, open: r }], n);
    }, t.prototype.getProvidedColumnGroup = function(e) {
      typeof e != "string" && console.error("AG Grid: group key must be a string");
      var r = null;
      return this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function(n) {
        n instanceof qe && n.getId() === e && (r = n);
      }), r;
    }, t.prototype.calculateColumnsForDisplay = function() {
      var e = this, r;
      return this.pivotMode && me(this.secondaryColumns) ? r = this.gridColumns.filter(function(n) {
        var i = e.groupAutoColumns && Sn(e.groupAutoColumns, n), a = e.valueColumns && Sn(e.valueColumns, n);
        return i || a;
      }) : r = this.gridColumns.filter(function(n) {
        var i = e.groupAutoColumns && Sn(e.groupAutoColumns, n);
        return i || n.isVisible();
      }), r;
    }, t.prototype.checkColSpanActiveInCols = function(e) {
      var r = !1;
      return e.forEach(function(n) {
        z(n.getColDef().colSpan) && (r = !0);
      }), r;
    }, t.prototype.calculateColumnsForGroupDisplay = function() {
      var e = this;
      this.groupDisplayColumns = [], this.groupDisplayColumnsMap = {};
      var r = function(n) {
        var i = n.getColDef(), a = i.showRowGroup;
        i && z(a) && (e.groupDisplayColumns.push(n), typeof a == "string" ? e.groupDisplayColumnsMap[a] = n : a === !0 && e.getRowGroupColumns().forEach(function(s) {
          e.groupDisplayColumnsMap[s.getId()] = n;
        }));
      };
      this.gridColumns.forEach(r);
    }, t.prototype.getGroupDisplayColumns = function() {
      return this.groupDisplayColumns;
    }, t.prototype.getGroupDisplayColumnForGroup = function(e) {
      return this.groupDisplayColumnsMap[e];
    }, t.prototype.updateDisplayedColumns = function(e) {
      var r = this.calculateColumnsForDisplay();
      this.buildDisplayedTrees(r), this.updateGroupsAndDisplayedColumns(e), this.setFirstRightAndLastLeftPinned(e);
    }, t.prototype.isSecondaryColumnsPresent = function() {
      return z(this.secondaryColumns);
    }, t.prototype.setSecondaryColumns = function(e, r) {
      var n = this;
      r === void 0 && (r = "api");
      var i = e && e.length > 0;
      if (!(!i && me(this.secondaryColumns))) {
        if (i) {
          this.processSecondaryColumnDefinitions(e);
          var a = this.columnFactory.createColumnTree(e, !1, this.secondaryBalancedTree || this.previousSecondaryColumns || void 0);
          this.destroyOldColumns(this.secondaryBalancedTree, a.columnTree), this.secondaryBalancedTree = a.columnTree, this.secondaryHeaderRowCount = a.treeDept + 1, this.secondaryColumns = this.getColumnsFromTree(this.secondaryBalancedTree), this.secondaryColumnsMap = {}, this.secondaryColumns.forEach(function(s) {
            return n.secondaryColumnsMap[s.getId()] = s;
          }), this.previousSecondaryColumns = null;
        } else
          this.previousSecondaryColumns = this.secondaryBalancedTree, this.secondaryBalancedTree = null, this.secondaryHeaderRowCount = -1, this.secondaryColumns = null, this.secondaryColumnsMap = {};
        this.updateGridColumns(), this.updateDisplayedColumns(r);
      }
    }, t.prototype.processSecondaryColumnDefinitions = function(e) {
      var r = this.gridOptionsService.get("processPivotResultColDef") || this.gridOptionsService.get("processSecondaryColDef"), n = this.gridOptionsService.get("processPivotResultColGroupDef") || this.gridOptionsService.get("processSecondaryColGroupDef");
      if (!(!r && !n)) {
        var i = function(a) {
          a.forEach(function(s) {
            var l = z(s.children);
            if (l) {
              var u = s;
              n && n(u), i(u.children);
            } else {
              var c = s;
              r && r(c);
            }
          });
        };
        e && i(e);
      }
    }, t.prototype.updateGridColumns = function() {
      var e = this, r = this.gridBalancedTree;
      this.gridColsArePrimary ? this.lastPrimaryOrder = this.gridColumns : this.lastSecondaryOrder = this.gridColumns;
      var n;
      if (this.secondaryColumns && this.secondaryBalancedTree) {
        var i = this.secondaryColumns.every(function(u) {
          return e.gridColumnsMap[u.getColId()] !== void 0;
        });
        this.gridBalancedTree = this.secondaryBalancedTree.slice(), this.gridHeaderRowCount = this.secondaryHeaderRowCount, this.gridColumns = this.secondaryColumns.slice(), this.gridColsArePrimary = !1, i && (n = this.lastSecondaryOrder);
      } else
        this.primaryColumns && (this.gridBalancedTree = this.primaryColumnTree.slice(), this.gridHeaderRowCount = this.primaryHeaderRowCount, this.gridColumns = this.primaryColumns.slice(), this.gridColsArePrimary = !0, n = this.lastPrimaryOrder);
      var a = this.createGroupAutoColumnsIfNeeded();
      if (a && n) {
        var s = Zi(this.groupAutoColumns.map(function(u) {
          return [u, !0];
        }));
        n = n.filter(function(u) {
          return !s.has(u);
        }), n = ha(ha([], pa(this.groupAutoColumns)), pa(n));
      }
      if (this.addAutoGroupToGridColumns(), this.orderGridColsLike(n), this.gridColumns = this.placeLockedColumns(this.gridColumns), this.calculateColumnsForGroupDisplay(), this.refreshQuickFilterColumns(), this.clearDisplayedAndViewportColumns(), this.colSpanActive = this.checkColSpanActiveInCols(this.gridColumns), this.gridColumnsMap = {}, this.gridColumns.forEach(function(u) {
        return e.gridColumnsMap[u.getId()] = u;
      }), this.setAutoHeightActive(), !Vo(r, this.gridBalancedTree)) {
        var l = {
          type: R.EVENT_GRID_COLUMNS_CHANGED
        };
        this.eventService.dispatchEvent(l);
      }
    }, t.prototype.setAutoHeightActive = function() {
      if (this.autoHeightActive = this.gridColumns.filter(function(n) {
        return n.isAutoHeight();
      }).length > 0, this.autoHeightActive) {
        this.autoHeightActiveAtLeastOnce = !0;
        var e = this.gridOptionsService.isRowModelType("clientSide") || this.gridOptionsService.isRowModelType("serverSide");
        if (!e) {
          var r = "AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";
          ze(function() {
            return console.warn(r);
          }, "autoHeightActive.wrongRowModel");
        }
      }
    }, t.prototype.orderGridColsLike = function(e) {
      if (!me(e)) {
        var r = Zi(e.map(function(c, d) {
          return [c, d];
        })), n = !0;
        if (this.gridColumns.forEach(function(c) {
          r.has(c) && (n = !1);
        }), !n) {
          var i = Zi(this.gridColumns.map(function(c) {
            return [c, !0];
          })), a = e.filter(function(c) {
            return i.has(c);
          }), s = Zi(a.map(function(c) {
            return [c, !0];
          })), l = this.gridColumns.filter(function(c) {
            return !s.has(c);
          }), u = a.slice();
          l.forEach(function(c) {
            var d = c.getOriginalParent();
            if (!d) {
              u.push(c);
              return;
            }
            for (var p = []; !p.length && d; ) {
              var h = d.getLeafColumns();
              h.forEach(function(g) {
                var y = u.indexOf(g) >= 0, m = p.indexOf(g) < 0;
                y && m && p.push(g);
              }), d = d.getOriginalParent();
            }
            if (!p.length) {
              u.push(c);
              return;
            }
            var f = p.map(function(g) {
              return u.indexOf(g);
            }), v = Math.max.apply(Math, ha([], pa(f)));
            Hc(u, c, v + 1);
          }), this.gridColumns = u;
        }
      }
    }, t.prototype.isPrimaryColumnGroupsPresent = function() {
      return this.primaryHeaderRowCount > 1;
    }, t.prototype.refreshQuickFilterColumns = function() {
      var e, r = (e = this.isPivotMode() ? this.secondaryColumns : this.primaryColumns) !== null && e !== void 0 ? e : [];
      this.groupAutoColumns && (r = r.concat(this.groupAutoColumns)), this.columnsForQuickFilter = this.gridOptionsService.is("includeHiddenColumnsInQuickFilter") ? r : r.filter(function(n) {
        return n.isVisible() || n.isRowGroupActive();
      });
    }, t.prototype.placeLockedColumns = function(e) {
      var r = [], n = [], i = [];
      return e.forEach(function(a) {
        var s = a.getColDef().lockPosition;
        s === "right" ? i.push(a) : s === "left" || s === !0 ? r.push(a) : n.push(a);
      }), ha(ha(ha([], pa(r)), pa(n)), pa(i));
    }, t.prototype.addAutoGroupToGridColumns = function() {
      if (me(this.groupAutoColumns)) {
        this.destroyOldColumns(this.groupAutoColsBalancedTree), this.groupAutoColsBalancedTree = null;
        return;
      }
      this.gridColumns = this.groupAutoColumns ? this.groupAutoColumns.concat(this.gridColumns) : this.gridColumns;
      var e = this.columnFactory.createForAutoGroups(this.groupAutoColumns, this.gridBalancedTree);
      this.destroyOldColumns(this.groupAutoColsBalancedTree, e), this.groupAutoColsBalancedTree = e, this.gridBalancedTree = e.concat(this.gridBalancedTree);
    }, t.prototype.clearDisplayedAndViewportColumns = function() {
      this.viewportRowLeft = {}, this.viewportRowRight = {}, this.viewportRowCenter = {}, this.displayedColumnsLeft = [], this.displayedColumnsRight = [], this.displayedColumnsCenter = [], this.displayedColumns = [], this.viewportColumns = [], this.headerViewportColumns = [], this.viewportColumnsHash = "";
    }, t.prototype.updateGroupsAndDisplayedColumns = function(e) {
      this.updateOpenClosedVisibilityInColumnGroups(), this.deriveDisplayedColumns(e), this.refreshFlexedColumns(), this.extractViewport(), this.updateBodyWidths();
      var r = {
        type: R.EVENT_DISPLAYED_COLUMNS_CHANGED
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.deriveDisplayedColumns = function(e) {
      this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft, this.displayedColumnsLeft), this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre, this.displayedColumnsCenter), this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight, this.displayedColumnsRight), this.joinDisplayedColumns(), this.setLeftValues(e), this.displayedAutoHeightCols = this.displayedColumns.filter(function(r) {
        return r.isAutoHeight();
      });
    }, t.prototype.isAutoRowHeightActive = function() {
      return this.autoHeightActive;
    }, t.prototype.wasAutoRowHeightEverActive = function() {
      return this.autoHeightActiveAtLeastOnce;
    }, t.prototype.joinDisplayedColumns = function() {
      this.gridOptionsService.is("enableRtl") ? this.displayedColumns = this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft) : this.displayedColumns = this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight);
    }, t.prototype.setLeftValues = function(e) {
      this.setLeftValuesOfColumns(e), this.setLeftValuesOfGroups();
    }, t.prototype.setLeftValuesOfColumns = function(e) {
      var r = this;
      if (this.primaryColumns) {
        var n = this.primaryColumns.slice(0), i = this.gridOptionsService.is("enableRtl");
        [
          this.displayedColumnsLeft,
          this.displayedColumnsRight,
          this.displayedColumnsCenter
        ].forEach(function(a) {
          if (i) {
            var s = r.getWidthOfColsInList(a);
            a.forEach(function(u) {
              s -= u.getActualWidth(), u.setLeft(s, e);
            });
          } else {
            var l = 0;
            a.forEach(function(u) {
              u.setLeft(l, e), l += u.getActualWidth();
            });
          }
          um(n, a);
        }), n.forEach(function(a) {
          a.setLeft(null, e);
        });
      }
    }, t.prototype.setLeftValuesOfGroups = function() {
      [
        this.displayedTreeLeft,
        this.displayedTreeRight,
        this.displayedTreeCentre
      ].forEach(function(e) {
        e.forEach(function(r) {
          if (r instanceof Fr) {
            var n = r;
            n.checkLeft();
          }
        });
      });
    }, t.prototype.derivedDisplayedColumnsFromDisplayedTree = function(e, r) {
      r.length = 0, this.columnUtils.depthFirstDisplayedColumnTreeSearch(e, function(n) {
        n instanceof Me && r.push(n);
      });
    }, t.prototype.extractViewportColumns = function() {
      this.suppressColumnVirtualisation ? (this.viewportColumnsCenter = this.displayedColumnsCenter, this.headerViewportColumnsCenter = this.displayedColumnsCenter) : (this.viewportColumnsCenter = this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)), this.headerViewportColumnsCenter = this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))), this.viewportColumns = this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight), this.headerViewportColumns = this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight);
    }, t.prototype.getVirtualHeaderGroupRow = function(e, r) {
      var n;
      switch (e) {
        case "left":
          n = this.viewportRowLeft[r];
          break;
        case "right":
          n = this.viewportRowRight[r];
          break;
        default:
          n = this.viewportRowCenter[r];
          break;
      }
      return me(n) && (n = []), n;
    }, t.prototype.calculateHeaderRows = function() {
      this.viewportRowLeft = {}, this.viewportRowRight = {}, this.viewportRowCenter = {};
      var e = {};
      this.headerViewportColumns.forEach(function(n) {
        return e[n.getId()] = !0;
      });
      var r = function(n, i, a) {
        for (var s = !1, l = 0; l < n.length; l++) {
          var u = n[l], c = !1;
          if (u instanceof Me)
            c = e[u.getId()] === !0;
          else {
            var d = u, p = d.getDisplayedChildren();
            p && (c = r(p, i, a + 1));
          }
          c && (s = !0, i[a] || (i[a] = []), i[a].push(u));
        }
        return s;
      };
      r(this.displayedTreeLeft, this.viewportRowLeft, 0), r(this.displayedTreeRight, this.viewportRowRight, 0), r(this.displayedTreeCentre, this.viewportRowCenter, 0);
    }, t.prototype.extractViewport = function() {
      var e = function(i) {
        return i.getId() + "-" + (i.getPinned() || "normal");
      };
      this.extractViewportColumns();
      var r = this.viewportColumns.map(e).join("#"), n = this.viewportColumnsHash !== r;
      return n && (this.viewportColumnsHash = r, this.calculateHeaderRows()), n;
    }, t.prototype.refreshFlexedColumns = function(e) {
      var r = this;
      e === void 0 && (e = {});
      var n = e.source ? e.source : "flex";
      if (e.viewportWidth != null && (this.flexViewportWidth = e.viewportWidth), !this.flexViewportWidth)
        return [];
      var i = -1;
      e.resizingCols && e.resizingCols.forEach(function(S) {
        var b = r.displayedColumnsCenter.indexOf(S);
        i < b && (i = b);
      });
      var a = function(S) {
        var b = r.displayedColumnsCenter.indexOf(S) > i;
        return S.getFlex() && b;
      }, s = this.displayedColumnsCenter.filter(function(S) {
        return !a(S);
      }), l = this.displayedColumnsCenter.filter(function(S) {
        return a(S);
      }), u = [];
      if (!l.length)
        return [];
      var c = [], d;
      e:
        for (; ; ) {
          var p = l.reduce(function(S, b) {
            return S + b.getFlex();
          }, 0);
          d = this.flexViewportWidth - this.getWidthOfColsInList(s);
          for (var h = 0; h < l.length; h++) {
            var f = l[h], v = d * f.getFlex() / p, g = 0, y = f.getMinWidth(), m = f.getMaxWidth();
            if (z(y) && v < y ? g = y : z(m) && v > m && (g = m), g) {
              f.setActualWidth(g, n), vr(l, f), u.push(f), s.push(f);
              continue e;
            }
            c[h] = Math.round(v);
          }
          break;
        }
      var C = d;
      return l.forEach(function(S, b) {
        S.setActualWidth(Math.min(c[b], C), n), u.push(S), C -= c[b];
      }), e.skipSetLeft || this.setLeftValues(n), e.updateBodyWidths && this.updateBodyWidths(), e.fireResizedEvent && this.dispatchColumnResizedEvent(u, !0, n, l), l;
    }, t.prototype.sizeColumnsToFit = function(e, r, n, i) {
      var a = this, s, l, u, c, d;
      if (r === void 0 && (r = "sizeColumnsToFit"), this.shouldQueueResizeOperations) {
        this.resizeOperationQueue.push(function() {
          return a.sizeColumnsToFit(e, r, n, i);
        });
        return;
      }
      var p = {};
      i && ((s = i == null ? void 0 : i.columnLimits) === null || s === void 0 || s.forEach(function(L) {
        var B = L.key, j = nM(L, ["key"]);
        p[typeof B == "string" ? B : B.getColId()] = j;
      }));
      var h = this.getAllDisplayedColumns(), f = e === this.getWidthOfColsInList(h);
      if (!(e <= 0 || !h.length || f)) {
        var v = [], g = [];
        h.forEach(function(L) {
          L.getColDef().suppressSizeToFit === !0 ? g.push(L) : v.push(L);
        });
        var y = v.slice(0), m = !1, C = function(L) {
          vr(v, L), g.push(L);
        };
        for (v.forEach(function(L) {
          return L.resetActualWidth(r);
        }); !m; ) {
          m = !0;
          var S = e - this.getWidthOfColsInList(g);
          if (S <= 0)
            v.forEach(function(L) {
              var B, j, J = (j = (B = p == null ? void 0 : p[L.getId()]) === null || B === void 0 ? void 0 : B.minWidth) !== null && j !== void 0 ? j : i == null ? void 0 : i.defaultMinWidth;
              if (typeof J == "number") {
                L.setActualWidth(J);
                return;
              }
              L.setMinimum(r);
            });
          else
            for (var b = S / this.getWidthOfColsInList(v), _ = S, O = v.length - 1; O >= 0; O--) {
              var E = v[O], D = p == null ? void 0 : p[E.getId()], x = (l = D == null ? void 0 : D.minWidth) !== null && l !== void 0 ? l : i == null ? void 0 : i.defaultMinWidth, P = (u = D == null ? void 0 : D.maxWidth) !== null && u !== void 0 ? u : i == null ? void 0 : i.defaultMaxWidth, M = (c = E.getMinWidth()) !== null && c !== void 0 ? c : 0, F = (d = E.getMaxWidth()) !== null && d !== void 0 ? d : Number.MAX_VALUE, I = typeof x == "number" && x > M ? x : E.getMinWidth(), N = typeof P == "number" && P < F ? P : E.getMaxWidth(), k = Math.round(E.getActualWidth() * b);
              z(I) && k < I ? (k = I, C(E), m = !1) : z(N) && k > N ? (k = N, C(E), m = !1) : O === 0 && (k = _), E.setActualWidth(k, r, !0), _ -= k;
            }
        }
        y.forEach(function(L) {
          L.fireColumnWidthChangedEvent(r);
        }), this.setLeftValues(r), this.updateBodyWidths(), !n && this.dispatchColumnResizedEvent(y, !0, r);
      }
    }, t.prototype.buildDisplayedTrees = function(e) {
      var r = [], n = [], i = [];
      e.forEach(function(s) {
        switch (s.getPinned()) {
          case "left":
            r.push(s);
            break;
          case "right":
            n.push(s);
            break;
          default:
            i.push(s);
            break;
        }
      });
      var a = new Mb();
      this.displayedTreeLeft = this.displayedGroupCreator.createDisplayedGroups(r, this.gridBalancedTree, a, "left", this.displayedTreeLeft), this.displayedTreeRight = this.displayedGroupCreator.createDisplayedGroups(n, this.gridBalancedTree, a, "right", this.displayedTreeRight), this.displayedTreeCentre = this.displayedGroupCreator.createDisplayedGroups(i, this.gridBalancedTree, a, null, this.displayedTreeCentre), this.updateDisplayedMap();
    }, t.prototype.updateDisplayedMap = function() {
      var e = this;
      this.displayedColumnsAndGroupsMap = {};
      var r = function(n) {
        e.displayedColumnsAndGroupsMap[n.getUniqueId()] = n;
      };
      this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre, r), this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft, r), this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight, r);
    }, t.prototype.isDisplayed = function(e) {
      var r = this.displayedColumnsAndGroupsMap[e.getUniqueId()];
      return r === e;
    }, t.prototype.updateOpenClosedVisibilityInColumnGroups = function() {
      var e = this.getAllDisplayedTrees();
      this.columnUtils.depthFirstAllColumnTreeSearch(e, function(r) {
        if (r instanceof Fr) {
          var n = r;
          n.calculateDisplayedColumns();
        }
      });
    }, t.prototype.getGroupAutoColumns = function() {
      return this.groupAutoColumns;
    }, t.prototype.createGroupAutoColumnsIfNeeded = function() {
      var e = this.forceRecreateAutoGroups;
      if (this.forceRecreateAutoGroups = !1, !this.autoGroupsNeedBuilding)
        return !1;
      this.autoGroupsNeedBuilding = !1;
      var r = this.gridOptionsService.isGroupUseEntireRow(this.pivotMode), n = this.pivotMode ? this.gridOptionsService.is("pivotSuppressAutoColumn") : this.isGroupSuppressAutoColumn(), i = this.rowGroupColumns.length > 0 || this.usingTreeData, a = i && !n && !r;
      if (a) {
        var s = this.groupAutoColumns || [], l = this.autoGroupColService.createAutoGroupColumns(s, this.rowGroupColumns), u = !this.autoColsEqual(l, this.groupAutoColumns);
        if (u || e)
          return this.groupAutoColumns = l, !0;
      } else
        this.groupAutoColumns = null;
      return !1;
    }, t.prototype.isGroupSuppressAutoColumn = function() {
      var e = this.gridOptionsService.get("groupDisplayType"), r = e ? ry("custom", e) : !1;
      if (r)
        return !0;
      var n = this.gridOptionsService.get("treeDataDisplayType");
      return n ? eM("custom", n) : !1;
    }, t.prototype.autoColsEqual = function(e, r) {
      return Vo(e, r, function(n, i) {
        return n.getColId() === i.getColId();
      });
    }, t.prototype.getWidthOfColsInList = function(e) {
      return e.reduce(function(r, n) {
        return r + n.getActualWidth();
      }, 0);
    }, t.prototype.getGridBalancedTree = function() {
      return this.gridBalancedTree;
    }, t.prototype.hasFloatingFilters = function() {
      if (!this.gridColumns)
        return !1;
      var e = this.gridColumns.some(function(r) {
        return r.getColDef().floatingFilter;
      });
      return e;
    }, t.prototype.getFirstDisplayedColumn = function() {
      var e = this.gridOptionsService.is("enableRtl"), r = [
        "getDisplayedLeftColumns",
        "getDisplayedCenterColumns",
        "getDisplayedRightColumns"
      ];
      e && r.reverse();
      for (var n = 0; n < r.length; n++) {
        var i = this[r[n]]();
        if (i.length)
          return e ? et(i) : i[0];
      }
      return null;
    }, t.prototype.setColumnHeaderHeight = function(e, r) {
      var n = e.setAutoHeaderHeight(r);
      if (n) {
        var i = {
          type: R.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,
          column: e,
          columns: [e],
          source: "autosizeColumnHeaderHeight"
        };
        this.eventService.dispatchEvent(i);
      }
    }, t.prototype.getColumnGroupHeaderRowHeight = function() {
      return this.isPivotMode() ? this.getPivotGroupHeaderHeight() : this.getGroupHeaderHeight();
    }, t.prototype.getColumnHeaderRowHeight = function() {
      var e = this.isPivotMode() ? this.getPivotHeaderHeight() : this.getHeaderHeight(), r = this.getAllDisplayedColumns().filter(function(n) {
        return n.isAutoHeaderHeight();
      }).map(function(n) {
        return n.getAutoHeaderHeight() || 0;
      });
      return Math.max.apply(Math, ha([e], pa(r)));
    }, t.prototype.getHeaderHeight = function() {
      var e;
      return (e = this.gridOptionsService.getNum("headerHeight")) !== null && e !== void 0 ? e : this.environment.getFromTheme(25, "headerHeight");
    }, t.prototype.getFloatingFiltersHeight = function() {
      var e;
      return (e = this.gridOptionsService.getNum("floatingFiltersHeight")) !== null && e !== void 0 ? e : this.getHeaderHeight();
    }, t.prototype.getGroupHeaderHeight = function() {
      var e;
      return (e = this.gridOptionsService.getNum("groupHeaderHeight")) !== null && e !== void 0 ? e : this.getHeaderHeight();
    }, t.prototype.getPivotHeaderHeight = function() {
      var e;
      return (e = this.gridOptionsService.getNum("pivotHeaderHeight")) !== null && e !== void 0 ? e : this.getHeaderHeight();
    }, t.prototype.getPivotGroupHeaderHeight = function() {
      var e;
      return (e = this.gridOptionsService.getNum("pivotGroupHeaderHeight")) !== null && e !== void 0 ? e : this.getGroupHeaderHeight();
    }, t.prototype.queueResizeOperations = function() {
      this.shouldQueueResizeOperations = !0;
    }, t.prototype.processResizeOperations = function() {
      this.shouldQueueResizeOperations = !1, this.resizeOperationQueue.forEach(function(e) {
        return e();
      }), this.resizeOperationQueue = [];
    }, t.prototype.resetColumnDefIntoColumn = function(e) {
      var r = e.getUserProvidedColDef();
      if (!r)
        return !1;
      var n = this.columnFactory.mergeColDefs(r, e.getColId());
      return e.setColDef(n, r), !0;
    }, t.prototype.generateColumnStateForRowGroupAndPivotIndexes = function(e, r) {
      var n = this, i = {}, a = function(s, l, u, c, d, p) {
        if (!l.length || !n.primaryColumns)
          return [];
        for (var h = Object.keys(s), f = new Set(h), v = new Set(h), g = new Set(l.map(function(x) {
          var P = x.getColId();
          return v.delete(P), P;
        }).concat(h)), y = [], m = {}, C = 0, S = 0; S < n.primaryColumns.length; S++) {
          var b = n.primaryColumns[S].getColId();
          g.has(b) && (y.push(b), m[b] = C++);
        }
        var _ = 1e3, O = !1, E = 0, D = function(x) {
          for (var P = m[x], M = E; M < P; M++) {
            var F = y[M];
            v.has(F) && (s[F][d] = _++, v.delete(F));
          }
          E = P;
        };
        l.forEach(function(x) {
          var P = x.getColId();
          if (f.has(P))
            D(P), s[P][d] = _++;
          else {
            var M = x.getColDef(), F = M[d] === null || M[d] === void 0 && M[p] == null;
            if (F) {
              if (!O) {
                var I = M[u] || M[u] === void 0 && M[c];
                I ? D(P) : (v.forEach(function(N) {
                  s[N][d] = _ + m[N];
                }), _ += y.length, O = !0);
              }
              i[P] || (i[P] = { colId: P }), i[P][d] = _++;
            }
          }
        });
      };
      return a(e, this.rowGroupColumns, "rowGroup", "initialRowGroup", "rowGroupIndex", "initialRowGroupIndex"), a(r, this.pivotColumns, "pivot", "initialPivot", "pivotIndex", "initialPivotIndex"), Object.values(i);
    }, Yt([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), Yt([
      w("columnFactory")
    ], t.prototype, "columnFactory", void 0), Yt([
      w("displayedGroupCreator")
    ], t.prototype, "displayedGroupCreator", void 0), Yt([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Yt([
      w("autoWidthCalculator")
    ], t.prototype, "autoWidthCalculator", void 0), Yt([
      w("columnUtils")
    ], t.prototype, "columnUtils", void 0), Yt([
      w("columnAnimationService")
    ], t.prototype, "columnAnimationService", void 0), Yt([
      w("autoGroupColService")
    ], t.prototype, "autoGroupColService", void 0), Yt([
      Fe("aggFuncService")
    ], t.prototype, "aggFuncService", void 0), Yt([
      Fe("valueCache")
    ], t.prototype, "valueCache", void 0), Yt([
      Fe("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), Yt([
      w("sortController")
    ], t.prototype, "sortController", void 0), Yt([
      w("columnDefFactory")
    ], t.prototype, "columnDefFactory", void 0), Yt([
      V
    ], t.prototype, "init", null), Yt([
      rt
    ], t.prototype, "destroyColumns", null), Yt([
      rM(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), t = Yt([
      q("columnModel")
    ], t), t;
  }(W)
), oM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), aM = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sM = (
  /** @class */
  function(o) {
    oM(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.calculateColMinWidth = function(e) {
      return e.minWidth != null ? e.minWidth : this.environment.getMinColWidth();
    }, t.prototype.calculateColMaxWidth = function(e) {
      return e.maxWidth != null ? e.maxWidth : Number.MAX_SAFE_INTEGER;
    }, t.prototype.calculateColInitialWidth = function(e) {
      var r = this.calculateColMinWidth(e), n = this.calculateColMaxWidth(e), i, a = yn(e.width), s = yn(e.initialWidth);
      return a != null ? i = a : s != null ? i = s : i = 200, Math.max(Math.min(i, n), r);
    }, t.prototype.getOriginalPathForColumn = function(e, r) {
      var n = [], i = !1, a = function(s, l) {
        for (var u = 0; u < s.length; u++) {
          if (i)
            return;
          var c = s[u];
          if (c instanceof qe) {
            var d = c;
            a(d.getChildren(), l + 1), n[l] = c;
          } else
            c === e && (i = !0);
        }
      };
      return a(r, 0), i ? n : null;
    }, t.prototype.depthFirstOriginalTreeSearch = function(e, r, n) {
      var i = this;
      r && r.forEach(function(a) {
        a instanceof qe && i.depthFirstOriginalTreeSearch(a, a.getChildren(), n), n(a, e);
      });
    }, t.prototype.depthFirstAllColumnTreeSearch = function(e, r) {
      var n = this;
      e && e.forEach(function(i) {
        i instanceof Fr && n.depthFirstAllColumnTreeSearch(i.getChildren(), r), r(i);
      });
    }, t.prototype.depthFirstDisplayedColumnTreeSearch = function(e, r) {
      var n = this;
      e && e.forEach(function(i) {
        i instanceof Fr && n.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(), r), r(i);
      });
    }, t = aM([
      q("columnUtils")
    ], t), t;
  }(W)
), lM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uM = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, cM = (
  /** @class */
  function(o) {
    lM(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createDisplayedGroups = function(e, r, n, i, a) {
      var s = this, l = [], u, c, d = this.mapOldGroupsById(a);
      return e.forEach(function(p) {
        for (var h = s.getOriginalPathForColumn(r, p), f = [], v = !c, g = 0; g < h.length; g++)
          if (v || h[g] !== c[g]) {
            var y = s.createColumnGroup(h[g], n, d, i);
            f[g] = y, g == 0 ? l.push(y) : f[g - 1].addChild(y);
          } else
            f[g] = u[g];
        var m = f.length === 0;
        if (m)
          l.push(p);
        else {
          var C = et(f);
          C.addChild(p);
        }
        u = f, c = h;
      }), this.setupParentsIntoColumns(l, null), l;
    }, t.prototype.createColumnGroup = function(e, r, n, i) {
      var a = e.getGroupId(), s = r.getInstanceIdForKey(a), l = Fr.createUniqueId(a, s), u = n[l];
      return u && u.getProvidedColumnGroup() !== e && (u = null), z(u) ? u.reset() : (u = new Fr(e, a, s, i), this.context.createBean(u)), u;
    }, t.prototype.mapOldGroupsById = function(e) {
      var r = {}, n = function(i) {
        i.forEach(function(a) {
          if (a instanceof Fr) {
            var s = a;
            r[a.getUniqueId()] = s, n(s.getChildren());
          }
        });
      };
      return e && n(e), r;
    }, t.prototype.setupParentsIntoColumns = function(e, r) {
      var n = this;
      e.forEach(function(i) {
        if (i.setParent(r), i instanceof Fr) {
          var a = i;
          n.setupParentsIntoColumns(a.getChildren(), a);
        }
      });
    }, t.prototype.getOriginalPathForColumn = function(e, r) {
      var n = [], i = !1, a = function(s, l) {
        for (var u = 0; u < s.length; u++) {
          if (i)
            return;
          var c = s[u];
          c instanceof qe ? (a(c.getChildren(), l + 1), n[l] = c) : c === r && (i = !0);
        }
      };
      return a(e, 0), i ? n : (console.warn("AG Grid: could not get path"), null);
    }, t = uM([
      q("displayedGroupCreator")
    ], t), t;
  }(W)
), dM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pM = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hM = (
  /** @class */
  function(o) {
    dM(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.componentsMappedByName = {}, e;
    }
    return t.prototype.setupComponents = function(e) {
      var r = this;
      e && e.forEach(function(n) {
        return r.addComponent(n);
      });
    }, t.prototype.addComponent = function(e) {
      var r = e.componentName.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), n = r.toUpperCase();
      this.componentsMappedByName[n] = e.componentClass;
    }, t.prototype.getComponentClass = function(e) {
      return this.componentsMappedByName[e];
    }, t = pM([
      q("agStackComponentsRegistry")
    ], t), t;
  }(W)
);
function Pi(o, t, e) {
  e == null || e == "" ? pm(o, t) : xn(o, t, e);
}
function xn(o, t, e) {
  o.setAttribute(Gb(t), e.toString());
}
function pm(o, t) {
  o.removeAttribute(Gb(t));
}
function Gb(o) {
  return "aria-" + o;
}
function Ut(o, t) {
  t ? o.setAttribute("role", t) : o.removeAttribute("role");
}
function kb(o) {
  var t;
  return o === "asc" ? t = "ascending" : o === "desc" ? t = "descending" : o === "mixed" ? t = "other" : t = "none", t;
}
function Vb(o) {
  return parseInt(o.getAttribute("aria-level"), 10);
}
function Bb(o) {
  return parseInt(o.getAttribute("aria-posinset"), 10);
}
function fM(o) {
  return o.getAttribute("aria-describedby") || "";
}
function ra(o, t) {
  Pi(o, "label", t);
}
function pf(o, t) {
  Pi(o, "labelledby", t);
}
function Hb(o, t) {
  Pi(o, "description", t);
}
function jb(o, t) {
  Pi(o, "describedby", t);
}
function Wb(o, t) {
  Pi(o, "live", t);
}
function $b(o, t) {
  Pi(o, "level", t);
}
function hm(o, t) {
  Pi(o, "disabled", t);
}
function hf(o, t) {
  Pi(o, "hidden", t);
}
function $n(o, t) {
  xn(o, "expanded", t);
}
function Ub(o) {
  pm(o, "expanded");
}
function fm(o, t) {
  xn(o, "setsize", t);
}
function vm(o, t) {
  xn(o, "posinset", t);
}
function zb(o, t) {
  xn(o, "multiselectable", t);
}
function Kb(o, t) {
  xn(o, "rowcount", t);
}
function gm(o, t) {
  xn(o, "rowindex", t);
}
function Yb(o, t) {
  xn(o, "colcount", t);
}
function ym(o, t) {
  xn(o, "colindex", t);
}
function Xb(o, t) {
  xn(o, "colspan", t);
}
function qb(o, t) {
  xn(o, "sort", t);
}
function Zb(o) {
  pm(o, "sort");
}
function Wl(o, t) {
  Pi(o, "selected", t);
}
function Qb(o, t) {
  xn(o, "checked", t === void 0 ? "mixed" : t);
}
function vM(o, t) {
  Pi(o, "controls", t.id), pf(t, o.id);
}
function ff(o, t) {
  return t === void 0 ? o("ariaIndeterminate", "indeterminate") : t === !0 ? o("ariaChecked", "checked") : o("ariaUnchecked", "unchecked");
}
var gM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  setAriaRole: Ut,
  getAriaSortState: kb,
  getAriaLevel: Vb,
  getAriaPosInSet: Bb,
  getAriaDescribedBy: fM,
  setAriaLabel: ra,
  setAriaLabelledBy: pf,
  setAriaDescription: Hb,
  setAriaDescribedBy: jb,
  setAriaLive: Wb,
  setAriaLevel: $b,
  setAriaDisabled: hm,
  setAriaHidden: hf,
  setAriaExpanded: $n,
  removeAriaExpanded: Ub,
  setAriaSetSize: fm,
  setAriaPosInSet: vm,
  setAriaMultiSelectable: zb,
  setAriaRowCount: Kb,
  setAriaRowIndex: gm,
  setAriaColCount: Yb,
  setAriaColIndex: ym,
  setAriaColSpan: Xb,
  setAriaSort: qb,
  removeAriaSort: Zb,
  setAriaSelected: Wl,
  setAriaChecked: Qb,
  setAriaControls: vM,
  getAriaCheckboxStateName: ff
}), qf, Od, Zf, Qf, Jf, ev, ny, iy;
function En() {
  return qf === void 0 && (qf = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)), qf;
}
function mm() {
  if (Od === void 0)
    if (En()) {
      var o = navigator.userAgent.match(/version\/(\d+)/i);
      o && (Od = o[1] != null ? parseFloat(o[1]) : 0);
    } else
      Od = 0;
  return Od;
}
function vf() {
  if (Zf === void 0) {
    var o = window;
    Zf = !!o.chrome && (!!o.chrome.webstore || !!o.chrome.runtime) || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
  }
  return Zf;
}
function Cm() {
  return Qf === void 0 && (Qf = /(firefox)/i.test(navigator.userAgent)), Qf;
}
function Sm() {
  return Jf === void 0 && (Jf = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)), Jf;
}
function na() {
  return ev === void 0 && (ev = /iPad|iPhone|iPod/.test(navigator.platform) || // eslint-disable-next-line
  navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1), ev;
}
function gf() {
  return !En() || mm() >= 15;
}
function ih(o) {
  if (!o)
    return null;
  var t = o.tabIndex, e = o.getAttribute("tabIndex");
  return t === -1 && (e === null || e === "" && !Cm()) ? null : t.toString();
}
function Jb() {
  if (!document.body)
    return -1;
  var o = 1e6, t = navigator.userAgent.toLowerCase().match(/firefox/) ? 6e6 : 1e9, e = document.createElement("div");
  for (document.body.appendChild(e); ; ) {
    var r = o * 2;
    if (e.style.height = r + "px", r > t || e.clientHeight !== r)
      break;
    o = r;
  }
  return document.body.removeChild(e), o;
}
function eE() {
  var o, t, e;
  return (t = (o = document.body) === null || o === void 0 ? void 0 : o.clientWidth) !== null && t !== void 0 ? t : window.innerHeight || ((e = document.documentElement) === null || e === void 0 ? void 0 : e.clientWidth) || -1;
}
function tE() {
  var o, t, e;
  return (t = (o = document.body) === null || o === void 0 ? void 0 : o.clientHeight) !== null && t !== void 0 ? t : window.innerHeight || ((e = document.documentElement) === null || e === void 0 ? void 0 : e.clientHeight) || -1;
}
function rE() {
  return iy == null && nE(), iy;
}
function nE() {
  var o = document.body, t = document.createElement("div");
  t.style.width = t.style.height = "100px", t.style.opacity = "0", t.style.overflow = "scroll", t.style.msOverflowStyle = "scrollbar", t.style.position = "absolute", o.appendChild(t);
  var e = t.offsetWidth - t.clientWidth;
  e === 0 && t.clientWidth === 0 && (e = null), t.parentNode && t.parentNode.removeChild(t), e != null && (iy = e, ny = e === 0);
}
function Fl() {
  return ny == null && nE(), ny;
}
var yM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  isBrowserSafari: En,
  getSafariVersion: mm,
  isBrowserChrome: vf,
  isBrowserFirefox: Cm,
  isMacOsUserAgent: Sm,
  isIOSUserAgent: na,
  browserSupportsPreventScroll: gf,
  getTabIndex: ih,
  getMaxDivHeight: Jb,
  getBodyWidth: eE,
  getBodyHeight: tE,
  getScrollbarWidth: rE,
  isInvisibleScrollbar: Fl
});
function Ll(o, t) {
  return o.toString().padStart(t, "0");
}
function iE(o, t) {
  for (var e = [], r = o; r <= t; r++)
    e.push(r);
  return e;
}
function mM(o) {
  return typeof o == "string" && (o = parseInt(o, 10)), typeof o == "number" ? Math.floor(o) : null;
}
function CM(o, t) {
  for (var e = "", r = 0; r < t; r++)
    e += String.fromCharCode(o & 255), o >>>= 8;
  return e;
}
function SM(o, t, e) {
  return typeof o != "number" ? "" : wm(Math.round(o * 100) / 100, t, e);
}
function wm(o, t, e) {
  return typeof o != "number" ? "" : o.toString().replace(".", e).replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + t);
}
function wM(o) {
  return o == null ? null : o.reduce(function(t, e) {
    return t + e;
  }, 0);
}
function _M(o, t) {
  return o >= 0 ? o : t;
}
function bM(o, t) {
  var e = parseInt(o, 10);
  return !isNaN(e) && isFinite(e) && e > 0 ? e : t;
}
var EM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  padStartWidthZeros: Ll,
  createArrayOfNumbers: iE,
  cleanNumber: mM,
  decToHex: CM,
  formatNumberTwoDecimalPlacesAndCommas: SM,
  formatNumberCommas: wm,
  sum: wM,
  zeroOrGreater: _M,
  oneOrGreater: bM
}), tv = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
};
function wn(o, t, e) {
  if (t === void 0 && (t = !0), e === void 0 && (e = "-"), !o)
    return null;
  var r = [o.getFullYear(), o.getMonth() + 1, o.getDate()].map(function(n) {
    return Ll(n, 2);
  }).join(e);
  return t && (r += " " + [o.getHours(), o.getMinutes(), o.getSeconds()].map(function(n) {
    return Ll(n, 2);
  }).join(":")), r;
}
var rv = function(o) {
  if (o > 3 && o < 21)
    return "th";
  var t = o % 10;
  switch (t) {
    case 1:
      return "st";
    case 2:
      return "nd";
    case 3:
      return "rd";
  }
  return "th";
};
function $p(o, t) {
  t === void 0 && (t = "YYYY-MM-DD");
  var e = Ll(o.getFullYear(), 4), r = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ], n = [
    "Sunday",
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday"
  ], i = {
    YYYY: function() {
      return e.slice(e.length - 4, e.length);
    },
    YY: function() {
      return e.slice(e.length - 2, e.length);
    },
    Y: function() {
      return "" + o.getFullYear();
    },
    MMMM: function() {
      return r[o.getMonth()];
    },
    MMM: function() {
      return r[o.getMonth()].slice(0, 3);
    },
    MM: function() {
      return Ll(o.getMonth() + 1, 2);
    },
    Mo: function() {
      return "" + (o.getMonth() + 1) + rv(o.getMonth() + 1);
    },
    M: function() {
      return "" + (o.getMonth() + 1);
    },
    Do: function() {
      return "" + o.getDate() + rv(o.getDate());
    },
    DD: function() {
      return Ll(o.getDate(), 2);
    },
    D: function() {
      return "" + o.getDate();
    },
    dddd: function() {
      return n[o.getDay()];
    },
    ddd: function() {
      return n[o.getDay()].slice(0, 3);
    },
    dd: function() {
      return n[o.getDay()].slice(0, 2);
    },
    do: function() {
      return "" + o.getDay() + rv(o.getDay());
    },
    d: function() {
      return "" + o.getDay();
    }
  }, a = new RegExp(Object.keys(i).join("|"), "g");
  return t.replace(a, function(s) {
    return s in i ? i[s]() : s;
  });
}
function zn(o) {
  if (!o)
    return null;
  var t = tv(o.split(" "), 2), e = t[0], r = t[1];
  if (!e)
    return null;
  var n = e.split("-").map(function(f) {
    return parseInt(f, 10);
  });
  if (n.filter(function(f) {
    return !isNaN(f);
  }).length !== 3)
    return null;
  var i = tv(n, 3), a = i[0], s = i[1], l = i[2], u = new Date(a, s - 1, l);
  if (u.getFullYear() !== a || u.getMonth() !== s - 1 || u.getDate() !== l)
    return null;
  if (!r || r === "00:00:00")
    return u;
  var c = tv(r.split(":").map(function(f) {
    return parseInt(f, 10);
  }), 3), d = c[0], p = c[1], h = c[2];
  return d >= 0 && d < 24 && u.setHours(d), p >= 0 && p < 60 && u.setMinutes(p), h >= 0 && h < 60 && u.setSeconds(h), u;
}
var OM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  serialiseDate: wn,
  dateToFormattedString: $p,
  parseDateTimeFromString: zn
}), xM = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, TM = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, xd;
function RM(o, t, e) {
  for (var r = o.parentElement, n = r && r.firstChild; n; )
    t && n.classList.toggle(t, n === o), e && n.classList.toggle(e, n !== o), n = n.nextSibling;
}
var oE = "[tabindex], input, select, button, textarea, [href]", _m = ".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";
function bm(o) {
  var t = Element.prototype.matches || Element.prototype.msMatchesSelector, e = "input, select, button, textarea", r = t.call(o, e), n = t.call(o, _m), i = so(o), a = r && !n && i;
  return a;
}
function Be(o, t, e) {
  e === void 0 && (e = {});
  var r = e.skipAriaHidden;
  o.classList.toggle("ag-hidden", !t), r || hf(o, !t);
}
function aE(o, t, e) {
  e === void 0 && (e = {});
  var r = e.skipAriaHidden;
  o.classList.toggle("ag-invisible", !t), r || hf(o, !t);
}
function $l(o, t) {
  var e = "disabled", r = t ? function(n) {
    return n.setAttribute(e, "");
  } : function(n) {
    return n.removeAttribute(e);
  };
  r(o), Pm(o.querySelectorAll("input"), function(n) {
    return r(n);
  });
}
function Za(o, t, e) {
  for (var r = 0; o; ) {
    if (o.classList.contains(t))
      return !0;
    if (o = o.parentElement, typeof e == "number") {
      if (++r > e)
        break;
    } else if (o === e)
      break;
  }
  return !1;
}
function ia(o) {
  var t = window.getComputedStyle(o), e = t.height, r = t.width, n = t.borderTopWidth, i = t.borderRightWidth, a = t.borderBottomWidth, s = t.borderLeftWidth, l = t.paddingTop, u = t.paddingRight, c = t.paddingBottom, d = t.paddingLeft, p = t.marginTop, h = t.marginRight, f = t.marginBottom, v = t.marginLeft, g = t.boxSizing;
  return {
    height: parseFloat(e),
    width: parseFloat(r),
    borderTopWidth: parseFloat(n),
    borderRightWidth: parseFloat(i),
    borderBottomWidth: parseFloat(a),
    borderLeftWidth: parseFloat(s),
    paddingTop: parseFloat(l),
    paddingRight: parseFloat(u),
    paddingBottom: parseFloat(c),
    paddingLeft: parseFloat(d),
    marginTop: parseFloat(p),
    marginRight: parseFloat(h),
    marginBottom: parseFloat(f),
    marginLeft: parseFloat(v),
    boxSizing: g
  };
}
function ad(o) {
  var t = ia(o);
  return t.boxSizing === "border-box" ? t.height - t.paddingTop - t.paddingBottom : t.height;
}
function yf(o) {
  var t = ia(o);
  return t.boxSizing === "border-box" ? t.width - t.paddingLeft - t.paddingRight : t.width;
}
function Em(o) {
  var t = ia(o), e = t.marginBottom + t.marginTop;
  return Math.ceil(o.offsetHeight + e);
}
function mf(o) {
  var t = ia(o), e = t.marginLeft + t.marginRight;
  return Math.ceil(o.offsetWidth + e);
}
function Om(o) {
  var t = o.getBoundingClientRect(), e = ia(o), r = e.borderTopWidth, n = e.borderLeftWidth, i = e.borderRightWidth, a = e.borderBottomWidth;
  return {
    top: t.top + (r || 0),
    left: t.left + (n || 0),
    right: t.right + (i || 0),
    bottom: t.bottom + (a || 0)
  };
}
function jc() {
  if (typeof xd == "boolean")
    return xd;
  var o = document.createElement("div");
  return o.style.direction = "rtl", o.style.width = "1px", o.style.height = "1px", o.style.position = "fixed", o.style.top = "0px", o.style.overflow = "hidden", o.dir = "rtl", o.innerHTML = /* html */
  `<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`, document.body.appendChild(o), o.scrollLeft = 1, xd = Math.floor(o.scrollLeft) === 0, document.body.removeChild(o), xd;
}
function Wc(o, t) {
  var e = o.scrollLeft;
  return t && (e = Math.abs(e), vf() && !jc() && (e = o.scrollWidth - o.clientWidth - e)), e;
}
function $c(o, t, e) {
  e && (jc() ? t *= -1 : (En() || vf()) && (t = o.scrollWidth - o.clientWidth - t)), o.scrollLeft = t;
}
function Qr(o) {
  for (; o && o.firstChild; )
    o.removeChild(o.firstChild);
}
function DM(o, t) {
  eo(o.querySelector(t));
}
function eo(o) {
  o && o.parentNode && o.parentNode.removeChild(o);
}
function so(o) {
  return o.offsetParent !== null;
}
function nr(o) {
  var t = document.createElement("div");
  return t.innerHTML = (o || "").trim(), t.firstChild;
}
function PM(o, t) {
  o.lastChild ? o.insertAdjacentHTML("afterbegin", t) : o.innerHTML = t;
}
function AM(o, t) {
  if (o.attributes && o.attributes[t]) {
    var e = o.attributes[t];
    return e.value;
  }
  return null;
}
function oy(o) {
  return o && o.clientHeight ? o.clientHeight : 0;
}
function ay(o) {
  return o && o.clientWidth ? o.clientWidth : 0;
}
function xm(o, t, e) {
  if (!(e && e.nextSibling === t)) {
    var r = document.activeElement, n = t.contains(r);
    e ? e.nextSibling ? o.insertBefore(t, e.nextSibling) : o.appendChild(t) : o.firstChild && o.firstChild !== t && o.insertAdjacentElement("afterbegin", t), n && r && gf() && r.focus({ preventScroll: !0 });
  }
}
function Tm(o, t) {
  for (var e = 0; e < t.length; e++) {
    var r = t[e], n = o.children[e];
    n !== r && o.insertBefore(r, n);
  }
}
function sE(o, t, e) {
  e ? e.insertAdjacentElement("afterend", t) : o.firstChild ? o.insertAdjacentElement("afterbegin", t) : o.appendChild(t);
}
function MM(o, t) {
  z(o.firstChild) ? o.insertBefore(t, o.firstChild) : o.appendChild(t);
}
function Rm(o, t) {
  var e, r;
  if (t)
    try {
      for (var n = xM(Object.entries(t)), i = n.next(); !i.done; i = n.next()) {
        var a = TM(i.value, 2), s = a[0], l = a[1];
        if (!(!s || !s.length || l == null)) {
          var u = Lb(s), c = l.toString(), d = c.replace(/\s*!important/g, ""), p = d.length != c.length ? "important" : void 0;
          o.style.setProperty(u, d, p);
        }
      }
    } catch (h) {
      e = { error: h };
    } finally {
      try {
        i && !i.done && (r = n.return) && r.call(n);
      } finally {
        if (e)
          throw e.error;
      }
    }
}
function lE(o) {
  return o.clientWidth < o.scrollWidth;
}
function uE(o) {
  return o.clientHeight < o.scrollHeight;
}
function sd(o, t) {
  t === "flex" ? (o.style.removeProperty("width"), o.style.removeProperty("minWidth"), o.style.removeProperty("maxWidth"), o.style.flex = "1 1 auto") : _n(o, t);
}
function _n(o, t) {
  t = Dm(t), o.style.width = t.toString(), o.style.maxWidth = t.toString(), o.style.minWidth = t.toString();
}
function IM(o, t) {
  t === "flex" ? (o.style.removeProperty("height"), o.style.removeProperty("minHeight"), o.style.removeProperty("maxHeight"), o.style.flex = "1 1 auto") : Qa(o, t);
}
function Qa(o, t) {
  t = Dm(t), o.style.height = t.toString(), o.style.maxHeight = t.toString(), o.style.minHeight = t.toString();
}
function Dm(o) {
  return typeof o == "number" ? o + "px" : o;
}
function ld(o) {
  return o instanceof Node || o instanceof HTMLElement;
}
function cE(o) {
  if (o == null)
    return [];
  var t = [];
  return Pm(o, function(e) {
    return t.push(e);
  }), t;
}
function dE(o, t) {
  if (o)
    for (var e = 0; e < o.length; e++) {
      var r = o[e];
      t(r.name, r.value);
    }
}
function zo(o, t, e) {
  e == null ? o.removeAttribute(t) : o.setAttribute(t, e.toString());
}
function Pm(o, t) {
  if (o != null)
    for (var e = 0; e < o.length; e++)
      t(o[e]);
}
var FM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  radioCssClass: RM,
  FOCUSABLE_SELECTOR: oE,
  FOCUSABLE_EXCLUDE: _m,
  isFocusableFormField: bm,
  setDisplayed: Be,
  setVisible: aE,
  setDisabled: $l,
  isElementChildOfClass: Za,
  getElementSize: ia,
  getInnerHeight: ad,
  getInnerWidth: yf,
  getAbsoluteHeight: Em,
  getAbsoluteWidth: mf,
  getElementRectWithOffset: Om,
  isRtlNegativeScroll: jc,
  getScrollLeft: Wc,
  setScrollLeft: $c,
  clearElement: Qr,
  removeElement: DM,
  removeFromParent: eo,
  isVisible: so,
  loadTemplate: nr,
  appendHtml: PM,
  getElementAttribute: AM,
  offsetHeight: oy,
  offsetWidth: ay,
  ensureDomOrder: xm,
  setDomChildOrder: Tm,
  insertWithDomOrder: sE,
  prependDC: MM,
  addStylesToElement: Rm,
  isHorizontalScrollShowing: lE,
  isVerticalScrollShowing: uE,
  setElementWidth: sd,
  setFixedWidth: _n,
  setElementHeight: IM,
  setFixedHeight: Qa,
  formatSize: Dm,
  isNodeOrElement: ld,
  copyNodeList: cE,
  iterateNamedNodeMap: dE,
  addOrRemoveAttribute: zo,
  nodeListForEach: Pm
}), pE = {
  // header column group shown when expanded (click to contract)
  columnGroupOpened: "expanded",
  // header column group shown when contracted (click to expand)
  columnGroupClosed: "contracted",
  // tool panel column group contracted (click to expand)
  columnSelectClosed: "tree-closed",
  // tool panel column group expanded (click to contract)
  columnSelectOpen: "tree-open",
  // column tool panel header expand/collapse all button, shown when some children are expanded and
  //     others are collapsed
  columnSelectIndeterminate: "tree-indeterminate",
  // shown on ghost icon while dragging column to the side of the grid to pin
  columnMovePin: "pin",
  // shown on ghost icon while dragging over part of the page that is not a drop zone
  columnMoveHide: "eye-slash",
  // shown on ghost icon while dragging columns to reorder
  columnMoveMove: "arrows",
  // animating icon shown when dragging a column to the right of the grid causes horizontal scrolling
  columnMoveLeft: "left",
  // animating icon shown when dragging a column to the left of the grid causes horizontal scrolling
  columnMoveRight: "right",
  // shown on ghost icon while dragging over Row Groups drop zone
  columnMoveGroup: "group",
  // shown on ghost icon while dragging over Values drop zone
  columnMoveValue: "aggregation",
  // shown on ghost icon while dragging over pivot drop zone
  columnMovePivot: "pivot",
  // shown on ghost icon while dragging over drop zone that doesn't support it, e.g.
  //     string column over aggregation drop zone
  dropNotAllowed: "not-allowed",
  // shown on row group when contracted (click to expand)
  groupContracted: "tree-closed",
  // shown on row group when expanded (click to contract)
  groupExpanded: "tree-open",
  // set filter tree list group contracted (click to expand)
  setFilterGroupClosed: "tree-closed",
  // set filter tree list group expanded (click to contract)
  setFilterGroupOpen: "tree-open",
  // set filter tree list expand/collapse all button, shown when some children are expanded and
  //     others are collapsed
  setFilterGroupIndeterminate: "tree-indeterminate",
  // context menu chart item
  chart: "chart",
  // chart window title bar
  close: "cross",
  // X (remove) on column 'pill' after adding it to a drop zone list
  cancel: "cancel",
  // indicates the currently active pin state in the "Pin column" sub-menu of the column menu
  check: "tick",
  // "go to first" button in pagination controls
  first: "first",
  // "go to previous" button in pagination controls
  previous: "previous",
  // "go to next" button in pagination controls
  next: "next",
  // "go to last" button in pagination controls
  last: "last",
  // shown on top right of chart when chart is linked to range data (click to unlink)
  linked: "linked",
  // shown on top right of chart when chart is not linked to range data (click to link)
  unlinked: "unlinked",
  // "Choose colour" button on chart settings tab
  colorPicker: "color-picker",
  // rotating spinner shown by the loading cell renderer
  groupLoading: "loading",
  // button to launch enterprise column menu
  menu: "menu",
  // filter tool panel tab
  filter: "filter",
  // column tool panel tab
  columns: "columns",
  // button in chart regular size window title bar (click to maximise)
  maximize: "maximize",
  // button in chart maximised window title bar (click to make regular size)
  minimize: "minimize",
  // "Pin column" item in column header menu
  menuPin: "pin",
  // "Value aggregation" column menu item (shown on numeric columns when grouping is active)"
  menuValue: "aggregation",
  // "Group by {column-name}" item in column header menu
  menuAddRowGroup: "group",
  // "Un-Group by {column-name}" item in column header menu
  menuRemoveRowGroup: "group",
  // context menu copy item
  clipboardCopy: "copy",
  // context menu cut item
  clipboardCut: "cut",
  // context menu paste item
  clipboardPaste: "paste",
  // identifies the pivot drop zone
  pivotPanel: "pivot",
  // "Row groups" drop zone in column tool panel
  rowGroupPanel: "group",
  // columns tool panel Values drop zone
  valuePanel: "aggregation",
  // drag handle used to pick up draggable columns
  columnDrag: "grip",
  // drag handle used to pick up draggable rows
  rowDrag: "grip",
  // context menu export item
  save: "save",
  // csv export
  csvExport: "csv",
  // excel export,
  excelExport: "excel",
  // icon on dropdown editors
  smallDown: "small-down",
  // version of small-right used in RTL mode
  smallLeft: "small-left",
  // separater between column 'pills' when you add multiple columns to the header drop zone
  smallRight: "small-right",
  smallUp: "small-up",
  // show on column header when column is sorted ascending
  sortAscending: "asc",
  // show on column header when column is sorted descending
  sortDescending: "desc",
  // show on column header when column has no sort, only when enabled with gridOptions.unSortIcon=true
  sortUnSort: "none"
};
function vn(o, t, e) {
  var r = Et(o, t, e);
  if (r) {
    var n = r.className;
    if (typeof n == "string" && n.indexOf("ag-icon") > -1 || typeof n == "object" && n["ag-icon"])
      return r;
  }
  var i = document.createElement("span");
  return i.appendChild(r), i;
}
function Et(o, t, e, r) {
  var n = null, i = e && e.getColDef().icons;
  if (i && (n = i[o]), t && !n) {
    var a = t.get("icons");
    a && (n = a[o]);
  }
  if (n) {
    var s = void 0;
    if (typeof n == "function")
      s = n();
    else if (typeof n == "string")
      s = n;
    else
      throw new Error("icon from grid options needs to be a string or a function");
    if (typeof s == "string")
      return nr(s);
    if (ld(s))
      return s;
    console.warn("AG Grid: iconRenderer should return back a string or a dom object");
  } else {
    var l = document.createElement("span"), u = pE[o];
    return u || (r ? u = o : (console.warn("AG Grid: Did not find icon " + o), u = "")), l.setAttribute("class", "ag-icon ag-icon-" + u), l.setAttribute("unselectable", "on"), Ut(l, "presentation"), l;
  }
}
var LM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  iconNameClassMap: pE,
  createIcon: vn,
  createIconNoSpan: Et
}), H = (
  /** @class */
  function() {
    function o() {
    }
    return o.BACKSPACE = "Backspace", o.TAB = "Tab", o.ENTER = "Enter", o.ESCAPE = "Escape", o.SPACE = " ", o.LEFT = "ArrowLeft", o.UP = "ArrowUp", o.RIGHT = "ArrowRight", o.DOWN = "ArrowDown", o.DELETE = "Delete", o.F2 = "F2", o.PAGE_UP = "PageUp", o.PAGE_DOWN = "PageDown", o.PAGE_HOME = "Home", o.PAGE_END = "End", o.A = "KeyA", o.C = "KeyC", o.D = "KeyD", o.V = "KeyV", o.X = "KeyX", o.Y = "KeyY", o.Z = "KeyZ", o;
  }()
), NM = 65, GM = 67, kM = 86, VM = 68, BM = 90, HM = 89;
function Am(o) {
  if (o.altKey || o.ctrlKey || o.metaKey)
    return !1;
  var t = o.key.length === 1;
  return t;
}
function oh(o, t, e, r, n) {
  var i = r ? r.getColDef().suppressKeyboardEvent : void 0;
  if (!i)
    return !1;
  var a = {
    event: t,
    editing: n,
    column: r,
    api: o.api,
    node: e,
    data: e.data,
    colDef: r.getColDef(),
    context: o.context,
    columnApi: o.columnApi
  };
  if (i) {
    var s = i(a);
    if (s)
      return !0;
  }
  return !1;
}
function hE(o, t, e, r) {
  var n = r.getDefinition(), i = n && n.suppressHeaderKeyboardEvent;
  if (!z(i))
    return !1;
  var a = {
    api: o.api,
    columnApi: o.columnApi,
    context: o.context,
    colDef: n,
    column: r,
    headerRowIndex: e,
    event: t
  };
  return !!i(a);
}
function fE(o) {
  var t = o.keyCode, e;
  switch (t) {
    case NM:
      e = H.A;
      break;
    case GM:
      e = H.C;
      break;
    case kM:
      e = H.V;
      break;
    case VM:
      e = H.D;
      break;
    case BM:
      e = H.Z;
      break;
    case HM:
      e = H.Y;
      break;
    default:
      e = o.code;
  }
  return e;
}
function vE(o, t) {
  return t === void 0 && (t = !1), o === H.DELETE ? !0 : !t && o === H.BACKSPACE ? Sm() : !1;
}
var jM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  isEventFromPrintableCharacter: Am,
  isUserSuppressingKeyboardEvent: oh,
  isUserSuppressingHeaderKeyboardEvent: hE,
  normaliseQwertyAzerty: fE,
  isDeleteKey: vE
});
function Mm(o, t, e) {
  if (e === 0)
    return !1;
  var r = Math.abs(o.clientX - t.clientX), n = Math.abs(o.clientY - t.clientY);
  return Math.max(r, n) <= e;
}
var WM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  areEventsNear: Mm
});
function $M(o, t) {
  if (!o)
    return !1;
  for (var e = function(s, l) {
    var u = t[s.id], c = t[l.id], d = u !== void 0, p = c !== void 0, h = d && p, f = !d && !p;
    return h ? u - c : f ? s.__objectId - l.__objectId : d ? 1 : -1;
  }, r, n, i = !1, a = 0; a < o.length - 1; a++)
    if (r = o[a], n = o[a + 1], e(r, n) > 0) {
      i = !0;
      break;
    }
  return i ? (o.sort(e), !0) : !1;
}
function UM(o, t) {
  var e = [];
  r(o);
  function r(n) {
    n && n.forEach(function(i) {
      if (i.group || i.hasChildren()) {
        e.push(i.key);
        var a = e.join("|");
        t(i, a), r(i.childrenAfterGroup), e.pop();
      }
    });
  }
}
var zM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  sortRowNodesByOrder: $M,
  traverseNodesWithKey: UM
});
function Im(o) {
  var t = /* @__PURE__ */ new Set();
  return o.forEach(function(e) {
    return t.add(e);
  }), t;
}
var KM = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  convertToSet: Im
}), Tt = function() {
  return Tt = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Tt.apply(this, arguments);
}, YM = Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt({}, gM), FA), yM), OM), FM), NA), wA), QA), dA), LM), jM), XA), WM), EM), mA), zM), KM), zA), T = YM, ar = (
  /** @class */
  function() {
    function o(t, e) {
      t === void 0 && (t = 0), e === void 0 && (e = 1), this.nextValue = t, this.step = e;
    }
    return o.prototype.next = function() {
      var t = this.nextValue;
      return this.nextValue += this.step, t;
    }, o.prototype.peek = function() {
      return this.nextValue;
    }, o.prototype.skip = function(t) {
      this.nextValue += t;
    }, o;
  }()
), ml;
(function(o) {
  o[o.IN_PROGRESS = 0] = "IN_PROGRESS", o[o.RESOLVED = 1] = "RESOLVED";
})(ml || (ml = {}));
var Je = (
  /** @class */
  function() {
    function o(t) {
      var e = this;
      this.status = ml.IN_PROGRESS, this.resolution = null, this.waiters = [], t(function(r) {
        return e.onDone(r);
      }, function(r) {
        return e.onReject(r);
      });
    }
    return o.all = function(t) {
      return new o(function(e) {
        var r = t.length, n = new Array(r);
        t.forEach(function(i, a) {
          i.then(function(s) {
            n[a] = s, r--, r === 0 && e(n);
          });
        });
      });
    }, o.resolve = function(t) {
      return t === void 0 && (t = null), new o(function(e) {
        return e(t);
      });
    }, o.prototype.then = function(t) {
      var e = this;
      return new o(function(r) {
        e.status === ml.RESOLVED ? r(t(e.resolution)) : e.waiters.push(function(n) {
          return r(t(n));
        });
      });
    }, o.prototype.resolveNow = function(t, e) {
      return this.status === ml.RESOLVED ? e(this.resolution) : t;
    }, o.prototype.onDone = function(t) {
      this.status = ml.RESOLVED, this.resolution = t, this.waiters.forEach(function(e) {
        return e(t);
      });
    }, o.prototype.onReject = function(t) {
      console.warn("TBI");
    }, o;
  }()
), XM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), sy = function() {
  return sy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, sy.apply(this, arguments);
}, nv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kn;
(function(o) {
  o[o.NOTHING = 0] = "NOTHING", o[o.WAITING_TO_SHOW = 1] = "WAITING_TO_SHOW", o[o.SHOWING = 2] = "SHOWING";
})(kn || (kn = {}));
var Fm = (
  /** @class */
  function(o) {
    XM(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.DEFAULT_SHOW_TOOLTIP_DELAY = 2e3, r.DEFAULT_HIDE_TOOLTIP_DELAY = 1e4, r.SHOW_QUICK_TOOLTIP_DIFF = 1e3, r.FADE_OUT_TOOLTIP_TIMEOUT = 1e3, r.state = kn.NOTHING, r.tooltipInstanceCount = 0, r.tooltipMouseTrack = !1, r.parentComp = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.tooltipShowDelay = this.getTooltipDelay("show") || this.DEFAULT_SHOW_TOOLTIP_DELAY, this.tooltipHideDelay = this.getTooltipDelay("hide") || this.DEFAULT_HIDE_TOOLTIP_DELAY, this.tooltipMouseTrack = this.gridOptionsService.is("tooltipMouseTrack");
      var e = this.parentComp.getGui();
      this.addManagedListener(e, "mouseenter", this.onMouseEnter.bind(this)), this.addManagedListener(e, "mouseleave", this.onMouseLeave.bind(this)), this.addManagedListener(e, "mousemove", this.onMouseMove.bind(this)), this.addManagedListener(e, "mousedown", this.onMouseDown.bind(this)), this.addManagedListener(e, "keydown", this.onKeyDown.bind(this));
    }, t.prototype.destroy = function() {
      this.setToDoNothing(), o.prototype.destroy.call(this);
    }, t.prototype.onMouseEnter = function(e) {
      if (!na() && this.state == kn.NOTHING) {
        var r = this.isLastTooltipHiddenRecently() ? 200 : this.tooltipShowDelay;
        this.showTooltipTimeoutId = window.setTimeout(this.showTooltip.bind(this), r), this.lastMouseEvent = e, this.state = kn.WAITING_TO_SHOW;
      }
    }, t.prototype.onMouseLeave = function() {
      this.setToDoNothing();
    }, t.prototype.onKeyDown = function() {
      this.setToDoNothing();
    }, t.prototype.setToDoNothing = function() {
      this.state === kn.SHOWING && this.hideTooltip(), this.clearTimeouts(), this.state = kn.NOTHING;
    }, t.prototype.onMouseMove = function(e) {
      this.lastMouseEvent = e, this.tooltipMouseTrack && this.state === kn.SHOWING && this.tooltipComp && this.positionTooltipUnderLastMouseEvent();
    }, t.prototype.onMouseDown = function() {
      this.setToDoNothing();
    }, t.prototype.getTooltipDelay = function(e) {
      var r = this.gridOptionsService.getNum("tooltipShowDelay"), n = this.gridOptionsService.getNum("tooltipHideDelay"), i = e === "show" ? r : n, a = Ib(e);
      return z(i) ? (i < 0 && ze(function() {
        return console.warn("AG Grid: tooltip" + a + "Delay should not be lower than 0");
      }, "tooltip" + a + "DelayWarn"), Math.max(200, i)) : null;
    }, t.prototype.hideTooltip = function() {
      this.tooltipComp && (this.destroyTooltipComp(), t.lastTooltipHideTime = (/* @__PURE__ */ new Date()).getTime()), this.state = kn.NOTHING;
    }, t.prototype.destroyTooltipComp = function() {
      var e = this;
      this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");
      var r = this.tooltipPopupDestroyFunc, n = this.tooltipComp;
      window.setTimeout(function() {
        r(), e.getContext().destroyBean(n);
      }, this.FADE_OUT_TOOLTIP_TIMEOUT), this.tooltipPopupDestroyFunc = void 0, this.tooltipComp = void 0;
    }, t.prototype.isLastTooltipHiddenRecently = function() {
      var e = (/* @__PURE__ */ new Date()).getTime(), r = t.lastTooltipHideTime;
      return e - r < this.SHOW_QUICK_TOOLTIP_DIFF;
    }, t.prototype.showTooltip = function() {
      var e = sy({}, this.parentComp.getTooltipParams());
      if (!z(e.value)) {
        this.setToDoNothing();
        return;
      }
      this.state = kn.SHOWING, this.tooltipInstanceCount++;
      var r = this.newTooltipComponentCallback.bind(this, this.tooltipInstanceCount), n = this.userComponentFactory.getTooltipCompDetails(e);
      n.newAgStackInstance().then(r);
    }, t.prototype.newTooltipComponentCallback = function(e, r) {
      var n = this.state !== kn.SHOWING || this.tooltipInstanceCount !== e;
      if (n) {
        this.getContext().destroyBean(r);
        return;
      }
      var i = r.getGui();
      this.tooltipComp = r, i.classList.contains("ag-tooltip") || i.classList.add("ag-tooltip-custom");
      var a = this.localeService.getLocaleTextFunc(), s = this.popupService.addPopup({
        eChild: i,
        ariaLabel: a("ariaLabelTooltip", "Tooltip")
      });
      s && (this.tooltipPopupDestroyFunc = s.hideFunc), this.positionTooltipUnderLastMouseEvent(), this.hideTooltipTimeoutId = window.setTimeout(this.hideTooltip.bind(this), this.tooltipHideDelay);
    }, t.prototype.positionTooltipUnderLastMouseEvent = function() {
      this.popupService.positionPopupUnderMouseEvent({
        type: "tooltip",
        mouseEvent: this.lastMouseEvent,
        ePopup: this.tooltipComp.getGui(),
        nudgeY: 18,
        skipObserver: this.tooltipMouseTrack
      });
    }, t.prototype.clearTimeouts = function() {
      this.showTooltipTimeoutId && (window.clearTimeout(this.showTooltipTimeoutId), this.showTooltipTimeoutId = void 0), this.hideTooltipTimeoutId && (window.clearTimeout(this.hideTooltipTimeoutId), this.hideTooltipTimeoutId = void 0);
    }, nv([
      w("popupService")
    ], t.prototype, "popupService", void 0), nv([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), nv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), qM = (
  /** @class */
  function() {
    function o(t) {
      this.cssClassStates = {}, this.getGui = t;
    }
    return o.prototype.addCssClass = function(t) {
      var e = this, r = (t || "").split(" ");
      if (r.length > 1) {
        r.forEach(function(a) {
          return e.addCssClass(a);
        });
        return;
      }
      var n = this.cssClassStates[t] !== !0;
      if (n && t.length) {
        var i = this.getGui();
        i && i.classList.add(t), this.cssClassStates[t] = !0;
      }
    }, o.prototype.removeCssClass = function(t) {
      var e = this, r = (t || "").split(" ");
      if (r.length > 1) {
        r.forEach(function(a) {
          return e.removeCssClass(a);
        });
        return;
      }
      var n = this.cssClassStates[t] !== !1;
      if (n && t.length) {
        var i = this.getGui();
        i && i.classList.remove(t), this.cssClassStates[t] = !1;
      }
    }, o.prototype.containsCssClass = function(t) {
      var e = this.getGui();
      return e ? e.classList.contains(t) : !1;
    }, o.prototype.addOrRemoveCssClass = function(t, e) {
      var r = this;
      if (t) {
        if (t.indexOf(" ") >= 0) {
          var n = (t || "").split(" ");
          if (n.length > 1) {
            n.forEach(function(s) {
              return r.addOrRemoveCssClass(s, e);
            });
            return;
          }
        }
        var i = this.cssClassStates[t] !== e;
        if (i && t.length) {
          var a = this.getGui();
          a && a.classList.toggle(t, e), this.cssClassStates[t] = e;
        }
      }
    }, o;
  }()
), ZM = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), iv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, QM = new ar(), te = (
  /** @class */
  function(o) {
    ZM(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.displayed = !0, r.visible = !0, r.compId = QM.next(), r.cssClassManager = new qM(function() {
        return r.eGui;
      }), e && r.setTemplate(e), r;
    }
    return t.prototype.preConstructOnComponent = function() {
      this.usingBrowserTooltips = this.gridOptionsService.is("enableBrowserTooltips");
    }, t.prototype.getCompId = function() {
      return this.compId;
    }, t.prototype.getTooltipParams = function() {
      return {
        value: this.tooltipText,
        location: "UNKNOWN"
      };
    }, t.prototype.setTooltip = function(e) {
      var r = this, n = function() {
        r.usingBrowserTooltips ? r.getGui().removeAttribute("title") : r.tooltipFeature = r.destroyBean(r.tooltipFeature);
      }, i = function() {
        r.usingBrowserTooltips ? r.getGui().setAttribute("title", r.tooltipText) : r.tooltipFeature = r.createBean(new Fm(r));
      };
      this.tooltipText != e && (this.tooltipText && n(), e != null && (this.tooltipText = e, this.tooltipText && i()));
    }, t.prototype.createChildComponentsFromTags = function(e, r) {
      var n = this, i = cE(e.childNodes);
      i.forEach(function(a) {
        if (a instanceof HTMLElement) {
          var s = n.createComponentFromElement(a, function(u) {
            var c = u.getGui();
            c && n.copyAttributesFromNode(a, u.getGui());
          }, r);
          if (s) {
            if (s.addItems && a.children.length) {
              n.createChildComponentsFromTags(a, r);
              var l = Array.prototype.slice.call(a.children);
              s.addItems(l);
            }
            n.swapComponentForNode(s, e, a);
          } else
            a.childNodes && n.createChildComponentsFromTags(a, r);
        }
      });
    }, t.prototype.createComponentFromElement = function(e, r, n) {
      var i = e.nodeName, a = n ? n[e.getAttribute("ref")] : void 0, s = this.agStackComponentsRegistry.getComponentClass(i);
      if (s) {
        t.elementGettingCreated = e;
        var l = new s(a);
        return l.setParentComponent(this), this.createBean(l, null, r), l;
      }
      return null;
    }, t.prototype.copyAttributesFromNode = function(e, r) {
      dE(e.attributes, function(n, i) {
        return r.setAttribute(n, i);
      });
    }, t.prototype.swapComponentForNode = function(e, r, n) {
      var i = e.getGui();
      r.replaceChild(i, n), r.insertBefore(document.createComment(n.nodeName), i), this.addDestroyFunc(this.destroyBean.bind(this, e)), this.swapInComponentForQuerySelectors(e, n);
    }, t.prototype.swapInComponentForQuerySelectors = function(e, r) {
      var n = this;
      this.iterateOverQuerySelectors(function(i) {
        n[i.attributeName] === r && (n[i.attributeName] = e);
      });
    }, t.prototype.iterateOverQuerySelectors = function(e) {
      for (var r = Object.getPrototypeOf(this); r != null; ) {
        var n = r.__agComponentMetaData, i = cf(r.constructor);
        n && n[i] && n[i].querySelectors && n[i].querySelectors.forEach(function(a) {
          return e(a);
        }), r = Object.getPrototypeOf(r);
      }
    }, t.prototype.activateTabIndex = function(e) {
      var r = this.gridOptionsService.getNum("tabIndex") || 0;
      e || (e = []), e.length || e.push(this.getGui()), e.forEach(function(n) {
        return n.setAttribute("tabindex", r.toString());
      });
    }, t.prototype.setTemplate = function(e, r) {
      var n = nr(e);
      this.setTemplateFromElement(n, r);
    }, t.prototype.setTemplateFromElement = function(e, r) {
      this.eGui = e, this.eGui.__agComponent = this, this.wireQuerySelectors(), this.getContext() && this.createChildComponentsFromTags(this.getGui(), r);
    }, t.prototype.createChildComponentsPreConstruct = function() {
      this.getGui() && this.createChildComponentsFromTags(this.getGui());
    }, t.prototype.wireQuerySelectors = function() {
      var e = this;
      if (this.eGui) {
        var r = this;
        this.iterateOverQuerySelectors(function(n) {
          var i = function(l) {
            return r[n.attributeName] = l;
          }, a = n.refSelector && e.getAttribute("ref") === n.refSelector;
          if (a)
            i(e.eGui);
          else {
            var s = e.eGui.querySelector(n.querySelector);
            s && i(s.__agComponent || s);
          }
        });
      }
    }, t.prototype.getGui = function() {
      return this.eGui;
    }, t.prototype.getFocusableElement = function() {
      return this.eGui;
    }, t.prototype.setParentComponent = function(e) {
      this.parentComponent = e;
    }, t.prototype.getParentComponent = function() {
      return this.parentComponent;
    }, t.prototype.setGui = function(e) {
      this.eGui = e;
    }, t.prototype.queryForHtmlElement = function(e) {
      return this.eGui.querySelector(e);
    }, t.prototype.queryForHtmlInputElement = function(e) {
      return this.eGui.querySelector(e);
    }, t.prototype.appendChild = function(e, r) {
      if (e != null)
        if (r || (r = this.eGui), ld(e))
          r.appendChild(e);
        else {
          var n = e;
          r.appendChild(n.getGui());
        }
    }, t.prototype.isDisplayed = function() {
      return this.displayed;
    }, t.prototype.setVisible = function(e, r) {
      if (r === void 0 && (r = {}), e !== this.visible) {
        this.visible = e;
        var n = r.skipAriaHidden;
        aE(this.eGui, e, { skipAriaHidden: n });
      }
    }, t.prototype.setDisplayed = function(e, r) {
      if (r === void 0 && (r = {}), e !== this.displayed) {
        this.displayed = e;
        var n = r.skipAriaHidden;
        Be(this.eGui, e, { skipAriaHidden: n });
        var i = {
          type: t.EVENT_DISPLAYED_CHANGED,
          visible: this.displayed
        };
        this.dispatchEvent(i);
      }
    }, t.prototype.destroy = function() {
      this.tooltipFeature && (this.tooltipFeature = this.destroyBean(this.tooltipFeature)), this.parentComponent && (this.parentComponent = void 0);
      var e = this.eGui;
      e && e.__agComponent && (e.__agComponent = void 0), o.prototype.destroy.call(this);
    }, t.prototype.addGuiEventListener = function(e, r, n) {
      var i = this;
      this.eGui.addEventListener(e, r, n), this.addDestroyFunc(function() {
        return i.eGui.removeEventListener(e, r);
      });
    }, t.prototype.addCssClass = function(e) {
      this.cssClassManager.addCssClass(e);
    }, t.prototype.removeCssClass = function(e) {
      this.cssClassManager.removeCssClass(e);
    }, t.prototype.containsCssClass = function(e) {
      return this.cssClassManager.containsCssClass(e);
    }, t.prototype.addOrRemoveCssClass = function(e, r) {
      this.cssClassManager.addOrRemoveCssClass(e, r);
    }, t.prototype.getAttribute = function(e) {
      var r = this.eGui;
      return r ? r.getAttribute(e) : null;
    }, t.prototype.getRefElement = function(e) {
      return this.queryForHtmlElement('[ref="' + e + '"]');
    }, t.EVENT_DISPLAYED_CHANGED = "displayedChanged", iv([
      w("agStackComponentsRegistry")
    ], t.prototype, "agStackComponentsRegistry", void 0), iv([
      jl
    ], t.prototype, "preConstructOnComponent", null), iv([
      jl
    ], t.prototype, "createChildComponentsPreConstruct", null), t;
  }(W)
);
function G(o) {
  return JM.bind(this, "[ref=" + o + "]", o);
}
function JM(o, t, e, r, n) {
  if (o === null) {
    console.error("AG Grid: QuerySelector selector should not be null");
    return;
  }
  if (typeof n == "number") {
    console.error("AG Grid: QuerySelector should be on an attribute");
    return;
  }
  eI(e, "querySelectors", {
    attributeName: r,
    querySelector: o,
    refSelector: t
  });
}
function eI(o, t, e) {
  var r = tI(o, cf(o.constructor));
  r[t] || (r[t] = []), r[t].push(e);
}
function tI(o, t) {
  return o.__agComponentMetaData || (o.__agComponentMetaData = {}), o.__agComponentMetaData[t] || (o.__agComponentMetaData[t] = {}), o.__agComponentMetaData[t];
}
var rI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nI = (
  /** @class */
  function(o) {
    rI(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`
      ) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      this.params = e;
      var r = this.columnModel.getDisplayNameForColumn(e.column, "header", !0), n = this.localeService.getLocaleTextFunc();
      this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r + " " + n("ariaFilterInput", "Filter Input"));
    }, t.prototype.onParentModelChanged = function(e) {
      var r = this;
      if (!e) {
        this.eFloatingFilterText.setValue("");
        return;
      }
      this.params.parentFilterInstance(function(n) {
        if (n.getModelAsString) {
          var i = n.getModelAsString(e);
          r.eFloatingFilterText.setValue(i);
        }
      });
    }, jC([
      G("eFloatingFilterText")
    ], t.prototype, "eFloatingFilterText", void 0), jC([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t;
  }(te)
), gE = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      var i = this;
      this.alive = !0, this.context = t, this.eParent = n;
      var a = e.getDateCompDetails(r), s = a.newAgStackInstance();
      s.then(function(l) {
        if (!i.alive) {
          t.destroyBean(l);
          return;
        }
        i.dateComp = l, l && (n.appendChild(l.getGui()), l.afterGuiAttached && l.afterGuiAttached(), i.tempValue && l.setDate(i.tempValue), i.disabled != null && i.setDateCompDisabled(i.disabled));
      });
    }
    return o.prototype.destroy = function() {
      this.alive = !1, this.dateComp = this.context.destroyBean(this.dateComp);
    }, o.prototype.getDate = function() {
      return this.dateComp ? this.dateComp.getDate() : this.tempValue;
    }, o.prototype.setDate = function(t) {
      this.dateComp ? this.dateComp.setDate(t) : this.tempValue = t;
    }, o.prototype.setDisabled = function(t) {
      this.dateComp ? this.setDateCompDisabled(t) : this.disabled = t;
    }, o.prototype.setDisplayed = function(t) {
      Be(this.eParent, t);
    }, o.prototype.setInputPlaceholder = function(t) {
      this.dateComp && this.dateComp.setInputPlaceholder && this.dateComp.setInputPlaceholder(t);
    }, o.prototype.setInputAriaLabel = function(t) {
      this.dateComp && this.dateComp.setInputAriaLabel && this.dateComp.setInputAriaLabel(t);
    }, o.prototype.afterGuiAttached = function(t) {
      this.dateComp && typeof this.dateComp.afterGuiAttached == "function" && this.dateComp.afterGuiAttached(t);
    }, o.prototype.setDateCompDisabled = function(t) {
      this.dateComp != null && this.dateComp.setDisabled != null && this.dateComp.setDisabled(t);
    }, o;
  }()
), yE = (
  /** @class */
  function() {
    function o() {
      this.customFilterOptions = {};
    }
    return o.prototype.init = function(t, e) {
      this.filterOptions = t.filterOptions || e, this.mapCustomOptions(), this.selectDefaultItem(t);
    }, o.prototype.getFilterOptions = function() {
      return this.filterOptions;
    }, o.prototype.mapCustomOptions = function() {
      var t = this;
      this.filterOptions && this.filterOptions.forEach(function(e) {
        if (typeof e != "string") {
          var r = [["displayKey"], ["displayName"], ["predicate", "test"]], n = function(i) {
            return i.some(function(a) {
              return e[a] != null;
            }) ? !0 : (console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '" + i + "'"), !1);
          };
          if (!r.every(n)) {
            t.filterOptions = t.filterOptions.filter(function(i) {
              return i === e;
            }) || [];
            return;
          }
          t.customFilterOptions[e.displayKey] = e;
        }
      });
    }, o.prototype.selectDefaultItem = function(t) {
      if (t.defaultOption)
        this.defaultOption = t.defaultOption;
      else if (this.filterOptions.length >= 1) {
        var e = this.filterOptions[0];
        typeof e == "string" ? this.defaultOption = e : e.displayKey ? this.defaultOption = e.displayKey : console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'");
      } else
        console.warn("AG Grid: no filter options for filter");
    }, o.prototype.getDefaultOption = function() {
      return this.defaultOption;
    }, o.prototype.getCustomOption = function(t) {
      return this.customFilterOptions[t];
    }, o;
  }()
), mE = {
  applyFilter: "Apply",
  clearFilter: "Clear",
  resetFilter: "Reset",
  cancelFilter: "Cancel",
  textFilter: "Text Filter",
  numberFilter: "Number Filter",
  dateFilter: "Date Filter",
  setFilter: "Set Filter",
  filterOoo: "Filter...",
  empty: "Choose One",
  equals: "Equals",
  notEqual: "Not equal",
  lessThan: "Less than",
  greaterThan: "Greater than",
  inRange: "In range",
  inRangeStart: "From",
  inRangeEnd: "To",
  lessThanOrEqual: "Less than or equals",
  greaterThanOrEqual: "Greater than or equals",
  contains: "Contains",
  notContains: "Not contains",
  startsWith: "Starts with",
  endsWith: "Ends with",
  blank: "Blank",
  notBlank: "Not blank",
  andCondition: "AND",
  orCondition: "OR",
  dateFormatOoo: "yyyy-mm-dd"
}, iI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ly = function() {
  return ly = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ly.apply(this, arguments);
}, WC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ai = (
  /** @class */
  function(o) {
    iI(t, o);
    function t(e, r) {
      r === void 0 && (r = {});
      var n = o.call(this) || this;
      return n.eFocusableElement = e, n.callbacks = r, n.callbacks = ly({ shouldStopEventPropagation: function() {
        return !1;
      }, onTabKeyDown: function(i) {
        if (!i.defaultPrevented) {
          var a = n.focusService.findNextFocusableElement(n.eFocusableElement, !1, i.shiftKey);
          a && (a.focus(), i.preventDefault());
        }
      } }, r), n;
    }
    return t.prototype.postConstruct = function() {
      this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS), this.addKeyDownListeners(this.eFocusableElement), this.callbacks.onFocusIn && this.addManagedListener(this.eFocusableElement, "focusin", this.callbacks.onFocusIn), this.callbacks.onFocusOut && this.addManagedListener(this.eFocusableElement, "focusout", this.callbacks.onFocusOut);
    }, t.prototype.addKeyDownListeners = function(e) {
      var r = this;
      this.addManagedListener(e, "keydown", function(n) {
        if (!(n.defaultPrevented || _i(n))) {
          if (r.callbacks.shouldStopEventPropagation(n)) {
            io(n);
            return;
          }
          n.key === H.TAB ? r.callbacks.onTabKeyDown(n) : r.callbacks.handleKeyDown && r.callbacks.handleKeyDown(n);
        }
      });
    }, t.FOCUS_MANAGED_CLASS = "ag-focus-managed", WC([
      w("focusService")
    ], t.prototype, "focusService", void 0), WC([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), oI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ov = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, CE = "ag-resizer-wrapper", aI = (
  /* html */
  '<div class="' + CE + `">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`
), Cf = (
  /** @class */
  function(o) {
    oI(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.element = e, n.dragStartPosition = {
        x: 0,
        y: 0
      }, n.position = {
        x: 0,
        y: 0
      }, n.lastSize = {
        width: -1,
        height: -1
      }, n.positioned = !1, n.resizersAdded = !1, n.resizeListeners = [], n.boundaryEl = null, n.isResizing = !1, n.isMoving = !1, n.resizable = {}, n.movable = !1, n.currentResizer = null, n.config = Object.assign({}, { popup: !1 }, r), n;
    }
    return t.prototype.center = function() {
      var e = this.offsetParent, r = e.clientHeight, n = e.clientWidth, i = n / 2 - this.getWidth() / 2, a = r / 2 - this.getHeight() / 2;
      this.offsetElement(i, a);
    }, t.prototype.initialisePosition = function() {
      if (!this.positioned) {
        var e = this.config, r = e.centered, n = e.forcePopupParentAsOffsetParent, i = e.minWidth, a = e.width, s = e.minHeight, l = e.height, u = e.x, c = e.y;
        this.offsetParent || this.setOffsetParent();
        var d = 0, p = 0, h = !!this.element.offsetParent;
        if (h) {
          var f = this.findBoundaryElement(), v = window.getComputedStyle(f);
          if (v.minWidth != null) {
            var g = f.offsetWidth - this.element.offsetWidth;
            p = parseInt(v.minWidth, 10) - g;
          }
          if (v.minHeight != null) {
            var y = f.offsetHeight - this.element.offsetHeight;
            d = parseInt(v.minHeight, 10) - y;
          }
        }
        if (this.minHeight = s || d, this.minWidth = i || p, a && this.setWidth(a), l && this.setHeight(l), (!a || !l) && this.refreshSize(), r)
          this.center();
        else if (u || c)
          this.offsetElement(u, c);
        else if (h && n) {
          var f = this.boundaryEl, m = !0;
          if (f || (f = this.findBoundaryElement(), m = !1), f) {
            var C = parseFloat(f.style.top), S = parseFloat(f.style.left);
            m ? this.offsetElement(isNaN(S) ? 0 : S, isNaN(C) ? 0 : C) : this.setPosition(S, C);
          }
        }
        this.positioned = !!this.offsetParent;
      }
    }, t.prototype.isPositioned = function() {
      return this.positioned;
    }, t.prototype.getPosition = function() {
      return this.position;
    }, t.prototype.setMovable = function(e, r) {
      if (!(!this.config.popup || e === this.movable)) {
        this.movable = e;
        var n = this.moveElementDragListener || {
          eElement: r,
          onDragStart: this.onMoveStart.bind(this),
          onDragging: this.onMove.bind(this),
          onDragStop: this.onMoveEnd.bind(this)
        };
        e ? (this.dragService.addDragSource(n), this.moveElementDragListener = n) : (this.dragService.removeDragSource(n), this.moveElementDragListener = void 0);
      }
    }, t.prototype.setResizable = function(e) {
      var r = this;
      if (this.clearResizeListeners(), e ? this.addResizers() : this.removeResizers(), typeof e == "boolean") {
        if (e === !1)
          return;
        e = {
          topLeft: e,
          top: e,
          topRight: e,
          right: e,
          bottomRight: e,
          bottom: e,
          bottomLeft: e,
          left: e
        };
      }
      Object.keys(e).forEach(function(n) {
        var i = e, a = !!i[n], s = r.getResizerElement(n), l = {
          dragStartPixels: 0,
          eElement: s,
          onDragStart: function(u) {
            return r.onResizeStart(u, n);
          },
          onDragging: r.onResize.bind(r),
          onDragStop: function(u) {
            return r.onResizeEnd(u, n);
          }
        };
        (a || !r.isAlive() && !a) && (a ? (r.dragService.addDragSource(l), r.resizeListeners.push(l), s.style.pointerEvents = "all") : s.style.pointerEvents = "none", r.resizable[n] = a);
      });
    }, t.prototype.removeSizeFromEl = function() {
      this.element.style.removeProperty("height"), this.element.style.removeProperty("width"), this.element.style.removeProperty("flex");
    }, t.prototype.restoreLastSize = function() {
      this.element.style.flex = "0 0 auto";
      var e = this.lastSize, r = e.height, n = e.width;
      n !== -1 && (this.element.style.width = n + "px"), r !== -1 && (this.element.style.height = r + "px");
    }, t.prototype.getHeight = function() {
      return this.element.offsetHeight;
    }, t.prototype.setHeight = function(e) {
      var r = this.config.popup, n = this.element, i = !1;
      if (typeof e == "string" && e.indexOf("%") !== -1)
        Qa(n, e), e = Em(n), i = !0;
      else if (e = Math.max(this.minHeight, e), this.positioned) {
        var a = this.getAvailableHeight();
        a && e > a && (e = a);
      }
      this.getHeight() !== e && (i ? (n.style.maxHeight = "unset", n.style.minHeight = "unset") : r ? Qa(n, e) : (n.style.height = e + "px", n.style.flex = "0 0 auto", this.lastSize.height = typeof e == "number" ? e : parseFloat(e)));
    }, t.prototype.getAvailableHeight = function() {
      var e = this.config, r = e.popup, n = e.forcePopupParentAsOffsetParent;
      this.positioned || this.initialisePosition();
      var i = this.offsetParent.clientHeight;
      if (!i)
        return null;
      var a = this.element.getBoundingClientRect(), s = this.offsetParent.getBoundingClientRect(), l = r ? this.position.y : a.top, u = r ? 0 : s.top, c = 0;
      if (n) {
        var d = this.element.parentElement;
        if (d) {
          var p = d.getBoundingClientRect().bottom;
          c = p - a.bottom;
        }
      }
      var h = i + u - l - c;
      return h;
    }, t.prototype.getWidth = function() {
      return this.element.offsetWidth;
    }, t.prototype.setWidth = function(e) {
      var r = this.element, n = this.config.popup, i = !1;
      if (typeof e == "string" && e.indexOf("%") !== -1)
        _n(r, e), e = mf(r), i = !0;
      else if (this.positioned) {
        e = Math.max(this.minWidth, e);
        var a = this.offsetParent.clientWidth, s = n ? this.position.x : this.element.getBoundingClientRect().left;
        a && e + s > a && (e = a - s);
      }
      this.getWidth() !== e && (i ? (r.style.maxWidth = "unset", r.style.minWidth = "unset") : this.config.popup ? _n(r, e) : (r.style.width = e + "px", r.style.flex = " unset", this.lastSize.width = typeof e == "number" ? e : parseFloat(e)));
    }, t.prototype.offsetElement = function(e, r) {
      e === void 0 && (e = 0), r === void 0 && (r = 0);
      var n = this.config.forcePopupParentAsOffsetParent, i = n ? this.boundaryEl : this.element;
      i && (this.popupService.positionPopup({
        ePopup: i,
        keepWithinBounds: !0,
        skipObserver: this.movable || this.isResizable(),
        updatePosition: function() {
          return { x: e, y: r };
        }
      }), this.setPosition(parseFloat(i.style.left), parseFloat(i.style.top)));
    }, t.prototype.constrainSizeToAvailableHeight = function(e) {
      var r = this;
      if (this.config.forcePopupParentAsOffsetParent) {
        var n = function() {
          var i = r.getAvailableHeight();
          r.element.style.setProperty("max-height", i + "px");
        };
        e ? this.resizeObserverSubscriber = this.resizeObserverService.observeResize(this.popupService.getPopupParent(), n) : (this.element.style.removeProperty("max-height"), this.resizeObserverSubscriber && (this.resizeObserverSubscriber(), this.resizeObserverSubscriber = void 0));
      }
    }, t.prototype.setPosition = function(e, r) {
      this.position.x = e, this.position.y = r;
    }, t.prototype.updateDragStartPosition = function(e, r) {
      this.dragStartPosition = { x: e, y: r };
    }, t.prototype.calculateMouseMovement = function(e) {
      var r = e.e, n = e.isLeft, i = e.isTop, a = e.anywhereWithin, s = e.topBuffer, l = r.clientX - this.dragStartPosition.x, u = r.clientY - this.dragStartPosition.y, c = this.shouldSkipX(r, !!n, !!a, l) ? 0 : l, d = this.shouldSkipY(r, !!i, s, u) ? 0 : u;
      return { movementX: c, movementY: d };
    }, t.prototype.shouldSkipX = function(e, r, n, i) {
      var a = this.element.getBoundingClientRect(), s = this.offsetParent.getBoundingClientRect(), l = this.boundaryEl.getBoundingClientRect(), u = this.config.popup ? this.position.x : a.left, c = u <= 0 && s.left >= e.clientX || s.right <= e.clientX && s.right <= l.right;
      return c ? !0 : (r ? c = // skip if we are moving to the left and the cursor
      // is positioned to the right of the left side anchor
      i < 0 && e.clientX > u + s.left || // skip if we are moving to the right and the cursor
      // is positioned to the left of the dialog
      i > 0 && e.clientX < u + s.left : n ? c = i < 0 && e.clientX > l.right || i > 0 && e.clientX < u + s.left : c = // if the movement is bound to the right side of the dialog
      // we skip if we are moving to the left and the cursor
      // is to the right of the dialog
      i < 0 && e.clientX > l.right || // or skip if we are moving to the right and the cursor
      // is to the left of the right side anchor
      i > 0 && e.clientX < l.right, c);
    }, t.prototype.shouldSkipY = function(e, r, n, i) {
      n === void 0 && (n = 0);
      var a = this.element.getBoundingClientRect(), s = this.offsetParent.getBoundingClientRect(), l = this.boundaryEl.getBoundingClientRect(), u = this.config.popup ? this.position.y : a.top, c = u <= 0 && s.top >= e.clientY || s.bottom <= e.clientY && s.bottom <= l.bottom;
      return c ? !0 : (r ? c = // skip if we are moving to towards top and the cursor is
      // below the top anchor + topBuffer
      // note: topBuffer is used when moving the dialog using the title bar
      i < 0 && e.clientY > u + s.top + n || // skip if we are moving to the bottom and the cursor is
      // above the top anchor
      i > 0 && e.clientY < u + s.top : c = // skip if we are moving towards the top and the cursor
      // is below the bottom anchor
      i < 0 && e.clientY > l.bottom || // skip if we are moving towards the bottom and the cursor
      // is above the bottom anchor
      i > 0 && e.clientY < l.bottom, c);
    }, t.prototype.createResizeMap = function() {
      var e = this.element;
      this.resizerMap = {
        topLeft: { element: e.querySelector("[ref=eTopLeftResizer]") },
        top: { element: e.querySelector("[ref=eTopResizer]") },
        topRight: { element: e.querySelector("[ref=eTopRightResizer]") },
        right: { element: e.querySelector("[ref=eRightResizer]") },
        bottomRight: { element: e.querySelector("[ref=eBottomRightResizer]") },
        bottom: { element: e.querySelector("[ref=eBottomResizer]") },
        bottomLeft: { element: e.querySelector("[ref=eBottomLeftResizer]") },
        left: { element: e.querySelector("[ref=eLeftResizer]") }
      };
    }, t.prototype.addResizers = function() {
      if (!this.resizersAdded) {
        var e = this.element;
        if (e) {
          var r = new DOMParser(), n = r.parseFromString(aI, "text/html").body;
          e.appendChild(n.firstChild), this.createResizeMap(), this.resizersAdded = !0;
        }
      }
    }, t.prototype.removeResizers = function() {
      this.resizerMap = void 0;
      var e = this.element.querySelector("." + CE);
      e && this.element.removeChild(e), this.resizersAdded = !1;
    }, t.prototype.getResizerElement = function(e) {
      return this.resizerMap[e].element;
    }, t.prototype.onResizeStart = function(e, r) {
      this.boundaryEl = this.findBoundaryElement(), this.positioned || this.initialisePosition(), this.currentResizer = {
        isTop: !!r.match(/top/i),
        isRight: !!r.match(/right/i),
        isBottom: !!r.match(/bottom/i),
        isLeft: !!r.match(/left/i)
      }, this.element.classList.add("ag-resizing"), this.resizerMap[r].element.classList.add("ag-active");
      var n = this.config, i = n.popup, a = n.forcePopupParentAsOffsetParent;
      !i && !a && this.applySizeToSiblings(this.currentResizer.isBottom || this.currentResizer.isTop), this.isResizing = !0, this.updateDragStartPosition(e.clientX, e.clientY);
    }, t.prototype.getSiblings = function() {
      var e = this.element, r = e.parentElement;
      return r ? Array.prototype.slice.call(r.children).filter(function(n) {
        return !n.classList.contains("ag-hidden");
      }) : null;
    }, t.prototype.getMinSizeOfSiblings = function() {
      for (var e = this.getSiblings() || [], r = 0, n = 0, i = 0; i < e.length; i++) {
        var a = e[i], s = !!a.style.flex && a.style.flex !== "0 0 auto";
        if (a !== this.element) {
          var l = this.minHeight || 0, u = this.minWidth || 0;
          if (s) {
            var c = window.getComputedStyle(a);
            c.minHeight && (l = parseInt(c.minHeight, 10)), c.minWidth && (u = parseInt(c.minWidth, 10));
          } else
            l = a.offsetHeight, u = a.offsetWidth;
          r += l, n += u;
        }
      }
      return { height: r, width: n };
    }, t.prototype.applySizeToSiblings = function(e) {
      var r = null, n = this.getSiblings();
      if (n) {
        for (var i = 0; i < n.length; i++) {
          var a = n[i];
          a !== r && (e ? a.style.height = a.offsetHeight + "px" : a.style.width = a.offsetWidth + "px", a.style.flex = "0 0 auto", a === this.element && (r = n[i + 1]));
        }
        r && (r.style.removeProperty("height"), r.style.removeProperty("min-height"), r.style.removeProperty("max-height"), r.style.flex = "1 1 auto");
      }
    }, t.prototype.isResizable = function() {
      return Object.values(this.resizable).some(function(e) {
        return e;
      });
    }, t.prototype.onResize = function(e) {
      if (!(!this.isResizing || !this.currentResizer)) {
        var r = this.config, n = r.popup, i = r.forcePopupParentAsOffsetParent, a = this.currentResizer, s = a.isTop, l = a.isRight, u = a.isBottom, c = a.isLeft, d = l || c, p = u || s, h = this.calculateMouseMovement({ e, isLeft: c, isTop: s }), f = h.movementX, v = h.movementY, g = this.position.x, y = this.position.y, m = 0, C = 0;
        if (d && f) {
          var S = c ? -1 : 1, b = this.getWidth(), _ = b + f * S, O = !1;
          c && (m = b - _, (g + m <= 0 || _ <= this.minWidth) && (O = !0, m = 0)), O || this.setWidth(_);
        }
        if (p && v) {
          var S = s ? -1 : 1, E = this.getHeight(), D = E + v * S, x = !1;
          s ? (C = E - D, (y + C <= 0 || D <= this.minHeight) && (x = !0, C = 0)) : !this.config.popup && !this.config.forcePopupParentAsOffsetParent && E < D && this.getMinSizeOfSiblings().height + D > this.element.parentElement.offsetHeight && (x = !0), x || this.setHeight(D);
        }
        this.updateDragStartPosition(e.clientX, e.clientY), ((n || i) && m || C) && this.offsetElement(g + m, y + C);
      }
    }, t.prototype.onResizeEnd = function(e, r) {
      this.isResizing = !1, this.currentResizer = null, this.boundaryEl = null;
      var n = {
        type: "resize",
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi
      };
      this.element.classList.remove("ag-resizing"), this.resizerMap[r].element.classList.remove("ag-active"), this.dispatchEvent(n);
    }, t.prototype.refreshSize = function() {
      var e = this.element;
      this.config.popup && (this.config.width || this.setWidth(e.offsetWidth), this.config.height || this.setHeight(e.offsetHeight));
    }, t.prototype.onMoveStart = function(e) {
      this.boundaryEl = this.findBoundaryElement(), this.positioned || this.initialisePosition(), this.isMoving = !0, this.element.classList.add("ag-moving"), this.updateDragStartPosition(e.clientX, e.clientY);
    }, t.prototype.onMove = function(e) {
      if (this.isMoving) {
        var r = this.position, n = r.x, i = r.y, a;
        this.config.calculateTopBuffer && (a = this.config.calculateTopBuffer());
        var s = this.calculateMouseMovement({
          e,
          isTop: !0,
          anywhereWithin: !0,
          topBuffer: a
        }), l = s.movementX, u = s.movementY;
        this.offsetElement(n + l, i + u), this.updateDragStartPosition(e.clientX, e.clientY);
      }
    }, t.prototype.onMoveEnd = function() {
      this.isMoving = !1, this.boundaryEl = null, this.element.classList.remove("ag-moving");
    }, t.prototype.setOffsetParent = function() {
      this.config.forcePopupParentAsOffsetParent ? this.offsetParent = this.popupService.getPopupParent() : this.offsetParent = this.element.offsetParent;
    }, t.prototype.findBoundaryElement = function() {
      for (var e = this.element; e; ) {
        if (window.getComputedStyle(e).position !== "static")
          return e;
        e = e.parentElement;
      }
      return this.element;
    }, t.prototype.clearResizeListeners = function() {
      for (; this.resizeListeners.length; ) {
        var e = this.resizeListeners.pop();
        this.dragService.removeDragSource(e);
      }
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.moveElementDragListener && this.dragService.removeDragSource(this.moveElementDragListener), this.constrainSizeToAvailableHeight(!1), this.clearResizeListeners(), this.removeResizers();
    }, ov([
      w("popupService")
    ], t.prototype, "popupService", void 0), ov([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), ov([
      w("dragService")
    ], t.prototype, "dragService", void 0), t;
  }(W)
), sI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), av = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ul = (
  /** @class */
  function(o) {
    sI(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.filterNameKey = e, r.applyActive = !1, r.hidePopup = null, r.debouncePending = !1, r.appliedModel = null, r;
    }
    return t.prototype.postConstruct = function() {
      this.resetTemplate(), this.createManagedBean(new Ai(this.getFocusableElement(), {
        handleKeyDown: this.handleKeyDown.bind(this)
      })), this.positionableFeature = new Cf(this.getPositionableElement(), {
        forcePopupParentAsOffsetParent: !0
      }), this.createBean(this.positionableFeature);
    }, t.prototype.handleKeyDown = function(e) {
    }, t.prototype.getFilterTitle = function() {
      return this.translate(this.filterNameKey);
    }, t.prototype.isFilterActive = function() {
      return !!this.appliedModel;
    }, t.prototype.resetTemplate = function(e) {
      var r = this.getGui();
      r && r.removeEventListener("submit", this.onFormSubmit);
      var n = (
        /* html */
        `
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-` + this.getCssIdentifier() + `-body-wrapper" ref="eFilterBody">
                    ` + this.createBodyTemplate() + `
                </div>
            </form>`
      );
      this.setTemplate(n, e), r = this.getGui(), r && r.addEventListener("submit", this.onFormSubmit);
    }, t.prototype.isReadOnly = function() {
      return !!this.providedFilterParams.readOnly;
    }, t.prototype.init = function(e) {
      var r = this;
      this.setParams(e), this.resetUiToDefaults(!0).then(function() {
        r.updateUiVisibility(), r.setupOnBtApplyDebounce();
      });
    }, t.prototype.setParams = function(e) {
      this.providedFilterParams = e, this.applyActive = t.isUseApplyButton(e), this.createButtonPanel();
    }, t.prototype.createButtonPanel = function() {
      var e = this, r = this.providedFilterParams.buttons;
      if (!(!r || r.length < 1 || this.isReadOnly())) {
        var n = document.createElement("div");
        n.classList.add("ag-filter-apply-panel");
        var i = function(a) {
          var s, l;
          switch (a) {
            case "apply":
              s = e.translate("applyFilter"), l = function(d) {
                return e.onBtApply(!1, !1, d);
              };
              break;
            case "clear":
              s = e.translate("clearFilter"), l = function() {
                return e.onBtClear();
              };
              break;
            case "reset":
              s = e.translate("resetFilter"), l = function() {
                return e.onBtReset();
              };
              break;
            case "cancel":
              s = e.translate("cancelFilter"), l = function(d) {
                e.onBtCancel(d);
              };
              break;
            default:
              console.warn("AG Grid: Unknown button type specified");
              return;
          }
          var u = a === "apply" ? "submit" : "button", c = nr(
            /* html */
            `<button
                    type="` + u + `"
                    ref="` + a + `FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >` + s + `
                </button>`
          );
          n.appendChild(c), e.addManagedListener(c, "click", l);
        };
        Im(r).forEach(function(a) {
          return i(a);
        }), this.getGui().appendChild(n);
      }
    }, t.prototype.getDefaultDebounceMs = function() {
      return 0;
    }, t.prototype.setupOnBtApplyDebounce = function() {
      var e = this, r = t.getDebounceMs(this.providedFilterParams, this.getDefaultDebounceMs()), n = mi(this.checkApplyDebounce.bind(this), r);
      this.onBtApplyDebounce = function() {
        e.debouncePending = !0, n();
      };
    }, t.prototype.checkApplyDebounce = function() {
      this.debouncePending && (this.debouncePending = !1, this.onBtApply());
    }, t.prototype.getModel = function() {
      return this.appliedModel ? this.appliedModel : null;
    }, t.prototype.setModel = function(e) {
      var r = this, n = e != null ? this.setModelIntoUi(e) : this.resetUiToDefaults();
      return n.then(function() {
        r.updateUiVisibility(), r.applyModel("api");
      });
    }, t.prototype.onBtCancel = function(e) {
      var r = this;
      this.resetUiToActiveModel(this.getModel(), function() {
        r.handleCancelEnd(e);
      });
    }, t.prototype.handleCancelEnd = function(e) {
      this.providedFilterParams.closeOnApply && this.close(e);
    }, t.prototype.resetUiToActiveModel = function(e, r) {
      var n = this, i = function() {
        n.onUiChanged(!1, "prevent"), r == null || r();
      };
      e != null ? this.setModelIntoUi(e).then(i) : this.resetUiToDefaults().then(i);
    }, t.prototype.onBtClear = function() {
      var e = this;
      this.resetUiToDefaults().then(function() {
        return e.onUiChanged();
      });
    }, t.prototype.onBtReset = function() {
      this.onBtClear(), this.onBtApply();
    }, t.prototype.applyModel = function(e) {
      var r = this.getModelFromUi();
      if (!this.isModelValid(r))
        return !1;
      var n = this.appliedModel;
      return this.appliedModel = r, !this.areModelsEqual(n, r);
    }, t.prototype.isModelValid = function(e) {
      return !0;
    }, t.prototype.onFormSubmit = function(e) {
      e.preventDefault();
    }, t.prototype.onBtApply = function(e, r, n) {
      e === void 0 && (e = !1), r === void 0 && (r = !1), n && n.preventDefault(), this.applyModel(r ? "rowDataUpdated" : "ui") && this.providedFilterParams.filterChangedCallback({ afterFloatingFilter: e, afterDataChange: r });
      var i = this.providedFilterParams.closeOnApply;
      i && this.applyActive && !e && !r && this.close(n);
    }, t.prototype.onNewRowsLoaded = function() {
    }, t.prototype.close = function(e) {
      if (this.hidePopup) {
        var r = e, n = r && r.key, i;
        (n === "Enter" || n === "Space") && (i = { keyboardEvent: r }), this.hidePopup(i), this.hidePopup = null;
      }
    }, t.prototype.onUiChanged = function(e, r) {
      if (e === void 0 && (e = !1), this.updateUiVisibility(), this.providedFilterParams.filterModifiedCallback(), this.applyActive && !this.isReadOnly()) {
        var n = this.isModelValid(this.getModelFromUi());
        $l(this.getRefElement("applyFilterButton"), !n);
      }
      e && !r || r === "immediately" ? this.onBtApply(e) : (!this.applyActive && !r || r === "debounce") && this.onBtApplyDebounce();
    }, t.prototype.afterGuiAttached = function(e) {
      e && (this.hidePopup = e.hidePopup), this.refreshFilterResizer(e == null ? void 0 : e.container);
    }, t.prototype.refreshFilterResizer = function(e) {
      if (!(!this.positionableFeature || e === "toolPanel")) {
        var r = e === "floatingFilter", n = this, i = n.positionableFeature, a = n.gridOptionsService;
        r ? (i.restoreLastSize(), i.setResizable(a.is("enableRtl") ? { bottom: !0, bottomLeft: !0, left: !0 } : { bottom: !0, bottomRight: !0, right: !0 })) : (this.positionableFeature.removeSizeFromEl(), this.positionableFeature.setResizable(!1)), this.positionableFeature.constrainSizeToAvailableHeight(!0);
      }
    }, t.prototype.afterGuiDetached = function() {
      this.checkApplyDebounce(), this.positionableFeature && this.positionableFeature.constrainSizeToAvailableHeight(!1);
    }, t.getDebounceMs = function(e, r) {
      return t.isUseApplyButton(e) ? (e.debounceMs != null && console.warn("AG Grid: debounceMs is ignored when apply button is present"), 0) : e.debounceMs != null ? e.debounceMs : r;
    }, t.isUseApplyButton = function(e) {
      return !!e.buttons && e.buttons.indexOf("apply") >= 0;
    }, t.prototype.destroy = function() {
      var e = this.getGui();
      e && e.removeEventListener("submit", this.onFormSubmit), this.hidePopup = null, this.positionableFeature && (this.positionableFeature = this.destroyBean(this.positionableFeature)), o.prototype.destroy.call(this);
    }, t.prototype.translate = function(e) {
      var r = this.localeService.getLocaleTextFunc();
      return r(e, mE[e]);
    }, t.prototype.getCellValue = function(e) {
      var r = this.providedFilterParams, n = r.api, i = r.colDef, a = r.column, s = r.columnApi, l = r.context;
      return this.providedFilterParams.valueGetter({
        api: n,
        colDef: i,
        column: a,
        columnApi: s,
        context: l,
        data: e.data,
        getValue: function(u) {
          return e.data[u];
        },
        node: e
      });
    }, t.prototype.getPositionableElement = function() {
      return this.eFilterBody;
    }, av([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), av([
      G("eFilterBody")
    ], t.prototype, "eFilterBody", void 0), av([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), lI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Lm = (
  /** @class */
  function(o) {
    lI(t, o);
    function t(e, r) {
      var n = o.call(this, r) || this;
      return n.labelSeparator = "", n.labelAlignment = "left", n.disabled = !1, n.label = "", n.config = e || {}, n;
    }
    return t.prototype.postConstruct = function() {
      this.addCssClass("ag-labeled"), this.eLabel.classList.add("ag-label");
      var e = this.config, r = e.labelSeparator, n = e.label, i = e.labelWidth, a = e.labelAlignment;
      r != null && this.setLabelSeparator(r), n != null && this.setLabel(n), i != null && this.setLabelWidth(i), this.setLabelAlignment(a || this.labelAlignment), this.refreshLabel();
    }, t.prototype.refreshLabel = function() {
      Qr(this.eLabel), typeof this.label == "string" ? this.eLabel.innerText = this.label + this.labelSeparator : this.label && this.eLabel.appendChild(this.label), this.label === "" ? (Be(this.eLabel, !1), Ut(this.eLabel, "presentation")) : (Be(this.eLabel, !0), Ut(this.eLabel, null));
    }, t.prototype.setLabelSeparator = function(e) {
      return this.labelSeparator === e ? this : (this.labelSeparator = e, this.label != null && this.refreshLabel(), this);
    }, t.prototype.getLabelId = function() {
      return this.eLabel.id = this.eLabel.id || "ag-" + this.getCompId() + "-label", this.eLabel.id;
    }, t.prototype.getLabel = function() {
      return this.label;
    }, t.prototype.setLabel = function(e) {
      return this.label === e ? this : (this.label = e, this.refreshLabel(), this);
    }, t.prototype.setLabelAlignment = function(e) {
      var r = this.getGui(), n = r.classList;
      return n.toggle("ag-label-align-left", e === "left"), n.toggle("ag-label-align-right", e === "right"), n.toggle("ag-label-align-top", e === "top"), this;
    }, t.prototype.setLabelEllipsis = function(e) {
      return this.eLabel.classList.toggle("ag-label-ellipsis", e), this;
    }, t.prototype.setLabelWidth = function(e) {
      return this.label == null ? this : (sd(this.eLabel, e), this);
    }, t.prototype.setDisabled = function(e) {
      e = !!e;
      var r = this.getGui();
      return $l(r, e), r.classList.toggle("ag-disabled", e), this.disabled = e, this;
    }, t.prototype.isDisabled = function() {
      return !!this.disabled;
    }, uI([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), cI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bi = (
  /** @class */
  function(o) {
    cI(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, r) || this;
      return i.className = n, i;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this), this.className && this.addCssClass(this.className);
    }, t.prototype.onValueChange = function(e) {
      var r = this;
      return this.addManagedListener(this, t.EVENT_CHANGED, function() {
        return e(r.getValue());
      }), this;
    }, t.prototype.getWidth = function() {
      return this.getGui().clientWidth;
    }, t.prototype.setWidth = function(e) {
      return _n(this.getGui(), e), this;
    }, t.prototype.getPreviousValue = function() {
      return this.previousValue;
    }, t.prototype.getValue = function() {
      return this.value;
    }, t.prototype.setValue = function(e, r) {
      return this.value === e ? this : (this.previousValue = this.value, this.value = e, r || this.dispatchEvent({ type: t.EVENT_CHANGED }), this);
    }, t.EVENT_CHANGED = "valueChange", t;
  }(Lm)
), dI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Td = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, SE = (
  /** @class */
  function(o) {
    dI(t, o);
    function t(e, r, n, i) {
      var a = o.call(
        this,
        e,
        /* html */
        `<div class="ag-picker-field" role="presentation">
                <div ref="eLabel"></div>
                <div ref="eWrapper"
                    class="ag-wrapper ag-picker-field-wrapper"
                    tabIndex="-1"
                    aria-expanded="false"
                    ` + (i ? 'role="' + i + '"' : "") + `
                >
                    <div ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,
        r
      ) || this;
      return a.pickerIcon = n, a.isPickerDisplayed = !1, a.isDestroyingPicker = !1, a.skipClick = !1, a;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      o.prototype.postConstruct.call(this);
      var r = "ag-" + this.getCompId() + "-display";
      this.eDisplayField.setAttribute("id", r), jb(this.eWrapper, r);
      var n = function() {
        if (e.skipClick) {
          e.skipClick = !1;
          return;
        }
        e.isDisabled() || (e.pickerComponent = e.showPicker());
      }, i = this.getGui();
      if (this.addManagedListener(i, "mousedown", function(s) {
        !e.skipClick && e.pickerComponent && e.pickerComponent.isAlive() && so(e.pickerComponent.getGui()) && i.contains(s.target) && (e.skipClick = !0);
      }), this.addManagedListener(i, "keydown", function(s) {
        switch (s.key) {
          case H.UP:
          case H.DOWN:
          case H.ENTER:
          case H.SPACE:
            n();
          case H.ESCAPE:
            e.isPickerDisplayed && s.preventDefault();
            break;
        }
      }), this.addManagedListener(this.eWrapper, "click", n), this.addManagedListener(this.eLabel, "click", n), this.pickerIcon) {
        var a = Et(this.pickerIcon, this.gridOptionsService);
        a && this.eIcon.appendChild(a);
      }
    }, t.prototype.refreshLabel = function() {
      z(this.getLabel()) ? pf(this.eWrapper, this.getLabelId()) : this.eWrapper.removeAttribute("aria-labelledby"), o.prototype.refreshLabel.call(this);
    }, t.prototype.setAriaLabel = function(e) {
      return ra(this.eWrapper, e), this;
    }, t.prototype.setInputWidth = function(e) {
      return sd(this.eWrapper, e), this;
    }, t.prototype.getFocusableElement = function() {
      return this.eWrapper;
    }, Td([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), Td([
      G("eWrapper")
    ], t.prototype, "eWrapper", void 0), Td([
      G("eDisplayField")
    ], t.prototype, "eDisplayField", void 0), Td([
      G("eIcon")
    ], t.prototype, "eIcon", void 0), t;
  }(bi)
), pI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $C = (
  /** @class */
  function(o) {
    pI(t, o);
    function t(e) {
      e === void 0 && (e = "default");
      var r = o.call(
        this,
        /* html */
        '<div class="ag-list ag-' + e + '-list" role="listbox"></div>'
      ) || this;
      return r.cssIdentifier = e, r.options = [], r.itemEls = [], r;
    }
    return t.prototype.init = function() {
      this.addManagedListener(this.getGui(), "keydown", this.handleKeyDown.bind(this));
    }, t.prototype.handleKeyDown = function(e) {
      var r = e.key;
      switch (r) {
        case H.ENTER:
          if (!this.highlightedEl)
            this.setValue(this.getValue());
          else {
            var n = this.itemEls.indexOf(this.highlightedEl);
            this.setValueByIndex(n);
          }
          break;
        case H.DOWN:
        case H.UP:
          var i = r === H.DOWN, a = void 0;
          if (e.preventDefault(), !this.highlightedEl)
            a = this.itemEls[i ? 0 : this.itemEls.length - 1];
          else {
            var s = this.itemEls.indexOf(this.highlightedEl), l = s + (i ? 1 : -1);
            l = Math.min(Math.max(l, 0), this.itemEls.length - 1), a = this.itemEls[l];
          }
          this.highlightItem(a);
          break;
      }
    }, t.prototype.addOptions = function(e) {
      var r = this;
      return e.forEach(function(n) {
        return r.addOption(n);
      }), this;
    }, t.prototype.addOption = function(e) {
      var r = e.value, n = e.text, i = Oi(n || r);
      return this.options.push({ value: r, text: i }), this.renderOption(r, i), this.updateIndices(), this;
    }, t.prototype.updateIndices = function() {
      var e = this.getGui().querySelectorAll(".ag-list-item");
      e.forEach(function(r, n) {
        vm(r, n + 1), fm(r, e.length);
      });
    }, t.prototype.renderOption = function(e, r) {
      var n = this, i = document.createElement("div");
      Ut(i, "option"), i.classList.add("ag-list-item", "ag-" + this.cssIdentifier + "-list-item"), i.innerHTML = "<span>" + r + "</span>", i.tabIndex = -1, this.itemEls.push(i), this.addManagedListener(i, "mouseover", function() {
        return n.highlightItem(i);
      }), this.addManagedListener(i, "mouseleave", function() {
        return n.clearHighlighted();
      }), this.addManagedListener(i, "click", function() {
        return n.setValue(e);
      }), this.getGui().appendChild(i);
    }, t.prototype.setValue = function(e, r) {
      if (this.value === e)
        return this.fireItemSelected(), this;
      if (e == null)
        return this.reset(), this;
      var n = this.options.findIndex(function(a) {
        return a.value === e;
      });
      if (n !== -1) {
        var i = this.options[n];
        this.value = i.value, this.displayValue = i.text != null ? i.text : i.value, this.highlightItem(this.itemEls[n]), r || this.fireChangeEvent();
      }
      return this;
    }, t.prototype.setValueByIndex = function(e) {
      return this.setValue(this.options[e].value);
    }, t.prototype.getValue = function() {
      return this.value;
    }, t.prototype.getDisplayValue = function() {
      return this.displayValue;
    }, t.prototype.refreshHighlighted = function() {
      var e = this;
      this.clearHighlighted();
      var r = this.options.findIndex(function(n) {
        return n.value === e.value;
      });
      r !== -1 && this.highlightItem(this.itemEls[r]);
    }, t.prototype.reset = function() {
      this.value = null, this.displayValue = null, this.clearHighlighted(), this.fireChangeEvent();
    }, t.prototype.highlightItem = function(e) {
      e.offsetParent && (this.clearHighlighted(), this.highlightedEl = e, this.highlightedEl.classList.add(t.ACTIVE_CLASS), Wl(this.highlightedEl, !0), this.highlightedEl.focus());
    }, t.prototype.clearHighlighted = function() {
      !this.highlightedEl || !this.highlightedEl.offsetParent || (this.highlightedEl.classList.remove(t.ACTIVE_CLASS), Wl(this.highlightedEl, !1), this.highlightedEl = null);
    }, t.prototype.fireChangeEvent = function() {
      this.dispatchEvent({ type: bi.EVENT_CHANGED }), this.fireItemSelected();
    }, t.prototype.fireItemSelected = function() {
      this.dispatchEvent({ type: t.EVENT_ITEM_SELECTED });
    }, t.EVENT_ITEM_SELECTED = "selectedItem", t.ACTIVE_CLASS = "ag-active-item", hI([
      V
    ], t.prototype, "init", null), t;
  }(te)
), fI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), UC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nu = (
  /** @class */
  function(o) {
    fI(t, o);
    function t(e) {
      return o.call(this, e, "ag-select", "smallDown", "listbox") || this;
    }
    return t.prototype.init = function() {
      var e = this;
      this.listComponent = this.createBean(new $C("select")), this.listComponent.setParentComponent(this), this.eWrapper.tabIndex = 0, this.listComponent.addManagedListener(this.listComponent, $C.EVENT_ITEM_SELECTED, function() {
        e.hideList && e.hideList(), e.dispatchEvent({ type: t.EVENT_ITEM_SELECTED });
      }), this.listComponent.addManagedListener(this.listComponent, bi.EVENT_CHANGED, function() {
        e.setValue(e.listComponent.getValue(), !1, !0), e.hideList && e.hideList();
      });
    }, t.prototype.showPicker = function() {
      var e = this, r = this.listComponent.getGui(), n = this.gridOptionsService.getDocument(), i = this.addManagedListener(n.body, "wheel", function(u) {
        !r.contains(u.target) && e.hideList && e.hideList();
      }), a = this.addManagedListener(r, "focusout", function(u) {
        !r.contains(u.relatedTarget) && e.hideList && e.hideList();
      }), s = this.localeService.getLocaleTextFunc(), l = this.popupService.addPopup({
        modal: !0,
        eChild: r,
        closeOnEsc: !0,
        closedCallback: function() {
          e.hideList = null, e.isPickerDisplayed = !1, a(), i(), e.isAlive() && ($n(e.eWrapper, !1), e.getFocusableElement().focus());
        },
        ariaLabel: s("ariaLabelSelectField", "Select Field")
      });
      return l && (this.hideList = l.hideFunc), this.isPickerDisplayed = !0, sd(r, mf(this.eWrapper)), $n(this.eWrapper, !0), r.style.maxHeight = ad(this.popupService.getPopupParent()) + "px", r.style.position = "absolute", this.popupService.positionPopupByComponent({
        type: "ag-list",
        eventSource: this.eWrapper,
        ePopup: r,
        position: "under",
        keepWithinBounds: !0
      }), this.listComponent.refreshHighlighted(), this.listComponent;
    }, t.prototype.addOptions = function(e) {
      var r = this;
      return e.forEach(function(n) {
        return r.addOption(n);
      }), this;
    }, t.prototype.addOption = function(e) {
      return this.listComponent.addOption(e), this;
    }, t.prototype.setValue = function(e, r, n) {
      if (this.value === e)
        return this;
      n || this.listComponent.setValue(e, !0);
      var i = this.listComponent.getValue();
      return i === this.getValue() ? this : (this.eDisplayField.innerHTML = this.listComponent.getDisplayValue(), o.prototype.setValue.call(this, e, r));
    }, t.prototype.destroy = function() {
      this.hideList && this.hideList(), this.destroyBean(this.listComponent), o.prototype.destroy.call(this);
    }, t.EVENT_ITEM_SELECTED = "selectedItem", UC([
      w("popupService")
    ], t.prototype, "popupService", void 0), UC([
      V
    ], t.prototype, "init", null), t;
  }(SE)
), vI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), sv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Bo = (
  /** @class */
  function(o) {
    vI(t, o);
    function t(e, r, n, i) {
      n === void 0 && (n = "text"), i === void 0 && (i = "input");
      var a = o.call(
        this,
        e,
        /* html */
        `
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <` + i + ' ref="eInput" class="ag-input-field-input"></' + i + `>
                </div>
            </div>`,
        r
      ) || this;
      return a.inputType = n, a.displayFieldTag = i, a;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this), this.setInputType(), this.eLabel.classList.add(this.className + "-label"), this.eWrapper.classList.add(this.className + "-input-wrapper"), this.eInput.classList.add(this.className + "-input"), this.addCssClass("ag-input-field"), this.eInput.id = this.eInput.id || "ag-" + this.getCompId() + "-input";
      var e = this.config, r = e.width, n = e.value;
      r != null && this.setWidth(r), n != null && this.setValue(n), this.addInputListeners(), this.activateTabIndex([this.eInput]);
    }, t.prototype.refreshLabel = function() {
      z(this.getLabel()) ? pf(this.eInput, this.getLabelId()) : this.eInput.removeAttribute("aria-labelledby"), o.prototype.refreshLabel.call(this);
    }, t.prototype.addInputListeners = function() {
      var e = this;
      this.addManagedListener(this.eInput, "input", function(r) {
        return e.setValue(r.target.value);
      });
    }, t.prototype.setInputType = function() {
      this.displayFieldTag === "input" && this.eInput.setAttribute("type", this.inputType);
    }, t.prototype.getInputElement = function() {
      return this.eInput;
    }, t.prototype.setInputWidth = function(e) {
      return sd(this.eWrapper, e), this;
    }, t.prototype.setInputName = function(e) {
      return this.getInputElement().setAttribute("name", e), this;
    }, t.prototype.getFocusableElement = function() {
      return this.eInput;
    }, t.prototype.setMaxLength = function(e) {
      var r = this.eInput;
      return r.maxLength = e, this;
    }, t.prototype.setInputPlaceholder = function(e) {
      return zo(this.eInput, "placeholder", e), this;
    }, t.prototype.setInputAriaLabel = function(e) {
      return ra(this.eInput, e), this;
    }, t.prototype.setDisabled = function(e) {
      return $l(this.eInput, e), o.prototype.setDisabled.call(this, e);
    }, sv([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), sv([
      G("eWrapper")
    ], t.prototype, "eWrapper", void 0), sv([
      G("eInput")
    ], t.prototype, "eInput", void 0), t;
  }(bi)
), gI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), On = (
  /** @class */
  function(o) {
    gI(t, o);
    function t(e, r, n) {
      r === void 0 && (r = "ag-checkbox"), n === void 0 && (n = "checkbox");
      var i = o.call(this, e, r, n) || this;
      return i.labelAlignment = "right", i.selected = !1, i.readOnly = !1, i.passive = !1, i;
    }
    return t.prototype.addInputListeners = function() {
      this.addManagedListener(this.eInput, "click", this.onCheckboxClick.bind(this)), this.addManagedListener(this.eLabel, "click", this.toggle.bind(this));
    }, t.prototype.getNextValue = function() {
      return this.selected === void 0 ? !0 : !this.selected;
    }, t.prototype.setPassive = function(e) {
      this.passive = e;
    }, t.prototype.isReadOnly = function() {
      return this.readOnly;
    }, t.prototype.setReadOnly = function(e) {
      this.eWrapper.classList.toggle("ag-disabled", e), this.eInput.disabled = e, this.readOnly = e;
    }, t.prototype.setDisabled = function(e) {
      return this.eWrapper.classList.toggle("ag-disabled", e), o.prototype.setDisabled.call(this, e);
    }, t.prototype.toggle = function() {
      if (!this.eInput.disabled) {
        var e = this.isSelected(), r = this.getNextValue();
        this.passive ? this.dispatchChange(r, e) : this.setValue(r);
      }
    }, t.prototype.getValue = function() {
      return this.isSelected();
    }, t.prototype.setValue = function(e, r) {
      return this.refreshSelectedClass(e), this.setSelected(e, r), this;
    }, t.prototype.setName = function(e) {
      var r = this.getInputElement();
      return r.name = e, this;
    }, t.prototype.isSelected = function() {
      return this.selected;
    }, t.prototype.setSelected = function(e, r) {
      this.isSelected() !== e && (this.previousValue = this.isSelected(), e = this.selected = typeof e == "boolean" ? e : void 0, this.eInput.checked = e, this.eInput.indeterminate = e === void 0, r || this.dispatchChange(this.selected, this.previousValue));
    }, t.prototype.dispatchChange = function(e, r, n) {
      this.dispatchEvent({ type: t.EVENT_CHANGED, selected: e, previousValue: r, event: n });
      var i = this.getInputElement(), a = {
        type: R.EVENT_CHECKBOX_CHANGED,
        id: i.id,
        name: i.name,
        selected: e,
        previousValue: r
      };
      this.eventService.dispatchEvent(a);
    }, t.prototype.onCheckboxClick = function(e) {
      if (!(this.passive || this.eInput.disabled)) {
        var r = this.isSelected(), n = this.selected = e.target.checked;
        this.refreshSelectedClass(n), this.dispatchChange(n, r, e);
      }
    }, t.prototype.refreshSelectedClass = function(e) {
      this.eWrapper.classList.toggle("ag-checked", e === !0), this.eWrapper.classList.toggle("ag-indeterminate", e == null);
    }, t;
  }(Bo)
), yI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Nm = (
  /** @class */
  function(o) {
    yI(t, o);
    function t(e) {
      return o.call(this, e, "ag-radio-button", "radio") || this;
    }
    return t.prototype.isSelected = function() {
      return this.eInput.checked;
    }, t.prototype.toggle = function() {
      this.eInput.disabled || this.isSelected() || this.setValue(!0);
    }, t.prototype.addInputListeners = function() {
      o.prototype.addInputListeners.call(this), this.addManagedListener(this.eventService, R.EVENT_CHECKBOX_CHANGED, this.onChange.bind(this));
    }, t.prototype.onChange = function(e) {
      e.selected && e.name && this.eInput.name && this.eInput.name === e.name && e.id && this.eInput.id !== e.id && this.setValue(!1, !0);
    }, t;
  }(On)
), mI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), CI = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, SI = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Gm = (
  /** @class */
  function() {
    function o(t, e) {
      this.localeService = t, this.optionsFactory = e;
    }
    return o.prototype.getModelAsString = function(t) {
      var e = this;
      if (!t)
        return null;
      var r = t.operator != null, n = this.localeService.getLocaleTextFunc();
      if (r) {
        var i = t, a = i.conditions;
        if (!a) {
          var s = i.condition1, l = i.condition2;
          a = [s, l];
        }
        var u = a.map(function(y) {
          return e.getModelAsString(y);
        }), c = i.operator === "AND" ? "andCondition" : "orCondition";
        return u.join(" " + n(c, mE[c]) + " ");
      } else {
        if (t.type === pt.BLANK || t.type === pt.NOT_BLANK)
          return n(t.type, t.type);
        var d = t, p = this.optionsFactory.getCustomOption(d.type), h = p || {}, f = h.displayKey, v = h.displayName, g = h.numberOfInputs;
        return f && v && g === 0 ? (n(f, v), v) : this.conditionToString(d, p);
      }
    }, o;
  }()
), pt = (
  /** @class */
  function(o) {
    mI(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.eTypes = [], e.eJoinOperatorPanels = [], e.eJoinOperatorsAnd = [], e.eJoinOperatorsOr = [], e.eConditionBodies = [], e.listener = function() {
        return e.onUiChanged();
      }, e.lastUiCompletePosition = null, e.joinOperatorId = 0, e;
    }
    return t.prototype.getNumberOfInputs = function(e) {
      var r = this.optionsFactory.getCustomOption(e);
      if (r) {
        var n = r.numberOfInputs;
        return n != null ? n : 1;
      }
      var i = [
        t.EMPTY,
        t.NOT_BLANK,
        t.BLANK
      ];
      return e && i.indexOf(e) >= 0 ? 0 : e === t.IN_RANGE ? 2 : 1;
    }, t.prototype.onFloatingFilterChanged = function(e, r) {
      this.setTypeFromFloatingFilter(e), this.setValueFromFloatingFilter(r), this.onUiChanged(!0);
    }, t.prototype.setTypeFromFloatingFilter = function(e) {
      var r = this;
      this.eTypes.forEach(function(n, i) {
        i === 0 ? n.setValue(e, !0) : n.setValue(r.optionsFactory.getDefaultOption(), !0);
      });
    }, t.prototype.getModelFromUi = function() {
      var e = this.getUiCompleteConditions();
      return e.length === 0 ? null : this.maxNumConditions > 1 && e.length > 1 ? {
        filterType: this.getFilterType(),
        operator: this.getJoinOperator(),
        condition1: e[0],
        condition2: e[1],
        conditions: e
      } : e[0];
    }, t.prototype.getConditionTypes = function() {
      return this.eTypes.map(function(e) {
        return e.getValue();
      });
    }, t.prototype.getConditionType = function(e) {
      return this.eTypes[e].getValue();
    }, t.prototype.getJoinOperator = function() {
      return this.eJoinOperatorsOr.length === 0 ? this.defaultJoinOperator : this.eJoinOperatorsOr[0].getValue() === !0 ? "OR" : "AND";
    }, t.prototype.areModelsEqual = function(e, r) {
      var n = this;
      if (!e && !r)
        return !0;
      if (!e && r || e && !r)
        return !1;
      var i = !e.operator, a = !r.operator, s = !i && a || i && !a;
      if (s)
        return !1;
      var l;
      if (i) {
        var u = e, c = r;
        l = this.areSimpleModelsEqual(u, c);
      } else {
        var d = e, p = r;
        l = d.operator === p.operator && Vo(d.conditions, p.conditions, function(h, f) {
          return n.areSimpleModelsEqual(h, f);
        });
      }
      return l;
    }, t.prototype.setModelIntoUi = function(e) {
      var r = this, n = e.operator;
      if (n) {
        var i = e;
        i.conditions || (i.conditions = [
          i.condition1,
          i.condition2
        ]);
        var a = this.validateAndUpdateConditions(i.conditions), s = this.getNumConditions();
        if (a < s)
          this.removeConditionsAndOperators(a);
        else if (a > s)
          for (var l = s; l < a; l++)
            this.createJoinOperatorPanel(), this.createOption();
        var u = i.operator === "OR";
        this.eJoinOperatorsAnd.forEach(function(d) {
          return d.setValue(!u, !0);
        }), this.eJoinOperatorsOr.forEach(function(d) {
          return d.setValue(u, !0);
        }), i.conditions.forEach(function(d, p) {
          r.eTypes[p].setValue(d.type, !0), r.setConditionIntoUi(d, p);
        });
      } else {
        var c = e;
        this.getNumConditions() > 1 && this.removeConditionsAndOperators(1), this.eTypes[0].setValue(c.type, !0), this.setConditionIntoUi(c, 0);
      }
      return this.lastUiCompletePosition = this.getNumConditions() - 1, this.createMissingConditionsAndOperators(), this.onUiChanged(), Je.resolve();
    }, t.prototype.validateAndUpdateConditions = function(e) {
      var r = e.length;
      return r > this.maxNumConditions && (e.splice(this.maxNumConditions), ze(function() {
        return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.');
      }, "simpleFilterSetModelMaxNumConditions"), r = this.maxNumConditions), r;
    }, t.prototype.doesFilterPass = function(e) {
      var r = this, n, i = this.getModel();
      if (i == null)
        return !0;
      var a = i.operator, s = [];
      if (a) {
        var l = i;
        s.push.apply(s, SI([], CI((n = l.conditions) !== null && n !== void 0 ? n : [])));
      } else
        s.push(i);
      var u = a && a === "OR" ? "some" : "every";
      return s[u](function(c) {
        return r.individualConditionPasses(e, c);
      });
    }, t.prototype.setParams = function(e) {
      o.prototype.setParams.call(this, e), this.setNumConditions(e), this.defaultJoinOperator = this.getDefaultJoinOperator(e.defaultJoinOperator), this.filterPlaceholder = e.filterPlaceholder, this.optionsFactory = new yE(), this.optionsFactory.init(e, this.getDefaultFilterOptions()), this.createFilterListOptions(), this.createOption(), this.createMissingConditionsAndOperators();
    }, t.prototype.setNumConditions = function(e) {
      var r, n;
      e.suppressAndOrCondition != null && ze(function() {
        return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.');
      }, "simpleFilterSuppressAndOrCondition"), e.alwaysShowBothConditions != null && ze(function() {
        return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.');
      }, "simpleFilterAlwaysShowBothConditions"), this.maxNumConditions = (r = e.maxNumConditions) !== null && r !== void 0 ? r : e.suppressAndOrCondition ? 1 : 2, this.maxNumConditions < 1 && (ze(function() {
        return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.');
      }, "simpleFilterMaxNumConditions"), this.maxNumConditions = 1), this.numAlwaysVisibleConditions = (n = e.numAlwaysVisibleConditions) !== null && n !== void 0 ? n : e.alwaysShowBothConditions ? 2 : 1, this.numAlwaysVisibleConditions < 1 && (ze(function() {
        return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.');
      }, "simpleFilterNumAlwaysVisibleConditions"), this.numAlwaysVisibleConditions = 1), this.numAlwaysVisibleConditions > this.maxNumConditions && (ze(function() {
        return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".');
      }, "simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"), this.numAlwaysVisibleConditions = this.maxNumConditions);
    }, t.prototype.createOption = function() {
      var e = this, r = this.createManagedBean(new nu());
      this.eTypes.push(r), r.addCssClass("ag-filter-select"), this.eFilterBody.appendChild(r.getGui());
      var n = this.createValueElement();
      this.eConditionBodies.push(n), this.eFilterBody.appendChild(n), this.putOptionsIntoDropdown(r), this.resetType(r);
      var i = this.getNumConditions() - 1;
      this.forEachPositionInput(i, function(a) {
        return e.resetInput(a);
      }), this.addChangedListeners(r, i);
    }, t.prototype.createJoinOperatorPanel = function() {
      var e = document.createElement("div");
      this.eJoinOperatorPanels.push(e), e.classList.add("ag-filter-condition");
      var r = this.createJoinOperator(this.eJoinOperatorsAnd, e, "and"), n = this.createJoinOperator(this.eJoinOperatorsOr, e, "or");
      this.eFilterBody.appendChild(e);
      var i = this.eJoinOperatorPanels.length - 1, a = this.joinOperatorId++;
      this.resetJoinOperatorAnd(r, i, a), this.resetJoinOperatorOr(n, i, a), this.isReadOnly() || (r.onValueChange(this.listener), n.onValueChange(this.listener));
    }, t.prototype.createJoinOperator = function(e, r, n) {
      var i = this.createManagedBean(new Nm());
      return e.push(i), i.addCssClass("ag-filter-condition-operator"), i.addCssClass("ag-filter-condition-operator-" + n), r.appendChild(i.getGui()), i;
    }, t.prototype.getDefaultJoinOperator = function(e) {
      return e === "AND" || e === "OR" ? e : "AND";
    }, t.prototype.createFilterListOptions = function() {
      var e = this, r = this.optionsFactory.getFilterOptions();
      this.filterListOptions = r.map(function(n) {
        return typeof n == "string" ? e.createBoilerplateListOption(n) : e.createCustomListOption(n);
      });
    }, t.prototype.putOptionsIntoDropdown = function(e) {
      this.filterListOptions.forEach(function(r) {
        e.addOption(r);
      }), e.setDisabled(this.filterListOptions.length <= 1);
    }, t.prototype.createBoilerplateListOption = function(e) {
      return { value: e, text: this.translate(e) };
    }, t.prototype.createCustomListOption = function(e) {
      var r = e.displayKey, n = this.optionsFactory.getCustomOption(e.displayKey);
      return {
        value: r,
        text: n ? this.localeService.getLocaleTextFunc()(n.displayKey, n.displayName) : this.translate(r)
      };
    }, t.prototype.isAllowTwoConditions = function() {
      return this.maxNumConditions >= 2;
    }, t.prototype.createBodyTemplate = function() {
      return "";
    }, t.prototype.getCssIdentifier = function() {
      return "simple-filter";
    }, t.prototype.updateUiVisibility = function() {
      var e = this.getJoinOperator();
      this.updateNumConditions(), this.updateConditionStatusesAndValues(this.lastUiCompletePosition, e);
    }, t.prototype.updateNumConditions = function() {
      for (var e, r = -1, n = !0, i = 0; i < this.getNumConditions(); i++)
        this.isConditionUiComplete(i) ? r = i : n = !1;
      if (this.shouldAddNewConditionAtEnd(n))
        this.createJoinOperatorPanel(), this.createOption();
      else {
        var a = (e = this.lastUiCompletePosition) !== null && e !== void 0 ? e : this.getNumConditions() - 2;
        if (r < a) {
          this.removeConditionsAndOperators(a + 1);
          var s = r + 1, l = a - s;
          l > 0 && this.removeConditionsAndOperators(s, l), this.createMissingConditionsAndOperators();
        }
      }
      this.lastUiCompletePosition = r;
    }, t.prototype.updateConditionStatusesAndValues = function(e, r) {
      var n = this;
      this.eTypes.forEach(function(a, s) {
        var l = n.isConditionDisabled(s, e);
        a.setDisabled(l || n.filterListOptions.length <= 1), s === 1 && ($l(n.eJoinOperatorPanels[0], l), n.eJoinOperatorsAnd[0].setDisabled(l), n.eJoinOperatorsOr[0].setDisabled(l));
      }), this.eConditionBodies.forEach(function(a, s) {
        Be(a, n.isConditionBodyVisible(s));
      });
      var i = (r != null ? r : this.getJoinOperator()) === "OR";
      this.eJoinOperatorsAnd.forEach(function(a, s) {
        a.setValue(!i, !0);
      }), this.eJoinOperatorsOr.forEach(function(a, s) {
        a.setValue(i, !0);
      }), this.forEachInput(function(a, s, l, u) {
        n.setElementDisplayed(a, s < u), n.setElementDisabled(a, n.isConditionDisabled(l, e));
      }), this.resetPlaceholder();
    }, t.prototype.shouldAddNewConditionAtEnd = function(e) {
      return e && this.getNumConditions() < this.maxNumConditions && !this.isReadOnly();
    }, t.prototype.removeConditionsAndOperators = function(e, r) {
      if (!(e >= this.getNumConditions())) {
        this.removeComponents(this.eTypes, e, r), this.removeElements(this.eConditionBodies, e, r), this.removeValueElements(e, r);
        var n = Math.max(e - 1, 0);
        this.removeElements(this.eJoinOperatorPanels, n, r), this.removeComponents(this.eJoinOperatorsAnd, n, r), this.removeComponents(this.eJoinOperatorsOr, n, r);
      }
    }, t.prototype.removeElements = function(e, r, n) {
      var i = this.removeItems(e, r, n);
      i.forEach(function(a) {
        return eo(a);
      });
    }, t.prototype.removeComponents = function(e, r, n) {
      var i = this, a = this.removeItems(e, r, n);
      a.forEach(function(s) {
        eo(s.getGui()), i.destroyBean(s);
      });
    }, t.prototype.removeItems = function(e, r, n) {
      return n == null ? e.splice(r) : e.splice(r, n);
    }, t.prototype.afterGuiAttached = function(e) {
      if (o.prototype.afterGuiAttached.call(this, e), this.resetPlaceholder(), !e || !e.suppressFocus && !this.isReadOnly()) {
        var r = this.getInputs(0)[0];
        if (!r)
          return;
        r instanceof Bo && r.getInputElement().focus();
      }
    }, t.prototype.afterGuiDetached = function() {
      o.prototype.afterGuiDetached.call(this);
      var e = this.getModel();
      (!this.areModelsEqual(e, this.getModelFromUi()) || this.hasInvalidInputs()) && this.resetUiToActiveModel(e);
      for (var r = -1, n = -1, i = !1, a = this.getJoinOperator(), s = this.getNumConditions() - 1; s >= 0; s--)
        if (this.isConditionUiComplete(s))
          r === -1 && (r = s, n = s);
        else {
          var l = s >= this.numAlwaysVisibleConditions && !this.isConditionUiComplete(s - 1), u = s < r;
          (l || u) && (this.removeConditionsAndOperators(s, 1), i = !0, u && n--);
        }
      var c = !1;
      this.getNumConditions() < this.numAlwaysVisibleConditions && (this.createMissingConditionsAndOperators(), c = !0), this.shouldAddNewConditionAtEnd(n === this.getNumConditions() - 1) && (this.createJoinOperatorPanel(), this.createOption(), c = !0), c && this.updateConditionStatusesAndValues(n, a), i && this.updateJoinOperatorsDisabled(), this.lastUiCompletePosition = n;
    }, t.prototype.getPlaceholderText = function(e, r) {
      var n = this.translate(e);
      if (df(this.filterPlaceholder)) {
        var i = this.filterPlaceholder, a = this.eTypes[r].getValue(), s = this.translate(a);
        n = i({
          filterOptionKey: a,
          filterOption: s,
          placeholder: n
        });
      } else
        typeof this.filterPlaceholder == "string" && (n = this.filterPlaceholder);
      return n;
    }, t.prototype.resetPlaceholder = function() {
      var e = this, r = this.localeService.getLocaleTextFunc();
      this.forEachInput(function(n, i, a, s) {
        if (n instanceof Bo) {
          var l = i === 0 && s > 1 ? "inRangeStart" : i === 0 ? "filterOoo" : "inRangeEnd", u = i === 0 && s > 1 ? r("ariaFilterFromValue", "Filter from value") : i === 0 ? r("ariaFilterValue", "Filter Value") : r("ariaFilterToValue", "Filter to Value");
          n.setInputPlaceholder(e.getPlaceholderText(l, a)), n.setInputAriaLabel(u);
        }
      });
    }, t.prototype.setElementValue = function(e, r) {
      e instanceof Bo && e.setValue(r != null ? String(r) : null, !0);
    }, t.prototype.setElementDisplayed = function(e, r) {
      e instanceof te && Be(e.getGui(), r);
    }, t.prototype.setElementDisabled = function(e, r) {
      e instanceof te && $l(e.getGui(), r);
    }, t.prototype.attachElementOnChange = function(e, r) {
      e instanceof Bo && e.onValueChange(r);
    }, t.prototype.forEachInput = function(e) {
      var r = this;
      this.getConditionTypes().forEach(function(n, i) {
        r.forEachPositionTypeInput(i, n, e);
      });
    }, t.prototype.forEachPositionInput = function(e, r) {
      var n = this.getConditionType(e);
      this.forEachPositionTypeInput(e, n, r);
    }, t.prototype.forEachPositionTypeInput = function(e, r, n) {
      for (var i = this.getNumberOfInputs(r), a = this.getInputs(e), s = 0; s < a.length; s++) {
        var l = a[s];
        l != null && n(l, s, e, i);
      }
    }, t.prototype.isConditionDisabled = function(e, r) {
      return this.isReadOnly() ? !0 : e === 0 ? !1 : e > r + 1;
    }, t.prototype.isConditionBodyVisible = function(e) {
      var r = this.getConditionType(e), n = this.getNumberOfInputs(r);
      return n > 0;
    }, t.prototype.isConditionUiComplete = function(e) {
      if (e >= this.getNumConditions())
        return !1;
      var r = this.getConditionType(e);
      return !(r === t.EMPTY || this.getValues(e).some(function(n) {
        return n == null;
      }));
    }, t.prototype.getNumConditions = function() {
      return this.eTypes.length;
    }, t.prototype.getUiCompleteConditions = function() {
      for (var e = [], r = 0; r < this.getNumConditions(); r++)
        this.isConditionUiComplete(r) && e.push(this.createCondition(r));
      return e;
    }, t.prototype.createMissingConditionsAndOperators = function() {
      if (!this.isReadOnly())
        for (var e = this.getNumConditions(); e < this.numAlwaysVisibleConditions; e++)
          this.createJoinOperatorPanel(), this.createOption();
    }, t.prototype.resetUiToDefaults = function(e) {
      var r = this;
      return this.removeConditionsAndOperators(this.isReadOnly() ? 1 : this.numAlwaysVisibleConditions), this.eTypes.forEach(function(n) {
        return r.resetType(n);
      }), this.eJoinOperatorsAnd.forEach(function(n, i) {
        return r.resetJoinOperatorAnd(n, i, r.joinOperatorId + i);
      }), this.eJoinOperatorsOr.forEach(function(n, i) {
        return r.resetJoinOperatorOr(n, i, r.joinOperatorId + i);
      }), this.joinOperatorId++, this.forEachInput(function(n) {
        return r.resetInput(n);
      }), this.resetPlaceholder(), this.createMissingConditionsAndOperators(), this.lastUiCompletePosition = null, e || this.onUiChanged(), Je.resolve();
    }, t.prototype.resetType = function(e) {
      var r = this.localeService.getLocaleTextFunc(), n = r("ariaFilteringOperator", "Filtering operator");
      e.setValue(this.optionsFactory.getDefaultOption(), !0).setAriaLabel(n).setDisabled(this.isReadOnly() || this.filterListOptions.length <= 1);
    }, t.prototype.resetJoinOperatorAnd = function(e, r, n) {
      this.resetJoinOperator(e, r, this.isDefaultOperator("AND"), this.translate("andCondition"), n);
    }, t.prototype.resetJoinOperatorOr = function(e, r, n) {
      this.resetJoinOperator(e, r, this.isDefaultOperator("OR"), this.translate("orCondition"), n);
    }, t.prototype.resetJoinOperator = function(e, r, n, i, a) {
      this.updateJoinOperatorDisabled(e.setValue(n, !0).setName("ag-simple-filter-and-or-" + this.getCompId() + "-" + a).setLabel(i), r);
    }, t.prototype.updateJoinOperatorsDisabled = function() {
      var e = this;
      this.eJoinOperatorsAnd.forEach(function(r, n) {
        return e.updateJoinOperatorDisabled(r, n);
      }), this.eJoinOperatorsOr.forEach(function(r, n) {
        return e.updateJoinOperatorDisabled(r, n);
      });
    }, t.prototype.updateJoinOperatorDisabled = function(e, r) {
      e.setDisabled(this.isReadOnly() || r > 0);
    }, t.prototype.resetInput = function(e) {
      this.setElementValue(e, null), this.setElementDisabled(e, this.isReadOnly());
    }, t.prototype.setConditionIntoUi = function(e, r) {
      var n = this, i = this.mapValuesFromModel(e);
      this.forEachInput(function(a, s, l, u) {
        l === r && n.setElementValue(a, i[s] != null ? i[s] : null);
      });
    }, t.prototype.setValueFromFloatingFilter = function(e) {
      var r = this;
      this.forEachInput(function(n, i, a, s) {
        r.setElementValue(n, i === 0 && a === 0 ? e : null);
      });
    }, t.prototype.isDefaultOperator = function(e) {
      return e === this.defaultJoinOperator;
    }, t.prototype.addChangedListeners = function(e, r) {
      var n = this;
      this.isReadOnly() || (e.onValueChange(this.listener), this.forEachPositionInput(r, function(i) {
        n.attachElementOnChange(i, n.listener);
      }));
    }, t.prototype.individualConditionPasses = function(e, r) {
      var n = this.getCellValue(e.node), i = this.mapValuesFromModel(r), a = this.optionsFactory.getCustomOption(r.type), s = this.evaluateCustomFilter(a, i, n);
      return s != null ? s : n == null ? this.evaluateNullValue(r.type) : this.evaluateNonNullValue(i, n, r, e);
    }, t.prototype.evaluateCustomFilter = function(e, r, n) {
      if (e != null) {
        var i = e.predicate;
        if (i != null && !r.some(function(a) {
          return a == null;
        }))
          return i(r, n);
      }
    }, t.prototype.isBlank = function(e) {
      return e == null || typeof e == "string" && e.trim().length === 0;
    }, t.prototype.hasInvalidInputs = function() {
      return !1;
    }, t.EMPTY = "empty", t.BLANK = "blank", t.NOT_BLANK = "notBlank", t.EQUALS = "equals", t.NOT_EQUAL = "notEqual", t.LESS_THAN = "lessThan", t.LESS_THAN_OR_EQUAL = "lessThanOrEqual", t.GREATER_THAN = "greaterThan", t.GREATER_THAN_OR_EQUAL = "greaterThanOrEqual", t.IN_RANGE = "inRange", t.CONTAINS = "contains", t.NOT_CONTAINS = "notContains", t.STARTS_WITH = "startsWith", t.ENDS_WITH = "endsWith", t;
  }(Ul)
), wI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jt = (
  /** @class */
  function(o) {
    wI(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setParams = function(e) {
      o.prototype.setParams.call(this, e), this.scalarFilterParams = e;
    }, t.prototype.evaluateNullValue = function(e) {
      switch (e) {
        case t.EQUALS:
        case t.NOT_EQUAL:
          if (this.scalarFilterParams.includeBlanksInEquals)
            return !0;
          break;
        case t.GREATER_THAN:
        case t.GREATER_THAN_OR_EQUAL:
          if (this.scalarFilterParams.includeBlanksInGreaterThan)
            return !0;
          break;
        case t.LESS_THAN:
        case t.LESS_THAN_OR_EQUAL:
          if (this.scalarFilterParams.includeBlanksInLessThan)
            return !0;
          break;
        case t.IN_RANGE:
          if (this.scalarFilterParams.includeBlanksInRange)
            return !0;
          break;
        case t.BLANK:
          return !0;
        case t.NOT_BLANK:
          return !1;
      }
      return !1;
    }, t.prototype.evaluateNonNullValue = function(e, r, n) {
      var i = this.comparator(), a = e[0] != null ? i(e[0], r) : 0;
      switch (n.type) {
        case t.EQUALS:
          return a === 0;
        case t.NOT_EQUAL:
          return a !== 0;
        case t.GREATER_THAN:
          return a > 0;
        case t.GREATER_THAN_OR_EQUAL:
          return a >= 0;
        case t.LESS_THAN:
          return a < 0;
        case t.LESS_THAN_OR_EQUAL:
          return a <= 0;
        case t.IN_RANGE: {
          var s = i(e[1], r);
          return this.scalarFilterParams.inRangeInclusive ? a >= 0 && s <= 0 : a > 0 && s < 0;
        }
        case t.BLANK:
          return this.isBlank(r);
        case t.NOT_BLANK:
          return !this.isBlank(r);
        default:
          return console.warn('AG Grid: Unexpected type of filter "' + n.type + '", it looks like the filter was configured with incorrect Filter Options'), !0;
      }
    }, t;
  }(pt)
), wE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uy = function() {
  return uy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, uy.apply(this, arguments);
}, _I = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, zC = 1e3, KC = 1 / 0, _E = (
  /** @class */
  function(o) {
    wE(t, o);
    function t(e, r, n) {
      var i = o.call(this, r, n) || this;
      return i.dateFilterParams = e, i;
    }
    return t.prototype.conditionToString = function(e, r) {
      var n = e.type, i = (r || {}).numberOfInputs, a = n == pt.IN_RANGE || i === 2, s = zn(e.dateFrom), l = zn(e.dateTo), u = this.dateFilterParams.inRangeFloatingFilterDateFormat;
      if (a) {
        var c = s !== null ? $p(s, u) : "null", d = l !== null ? $p(l, u) : "null";
        return c + "-" + d;
      }
      return s != null ? $p(s, u) : "" + n;
    }, t;
  }(Gm)
), bE = (
  /** @class */
  function(o) {
    wE(t, o);
    function t() {
      var e = o.call(this, "dateFilter") || this;
      return e.eConditionPanelsFrom = [], e.eConditionPanelsTo = [], e.dateConditionFromComps = [], e.dateConditionToComps = [], e.minValidYear = zC, e.maxValidYear = KC, e;
    }
    return t.prototype.afterGuiAttached = function(e) {
      o.prototype.afterGuiAttached.call(this, e), this.dateConditionFromComps[0].afterGuiAttached(e);
    }, t.prototype.mapValuesFromModel = function(e) {
      var r = e || {}, n = r.dateFrom, i = r.dateTo, a = r.type;
      return [
        n && zn(n) || null,
        i && zn(i) || null
      ].slice(0, this.getNumberOfInputs(a));
    }, t.prototype.comparator = function() {
      return this.dateFilterParams.comparator ? this.dateFilterParams.comparator : this.defaultComparator.bind(this);
    }, t.prototype.defaultComparator = function(e, r) {
      var n = r;
      return r == null || n < e ? -1 : n > e ? 1 : 0;
    }, t.prototype.setParams = function(e) {
      this.dateFilterParams = e, o.prototype.setParams.call(this, e);
      var r = function(n, i) {
        if (e[n] != null)
          if (isNaN(e[n]))
            console.warn("AG Grid: DateFilter " + n + " is not a number");
          else
            return e[n] == null ? i : Number(e[n]);
        return i;
      };
      this.minValidYear = r("minValidYear", zC), this.maxValidYear = r("maxValidYear", KC), this.minValidYear > this.maxValidYear && console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"), this.filterModelFormatter = new _E(this.dateFilterParams, this.localeService, this.optionsFactory);
    }, t.prototype.createDateCompWrapper = function(e) {
      var r = this, n = new gE(this.getContext(), this.userComponentFactory, {
        onDateChanged: function() {
          return r.onUiChanged();
        },
        filterParams: this.dateFilterParams
      }, e);
      return this.addDestroyFunc(function() {
        return n.destroy();
      }), n;
    }, t.prototype.setElementValue = function(e, r) {
      e.setDate(r);
    }, t.prototype.setElementDisplayed = function(e, r) {
      e.setDisplayed(r);
    }, t.prototype.setElementDisabled = function(e, r) {
      e.setDisabled(r);
    }, t.prototype.getDefaultFilterOptions = function() {
      return t.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.createValueElement = function() {
      var e = document.createElement("div");
      return e.classList.add("ag-filter-body"), this.createFromToElement(e, this.eConditionPanelsFrom, this.dateConditionFromComps, "from"), this.createFromToElement(e, this.eConditionPanelsTo, this.dateConditionToComps, "to"), e;
    }, t.prototype.createFromToElement = function(e, r, n, i) {
      var a = document.createElement("div");
      a.classList.add("ag-filter-" + i), a.classList.add("ag-filter-date-" + i), r.push(a), e.appendChild(a), n.push(this.createDateCompWrapper(a));
    }, t.prototype.removeValueElements = function(e, r) {
      this.removeDateComps(this.dateConditionFromComps, e, r), this.removeDateComps(this.dateConditionToComps, e, r), this.removeItems(this.eConditionPanelsFrom, e, r), this.removeItems(this.eConditionPanelsTo, e, r);
    }, t.prototype.removeDateComps = function(e, r, n) {
      var i = this.removeItems(e, r, n);
      i.forEach(function(a) {
        return a.destroy();
      });
    }, t.prototype.isConditionUiComplete = function(e) {
      var r = this;
      if (!o.prototype.isConditionUiComplete.call(this, e))
        return !1;
      var n = function(a) {
        return a != null && a.getUTCFullYear() >= r.minValidYear && a.getUTCFullYear() <= r.maxValidYear;
      }, i = !0;
      return this.forEachInput(function(a, s, l, u) {
        l !== e || !i || s >= u || (i = i && n(a.getDate()));
      }), i;
    }, t.prototype.areSimpleModelsEqual = function(e, r) {
      return e.dateFrom === r.dateFrom && e.dateTo === r.dateTo && e.type === r.type;
    }, t.prototype.getFilterType = function() {
      return "date";
    }, t.prototype.createCondition = function(e) {
      var r = this.getConditionType(e), n = {}, i = this.getValues(e);
      return i.length > 0 && (n.dateFrom = wn(i[0])), i.length > 1 && (n.dateTo = wn(i[1])), uy({ dateFrom: null, dateTo: null, filterType: this.getFilterType(), type: r }, n);
    }, t.prototype.resetPlaceholder = function() {
      var e = this.localeService.getLocaleTextFunc(), r = this.translate("dateFormatOoo"), n = e("ariaFilterValue", "Filter Value");
      this.forEachInput(function(i) {
        i.setInputPlaceholder(r), i.setInputAriaLabel(n);
      });
    }, t.prototype.getInputs = function(e) {
      return e >= this.dateConditionFromComps.length ? [null, null] : [this.dateConditionFromComps[e], this.dateConditionToComps[e]];
    }, t.prototype.getValues = function(e) {
      var r = [];
      return this.forEachPositionInput(e, function(n, i, a, s) {
        i < s && r.push(n.getDate());
      }), r;
    }, t.prototype.getModelAsString = function(e) {
      var r;
      return (r = this.filterModelFormatter.getModelAsString(e)) !== null && r !== void 0 ? r : "";
    }, t.DEFAULT_FILTER_OPTIONS = [
      jt.EQUALS,
      jt.GREATER_THAN,
      jt.LESS_THAN,
      jt.NOT_EQUAL,
      jt.IN_RANGE,
      jt.BLANK,
      jt.NOT_BLANK
    ], _I([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), t;
  }(jt)
), bI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), EE = (
  /** @class */
  function(o) {
    bI(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getDefaultDebounceMs = function() {
      return 0;
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.isEventFromFloatingFilter = function(e) {
      return e && e.afterFloatingFilter;
    }, t.prototype.isEventFromDataChange = function(e) {
      return e == null ? void 0 : e.afterDataChange;
    }, t.prototype.getLastType = function() {
      return this.lastType;
    }, t.prototype.isReadOnly = function() {
      return this.readOnly;
    }, t.prototype.setLastTypeFromModel = function(e) {
      if (!e) {
        this.lastType = this.optionsFactory.getDefaultOption();
        return;
      }
      var r = e.operator, n;
      if (r) {
        var i = e;
        n = i.conditions[0];
      } else
        n = e;
      this.lastType = n.type;
    }, t.prototype.canWeEditAfterModelFromParentFilter = function(e) {
      if (!e)
        return this.isTypeEditable(this.lastType);
      var r = e.operator;
      if (r)
        return !1;
      var n = e;
      return this.isTypeEditable(n.type);
    }, t.prototype.init = function(e) {
      this.optionsFactory = new yE(), this.optionsFactory.init(e.filterParams, this.getDefaultFilterOptions()), this.lastType = this.optionsFactory.getDefaultOption(), this.readOnly = !!e.filterParams.readOnly;
      var r = this.isTypeEditable(this.lastType);
      this.setEditable(r);
    }, t.prototype.doesFilterHaveSingleInput = function(e) {
      var r = this.optionsFactory.getCustomOption(e), n = (r || {}).numberOfInputs;
      return n == null || n == 1;
    }, t.prototype.isTypeEditable = function(e) {
      var r = [
        pt.IN_RANGE,
        pt.EMPTY,
        pt.BLANK,
        pt.NOT_BLANK
      ];
      return !!e && !this.isReadOnly() && this.doesFilterHaveSingleInput(e) && r.indexOf(e) < 0;
    }, t;
  }(te)
), EI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), lv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, OI = (
  /** @class */
  function(o) {
    EI(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`
      ) || this;
    }
    return t.prototype.getDefaultFilterOptions = function() {
      return bE.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.init = function(e) {
      o.prototype.init.call(this, e), this.params = e, this.filterParams = e.filterParams, this.createDateComponent();
      var r = this.localeService.getLocaleTextFunc();
      this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput", "Date Filter Input")), this.filterModelFormatter = new _E(this.filterParams, this.localeService, this.optionsFactory);
    }, t.prototype.setEditable = function(e) {
      Be(this.eDateWrapper, e), Be(this.eReadOnlyText.getGui(), !e);
    }, t.prototype.onParentModelChanged = function(e, r) {
      if (!(this.isEventFromFloatingFilter(r) || this.isEventFromDataChange(r))) {
        o.prototype.setLastTypeFromModel.call(this, e);
        var n = !this.isReadOnly() && this.canWeEditAfterModelFromParentFilter(e);
        if (this.setEditable(n), n) {
          if (e) {
            var i = e;
            this.dateComp.setDate(zn(i.dateFrom));
          } else
            this.dateComp.setDate(null);
          this.eReadOnlyText.setValue("");
        } else
          this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)), this.dateComp.setDate(null);
      }
    }, t.prototype.onDateChanged = function() {
      var e = this, r = this.dateComp.getDate(), n = wn(r);
      this.params.parentFilterInstance(function(i) {
        if (i) {
          var a = zn(n);
          i.onFloatingFilterChanged(e.getLastType() || null, a);
        }
      });
    }, t.prototype.createDateComponent = function() {
      var e = this, r = Ul.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs()), n = {
        onDateChanged: mi(this.onDateChanged.bind(this), r),
        filterParams: this.params.column.getColDef().filterParams
      };
      this.dateComp = new gE(this.getContext(), this.userComponentFactory, n, this.eDateWrapper), this.addDestroyFunc(function() {
        return e.dateComp.destroy();
      });
    }, t.prototype.getFilterModelFormatter = function() {
      return this.filterModelFormatter;
    }, lv([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), lv([
      G("eReadOnlyText")
    ], t.prototype, "eReadOnlyText", void 0), lv([
      G("eDateWrapper")
    ], t.prototype, "eDateWrapper", void 0), t;
  }(EE)
), xI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), TI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, RI = (
  /** @class */
  function(o) {
    xI(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`
      ) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      var r = this, n = this.gridOptionsService.getDocument(), i = this.eDateInput.getInputElement(), a = this.shouldUseBrowserDatePicker(e);
      a && (i.type = "date");
      var s = a && En();
      this.addManagedListener(i, "mousedown", function() {
        r.eDateInput.isDisabled() || s || i.focus();
      }), this.addManagedListener(i, "input", function(d) {
        d.target === n.activeElement && (r.eDateInput.isDisabled() || e.onDateChanged());
      });
      var l = e.filterParams || {}, u = l.minValidYear, c = l.maxValidYear;
      u && (i.min = u + "-01-01"), c && (i.max = c + "-12-31");
    }, t.prototype.getDate = function() {
      return zn(this.eDateInput.getValue());
    }, t.prototype.setDate = function(e) {
      this.eDateInput.setValue(wn(e, !1));
    }, t.prototype.setInputPlaceholder = function(e) {
      this.eDateInput.setInputPlaceholder(e);
    }, t.prototype.setDisabled = function(e) {
      this.eDateInput.setDisabled(e);
    }, t.prototype.afterGuiAttached = function(e) {
      (!e || !e.suppressFocus) && this.eDateInput.getInputElement().focus();
    }, t.prototype.shouldUseBrowserDatePicker = function(e) {
      return e.filterParams && e.filterParams.browserDatePicker != null ? e.filterParams.browserDatePicker : vf() || Cm() || En() && mm() >= 14.1;
    }, TI([
      G("eDateInput")
    ], t.prototype, "eDateInput", void 0), t;
  }(te)
), DI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), oa = (
  /** @class */
  function(o) {
    DI(t, o);
    function t(e, r, n) {
      return r === void 0 && (r = "ag-text-field"), n === void 0 && (n = "text"), o.call(this, e, r, n) || this;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this), this.config.allowedCharPattern && this.preventDisallowedCharacters();
    }, t.prototype.setValue = function(e, r) {
      var n = o.prototype.setValue.call(this, e, r);
      return this.eInput.value !== e && (this.eInput.value = z(e) ? e : ""), n;
    }, t.prototype.setStartValue = function(e) {
      this.setValue(e, !0);
    }, t.prototype.preventDisallowedCharacters = function() {
      var e = new RegExp("[" + this.config.allowedCharPattern + "]"), r = function(n) {
        Am(n) && n.key && !e.test(n.key) && n.preventDefault();
      };
      this.addManagedListener(this.eInput, "keydown", r), this.addManagedListener(this.eInput, "paste", function(n) {
        var i, a = (i = n.clipboardData) === null || i === void 0 ? void 0 : i.getData("text");
        a && a.split("").some(function(s) {
          return !e.test(s);
        }) && n.preventDefault();
      });
    }, t;
  }(Bo)
), PI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), km = (
  /** @class */
  function(o) {
    PI(t, o);
    function t(e) {
      return o.call(this, e, "ag-number-field", "number") || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      o.prototype.postConstruct.call(this), this.addManagedListener(this.eInput, "blur", function() {
        var r = parseFloat(e.eInput.value), n = isNaN(r) ? "" : e.normalizeValue(r.toString());
        e.value !== n && e.setValue(n);
      }), this.addManagedListener(this.eInput, "wheel", this.onWheel.bind(this)), this.eInput.step = "any";
    }, t.prototype.onWheel = function(e) {
      document.activeElement === this.eInput && e.preventDefault();
    }, t.prototype.normalizeValue = function(e) {
      if (e === "")
        return "";
      this.precision != null && (e = this.adjustPrecision(e));
      var r = parseFloat(e);
      return this.min != null && r < this.min ? e = this.min.toString() : this.max != null && r > this.max && (e = this.max.toString()), e;
    }, t.prototype.adjustPrecision = function(e, r) {
      if (this.precision == null)
        return e;
      if (r) {
        var n = parseFloat(e).toFixed(this.precision);
        return parseFloat(n).toString();
      }
      var i = String(e).split(".");
      if (i.length > 1) {
        if (i[1].length <= this.precision)
          return e;
        if (this.precision > 0)
          return i[0] + "." + i[1].slice(0, this.precision);
      }
      return i[0];
    }, t.prototype.setMin = function(e) {
      return this.min === e ? this : (this.min = e, zo(this.eInput, "min", e), this);
    }, t.prototype.setMax = function(e) {
      return this.max === e ? this : (this.max = e, zo(this.eInput, "max", e), this);
    }, t.prototype.setPrecision = function(e) {
      return this.precision = e, this;
    }, t.prototype.setStep = function(e) {
      return this.step === e ? this : (this.step = e, zo(this.eInput, "step", e), this);
    }, t.prototype.setValue = function(e, r) {
      var n = this;
      return this.setValueOrInputValue(function(i) {
        return o.prototype.setValue.call(n, i, r);
      }, function() {
        return n;
      }, e);
    }, t.prototype.setStartValue = function(e) {
      var r = this;
      return this.setValueOrInputValue(function(n) {
        return o.prototype.setValue.call(r, n, !0);
      }, function(n) {
        r.eInput.value = n;
      }, e);
    }, t.prototype.setValueOrInputValue = function(e, r, n) {
      if (z(n)) {
        var i = this.isScientificNotation(n);
        if (i && this.eInput.validity.valid)
          return e(n);
        if (!i) {
          n = this.adjustPrecision(n);
          var a = this.normalizeValue(n);
          i = n != a;
        }
        if (i)
          return r(n);
      }
      return e(n);
    }, t.prototype.getValue = function() {
      if (this.eInput.validity.valid) {
        var e = this.eInput.value;
        return this.isScientificNotation(e) ? this.adjustPrecision(e, !0) : o.prototype.getValue.call(this);
      }
    }, t.prototype.isScientificNotation = function(e) {
      return typeof e == "string" && e.includes("e");
    }, t;
  }(oa)
), OE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), xE = (
  /** @class */
  function(o) {
    OE(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.conditionToString = function(e, r) {
      var n = (r || {}).numberOfInputs, i = e.type == pt.IN_RANGE || n === 2;
      return i ? e.filter + "-" + e.filterTo : e.filter != null ? "" + e.filter : "" + e.type;
    }, t;
  }(Gm)
);
function TE(o) {
  var t = (o != null ? o : {}).allowedCharPattern;
  return t != null ? t : null;
}
var RE = (
  /** @class */
  function(o) {
    OE(t, o);
    function t() {
      var e = o.call(this, "numberFilter") || this;
      return e.eValuesFrom = [], e.eValuesTo = [], e;
    }
    return t.prototype.mapValuesFromModel = function(e) {
      var r = e || {}, n = r.filter, i = r.filterTo, a = r.type;
      return [
        this.processValue(n),
        this.processValue(i)
      ].slice(0, this.getNumberOfInputs(a));
    }, t.prototype.getDefaultDebounceMs = function() {
      return 500;
    }, t.prototype.comparator = function() {
      return function(e, r) {
        return e === r ? 0 : e < r ? 1 : -1;
      };
    }, t.prototype.setParams = function(e) {
      this.numberFilterParams = e, o.prototype.setParams.call(this, e), this.filterModelFormatter = new xE(this.localeService, this.optionsFactory);
    }, t.prototype.getDefaultFilterOptions = function() {
      return t.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.createValueElement = function() {
      var e = TE(this.numberFilterParams), r = document.createElement("div");
      return r.classList.add("ag-filter-body"), Ut(r, "presentation"), this.createFromToElement(r, this.eValuesFrom, "from", e), this.createFromToElement(r, this.eValuesTo, "to", e), r;
    }, t.prototype.createFromToElement = function(e, r, n, i) {
      var a = this.createManagedBean(i ? new oa({ allowedCharPattern: i }) : new km());
      a.addCssClass("ag-filter-" + n), a.addCssClass("ag-filter-filter"), r.push(a), e.appendChild(a.getGui());
    }, t.prototype.removeValueElements = function(e, r) {
      this.removeComponents(this.eValuesFrom, e, r), this.removeComponents(this.eValuesTo, e, r);
    }, t.prototype.getValues = function(e) {
      var r = this, n = [];
      return this.forEachPositionInput(e, function(i, a, s, l) {
        a < l && n.push(r.processValue(r.stringToFloat(i.getValue())));
      }), n;
    }, t.prototype.areSimpleModelsEqual = function(e, r) {
      return e.filter === r.filter && e.filterTo === r.filterTo && e.type === r.type;
    }, t.prototype.getFilterType = function() {
      return "number";
    }, t.prototype.processValue = function(e) {
      return e == null || isNaN(e) ? null : e;
    }, t.prototype.stringToFloat = function(e) {
      if (typeof e == "number")
        return e;
      var r = $o(e);
      return r != null && r.trim() === "" && (r = null), this.numberFilterParams.numberParser ? this.numberFilterParams.numberParser(r) : r == null || r.trim() === "-" ? null : parseFloat(r);
    }, t.prototype.createCondition = function(e) {
      var r = this.getConditionType(e), n = {
        filterType: this.getFilterType(),
        type: r
      }, i = this.getValues(e);
      return i.length > 0 && (n.filter = i[0]), i.length > 1 && (n.filterTo = i[1]), n;
    }, t.prototype.getInputs = function(e) {
      return e >= this.eValuesFrom.length ? [null, null] : [this.eValuesFrom[e], this.eValuesTo[e]];
    }, t.prototype.getModelAsString = function(e) {
      var r;
      return (r = this.filterModelFormatter.getModelAsString(e)) !== null && r !== void 0 ? r : "";
    }, t.prototype.hasInvalidInputs = function() {
      var e = !1;
      return this.forEachInput(function(r) {
        if (!r.getInputElement().validity.valid) {
          e = !0;
          return;
        }
      }), e;
    }, t.DEFAULT_FILTER_OPTIONS = [
      jt.EQUALS,
      jt.NOT_EQUAL,
      jt.LESS_THAN,
      jt.LESS_THAN_OR_EQUAL,
      jt.GREATER_THAN,
      jt.GREATER_THAN_OR_EQUAL,
      jt.IN_RANGE,
      jt.BLANK,
      jt.NOT_BLANK
    ], t;
  }(jt)
), DE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ah = function() {
  return ah = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ah.apply(this, arguments);
}, PE = (
  /** @class */
  function(o) {
    DE(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.conditionToString = function(e, r) {
      var n = (r || {}).numberOfInputs, i = e.type == pt.IN_RANGE || n === 2;
      return i ? e.filter + "-" + e.filterTo : e.filter != null ? "" + e.filter : "" + e.type;
    }, t;
  }(Gm)
), Sf = (
  /** @class */
  function(o) {
    DE(t, o);
    function t() {
      var e = o.call(this, "textFilter") || this;
      return e.eValuesFrom = [], e.eValuesTo = [], e;
    }
    return t.trimInput = function(e) {
      var r = e && e.trim();
      return r === "" ? e : r;
    }, t.prototype.getDefaultDebounceMs = function() {
      return 500;
    }, t.prototype.setParams = function(e) {
      this.textFilterParams = e, o.prototype.setParams.call(this, e), this.matcher = this.getTextMatcher(), this.formatter = this.textFilterParams.textFormatter || (this.textFilterParams.caseSensitive ? t.DEFAULT_FORMATTER : t.DEFAULT_LOWERCASE_FORMATTER), this.filterModelFormatter = new PE(this.localeService, this.optionsFactory);
    }, t.prototype.getTextMatcher = function() {
      var e = this.textFilterParams.textCustomComparator;
      return e ? (T.doOnce(function() {
        return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.");
      }, "textCustomComparator.deprecated"), function(r) {
        var n = r.filterOption, i = r.value, a = r.filterText;
        return e(n, i, a);
      }) : this.textFilterParams.textMatcher || t.DEFAULT_MATCHER;
    }, t.prototype.createCondition = function(e) {
      var r = this.getConditionType(e), n = {
        filterType: this.getFilterType(),
        type: r
      }, i = this.getValues(e);
      return i.length > 0 && (n.filter = i[0]), i.length > 1 && (n.filterTo = i[1]), n;
    }, t.prototype.getFilterType = function() {
      return "text";
    }, t.prototype.areSimpleModelsEqual = function(e, r) {
      return e.filter === r.filter && e.filterTo === r.filterTo && e.type === r.type;
    }, t.prototype.getInputs = function(e) {
      return e >= this.eValuesFrom.length ? [null, null] : [this.eValuesFrom[e], this.eValuesTo[e]];
    }, t.prototype.getValues = function(e) {
      var r = this, n = [];
      return this.forEachPositionInput(e, function(i, a, s, l) {
        if (a < l) {
          var u = $o(i.getValue()), c = (r.textFilterParams.trimInput ? t.trimInput(u) : u) || null;
          n.push(c), i.setValue(c, !0);
        }
      }), n;
    }, t.prototype.getDefaultFilterOptions = function() {
      return t.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.createValueElement = function() {
      var e = document.createElement("div");
      return e.classList.add("ag-filter-body"), Ut(e, "presentation"), this.createFromToElement(e, this.eValuesFrom, "from"), this.createFromToElement(e, this.eValuesTo, "to"), e;
    }, t.prototype.createFromToElement = function(e, r, n) {
      var i = this.createManagedBean(new oa());
      i.addCssClass("ag-filter-" + n), i.addCssClass("ag-filter-filter"), r.push(i), e.appendChild(i.getGui());
    }, t.prototype.removeValueElements = function(e, r) {
      this.removeComponents(this.eValuesFrom, e, r), this.removeComponents(this.eValuesTo, e, r);
    }, t.prototype.mapValuesFromModel = function(e) {
      var r = e || {}, n = r.filter, i = r.filterTo, a = r.type;
      return [
        n || null,
        i || null
      ].slice(0, this.getNumberOfInputs(a));
    }, t.prototype.evaluateNullValue = function(e) {
      var r = [
        pt.NOT_EQUAL,
        pt.NOT_CONTAINS,
        pt.BLANK
      ];
      return e ? r.indexOf(e) >= 0 : !1;
    }, t.prototype.evaluateNonNullValue = function(e, r, n, i) {
      var a = this, s = e.map(function(y) {
        return a.formatter(y);
      }) || [], l = this.formatter(r), u = this.textFilterParams, c = u.api, d = u.colDef, p = u.column, h = u.columnApi, f = u.context, v = u.textFormatter;
      if (n.type === pt.BLANK)
        return this.isBlank(r);
      if (n.type === pt.NOT_BLANK)
        return !this.isBlank(r);
      var g = {
        api: c,
        colDef: d,
        column: p,
        columnApi: h,
        context: f,
        node: i.node,
        data: i.data,
        filterOption: n.type,
        value: l,
        textFormatter: v
      };
      return s.some(function(y) {
        return a.matcher(ah(ah({}, g), { filterText: y }));
      });
    }, t.prototype.getModelAsString = function(e) {
      var r;
      return (r = this.filterModelFormatter.getModelAsString(e)) !== null && r !== void 0 ? r : "";
    }, t.DEFAULT_FILTER_OPTIONS = [
      pt.CONTAINS,
      pt.NOT_CONTAINS,
      pt.EQUALS,
      pt.NOT_EQUAL,
      pt.STARTS_WITH,
      pt.ENDS_WITH,
      pt.BLANK,
      pt.NOT_BLANK
    ], t.DEFAULT_FORMATTER = function(e) {
      return e;
    }, t.DEFAULT_LOWERCASE_FORMATTER = function(e) {
      return e == null ? null : e.toString().toLowerCase();
    }, t.DEFAULT_MATCHER = function(e) {
      var r = e.filterOption, n = e.value, i = e.filterText;
      if (i == null)
        return !1;
      switch (r) {
        case t.CONTAINS:
          return n.indexOf(i) >= 0;
        case t.NOT_CONTAINS:
          return n.indexOf(i) < 0;
        case t.EQUALS:
          return n === i;
        case t.NOT_EQUAL:
          return n != i;
        case t.STARTS_WITH:
          return n.indexOf(i) === 0;
        case t.ENDS_WITH:
          var a = n.lastIndexOf(i);
          return a >= 0 && a === n.length - i.length;
        default:
          return !1;
      }
    }, t;
  }(pt)
), AE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ME = (
  /** @class */
  function(o) {
    AE(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.params = e, r;
    }
    return t.prototype.setupGui = function(e) {
      this.eFloatingFilterTextInput = this.createManagedBean(new oa(this.params.config)), this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel), e.appendChild(this.eFloatingFilterTextInput.getGui());
    }, t.prototype.setEditable = function(e) {
      this.eFloatingFilterTextInput.setDisabled(!e);
    }, t.prototype.getValue = function() {
      return this.eFloatingFilterTextInput.getValue();
    }, t.prototype.setValue = function(e, r) {
      this.eFloatingFilterTextInput.setValue(e, r);
    }, t.prototype.addValueChangedListener = function(e) {
      var r = this.eFloatingFilterTextInput.getGui();
      this.addManagedListener(r, "input", e), this.addManagedListener(r, "keydown", e);
    }, t;
  }(W)
), IE = (
  /** @class */
  function(o) {
    AE(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.setTemplate(
        /* html */
        `
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `
      );
    }, t.prototype.getDefaultDebounceMs = function() {
      return 500;
    }, t.prototype.onParentModelChanged = function(e, r) {
      this.isEventFromFloatingFilter(r) || this.isEventFromDataChange(r) || (this.setLastTypeFromModel(e), this.setEditable(this.canWeEditAfterModelFromParentFilter(e)), this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)));
    }, t.prototype.init = function(e) {
      this.params = e;
      var r = this.columnModel.getDisplayNameForColumn(e.column, "header", !0), n = this.localeService.getLocaleTextFunc(), i = r + " " + n("ariaFilterInput", "Filter Input");
      if (this.floatingFilterInputService = this.createFloatingFilterInputService(i), this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer), o.prototype.init.call(this, e), this.applyActive = Ul.isUseApplyButton(this.params.filterParams), !this.isReadOnly()) {
        var a = Ul.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs()), s = mi(this.syncUpWithParentFilter.bind(this), a);
        this.floatingFilterInputService.addValueChangedListener(s);
      }
    }, t.prototype.syncUpWithParentFilter = function(e) {
      var r = this, n = e.key === H.ENTER;
      if (!(this.applyActive && !n)) {
        var i = this.floatingFilterInputService.getValue();
        this.params.filterParams.trimInput && (i = Sf.trimInput(i), this.floatingFilterInputService.setValue(i, !0)), this.params.parentFilterInstance(function(a) {
          a && a.onFloatingFilterChanged(r.getLastType() || null, i || null);
        });
      }
    }, t.prototype.setEditable = function(e) {
      this.floatingFilterInputService.setEditable(e);
    }, uv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), uv([
      G("eFloatingFilterInputContainer")
    ], t.prototype, "eFloatingFilterInputContainer", void 0), uv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(EE)
), FE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), AI = (
  /** @class */
  function(o) {
    FE(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.params = e, r.numberInputActive = !0, r;
    }
    return t.prototype.setupGui = function(e) {
      this.eFloatingFilterNumberInput = this.createManagedBean(new km()), this.eFloatingFilterTextInput = this.createManagedBean(new oa()), this.eFloatingFilterTextInput.setDisabled(!0), this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel), this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel), e.appendChild(this.eFloatingFilterNumberInput.getGui()), e.appendChild(this.eFloatingFilterTextInput.getGui());
    }, t.prototype.setEditable = function(e) {
      this.numberInputActive = e, this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive), this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive);
    }, t.prototype.getValue = function() {
      return this.getActiveInputElement().getValue();
    }, t.prototype.setValue = function(e, r) {
      this.getActiveInputElement().setValue(e, r);
    }, t.prototype.getActiveInputElement = function() {
      return this.numberInputActive ? this.eFloatingFilterNumberInput : this.eFloatingFilterTextInput;
    }, t.prototype.addValueChangedListener = function(e) {
      this.setupListeners(this.eFloatingFilterNumberInput.getGui(), e), this.setupListeners(this.eFloatingFilterTextInput.getGui(), e);
    }, t.prototype.setupListeners = function(e, r) {
      this.addManagedListener(e, "input", r), this.addManagedListener(e, "keydown", r);
    }, t;
  }(W)
), MI = (
  /** @class */
  function(o) {
    FE(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function(e) {
      o.prototype.init.call(this, e), this.filterModelFormatter = new xE(this.localeService, this.optionsFactory);
    }, t.prototype.getDefaultFilterOptions = function() {
      return RE.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.getFilterModelFormatter = function() {
      return this.filterModelFormatter;
    }, t.prototype.createFloatingFilterInputService = function(e) {
      var r = TE(this.params.filterParams);
      return r ? this.createManagedBean(new ME({
        config: { allowedCharPattern: r },
        ariaLabel: e
      })) : this.createManagedBean(new AI({ ariaLabel: e }));
    }, t;
  }(IE)
), II = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), FI = (
  /** @class */
  function(o) {
    II(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function(e) {
      o.prototype.init.call(this, e), this.filterModelFormatter = new PE(this.localeService, this.optionsFactory);
    }, t.prototype.getDefaultFilterOptions = function() {
      return Sf.DEFAULT_FILTER_OPTIONS;
    }, t.prototype.getFilterModelFormatter = function() {
      return this.filterModelFormatter;
    }, t.prototype.createFloatingFilterInputService = function(e) {
      return this.createManagedBean(new ME({
        ariaLabel: e
      }));
    }, t;
  }(IE)
), sr = (
  /** @class */
  function() {
    function o(t, e) {
      var r = this;
      e === void 0 && (e = !1), this.destroyFuncs = [], this.touching = !1, this.eventService = new Di(), this.eElement = t, this.preventMouseClick = e;
      var n = this.onTouchStart.bind(this), i = this.onTouchMove.bind(this), a = this.onTouchEnd.bind(this);
      this.eElement.addEventListener("touchstart", n, { passive: !0 }), this.eElement.addEventListener("touchmove", i, { passive: !0 }), this.eElement.addEventListener("touchend", a, { passive: !1 }), this.destroyFuncs.push(function() {
        r.eElement.removeEventListener("touchstart", n, { passive: !0 }), r.eElement.removeEventListener("touchmove", i, { passive: !0 }), r.eElement.removeEventListener("touchend", a, { passive: !1 });
      });
    }
    return o.prototype.getActiveTouch = function(t) {
      for (var e = 0; e < t.length; e++) {
        var r = t[e].identifier === this.touchStart.identifier;
        if (r)
          return t[e];
      }
      return null;
    }, o.prototype.addEventListener = function(t, e) {
      this.eventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.eventService.removeEventListener(t, e);
    }, o.prototype.onTouchStart = function(t) {
      var e = this;
      if (!this.touching) {
        this.touchStart = t.touches[0], this.touching = !0, this.moved = !1;
        var r = this.touchStart;
        window.setTimeout(function() {
          var n = e.touchStart === r;
          if (e.touching && n && !e.moved) {
            e.moved = !0;
            var i = {
              type: o.EVENT_LONG_TAP,
              touchStart: e.touchStart,
              touchEvent: t
            };
            e.eventService.dispatchEvent(i);
          }
        }, 500);
      }
    }, o.prototype.onTouchMove = function(t) {
      if (this.touching) {
        var e = this.getActiveTouch(t.touches);
        if (e) {
          var r = !Mm(e, this.touchStart, 4);
          r && (this.moved = !0);
        }
      }
    }, o.prototype.onTouchEnd = function(t) {
      if (this.touching) {
        if (!this.moved) {
          var e = {
            type: o.EVENT_TAP,
            touchStart: this.touchStart
          };
          this.eventService.dispatchEvent(e), this.checkForDoubleTap();
        }
        this.preventMouseClick && t.cancelable && t.preventDefault(), this.touching = !1;
      }
    }, o.prototype.checkForDoubleTap = function() {
      var t = (/* @__PURE__ */ new Date()).getTime();
      if (this.lastTapTime && this.lastTapTime > 0) {
        var e = t - this.lastTapTime;
        if (e > o.DOUBLE_TAP_MILLIS) {
          var r = {
            type: o.EVENT_DOUBLE_TAP,
            touchStart: this.touchStart
          };
          this.eventService.dispatchEvent(r), this.lastTapTime = null;
        } else
          this.lastTapTime = t;
      } else
        this.lastTapTime = t;
    }, o.prototype.destroy = function() {
      this.destroyFuncs.forEach(function(t) {
        return t();
      });
    }, o.EVENT_TAP = "tap", o.EVENT_DOUBLE_TAP = "doubleTap", o.EVENT_LONG_TAP = "longTap", o.DOUBLE_TAP_MILLIS = 500, o;
  }()
), LI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fa = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Vm = (
  /** @class */
  function(o) {
    LI(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return e || r.setTemplate(t.TEMPLATE), r;
    }
    return t.prototype.attachCustomElements = function(e, r, n, i, a) {
      this.eSortOrder = e, this.eSortAsc = r, this.eSortDesc = n, this.eSortMixed = i, this.eSortNone = a;
    }, t.prototype.setupSort = function(e, r) {
      var n = this;
      r === void 0 && (r = !1), this.column = e, this.suppressOrder = r, this.setupMultiSortIndicator();
      var i = !!this.column.getColDef().sortable;
      i && (this.addInIcon("sortAscending", this.eSortAsc, e), this.addInIcon("sortDescending", this.eSortDesc, e), this.addInIcon("sortUnSort", this.eSortNone, e), this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, function() {
        return n.onSortChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
        return n.onSortChanged();
      }), this.onSortChanged());
    }, t.prototype.addInIcon = function(e, r, n) {
      if (r != null) {
        var i = Et(e, this.gridOptionsService, n);
        i && r.appendChild(i);
      }
    }, t.prototype.onSortChanged = function() {
      this.updateIcons(), this.suppressOrder || this.updateSortOrder();
    }, t.prototype.updateIcons = function() {
      var e = this.sortController.getDisplaySortForColumn(this.column);
      if (this.eSortAsc) {
        var r = e === "asc";
        Be(this.eSortAsc, r, { skipAriaHidden: !0 });
      }
      if (this.eSortDesc) {
        var n = e === "desc";
        Be(this.eSortDesc, n, { skipAriaHidden: !0 });
      }
      if (this.eSortNone) {
        var i = !this.column.getColDef().unSortIcon && !this.gridOptionsService.is("unSortIcon"), a = e == null;
        Be(this.eSortNone, !i && a, { skipAriaHidden: !0 });
      }
    }, t.prototype.setupMultiSortIndicator = function() {
      var e = this;
      this.addInIcon("sortUnSort", this.eSortMixed, this.column);
      var r = this.column.getColDef().showRowGroup, n = this.gridOptionsService.isColumnsSortingCoupledToGroup();
      n && r && (this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, function() {
        return e.updateMultiSortIndicator();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
        return e.updateMultiSortIndicator();
      }), this.updateMultiSortIndicator());
    }, t.prototype.updateMultiSortIndicator = function() {
      if (this.eSortMixed) {
        var e = this.sortController.getDisplaySortForColumn(this.column) === "mixed";
        Be(this.eSortMixed, e, { skipAriaHidden: !0 });
      }
    }, t.prototype.updateSortOrder = function() {
      var e = this, r;
      if (this.eSortOrder) {
        var n = this.sortController.getColumnsWithSortingOrdered(), i = (r = this.sortController.getDisplaySortIndexForColumn(this.column)) !== null && r !== void 0 ? r : -1, a = n.some(function(l) {
          var u;
          return (u = e.sortController.getDisplaySortIndexForColumn(l)) !== null && u !== void 0 ? u : -1 >= 1;
        }), s = i >= 0 && a;
        Be(this.eSortOrder, s, { skipAriaHidden: !0 }), i >= 0 ? this.eSortOrder.innerHTML = (i + 1).toString() : Qr(this.eSortOrder);
      }
    }, t.TEMPLATE = `<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`, fa([
      G("eSortOrder")
    ], t.prototype, "eSortOrder", void 0), fa([
      G("eSortAsc")
    ], t.prototype, "eSortAsc", void 0), fa([
      G("eSortDesc")
    ], t.prototype, "eSortDesc", void 0), fa([
      G("eSortMixed")
    ], t.prototype, "eSortMixed", void 0), fa([
      G("eSortNone")
    ], t.prototype, "eSortNone", void 0), fa([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), fa([
      w("sortController")
    ], t.prototype, "sortController", void 0), t;
  }(te)
), NI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Nr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, GI = (
  /** @class */
  function(o) {
    NI(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.lastMovingChanged = 0, e;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.refresh = function(e) {
      return this.params = e, this.workOutTemplate() != this.currentTemplate || this.workOutShowMenu() != this.currentShowMenu || this.workOutSort() != this.currentSort ? !1 : (this.setDisplayName(e), !0);
    }, t.prototype.workOutTemplate = function() {
      var e = Ob(this.params.template, t.TEMPLATE);
      return e = e && e.trim ? e.trim() : e, e;
    }, t.prototype.init = function(e) {
      this.params = e, this.currentTemplate = this.workOutTemplate(), this.setTemplate(this.currentTemplate), this.setupTap(), this.setupIcons(e.column), this.setMenu(), this.setupSort(), this.setupFilterIcon(), this.setDisplayName(e);
    }, t.prototype.setDisplayName = function(e) {
      if (this.currentDisplayName != e.displayName) {
        this.currentDisplayName = e.displayName;
        var r = Oi(this.currentDisplayName);
        this.eText && (this.eText.innerHTML = r);
      }
    }, t.prototype.setupIcons = function(e) {
      this.addInIcon("menu", this.eMenu, e), this.addInIcon("filter", this.eFilter, e);
    }, t.prototype.addInIcon = function(e, r, n) {
      if (r != null) {
        var i = Et(e, this.gridOptionsService, n);
        i && r.appendChild(i);
      }
    }, t.prototype.setupTap = function() {
      var e = this, r = this.gridOptionsService;
      if (!r.is("suppressTouch")) {
        var n = new sr(this.getGui(), !0), i = r.is("suppressMenuHide"), a = i && z(this.eMenu), s = a ? new sr(this.eMenu, !0) : n;
        if (this.params.enableMenu) {
          var l = a ? "EVENT_TAP" : "EVENT_LONG_TAP", u = function(d) {
            r.api.showColumnMenuAfterMouseClick(e.params.column, d.touchStart);
          };
          this.addManagedListener(s, sr[l], u);
        }
        if (this.params.enableSorting) {
          var c = function(d) {
            var p = d.touchStart.target;
            i && e.eMenu.contains(p) || e.sortController.progressSort(e.params.column, !1, "uiColumnSorted");
          };
          this.addManagedListener(n, sr.EVENT_TAP, c);
        }
        this.addDestroyFunc(function() {
          return n.destroy();
        }), a && this.addDestroyFunc(function() {
          return s.destroy();
        });
      }
    }, t.prototype.workOutShowMenu = function() {
      var e = !this.gridOptionsService.is("suppressMenuHide"), r = na() && e, n = this.params.enableMenu && !r;
      return n;
    }, t.prototype.setMenu = function() {
      var e = this;
      if (this.eMenu) {
        if (this.currentShowMenu = this.workOutShowMenu(), !this.currentShowMenu) {
          eo(this.eMenu);
          return;
        }
        var r = this.gridOptionsService.is("suppressMenuHide");
        this.addManagedListener(this.eMenu, "click", function() {
          return e.showMenu(e.eMenu);
        }), this.eMenu.classList.toggle("ag-header-menu-always-show", r);
      }
    }, t.prototype.showMenu = function(e) {
      e || (e = this.eMenu), this.menuFactory.showMenuAfterButtonClick(this.params.column, e, "columnMenu");
    }, t.prototype.workOutSort = function() {
      return this.params.enableSorting;
    }, t.prototype.setupSort = function() {
      var e = this;
      if (this.currentSort = this.params.enableSorting, this.eSortIndicator || (this.eSortIndicator = this.context.createBean(new Vm(!0)), this.eSortIndicator.attachCustomElements(this.eSortOrder, this.eSortAsc, this.eSortDesc, this.eSortMixed, this.eSortNone)), this.eSortIndicator.setupSort(this.params.column), !!this.currentSort) {
        var r = this.gridOptionsService.get("multiSortKey") === "ctrl";
        this.addManagedListener(this.params.column, Me.EVENT_MOVING_CHANGED, function() {
          e.lastMovingChanged = (/* @__PURE__ */ new Date()).getTime();
        }), this.eLabel && this.addManagedListener(this.eLabel, "click", function(i) {
          var a = e.params.column.isMoving(), s = (/* @__PURE__ */ new Date()).getTime(), l = s - e.lastMovingChanged < 50, u = a || l;
          if (!u) {
            var c = r ? i.ctrlKey || i.metaKey : i.shiftKey;
            e.params.progressSort(c);
          }
        });
        var n = function() {
          if (e.addOrRemoveCssClass("ag-header-cell-sorted-asc", e.params.column.isSortAscending()), e.addOrRemoveCssClass("ag-header-cell-sorted-desc", e.params.column.isSortDescending()), e.addOrRemoveCssClass("ag-header-cell-sorted-none", e.params.column.isSortNone()), e.params.column.getColDef().showRowGroup) {
            var i = e.columnModel.getSourceColumnsForGroupColumn(e.params.column), a = i == null ? void 0 : i.every(function(l) {
              return e.params.column.getSort() == l.getSort();
            }), s = !a;
            e.addOrRemoveCssClass("ag-header-cell-sorted-mixed", s);
          }
        };
        this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, n), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, n);
      }
    }, t.prototype.setupFilterIcon = function() {
      this.eFilter && (this.addManagedListener(this.params.column, Me.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.onFilterChanged());
    }, t.prototype.onFilterChanged = function() {
      var e = this.params.column.isFilterActive();
      Be(this.eFilter, e, { skipAriaHidden: !0 });
    }, t.TEMPLATE = `<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`, Nr([
      w("sortController")
    ], t.prototype, "sortController", void 0), Nr([
      w("menuFactory")
    ], t.prototype, "menuFactory", void 0), Nr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Nr([
      G("eFilter")
    ], t.prototype, "eFilter", void 0), Nr([
      G("eSortIndicator")
    ], t.prototype, "eSortIndicator", void 0), Nr([
      G("eMenu")
    ], t.prototype, "eMenu", void 0), Nr([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), Nr([
      G("eText")
    ], t.prototype, "eText", void 0), Nr([
      G("eSortOrder")
    ], t.prototype, "eSortOrder", void 0), Nr([
      G("eSortAsc")
    ], t.prototype, "eSortAsc", void 0), Nr([
      G("eSortDesc")
    ], t.prototype, "eSortDesc", void 0), Nr([
      G("eSortMixed")
    ], t.prototype, "eSortMixed", void 0), Nr([
      G("eSortNone")
    ], t.prototype, "eSortNone", void 0), t;
  }(te)
), kI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), cv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, VI = (
  /** @class */
  function(o) {
    kI(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      this.params = e, this.checkWarnings(), this.setupLabel(), this.addGroupExpandIcon(), this.setupExpandIcons();
    }, t.prototype.checkWarnings = function() {
      var e = this.params;
      if (e.template) {
        var r = "AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";
        ze(function() {
          return console.warn(r);
        }, "HeaderGroupComp.templateNotSupported");
      }
    }, t.prototype.setupExpandIcons = function() {
      var e = this;
      this.addInIcon("columnGroupOpened", "agOpened"), this.addInIcon("columnGroupClosed", "agClosed");
      var r = function(a) {
        if (!_i(a)) {
          var s = !e.params.columnGroup.isExpanded();
          e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(), s, "uiColumnExpanded");
        }
      };
      this.addTouchAndClickListeners(this.eCloseIcon, r), this.addTouchAndClickListeners(this.eOpenIcon, r);
      var n = function(a) {
        io(a);
      };
      this.addManagedListener(this.eCloseIcon, "dblclick", n), this.addManagedListener(this.eOpenIcon, "dblclick", n), this.addManagedListener(this.getGui(), "dblclick", r), this.updateIconVisibility();
      var i = this.params.columnGroup.getProvidedColumnGroup();
      this.addManagedListener(i, qe.EVENT_EXPANDED_CHANGED, this.updateIconVisibility.bind(this)), this.addManagedListener(i, qe.EVENT_EXPANDABLE_CHANGED, this.updateIconVisibility.bind(this));
    }, t.prototype.addTouchAndClickListeners = function(e, r) {
      var n = new sr(e, !0);
      this.addManagedListener(n, sr.EVENT_TAP, r), this.addDestroyFunc(function() {
        return n.destroy();
      }), this.addManagedListener(e, "click", r);
    }, t.prototype.updateIconVisibility = function() {
      var e = this.params.columnGroup;
      if (e.isExpandable()) {
        var r = this.params.columnGroup.isExpanded();
        Be(this.eOpenIcon, r), Be(this.eCloseIcon, !r);
      } else
        Be(this.eOpenIcon, !1), Be(this.eCloseIcon, !1);
    }, t.prototype.addInIcon = function(e, r) {
      var n = Et(e, this.gridOptionsService, null);
      n && this.getRefElement(r).appendChild(n);
    }, t.prototype.addGroupExpandIcon = function() {
      if (!this.params.columnGroup.isExpandable()) {
        Be(this.eOpenIcon, !1), Be(this.eCloseIcon, !1);
        return;
      }
    }, t.prototype.setupLabel = function() {
      var e, r = this.params, n = r.displayName, i = r.columnGroup;
      if (z(n)) {
        var a = Oi(n);
        this.getRefElement("agLabel").innerHTML = a;
      }
      this.addOrRemoveCssClass("ag-sticky-label", !(!((e = i.getColGroupDef()) === null || e === void 0) && e.suppressStickyLabel));
    }, t.TEMPLATE = `<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`, cv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), cv([
      G("agOpened")
    ], t.prototype, "eOpenIcon", void 0), cv([
      G("agClosed")
    ], t.prototype, "eCloseIcon", void 0), t;
  }(te)
), BI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ps = (
  /** @class */
  function(o) {
    BI(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.isPopup = function() {
      return !0;
    }, t.prototype.setParentComponent = function(e) {
      e.addCssClass("ag-has-popup"), o.prototype.setParentComponent.call(this, e);
    }, t.prototype.destroy = function() {
      var e = this.parentComponent, r = e && e.isAlive();
      r && e.getGui().classList.remove("ag-has-popup"), o.prototype.destroy.call(this);
    }, t;
  }(te)
), HI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, WI = (
  /** @class */
  function(o) {
    HI(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e) {
      this.params = e, this.focusAfterAttached = e.cellStartedEdit, this.eTextArea.setMaxLength(e.maxLength || 200).setCols(e.cols || 60).setRows(e.rows || 10), z(e.value, !0) && this.eTextArea.setValue(e.value.toString(), !0), this.addGuiEventListener("keydown", this.onKeyDown.bind(this)), this.activateTabIndex();
    }, t.prototype.onKeyDown = function(e) {
      var r = e.key;
      (r === H.LEFT || r === H.UP || r === H.RIGHT || r === H.DOWN || e.shiftKey && r === H.ENTER) && e.stopPropagation();
    }, t.prototype.afterGuiAttached = function() {
      var e = this.localeService.getLocaleTextFunc();
      this.eTextArea.setInputAriaLabel(e("ariaInputEditor", "Input Editor")), this.focusAfterAttached && this.eTextArea.getFocusableElement().focus();
    }, t.prototype.getValue = function() {
      var e = this.eTextArea.getValue();
      return !z(e) && !z(this.params.value) ? this.params.value : this.params.parseValue(e);
    }, t.TEMPLATE = `<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`, jI([
      G("eTextArea")
    ], t.prototype, "eTextArea", void 0), t;
  }(ps)
), $I = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), YC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, UI = (
  /** @class */
  function(o) {
    $I(t, o);
    function t() {
      var e = o.call(this, '<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>') || this;
      return e.startedByEnter = !1, e;
    }
    return t.prototype.init = function(e) {
      var r = this;
      if (this.focusAfterAttached = e.cellStartedEdit, me(e.values)) {
        console.warn("AG Grid: no values found for select cellEditor");
        return;
      }
      this.startedByEnter = e.eventKey != null ? e.eventKey === H.ENTER : !1;
      var n = !1;
      e.values.forEach(function(i) {
        var a = { value: i }, s = r.valueFormatterService.formatValue(e.column, null, i), l = s != null;
        a.text = l ? s : i, r.eSelect.addOption(a), n = n || e.value === i;
      }), n ? this.eSelect.setValue(e.value, !0) : e.values.length && this.eSelect.setValue(e.values[0], !0), this.gridOptionsService.get("editType") !== "fullRow" && this.addManagedListener(this.eSelect, nu.EVENT_ITEM_SELECTED, function() {
        return e.stopEditing();
      });
    }, t.prototype.afterGuiAttached = function() {
      this.focusAfterAttached && this.eSelect.getFocusableElement().focus(), this.startedByEnter && this.eSelect.showPicker();
    }, t.prototype.focusIn = function() {
      this.eSelect.getFocusableElement().focus();
    }, t.prototype.getValue = function() {
      return this.eSelect.getValue();
    }, t.prototype.isPopup = function() {
      return !1;
    }, YC([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), YC([
      G("eSelect")
    ], t.prototype, "eSelect", void 0), t;
  }(ps)
), zI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), KI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, wf = (
  /** @class */
  function(o) {
    zI(t, o);
    function t(e) {
      var r = o.call(
        this,
        /* html */
        `
            <div class="ag-cell-edit-wrapper">
                ` + e.getTemplate() + `
            </div>`
      ) || this;
      return r.cellEditorInput = e, r;
    }
    return t.prototype.init = function(e) {
      this.params = e;
      var r = this.eInput;
      this.cellEditorInput.init(r, e);
      var n;
      if (e.cellStartedEdit) {
        this.focusAfterAttached = !0;
        var i = e.eventKey;
        i === H.BACKSPACE || e.eventKey === H.DELETE ? n = "" : i && i.length === 1 ? n = i : (n = this.cellEditorInput.getStartValue(), i !== H.F2 && (this.highlightAllOnFocus = !0));
      } else
        this.focusAfterAttached = !1, n = this.cellEditorInput.getStartValue();
      n != null && r.setStartValue(n), this.addManagedListener(r.getGui(), "keydown", function(a) {
        var s = a.key;
        (s === H.PAGE_UP || s === H.PAGE_DOWN) && a.preventDefault();
      });
    }, t.prototype.afterGuiAttached = function() {
      var e, r, n = this.localeService.getLocaleTextFunc(), i = this.eInput;
      if (i.setInputAriaLabel(n("ariaInputEditor", "Input Editor")), !!this.focusAfterAttached) {
        En() || i.getFocusableElement().focus();
        var a = i.getInputElement();
        this.highlightAllOnFocus ? a.select() : (r = (e = this.cellEditorInput).setCaret) === null || r === void 0 || r.call(e);
      }
    }, t.prototype.focusIn = function() {
      var e = this.eInput, r = e.getFocusableElement(), n = e.getInputElement();
      r.focus(), n.select();
    }, t.prototype.getValue = function() {
      return this.cellEditorInput.getValue();
    }, t.prototype.isPopup = function() {
      return !1;
    }, KI([
      G("eInput")
    ], t.prototype, "eInput", void 0), t;
  }(ps)
), YI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), XI = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.getTemplate = function() {
      return (
        /* html */
        '<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'
      );
    }, o.prototype.init = function(t, e) {
      this.eInput = t, this.params = e, e.maxLength != null && t.setMaxLength(e.maxLength);
    }, o.prototype.getValue = function() {
      var t = this.eInput.getValue();
      return !z(t) && !z(this.params.value) ? this.params.value : this.params.parseValue(t);
    }, o.prototype.getStartValue = function() {
      var t = this.params.useFormatter || this.params.column.getColDef().refData;
      return t ? this.params.formatValue(this.params.value) : this.params.value;
    }, o.prototype.setCaret = function() {
      var t = this.eInput.getValue(), e = z(t) && t.length || 0;
      e && this.eInput.getInputElement().setSelectionRange(e, e);
    }, o;
  }()
), XC = (
  /** @class */
  function(o) {
    YI(t, o);
    function t() {
      return o.call(this, new XI()) || this;
    }
    return t;
  }(wf)
), qI = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ZI = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, QI = "↑", JI = "↓", eF = (
  /** @class */
  function(o) {
    qI(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.refreshCount = 0, e;
    }
    return t.prototype.init = function(e) {
      this.eValue = this.queryForHtmlElement(".ag-value-change-value"), this.eDelta = this.queryForHtmlElement(".ag-value-change-delta"), this.refresh(e);
    }, t.prototype.showDelta = function(e, r) {
      var n = Math.abs(r), i = e.formatValue(n), a = z(i) ? i : n, s = r >= 0;
      s ? this.eDelta.innerHTML = QI + a : this.eDelta.innerHTML = JI + a, this.eDelta.classList.toggle("ag-value-change-delta-up", s), this.eDelta.classList.toggle("ag-value-change-delta-down", !s);
    }, t.prototype.setTimerToRemoveDelta = function() {
      var e = this;
      this.refreshCount++;
      var r = this.refreshCount;
      window.setTimeout(function() {
        r === e.refreshCount && e.hideDeltaValue();
      }, 2e3);
    }, t.prototype.hideDeltaValue = function() {
      this.eValue.classList.remove("ag-value-change-value-highlight"), Qr(this.eDelta);
    }, t.prototype.refresh = function(e) {
      var r = e.value;
      if (r === this.lastValue || (z(e.valueFormatted) ? this.eValue.innerHTML = e.valueFormatted : z(e.value) ? this.eValue.innerHTML = r : Qr(this.eValue), this.filterManager.isSuppressFlashingCellsBecauseFiltering()))
        return !1;
      if (typeof r == "number" && typeof this.lastValue == "number") {
        var n = r - this.lastValue;
        this.showDelta(e, n);
      }
      return this.lastValue && this.eValue.classList.add("ag-value-change-value-highlight"), this.setTimerToRemoveDelta(), this.lastValue = r, !0;
    }, t.TEMPLATE = '<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>', ZI([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), t;
  }(te)
), tF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), rF = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nF = (
  /** @class */
  function(o) {
    tF(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.refreshCount = 0, e.eCurrent = e.queryForHtmlElement(".ag-value-slide-current"), e;
    }
    return t.prototype.init = function(e) {
      this.refresh(e);
    }, t.prototype.addSlideAnimation = function() {
      var e = this;
      this.refreshCount++;
      var r = this.refreshCount;
      this.ePrevious && this.getGui().removeChild(this.ePrevious), this.ePrevious = nr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'), this.ePrevious.innerHTML = this.eCurrent.innerHTML, this.getGui().insertBefore(this.ePrevious, this.eCurrent), window.setTimeout(function() {
        r === e.refreshCount && e.ePrevious.classList.add("ag-value-slide-out-end");
      }, 50), window.setTimeout(function() {
        r === e.refreshCount && (e.getGui().removeChild(e.ePrevious), e.ePrevious = null);
      }, 3e3);
    }, t.prototype.refresh = function(e) {
      var r = e.value;
      return me(r) && (r = ""), r === this.lastValue || this.filterManager.isSuppressFlashingCellsBecauseFiltering() ? !1 : (this.addSlideAnimation(), this.lastValue = r, z(e.valueFormatted) ? this.eCurrent.innerHTML = e.valueFormatted : z(e.value) ? this.eCurrent.innerHTML = r : Qr(this.eCurrent), !0);
    }, t.TEMPLATE = `<span>
            <span class="ag-value-slide-current"></span>
        </span>`, rF([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), t;
  }(te)
), Cl = function() {
  return Cl = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Cl.apply(this, arguments);
}, Te = (
  /** @class */
  function() {
    function o(t) {
      this.rowIndex = null, this.key = null, this.childrenMapped = {}, this.displayed = !1, this.rowTop = null, this.oldRowTop = null, this.selectable = !0, this.__objectId = o.OBJECT_ID_SEQUENCE++, this.__autoHeights = {}, this.alreadyRendered = !1, this.highlighted = null, this.hovered = !1, this.selected = !1, this.beans = t;
    }
    return o.prototype.setData = function(t) {
      this.setDataCommon(t, !1);
    }, o.prototype.updateData = function(t) {
      this.setDataCommon(t, !0);
    }, o.prototype.setDataCommon = function(t, e) {
      var r = this.data;
      this.data = t, this.beans.valueCache.onDataChanged(), this.updateDataOnDetailNode(), this.checkRowSelectable(), this.resetQuickFilterAggregateText();
      var n = this.createDataChangedEvent(t, r, e);
      this.dispatchLocalEvent(n);
    }, o.prototype.updateDataOnDetailNode = function() {
      this.detailNode && (this.detailNode.data = this.data);
    }, o.prototype.createDataChangedEvent = function(t, e, r) {
      return {
        type: o.EVENT_DATA_CHANGED,
        node: this,
        oldData: e,
        newData: t,
        update: r
      };
    }, o.prototype.createLocalRowEvent = function(t) {
      return {
        type: t,
        node: this
      };
    }, o.prototype.getRowIndexString = function() {
      return this.rowPinned === "top" ? "t-" + this.rowIndex : this.rowPinned === "bottom" ? "b-" + this.rowIndex : this.rowIndex.toString();
    }, o.prototype.createDaemonNode = function() {
      var t = new o(this.beans);
      return t.id = this.id, t.data = this.data, t.__daemon = !0, t.selected = this.selected, t.level = this.level, t;
    }, o.prototype.setDataAndId = function(t, e) {
      var r = z(this.id) ? this.createDaemonNode() : null, n = this.data;
      this.data = t, this.updateDataOnDetailNode(), this.setId(e), this.beans.selectionService.syncInRowNode(this, r), this.checkRowSelectable();
      var i = this.createDataChangedEvent(t, n, !1);
      this.dispatchLocalEvent(i);
    }, o.prototype.checkRowSelectable = function() {
      var t = this.beans.gridOptionsService.get("isRowSelectable");
      this.setRowSelectable(t ? t(this) : !0);
    }, o.prototype.setRowSelectable = function(t) {
      if (this.selectable !== t) {
        this.selectable = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_SELECTABLE_CHANGED));
        var e = this.beans.gridOptionsService.is("groupSelectsChildren");
        if (e) {
          var r = this.calculateSelectedFromChildren();
          this.setSelectedParams({
            newValue: r != null ? r : !1,
            source: "selectableChanged"
          });
        }
      }
    }, o.prototype.setId = function(t) {
      var e = this.beans.gridOptionsService.getCallback("getRowId");
      if (e)
        if (this.data) {
          var r = this.getGroupKeys(!0);
          this.id = e({
            data: this.data,
            parentKeys: r.length > 0 ? r : void 0,
            level: this.level
          }), this.id !== null && typeof this.id == "string" && this.id.startsWith(o.ID_PREFIX_ROW_GROUP) && console.error("AG Grid: Row IDs cannot start with " + o.ID_PREFIX_ROW_GROUP + ", this is a reserved prefix for AG Grid's row grouping feature."), this.id !== null && typeof this.id != "string" && (this.id = "" + this.id);
        } else
          this.id = void 0;
      else
        this.id = t;
    }, o.prototype.getGroupKeys = function(t) {
      t === void 0 && (t = !1);
      var e = [], r = this;
      for (t && (r = r.parent); r && r.level >= 0; )
        e.push(r.key), r = r.parent;
      return e.reverse(), e;
    }, o.prototype.isPixelInRange = function(t) {
      return !z(this.rowTop) || !z(this.rowHeight) ? !1 : t >= this.rowTop && t < this.rowTop + this.rowHeight;
    }, o.prototype.setFirstChild = function(t) {
      this.firstChild !== t && (this.firstChild = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_FIRST_CHILD_CHANGED)));
    }, o.prototype.setLastChild = function(t) {
      this.lastChild !== t && (this.lastChild = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_LAST_CHILD_CHANGED)));
    }, o.prototype.setChildIndex = function(t) {
      this.childIndex !== t && (this.childIndex = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_CHILD_INDEX_CHANGED)));
    }, o.prototype.setRowTop = function(t) {
      this.oldRowTop = this.rowTop, this.rowTop !== t && (this.rowTop = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_TOP_CHANGED)), this.setDisplayed(t !== null));
    }, o.prototype.clearRowTopAndRowIndex = function() {
      this.oldRowTop = null, this.setRowTop(null), this.setRowIndex(null);
    }, o.prototype.setDisplayed = function(t) {
      this.displayed !== t && (this.displayed = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DISPLAYED_CHANGED)));
    }, o.prototype.setDragging = function(t) {
      this.dragging !== t && (this.dragging = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DRAGGING_CHANGED)));
    }, o.prototype.setHighlighted = function(t) {
      t !== this.highlighted && (this.highlighted = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HIGHLIGHT_CHANGED)));
    }, o.prototype.setHovered = function(t) {
      this.hovered !== t && (this.hovered = t);
    }, o.prototype.isHovered = function() {
      return this.hovered;
    }, o.prototype.setAllChildrenCount = function(t) {
      this.allChildrenCount !== t && (this.allChildrenCount = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ALL_CHILDREN_COUNT_CHANGED)));
    }, o.prototype.setMaster = function(t) {
      this.master !== t && (this.master && !t && (this.expanded = !1), this.master = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_MASTER_CHANGED)));
    }, o.prototype.setGroup = function(t) {
      this.group !== t && (this.group && !t && (this.expanded = !1), this.group = t, this.updateHasChildren(), this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_GROUP_CHANGED)));
    }, o.prototype.setRowHeight = function(t, e) {
      e === void 0 && (e = !1), this.rowHeight = t, this.rowHeightEstimated = e, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HEIGHT_CHANGED));
    }, o.prototype.setRowAutoHeight = function(t, e) {
      this.__autoHeights || (this.__autoHeights = {}), this.__autoHeights[e.getId()] = t, t != null && (this.checkAutoHeightsDebounced == null && (this.checkAutoHeightsDebounced = mi(this.checkAutoHeights.bind(this), 1)), this.checkAutoHeightsDebounced());
    }, o.prototype.checkAutoHeights = function() {
      var t = this, e = !1, r = !0, n = 0, i = this.__autoHeights;
      if (i != null) {
        var a = this.beans.columnModel.getAllDisplayedAutoHeightCols();
        if (a.forEach(function(l) {
          var u = i[l.getId()];
          if (u == null)
            if (t.beans.columnModel.isColSpanActive()) {
              var c = [];
              switch (l.getPinned()) {
                case "left":
                  c = t.beans.columnModel.getDisplayedLeftColumnsForRow(t);
                  break;
                case "right":
                  c = t.beans.columnModel.getDisplayedRightColumnsForRow(t);
                  break;
                case null:
                  c = t.beans.columnModel.getViewportCenterColumnsForRow(t);
                  break;
              }
              if (c.includes(l)) {
                e = !0;
                return;
              }
              u = -1;
            } else {
              e = !0;
              return;
            }
          else
            r = !1;
          u > n && (n = u);
        }), !e && ((r || n < 10) && (n = this.beans.gridOptionsService.getRowHeightForNode(this).height), n != this.rowHeight)) {
          this.setRowHeight(n);
          var s = this.beans.rowModel;
          s.onRowHeightChangedDebounced && s.onRowHeightChangedDebounced();
        }
      }
    }, o.prototype.setRowIndex = function(t) {
      this.rowIndex !== t && (this.rowIndex = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ROW_INDEX_CHANGED)));
    }, o.prototype.setUiLevel = function(t) {
      this.uiLevel !== t && (this.uiLevel = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_UI_LEVEL_CHANGED)));
    }, o.prototype.setExpanded = function(t, e) {
      if (this.expanded !== t) {
        this.expanded = t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_EXPANDED_CHANGED));
        var r = Object.assign({}, this.createGlobalRowEvent(R.EVENT_ROW_GROUP_OPENED), {
          expanded: t,
          event: e || null
        });
        this.beans.rowNodeEventThrottle.dispatchExpanded(r), this.beans.gridOptionsService.is("groupIncludeFooter") && this.beans.rowRenderer.refreshCells({ rowNodes: [this] });
      }
    }, o.prototype.createGlobalRowEvent = function(t) {
      return {
        type: t,
        node: this,
        data: this.data,
        rowIndex: this.rowIndex,
        rowPinned: this.rowPinned,
        context: this.beans.gridOptionsService.context,
        api: this.beans.gridOptionsService.api,
        columnApi: this.beans.gridOptionsService.columnApi
      };
    }, o.prototype.dispatchLocalEvent = function(t) {
      this.eventService && this.eventService.dispatchEvent(t);
    }, o.prototype.setDataValue = function(t, e, r) {
      var n = this, i = function() {
        var u;
        return typeof t != "string" ? t : (u = n.beans.columnModel.getGridColumn(t)) !== null && u !== void 0 ? u : n.beans.columnModel.getPrimaryColumn(t);
      }, a = i(), s = this.getValueFromValueService(a);
      if (this.beans.gridOptionsService.is("readOnlyEdit"))
        return this.dispatchEventForSaveValueReadOnly(a, s, e, r), !1;
      var l = this.beans.valueService.setValue(this, a, e, r);
      return this.dispatchCellChangedEvent(a, e, s), this.checkRowSelectable(), l;
    }, o.prototype.getValueFromValueService = function(t) {
      var e = this.leafGroup && this.beans.columnModel.isPivotMode(), r = this.group && this.expanded && !this.footer && !e, n = this.beans.gridOptionsService.is("groupIncludeFooter"), i = this.beans.gridOptionsService.is("groupSuppressBlankHeader"), a = r && n && !i, s = this.beans.valueService.getValue(t, this, !1, a);
      return s;
    }, o.prototype.dispatchEventForSaveValueReadOnly = function(t, e, r, n) {
      var i = {
        type: R.EVENT_CELL_EDIT_REQUEST,
        event: null,
        rowIndex: this.rowIndex,
        rowPinned: this.rowPinned,
        column: t,
        colDef: t.getColDef(),
        context: this.beans.gridOptionsService.context,
        api: this.beans.gridOptionsService.api,
        columnApi: this.beans.gridOptionsService.columnApi,
        data: this.data,
        node: this,
        oldValue: e,
        newValue: r,
        value: r,
        source: n
      };
      this.beans.eventService.dispatchEvent(i);
    }, o.prototype.setGroupValue = function(t, e) {
      var r = this.beans.columnModel.getGridColumn(t);
      me(this.groupData) && (this.groupData = {});
      var n = r.getColId(), i = this.groupData[n];
      i !== e && (this.groupData[n] = e, this.dispatchCellChangedEvent(r, e, i));
    }, o.prototype.setAggData = function(t) {
      var e = this, r = mb([this.aggData, t]), n = this.aggData;
      this.aggData = t, this.eventService && r.forEach(function(i) {
        var a = e.beans.columnModel.getGridColumn(i), s = e.aggData ? e.aggData[i] : void 0, l = n ? n[i] : void 0;
        e.dispatchCellChangedEvent(a, s, l);
      });
    }, o.prototype.updateHasChildren = function() {
      var t = this.group && !this.footer || this.childrenAfterGroup && this.childrenAfterGroup.length > 0, e = this.beans.gridOptionsService.isRowModelType("serverSide");
      if (e) {
        var r = this.beans.gridOptionsService.isTreeData(), n = this.beans.gridOptionsService.get("isServerSideGroup");
        t = !this.stub && !this.footer && (r ? !!n && n(this.data) : !!this.group);
      }
      t !== this.__hasChildren && (this.__hasChildren = !!t, this.eventService && this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HAS_CHILDREN_CHANGED)));
    }, o.prototype.hasChildren = function() {
      return this.__hasChildren == null && this.updateHasChildren(), this.__hasChildren;
    }, o.prototype.isEmptyRowGroupNode = function() {
      return this.group && Kr(this.childrenAfterGroup);
    }, o.prototype.dispatchCellChangedEvent = function(t, e, r) {
      var n = {
        type: o.EVENT_CELL_CHANGED,
        node: this,
        column: t,
        newValue: e,
        oldValue: r
      };
      this.dispatchLocalEvent(n);
    }, o.prototype.resetQuickFilterAggregateText = function() {
      this.quickFilterAggregateText = null;
    }, o.prototype.isExpandable = function() {
      return !!(this.hasChildren() && !this.footer || this.master);
    }, o.prototype.isSelected = function() {
      return this.footer ? this.sibling.isSelected() : this.selected;
    }, o.prototype.depthFirstSearch = function(t) {
      this.childrenAfterGroup && this.childrenAfterGroup.forEach(function(e) {
        return e.depthFirstSearch(t);
      }), t(this);
    }, o.prototype.calculateSelectedFromChildren = function() {
      var t, e = !1, r = !1, n = !1;
      if (!(!((t = this.childrenAfterGroup) === null || t === void 0) && t.length))
        return this.selectable ? this.selected : null;
      for (var i = 0; i < this.childrenAfterGroup.length; i++) {
        var a = this.childrenAfterGroup[i], s = a.isSelected();
        if (!a.selectable) {
          var l = a.calculateSelectedFromChildren();
          if (l === null)
            continue;
          s = l;
        }
        switch (s) {
          case !0:
            e = !0;
            break;
          case !1:
            r = !0;
            break;
          default:
            n = !0;
            break;
        }
      }
      if (!(n || e && r))
        return e ? !0 : r ? !1 : this.selectable ? this.selected : null;
    }, o.prototype.setSelectedInitialValue = function(t) {
      this.selected = t;
    }, o.prototype.selectThisNode = function(t, e, r) {
      r === void 0 && (r = "api");
      var n = !this.selectable && t, i = this.selected === t;
      if (n || i)
        return !1;
      this.selected = t, this.eventService && this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_ROW_SELECTED));
      var a = Cl(Cl({}, this.createGlobalRowEvent(R.EVENT_ROW_SELECTED)), { event: e || null, source: r });
      return this.beans.eventService.dispatchEvent(a), !0;
    }, o.prototype.setSelected = function(t, e, r) {
      if (e === void 0 && (e = !1), r === void 0 && (r = "api"), typeof r == "boolean") {
        console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");
        return;
      }
      this.setSelectedParams({
        newValue: t,
        clearSelection: e,
        rangeSelect: !1,
        source: r
      });
    }, o.prototype.setSelectedParams = function(t) {
      return this.rowPinned ? (console.warn("AG Grid: cannot select pinned rows"), 0) : this.id === void 0 ? (console.warn("AG Grid: cannot select node until id for node is known"), 0) : this.beans.selectionService.setNodesSelected(Cl(Cl({}, t), { nodes: [this.footer ? this.sibling : this] }));
    }, o.prototype.isRowPinned = function() {
      return this.rowPinned === "top" || this.rowPinned === "bottom";
    }, o.prototype.isParentOfNode = function(t) {
      for (var e = this.parent; e; ) {
        if (e === t)
          return !0;
        e = e.parent;
      }
      return !1;
    }, o.prototype.addEventListener = function(t, e) {
      this.eventService || (this.eventService = new Di()), this.eventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.eventService && (this.eventService.removeEventListener(t, e), this.eventService.noRegisteredListenersExist() && (this.eventService = null));
    }, o.prototype.onMouseEnter = function() {
      this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_ENTER));
    }, o.prototype.onMouseLeave = function() {
      this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_LEAVE));
    }, o.prototype.getFirstChildOfFirstChild = function(t) {
      for (var e = this, r = !0, n = !1, i = null; r && !n; ) {
        var a = e.parent, s = z(a) && e.firstChild;
        s ? a.rowGroupColumn === t && (n = !0, i = a) : r = !1, e = a;
      }
      return n ? i : null;
    }, o.prototype.isFullWidthCell = function() {
      var t = this.beans.gridOptionsService.getCallback("isFullWidthRow");
      return t ? t({ rowNode: this }) : !1;
    }, o.prototype.getRoute = function() {
      if (this.key != null) {
        for (var t = [], e = this; e.key != null; )
          t.push(e.key), e = e.parent;
        return t.reverse();
      }
    }, o.prototype.createFooter = function() {
      var t = this;
      if (!this.sibling) {
        var e = new o(this.beans);
        Object.keys(this).forEach(function(r) {
          e[r] = t[r];
        }), e.footer = !0, e.setRowTop(null), e.setRowIndex(null), e.oldRowTop = null, e.id = "rowGroupFooter_" + this.id, e.sibling = this, this.sibling = e;
      }
    }, o.ID_PREFIX_ROW_GROUP = "row-group-", o.ID_PREFIX_TOP_PINNED = "t-", o.ID_PREFIX_BOTTOM_PINNED = "b-", o.OBJECT_ID_SEQUENCE = 0, o.EVENT_ROW_SELECTED = "rowSelected", o.EVENT_DATA_CHANGED = "dataChanged", o.EVENT_CELL_CHANGED = "cellChanged", o.EVENT_ALL_CHILDREN_COUNT_CHANGED = "allChildrenCountChanged", o.EVENT_MASTER_CHANGED = "masterChanged", o.EVENT_GROUP_CHANGED = "groupChanged", o.EVENT_MOUSE_ENTER = "mouseEnter", o.EVENT_MOUSE_LEAVE = "mouseLeave", o.EVENT_HEIGHT_CHANGED = "heightChanged", o.EVENT_TOP_CHANGED = "topChanged", o.EVENT_DISPLAYED_CHANGED = "displayedChanged", o.EVENT_FIRST_CHILD_CHANGED = "firstChildChanged", o.EVENT_LAST_CHILD_CHANGED = "lastChildChanged", o.EVENT_CHILD_INDEX_CHANGED = "childIndexChanged", o.EVENT_ROW_INDEX_CHANGED = "rowIndexChanged", o.EVENT_EXPANDED_CHANGED = "expandedChanged", o.EVENT_HAS_CHILDREN_CHANGED = "hasChildrenChanged", o.EVENT_SELECTABLE_CHANGED = "selectableChanged", o.EVENT_UI_LEVEL_CHANGED = "uiLevelChanged", o.EVENT_HIGHLIGHT_CHANGED = "rowHighlightChanged", o.EVENT_DRAGGING_CHANGED = "draggingChanged", o;
  }()
), iF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), sh = function() {
  return sh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, sh.apply(this, arguments);
}, qC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, LE = (
  /** @class */
  function(o) {
    iF(t, o);
    function t() {
      return o.call(
        this,
        /* html*/
        `
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`
      ) || this;
    }
    return t.prototype.postConstruct = function() {
      this.eCheckbox.setPassive(!0), Wb(this.eCheckbox.getInputElement(), "polite");
    }, t.prototype.getCheckboxId = function() {
      return this.eCheckbox.getInputElement().id;
    }, t.prototype.onDataChanged = function() {
      this.onSelectionChanged();
    }, t.prototype.onSelectableChanged = function() {
      this.showOrHideSelect();
    }, t.prototype.onSelectionChanged = function() {
      var e = this.localeService.getLocaleTextFunc(), r = this.rowNode.isSelected(), n = ff(e, r), i = e("ariaRowToggleSelection", "Press Space to toggle row selection");
      this.eCheckbox.setValue(r, !0), this.eCheckbox.setInputAriaLabel(i + " (" + n + ")");
    }, t.prototype.onClicked = function(e, r, n) {
      return this.rowNode.setSelectedParams({ newValue: e, rangeSelect: n.shiftKey, groupSelectsFiltered: r, event: n, source: "checkboxSelected" });
    }, t.prototype.init = function(e) {
      var r = this;
      this.rowNode = e.rowNode, this.column = e.column, this.overrides = e.overrides, this.onSelectionChanged(), this.addManagedListener(this.eCheckbox.getInputElement(), "dblclick", function(s) {
        io(s);
      }), this.addManagedListener(this.eCheckbox.getInputElement(), "click", function(s) {
        io(s);
        var l = r.gridOptionsService.is("groupSelectsFiltered"), u = r.eCheckbox.getValue();
        if (r.shouldHandleIndeterminateState(u, l)) {
          var c = r.onClicked(!0, l, s || {});
          c === 0 && r.onClicked(!1, l, s);
        } else
          u ? r.onClicked(!1, l, s) : r.onClicked(!0, l, s || {});
      }), this.addManagedListener(this.rowNode, Te.EVENT_ROW_SELECTED, this.onSelectionChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_DATA_CHANGED, this.onDataChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_SELECTABLE_CHANGED, this.onSelectableChanged.bind(this));
      var n = this.gridOptionsService.get("isRowSelectable"), i = n || typeof this.getIsVisible() == "function";
      if (i) {
        var a = this.showOrHideSelect.bind(this);
        this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, a), this.addManagedListener(this.rowNode, Te.EVENT_DATA_CHANGED, a), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, a), this.showOrHideSelect();
      }
      this.eCheckbox.getInputElement().setAttribute("tabindex", "-1");
    }, t.prototype.shouldHandleIndeterminateState = function(e, r) {
      return r && (this.eCheckbox.getPreviousValue() === void 0 || e === void 0) && this.gridOptionsService.isRowModelType("clientSide");
    }, t.prototype.showOrHideSelect = function() {
      var e, r, n, i, a = this.rowNode.selectable, s = this.getIsVisible();
      if (a)
        if (typeof s == "function") {
          var l = (e = this.overrides) === null || e === void 0 ? void 0 : e.callbackParams, u = (r = this.column) === null || r === void 0 ? void 0 : r.createColumnFunctionCallbackParams(this.rowNode);
          a = u ? s(sh(sh({}, l), u)) : !1;
        } else
          a = s != null ? s : !1;
      var c = (n = this.column) === null || n === void 0 ? void 0 : n.getColDef().showDisabledCheckboxes;
      if (c) {
        this.eCheckbox.setDisabled(!a), this.setVisible(!0), this.setDisplayed(!0);
        return;
      }
      if (!((i = this.overrides) === null || i === void 0) && i.removeHidden) {
        this.setDisplayed(a);
        return;
      }
      this.setVisible(a);
    }, t.prototype.getIsVisible = function() {
      var e, r;
      return this.overrides ? this.overrides.isVisible : (r = (e = this.column) === null || e === void 0 ? void 0 : e.getColDef()) === null || r === void 0 ? void 0 : r.checkboxSelection;
    }, qC([
      G("eCheckbox")
    ], t.prototype, "eCheckbox", void 0), qC([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), oF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), va = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Rd = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, gt;
(function(o) {
  o[o.ToolPanel = 0] = "ToolPanel", o[o.HeaderCell = 1] = "HeaderCell", o[o.RowDrag = 2] = "RowDrag", o[o.ChartPanel = 3] = "ChartPanel";
})(gt || (gt = {}));
var zl;
(function(o) {
  o[o.Up = 0] = "Up", o[o.Down = 1] = "Down";
})(zl || (zl = {}));
var hi;
(function(o) {
  o[o.Left = 0] = "Left", o[o.Right = 1] = "Right";
})(hi || (hi = {}));
var Ze = (
  /** @class */
  function(o) {
    oF(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.dragSourceAndParamsList = [], r.dropTargets = [], r;
    }
    e = t, t.prototype.init = function() {
      this.ePinnedIcon = vn("columnMovePin", this.gridOptionsService, null), this.eHideIcon = vn("columnMoveHide", this.gridOptionsService, null), this.eMoveIcon = vn("columnMoveMove", this.gridOptionsService, null), this.eLeftIcon = vn("columnMoveLeft", this.gridOptionsService, null), this.eRightIcon = vn("columnMoveRight", this.gridOptionsService, null), this.eGroupIcon = vn("columnMoveGroup", this.gridOptionsService, null), this.eAggregateIcon = vn("columnMoveValue", this.gridOptionsService, null), this.ePivotIcon = vn("columnMovePivot", this.gridOptionsService, null), this.eDropNotAllowedIcon = vn("dropNotAllowed", this.gridOptionsService, null);
    }, t.prototype.addDragSource = function(r, n) {
      n === void 0 && (n = !1);
      var i = {
        eElement: r.eElement,
        dragStartPixels: r.dragStartPixels,
        onDragStart: this.onDragStart.bind(this, r),
        onDragStop: this.onDragStop.bind(this),
        onDragging: this.onDragging.bind(this),
        includeTouch: n
      };
      this.dragSourceAndParamsList.push({ params: i, dragSource: r }), this.dragService.addDragSource(i);
    }, t.prototype.removeDragSource = function(r) {
      var n = this.dragSourceAndParamsList.find(function(i) {
        return i.dragSource === r;
      });
      n && (this.dragService.removeDragSource(n.params), vr(this.dragSourceAndParamsList, n));
    }, t.prototype.clearDragSourceParamsList = function() {
      var r = this;
      this.dragSourceAndParamsList.forEach(function(n) {
        return r.dragService.removeDragSource(n.params);
      }), this.dragSourceAndParamsList.length = 0, this.dropTargets.length = 0;
    }, t.prototype.nudge = function() {
      this.dragging && this.onDragging(this.eventLastTime, !0);
    }, t.prototype.onDragStart = function(r, n) {
      this.dragging = !0, this.dragSource = r, this.eventLastTime = n, this.dragItem = this.dragSource.getDragItem(), this.lastDropTarget = this.dragSource.dragSourceDropTarget, this.dragSource.onDragStarted && this.dragSource.onDragStarted(), this.createGhost();
    }, t.prototype.onDragStop = function(r) {
      if (this.eventLastTime = null, this.dragging = !1, this.dragSource.onDragStopped && this.dragSource.onDragStopped(), this.lastDropTarget && this.lastDropTarget.onDragStop) {
        var n = this.createDropTargetEvent(this.lastDropTarget, r, null, null, !1);
        this.lastDropTarget.onDragStop(n);
      }
      this.lastDropTarget = null, this.dragItem = null, this.removeGhost();
    }, t.prototype.onDragging = function(r, n) {
      var i = this, a, s, l, u, c = this.getHorizontalDirection(r), d = this.getVerticalDirection(r);
      this.eventLastTime = r, this.positionGhost(r);
      var p = this.dropTargets.filter(function(v) {
        return i.isMouseOnDropTarget(r, v);
      }), h = this.findCurrentDropTarget(r, p);
      if (h !== this.lastDropTarget)
        this.leaveLastTargetIfExists(r, c, d, n), this.lastDropTarget !== null && h === null && ((s = (a = this.dragSource).onGridExit) === null || s === void 0 || s.call(a, this.dragItem)), this.lastDropTarget === null && h !== null && ((u = (l = this.dragSource).onGridEnter) === null || u === void 0 || u.call(l, this.dragItem)), this.enterDragTargetIfExists(h, r, c, d, n), this.lastDropTarget = h;
      else if (h && h.onDragging) {
        var f = this.createDropTargetEvent(h, r, c, d, n);
        h.onDragging(f);
      }
    }, t.prototype.getAllContainersFromDropTarget = function(r) {
      var n = r.getSecondaryContainers ? r.getSecondaryContainers() : null, i = [[r.getContainer()]];
      return n ? i.concat(n) : i;
    }, t.prototype.allContainersIntersect = function(r, n) {
      var i, a;
      try {
        for (var s = Rd(n), l = s.next(); !l.done; l = s.next()) {
          var u = l.value, c = u.getBoundingClientRect();
          if (c.width === 0 || c.height === 0)
            return !1;
          var d = r.clientX >= c.left && r.clientX < c.right, p = r.clientY >= c.top && r.clientY < c.bottom;
          if (!d || !p)
            return !1;
        }
      } catch (h) {
        i = { error: h };
      } finally {
        try {
          l && !l.done && (a = s.return) && a.call(s);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return !0;
    }, t.prototype.isMouseOnDropTarget = function(r, n) {
      var i, a, s = this.getAllContainersFromDropTarget(n), l = !1;
      try {
        for (var u = Rd(s), c = u.next(); !c.done; c = u.next()) {
          var d = c.value;
          if (this.allContainersIntersect(r, d)) {
            l = !0;
            break;
          }
        }
      } catch (p) {
        i = { error: p };
      } finally {
        try {
          c && !c.done && (a = u.return) && a.call(u);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return n.targetContainsSource && !n.getContainer().contains(this.dragSource.eElement) ? !1 : l && n.isInterestedIn(this.dragSource.type, this.dragSource.eElement);
    }, t.prototype.findCurrentDropTarget = function(r, n) {
      var i, a, s, l, u = n.length;
      if (u === 0)
        return null;
      if (u === 1)
        return n[0];
      var c = this.gridOptionsService.getRootNode(), d = c.elementsFromPoint(r.clientX, r.clientY);
      try {
        for (var p = Rd(d), h = p.next(); !h.done; h = p.next()) {
          var f = h.value;
          try {
            for (var v = (s = void 0, Rd(n)), g = v.next(); !g.done; g = v.next()) {
              var y = g.value, m = Tb(this.getAllContainersFromDropTarget(y));
              if (m.indexOf(f) !== -1)
                return y;
            }
          } catch (C) {
            s = { error: C };
          } finally {
            try {
              g && !g.done && (l = v.return) && l.call(v);
            } finally {
              if (s)
                throw s.error;
            }
          }
        }
      } catch (C) {
        i = { error: C };
      } finally {
        try {
          h && !h.done && (a = p.return) && a.call(p);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return null;
    }, t.prototype.enterDragTargetIfExists = function(r, n, i, a, s) {
      if (r) {
        if (r.onDragEnter) {
          var l = this.createDropTargetEvent(r, n, i, a, s);
          r.onDragEnter(l);
        }
        this.setGhostIcon(r.getIconName ? r.getIconName() : null);
      }
    }, t.prototype.leaveLastTargetIfExists = function(r, n, i, a) {
      if (this.lastDropTarget) {
        if (this.lastDropTarget.onDragLeave) {
          var s = this.createDropTargetEvent(this.lastDropTarget, r, n, i, a);
          this.lastDropTarget.onDragLeave(s);
        }
        this.setGhostIcon(null);
      }
    }, t.prototype.addDropTarget = function(r) {
      this.dropTargets.push(r);
    }, t.prototype.removeDropTarget = function(r) {
      this.dropTargets = this.dropTargets.filter(function(n) {
        return n.getContainer() !== r.getContainer();
      });
    }, t.prototype.hasExternalDropZones = function() {
      return this.dropTargets.some(function(r) {
        return r.external;
      });
    }, t.prototype.findExternalZone = function(r) {
      var n = this.dropTargets.filter(function(i) {
        return i.external;
      });
      return n.find(function(i) {
        return i.getContainer() === r.getContainer();
      }) || null;
    }, t.prototype.getHorizontalDirection = function(r) {
      var n = this.eventLastTime && this.eventLastTime.clientX, i = r.clientX;
      return n === i ? null : n > i ? hi.Left : hi.Right;
    }, t.prototype.getVerticalDirection = function(r) {
      var n = this.eventLastTime && this.eventLastTime.clientY, i = r.clientY;
      return n === i ? null : n > i ? zl.Up : zl.Down;
    }, t.prototype.createDropTargetEvent = function(r, n, i, a, s) {
      var l = r.getContainer(), u = l.getBoundingClientRect(), c = this, d = c.gridApi, p = c.columnApi, h = c.dragItem, f = c.dragSource, v = n.clientX - u.left, g = n.clientY - u.top;
      return { event: n, x: v, y: g, vDirection: a, hDirection: i, dragSource: f, fromNudge: s, dragItem: h, api: d, columnApi: p, dropZoneTarget: l };
    }, t.prototype.positionGhost = function(r) {
      var n = this.eGhost;
      if (n) {
        var i = n.getBoundingClientRect(), a = i.height, s = eE() - 2, l = tE() - 2, u = Om(n.offsetParent), c = r.clientY, d = r.clientX, p = c - u.top - a / 2, h = d - u.left - 10, f = this.gridOptionsService.getDocument(), v = f.defaultView || window, g = v.pageYOffset || f.documentElement.scrollTop, y = v.pageXOffset || f.documentElement.scrollLeft;
        s > 0 && h + n.clientWidth > s + y && (h = s + y - n.clientWidth), h < 0 && (h = 0), l > 0 && p + n.clientHeight > l + g && (p = l + g - n.clientHeight), p < 0 && (p = 0), n.style.left = h + "px", n.style.top = p + "px";
      }
    }, t.prototype.removeGhost = function() {
      this.eGhost && this.eGhostParent && this.eGhostParent.removeChild(this.eGhost), this.eGhost = null;
    }, t.prototype.createGhost = function() {
      this.eGhost = nr(e.GHOST_TEMPLATE), this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);
      var r = this.environment.getTheme().theme;
      r && this.eGhost.classList.add(r), this.eGhostIcon = this.eGhost.querySelector(".ag-dnd-ghost-icon"), this.setGhostIcon(null);
      var n = this.eGhost.querySelector(".ag-dnd-ghost-label"), i = this.dragSource.dragItemName;
      df(i) && (i = i()), n.innerHTML = Oi(i) || "", this.eGhost.style.height = "25px", this.eGhost.style.top = "20px", this.eGhost.style.left = "20px";
      var a = this.gridOptionsService.getDocument(), s = null;
      try {
        s = a.fullscreenElement;
      } catch (c) {
      } finally {
        if (!s) {
          var l = this.gridOptionsService.getRootNode(), u = l.querySelector("body");
          u ? s = u : l instanceof ShadowRoot ? s = l : s = l == null ? void 0 : l.documentElement;
        }
      }
      this.eGhostParent = s, this.eGhostParent ? this.eGhostParent.appendChild(this.eGhost) : console.warn("AG Grid: could not find document body, it is needed for dragging columns");
    }, t.prototype.setGhostIcon = function(r, n) {
      n === void 0 && (n = !1), Qr(this.eGhostIcon);
      var i = null;
      switch (r || (r = this.dragSource.defaultIconName || e.ICON_NOT_ALLOWED), r) {
        case e.ICON_PINNED:
          i = this.ePinnedIcon;
          break;
        case e.ICON_MOVE:
          i = this.eMoveIcon;
          break;
        case e.ICON_LEFT:
          i = this.eLeftIcon;
          break;
        case e.ICON_RIGHT:
          i = this.eRightIcon;
          break;
        case e.ICON_GROUP:
          i = this.eGroupIcon;
          break;
        case e.ICON_AGGREGATE:
          i = this.eAggregateIcon;
          break;
        case e.ICON_PIVOT:
          i = this.ePivotIcon;
          break;
        case e.ICON_NOT_ALLOWED:
          i = this.eDropNotAllowedIcon;
          break;
        case e.ICON_HIDE:
          i = this.eHideIcon;
          break;
      }
      this.eGhostIcon.classList.toggle("ag-shake-left-to-right", n), !(i === this.eHideIcon && this.gridOptionsService.is("suppressDragLeaveHidesColumns")) && i && this.eGhostIcon.appendChild(i);
    };
    var e;
    return t.ICON_PINNED = "pinned", t.ICON_MOVE = "move", t.ICON_LEFT = "left", t.ICON_RIGHT = "right", t.ICON_GROUP = "group", t.ICON_AGGREGATE = "aggregate", t.ICON_PIVOT = "pivot", t.ICON_NOT_ALLOWED = "notAllowed", t.ICON_HIDE = "hide", t.GHOST_TEMPLATE = `<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`, va([
      w("dragService")
    ], t.prototype, "dragService", void 0), va([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), va([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), va([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), va([
      V
    ], t.prototype, "init", null), va([
      rt
    ], t.prototype, "clearDragSourceParamsList", null), t = e = va([
      q("dragAndDropService")
    ], t), t;
  }(W)
), _f = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), _c = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, lh = (
  /** @class */
  function(o) {
    _f(t, o);
    function t(e, r, n, i, a, s) {
      var l = o.call(this) || this;
      return l.cellValueFn = e, l.rowNode = r, l.column = n, l.customGui = i, l.dragStartPixels = a, l.suppressVisibilityChange = s, l.dragSource = null, l;
    }
    return t.prototype.isCustomGui = function() {
      return this.customGui != null;
    }, t.prototype.postConstruct = function() {
      if (this.customGui ? this.setDragElement(this.customGui, this.dragStartPixels) : (this.setTemplate(
        /* html */
        '<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'
      ), this.getGui().appendChild(Et("rowDrag", this.gridOptionsService, null)), this.addDragSource()), this.checkCompatibility(), !this.suppressVisibilityChange) {
        var e = this.gridOptionsService.is("rowDragManaged") ? new sF(this, this.beans, this.rowNode, this.column) : new aF(this, this.beans, this.rowNode, this.column);
        this.createManagedBean(e, this.beans.context);
      }
    }, t.prototype.setDragElement = function(e, r) {
      this.setTemplateFromElement(e), this.addDragSource(r);
    }, t.prototype.getSelectedNodes = function() {
      var e = this.gridOptionsService.is("rowDragMultiRow");
      if (!e)
        return [this.rowNode];
      var r = this.beans.selectionService.getSelectedNodes();
      return r.indexOf(this.rowNode) !== -1 ? r : [this.rowNode];
    }, t.prototype.checkCompatibility = function() {
      var e = this.gridOptionsService.is("rowDragManaged"), r = this.gridOptionsService.isTreeData();
      r && e && ze(function() {
        return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true");
      }, "RowDragComp.managedAndTreeData");
    }, t.prototype.getDragItem = function() {
      return {
        rowNode: this.rowNode,
        rowNodes: this.getSelectedNodes(),
        columns: this.column ? [this.column] : void 0,
        defaultTextValue: this.cellValueFn()
      };
    }, t.prototype.getRowDragText = function(e) {
      if (e) {
        var r = e.getColDef();
        if (r.rowDragText)
          return r.rowDragText;
      }
      return this.gridOptionsService.get("rowDragText");
    }, t.prototype.addDragSource = function(e) {
      var r = this;
      e === void 0 && (e = 4), this.dragSource && this.removeDragSource();
      var n = this.getRowDragText(this.column), i = this.localeService.getLocaleTextFunc();
      this.dragSource = {
        type: gt.RowDrag,
        eElement: this.getGui(),
        dragItemName: function() {
          var a, s = r.getDragItem(), l = ((a = s.rowNodes) === null || a === void 0 ? void 0 : a.length) || 1;
          return n ? n(s, l) : l === 1 ? r.cellValueFn() : l + " " + i("rowDragRows", "rows");
        },
        getDragItem: function() {
          return r.getDragItem();
        },
        dragStartPixels: e,
        dragSourceDomDataKey: this.gridOptionsService.getDomDataKey()
      }, this.beans.dragAndDropService.addDragSource(this.dragSource, !0);
    }, t.prototype.removeDragSource = function() {
      this.dragSource && this.beans.dragAndDropService.removeDragSource(this.dragSource), this.dragSource = null;
    }, _c([
      w("beans")
    ], t.prototype, "beans", void 0), _c([
      V
    ], t.prototype, "postConstruct", null), _c([
      rt
    ], t.prototype, "removeDragSource", null), t;
  }(te)
), NE = (
  /** @class */
  function(o) {
    _f(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.parent = e, i.rowNode = r, i.column = n, i;
    }
    return t.prototype.setDisplayedOrVisible = function(e) {
      var r = { skipAriaHidden: !0 };
      if (e)
        this.parent.setDisplayed(!1, r);
      else {
        var n = !0, i = !1;
        this.column && (n = this.column.isRowDrag(this.rowNode) || this.parent.isCustomGui(), i = df(this.column.getColDef().rowDrag)), i ? (this.parent.setDisplayed(!0, r), this.parent.setVisible(n, r)) : (this.parent.setDisplayed(n, r), this.parent.setVisible(!0, r));
      }
    }, t;
  }(W)
), aF = (
  /** @class */
  function(o) {
    _f(t, o);
    function t(e, r, n, i) {
      var a = o.call(this, e, n, i) || this;
      return a.beans = r, a;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedPropertyListener("suppressRowDrag", this.onSuppressRowDrag.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.beans.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.workOutVisibility.bind(this)), this.workOutVisibility();
    }, t.prototype.onSuppressRowDrag = function() {
      this.workOutVisibility();
    }, t.prototype.workOutVisibility = function() {
      var e = this.gridOptionsService.is("suppressRowDrag");
      this.setDisplayedOrVisible(e);
    }, _c([
      V
    ], t.prototype, "postConstruct", null), t;
  }(NE)
), sF = (
  /** @class */
  function(o) {
    _f(t, o);
    function t(e, r, n, i) {
      var a = o.call(this, e, n, i) || this;
      return a.beans = r, a;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.beans.eventService, R.EVENT_SORT_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.beans.eventService, R.EVENT_FILTER_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.beans.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.beans.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.workOutVisibility.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this)), this.addManagedPropertyListener("suppressRowDrag", this.onSuppressRowDrag.bind(this)), this.workOutVisibility();
    }, t.prototype.onSuppressRowDrag = function() {
      this.workOutVisibility();
    }, t.prototype.workOutVisibility = function() {
      var e = this.beans.ctrlsService.getGridBodyCtrl(), r = e.getRowDragFeature(), n = r && r.shouldPreventRowMove(), i = this.gridOptionsService.is("suppressRowDrag"), a = this.beans.dragAndDropService.hasExternalDropZones(), s = n && !a || i;
      this.setDisplayedOrVisible(s);
    }, _c([
      V
    ], t.prototype, "postConstruct", null), t;
  }(NE)
), lF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uh = function() {
  return uh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, uh.apply(this, arguments);
}, Cu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, uF = (
  /** @class */
  function(o) {
    lF(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function(e, r, n, i, a, s, l) {
      this.params = l, this.eGui = r, this.eCheckbox = n, this.eExpanded = i, this.eContracted = a, this.comp = e, this.compClass = s;
      var u = this.isTopLevelFooter(), c = this.isEmbeddedRowMismatch(), d = l.value == null && !l.node.master, p = !1;
      if (this.gridOptionsService.is("groupIncludeFooter") && this.gridOptionsService.is("groupHideOpenParents")) {
        var h = l.node;
        if (h.footer) {
          var f = l.colDef && l.colDef.showRowGroup, v = h.rowGroupColumn && h.rowGroupColumn.getColId();
          p = f !== v;
        }
      }
      this.cellIsBlank = u ? !1 : c || d && !l.node.master || p, !this.cellIsBlank && (this.setupShowingValueForOpenedParent(), this.findDisplayedGroupNode(), this.addFullWidthRowDraggerIfNeeded(), this.addExpandAndContract(), this.addCheckboxIfNeeded(), this.addValueElement(), this.setupIndent(), this.refreshAriaExpanded());
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.expandListener = null;
    }, t.prototype.refreshAriaExpanded = function() {
      var e = this.params, r = e.node, n = e.eParentOfValue;
      if (this.expandListener && (this.expandListener = this.expandListener()), !this.isExpandable()) {
        Ub(n);
        return;
      }
      var i = function() {
        $n(n, !!r.expanded);
      };
      this.expandListener = this.addManagedListener(r, Te.EVENT_EXPANDED_CHANGED, i) || null, i();
    }, t.prototype.isTopLevelFooter = function() {
      if (!this.gridOptionsService.is("groupIncludeTotalFooter") || this.params.value != null || this.params.node.level != -1)
        return !1;
      var e = this.params.colDef, r = e == null;
      if (r || e.showRowGroup === !0)
        return !0;
      var n = this.columnModel.getRowGroupColumns();
      if (!n || n.length === 0)
        return !0;
      var i = n[0];
      return i.getId() === e.showRowGroup;
    }, t.prototype.isEmbeddedRowMismatch = function() {
      if (!this.params.fullWidth || !this.gridOptionsService.is("embedFullWidthRows"))
        return !1;
      var e = this.params.pinned === "left", r = this.params.pinned === "right", n = !e && !r;
      return this.gridOptionsService.is("enableRtl") ? this.columnModel.isPinningLeft() ? !r : !n : this.columnModel.isPinningLeft() ? !e : !n;
    }, t.prototype.findDisplayedGroupNode = function() {
      var e = this.params.column, r = this.params.node;
      if (this.showingValueForOpenedParent)
        for (var n = r.parent; n != null; ) {
          if (n.rowGroupColumn && e.isRowGroupDisplayed(n.rowGroupColumn.getId())) {
            this.displayedGroupNode = n;
            break;
          }
          n = n.parent;
        }
      me(this.displayedGroupNode) && (this.displayedGroupNode = r);
    }, t.prototype.setupShowingValueForOpenedParent = function() {
      var e = this.params.node, r = this.params.column;
      if (!this.gridOptionsService.is("groupHideOpenParents")) {
        this.showingValueForOpenedParent = !1;
        return;
      }
      if (!e.groupData) {
        this.showingValueForOpenedParent = !1;
        return;
      }
      var n = e.rowGroupColumn != null;
      if (n) {
        var i = e.rowGroupColumn.getId(), a = r.isRowGroupDisplayed(i);
        if (a) {
          this.showingValueForOpenedParent = !1;
          return;
        }
      }
      var s = e.groupData[r.getId()] != null;
      this.showingValueForOpenedParent = s;
    }, t.prototype.addValueElement = function() {
      this.displayedGroupNode.footer ? this.addFooterValue() : (this.addGroupValue(), this.addChildCount());
    }, t.prototype.addGroupValue = function() {
      var e = this.adjustParamsWithDetailsFromRelatedColumn(), r = this.getInnerCompDetails(e), n = e.valueFormatted, i = e.value, a = n;
      if (a == null)
        if (i === "" && this.params.node.group) {
          var s = this.localeService.getLocaleTextFunc();
          a = s("blanks", "(Blanks)");
        } else
          a = i != null ? i : null;
      this.comp.setInnerRenderer(r, a);
    }, t.prototype.adjustParamsWithDetailsFromRelatedColumn = function() {
      var e = this.displayedGroupNode.rowGroupColumn, r = this.params.column;
      if (!e)
        return this.params;
      var n = r != null;
      if (n) {
        var i = r.isRowGroupDisplayed(e.getId());
        if (!i)
          return this.params;
      }
      var a = this.params, s = this.params, l = s.value, u = s.node, c = this.valueFormatterService.formatValue(e, u, l), d = uh(uh({}, a), { valueFormatted: c });
      return d;
    }, t.prototype.addFooterValue = function() {
      var e = this.params.footerValueGetter, r = "";
      if (e) {
        var n = sm(this.params);
        n.value = this.params.value, typeof e == "function" ? r = e(n) : typeof e == "string" ? r = this.expressionService.evaluate(e, n) : console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)");
      } else
        r = "Total " + (this.params.value != null ? this.params.value : "");
      var i = this.getInnerCompDetails(this.params);
      this.comp.setInnerRenderer(i, r);
    }, t.prototype.getInnerCompDetails = function(e) {
      var r = this;
      if (e.fullWidth)
        return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"), e);
      var n = this.userComponentFactory.getInnerRendererDetails(e, e), i = function(c) {
        return c && c.componentClass == r.compClass;
      };
      if (n && !i(n))
        return n;
      var a = this.displayedGroupNode.rowGroupColumn, s = a ? a.getColDef() : void 0;
      if (s) {
        var l = this.userComponentFactory.getCellRendererDetails(s, e);
        if (l && !i(l))
          return l;
        if (i(l) && s.cellRendererParams && s.cellRendererParams.innerRenderer) {
          var u = this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams, e);
          return u;
        }
      }
    }, t.prototype.addChildCount = function() {
      this.params.suppressCount || (this.addManagedListener(this.displayedGroupNode, Te.EVENT_ALL_CHILDREN_COUNT_CHANGED, this.updateChildCount.bind(this)), this.updateChildCount());
    }, t.prototype.updateChildCount = function() {
      var e = this.displayedGroupNode.allChildrenCount, r = this.isShowRowGroupForThisRow(), n = r && e != null && e >= 0, i = n ? "(" + e + ")" : "";
      this.comp.setChildCount(i);
    }, t.prototype.isShowRowGroupForThisRow = function() {
      if (this.gridOptionsService.isTreeData())
        return !0;
      var e = this.displayedGroupNode.rowGroupColumn;
      if (!e)
        return !1;
      var r = this.params.column, n = r == null || r.isRowGroupDisplayed(e.getId());
      return n;
    }, t.prototype.addExpandAndContract = function() {
      var e, r = this.params, n = Et("groupExpanded", this.gridOptionsService, null), i = Et("groupContracted", this.gridOptionsService, null);
      n && this.eExpanded.appendChild(n), i && this.eContracted.appendChild(i);
      var a = r.eGridCell, s = ((e = this.params.column) === null || e === void 0 ? void 0 : e.isCellEditable(r.node)) && this.gridOptionsService.is("enableGroupEdit");
      !s && this.isExpandable() && !r.suppressDoubleClickExpand && this.addManagedListener(a, "dblclick", this.onCellDblClicked.bind(this)), this.addManagedListener(this.eExpanded, "click", this.onExpandClicked.bind(this)), this.addManagedListener(this.eContracted, "click", this.onExpandClicked.bind(this)), this.addManagedListener(a, "keydown", this.onKeyDown.bind(this)), this.addManagedListener(r.node, Te.EVENT_EXPANDED_CHANGED, this.showExpandAndContractIcons.bind(this)), this.showExpandAndContractIcons();
      var l = this.onRowNodeIsExpandableChanged.bind(this);
      this.addManagedListener(this.displayedGroupNode, Te.EVENT_ALL_CHILDREN_COUNT_CHANGED, l), this.addManagedListener(this.displayedGroupNode, Te.EVENT_MASTER_CHANGED, l), this.addManagedListener(this.displayedGroupNode, Te.EVENT_GROUP_CHANGED, l), this.addManagedListener(this.displayedGroupNode, Te.EVENT_HAS_CHILDREN_CHANGED, l);
    }, t.prototype.onExpandClicked = function(e) {
      _i(e) || (io(e), this.onExpandOrContract(e));
    }, t.prototype.onExpandOrContract = function(e) {
      var r = this.displayedGroupNode, n = !r.expanded;
      !n && r.sticky && this.scrollToStickyNode(r), r.setExpanded(n, e);
    }, t.prototype.scrollToStickyNode = function(e) {
      var r = this.ctrlsService.getGridBodyCtrl(), n = r.getScrollFeature();
      n.setVerticalScrollPosition(e.rowTop - e.stickyRowTop);
    }, t.prototype.isExpandable = function() {
      if (this.showingValueForOpenedParent)
        return !0;
      var e = this.displayedGroupNode, r = this.columnModel.isPivotMode() && e.leafGroup, n = e.isExpandable() && !e.footer && !r;
      if (!n)
        return !1;
      var i = this.params.column, a = i != null && typeof i.getColDef().showRowGroup == "string";
      if (a) {
        var s = this.isShowRowGroupForThisRow();
        return s;
      }
      return !0;
    }, t.prototype.showExpandAndContractIcons = function() {
      var e = this, r = e.params, n = e.displayedGroupNode, i = e.columnModel, a = r.node, s = this.isExpandable();
      if (s) {
        var l = this.showingValueForOpenedParent ? !0 : a.expanded;
        this.comp.setExpandedDisplayed(l), this.comp.setContractedDisplayed(!l);
      } else
        this.comp.setExpandedDisplayed(!1), this.comp.setContractedDisplayed(!1);
      var u = i.isPivotMode(), c = u && n.leafGroup, d = s && !c, p = a.footer && a.level === -1;
      this.comp.addOrRemoveCssClass("ag-cell-expandable", d), this.comp.addOrRemoveCssClass("ag-row-group", d), u ? this.comp.addOrRemoveCssClass("ag-pivot-leaf-group", c) : p || this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent", !d);
    }, t.prototype.onRowNodeIsExpandableChanged = function() {
      this.showExpandAndContractIcons(), this.setIndent(), this.refreshAriaExpanded();
    }, t.prototype.setupIndent = function() {
      var e = this.params.node, r = this.params.suppressPadding;
      r || (this.addManagedListener(e, Te.EVENT_UI_LEVEL_CHANGED, this.setIndent.bind(this)), this.setIndent());
    }, t.prototype.setIndent = function() {
      if (!this.gridOptionsService.is("groupHideOpenParents")) {
        var e = this.params, r = e.node, n = !!e.colDef, i = this.gridOptionsService.isTreeData(), a = !n || i || e.colDef.showRowGroup === !0, s = a ? r.uiLevel : 0;
        this.indentClass && this.comp.addOrRemoveCssClass(this.indentClass, !1), this.indentClass = "ag-row-group-indent-" + s, this.comp.addOrRemoveCssClass(this.indentClass, !0);
      }
    }, t.prototype.addFullWidthRowDraggerIfNeeded = function() {
      var e = this;
      if (!(!this.params.fullWidth || !this.params.rowDrag)) {
        var r = new lh(function() {
          return e.params.value;
        }, this.params.node);
        this.createManagedBean(r, this.context), this.eGui.insertAdjacentElement("afterbegin", r.getGui());
      }
    }, t.prototype.isUserWantsSelected = function() {
      var e = this.params.checkbox;
      return typeof e == "function" || e === !0;
    }, t.prototype.addCheckboxIfNeeded = function() {
      var e = this, r = this.displayedGroupNode, n = this.isUserWantsSelected() && // footers cannot be selected
      !r.footer && // pinned rows cannot be selected
      !r.rowPinned && // details cannot be selected
      !r.detail;
      if (n) {
        var i = new LE();
        this.getContext().createBean(i), i.init({
          rowNode: r,
          column: this.params.column,
          overrides: {
            isVisible: this.params.checkbox,
            callbackParams: this.params,
            removeHidden: !0
          }
        }), this.eCheckbox.appendChild(i.getGui()), this.addDestroyFunc(function() {
          return e.getContext().destroyBean(i);
        });
      }
      this.comp.setCheckboxVisible(n);
    }, t.prototype.onKeyDown = function(e) {
      var r = e.key === H.ENTER;
      if (!(!r || this.params.suppressEnterExpand)) {
        var n = this.params.column && this.params.column.isCellEditable(this.params.node);
        n || this.onExpandOrContract(e);
      }
    }, t.prototype.onCellDblClicked = function(e) {
      if (!_i(e)) {
        var r = nh(this.eExpanded, e) || nh(this.eContracted, e);
        r || this.onExpandOrContract(e);
      }
    }, Cu([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), Cu([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), Cu([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Cu([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), Cu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t;
  }(W)
), cF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Su = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ZC = (
  /** @class */
  function(o) {
    cF(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e) {
      var r = this, n = {
        setInnerRenderer: function(l, u) {
          return r.setRenderDetails(l, u);
        },
        setChildCount: function(l) {
          return r.eChildCount.innerHTML = l;
        },
        addOrRemoveCssClass: function(l, u) {
          return r.addOrRemoveCssClass(l, u);
        },
        setContractedDisplayed: function(l) {
          return Be(r.eContracted, l);
        },
        setExpandedDisplayed: function(l) {
          return Be(r.eExpanded, l);
        },
        setCheckboxVisible: function(l) {
          return r.eCheckbox.classList.toggle("ag-invisible", !l);
        }
      }, i = this.createManagedBean(new uF()), a = !e.colDef, s = this.getGui();
      i.init(n, s, this.eCheckbox, this.eExpanded, this.eContracted, this.constructor, e), a && Ut(s, "gridcell");
    }, t.prototype.setRenderDetails = function(e, r) {
      var n = this;
      if (e) {
        var i = e.newAgStackInstance();
        if (!i)
          return;
        i.then(function(a) {
          if (a) {
            var s = function() {
              return n.context.destroyBean(a);
            };
            n.isAlive() ? (n.eValue.appendChild(a.getGui()), n.addDestroyFunc(s)) : s();
          }
        });
      } else
        this.eValue.innerText = r;
    }, t.prototype.destroy = function() {
      this.getContext().destroyBean(this.innerCellRenderer), o.prototype.destroy.call(this);
    }, t.prototype.refresh = function() {
      return !1;
    }, t.TEMPLATE = `<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`, Su([
      G("eExpanded")
    ], t.prototype, "eExpanded", void 0), Su([
      G("eContracted")
    ], t.prototype, "eContracted", void 0), Su([
      G("eCheckbox")
    ], t.prototype, "eCheckbox", void 0), Su([
      G("eValue")
    ], t.prototype, "eValue", void 0), Su([
      G("eChildCount")
    ], t.prototype, "eChildCount", void 0), t;
  }(te)
), dF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), QC = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, pF = (
  /** @class */
  function(o) {
    dF(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e) {
      e.node.failedLoad ? this.setupFailed() : this.setupLoading();
    }, t.prototype.setupFailed = function() {
      var e = this.localeService.getLocaleTextFunc();
      this.eLoadingText.innerText = e("loadingError", "ERR");
    }, t.prototype.setupLoading = function() {
      var e = Et("groupLoading", this.gridOptionsService, null);
      e && this.eLoadingIcon.appendChild(e);
      var r = this.localeService.getLocaleTextFunc();
      this.eLoadingText.innerText = r("loadingOoo", "Loading");
    }, t.prototype.refresh = function(e) {
      return !1;
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`, QC([
      G("eLoadingIcon")
    ], t.prototype, "eLoadingIcon", void 0), QC([
      G("eLoadingText")
    ], t.prototype, "eLoadingText", void 0), t;
  }(te)
), hF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fF = (
  /** @class */
  function(o) {
    hF(t, o);
    function t() {
      return o.call(this) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      var r, n = (r = this.gridOptionsService.get("overlayLoadingTemplate")) !== null && r !== void 0 ? r : t.DEFAULT_LOADING_OVERLAY_TEMPLATE, i = this.localeService.getLocaleTextFunc(), a = n.replace("[LOADING...]", i("loadingOoo", "Loading..."));
      this.setTemplate(a);
    }, t.DEFAULT_LOADING_OVERLAY_TEMPLATE = '<span class="ag-overlay-loading-center">[LOADING...]</span>', t;
  }(te)
), vF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), gF = (
  /** @class */
  function(o) {
    vF(t, o);
    function t() {
      return o.call(this) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      var r, n = (r = this.gridOptionsService.get("overlayNoRowsTemplate")) !== null && r !== void 0 ? r : t.DEFAULT_NO_ROWS_TEMPLATE, i = this.localeService.getLocaleTextFunc(), a = n.replace("[NO_ROWS_TO_SHOW]", i("noRowsToShow", "No Rows To Show"));
      this.setTemplate(a);
    }, t.DEFAULT_NO_ROWS_TEMPLATE = '<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>', t;
  }(te)
), yF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mF = (
  /** @class */
  function(o) {
    yF(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        '<div class="ag-tooltip"></div>'
      ) || this;
    }
    return t.prototype.init = function(e) {
      var r = e.value;
      this.getGui().innerHTML = Oi(r);
    }, t;
  }(ps)
), CF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), SF = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.getTemplate = function() {
      return (
        /* html */
        '<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'
      );
    }, o.prototype.init = function(t, e) {
      this.eInput = t, this.params = e, e.max != null && t.setMax(e.max), e.min != null && t.setMin(e.min), e.precision != null && t.setPrecision(e.precision), e.step != null && t.setStep(e.step), e.showStepperButtons && t.getInputElement().classList.add("ag-number-field-input-stepper");
    }, o.prototype.getValue = function() {
      var t = this.eInput.getValue();
      if (!z(t) && !z(this.params.value))
        return this.params.value;
      var e = this.params.parseValue(t);
      if (e == null)
        return e;
      if (typeof e == "string") {
        if (e === "")
          return null;
        e = Number(e);
      }
      return isNaN(e) ? null : e;
    }, o.prototype.getStartValue = function() {
      return this.params.value;
    }, o;
  }()
), wF = (
  /** @class */
  function(o) {
    CF(t, o);
    function t() {
      return o.call(this, new SF()) || this;
    }
    return t;
  }(wf)
), _F = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bF = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.getTemplate = function() {
      return (
        /* html */
        '<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'
      );
    }, o.prototype.init = function(t, e) {
      this.eInput = t, this.params = e, e.min != null && t.setMin(e.min), e.max != null && t.setMax(e.max), e.step != null && t.setStep(e.step);
    }, o.prototype.getValue = function() {
      var t = this.eInput.getDate();
      return !z(t) && !z(this.params.value) ? this.params.value : t != null ? t : null;
    }, o.prototype.getStartValue = function() {
      var t = this.params.value;
      if (t instanceof Date)
        return wn(t, !1);
    }, o;
  }()
), EF = (
  /** @class */
  function(o) {
    _F(t, o);
    function t() {
      return o.call(this, new bF()) || this;
    }
    return t;
  }(wf)
), OF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), xF = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, TF = (
  /** @class */
  function() {
    function o(t) {
      this.getDataTypeService = t;
    }
    return o.prototype.getTemplate = function() {
      return (
        /* html */
        '<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'
      );
    }, o.prototype.init = function(t, e) {
      this.eInput = t, this.params = e, e.min != null && t.setMin(e.min), e.max != null && t.setMax(e.max), e.step != null && t.setStep(e.step);
    }, o.prototype.getValue = function() {
      var t = this.formatDate(this.eInput.getDate());
      return !z(t) && !z(this.params.value) ? this.params.value : this.params.parseValue(t != null ? t : "");
    }, o.prototype.getStartValue = function() {
      var t, e;
      return wn((e = this.parseDate((t = this.params.value) !== null && t !== void 0 ? t : void 0)) !== null && e !== void 0 ? e : null, !1);
    }, o.prototype.parseDate = function(t) {
      return this.getDataTypeService().getDateParserFunction()(t);
    }, o.prototype.formatDate = function(t) {
      return this.getDataTypeService().getDateFormatterFunction()(t);
    }, o;
  }()
), RF = (
  /** @class */
  function(o) {
    OF(t, o);
    function t() {
      var e = o.call(this, new TF(function() {
        return e.dataTypeService;
      })) || this;
      return e;
    }
    return xF([
      w("dataTypeService")
    ], t.prototype, "dataTypeService", void 0), t;
  }(wf)
), DF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), PF = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, AF = (
  /** @class */
  function(o) {
    DF(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e) {
      var r = this;
      this.params = e, this.updateCheckbox(e), this.eCheckbox.getInputElement().setAttribute("tabindex", "-1"), this.addManagedListener(this.eCheckbox.getInputElement(), "click", function(i) {
        if (io(i), !r.eCheckbox.isDisabled()) {
          var a = r.eCheckbox.getValue();
          r.onCheckboxChanged(a);
        }
      }), this.addManagedListener(this.eCheckbox.getInputElement(), "dblclick", function(i) {
        io(i);
      });
      var n = this.gridOptionsService.getDocument();
      this.addManagedListener(this.params.eGridCell, "keydown", function(i) {
        if (i.key === H.SPACE && !r.eCheckbox.isDisabled()) {
          r.params.eGridCell === n.activeElement && r.eCheckbox.toggle();
          var a = r.eCheckbox.getValue();
          r.onCheckboxChanged(a), i.preventDefault();
        }
      });
    }, t.prototype.refresh = function(e) {
      return this.params = e, this.updateCheckbox(e), !0;
    }, t.prototype.updateCheckbox = function(e) {
      var r, n, i, a, s = !0;
      if (e.node.group && e.column) {
        var l = e.column.getColId();
        l.startsWith(oo) ? a = e.value == null || e.value === "" ? void 0 : e.value === "true" : e.node.aggData && e.node.aggData[l] !== void 0 ? a = (r = e.value) !== null && r !== void 0 ? r : void 0 : s = !1;
      } else
        a = (n = e.value) !== null && n !== void 0 ? n : void 0;
      if (!s) {
        this.eCheckbox.setDisplayed(!1);
        return;
      }
      this.eCheckbox.setValue(a);
      var u = e.disabled != null ? e.disabled : !(!((i = e.column) === null || i === void 0) && i.isCellEditable(e.node));
      this.eCheckbox.setDisabled(u);
      var c = this.localeService.getLocaleTextFunc(), d = ff(c, a), p = u ? d : c("ariaToggleCellValue", "Press SPACE to toggle cell value") + " (" + d + ")";
      this.eCheckbox.setInputAriaLabel(p);
    }, t.prototype.onCheckboxChanged = function(e) {
      var r = this.params, n = r.column, i = r.node, a = r.rowIndex, s = r.value, l = {
        type: R.EVENT_CELL_EDITING_STARTED,
        column: n,
        colDef: n == null ? void 0 : n.getColDef(),
        data: i.data,
        node: i,
        rowIndex: a,
        rowPinned: i.rowPinned,
        value: s
      };
      this.eventService.dispatchEvent(l);
      var u = this.params.node.setDataValue(this.params.column, e, "edit"), c = {
        type: R.EVENT_CELL_EDITING_STOPPED,
        column: n,
        colDef: n == null ? void 0 : n.getColDef(),
        data: i.data,
        node: i,
        rowIndex: a,
        rowPinned: i.rowPinned,
        value: s,
        oldValue: s,
        newValue: e,
        valueChanged: u
      };
      this.eventService.dispatchEvent(c);
    }, t.TEMPLATE = `
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`, PF([
      G("eCheckbox")
    ], t.prototype, "eCheckbox", void 0), t;
  }(te)
), MF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), IF = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, FF = (
  /** @class */
  function(o) {
    MF(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`
      ) || this;
    }
    return t.prototype.init = function(e) {
      var r = this, n;
      this.params = e;
      var i = (n = e.value) !== null && n !== void 0 ? n : void 0;
      this.eCheckbox.setValue(i), this.eCheckbox.getInputElement().setAttribute("tabindex", "-1"), this.setAriaLabel(i), this.addManagedListener(this.eCheckbox, On.EVENT_CHANGED, function(a) {
        return r.setAriaLabel(a.selected);
      });
    }, t.prototype.getValue = function() {
      return this.eCheckbox.getValue();
    }, t.prototype.focusIn = function() {
      this.eCheckbox.getFocusableElement().focus();
    }, t.prototype.afterGuiAttached = function() {
      this.params.cellStartedEdit && this.focusIn();
    }, t.prototype.isPopup = function() {
      return !1;
    }, t.prototype.setAriaLabel = function(e) {
      var r = this.localeService.getLocaleTextFunc(), n = ff(r, e), i = r("ariaToggleCellValue", "Press SPACE to toggle cell value");
      this.eCheckbox.setInputAriaLabel(i + " (" + n + ")");
    }, IF([
      G("eCheckbox")
    ], t.prototype, "eCheckbox", void 0), t;
  }(ps)
), LF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, JC = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, eS = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, NF = (
  /** @class */
  function(o) {
    LF(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.agGridDefaults = {
        //date
        agDateInput: RI,
        //header
        agColumnHeader: GI,
        agColumnGroupHeader: VI,
        agSortIndicator: Vm,
        //floating filters
        agTextColumnFloatingFilter: FI,
        agNumberColumnFloatingFilter: MI,
        agDateColumnFloatingFilter: OI,
        agReadOnlyFloatingFilter: nI,
        // renderers
        agAnimateShowChangeCellRenderer: eF,
        agAnimateSlideCellRenderer: nF,
        agGroupCellRenderer: ZC,
        agGroupRowRenderer: ZC,
        agLoadingCellRenderer: pF,
        agCheckboxCellRenderer: AF,
        //editors
        agCellEditor: XC,
        agTextCellEditor: XC,
        agNumberCellEditor: wF,
        agDateCellEditor: EF,
        agDateStringCellEditor: RF,
        agSelectCellEditor: UI,
        agLargeTextCellEditor: WI,
        agCheckboxCellEditor: FF,
        //filter
        agTextColumnFilter: Sf,
        agNumberColumnFilter: RE,
        agDateColumnFilter: bE,
        //overlays
        agLoadingOverlay: fF,
        agNoRowsOverlay: gF,
        // tooltips
        agTooltipComponent: mF
      }, e.enterpriseAgDefaultCompsModule = {
        agSetColumnFilter: Z.SetFilterModule,
        agSetColumnFloatingFilter: Z.SetFilterModule,
        agMultiColumnFilter: Z.MultiFilterModule,
        agMultiColumnFloatingFilter: Z.MultiFilterModule,
        agGroupColumnFilter: Z.RowGroupingModule,
        agGroupColumnFloatingFilter: Z.RowGroupingModule,
        agRichSelect: Z.RichSelectModule,
        agRichSelectCellEditor: Z.RichSelectModule,
        agDetailCellRenderer: Z.MasterDetailModule,
        agSparklineCellRenderer: Z.SparklinesModule
      }, e.jsComps = {}, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.gridOptions.components != null && ut(this.gridOptions.components, function(r, n) {
        return e.registerJsComponent(r, n);
      });
    }, t.prototype.registerDefaultComponent = function(e, r) {
      if (this.agGridDefaults[e]) {
        console.error("Trying to overwrite a default component. You should call registerComponent");
        return;
      }
      this.agGridDefaults[e] = r;
    }, t.prototype.registerJsComponent = function(e, r) {
      this.jsComps[e] = r;
    }, t.prototype.retrieve = function(e, r) {
      var n = this, i = function(d, p) {
        return { componentFromFramework: p, component: d };
      }, a = this.getFrameworkOverrides().frameworkComponent(r, this.gridOptions.components);
      if (a != null)
        return i(a, !0);
      var s = this.jsComps[r];
      if (s) {
        var l = this.getFrameworkOverrides().isFrameworkComponent(s);
        return i(s, l);
      }
      var u = this.agGridDefaults[r];
      if (u)
        return i(u, !1);
      var c = this.enterpriseAgDefaultCompsModule[r];
      return c ? de.__assertRegistered(c, "AG Grid '" + e + "' component: " + r, this.context.getGridId()) : ze(function() {
        n.warnAboutMissingComponent(e, r);
      }, "MissingComp" + r), null;
    }, t.prototype.warnAboutMissingComponent = function(e, r) {
      var n = eS(eS([], JC(Object.keys(this.agGridDefaults).filter(function(a) {
        return !["agCellEditor", "agGroupRowRenderer", "agSortIndicator"].includes(a);
      }))), JC(Object.keys(this.jsComps))), i = dm(r, n, !0, 0.8);
      console.warn("AG Grid: Could not find '" + r + `' component. It was configured as "` + e + ": '" + r + `'" but it wasn't found in the list of registered components.`), i.length > 0 && console.warn("         Did you mean: [" + i.slice(0, 3) + "]?"), console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/");
    }, dv([
      w("gridOptions")
    ], t.prototype, "gridOptions", void 0), dv([
      V
    ], t.prototype, "init", null), t = dv([
      q("userComponentRegistry")
    ], t), t;
  }(W)
), GF = {
  propertyName: "dateComponent",
  cellRenderer: !1
}, kF = {
  propertyName: "headerComponent",
  cellRenderer: !1
}, VF = {
  propertyName: "headerGroupComponent",
  cellRenderer: !1
}, tS = {
  propertyName: "cellRenderer",
  cellRenderer: !0
}, BF = {
  propertyName: "cellEditor",
  cellRenderer: !1
}, rS = {
  propertyName: "innerRenderer",
  cellRenderer: !0
}, HF = {
  propertyName: "loadingOverlayComponent",
  cellRenderer: !1
}, jF = {
  propertyName: "noRowsOverlayComponent",
  cellRenderer: !1
}, WF = {
  propertyName: "tooltipComponent",
  cellRenderer: !1
}, cy = {
  propertyName: "filter",
  cellRenderer: !1
}, $F = {
  propertyName: "floatingFilterComponent",
  cellRenderer: !1
}, UF = {
  propertyName: "toolPanel",
  cellRenderer: !1
}, zF = {
  propertyName: "statusPanel",
  cellRenderer: !1
}, KF = {
  propertyName: "fullWidthCellRenderer",
  cellRenderer: !0
}, YF = {
  propertyName: "loadingCellRenderer",
  cellRenderer: !0
}, XF = {
  propertyName: "groupRowRenderer",
  cellRenderer: !0
}, qF = {
  propertyName: "detailCellRenderer",
  cellRenderer: !0
}, ZF = (
  /** @class */
  function() {
    function o() {
    }
    return o.getFloatingFilterType = function(t) {
      return this.filterToFloatingFilterMapping[t];
    }, o.filterToFloatingFilterMapping = {
      set: "agSetColumnFloatingFilter",
      agSetColumnFilter: "agSetColumnFloatingFilter",
      multi: "agMultiColumnFloatingFilter",
      agMultiColumnFilter: "agMultiColumnFloatingFilter",
      group: "agGroupColumnFloatingFilter",
      agGroupColumnFilter: "agGroupColumnFloatingFilter",
      number: "agNumberColumnFloatingFilter",
      agNumberColumnFilter: "agNumberColumnFloatingFilter",
      date: "agDateColumnFloatingFilter",
      agDateColumnFilter: "agDateColumnFloatingFilter",
      text: "agTextColumnFloatingFilter",
      agTextColumnFilter: "agTextColumnFloatingFilter"
    }, o;
  }()
), QF = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ws = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, JF = (
  /** @class */
  function(o) {
    QF(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getHeaderCompDetails = function(e, r) {
      return this.getCompDetails(e, kF, "agColumnHeader", r);
    }, t.prototype.getHeaderGroupCompDetails = function(e) {
      var r = e.columnGroup.getColGroupDef();
      return this.getCompDetails(r, VF, "agColumnGroupHeader", e);
    }, t.prototype.getFullWidthCellRendererDetails = function(e) {
      return this.getCompDetails(this.gridOptions, KF, null, e, !0);
    }, t.prototype.getFullWidthLoadingCellRendererDetails = function(e) {
      return this.getCompDetails(this.gridOptions, YF, "agLoadingCellRenderer", e, !0);
    }, t.prototype.getFullWidthGroupCellRendererDetails = function(e) {
      return this.getCompDetails(this.gridOptions, XF, "agGroupRowRenderer", e, !0);
    }, t.prototype.getFullWidthDetailCellRendererDetails = function(e) {
      return this.getCompDetails(this.gridOptions, qF, "agDetailCellRenderer", e, !0);
    }, t.prototype.getInnerRendererDetails = function(e, r) {
      return this.getCompDetails(e, rS, null, r);
    }, t.prototype.getFullWidthGroupRowInnerCellRenderer = function(e, r) {
      return this.getCompDetails(e, rS, null, r);
    }, t.prototype.getCellRendererDetails = function(e, r) {
      return this.getCompDetails(e, tS, null, r);
    }, t.prototype.getCellEditorDetails = function(e, r) {
      return this.getCompDetails(e, BF, "agCellEditor", r, !0);
    }, t.prototype.getFilterDetails = function(e, r, n) {
      return this.getCompDetails(e, cy, n, r, !0);
    }, t.prototype.getDateCompDetails = function(e) {
      return this.getCompDetails(this.gridOptions, GF, "agDateInput", e, !0);
    }, t.prototype.getLoadingOverlayCompDetails = function(e) {
      return this.getCompDetails(this.gridOptions, HF, "agLoadingOverlay", e, !0);
    }, t.prototype.getNoRowsOverlayCompDetails = function(e) {
      return this.getCompDetails(this.gridOptions, jF, "agNoRowsOverlay", e, !0);
    }, t.prototype.getTooltipCompDetails = function(e) {
      return this.getCompDetails(e.colDef, WF, "agTooltipComponent", e, !0);
    }, t.prototype.getSetFilterCellRendererDetails = function(e, r) {
      return this.getCompDetails(e, tS, null, r);
    }, t.prototype.getFloatingFilterCompDetails = function(e, r, n) {
      return this.getCompDetails(e, $F, n, r);
    }, t.prototype.getToolPanelCompDetails = function(e, r) {
      return this.getCompDetails(e, UF, null, r, !0);
    }, t.prototype.getStatusPanelCompDetails = function(e, r) {
      return this.getCompDetails(e, zF, null, r, !0);
    }, t.prototype.getCompDetails = function(e, r, n, i, a) {
      var s = this;
      a === void 0 && (a = !1);
      var l = r.propertyName, u = r.cellRenderer, c = this.getCompKeys(e, r, i), d = c.compName, p = c.jsComp, h = c.fwComp, f = c.paramsFromSelector, v = c.popupFromSelector, g = c.popupPositionFromSelector, y = function(b) {
        var _ = s.userComponentRegistry.retrieve(l, b);
        _ && (p = _.componentFromFramework ? void 0 : _.component, h = _.componentFromFramework ? _.component : void 0);
      };
      if (d != null && y(d), p == null && h == null && n != null && y(n), p && u && !this.agComponentUtils.doesImplementIComponent(p) && (p = this.agComponentUtils.adaptFunction(l, p)), !p && !h) {
        a && console.error("AG Grid: Could not find component " + d + ", did you forget to configure this component?");
        return;
      }
      var m = this.mergeParamsWithApplicationProvidedParams(e, r, i, f), C = p == null, S = p || h;
      return {
        componentFromFramework: C,
        componentClass: S,
        params: m,
        type: r,
        popupFromSelector: v,
        popupPositionFromSelector: g,
        newAgStackInstance: function() {
          return s.newAgStackInstance(S, C, m, r);
        }
      };
    }, t.prototype.getCompKeys = function(e, r, n) {
      var i = this, a = r.propertyName, s, l, u, c, d, p;
      if (e) {
        var h = e, f = h[a + "Selector"], v = f ? f(n) : null, g = function(y) {
          if (typeof y == "string")
            s = y;
          else if (y != null && y !== !0) {
            var m = i.getFrameworkOverrides().isFrameworkComponent(y);
            m ? u = y : l = y;
          }
        };
        v ? (g(v.component), c = v.params, d = v.popup, p = v.popupPosition) : g(h[a]);
      }
      return { compName: s, jsComp: l, fwComp: u, paramsFromSelector: c, popupFromSelector: d, popupPositionFromSelector: p };
    }, t.prototype.newAgStackInstance = function(e, r, n, i) {
      var a = i.propertyName, s = !r, l;
      if (s)
        l = new e();
      else {
        var u = this.componentMetadataProvider.retrieve(a);
        l = this.frameworkComponentWrapper.wrap(e, u.mandatoryMethodList, u.optionalMethodList, i);
      }
      var c = this.initComponent(l, n);
      return c == null ? Je.resolve(l) : c.then(function() {
        return l;
      });
    }, t.prototype.mergeParamsWithApplicationProvidedParams = function(e, r, n, i) {
      i === void 0 && (i = null);
      var a = {
        context: this.gridOptionsService.context,
        columnApi: this.gridOptionsService.columnApi,
        api: this.gridOptionsService.api
      };
      Zr(a, n);
      var s = e, l = s && s[r.propertyName + "Params"];
      if (typeof l == "function") {
        var u = l(n);
        Zr(a, u);
      } else
        typeof l == "object" && Zr(a, l);
      return Zr(a, i), a;
    }, t.prototype.initComponent = function(e, r) {
      if (this.context.createBean(e), e.init != null)
        return e.init(r);
    }, t.prototype.getDefaultFloatingFilterType = function(e, r) {
      if (e == null)
        return null;
      var n = null, i = this.getCompKeys(e, cy), a = i.compName, s = i.jsComp, l = i.fwComp;
      if (a)
        n = ZF.getFloatingFilterType(a);
      else {
        var u = s == null && l == null && e.filter === !0;
        u && (n = r());
      }
      return n;
    }, ws([
      w("gridOptions")
    ], t.prototype, "gridOptions", void 0), ws([
      w("agComponentUtils")
    ], t.prototype, "agComponentUtils", void 0), ws([
      w("componentMetadataProvider")
    ], t.prototype, "componentMetadataProvider", void 0), ws([
      w("userComponentRegistry")
    ], t.prototype, "userComponentRegistry", void 0), ws([
      Fe("frameworkComponentWrapper")
    ], t.prototype, "frameworkComponentWrapper", void 0), t = ws([
      q("userComponentFactory")
    ], t), t;
  }(W)
), is;
(function(o) {
  o[o.SINGLE_SHEET = 0] = "SINGLE_SHEET", o[o.MULTI_SHEET = 1] = "MULTI_SHEET";
})(is || (is = {}));
var eL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, tL = (
  /** @class */
  function(o) {
    eL(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.dragEndFunctions = [], e.dragSources = [], e;
    }
    return t.prototype.removeAllListeners = function() {
      this.dragSources.forEach(this.removeListener.bind(this)), this.dragSources.length = 0;
    }, t.prototype.removeListener = function(e) {
      var r = e.dragSource.eElement, n = e.mouseDownListener;
      if (r.removeEventListener("mousedown", n), e.touchEnabled) {
        var i = e.touchStartListener;
        r.removeEventListener("touchstart", i, { passive: !0 });
      }
    }, t.prototype.removeDragSource = function(e) {
      var r = this.dragSources.find(function(n) {
        return n.dragSource === e;
      });
      r && (this.removeListener(r), vr(this.dragSources, r));
    }, t.prototype.isDragging = function() {
      return this.dragging;
    }, t.prototype.addDragSource = function(e) {
      var r = this, n = this.onMouseDown.bind(this, e), i = e.eElement, a = e.includeTouch, s = e.stopPropagationForTouch;
      i.addEventListener("mousedown", n);
      var l = null, u = this.gridOptionsService.is("suppressTouch");
      a && !u && (l = function(c) {
        bm(c.target) || (c.cancelable && (c.preventDefault(), s && c.stopPropagation()), r.onTouchStart(e, c));
      }, i.addEventListener("touchstart", l, { passive: !1 })), this.dragSources.push({
        dragSource: e,
        mouseDownListener: n,
        touchStartListener: l,
        touchEnabled: !!a
      });
    }, t.prototype.getStartTarget = function() {
      return this.startTarget;
    }, t.prototype.onTouchStart = function(e, r) {
      var n = this;
      this.currentDragParams = e, this.dragging = !1;
      var i = r.touches[0];
      this.touchLastTime = i, this.touchStart = i;
      var a = function(d) {
        return n.onTouchMove(d, e.eElement);
      }, s = function(d) {
        return n.onTouchUp(d, e.eElement);
      }, l = function(d) {
        d.cancelable && d.preventDefault();
      }, u = r.target, c = [
        // Prevents the page document from moving while we are dragging items around.
        // preventDefault needs to be called in the touchmove listener and never inside the
        // touchstart, because using touchstart causes the click event to be cancelled on touch devices.
        { target: this.gridOptionsService.getRootNode(), type: "touchmove", listener: l, options: { passive: !1 } },
        { target: u, type: "touchmove", listener: a, options: { passive: !0 } },
        { target: u, type: "touchend", listener: s, options: { passive: !0 } },
        { target: u, type: "touchcancel", listener: s, options: { passive: !0 } }
      ];
      this.addTemporaryEvents(c), e.dragStartPixels === 0 && this.onCommonMove(i, this.touchStart, e.eElement);
    }, t.prototype.onMouseDown = function(e, r) {
      var n = this, i = r;
      if (!(e.skipMouseEvent && e.skipMouseEvent(r)) && !i._alreadyProcessedByDragService && (i._alreadyProcessedByDragService = !0, r.button === 0)) {
        this.shouldPreventMouseEvent(r) && r.preventDefault(), this.currentDragParams = e, this.dragging = !1, this.mouseStartEvent = r, this.startTarget = r.target;
        var a = function(d) {
          return n.onMouseMove(d, e.eElement);
        }, s = function(d) {
          return n.onMouseUp(d, e.eElement);
        }, l = function(d) {
          return d.preventDefault();
        }, u = this.gridOptionsService.getRootNode(), c = [
          { target: u, type: "mousemove", listener: a },
          { target: u, type: "mouseup", listener: s },
          { target: u, type: "contextmenu", listener: l }
        ];
        this.addTemporaryEvents(c), e.dragStartPixels === 0 && this.onMouseMove(r, e.eElement);
      }
    }, t.prototype.addTemporaryEvents = function(e) {
      e.forEach(function(r) {
        var n = r.target, i = r.type, a = r.listener, s = r.options;
        n.addEventListener(i, a, s);
      }), this.dragEndFunctions.push(function() {
        e.forEach(function(r) {
          var n = r.target, i = r.type, a = r.listener, s = r.options;
          n.removeEventListener(i, a, s);
        });
      });
    }, t.prototype.isEventNearStartEvent = function(e, r) {
      var n = this.currentDragParams.dragStartPixels, i = z(n) ? n : 4;
      return Mm(e, r, i);
    }, t.prototype.getFirstActiveTouch = function(e) {
      for (var r = 0; r < e.length; r++)
        if (e[r].identifier === this.touchStart.identifier)
          return e[r];
      return null;
    }, t.prototype.onCommonMove = function(e, r, n) {
      if (!this.dragging) {
        if (!this.dragging && this.isEventNearStartEvent(e, r))
          return;
        this.dragging = !0;
        var i = {
          type: R.EVENT_DRAG_STARTED,
          target: n
        };
        this.eventService.dispatchEvent(i), this.currentDragParams.onDragStart(r), this.currentDragParams.onDragging(r);
      }
      this.currentDragParams.onDragging(e);
    }, t.prototype.onTouchMove = function(e, r) {
      var n = this.getFirstActiveTouch(e.touches);
      n && this.onCommonMove(n, this.touchStart, r);
    }, t.prototype.onMouseMove = function(e, r) {
      this.shouldPreventMouseEvent(e) && e.preventDefault(), this.onCommonMove(e, this.mouseStartEvent, r);
    }, t.prototype.shouldPreventMouseEvent = function(e) {
      var r = this.gridOptionsService.is("enableCellTextSelection"), n = En(), i = e.type === "mousemove";
      return (
        // when `isEnableCellTextSelect` is `true`, we need to preventDefault on mouseMove
        // to avoid the grid text being selected while dragging components.
        // Note: Safari also has an issue, where `user-select: none` is not being respected, so also
        // prevent it on MouseDown.
        (r && i || n) && e.cancelable && this.mouseEventService.isEventFromThisGrid(e) && !this.isOverFormFieldElement(e)
      );
    }, t.prototype.isOverFormFieldElement = function(e) {
      var r = e.target, n = r == null ? void 0 : r.tagName.toLocaleLowerCase();
      return !!(n != null && n.match("^a$|textarea|input|select|button"));
    }, t.prototype.onTouchUp = function(e, r) {
      var n = this.getFirstActiveTouch(e.changedTouches);
      n || (n = this.touchLastTime), this.onUpCommon(n, r);
    }, t.prototype.onMouseUp = function(e, r) {
      this.onUpCommon(e, r);
    }, t.prototype.onUpCommon = function(e, r) {
      if (this.dragging) {
        this.dragging = !1, this.currentDragParams.onDragStop(e);
        var n = {
          type: R.EVENT_DRAG_STOPPED,
          target: r
        };
        this.eventService.dispatchEvent(n);
      }
      this.mouseStartEvent = null, this.startTarget = null, this.touchStart = null, this.touchLastTime = null, this.currentDragParams = null, this.dragEndFunctions.forEach(function(i) {
        return i();
      }), this.dragEndFunctions.length = 0;
    }, pv([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), pv([
      rt
    ], t.prototype, "removeAllListeners", null), t = pv([
      q("dragService")
    ], t), t;
  }(W)
), ro;
(function(o) {
  o[o.Above = 0] = "Above", o[o.Below = 1] = "Below";
})(ro || (ro = {}));
var Xe;
(function(o) {
  o.EVERYTHING = "group", o.FILTER = "filter", o.SORT = "sort", o.MAP = "map", o.AGGREGATE = "aggregate", o.FILTER_AGGREGATES = "filter_aggregates", o.PIVOT = "pivot", o.NOTHING = "nothing";
})(Xe || (Xe = {}));
var Ue = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
function ka(o) {
  var t = o, e = t != null && t.getFrameworkComponentInstance != null;
  return e ? t.getFrameworkComponentInstance() : o;
}
var rL = (
  /** @class */
  function() {
    function o() {
      this.detailGridInfoMap = {}, this.destroyCalled = !1;
    }
    return o.prototype.registerOverlayWrapperComp = function(t) {
      this.overlayWrapperComp = t;
    }, o.prototype.registerSideBarComp = function(t) {
      this.sideBarComp = t;
    }, o.prototype.init = function() {
      var t = this;
      switch (this.rowModel.getType()) {
        case "clientSide":
          this.clientSideRowModel = this.rowModel;
          break;
        case "infinite":
          this.infiniteRowModel = this.rowModel;
          break;
        case "serverSide":
          this.serverSideRowModel = this.rowModel;
          break;
      }
      this.ctrlsService.whenReady(function() {
        t.gridBodyCtrl = t.ctrlsService.getGridBodyCtrl();
      });
    }, o.prototype.__getAlignedGridService = function() {
      return this.alignedGridsService;
    }, o.prototype.__getContext = function() {
      return this.context;
    }, o.prototype.getSetterMethod = function(t) {
      return "set" + t.charAt(0).toUpperCase() + t.substring(1);
    }, o.prototype.__setProperty = function(t, e) {
      this.gridOptionsService.set(t, e);
      var r = this.getSetterMethod(t), n = this;
      n[r] && n[r](e);
    }, o.prototype.getGridId = function() {
      return this.context.getGridId();
    }, o.prototype.addDetailGridInfo = function(t, e) {
      this.detailGridInfoMap[t] = e;
    }, o.prototype.removeDetailGridInfo = function(t) {
      this.detailGridInfoMap[t] = void 0;
    }, o.prototype.getDetailGridInfo = function(t) {
      return this.detailGridInfoMap[t];
    }, o.prototype.forEachDetailGridInfo = function(t) {
      var e = 0;
      ut(this.detailGridInfoMap, function(r, n) {
        z(n) && (t(n, e), e++);
      });
    }, o.prototype.getDataAsCsv = function(t) {
      if (de.__assertRegistered(Z.CsvExportModule, "api.getDataAsCsv", this.context.getGridId()))
        return this.csvCreator.getDataAsCsv(t);
    }, o.prototype.exportDataAsCsv = function(t) {
      de.__assertRegistered(Z.CsvExportModule, "api.exportDataAsCSv", this.context.getGridId()) && this.csvCreator.exportDataAsCsv(t);
    }, o.prototype.getExcelExportMode = function(t) {
      var e = this.gridOptionsService.get("defaultExcelExportParams"), r = Object.assign({ exportMode: "xlsx" }, e, t);
      return r.exportMode;
    }, o.prototype.assertNotExcelMultiSheet = function(t, e) {
      if (!de.__assertRegistered(Z.ExcelExportModule, "api." + t, this.context.getGridId()))
        return !1;
      var r = this.getExcelExportMode(e);
      return this.excelCreator.getFactoryMode(r) === is.MULTI_SHEET ? (console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"), !1) : !0;
    }, o.prototype.getDataAsExcel = function(t) {
      if (this.assertNotExcelMultiSheet("getDataAsExcel", t))
        return this.excelCreator.getDataAsExcel(t);
    }, o.prototype.exportDataAsExcel = function(t) {
      this.assertNotExcelMultiSheet("exportDataAsExcel", t) && this.excelCreator.exportDataAsExcel(t);
    }, o.prototype.getSheetDataForExcel = function(t) {
      if (de.__assertRegistered(Z.ExcelExportModule, "api.getSheetDataForExcel", this.context.getGridId())) {
        var e = this.getExcelExportMode(t);
        return this.excelCreator.setFactoryMode(is.MULTI_SHEET, e), this.excelCreator.getSheetDataForExcel(t);
      }
    }, o.prototype.getMultipleSheetsAsExcel = function(t) {
      if (de.__assertRegistered(Z.ExcelExportModule, "api.getMultipleSheetsAsExcel", this.context.getGridId()))
        return this.excelCreator.getMultipleSheetsAsExcel(t);
    }, o.prototype.exportMultipleSheetsAsExcel = function(t) {
      if (de.__assertRegistered(Z.ExcelExportModule, "api.exportMultipleSheetsAsExcel", this.context.getGridId()))
        return this.excelCreator.exportMultipleSheetsAsExcel(t);
    }, o.prototype.setGridAriaProperty = function(t, e) {
      if (t) {
        var r = this.ctrlsService.getGridBodyCtrl().getGui(), n = "aria-" + t;
        e === null ? r.removeAttribute(n) : r.setAttribute(n, e);
      }
    }, o.prototype.logMissingRowModel = function(t) {
      for (var e = [], r = 1; r < arguments.length; r++)
        e[r - 1] = arguments[r];
      console.error("AG Grid: api." + t + " can only be called when gridOptions.rowModelType is " + e.join(" or "));
    }, o.prototype.setServerSideDatasource = function(t) {
      this.serverSideRowModel ? this.serverSideRowModel.setDatasource(t) : this.logMissingRowModel("setServerSideDatasource", "serverSide");
    }, o.prototype.setCacheBlockSize = function(t) {
      this.serverSideRowModel ? (this.gridOptionsService.set("cacheBlockSize", t), this.serverSideRowModel.resetRootStore()) : this.logMissingRowModel("setCacheBlockSize", "serverSide");
    }, o.prototype.setDatasource = function(t) {
      this.gridOptionsService.isRowModelType("infinite") ? this.rowModel.setDatasource(t) : this.logMissingRowModel("setDatasource", "infinite");
    }, o.prototype.setViewportDatasource = function(t) {
      this.gridOptionsService.isRowModelType("viewport") ? this.rowModel.setViewportDatasource(t) : this.logMissingRowModel("setViewportDatasource", "viewport");
    }, o.prototype.setRowData = function(t) {
      var e = this.immutableService == null;
      if (e) {
        this.logMissingRowModel("setRowData", "clientSide");
        return;
      }
      this.immutableService.isActive() ? this.immutableService.setRowData(t) : (this.selectionService.reset(), this.clientSideRowModel.setRowData(t));
    }, o.prototype.setPinnedTopRowData = function(t) {
      this.pinnedRowModel.setPinnedTopRowData(t);
    }, o.prototype.setPinnedBottomRowData = function(t) {
      this.pinnedRowModel.setPinnedBottomRowData(t);
    }, o.prototype.getPinnedTopRowCount = function() {
      return this.pinnedRowModel.getPinnedTopRowCount();
    }, o.prototype.getPinnedBottomRowCount = function() {
      return this.pinnedRowModel.getPinnedBottomRowCount();
    }, o.prototype.getPinnedTopRow = function(t) {
      return this.pinnedRowModel.getPinnedTopRow(t);
    }, o.prototype.getPinnedBottomRow = function(t) {
      return this.pinnedRowModel.getPinnedBottomRow(t);
    }, o.prototype.setColumnDefs = function(t, e) {
      e === void 0 && (e = "api"), this.columnModel.setColumnDefs(t, e), this.gridOptionsService.set("columnDefs", t, !0, { source: e });
    }, o.prototype.setAutoGroupColumnDef = function(t, e) {
      e === void 0 && (e = "api"), this.gridOptionsService.set("autoGroupColumnDef", t, !0, { source: e });
    }, o.prototype.setDefaultColDef = function(t, e) {
      e === void 0 && (e = "api"), this.gridOptionsService.set("defaultColDef", t, !0, { source: e });
    }, o.prototype.setColumnTypes = function(t, e) {
      e === void 0 && (e = "api"), this.gridOptionsService.set("columnTypes", t, !0, { source: e });
    }, o.prototype.expireValueCache = function() {
      this.valueCache.expire();
    }, o.prototype.getVerticalPixelRange = function() {
      return this.gridBodyCtrl.getScrollFeature().getVScrollPosition();
    }, o.prototype.getHorizontalPixelRange = function() {
      return this.gridBodyCtrl.getScrollFeature().getHScrollPosition();
    }, o.prototype.setAlwaysShowHorizontalScroll = function(t) {
      this.gridOptionsService.set("alwaysShowHorizontalScroll", t);
    }, o.prototype.setAlwaysShowVerticalScroll = function(t) {
      this.gridOptionsService.set("alwaysShowVerticalScroll", t);
    }, o.prototype.refreshCells = function(t) {
      t === void 0 && (t = {}), this.rowRenderer.refreshCells(t);
    }, o.prototype.flashCells = function(t) {
      t === void 0 && (t = {}), this.rowRenderer.flashCells(t);
    }, o.prototype.redrawRows = function(t) {
      t === void 0 && (t = {});
      var e = t ? t.rowNodes : void 0;
      this.rowRenderer.redrawRows(e);
    }, o.prototype.setFunctionsReadOnly = function(t) {
      this.gridOptionsService.set("functionsReadOnly", t);
    }, o.prototype.refreshHeader = function() {
      this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t) {
        return t.refresh();
      });
    }, o.prototype.isAnyFilterPresent = function() {
      return this.filterManager.isAnyFilterPresent();
    }, o.prototype.isColumnFilterPresent = function() {
      return this.filterManager.isColumnFilterPresent() || this.filterManager.isAggregateFilterPresent();
    }, o.prototype.isQuickFilterPresent = function() {
      return this.filterManager.isQuickFilterPresent();
    }, o.prototype.getModel = function() {
      return this.rowModel;
    }, o.prototype.setRowNodeExpanded = function(t, e, r) {
      t && (r && t.parent && t.parent.level !== -1 && this.setRowNodeExpanded(t.parent, e, r), t.setExpanded(e));
    }, o.prototype.onGroupExpandedOrCollapsed = function() {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("onGroupExpandedOrCollapsed", "clientSide");
        return;
      }
      this.clientSideRowModel.refreshModel({ step: Xe.MAP });
    }, o.prototype.refreshClientSideRowModel = function(t) {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("refreshClientSideRowModel", "clientSide");
        return;
      }
      this.clientSideRowModel.refreshModel(t);
    }, o.prototype.isAnimationFrameQueueEmpty = function() {
      return this.animationFrameService.isQueueEmpty();
    }, o.prototype.flushAllAnimationFrames = function() {
      this.animationFrameService.flushAllFrames();
    }, o.prototype.getRowNode = function(t) {
      return this.rowModel.getRowNode(t);
    }, o.prototype.getSizesForCurrentTheme = function() {
      return {
        rowHeight: this.gridOptionsService.getRowHeightAsNumber(),
        headerHeight: this.columnModel.getHeaderHeight()
      };
    }, o.prototype.expandAll = function() {
      this.clientSideRowModel ? this.clientSideRowModel.expandOrCollapseAll(!0) : this.serverSideRowModel ? this.serverSideRowModel.expandAll(!0) : this.logMissingRowModel("expandAll", "clientSide", "serverSide");
    }, o.prototype.collapseAll = function() {
      this.clientSideRowModel ? this.clientSideRowModel.expandOrCollapseAll(!1) : this.serverSideRowModel ? this.serverSideRowModel.expandAll(!1) : this.logMissingRowModel("expandAll", "clientSide", "serverSide");
    }, o.prototype.addRenderedRowListener = function(t, e, r) {
      this.rowRenderer.addRenderedRowListener(t, e, r);
    }, o.prototype.getQuickFilter = function() {
      return this.gridOptionsService.get("quickFilterText");
    }, o.prototype.setQuickFilter = function(t) {
      this.gridOptionsService.set("quickFilterText", t);
    }, o.prototype.setExcludeHiddenColumnsFromQuickFilter = function(t) {
      gn("30", "setExcludeHiddenColumnsFromQuickFilter", void 0, "Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"), this.setIncludeHiddenColumnsInQuickFilter(!t);
    }, o.prototype.setIncludeHiddenColumnsInQuickFilter = function(t) {
      this.gridOptionsService.set("includeHiddenColumnsInQuickFilter", t);
    }, o.prototype.setNodesSelected = function(t) {
      var e = t.nodes.every(function(s) {
        return s.rowPinned ? (console.warn("AG Grid: cannot select pinned rows"), !1) : s.id === void 0 ? (console.warn("AG Grid: cannot select node until id for node is known"), !1) : !0;
      });
      if (e) {
        var r = t.nodes, n = t.source, i = t.newValue, a = r;
        this.selectionService.setNodesSelected({ nodes: a, source: n != null ? n : "api", newValue: i });
      }
    }, o.prototype.selectAll = function(t) {
      t === void 0 && (t = "apiSelectAll"), this.selectionService.selectAllRowNodes({ source: t });
    }, o.prototype.deselectAll = function(t) {
      t === void 0 && (t = "apiSelectAll"), this.selectionService.deselectAllRowNodes({ source: t });
    }, o.prototype.selectAllFiltered = function(t) {
      t === void 0 && (t = "apiSelectAllFiltered"), this.selectionService.selectAllRowNodes({ source: t, justFiltered: !0 });
    }, o.prototype.deselectAllFiltered = function(t) {
      t === void 0 && (t = "apiSelectAllFiltered"), this.selectionService.deselectAllRowNodes({ source: t, justFiltered: !0 });
    }, o.prototype.getServerSideSelectionState = function() {
      return me(this.serverSideRowModel) ? (this.logMissingRowModel("getServerSideSelectionState", "serverSide"), null) : this.selectionService.getServerSideSelectionState();
    }, o.prototype.setServerSideSelectionState = function(t) {
      if (me(this.serverSideRowModel)) {
        this.logMissingRowModel("setServerSideSelectionState", "serverSide");
        return;
      }
      this.selectionService.setServerSideSelectionState(t);
    }, o.prototype.selectAllOnCurrentPage = function(t) {
      t === void 0 && (t = "apiSelectAllCurrentPage"), this.selectionService.selectAllRowNodes({ source: t, justCurrentPage: !0 });
    }, o.prototype.deselectAllOnCurrentPage = function(t) {
      t === void 0 && (t = "apiSelectAllCurrentPage"), this.selectionService.deselectAllRowNodes({ source: t, justCurrentPage: !0 });
    }, o.prototype.sizeColumnsToFit = function(t) {
      this.gridBodyCtrl.sizeColumnsToFit(t);
    }, o.prototype.showLoadingOverlay = function() {
      this.overlayWrapperComp.showLoadingOverlay();
    }, o.prototype.showNoRowsOverlay = function() {
      this.overlayWrapperComp.showNoRowsOverlay();
    }, o.prototype.hideOverlay = function() {
      this.overlayWrapperComp.hideOverlay();
    }, o.prototype.getSelectedNodes = function() {
      return this.selectionService.getSelectedNodes();
    }, o.prototype.getSelectedRows = function() {
      return this.selectionService.getSelectedRows();
    }, o.prototype.getBestCostNodeSelection = function() {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("getBestCostNodeSelection", "clientSide");
        return;
      }
      return this.selectionService.getBestCostNodeSelection();
    }, o.prototype.getRenderedNodes = function() {
      return this.rowRenderer.getRenderedNodes();
    }, o.prototype.ensureColumnVisible = function(t, e) {
      e === void 0 && (e = "auto"), this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t, e);
    }, o.prototype.ensureIndexVisible = function(t, e) {
      this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t, e);
    }, o.prototype.ensureNodeVisible = function(t, e) {
      e === void 0 && (e = null), this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t, e);
    }, o.prototype.forEachLeafNode = function(t) {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("forEachLeafNode", "clientSide");
        return;
      }
      this.clientSideRowModel.forEachLeafNode(t);
    }, o.prototype.forEachNode = function(t, e) {
      this.rowModel.forEachNode(t, e);
    }, o.prototype.forEachNodeAfterFilter = function(t) {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("forEachNodeAfterFilter", "clientSide");
        return;
      }
      this.clientSideRowModel.forEachNodeAfterFilter(t);
    }, o.prototype.forEachNodeAfterFilterAndSort = function(t) {
      if (me(this.clientSideRowModel)) {
        this.logMissingRowModel("forEachNodeAfterFilterAndSort", "clientSide");
        return;
      }
      this.clientSideRowModel.forEachNodeAfterFilterAndSort(t);
    }, o.prototype.getFilterInstance = function(t, e) {
      var r = this.getFilterInstanceImpl(t, function(i) {
        if (e) {
          var a = ka(i);
          e(a);
        }
      }), n = ka(r);
      return n;
    }, o.prototype.getFilterInstanceImpl = function(t, e) {
      var r = this.columnModel.getPrimaryColumn(t);
      if (r) {
        var n = this.filterManager.getFilterComponent(r, "NO_UI"), i = n && n.resolveNow(null, function(a) {
          return a;
        });
        return i ? setTimeout(e, 0, i) : n && n.then(function(a) {
          e(a);
        }), i;
      }
    }, o.prototype.destroyFilter = function(t) {
      var e = this.columnModel.getPrimaryColumn(t);
      if (e)
        return this.filterManager.destroyFilter(e, "api");
    }, o.prototype.getStatusPanel = function(t) {
      if (de.__assertRegistered(Z.StatusBarModule, "api.getStatusPanel", this.context.getGridId())) {
        var e = this.statusBarService.getStatusPanel(t);
        return ka(e);
      }
    }, o.prototype.getColumnDef = function(t) {
      var e = this.columnModel.getPrimaryColumn(t);
      return e ? e.getColDef() : null;
    }, o.prototype.getColumnDefs = function() {
      return this.columnModel.getColumnDefs();
    }, o.prototype.onFilterChanged = function() {
      this.filterManager.onFilterChanged();
    }, o.prototype.onSortChanged = function() {
      this.sortController.onSortChanged("api");
    }, o.prototype.setFilterModel = function(t) {
      this.filterManager.setFilterModel(t);
    }, o.prototype.getFilterModel = function() {
      return this.filterManager.getFilterModel();
    }, o.prototype.getFocusedCell = function() {
      return this.focusService.getFocusedCell();
    }, o.prototype.clearFocusedCell = function() {
      return this.focusService.clearFocusedCell();
    }, o.prototype.setFocusedCell = function(t, e, r) {
      this.focusService.setFocusedCell({ rowIndex: t, column: e, rowPinned: r, forceBrowserFocus: !0 });
    }, o.prototype.setSuppressRowDrag = function(t) {
      this.gridOptionsService.set("suppressRowDrag", t);
    }, o.prototype.setSuppressMoveWhenRowDragging = function(t) {
      this.gridOptionsService.set("suppressMoveWhenRowDragging", t);
    }, o.prototype.setSuppressRowClickSelection = function(t) {
      this.gridOptionsService.set("suppressRowClickSelection", t);
    }, o.prototype.addRowDropZone = function(t) {
      this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t);
    }, o.prototype.removeRowDropZone = function(t) {
      var e = this.dragAndDropService.findExternalZone(t);
      e && this.dragAndDropService.removeDropTarget(e);
    }, o.prototype.getRowDropZoneParams = function(t) {
      return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t);
    }, o.prototype.setHeaderHeight = function(t) {
      this.gridOptionsService.set("headerHeight", t);
    }, o.prototype.setDomLayout = function(t) {
      this.gridOptionsService.set("domLayout", t);
    }, o.prototype.setEnableCellTextSelection = function(t) {
      this.gridBodyCtrl.setCellTextSelection(t);
    }, o.prototype.setFillHandleDirection = function(t) {
      this.gridOptionsService.set("fillHandleDirection", t);
    }, o.prototype.setGroupHeaderHeight = function(t) {
      this.gridOptionsService.set("groupHeaderHeight", t);
    }, o.prototype.setFloatingFiltersHeight = function(t) {
      this.gridOptionsService.set("floatingFiltersHeight", t);
    }, o.prototype.setPivotHeaderHeight = function(t) {
      this.gridOptionsService.set("pivotHeaderHeight", t);
    }, o.prototype.setPivotGroupHeaderHeight = function(t) {
      this.gridOptionsService.set("pivotGroupHeaderHeight", t);
    }, o.prototype.setPivotMode = function(t) {
      this.columnModel.setPivotMode(t);
    }, o.prototype.setAnimateRows = function(t) {
      this.gridOptionsService.set("animateRows", t);
    }, o.prototype.setIsExternalFilterPresent = function(t) {
      this.gridOptionsService.set("isExternalFilterPresent", t);
    }, o.prototype.setDoesExternalFilterPass = function(t) {
      this.gridOptionsService.set("doesExternalFilterPass", t);
    }, o.prototype.setNavigateToNextCell = function(t) {
      this.gridOptionsService.set("navigateToNextCell", t);
    }, o.prototype.setTabToNextCell = function(t) {
      this.gridOptionsService.set("tabToNextCell", t);
    }, o.prototype.setTabToNextHeader = function(t) {
      this.gridOptionsService.set("tabToNextHeader", t);
    }, o.prototype.setNavigateToNextHeader = function(t) {
      this.gridOptionsService.set("navigateToNextHeader", t);
    }, o.prototype.setRowGroupPanelShow = function(t) {
      this.gridOptionsService.set("rowGroupPanelShow", t);
    }, o.prototype.setGetGroupRowAgg = function(t) {
      this.gridOptionsService.set("getGroupRowAgg", t);
    }, o.prototype.setGetBusinessKeyForNode = function(t) {
      this.gridOptionsService.set("getBusinessKeyForNode", t);
    }, o.prototype.setGetChildCount = function(t) {
      this.gridOptionsService.set("getChildCount", t);
    }, o.prototype.setProcessRowPostCreate = function(t) {
      this.gridOptionsService.set("processRowPostCreate", t);
    }, o.prototype.setGetRowId = function(t) {
      this.gridOptionsService.set("getRowId", t);
    }, o.prototype.setGetRowClass = function(t) {
      this.gridOptionsService.set("getRowClass", t);
    }, o.prototype.setIsFullWidthRow = function(t) {
      this.gridOptionsService.set("isFullWidthRow", t);
    }, o.prototype.setIsRowSelectable = function(t) {
      this.gridOptionsService.set("isRowSelectable", t);
    }, o.prototype.setIsRowMaster = function(t) {
      this.gridOptionsService.set("isRowMaster", t);
    }, o.prototype.setPostSortRows = function(t) {
      this.gridOptionsService.set("postSortRows", t);
    }, o.prototype.setGetDocument = function(t) {
      this.gridOptionsService.set("getDocument", t);
    }, o.prototype.setGetContextMenuItems = function(t) {
      this.gridOptionsService.set("getContextMenuItems", t);
    }, o.prototype.setGetMainMenuItems = function(t) {
      this.gridOptionsService.set("getMainMenuItems", t);
    }, o.prototype.setProcessCellForClipboard = function(t) {
      this.gridOptionsService.set("processCellForClipboard", t);
    }, o.prototype.setSendToClipboard = function(t) {
      this.gridOptionsService.set("sendToClipboard", t);
    }, o.prototype.setProcessCellFromClipboard = function(t) {
      this.gridOptionsService.set("processCellFromClipboard", t);
    }, o.prototype.setProcessSecondaryColDef = function(t) {
      gn("28.0", "setProcessSecondaryColDef", "setProcessPivotResultColDef"), this.setProcessPivotResultColDef(t);
    }, o.prototype.setProcessSecondaryColGroupDef = function(t) {
      gn("28.0", "setProcessSecondaryColGroupDef", "setProcessPivotResultColGroupDef"), this.setProcessPivotResultColGroupDef(t);
    }, o.prototype.setProcessPivotResultColDef = function(t) {
      this.gridOptionsService.set("processPivotResultColDef", t);
    }, o.prototype.setProcessPivotResultColGroupDef = function(t) {
      this.gridOptionsService.set("processPivotResultColGroupDef", t);
    }, o.prototype.setPostProcessPopup = function(t) {
      this.gridOptionsService.set("postProcessPopup", t);
    }, o.prototype.setInitialGroupOrderComparator = function(t) {
      this.gridOptionsService.set("initialGroupOrderComparator", t);
    }, o.prototype.setGetChartToolbarItems = function(t) {
      this.gridOptionsService.set("getChartToolbarItems", t);
    }, o.prototype.setPaginationNumberFormatter = function(t) {
      this.gridOptionsService.set("paginationNumberFormatter", t);
    }, o.prototype.setGetServerSideStoreParams = function(t) {
      gn("28.0", "setGetServerSideStoreParams", "setGetServerSideGroupLevelParams"), this.setGetServerSideGroupLevelParams(t);
    }, o.prototype.setGetServerSideGroupLevelParams = function(t) {
      this.gridOptionsService.set("getServerSideGroupLevelParams", t);
    }, o.prototype.setIsServerSideGroupOpenByDefault = function(t) {
      this.gridOptionsService.set("isServerSideGroupOpenByDefault", t);
    }, o.prototype.setIsApplyServerSideTransaction = function(t) {
      this.gridOptionsService.set("isApplyServerSideTransaction", t);
    }, o.prototype.setIsServerSideGroup = function(t) {
      this.gridOptionsService.set("isServerSideGroup", t);
    }, o.prototype.setGetServerSideGroupKey = function(t) {
      this.gridOptionsService.set("getServerSideGroupKey", t);
    }, o.prototype.setGetRowStyle = function(t) {
      this.gridOptionsService.set("getRowStyle", t);
    }, o.prototype.setGetRowHeight = function(t) {
      this.gridOptionsService.set("getRowHeight", t);
    }, o.prototype.assertSideBarLoaded = function(t) {
      return de.__assertRegistered(Z.SideBarModule, "api." + t, this.context.getGridId());
    }, o.prototype.isSideBarVisible = function() {
      return this.assertSideBarLoaded("isSideBarVisible") && this.sideBarComp.isDisplayed();
    }, o.prototype.setSideBarVisible = function(t) {
      this.assertSideBarLoaded("setSideBarVisible") && this.sideBarComp.setDisplayed(t);
    }, o.prototype.setSideBarPosition = function(t) {
      this.assertSideBarLoaded("setSideBarPosition") && this.sideBarComp.setSideBarPosition(t);
    }, o.prototype.openToolPanel = function(t) {
      this.assertSideBarLoaded("openToolPanel") && this.sideBarComp.openToolPanel(t, "api");
    }, o.prototype.closeToolPanel = function() {
      this.assertSideBarLoaded("closeToolPanel") && this.sideBarComp.close("api");
    }, o.prototype.getOpenedToolPanel = function() {
      return this.assertSideBarLoaded("getOpenedToolPanel") ? this.sideBarComp.openedItem() : null;
    }, o.prototype.refreshToolPanel = function() {
      this.assertSideBarLoaded("refreshToolPanel") && this.sideBarComp.refresh();
    }, o.prototype.isToolPanelShowing = function() {
      return this.assertSideBarLoaded("isToolPanelShowing") && this.sideBarComp.isToolPanelShowing();
    }, o.prototype.getToolPanelInstance = function(t) {
      if (this.assertSideBarLoaded("getToolPanelInstance")) {
        var e = this.sideBarComp.getToolPanelInstance(t);
        return ka(e);
      }
    }, o.prototype.getSideBar = function() {
      if (this.assertSideBarLoaded("getSideBar"))
        return this.sideBarComp.getDef();
    }, o.prototype.setSideBar = function(t) {
      this.gridOptionsService.set("sideBar", t);
    }, o.prototype.setSuppressClipboardPaste = function(t) {
      this.gridOptionsService.set("suppressClipboardPaste", t);
    }, o.prototype.resetRowHeights = function() {
      if (z(this.clientSideRowModel)) {
        if (this.columnModel.isAutoRowHeightActive()) {
          console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");
          return;
        }
        this.clientSideRowModel.resetRowHeights();
      }
    }, o.prototype.setGroupRemoveSingleChildren = function(t) {
      this.gridOptionsService.set("groupRemoveSingleChildren", t);
    }, o.prototype.setGroupRemoveLowestSingleChildren = function(t) {
      this.gridOptionsService.set("groupRemoveLowestSingleChildren", t);
    }, o.prototype.setGroupDisplayType = function(t) {
      this.gridOptionsService.set("groupDisplayType", t);
    }, o.prototype.setRowClass = function(t) {
      this.gridOptionsService.set("rowClass", t);
    }, o.prototype.setDeltaSort = function(t) {
      this.gridOptionsService.set("deltaSort", t);
    }, o.prototype.setRowCount = function(t, e) {
      if (this.serverSideRowModel) {
        if (this.columnModel.isRowGroupEmpty()) {
          this.serverSideRowModel.setRowCount(t, e);
          return;
        }
        console.error("AG Grid: setRowCount cannot be used while using row grouping.");
        return;
      }
      if (this.infiniteRowModel) {
        this.infiniteRowModel.setRowCount(t, e);
        return;
      }
      this.logMissingRowModel("setRowCount", "infinite", "serverSide");
    }, o.prototype.onRowHeightChanged = function() {
      this.clientSideRowModel ? this.clientSideRowModel.onRowHeightChanged() : this.serverSideRowModel && this.serverSideRowModel.onRowHeightChanged();
    }, o.prototype.getValue = function(t, e) {
      var r = this.columnModel.getPrimaryColumn(t);
      return me(r) && (r = this.columnModel.getGridColumn(t)), me(r) ? null : this.valueService.getValue(r, e);
    }, o.prototype.addEventListener = function(t, e) {
      var r = this.gridOptionsService.useAsyncEvents();
      this.eventService.addEventListener(t, e, r);
    }, o.prototype.addGlobalListener = function(t) {
      var e = this.gridOptionsService.useAsyncEvents();
      this.eventService.addGlobalListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      var r = this.gridOptionsService.useAsyncEvents();
      this.eventService.removeEventListener(t, e, r);
    }, o.prototype.removeGlobalListener = function(t) {
      var e = this.gridOptionsService.useAsyncEvents();
      this.eventService.removeGlobalListener(t, e);
    }, o.prototype.dispatchEvent = function(t) {
      this.eventService.dispatchEvent(t);
    }, o.prototype.destroy = function() {
      if (!this.destroyCalled) {
        this.destroyCalled = !0;
        var t = this.ctrlsService.getGridCtrl();
        t && t.destroyGridUi(), this.context.destroy();
      }
    }, o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid = function() {
      setTimeout(Cb.bind(window, this, "Grid API"), 100);
    }, o.prototype.warnIfDestroyed = function(t) {
      return this.destroyCalled && console.warn("AG Grid: Grid API method " + t + " was called on a grid that was destroyed."), this.destroyCalled;
    }, o.prototype.resetQuickFilter = function() {
      this.warnIfDestroyed("resetQuickFilter") || this.filterManager.resetQuickFilterCache();
    }, o.prototype.getCellRanges = function() {
      return this.rangeService ? this.rangeService.getCellRanges() : (de.__assertRegistered(Z.RangeSelectionModule, "api.getCellRanges", this.context.getGridId()), null);
    }, o.prototype.addCellRange = function(t) {
      if (this.rangeService) {
        this.rangeService.addCellRange(t);
        return;
      }
      de.__assertRegistered(Z.RangeSelectionModule, "api.addCellRange", this.context.getGridId());
    }, o.prototype.clearRangeSelection = function() {
      this.rangeService && this.rangeService.removeAllCellRanges(), de.__assertRegistered(Z.RangeSelectionModule, "gridApi.clearRangeSelection", this.context.getGridId());
    }, o.prototype.undoCellEditing = function() {
      this.undoRedoService.undo("api");
    }, o.prototype.redoCellEditing = function() {
      this.undoRedoService.redo("api");
    }, o.prototype.getCurrentUndoSize = function() {
      return this.undoRedoService.getCurrentUndoStackSize();
    }, o.prototype.getCurrentRedoSize = function() {
      return this.undoRedoService.getCurrentRedoStackSize();
    }, o.prototype.getChartModels = function() {
      if (de.__assertRegistered(Z.GridChartsModule, "api.getChartModels", this.context.getGridId()))
        return this.chartService.getChartModels();
    }, o.prototype.getChartRef = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.getChartRef", this.context.getGridId()))
        return this.chartService.getChartRef(t);
    }, o.prototype.getChartImageDataURL = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.getChartImageDataURL", this.context.getGridId()))
        return this.chartService.getChartImageDataURL(t);
    }, o.prototype.downloadChart = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.downloadChart", this.context.getGridId()))
        return this.chartService.downloadChart(t);
    }, o.prototype.openChartToolPanel = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.openChartToolPanel", this.context.getGridId()))
        return this.chartService.openChartToolPanel(t);
    }, o.prototype.closeChartToolPanel = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.closeChartToolPanel", this.context.getGridId()))
        return this.chartService.closeChartToolPanel(t.chartId);
    }, o.prototype.createRangeChart = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.createRangeChart", this.context.getGridId()))
        return this.chartService.createRangeChart(t);
    }, o.prototype.createPivotChart = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.createPivotChart", this.context.getGridId()))
        return this.chartService.createPivotChart(t);
    }, o.prototype.createCrossFilterChart = function(t) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.createCrossFilterChart", this.context.getGridId()))
        return this.chartService.createCrossFilterChart(t);
    }, o.prototype.updateChart = function(t) {
      de.__assertRegistered(Z.GridChartsModule, "api.updateChart", this.context.getGridId()) && this.chartService.updateChart(t);
    }, o.prototype.restoreChart = function(t, e) {
      if (de.__assertRegistered(Z.GridChartsModule, "api.restoreChart", this.context.getGridId()))
        return this.chartService.restoreChart(t, e);
    }, o.prototype.copyToClipboard = function(t) {
      de.__assertRegistered(Z.ClipboardModule, "api.copyToClipboard", this.context.getGridId()) && this.clipboardService.copyToClipboard(t);
    }, o.prototype.cutToClipboard = function(t) {
      de.__assertRegistered(Z.ClipboardModule, "api.cutToClipboard", this.context.getGridId()) && this.clipboardService.cutToClipboard(t, "api");
    }, o.prototype.copySelectedRowsToClipboard = function(t) {
      de.__assertRegistered(Z.ClipboardModule, "api.copySelectedRowsToClipboard", this.context.getGridId()) && this.clipboardService.copySelectedRowsToClipboard(t);
    }, o.prototype.copySelectedRangeToClipboard = function(t) {
      de.__assertRegistered(Z.ClipboardModule, "api.copySelectedRangeToClipboard", this.context.getGridId()) && this.clipboardService.copySelectedRangeToClipboard(t);
    }, o.prototype.copySelectedRangeDown = function() {
      de.__assertRegistered(Z.ClipboardModule, "api.copySelectedRangeDown", this.context.getGridId()) && this.clipboardService.copyRangeDown();
    }, o.prototype.pasteFromClipboard = function() {
      de.__assertRegistered(Z.ClipboardModule, "api.pasteFromClipboard", this.context.getGridId()) && this.clipboardService.pasteFromClipboard();
    }, o.prototype.showColumnMenuAfterButtonClick = function(t, e) {
      var r = this.columnModel.getGridColumn(t);
      this.menuFactory.showMenuAfterButtonClick(r, e, "columnMenu");
    }, o.prototype.showColumnMenuAfterMouseClick = function(t, e) {
      var r = this.columnModel.getGridColumn(t);
      if (r || (r = this.columnModel.getPrimaryColumn(t)), !r) {
        console.error("AG Grid: column '" + t + "' not found");
        return;
      }
      this.menuFactory.showMenuAfterMouseEvent(r, e);
    }, o.prototype.hidePopupMenu = function() {
      this.contextMenuFactory && this.contextMenuFactory.hideActiveMenu(), this.menuFactory.hideActiveMenu();
    }, o.prototype.setPopupParent = function(t) {
      this.gridOptionsService.set("popupParent", t);
    }, o.prototype.tabToNextCell = function(t) {
      return this.navigationService.tabToNextCell(!1, t);
    }, o.prototype.tabToPreviousCell = function(t) {
      return this.navigationService.tabToNextCell(!0, t);
    }, o.prototype.getCellRendererInstances = function(t) {
      t === void 0 && (t = {});
      var e = this.rowRenderer.getCellRendererInstances(t), r = e.map(ka);
      return r;
    }, o.prototype.getCellEditorInstances = function(t) {
      t === void 0 && (t = {});
      var e = this.rowRenderer.getCellEditorInstances(t), r = e.map(ka);
      return r;
    }, o.prototype.getEditingCells = function() {
      return this.rowRenderer.getEditingCells();
    }, o.prototype.stopEditing = function(t) {
      t === void 0 && (t = !1), this.rowRenderer.stopEditing(t);
    }, o.prototype.startEditingCell = function(t) {
      var e = this.columnModel.getGridColumn(t.colKey);
      if (!e) {
        console.warn("AG Grid: no column found for " + t.colKey);
        return;
      }
      var r = {
        rowIndex: t.rowIndex,
        rowPinned: t.rowPinned || null,
        column: e
      }, n = t.rowPinned == null;
      n && this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);
      var i = this.navigationService.getCellByPosition(r);
      i && i.startRowOrCellEdit(t.key);
    }, o.prototype.addAggFunc = function(t, e) {
      this.aggFuncService && this.aggFuncService.addAggFunc(t, e);
    }, o.prototype.addAggFuncs = function(t) {
      this.aggFuncService && this.aggFuncService.addAggFuncs(t);
    }, o.prototype.clearAggFuncs = function() {
      this.aggFuncService && this.aggFuncService.clear();
    }, o.prototype.applyServerSideTransaction = function(t) {
      if (!this.serverSideTransactionManager) {
        this.logMissingRowModel("applyServerSideTransaction", "serverSide");
        return;
      }
      return this.serverSideTransactionManager.applyTransaction(t);
    }, o.prototype.applyServerSideTransactionAsync = function(t, e) {
      if (!this.serverSideTransactionManager) {
        this.logMissingRowModel("applyServerSideTransactionAsync", "serverSide");
        return;
      }
      return this.serverSideTransactionManager.applyTransactionAsync(t, e);
    }, o.prototype.retryServerSideLoads = function() {
      if (!this.serverSideRowModel) {
        this.logMissingRowModel("retryServerSideLoads", "serverSide");
        return;
      }
      this.serverSideRowModel.retryLoads();
    }, o.prototype.flushServerSideAsyncTransactions = function() {
      if (!this.serverSideTransactionManager) {
        this.logMissingRowModel("flushServerSideAsyncTransactions", "serverSide");
        return;
      }
      return this.serverSideTransactionManager.flushAsyncTransactions();
    }, o.prototype.applyTransaction = function(t) {
      if (!this.clientSideRowModel) {
        this.logMissingRowModel("applyTransaction", "clientSide");
        return;
      }
      return this.clientSideRowModel.updateRowData(t);
    }, o.prototype.applyTransactionAsync = function(t, e) {
      if (!this.clientSideRowModel) {
        this.logMissingRowModel("applyTransactionAsync", "clientSide");
        return;
      }
      this.clientSideRowModel.batchUpdateRowData(t, e);
    }, o.prototype.flushAsyncTransactions = function() {
      if (!this.clientSideRowModel) {
        this.logMissingRowModel("flushAsyncTransactions", "clientSide");
        return;
      }
      this.clientSideRowModel.flushAsyncTransactions();
    }, o.prototype.setSuppressModelUpdateAfterUpdateTransaction = function(t) {
      this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction", t);
    }, o.prototype.refreshInfiniteCache = function() {
      this.infiniteRowModel ? this.infiniteRowModel.refreshCache() : this.logMissingRowModel("refreshInfiniteCache", "infinite");
    }, o.prototype.purgeInfiniteCache = function() {
      this.infiniteRowModel ? this.infiniteRowModel.purgeCache() : this.logMissingRowModel("purgeInfiniteCache", "infinite");
    }, o.prototype.refreshServerSide = function(t) {
      if (!this.serverSideRowModel) {
        this.logMissingRowModel("refreshServerSide", "serverSide");
        return;
      }
      this.serverSideRowModel.refreshStore(t);
    }, o.prototype.refreshServerSideStore = function(t) {
      return gn("28.0", "refreshServerSideStore", "refreshServerSide"), this.refreshServerSide(t);
    }, o.prototype.getServerSideStoreState = function() {
      return gn("28.0", "getServerSideStoreState", "getServerSideGroupLevelState"), this.getServerSideGroupLevelState();
    }, o.prototype.getServerSideGroupLevelState = function() {
      return this.serverSideRowModel ? this.serverSideRowModel.getStoreState() : (this.logMissingRowModel("getServerSideGroupLevelState", "serverSide"), []);
    }, o.prototype.getInfiniteRowCount = function() {
      if (this.infiniteRowModel)
        return this.infiniteRowModel.getRowCount();
      this.logMissingRowModel("getInfiniteRowCount", "infinite");
    }, o.prototype.isLastRowIndexKnown = function() {
      if (this.infiniteRowModel)
        return this.infiniteRowModel.isLastRowIndexKnown();
      this.logMissingRowModel("isLastRowIndexKnown", "infinite");
    }, o.prototype.getCacheBlockState = function() {
      return this.rowNodeBlockLoader.getBlockState();
    }, o.prototype.getFirstDisplayedRow = function() {
      return this.rowRenderer.getFirstVirtualRenderedRow();
    }, o.prototype.getLastDisplayedRow = function() {
      return this.rowRenderer.getLastVirtualRenderedRow();
    }, o.prototype.getDisplayedRowAtIndex = function(t) {
      return this.rowModel.getRow(t);
    }, o.prototype.getDisplayedRowCount = function() {
      return this.rowModel.getRowCount();
    }, o.prototype.setDataTypeDefinitions = function(t) {
      this.gridOptionsService.set("dataTypeDefinitions", t);
    }, o.prototype.setPagination = function(t) {
      this.gridOptionsService.set("pagination", t);
    }, o.prototype.paginationIsLastPageFound = function() {
      return this.paginationProxy.isLastPageFound();
    }, o.prototype.paginationGetPageSize = function() {
      return this.paginationProxy.getPageSize();
    }, o.prototype.paginationSetPageSize = function(t) {
      this.gridOptionsService.set("paginationPageSize", t);
    }, o.prototype.paginationGetCurrentPage = function() {
      return this.paginationProxy.getCurrentPage();
    }, o.prototype.paginationGetTotalPages = function() {
      return this.paginationProxy.getTotalPages();
    }, o.prototype.paginationGetRowCount = function() {
      return this.paginationProxy.getMasterRowCount();
    }, o.prototype.paginationGoToNextPage = function() {
      this.paginationProxy.goToNextPage();
    }, o.prototype.paginationGoToPreviousPage = function() {
      this.paginationProxy.goToPreviousPage();
    }, o.prototype.paginationGoToFirstPage = function() {
      this.paginationProxy.goToFirstPage();
    }, o.prototype.paginationGoToLastPage = function() {
      this.paginationProxy.goToLastPage();
    }, o.prototype.paginationGoToPage = function(t) {
      this.paginationProxy.goToPage(t);
    }, Ue([
      Fe("immutableService")
    ], o.prototype, "immutableService", void 0), Ue([
      Fe("csvCreator")
    ], o.prototype, "csvCreator", void 0), Ue([
      Fe("excelCreator")
    ], o.prototype, "excelCreator", void 0), Ue([
      w("rowRenderer")
    ], o.prototype, "rowRenderer", void 0), Ue([
      w("navigationService")
    ], o.prototype, "navigationService", void 0), Ue([
      w("filterManager")
    ], o.prototype, "filterManager", void 0), Ue([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), Ue([
      w("selectionService")
    ], o.prototype, "selectionService", void 0), Ue([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), Ue([
      w("valueService")
    ], o.prototype, "valueService", void 0), Ue([
      w("alignedGridsService")
    ], o.prototype, "alignedGridsService", void 0), Ue([
      w("eventService")
    ], o.prototype, "eventService", void 0), Ue([
      w("pinnedRowModel")
    ], o.prototype, "pinnedRowModel", void 0), Ue([
      w("context")
    ], o.prototype, "context", void 0), Ue([
      w("rowModel")
    ], o.prototype, "rowModel", void 0), Ue([
      w("sortController")
    ], o.prototype, "sortController", void 0), Ue([
      w("paginationProxy")
    ], o.prototype, "paginationProxy", void 0), Ue([
      w("focusService")
    ], o.prototype, "focusService", void 0), Ue([
      w("dragAndDropService")
    ], o.prototype, "dragAndDropService", void 0), Ue([
      Fe("rangeService")
    ], o.prototype, "rangeService", void 0), Ue([
      Fe("clipboardService")
    ], o.prototype, "clipboardService", void 0), Ue([
      Fe("aggFuncService")
    ], o.prototype, "aggFuncService", void 0), Ue([
      w("menuFactory")
    ], o.prototype, "menuFactory", void 0), Ue([
      Fe("contextMenuFactory")
    ], o.prototype, "contextMenuFactory", void 0), Ue([
      w("valueCache")
    ], o.prototype, "valueCache", void 0), Ue([
      w("animationFrameService")
    ], o.prototype, "animationFrameService", void 0), Ue([
      Fe("statusBarService")
    ], o.prototype, "statusBarService", void 0), Ue([
      Fe("chartService")
    ], o.prototype, "chartService", void 0), Ue([
      Fe("undoRedoService")
    ], o.prototype, "undoRedoService", void 0), Ue([
      Fe("rowNodeBlockLoader")
    ], o.prototype, "rowNodeBlockLoader", void 0), Ue([
      Fe("ssrmTransactionManager")
    ], o.prototype, "serverSideTransactionManager", void 0), Ue([
      w("ctrlsService")
    ], o.prototype, "ctrlsService", void 0), Ue([
      V
    ], o.prototype, "init", null), Ue([
      rt
    ], o.prototype, "cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid", null), o = Ue([
      q("gridApi")
    ], o), o;
  }()
), nL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ch = function() {
  return ch = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ch.apply(this, arguments);
}, ga = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iL = (
  /** @class */
  function(o) {
    nL(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.allColumnFilters = /* @__PURE__ */ new Map(), r.allColumnListeners = /* @__PURE__ */ new Map(), r.activeAggregateFilters = [], r.activeColumnFilters = [], r.quickFilter = null, r.quickFilterParts = null, r.processingFilterChange = !1, r;
    }
    e = t, t.prototype.init = function() {
      var r = this;
      this.addManagedListener(this.eventService, R.EVENT_GRID_COLUMNS_CHANGED, function() {
        return r.onColumnsChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, function() {
        return r.refreshFiltersForAggregations();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, function() {
        return r.refreshFiltersForAggregations();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, function() {
        r.refreshFiltersForAggregations(), r.resetQuickFilterCache();
      }), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, function() {
        return r.resetQuickFilterCache();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
        return r.resetQuickFilterCache();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, function() {
        r.gridOptionsService.is("includeHiddenColumnsInQuickFilter") || r.resetQuickFilterCache();
      }), this.addManagedPropertyListener("quickFilterText", function(n) {
        return r.setQuickFilter(n.currentValue);
      }), this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter", function() {
        return r.onIncludeHiddenColumnsInQuickFilterChanged();
      }), this.quickFilter = this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")), this.setQuickFilterParts(), this.allowShowChangeAfterFilter = this.gridOptionsService.is("allowShowChangeAfterFilter"), this.externalFilterPresent = this.isExternalFilterPresentCallback(), this.updateAggFiltering(), this.addManagedPropertyListener("groupAggFiltering", function() {
        return r.updateAggFiltering();
      });
    }, t.prototype.isExternalFilterPresentCallback = function() {
      var r = this.gridOptionsService.getCallback("isExternalFilterPresent");
      return typeof r == "function" ? r({}) : !1;
    }, t.prototype.doesExternalFilterPass = function(r) {
      var n = this.gridOptionsService.get("doesExternalFilterPass");
      return typeof n == "function" ? n(r) : !1;
    }, t.prototype.setQuickFilterParts = function() {
      this.quickFilterParts = this.quickFilter ? this.quickFilter.split(" ") : null;
    }, t.prototype.setFilterModel = function(r) {
      var n = this, i = [], a = this.getFilterModel();
      if (r) {
        var s = Im(Object.keys(r));
        this.allColumnFilters.forEach(function(l, u) {
          var c = r[u];
          i.push(n.setModelOnFilterWrapper(l.filterPromise, c)), s.delete(u);
        }), s.forEach(function(l) {
          var u = n.columnModel.getPrimaryColumn(l) || n.columnModel.getGridColumn(l);
          if (!u) {
            console.warn("AG Grid: setFilterModel() - no column found for colId: " + l);
            return;
          }
          if (!u.isFilterAllowed()) {
            console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: " + l);
            return;
          }
          var c = n.getOrCreateFilterWrapper(u, "NO_UI");
          if (!c) {
            console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: " + l);
            return;
          }
          i.push(n.setModelOnFilterWrapper(c.filterPromise, r[l]));
        });
      } else
        this.allColumnFilters.forEach(function(l) {
          i.push(n.setModelOnFilterWrapper(l.filterPromise, null));
        });
      Je.all(i).then(function() {
        var l = n.getFilterModel(), u = [];
        n.allColumnFilters.forEach(function(c, d) {
          var p = a ? a[d] : null, h = l ? l[d] : null;
          T.jsonEquals(p, h) || u.push(c.column);
        }), u.length > 0 && n.onFilterChanged({ columns: u });
      });
    }, t.prototype.setModelOnFilterWrapper = function(r, n) {
      return new Je(function(i) {
        r.then(function(a) {
          typeof a.setModel != "function" && (console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"), i()), (a.setModel(n) || Je.resolve()).then(function() {
            return i();
          });
        });
      });
    }, t.prototype.getFilterModel = function() {
      var r = {};
      return this.allColumnFilters.forEach(function(n, i) {
        var a = n.filterPromise, s = a.resolveNow(null, function(u) {
          return u;
        });
        if (s == null)
          return null;
        if (typeof s.getModel != "function") {
          console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");
          return;
        }
        var l = s.getModel();
        z(l) && (r[i] = l);
      }), r;
    }, t.prototype.isColumnFilterPresent = function() {
      return this.activeColumnFilters.length > 0;
    }, t.prototype.isAggregateFilterPresent = function() {
      return !!this.activeAggregateFilters.length;
    }, t.prototype.isExternalFilterPresent = function() {
      return this.externalFilterPresent;
    }, t.prototype.doAggregateFiltersPass = function(r, n) {
      return this.doColumnFiltersPass(r, n, !0);
    }, t.prototype.updateActiveFilters = function() {
      var r = this;
      this.activeColumnFilters.length = 0, this.activeAggregateFilters.length = 0;
      var n = function(s) {
        return s ? s.isFilterActive ? s.isFilterActive() : (console.warn("AG Grid: Filter is missing isFilterActive() method"), !1) : !1;
      }, i = !!this.gridOptionsService.getGroupAggFiltering(), a = function(s) {
        var l = !s.isPrimary();
        if (l)
          return !0;
        var u = !r.columnModel.isPivotActive(), c = s.isValueActive();
        return !c || !u ? !1 : r.columnModel.isPivotMode() ? !0 : i;
      };
      this.allColumnFilters.forEach(function(s) {
        if (s.filterPromise.resolveNow(!1, n)) {
          var l = s.filterPromise.resolveNow(null, function(u) {
            return u;
          });
          a(s.column) ? r.activeAggregateFilters.push(l) : r.activeColumnFilters.push(l);
        }
      });
    }, t.prototype.updateFilterFlagInColumns = function(r, n) {
      this.allColumnFilters.forEach(function(i) {
        var a = i.filterPromise.resolveNow(!1, function(s) {
          return s.isFilterActive();
        });
        i.column.setFilterActive(a, r, n);
      });
    }, t.prototype.isAnyFilterPresent = function() {
      return this.isQuickFilterPresent() || this.isColumnFilterPresent() || this.isAggregateFilterPresent() || this.isExternalFilterPresent();
    }, t.prototype.doColumnFiltersPass = function(r, n, i) {
      for (var a = r.data, s = r.aggData, l = i ? this.activeAggregateFilters : this.activeColumnFilters, u = i ? s : a, c = 0; c < l.length; c++) {
        var d = l[c];
        if (!(d == null || d === n)) {
          if (typeof d.doesFilterPass != "function")
            throw new Error("Filter is missing method doesFilterPass");
          if (!d.doesFilterPass({ node: r, data: u }))
            return !1;
        }
      }
      return !0;
    }, t.prototype.parseQuickFilter = function(r) {
      return z(r) ? this.gridOptionsService.isRowModelType("clientSide") ? r.toUpperCase() : (console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"), null) : null;
    }, t.prototype.setQuickFilter = function(r) {
      if (r != null && typeof r != "string") {
        console.warn("AG Grid - setQuickFilter() only supports string inputs, received: " + typeof r);
        return;
      }
      var n = this.parseQuickFilter(r);
      this.quickFilter !== n && (this.quickFilter = n, this.setQuickFilterParts(), this.onFilterChanged());
    }, t.prototype.resetQuickFilterCache = function() {
      this.rowModel.forEachNode(function(r) {
        return r.quickFilterAggregateText = null;
      });
    }, t.prototype.onIncludeHiddenColumnsInQuickFilterChanged = function() {
      this.columnModel.refreshQuickFilterColumns(), this.resetQuickFilterCache(), this.isQuickFilterPresent() && this.onFilterChanged();
    }, t.prototype.refreshFiltersForAggregations = function() {
      var r = this.gridOptionsService.getGroupAggFiltering();
      r && this.onFilterChanged();
    }, t.prototype.callOnFilterChangedOutsideRenderCycle = function(r) {
      var n = this;
      r === void 0 && (r = {});
      var i = function() {
        return n.onFilterChanged(r);
      };
      this.rowRenderer.isRefreshInProgress() ? setTimeout(i, 0) : i();
    }, t.prototype.onFilterChanged = function(r) {
      r === void 0 && (r = {});
      var n = r.filterInstance, i = r.additionalEventAttributes, a = r.columns;
      this.updateDependantFilters(), this.updateActiveFilters(), this.updateFilterFlagInColumns("filterChanged", i), this.externalFilterPresent = this.isExternalFilterPresentCallback(), this.allColumnFilters.forEach(function(l) {
        l.filterPromise && l.filterPromise.then(function(u) {
          u && u !== n && u.onAnyFilterChanged && u.onAnyFilterChanged();
        });
      });
      var s = {
        type: R.EVENT_FILTER_CHANGED,
        columns: a || []
      };
      i && Zr(s, i), this.processingFilterChange = !0, this.eventService.dispatchEvent(s), this.processingFilterChange = !1;
    }, t.prototype.isSuppressFlashingCellsBecauseFiltering = function() {
      return !this.allowShowChangeAfterFilter && this.processingFilterChange;
    }, t.prototype.isQuickFilterPresent = function() {
      return this.quickFilter !== null;
    }, t.prototype.updateAggFiltering = function() {
      this.aggFiltering = !!this.gridOptionsService.getGroupAggFiltering();
    }, t.prototype.isAggregateQuickFilterPresent = function() {
      return this.isQuickFilterPresent() && (this.aggFiltering || this.columnModel.isPivotMode());
    }, t.prototype.isNonAggregateQuickFilterPresent = function() {
      return this.isQuickFilterPresent() && !(this.aggFiltering || this.columnModel.isPivotMode());
    }, t.prototype.doesRowPassOtherFilters = function(r, n) {
      return this.doesRowPassFilter({ rowNode: n, filterInstanceToSkip: r });
    }, t.prototype.doesRowPassQuickFilterNoCache = function(r, n) {
      var i = this, a = this.columnModel.getAllColumnsForQuickFilter();
      return a.some(function(s) {
        var l = i.getQuickFilterTextForColumn(s, r);
        return z(l) && l.indexOf(n) >= 0;
      });
    }, t.prototype.doesRowPassQuickFilterCache = function(r, n) {
      return r.quickFilterAggregateText || this.aggregateRowForQuickFilter(r), r.quickFilterAggregateText.indexOf(n) >= 0;
    }, t.prototype.doesRowPassQuickFilter = function(r) {
      var n = this, i = this.gridOptionsService.is("cacheQuickFilter");
      return this.quickFilterParts.every(function(a) {
        return i ? n.doesRowPassQuickFilterCache(r, a) : n.doesRowPassQuickFilterNoCache(r, a);
      });
    }, t.prototype.doesRowPassAggregateFilters = function(r) {
      return !(this.isAggregateQuickFilterPresent() && !this.doesRowPassQuickFilter(r.rowNode) || this.isAggregateFilterPresent() && !this.doAggregateFiltersPass(r.rowNode, r.filterInstanceToSkip));
    }, t.prototype.doesRowPassFilter = function(r) {
      return !(this.isNonAggregateQuickFilterPresent() && !this.doesRowPassQuickFilter(r.rowNode) || this.isExternalFilterPresent() && !this.doesExternalFilterPass(r.rowNode) || this.isColumnFilterPresent() && !this.doColumnFiltersPass(r.rowNode, r.filterInstanceToSkip));
    }, t.prototype.getQuickFilterTextForColumn = function(r, n) {
      var i = this.valueService.getValue(r, n, !0), a = r.getColDef();
      if (a.getQuickFilterText) {
        var s = {
          value: i,
          node: n,
          data: n.data,
          column: r,
          colDef: a,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        };
        i = a.getQuickFilterText(s);
      }
      return z(i) ? i.toString().toUpperCase() : null;
    }, t.prototype.aggregateRowForQuickFilter = function(r) {
      var n = this, i = [], a = this.columnModel.getAllColumnsForQuickFilter();
      a.forEach(function(s) {
        var l = n.getQuickFilterTextForColumn(s, r);
        z(l) && i.push(l);
      }), r.quickFilterAggregateText = i.join(e.QUICK_FILTER_SEPARATOR);
    }, t.prototype.onNewRowsLoaded = function(r) {
      this.allColumnFilters.forEach(function(n) {
        n.filterPromise.then(function(i) {
          i.onNewRowsLoaded && i.onNewRowsLoaded();
        });
      }), this.updateFilterFlagInColumns(r, { afterDataChange: !0 }), this.updateActiveFilters();
    }, t.prototype.createValueGetter = function(r) {
      var n = this;
      return function(i) {
        var a = i.node;
        return n.valueService.getValue(r, a, !0);
      };
    }, t.prototype.getFilterComponent = function(r, n, i) {
      var a;
      if (i === void 0 && (i = !0), i)
        return ((a = this.getOrCreateFilterWrapper(r, n)) === null || a === void 0 ? void 0 : a.filterPromise) || null;
      var s = this.cachedFilter(r);
      return s ? s.filterPromise : null;
    }, t.prototype.isFilterActive = function(r) {
      var n = this.cachedFilter(r);
      return !!n && n.filterPromise.resolveNow(!1, function(i) {
        return i.isFilterActive();
      });
    }, t.prototype.getOrCreateFilterWrapper = function(r, n) {
      var i = this;
      if (!r.isFilterAllowed())
        return null;
      var a = this.cachedFilter(r);
      if (a)
        n !== "NO_UI" && this.putIntoGui(a, n);
      else {
        a = this.createFilterWrapper(r, n);
        var s = r.getColId();
        this.allColumnFilters.set(s, a), this.allColumnListeners.set(s, this.addManagedListener(r, Me.EVENT_COL_DEF_CHANGED, function() {
          return i.checkDestroyFilter(s);
        }));
      }
      return a;
    }, t.prototype.cachedFilter = function(r) {
      return this.allColumnFilters.get(r.getColId());
    }, t.prototype.getDefaultFilter = function(r) {
      var n;
      if (de.__isRegistered(Z.SetFilterModule, this.context.getGridId()))
        n = "agSetColumnFilter";
      else {
        var i = r.getColDef().cellDataType;
        i === "number" ? n = "agNumberColumnFilter" : i === "date" || i === "dateString" ? n = "agDateColumnFilter" : n = "agTextColumnFilter";
      }
      return n;
    }, t.prototype.getDefaultFloatingFilter = function(r) {
      var n;
      if (de.__isRegistered(Z.SetFilterModule, this.context.getGridId()))
        n = "agSetColumnFloatingFilter";
      else {
        var i = r.getColDef().cellDataType;
        i === "number" ? n = "agNumberColumnFloatingFilter" : i === "date" || i === "dateString" ? n = "agDateColumnFloatingFilter" : n = "agTextColumnFloatingFilter";
      }
      return n;
    }, t.prototype.createFilterInstance = function(r) {
      var n = this, i = this.getDefaultFilter(r), a = r.getColDef(), s, l = ch(ch({}, this.createFilterParams(r, a)), { filterModifiedCallback: function() {
        var c = {
          type: R.EVENT_FILTER_MODIFIED,
          column: r,
          filterInstance: s
        };
        n.eventService.dispatchEvent(c);
      }, filterChangedCallback: function(c) {
        var d = { filterInstance: s, additionalEventAttributes: c, columns: [r] };
        n.callOnFilterChangedOutsideRenderCycle(d);
      }, doesRowPassOtherFilter: function(c) {
        return n.doesRowPassOtherFilters(s, c);
      } }), u = this.userComponentFactory.getFilterDetails(a, l, i);
      return u ? {
        filterPromise: function() {
          var c = u.newAgStackInstance();
          return c && c.then(function(d) {
            return s = d;
          }), c;
        },
        compDetails: u
      } : { filterPromise: null, compDetails: null };
    }, t.prototype.createFilterParams = function(r, n) {
      var i = {
        column: r,
        colDef: sm(n),
        rowModel: this.rowModel,
        filterChangedCallback: function() {
        },
        filterModifiedCallback: function() {
        },
        valueGetter: this.createValueGetter(r),
        doesRowPassOtherFilter: function() {
          return !0;
        },
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      };
      return i;
    }, t.prototype.createFilterWrapper = function(r, n) {
      var i, a = {
        column: r,
        filterPromise: null,
        compiledElement: null,
        guiPromise: Je.resolve(null),
        compDetails: null
      }, s = this.createFilterInstance(r), l = s.filterPromise, u = s.compDetails;
      return a.filterPromise = (i = l == null ? void 0 : l()) !== null && i !== void 0 ? i : null, a.compDetails = u, l && this.putIntoGui(a, n), a;
    }, t.prototype.putIntoGui = function(r, n) {
      var i = this, a = document.createElement("div");
      a.className = "ag-filter", r.guiPromise = new Je(function(s) {
        r.filterPromise.then(function(l) {
          var u = l.getGui();
          z(u) || console.warn("AG Grid: getGui method from filter returned " + u + ", it should be a DOM element or an HTML template string."), typeof u == "string" && (u = nr(u)), a.appendChild(u), s(a);
          var c = {
            type: R.EVENT_FILTER_OPENED,
            column: r.column,
            source: n,
            eGui: a
          };
          i.eventService.dispatchEvent(c);
        });
      });
    }, t.prototype.onColumnsChanged = function() {
      var r = this, n = [];
      this.allColumnFilters.forEach(function(i, a) {
        var s;
        i.column.isPrimary() ? s = r.columnModel.getPrimaryColumn(a) : s = r.columnModel.getGridColumn(a), !s && (n.push(i.column), r.disposeFilterWrapper(i, "columnChanged"), r.disposeColumnListener(a));
      }), n.length > 0 ? this.onFilterChanged({ columns: n }) : this.updateDependantFilters();
    }, t.prototype.updateDependantFilters = function() {
      var r = this, n = this.columnModel.getGroupAutoColumns();
      n == null || n.forEach(function(i) {
        i.getColDef().filter === "agGroupColumnFilter" && r.getOrCreateFilterWrapper(i, "NO_UI");
      });
    }, t.prototype.isFilterAllowed = function(r) {
      var n, i, a = r.isFilterAllowed();
      if (!a)
        return !1;
      var s = this.allColumnFilters.get(r.getColId());
      return (i = (n = s == null ? void 0 : s.filterPromise) === null || n === void 0 ? void 0 : n.resolveNow(
        !0,
        // defer to filter component isFilterAllowed if it exists
        function(l) {
          var u, c;
          return typeof ((u = l) === null || u === void 0 ? void 0 : u.isFilterAllowed) == "function" ? (c = l) === null || c === void 0 ? void 0 : c.isFilterAllowed() : !0;
        }
      )) !== null && i !== void 0 ? i : !0;
    }, t.prototype.getFloatingFilterCompDetails = function(r, n) {
      var i = this, a = r.getColDef(), s = this.createFilterParams(r, a), l = this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a, cy, s), u = this.userComponentFactory.getDefaultFloatingFilterType(a, function() {
        return i.getDefaultFloatingFilter(r);
      });
      u == null && (u = "agReadOnlyFloatingFilter");
      var c = function(p) {
        var h = i.getFilterComponent(r, "NO_UI");
        h != null && h.then(function(f) {
          p(ka(f));
        });
      }, d = {
        column: r,
        filterParams: l,
        currentParentModel: function() {
          return i.getCurrentFloatingFilterParentModel(r);
        },
        parentFilterInstance: c,
        showParentFilter: n,
        suppressFilterButton: !1
        // This one might be overridden from the colDef
      };
      return this.userComponentFactory.getFloatingFilterCompDetails(a, d, u);
    }, t.prototype.getCurrentFloatingFilterParentModel = function(r) {
      var n = this.getFilterComponent(r, "NO_UI", !1);
      return n ? n.resolveNow(null, function(i) {
        return i && i.getModel();
      }) : null;
    }, t.prototype.destroyFilter = function(r, n) {
      n === void 0 && (n = "api");
      var i = r.getColId(), a = this.allColumnFilters.get(i);
      this.disposeColumnListener(i), a && (this.disposeFilterWrapper(a, n), this.onFilterChanged({ columns: [r] }));
    }, t.prototype.disposeColumnListener = function(r) {
      var n = this.allColumnListeners.get(r);
      n && (this.allColumnListeners.delete(r), n());
    }, t.prototype.disposeFilterWrapper = function(r, n) {
      var i = this;
      r.filterPromise.then(function(a) {
        (a.setModel(null) || Je.resolve()).then(function() {
          i.getContext().destroyBean(a), r.column.setFilterActive(!1, "filterDestroyed"), i.allColumnFilters.delete(r.column.getColId());
          var s = {
            type: R.EVENT_FILTER_DESTROYED,
            source: n,
            column: r.column
          };
          i.eventService.dispatchEvent(s);
        });
      });
    }, t.prototype.checkDestroyFilter = function(r) {
      var n = this.allColumnFilters.get(r);
      if (n) {
        var i = n.column, a = (i.isFilterAllowed() ? this.createFilterInstance(i) : { compDetails: null }).compDetails, s = function(l, u) {
          if (!u || !l)
            return !0;
          var c = l.componentClass, d = u.componentClass, p = c === d || // react hooks returns new wrappers, so check nested render method
          (c == null ? void 0 : c.render) && (d == null ? void 0 : d.render) && c.render === d.render;
          return !p;
        };
        s(n.compDetails, a) && this.destroyFilter(i, "columnChanged");
      }
    }, t.prototype.destroy = function() {
      var r = this;
      o.prototype.destroy.call(this), this.allColumnFilters.forEach(function(n) {
        return r.disposeFilterWrapper(n, "gridDestroyed");
      }), this.allColumnListeners.clear();
    };
    var e;
    return t.QUICK_FILTER_SEPARATOR = `
`, ga([
      w("valueService")
    ], t.prototype, "valueService", void 0), ga([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ga([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), ga([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), ga([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), ga([
      V
    ], t.prototype, "init", null), t = e = ga([
      q("filterManager")
    ], t), t;
  }(W)
), oL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bm = (
  /** @class */
  function(o) {
    oL(t, o);
    function t(e, r) {
      var n = o.call(this, e) || this;
      return n.ctrl = r, n;
    }
    return t.prototype.getCtrl = function() {
      return this.ctrl;
    }, t;
  }(te)
), aL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sL = (
  /** @class */
  function(o) {
    aL(t, o);
    function t(e) {
      return o.call(this, t.TEMPLATE, e) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.getGui(), n = {
        addOrRemoveCssClass: function(i, a) {
          return e.addOrRemoveCssClass(i, a);
        },
        addOrRemoveBodyCssClass: function(i, a) {
          return e.eFloatingFilterBody.classList.toggle(i, a);
        },
        setButtonWrapperDisplayed: function(i) {
          return Be(e.eButtonWrapper, i);
        },
        setCompDetails: function(i) {
          return e.setCompDetails(i);
        },
        getFloatingFilterComp: function() {
          return e.compPromise;
        },
        setWidth: function(i) {
          return r.style.width = i;
        },
        setMenuIcon: function(i) {
          return e.eButtonShowMainFilter.appendChild(i);
        }
      };
      this.ctrl.setComp(n, r, this.eButtonShowMainFilter, this.eFloatingFilterBody);
    }, t.prototype.setCompDetails = function(e) {
      var r = this;
      if (!e) {
        this.destroyFloatingFilterComp(), this.compPromise = null;
        return;
      }
      this.compPromise = e.newAgStackInstance(), this.compPromise.then(function(n) {
        return r.afterCompCreated(n);
      });
    }, t.prototype.destroyFloatingFilterComp = function() {
      this.floatingFilterComp && (this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()), this.floatingFilterComp = this.destroyBean(this.floatingFilterComp));
    }, t.prototype.afterCompCreated = function(e) {
      if (e) {
        if (!this.isAlive()) {
          this.destroyBean(e);
          return;
        }
        this.destroyFloatingFilterComp(), this.floatingFilterComp = e, this.eFloatingFilterBody.appendChild(e.getGui()), e.afterGuiAttached && e.afterGuiAttached();
      }
    }, t.TEMPLATE = `<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`, wu([
      G("eFloatingFilterBody")
    ], t.prototype, "eFloatingFilterBody", void 0), wu([
      G("eButtonWrapper")
    ], t.prototype, "eButtonWrapper", void 0), wu([
      G("eButtonShowMainFilter")
    ], t.prototype, "eButtonShowMainFilter", void 0), wu([
      V
    ], t.prototype, "postConstruct", null), wu([
      rt
    ], t.prototype, "destroyFloatingFilterComp", null), t;
  }(Bm)
), lL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uL = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, At;
(function(o) {
  o.AUTO_HEIGHT = "ag-layout-auto-height", o.NORMAL = "ag-layout-normal", o.PRINT = "ag-layout-print";
})(At || (At = {}));
var Hm = (
  /** @class */
  function(o) {
    lL(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.view = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedPropertyListener("domLayout", this.updateLayoutClasses.bind(this)), this.updateLayoutClasses();
    }, t.prototype.updateLayoutClasses = function() {
      var e = this.getDomLayout(), r = {
        autoHeight: e === "autoHeight",
        normal: e === "normal",
        print: e === "print"
      }, n = r.autoHeight ? At.AUTO_HEIGHT : r.print ? At.PRINT : At.NORMAL;
      this.view.updateLayoutClasses(n, r);
    }, t.prototype.getDomLayout = function() {
      var e, r = (e = this.gridOptionsService.get("domLayout")) !== null && e !== void 0 ? e : "normal", n = ["normal", "print", "autoHeight"];
      return n.indexOf(r) === -1 ? (ze(function() {
        return console.warn("AG Grid: " + r + " is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.");
      }, "warn about dom layout values"), "normal") : r;
    }, uL([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), cL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dh = function() {
  return dh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, dh.apply(this, arguments);
}, vo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, dr;
(function(o) {
  o[o.Vertical = 0] = "Vertical", o[o.Horizontal = 1] = "Horizontal";
})(dr || (dr = {}));
var Cr;
(function(o) {
  o[o.Container = 0] = "Container", o[o.FakeContainer = 1] = "FakeContainer";
})(Cr || (Cr = {}));
var dL = (
  /** @class */
  function(o) {
    cL(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.lastScrollSource = [null, null], r.scrollLeft = -1, r.nextScrollTop = -1, r.scrollTop = -1, r.eBodyViewport = e, r.resetLastHScrollDebounced = mi(function() {
        return r.lastScrollSource[dr.Horizontal] = null;
      }, 500), r.resetLastVScrollDebounced = mi(function() {
        return r.lastScrollSource[dr.Vertical] = null;
      }, 500), r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.enableRtl = this.gridOptionsService.is("enableRtl"), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onDisplayedColumnsWidthChanged.bind(this)), this.ctrlsService.whenReady(function(r) {
        e.centerRowContainerCtrl = r.centerRowContainerCtrl, e.onDisplayedColumnsWidthChanged(), e.addScrollListener();
      });
    }, t.prototype.addScrollListener = function() {
      var e = this.ctrlsService.getFakeHScrollComp(), r = this.ctrlsService.getFakeVScrollComp();
      this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(), "scroll", this.onHScroll.bind(this)), e.onScrollCallback(this.onFakeHScroll.bind(this));
      var n = this.gridOptionsService.is("debounceVerticalScrollbar"), i = n ? mi(this.onVScroll.bind(this), 100) : this.onVScroll.bind(this), a = n ? mi(this.onFakeVScroll.bind(this), 100) : this.onFakeVScroll.bind(this);
      this.addManagedListener(this.eBodyViewport, "scroll", i), r.onScrollCallback(a);
    }, t.prototype.onDisplayedColumnsWidthChanged = function() {
      this.enableRtl && this.horizontallyScrollHeaderCenterAndFloatingCenter();
    }, t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter = function(e) {
      var r = this.centerRowContainerCtrl == null;
      if (!r) {
        e === void 0 && (e = this.centerRowContainerCtrl.getCenterViewportScrollLeft());
        var n = this.enableRtl ? e : -e, i = this.ctrlsService.getTopCenterRowContainerCtrl(), a = this.ctrlsService.getStickyTopCenterRowContainerCtrl(), s = this.ctrlsService.getBottomCenterRowContainerCtrl(), l = this.ctrlsService.getFakeHScrollComp(), u = this.ctrlsService.getHeaderRowContainerCtrl();
        u.setHorizontalScroll(-n), s.setContainerTranslateX(n), i.setContainerTranslateX(n), a.setContainerTranslateX(n);
        var c = this.centerRowContainerCtrl.getViewportElement(), d = this.lastScrollSource[dr.Horizontal] === Cr.Container;
        e = Math.abs(e), d ? l.setScrollPosition(e) : $c(c, e, this.enableRtl);
      }
    }, t.prototype.isControllingScroll = function(e, r) {
      return this.lastScrollSource[r] == null ? (this.lastScrollSource[r] = e, !0) : this.lastScrollSource[r] === e;
    }, t.prototype.onFakeHScroll = function() {
      this.isControllingScroll(Cr.FakeContainer, dr.Horizontal) && this.onHScrollCommon(Cr.FakeContainer);
    }, t.prototype.onHScroll = function() {
      this.isControllingScroll(Cr.Container, dr.Horizontal) && this.onHScrollCommon(Cr.Container);
    }, t.prototype.onHScrollCommon = function(e) {
      var r = this.centerRowContainerCtrl.getViewportElement(), n = r.scrollLeft;
      if (!this.shouldBlockScrollUpdate(dr.Horizontal, n, !0)) {
        var i;
        e === Cr.Container ? i = Wc(r, this.enableRtl) : i = this.ctrlsService.getFakeHScrollComp().getScrollPosition(), this.doHorizontalScroll(Math.round(i)), this.resetLastHScrollDebounced();
      }
    }, t.prototype.onFakeVScroll = function() {
      this.isControllingScroll(Cr.FakeContainer, dr.Vertical) && this.onVScrollCommon(Cr.FakeContainer);
    }, t.prototype.onVScroll = function() {
      this.isControllingScroll(Cr.Container, dr.Vertical) && this.onVScrollCommon(Cr.Container);
    }, t.prototype.onVScrollCommon = function(e) {
      var r;
      e === Cr.Container ? r = this.eBodyViewport.scrollTop : r = this.ctrlsService.getFakeVScrollComp().getScrollPosition(), !this.shouldBlockScrollUpdate(dr.Vertical, r, !0) && (this.animationFrameService.setScrollTop(r), this.nextScrollTop = r, e === Cr.Container ? this.ctrlsService.getFakeVScrollComp().setScrollPosition(r) : this.eBodyViewport.scrollTop = r, this.gridOptionsService.is("suppressAnimationFrame") ? this.scrollGridIfNeeded() : this.animationFrameService.schedule(), this.resetLastVScrollDebounced());
    }, t.prototype.doHorizontalScroll = function(e) {
      var r = this.ctrlsService.getFakeHScrollComp().getScrollPosition();
      this.scrollLeft === e && e === r || (this.scrollLeft = e, this.fireScrollEvent(dr.Horizontal), this.horizontallyScrollHeaderCenterAndFloatingCenter(e), this.onHorizontalViewportChanged());
    }, t.prototype.fireScrollEvent = function(e) {
      var r = this, n = {
        type: R.EVENT_BODY_SCROLL,
        direction: e === dr.Horizontal ? "horizontal" : "vertical",
        left: this.scrollLeft,
        top: this.scrollTop
      };
      this.eventService.dispatchEvent(n), window.clearTimeout(this.scrollTimer), this.scrollTimer = void 0, this.scrollTimer = window.setTimeout(function() {
        var i = dh(dh({}, n), { type: R.EVENT_BODY_SCROLL_END });
        r.eventService.dispatchEvent(i);
      }, 100);
    }, t.prototype.shouldBlockScrollUpdate = function(e, r, n) {
      return n === void 0 && (n = !1), n && !na() ? !1 : e === dr.Vertical ? this.shouldBlockVerticalScroll(r) : this.shouldBlockHorizontalScroll(r);
    }, t.prototype.shouldBlockVerticalScroll = function(e) {
      var r = ad(this.eBodyViewport), n = this.eBodyViewport.scrollHeight;
      return e < 0 || e + r > n;
    }, t.prototype.shouldBlockHorizontalScroll = function(e) {
      var r = this.centerRowContainerCtrl.getCenterWidth(), n = this.centerRowContainerCtrl.getViewportElement().scrollWidth;
      if (this.enableRtl && jc()) {
        if (e > 0)
          return !0;
      } else if (e < 0)
        return !0;
      return Math.abs(e) + r > n;
    }, t.prototype.redrawRowsAfterScroll = function() {
      this.fireScrollEvent(dr.Vertical);
    }, t.prototype.onHorizontalViewportChanged = function() {
      this.centerRowContainerCtrl.onHorizontalViewportChanged();
    }, t.prototype.checkScrollLeft = function() {
      this.scrollLeft !== this.centerRowContainerCtrl.getCenterViewportScrollLeft() && this.onHScrollCommon(Cr.Container);
    }, t.prototype.scrollGridIfNeeded = function() {
      var e = this.scrollTop != this.nextScrollTop;
      return e && (this.scrollTop = this.nextScrollTop, this.redrawRowsAfterScroll()), e;
    }, t.prototype.setHorizontalScrollPosition = function(e, r) {
      r === void 0 && (r = !1);
      var n = 0, i = this.centerRowContainerCtrl.getViewportElement().scrollWidth - this.centerRowContainerCtrl.getCenterWidth();
      !r && this.shouldBlockScrollUpdate(dr.Horizontal, e) && (this.enableRtl && jc() ? e = e > 0 ? 0 : i : e = Math.min(Math.max(e, n), i)), $c(this.centerRowContainerCtrl.getViewportElement(), Math.abs(e), this.enableRtl), this.doHorizontalScroll(e);
    }, t.prototype.setVerticalScrollPosition = function(e) {
      this.eBodyViewport.scrollTop = e;
    }, t.prototype.getVScrollPosition = function() {
      var e = {
        top: this.eBodyViewport.scrollTop,
        bottom: this.eBodyViewport.scrollTop + this.eBodyViewport.offsetHeight
      };
      return e;
    }, t.prototype.getHScrollPosition = function() {
      return this.centerRowContainerCtrl.getHScrollPosition();
    }, t.prototype.isHorizontalScrollShowing = function() {
      return this.centerRowContainerCtrl.isHorizontalScrollShowing();
    }, t.prototype.scrollHorizontally = function(e) {
      var r = this.centerRowContainerCtrl.getViewportElement().scrollLeft;
      return this.setHorizontalScrollPosition(r + e), this.centerRowContainerCtrl.getViewportElement().scrollLeft - r;
    }, t.prototype.scrollToTop = function() {
      this.eBodyViewport.scrollTop = 0;
    }, t.prototype.ensureNodeVisible = function(e, r) {
      r === void 0 && (r = null);
      for (var n = this.rowModel.getRowCount(), i = -1, a = 0; a < n; a++) {
        var s = this.rowModel.getRow(a);
        if (typeof e == "function") {
          var l = e;
          if (s && l(s)) {
            i = a;
            break;
          }
        } else if (e === s || e === s.data) {
          i = a;
          break;
        }
      }
      i >= 0 && this.ensureIndexVisible(i, r);
    }, t.prototype.ensureIndexVisible = function(e, r) {
      if (!this.gridOptionsService.isDomLayout("print")) {
        var n = this.paginationProxy.getRowCount();
        if (typeof e != "number" || e < 0 || e >= n) {
          console.warn("AG Grid: Invalid row index for ensureIndexVisible: " + e);
          return;
        }
        var i = this.gridOptionsService.is("pagination"), a = i && !this.gridOptionsService.is("suppressPaginationPanel");
        a || this.paginationProxy.goToPageWithIndex(e);
        var s = this.ctrlsService.getGridBodyCtrl(), l = s.getStickyTopHeight(), u = this.paginationProxy.getRow(e), c;
        do {
          var d = u.rowTop, p = u.rowHeight, h = this.paginationProxy.getPixelOffset(), f = u.rowTop - h, v = f + u.rowHeight, g = this.getVScrollPosition(), y = this.heightScaler.getDivStretchOffset(), m = g.top + y, C = g.bottom + y, S = C - m, b = this.heightScaler.getScrollPositionForPixel(f), _ = this.heightScaler.getScrollPositionForPixel(v - S), O = Math.min((b + _) / 2, f), E = m + l > f, D = C < v, x = null;
          r === "top" ? x = b : r === "bottom" ? x = _ : r === "middle" ? x = O : E ? x = b - l : D && (x = _), x !== null && (this.setVerticalScrollPosition(x), this.rowRenderer.redraw()), c = d !== u.rowTop || p !== u.rowHeight;
        } while (c);
        this.animationFrameService.flushAllFrames();
      }
    }, t.prototype.ensureColumnVisible = function(e, r) {
      r === void 0 && (r = "auto");
      var n = this.columnModel.getGridColumn(e);
      if (n && !n.isPinned() && this.columnModel.isColumnDisplayed(n)) {
        var i = this.getPositionedHorizontalScroll(n, r);
        i !== null && this.centerRowContainerCtrl.setCenterViewportScrollLeft(i), this.centerRowContainerCtrl.onHorizontalViewportChanged(), this.animationFrameService.flushAllFrames();
      }
    }, t.prototype.getPositionedHorizontalScroll = function(e, r) {
      var n = this.isColumnOutsideViewport(e), i = n.columnBeforeStart, a = n.columnAfterEnd, s = this.centerRowContainerCtrl.getCenterWidth() < e.getActualWidth(), l = this.centerRowContainerCtrl.getCenterWidth(), u = this.enableRtl, c = (u ? i : a) || s, d = u ? a : i;
      r !== "auto" && (c = r === "start", d = r === "end");
      var p = r === "middle";
      if (c || d || p) {
        var h = this.getColumnBounds(e), f = h.colLeft, v = h.colMiddle, g = h.colRight;
        return p ? v - l / 2 : c ? u ? g : f : u ? f - l : g - l;
      }
      return null;
    }, t.prototype.isColumnOutsideViewport = function(e) {
      var r = this.getViewportBounds(), n = r.start, i = r.end, a = this.getColumnBounds(e), s = a.colLeft, l = a.colRight, u = this.enableRtl, c = u ? n > l : i < l, d = u ? i < s : n > s;
      return { columnBeforeStart: c, columnAfterEnd: d };
    }, t.prototype.getColumnBounds = function(e) {
      var r = this.enableRtl, n = this.columnModel.getBodyContainerWidth(), i = e.getActualWidth(), a = e.getLeft(), s = r ? -1 : 1, l = r ? n - a : a, u = l + i * s, c = l + i / 2 * s;
      return { colLeft: l, colMiddle: c, colRight: u };
    }, t.prototype.getViewportBounds = function() {
      var e = this.centerRowContainerCtrl.getCenterWidth(), r = this.centerRowContainerCtrl.getCenterViewportScrollLeft(), n = r, i = e + r;
      return { start: n, end: i, width: e };
    }, vo([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), vo([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), vo([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), vo([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), vo([
      w("rowContainerHeightService")
    ], t.prototype, "heightScaler", void 0), vo([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), vo([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), vo([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), bf = (
  /** @class */
  function() {
    function o(t) {
      this.tickingInterval = null, this.onScrollCallback = null, this.scrollContainer = t.scrollContainer, this.scrollHorizontally = t.scrollAxis.indexOf("x") !== -1, this.scrollVertically = t.scrollAxis.indexOf("y") !== -1, this.scrollByTick = t.scrollByTick != null ? t.scrollByTick : 20, t.onScrollCallback && (this.onScrollCallback = t.onScrollCallback), this.scrollVertically && (this.getVerticalPosition = t.getVerticalPosition, this.setVerticalPosition = t.setVerticalPosition), this.scrollHorizontally && (this.getHorizontalPosition = t.getHorizontalPosition, this.setHorizontalPosition = t.setHorizontalPosition), this.shouldSkipVerticalScroll = t.shouldSkipVerticalScroll || function() {
        return !1;
      }, this.shouldSkipHorizontalScroll = t.shouldSkipHorizontalScroll || function() {
        return !1;
      };
    }
    return o.prototype.check = function(t, e) {
      e === void 0 && (e = !1);
      var r = e || this.shouldSkipVerticalScroll();
      if (!(r && this.shouldSkipHorizontalScroll())) {
        var n = this.scrollContainer.getBoundingClientRect(), i = this.scrollByTick;
        this.tickLeft = t.clientX < n.left + i, this.tickRight = t.clientX > n.right - i, this.tickUp = t.clientY < n.top + i && !r, this.tickDown = t.clientY > n.bottom - i && !r, this.tickLeft || this.tickRight || this.tickUp || this.tickDown ? this.ensureTickingStarted() : this.ensureCleared();
      }
    }, o.prototype.ensureTickingStarted = function() {
      this.tickingInterval === null && (this.tickingInterval = window.setInterval(this.doTick.bind(this), 100), this.tickCount = 0);
    }, o.prototype.doTick = function() {
      this.tickCount++;
      var t;
      if (t = this.tickCount > 20 ? 200 : this.tickCount > 10 ? 80 : 40, this.scrollVertically) {
        var e = this.getVerticalPosition();
        this.tickUp && this.setVerticalPosition(e - t), this.tickDown && this.setVerticalPosition(e + t);
      }
      if (this.scrollHorizontally) {
        var r = this.getHorizontalPosition();
        this.tickLeft && this.setHorizontalPosition(r - t), this.tickRight && this.setHorizontalPosition(r + t);
      }
      this.onScrollCallback && this.onScrollCallback();
    }, o.prototype.ensureCleared = function() {
      this.tickingInterval && (window.clearInterval(this.tickingInterval), this.tickingInterval = null);
    }, o;
  }()
), pL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dy = function() {
  return dy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, dy.apply(this, arguments);
}, nn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hL = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, fL = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, vL = (
  /** @class */
  function(o) {
    pL(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.isMultiRowDrag = !1, r.isGridSorted = !1, r.isGridFiltered = !1, r.isRowGroupActive = !1, r.eContainer = e, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.gridOptionsService.isRowModelType("clientSide") && (this.clientSideRowModel = this.rowModel);
      var r = function() {
        e.onSortChanged(), e.onFilterChanged(), e.onRowGroupChanged();
      };
      this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, this.onSortChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, function() {
        r();
      }), r(), this.ctrlsService.whenReady(function() {
        var n = e.ctrlsService.getGridBodyCtrl();
        e.autoScrollService = new bf({
          scrollContainer: n.getBodyViewportElement(),
          scrollAxis: "y",
          getVerticalPosition: function() {
            return n.getScrollFeature().getVScrollPosition().top;
          },
          setVerticalPosition: function(i) {
            return n.getScrollFeature().setVerticalScrollPosition(i);
          },
          onScrollCallback: function() {
            e.onDragging(e.lastDraggingEvent);
          }
        });
      });
    }, t.prototype.onSortChanged = function() {
      this.isGridSorted = this.sortController.isSortActive();
    }, t.prototype.onFilterChanged = function() {
      this.isGridFiltered = this.filterManager.isAnyFilterPresent();
    }, t.prototype.onRowGroupChanged = function() {
      var e = this.columnModel.getRowGroupColumns();
      this.isRowGroupActive = !Kr(e);
    }, t.prototype.getContainer = function() {
      return this.eContainer;
    }, t.prototype.isInterestedIn = function(e) {
      return e === gt.RowDrag;
    }, t.prototype.getIconName = function() {
      var e = this.gridOptionsService.is("rowDragManaged");
      return e && this.shouldPreventRowMove() ? Ze.ICON_NOT_ALLOWED : Ze.ICON_MOVE;
    }, t.prototype.shouldPreventRowMove = function() {
      return this.isGridSorted || this.isGridFiltered || this.isRowGroupActive;
    }, t.prototype.getRowNodes = function(e) {
      var r = this;
      if (!this.isFromThisGrid(e))
        return e.dragItem.rowNodes || [];
      var n = this.gridOptionsService.is("rowDragMultiRow"), i = fL([], hL(this.selectionService.getSelectedNodes())).sort(function(s, l) {
        return s.rowIndex == null || l.rowIndex == null ? 0 : r.getRowIndexNumber(s) - r.getRowIndexNumber(l);
      }), a = e.dragItem.rowNode;
      return n && i.indexOf(a) !== -1 ? (this.isMultiRowDrag = !0, i) : (this.isMultiRowDrag = !1, [a]);
    }, t.prototype.onDragEnter = function(e) {
      e.dragItem.rowNodes = this.getRowNodes(e), this.dispatchGridEvent(R.EVENT_ROW_DRAG_ENTER, e), this.getRowNodes(e).forEach(function(r) {
        r.setDragging(!0);
      }), this.onEnterOrDragging(e);
    }, t.prototype.onDragging = function(e) {
      this.onEnterOrDragging(e);
    }, t.prototype.isFromThisGrid = function(e) {
      var r = e.dragSource.dragSourceDomDataKey;
      return r === this.gridOptionsService.getDomDataKey();
    }, t.prototype.isDropZoneWithinThisGrid = function(e) {
      var r = this.ctrlsService.getGridBodyCtrl(), n = r.getGui(), i = e.dropZoneTarget;
      return !n.contains(i);
    }, t.prototype.onEnterOrDragging = function(e) {
      this.dispatchGridEvent(R.EVENT_ROW_DRAG_MOVE, e), this.lastDraggingEvent = e;
      var r = this.mouseEventService.getNormalisedPosition(e).y, n = this.gridOptionsService.is("rowDragManaged");
      n && this.doManagedDrag(e, r), this.autoScrollService.check(e.event);
    }, t.prototype.doManagedDrag = function(e, r) {
      var n = this.isFromThisGrid(e), i = this.gridOptionsService.is("rowDragManaged"), a = e.dragItem.rowNodes;
      i && this.shouldPreventRowMove() || (this.gridOptionsService.is("suppressMoveWhenRowDragging") || !n ? this.isDropZoneWithinThisGrid(e) || this.clientSideRowModel.highlightRowAtPixel(a[0], r) : this.moveRows(a, r));
    }, t.prototype.getRowIndexNumber = function(e) {
      return parseInt(et(e.getRowIndexString().split("-")), 10);
    }, t.prototype.moveRowAndClearHighlight = function(e) {
      var r = this, n = this.clientSideRowModel.getLastHighlightedRowNode(), i = n && n.highlighted === ro.Below, a = this.mouseEventService.getNormalisedPosition(e).y, s = e.dragItem.rowNodes, l = i ? 1 : 0;
      if (this.isFromThisGrid(e))
        s.forEach(function(d) {
          d.rowTop < a && (l -= 1);
        }), this.moveRows(s, a, l);
      else {
        var u = this.gridOptionsService.getCallback("getRowId"), c = this.clientSideRowModel.getRowIndexAtPixel(a) + 1;
        this.clientSideRowModel.getHighlightPosition(a) === ro.Above && c--, this.clientSideRowModel.updateRowData({
          add: s.map(function(d) {
            return d.data;
          }).filter(function(d) {
            return !r.clientSideRowModel.getRowNode(u ? u({ data: d, level: 0 }) : d.id);
          }),
          addIndex: c
        });
      }
      this.clearRowHighlight();
    }, t.prototype.clearRowHighlight = function() {
      this.clientSideRowModel.highlightRowAtPixel(null);
    }, t.prototype.moveRows = function(e, r, n) {
      n === void 0 && (n = 0);
      var i = this.clientSideRowModel.ensureRowsAtPixel(e, r, n);
      i && (this.focusService.clearFocusedCell(), this.rangeService && this.rangeService.removeAllCellRanges());
    }, t.prototype.addRowDropZone = function(e) {
      var r = this;
      if (!e.getContainer()) {
        ze(function() {
          return console.warn("AG Grid: addRowDropZone - A container target needs to be provided");
        }, "add-drop-zone-empty-target");
        return;
      }
      if (this.dragAndDropService.findExternalZone(e)) {
        console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");
        return;
      }
      var n = {
        getContainer: e.getContainer
      };
      e.fromGrid ? (e.fromGrid = void 0, n = e) : (e.onDragEnter && (n.onDragEnter = function(i) {
        e.onDragEnter(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_ENTER, i));
      }), e.onDragLeave && (n.onDragLeave = function(i) {
        e.onDragLeave(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_LEAVE, i));
      }), e.onDragging && (n.onDragging = function(i) {
        e.onDragging(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_MOVE, i));
      }), e.onDragStop && (n.onDragStop = function(i) {
        e.onDragStop(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_END, i));
      })), this.dragAndDropService.addDropTarget(dy({ isInterestedIn: function(i) {
        return i === gt.RowDrag;
      }, getIconName: function() {
        return Ze.ICON_MOVE;
      }, external: !0 }, n));
    }, t.prototype.getRowDropZone = function(e) {
      var r = this, n = this.getContainer.bind(this), i = this.onDragEnter.bind(this), a = this.onDragLeave.bind(this), s = this.onDragging.bind(this), l = this.onDragStop.bind(this);
      return e ? {
        getContainer: n,
        onDragEnter: e.onDragEnter ? function(u) {
          i(u), e.onDragEnter(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_ENTER, u));
        } : i,
        onDragLeave: e.onDragLeave ? function(u) {
          a(u), e.onDragLeave(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_LEAVE, u));
        } : a,
        onDragging: e.onDragging ? function(u) {
          s(u), e.onDragging(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_MOVE, u));
        } : s,
        onDragStop: e.onDragStop ? function(u) {
          l(u), e.onDragStop(r.draggingToRowDragEvent(R.EVENT_ROW_DRAG_END, u));
        } : l,
        fromGrid: !0
        /* @private */
      } : {
        getContainer: n,
        onDragEnter: i,
        onDragLeave: a,
        onDragging: s,
        onDragStop: l,
        /* @private */
        fromGrid: !0
      };
    }, t.prototype.draggingToRowDragEvent = function(e, r) {
      var n = this.mouseEventService.getNormalisedPosition(r).y, i = n > this.paginationProxy.getCurrentPageHeight(), a = -1, s;
      i || (a = this.rowModel.getRowIndexAtPixel(n), s = this.rowModel.getRow(a));
      var l;
      switch (r.vDirection) {
        case zl.Down:
          l = "down";
          break;
        case zl.Up:
          l = "up";
          break;
        default:
          l = null;
          break;
      }
      var u = {
        type: e,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context,
        event: r.event,
        node: r.dragItem.rowNode,
        nodes: r.dragItem.rowNodes,
        overIndex: a,
        overNode: s,
        y: n,
        vDirection: l
      };
      return u;
    }, t.prototype.dispatchGridEvent = function(e, r) {
      var n = this.draggingToRowDragEvent(e, r);
      this.eventService.dispatchEvent(n);
    }, t.prototype.onDragLeave = function(e) {
      this.dispatchGridEvent(R.EVENT_ROW_DRAG_LEAVE, e), this.stopDragging(e), this.gridOptionsService.is("rowDragManaged") && this.clearRowHighlight(), this.isFromThisGrid(e) && (this.isMultiRowDrag = !1);
    }, t.prototype.onDragStop = function(e) {
      this.dispatchGridEvent(R.EVENT_ROW_DRAG_END, e), this.stopDragging(e), this.gridOptionsService.is("rowDragManaged") && (this.gridOptionsService.is("suppressMoveWhenRowDragging") || !this.isFromThisGrid(e)) && !this.isDropZoneWithinThisGrid(e) && this.moveRowAndClearHighlight(e);
    }, t.prototype.stopDragging = function(e) {
      this.autoScrollService.ensureCleared(), this.getRowNodes(e).forEach(function(r) {
        r.setDragging(!1);
      });
    }, nn([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), nn([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), nn([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), nn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), nn([
      w("focusService")
    ], t.prototype, "focusService", void 0), nn([
      w("sortController")
    ], t.prototype, "sortController", void 0), nn([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), nn([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), nn([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), nn([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), nn([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), nn([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), gL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Gr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Kl;
(function(o) {
  o.ANIMATION_ON = "ag-row-animation", o.ANIMATION_OFF = "ag-row-no-animation";
})(Kl || (Kl = {}));
var GE = "ag-force-vertical-scroll", yL = "ag-selectable", mL = "ag-column-moving", CL = (
  /** @class */
  function(o) {
    gL(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.stickyTopHeight = 0, e;
    }
    return t.prototype.getScrollFeature = function() {
      return this.bodyScrollFeature;
    }, t.prototype.getBodyViewportElement = function() {
      return this.eBodyViewport;
    }, t.prototype.setComp = function(e, r, n, i, a, s) {
      this.comp = e, this.eGridBody = r, this.eBodyViewport = n, this.eTop = i, this.eBottom = a, this.eStickyTop = s, this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")), this.createManagedBean(new Hm(this.comp)), this.bodyScrollFeature = this.createManagedBean(new dL(this.eBodyViewport)), this.addRowDragListener(), this.setupRowAnimationCssClass(), this.addEventListeners(), this.addFocusListeners([i, n, a, s]), this.onGridColumnsChanged(), this.addBodyViewportListener(), this.setFloatingHeights(), this.disableBrowserDragging(), this.addStopEditingWhenGridLosesFocus(), this.ctrlsService.registerGridBodyCtrl(this);
    }, t.prototype.getComp = function() {
      return this.comp;
    }, t.prototype.addEventListeners = function() {
      this.addManagedListener(this.eventService, R.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_PINNED_ROW_DATA_CHANGED, this.onPinnedRowDataChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_HEADER_HEIGHT_CHANGED, this.onHeaderHeightChanged.bind(this));
    }, t.prototype.addFocusListeners = function(e) {
      var r = this;
      e.forEach(function(n) {
        r.addManagedListener(n, "focusin", function(i) {
          var a = i.target, s = Za(a, "ag-root", n);
          n.classList.toggle("ag-has-focus", !s);
        }), r.addManagedListener(n, "focusout", function(i) {
          var a = i.target, s = i.relatedTarget, l = n.contains(s), u = Za(s, "ag-root", n), c = Za(a, "ag-root", n);
          c || (!l || u) && n.classList.remove("ag-has-focus");
        });
      });
    }, t.prototype.setColumnMovingCss = function(e) {
      this.comp.setColumnMovingCss(mL, e);
    }, t.prototype.setCellTextSelection = function(e) {
      e === void 0 && (e = !1), this.comp.setCellSelectableCss(yL, e);
    }, t.prototype.onScrollVisibilityChanged = function() {
      var e = this, r = this.scrollVisibleService.isVerticalScrollShowing();
      this.setVerticalScrollPaddingVisible(r), this.setStickyTopWidth(r);
      var n = r && this.gridOptionsService.getScrollbarWidth() || 0, i = Fl() ? 16 : 0, a = "calc(100% + " + (n + i) + "px)";
      this.animationFrameService.requestAnimationFrame(function() {
        return e.comp.setBodyViewportWidth(a);
      });
    }, t.prototype.onGridColumnsChanged = function() {
      var e = this.columnModel.getAllGridColumns();
      this.comp.setColumnCount(e ? e.length : 0);
    }, t.prototype.disableBrowserDragging = function() {
      this.addManagedListener(this.eGridBody, "dragstart", function(e) {
        if (e.target instanceof HTMLImageElement)
          return e.preventDefault(), !1;
      });
    }, t.prototype.addStopEditingWhenGridLosesFocus = function() {
      var e = this;
      if (this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")) {
        var r = function(i) {
          var a = i.relatedTarget;
          if (ih(a) === null) {
            e.rowRenderer.stopEditing();
            return;
          }
          var s = (
            // see if click came from inside the viewports
            n.some(function(u) {
              return u.contains(a);
            }) && e.mouseEventService.isElementInThisGrid(a)
          );
          if (!s) {
            var l = e.popupService;
            s = l.getActivePopups().some(function(u) {
              return u.contains(a);
            }) || l.isElementWithinCustomPopup(a);
          }
          s || e.rowRenderer.stopEditing();
        }, n = [this.eBodyViewport, this.eBottom, this.eTop, this.eStickyTop];
        n.forEach(function(i) {
          return e.addManagedListener(i, "focusout", r);
        });
      }
    }, t.prototype.updateRowCount = function() {
      var e = this.headerNavigationService.getHeaderRowCount(), r = this.rowModel.isLastRowIndexKnown() ? this.rowModel.getRowCount() : -1, n = r === -1 ? -1 : e + r;
      this.comp.setRowCount(n);
    }, t.prototype.registerBodyViewportResizeListener = function(e) {
      this.comp.registerBodyViewportResizeListener(e);
    }, t.prototype.setVerticalScrollPaddingVisible = function(e) {
      var r = e ? "scroll" : "hidden";
      this.comp.setPinnedTopBottomOverflowY(r);
    }, t.prototype.isVerticalScrollShowing = function() {
      var e = this.gridOptionsService.is("alwaysShowVerticalScroll"), r = e ? GE : null, n = this.gridOptionsService.isDomLayout("normal");
      return this.comp.setAlwaysVerticalScrollClass(r, e), e || n && uE(this.eBodyViewport);
    }, t.prototype.setupRowAnimationCssClass = function() {
      var e = this, r = function() {
        var n = e.gridOptionsService.isAnimateRows() && !e.rowContainerHeightService.isStretching(), i = n ? Kl.ANIMATION_ON : Kl.ANIMATION_OFF;
        e.comp.setRowAnimationCssOnBodyViewport(i, n);
      };
      r(), this.addManagedListener(this.eventService, R.EVENT_HEIGHT_SCALE_CHANGED, r), this.addManagedPropertyListener("animateRows", r);
    }, t.prototype.getGridBodyElement = function() {
      return this.eGridBody;
    }, t.prototype.addBodyViewportListener = function() {
      var e = this.onBodyViewportContextMenu.bind(this);
      this.addManagedListener(this.eBodyViewport, "contextmenu", e), this.mockContextMenuForIPad(e), this.addManagedListener(this.eBodyViewport, "wheel", this.onBodyViewportWheel.bind(this)), this.addManagedListener(this.eStickyTop, "wheel", this.onStickyTopWheel.bind(this)), this.addFullWidthContainerWheelListener();
    }, t.prototype.addFullWidthContainerWheelListener = function() {
      var e = this, r = this.eBodyViewport.querySelector(".ag-full-width-container"), n = this.eBodyViewport.querySelector(".ag-center-cols-viewport");
      r && n && this.addManagedListener(r, "wheel", function(i) {
        return e.onFullWidthContainerWheel(i, n);
      });
    }, t.prototype.onFullWidthContainerWheel = function(e, r) {
      !e.deltaX || Math.abs(e.deltaY) > Math.abs(e.deltaX) || !this.mouseEventService.isEventFromThisGrid(e) || (e.preventDefault(), r.scrollBy({ left: e.deltaX }));
    }, t.prototype.onBodyViewportContextMenu = function(e, r, n) {
      if (!(!e && !n)) {
        if (this.gridOptionsService.is("preventDefaultOnContextMenu")) {
          var i = e || n;
          i.preventDefault();
        }
        var a = (e || r).target;
        if (a === this.eBodyViewport || a === this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()) {
          if (!this.contextMenuFactory)
            return;
          e ? this.contextMenuFactory.onContextMenu(e, null, null, null, null, this.eGridBody) : n && this.contextMenuFactory.onContextMenu(null, n, null, null, null, this.eGridBody);
        }
      }
    }, t.prototype.mockContextMenuForIPad = function(e) {
      if (na()) {
        var r = new sr(this.eBodyViewport), n = function(i) {
          e(void 0, i.touchStart, i.touchEvent);
        };
        this.addManagedListener(r, sr.EVENT_LONG_TAP, n), this.addDestroyFunc(function() {
          return r.destroy();
        });
      }
    }, t.prototype.onBodyViewportWheel = function(e) {
      this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen") && this.popupService.hasAnchoredPopup() && e.preventDefault();
    }, t.prototype.onStickyTopWheel = function(e) {
      e.preventDefault(), e.offsetY && this.scrollVertically(e.deltaY);
    }, t.prototype.getGui = function() {
      return this.eGridBody;
    }, t.prototype.scrollVertically = function(e) {
      var r = this.eBodyViewport.scrollTop;
      return this.bodyScrollFeature.setVerticalScrollPosition(r + e), this.eBodyViewport.scrollTop - r;
    }, t.prototype.addRowDragListener = function() {
      this.rowDragFeature = this.createManagedBean(new vL(this.eBodyViewport)), this.dragAndDropService.addDropTarget(this.rowDragFeature);
    }, t.prototype.getRowDragFeature = function() {
      return this.rowDragFeature;
    }, t.prototype.onPinnedRowDataChanged = function() {
      this.setFloatingHeights();
    }, t.prototype.setFloatingHeights = function() {
      var e = this.pinnedRowModel, r = e.getPinnedTopTotalHeight();
      r && (r += 1);
      var n = e.getPinnedBottomTotalHeight();
      n && (n += 1), this.comp.setTopHeight(r), this.comp.setBottomHeight(n), this.comp.setTopDisplay(r ? "inherit" : "none"), this.comp.setBottomDisplay(n ? "inherit" : "none"), this.setStickyTopOffsetTop();
    }, t.prototype.setStickyTopHeight = function(e) {
      e === void 0 && (e = 0), this.comp.setStickyTopHeight(e + "px"), this.stickyTopHeight = e;
    }, t.prototype.getStickyTopHeight = function() {
      return this.stickyTopHeight;
    }, t.prototype.setStickyTopWidth = function(e) {
      if (!e)
        this.comp.setStickyTopWidth("100%");
      else {
        var r = this.gridOptionsService.getScrollbarWidth();
        this.comp.setStickyTopWidth("calc(100% - " + r + "px)");
      }
    }, t.prototype.onHeaderHeightChanged = function() {
      this.setStickyTopOffsetTop();
    }, t.prototype.setStickyTopOffsetTop = function() {
      var e = this.ctrlsService.getGridHeaderCtrl(), r = e.getHeaderHeight(), n = this.pinnedRowModel.getPinnedTopTotalHeight(), i = 0;
      r > 0 && (i += r + 1), n > 0 && (i += n + 1), this.comp.setStickyTopTop(i + "px");
    }, t.prototype.sizeColumnsToFit = function(e, r) {
      var n = this, i = this.isVerticalScrollShowing(), a = i ? this.gridOptionsService.getScrollbarWidth() : 0, s = yf(this.eGridBody), l = s - a;
      if (l > 0) {
        this.columnModel.sizeColumnsToFit(l, "sizeColumnsToFit", !1, e);
        return;
      }
      r === void 0 ? window.setTimeout(function() {
        n.sizeColumnsToFit(e, 100);
      }, 0) : r === 100 ? window.setTimeout(function() {
        n.sizeColumnsToFit(e, 500);
      }, 100) : r === 500 ? window.setTimeout(function() {
        n.sizeColumnsToFit(e, -1);
      }, 500) : console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?");
    }, t.prototype.addScrollEventListener = function(e) {
      this.eBodyViewport.addEventListener("scroll", e, { passive: !0 });
    }, t.prototype.removeScrollEventListener = function(e) {
      this.eBodyViewport.removeEventListener("scroll", e);
    }, Gr([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), Gr([
      w("rowContainerHeightService")
    ], t.prototype, "rowContainerHeightService", void 0), Gr([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Gr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Gr([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), Gr([
      Fe("contextMenuFactory")
    ], t.prototype, "contextMenuFactory", void 0), Gr([
      w("headerNavigationService")
    ], t.prototype, "headerNavigationService", void 0), Gr([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Gr([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), Gr([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Gr([
      w("popupService")
    ], t.prototype, "popupService", void 0), Gr([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), Gr([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), t;
  }(W)
), Zo;
(function(o) {
  o[o.FILL = 0] = "FILL", o[o.RANGE = 1] = "RANGE";
})(Zo || (Zo = {}));
var Yr;
(function(o) {
  o[o.VALUE = 0] = "VALUE", o[o.DIMENSION = 1] = "DIMENSION";
})(Yr || (Yr = {}));
var _u = "ag-cell-range-selected", SL = "ag-cell-range-chart", wL = "ag-cell-range-single-cell", _L = "ag-cell-range-chart-category", bL = "ag-cell-range-handle", EL = "ag-cell-range-top", OL = "ag-cell-range-right", xL = "ag-cell-range-bottom", TL = "ag-cell-range-left", RL = (
  /** @class */
  function() {
    function o(t, e) {
      this.beans = t, this.cellCtrl = e;
    }
    return o.prototype.setComp = function(t, e) {
      this.cellComp = t, this.eGui = e, this.onRangeSelectionChanged();
    }, o.prototype.onRangeSelectionChanged = function() {
      this.cellComp && (this.rangeCount = this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()), this.hasChartRange = this.getHasChartRange(), this.cellComp.addOrRemoveCssClass(_u, this.rangeCount !== 0), this.cellComp.addOrRemoveCssClass(_u + "-1", this.rangeCount === 1), this.cellComp.addOrRemoveCssClass(_u + "-2", this.rangeCount === 2), this.cellComp.addOrRemoveCssClass(_u + "-3", this.rangeCount === 3), this.cellComp.addOrRemoveCssClass(_u + "-4", this.rangeCount >= 4), this.cellComp.addOrRemoveCssClass(SL, this.hasChartRange), Wl(this.eGui, this.rangeCount > 0 ? !0 : void 0), this.cellComp.addOrRemoveCssClass(wL, this.isSingleCell()), this.updateRangeBorders(), this.refreshHandle());
    }, o.prototype.updateRangeBorders = function() {
      var t = this.getRangeBorders(), e = this.isSingleCell(), r = !e && t.top, n = !e && t.right, i = !e && t.bottom, a = !e && t.left;
      this.cellComp.addOrRemoveCssClass(EL, r), this.cellComp.addOrRemoveCssClass(OL, n), this.cellComp.addOrRemoveCssClass(xL, i), this.cellComp.addOrRemoveCssClass(TL, a);
    }, o.prototype.isSingleCell = function() {
      var t = this.beans.rangeService;
      return this.rangeCount === 1 && t && !t.isMoreThanOneCell();
    }, o.prototype.getHasChartRange = function() {
      var t = this.beans.rangeService;
      if (!this.rangeCount || !t)
        return !1;
      var e = t.getCellRanges();
      return e.length > 0 && e.every(function(r) {
        return Sn([Yr.DIMENSION, Yr.VALUE], r.type);
      });
    }, o.prototype.updateRangeBordersIfRangeCount = function() {
      this.rangeCount > 0 && (this.updateRangeBorders(), this.refreshHandle());
    }, o.prototype.getRangeBorders = function() {
      var t = this, e = this.beans.gridOptionsService.is("enableRtl"), r = !1, n = !1, i = !1, a = !1, s = this.cellCtrl.getCellPosition().column, l = this.beans, u = l.rangeService, c = l.columnModel, d, p;
      e ? (d = c.getDisplayedColAfter(s), p = c.getDisplayedColBefore(s)) : (d = c.getDisplayedColBefore(s), p = c.getDisplayedColAfter(s));
      var h = u.getCellRanges().filter(function(m) {
        return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(), m);
      });
      d || (a = !0), p || (n = !0);
      for (var f = 0; f < h.length && !(r && n && i && a); f++) {
        var v = h[f], g = u.getRangeStartRow(v), y = u.getRangeEndRow(v);
        !r && this.beans.rowPositionUtils.sameRow(g, this.cellCtrl.getCellPosition()) && (r = !0), !i && this.beans.rowPositionUtils.sameRow(y, this.cellCtrl.getCellPosition()) && (i = !0), !a && d && v.columns.indexOf(d) < 0 && (a = !0), !n && p && v.columns.indexOf(p) < 0 && (n = !0);
      }
      return { top: r, right: n, bottom: i, left: a };
    }, o.prototype.refreshHandle = function() {
      if (this.beans.rangeService) {
        var t = this.shouldHaveSelectionHandle();
        this.selectionHandle && !t && (this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle)), t && this.addSelectionHandle(), this.cellComp.addOrRemoveCssClass(bL, !!this.selectionHandle);
      }
    }, o.prototype.shouldHaveSelectionHandle = function() {
      var t = this.beans, e = t.gridOptionsService, r = t.rangeService, n = r.getCellRanges(), i = n.length;
      if (this.rangeCount < 1 || i < 1)
        return !1;
      var a = et(n), s = this.cellCtrl.getCellPosition(), l = e.is("enableFillHandle") && !this.cellCtrl.isSuppressFillHandle(), u = e.is("enableRangeHandle"), c = i === 1 && !this.cellCtrl.isEditing() && (l || u);
      if (this.hasChartRange) {
        var d = n[0].type === Yr.DIMENSION, p = d && r.isCellInSpecificRange(s, n[0]);
        this.cellComp.addOrRemoveCssClass(_L, p), c = a.type === Yr.VALUE;
      }
      return c && a.endRow != null && r.isContiguousRange(a) && r.isBottomRightCell(a, s);
    }, o.prototype.addSelectionHandle = function() {
      var t = this.beans, e = t.gridOptionsService, r = t.rangeService, n = et(r.getCellRanges()).type, i = e.is("enableFillHandle") && me(n), a = i ? Zo.FILL : Zo.RANGE;
      this.selectionHandle && this.selectionHandle.getType() !== a && (this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle)), this.selectionHandle || (this.selectionHandle = this.beans.selectionHandleFactory.createSelectionHandle(a)), this.selectionHandle.refresh(this.cellCtrl);
    }, o.prototype.destroy = function() {
      this.beans.context.destroyBean(this.selectionHandle);
    }, o;
  }()
), DL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), PL = (
  /** @class */
  function(o) {
    DL(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.cellCtrl = e, n.beans = r, n.column = e.getColumn(), n.rowNode = e.getRowNode(), n.setupColSpan(), n.setupRowSpan(), n;
    }
    return t.prototype.setupRowSpan = function() {
      this.rowSpan = this.column.getRowSpan(this.rowNode);
    }, t.prototype.setComp = function(e) {
      this.eGui = e, this.onLeftChanged(), this.onWidthChanged(), this.applyRowSpan();
    }, t.prototype.onDisplayColumnsChanged = function() {
      var e = this.getColSpanningList();
      Vo(this.colsSpanning, e) || (this.colsSpanning = e, this.onWidthChanged(), this.onLeftChanged());
    }, t.prototype.setupColSpan = function() {
      this.column.getColDef().colSpan != null && (this.colsSpanning = this.getColSpanningList(), this.addManagedListener(this.beans.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayColumnsChanged.bind(this)), this.addManagedListener(this.beans.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onWidthChanged.bind(this)));
    }, t.prototype.onWidthChanged = function() {
      if (this.eGui) {
        var e = this.getCellWidth();
        this.eGui.style.width = e + "px";
      }
    }, t.prototype.getCellWidth = function() {
      return this.colsSpanning ? this.colsSpanning.reduce(function(e, r) {
        return e + r.getActualWidth();
      }, 0) : this.column.getActualWidth();
    }, t.prototype.getColSpanningList = function() {
      var e = this.column.getColSpan(this.rowNode), r = [];
      if (e === 1)
        r.push(this.column);
      else
        for (var n = this.column, i = this.column.getPinned(), a = 0; n && a < e && (r.push(n), n = this.beans.columnModel.getDisplayedColAfter(n), !(!n || me(n) || i !== n.getPinned())); a++)
          ;
      return r;
    }, t.prototype.onLeftChanged = function() {
      if (this.eGui) {
        var e = this.modifyLeftForPrintLayout(this.getCellLeft());
        this.eGui.style.left = e + "px";
      }
    }, t.prototype.getCellLeft = function() {
      var e;
      return this.beans.gridOptionsService.is("enableRtl") && this.colsSpanning ? e = et(this.colsSpanning) : e = this.column, e.getLeft();
    }, t.prototype.modifyLeftForPrintLayout = function(e) {
      if (!this.cellCtrl.isPrintLayout() || this.column.getPinned() === "left")
        return e;
      var r = this.beans.columnModel.getDisplayedColumnsLeftWidth();
      if (this.column.getPinned() === "right") {
        var n = this.beans.columnModel.getBodyContainerWidth();
        return r + n + (e || 0);
      }
      return r + (e || 0);
    }, t.prototype.applyRowSpan = function() {
      if (this.rowSpan !== 1) {
        var e = this.beans.gridOptionsService.getRowHeightAsNumber(), r = e * this.rowSpan;
        this.eGui.style.height = r + "px", this.eGui.style.zIndex = "1";
      }
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t;
  }(W)
), AL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ML = (
  /** @class */
  function(o) {
    AL(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.staticClasses = [], n.cellCtrl = e, n.beans = r, n.column = e.getColumn(), n.rowNode = e.getRowNode(), n;
    }
    return t.prototype.setComp = function(e) {
      this.cellComp = e, this.applyUserStyles(), this.applyCellClassRules(), this.applyClassesFromColDef();
    }, t.prototype.applyCellClassRules = function() {
      var e = this, r = this.column.getColDef(), n = {
        value: this.cellCtrl.getValue(),
        data: this.rowNode.data,
        node: this.rowNode,
        colDef: r,
        column: this.column,
        rowIndex: this.rowNode.rowIndex,
        api: this.beans.gridOptionsService.api,
        columnApi: this.beans.gridOptionsService.columnApi,
        context: this.beans.gridOptionsService.context
      };
      this.beans.stylingService.processClassRules(r.cellClassRules, n, function(i) {
        return e.cellComp.addOrRemoveCssClass(i, !0);
      }, function(i) {
        return e.cellComp.addOrRemoveCssClass(i, !1);
      });
    }, t.prototype.applyUserStyles = function() {
      var e = this.column.getColDef();
      if (e.cellStyle) {
        var r;
        if (typeof e.cellStyle == "function") {
          var n = {
            column: this.column,
            value: this.cellCtrl.getValue(),
            colDef: e,
            data: this.rowNode.data,
            node: this.rowNode,
            rowIndex: this.rowNode.rowIndex,
            api: this.beans.gridOptionsService.api,
            columnApi: this.beans.gridOptionsService.columnApi,
            context: this.beans.gridOptionsService.context
          }, i = e.cellStyle;
          r = i(n);
        } else
          r = e.cellStyle;
        r && this.cellComp.setUserStyles(r);
      }
    }, t.prototype.applyClassesFromColDef = function() {
      var e = this, r = this.column.getColDef(), n = {
        value: this.cellCtrl.getValue(),
        data: this.rowNode.data,
        node: this.rowNode,
        column: this.column,
        colDef: r,
        rowIndex: this.rowNode.rowIndex,
        api: this.beans.gridOptionsService.api,
        columnApi: this.beans.gridOptionsService.columnApi,
        context: this.beans.gridOptionsService.context
      };
      this.staticClasses.length && this.staticClasses.forEach(function(i) {
        return e.cellComp.addOrRemoveCssClass(i, !1);
      }), this.staticClasses = this.beans.stylingService.getStaticCellClasses(r, n), this.staticClasses.length && this.staticClasses.forEach(function(i) {
        return e.cellComp.addOrRemoveCssClass(i, !0);
      });
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t;
  }(W)
), IL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jm = (
  /** @class */
  function(o) {
    IL(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.ctrl = e, n.beans = r, n;
    }
    return t.prototype.setComp = function(e) {
      this.comp = e, this.setupTooltip();
    }, t.prototype.setupTooltip = function() {
      this.browserTooltips = this.beans.gridOptionsService.is("enableBrowserTooltips"), this.updateTooltipText(), this.browserTooltips ? this.comp.setTitle(this.tooltip != null ? this.tooltip : void 0) : this.createTooltipFeatureIfNeeded();
    }, t.prototype.updateTooltipText = function() {
      this.tooltip = this.ctrl.getTooltipValue();
    }, t.prototype.createTooltipFeatureIfNeeded = function() {
      var e = this;
      if (this.genericTooltipFeature == null) {
        var r = {
          getTooltipParams: function() {
            return e.getTooltipParams();
          },
          getGui: function() {
            return e.ctrl.getGui();
          }
        };
        this.genericTooltipFeature = this.createManagedBean(new Fm(r), this.beans.context);
      }
    }, t.prototype.refreshToolTip = function() {
      this.updateTooltipText(), this.browserTooltips && this.comp.setTitle(this.tooltip != null ? this.tooltip : void 0);
    }, t.prototype.getTooltipParams = function() {
      var e = this.ctrl, r = e.getColumn ? e.getColumn() : void 0, n = e.getColDef ? e.getColDef() : void 0, i = e.getRowNode ? e.getRowNode() : void 0;
      return {
        location: e.getLocation(),
        colDef: n,
        column: r,
        rowIndex: e.getRowIndex ? e.getRowIndex() : void 0,
        node: i,
        data: i ? i.data : void 0,
        value: this.getTooltipText(),
        valueFormatted: e.getValueFormatted ? e.getValueFormatted() : void 0
      };
    }, t.prototype.getTooltipText = function() {
      return this.tooltip;
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t;
  }(W)
), Pe = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kE = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.postConstruct = function() {
      this.doingMasterDetail = this.gridOptionsService.isMasterDetail(), this.gridOptionsService.isRowModelType("clientSide") && (this.clientSideRowModel = this.rowModel), this.gridOptionsService.isRowModelType("serverSide") && (this.serverSideRowModel = this.rowModel);
    }, Pe([
      w("resizeObserverService")
    ], o.prototype, "resizeObserverService", void 0), Pe([
      w("paginationProxy")
    ], o.prototype, "paginationProxy", void 0), Pe([
      w("context")
    ], o.prototype, "context", void 0), Pe([
      w("columnApi")
    ], o.prototype, "columnApi", void 0), Pe([
      w("gridApi")
    ], o.prototype, "gridApi", void 0), Pe([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), Pe([
      w("expressionService")
    ], o.prototype, "expressionService", void 0), Pe([
      w("environment")
    ], o.prototype, "environment", void 0), Pe([
      w("rowRenderer")
    ], o.prototype, "rowRenderer", void 0), Pe([
      w("templateService")
    ], o.prototype, "templateService", void 0), Pe([
      w("valueService")
    ], o.prototype, "valueService", void 0), Pe([
      w("eventService")
    ], o.prototype, "eventService", void 0), Pe([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), Pe([
      w("headerNavigationService")
    ], o.prototype, "headerNavigationService", void 0), Pe([
      w("navigationService")
    ], o.prototype, "navigationService", void 0), Pe([
      w("columnAnimationService")
    ], o.prototype, "columnAnimationService", void 0), Pe([
      Fe("rangeService")
    ], o.prototype, "rangeService", void 0), Pe([
      w("focusService")
    ], o.prototype, "focusService", void 0), Pe([
      Fe("contextMenuFactory")
    ], o.prototype, "contextMenuFactory", void 0), Pe([
      w("popupService")
    ], o.prototype, "popupService", void 0), Pe([
      w("valueFormatterService")
    ], o.prototype, "valueFormatterService", void 0), Pe([
      w("stylingService")
    ], o.prototype, "stylingService", void 0), Pe([
      w("columnHoverService")
    ], o.prototype, "columnHoverService", void 0), Pe([
      w("userComponentFactory")
    ], o.prototype, "userComponentFactory", void 0), Pe([
      w("userComponentRegistry")
    ], o.prototype, "userComponentRegistry", void 0), Pe([
      w("animationFrameService")
    ], o.prototype, "animationFrameService", void 0), Pe([
      w("dragService")
    ], o.prototype, "dragService", void 0), Pe([
      w("dragAndDropService")
    ], o.prototype, "dragAndDropService", void 0), Pe([
      w("sortController")
    ], o.prototype, "sortController", void 0), Pe([
      w("filterManager")
    ], o.prototype, "filterManager", void 0), Pe([
      w("rowContainerHeightService")
    ], o.prototype, "rowContainerHeightService", void 0), Pe([
      w("frameworkOverrides")
    ], o.prototype, "frameworkOverrides", void 0), Pe([
      w("cellPositionUtils")
    ], o.prototype, "cellPositionUtils", void 0), Pe([
      w("rowPositionUtils")
    ], o.prototype, "rowPositionUtils", void 0), Pe([
      w("selectionService")
    ], o.prototype, "selectionService", void 0), Pe([
      Fe("selectionHandleFactory")
    ], o.prototype, "selectionHandleFactory", void 0), Pe([
      w("rowCssClassCalculator")
    ], o.prototype, "rowCssClassCalculator", void 0), Pe([
      w("rowModel")
    ], o.prototype, "rowModel", void 0), Pe([
      w("ctrlsService")
    ], o.prototype, "ctrlsService", void 0), Pe([
      w("ctrlsFactory")
    ], o.prototype, "ctrlsFactory", void 0), Pe([
      w("agStackComponentsRegistry")
    ], o.prototype, "agStackComponentsRegistry", void 0), Pe([
      w("valueCache")
    ], o.prototype, "valueCache", void 0), Pe([
      w("rowNodeEventThrottle")
    ], o.prototype, "rowNodeEventThrottle", void 0), Pe([
      w("localeService")
    ], o.prototype, "localeService", void 0), Pe([
      w("valueParserService")
    ], o.prototype, "valueParserService", void 0), Pe([
      V
    ], o.prototype, "postConstruct", null), o = Pe([
      q("beans")
    ], o), o;
  }()
), FL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), LL = (
  /** @class */
  function(o) {
    FL(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.cellCtrl = e, i.beans = r, i.column = n, i;
    }
    return t.prototype.onMouseEvent = function(e, r) {
      if (!_i(r))
        switch (e) {
          case "click":
            this.onCellClicked(r);
            break;
          case "mousedown":
          case "touchstart":
            this.onMouseDown(r);
            break;
          case "dblclick":
            this.onCellDoubleClicked(r);
            break;
          case "mouseout":
            this.onMouseOut(r);
            break;
          case "mouseover":
            this.onMouseOver(r);
            break;
        }
    }, t.prototype.onCellClicked = function(e) {
      if (this.isDoubleClickOnIPad()) {
        this.onCellDoubleClicked(e), e.preventDefault();
        return;
      }
      var r = this.beans, n = r.eventService, i = r.rangeService, a = r.gridOptionsService, s = e.ctrlKey || e.metaKey;
      i && s && i.getCellRangeCount(this.cellCtrl.getCellPosition()) > 1 && i.intersectLastRange(!0);
      var l = this.cellCtrl.createEvent(e, R.EVENT_CELL_CLICKED);
      n.dispatchEvent(l);
      var u = this.column.getColDef();
      u.onCellClicked && window.setTimeout(function() {
        return u.onCellClicked(l);
      }, 0);
      var c = (a.is("singleClickEdit") || u.singleClickEdit) && !a.is("suppressClickEdit");
      c && this.cellCtrl.startRowOrCellEdit();
    }, t.prototype.isDoubleClickOnIPad = function() {
      if (!na() || cm("dblclick"))
        return !1;
      var e = (/* @__PURE__ */ new Date()).getTime(), r = e - this.lastIPadMouseClickEvent < 200;
      return this.lastIPadMouseClickEvent = e, r;
    }, t.prototype.onCellDoubleClicked = function(e) {
      var r = this.column.getColDef(), n = this.cellCtrl.createEvent(e, R.EVENT_CELL_DOUBLE_CLICKED);
      this.beans.eventService.dispatchEvent(n), typeof r.onCellDoubleClicked == "function" && window.setTimeout(function() {
        return r.onCellDoubleClicked(n);
      }, 0);
      var i = !this.beans.gridOptionsService.is("singleClickEdit") && !this.beans.gridOptionsService.is("suppressClickEdit");
      i && this.cellCtrl.startRowOrCellEdit(null, e);
    }, t.prototype.onMouseDown = function(e) {
      var r = e.ctrlKey, n = e.metaKey, i = e.shiftKey, a = e.target, s = this.beans, l = s.eventService, u = s.rangeService;
      if (!this.isRightClickInExistingRange(e)) {
        var c = u && u.getCellRanges().length != 0;
        if (!i || !c) {
          var d = En() && !this.cellCtrl.isEditing() && !bm(a);
          this.cellCtrl.focusCell(d);
        }
        if (i && c && e.preventDefault(), !this.containsWidget(a)) {
          if (u) {
            var p = this.cellCtrl.getCellPosition();
            if (i)
              u.extendLatestRangeToCell(p);
            else {
              var h = r || n;
              u.setRangeToCell(p, h);
            }
          }
          l.dispatchEvent(this.cellCtrl.createEvent(e, R.EVENT_CELL_MOUSE_DOWN));
        }
      }
    }, t.prototype.isRightClickInExistingRange = function(e) {
      var r = this.beans.rangeService;
      if (r) {
        var n = r.isCellInAnyRange(this.cellCtrl.getCellPosition());
        if (n && e.button === 2)
          return !0;
      }
      return !1;
    }, t.prototype.containsWidget = function(e) {
      return Za(e, "ag-selection-checkbox", 3);
    }, t.prototype.onMouseOut = function(e) {
      if (!this.mouseStayingInsideCell(e)) {
        var r = this.cellCtrl.createEvent(e, R.EVENT_CELL_MOUSE_OUT);
        this.beans.eventService.dispatchEvent(r), this.beans.columnHoverService.clearMouseOver();
      }
    }, t.prototype.onMouseOver = function(e) {
      if (!this.mouseStayingInsideCell(e)) {
        var r = this.cellCtrl.createEvent(e, R.EVENT_CELL_MOUSE_OVER);
        this.beans.eventService.dispatchEvent(r), this.beans.columnHoverService.setMouseOver([this.column]);
      }
    }, t.prototype.mouseStayingInsideCell = function(e) {
      if (!e.target || !e.relatedTarget)
        return !1;
      var r = this.cellCtrl.getGui(), n = r.contains(e.target), i = r.contains(e.relatedTarget);
      return n && i;
    }, t.prototype.destroy = function() {
    }, t;
  }(kE)
), NL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), GL = (
  /** @class */
  function(o) {
    NL(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      return s.cellCtrl = e, s.beans = r, s.rowNode = i, s.rowCtrl = a, s;
    }
    return t.prototype.setComp = function(e) {
      this.eGui = e;
    }, t.prototype.onKeyDown = function(e) {
      var r = e.key;
      switch (r) {
        case H.ENTER:
          this.onEnterKeyDown(e);
          break;
        case H.F2:
          this.onF2KeyDown(e);
          break;
        case H.ESCAPE:
          this.onEscapeKeyDown(e);
          break;
        case H.TAB:
          this.onTabKeyDown(e);
          break;
        case H.BACKSPACE:
        case H.DELETE:
          this.onBackspaceOrDeleteKeyDown(r, e);
          break;
        case H.DOWN:
        case H.UP:
        case H.RIGHT:
        case H.LEFT:
          this.onNavigationKeyDown(e, r);
          break;
      }
    }, t.prototype.onNavigationKeyDown = function(e, r) {
      this.cellCtrl.isEditing() || (e.shiftKey && this.cellCtrl.isRangeSelectionEnabled() ? this.onShiftRangeSelect(e) : this.beans.navigationService.navigateToNextCell(e, r, this.cellCtrl.getCellPosition(), !0), e.preventDefault());
    }, t.prototype.onShiftRangeSelect = function(e) {
      if (this.beans.rangeService) {
        var r = this.beans.rangeService.extendLatestRangeInDirection(e);
        r && this.beans.navigationService.ensureCellVisible(r);
      }
    }, t.prototype.onTabKeyDown = function(e) {
      this.beans.navigationService.onTabKeyDown(this.cellCtrl, e);
    }, t.prototype.onBackspaceOrDeleteKeyDown = function(e, r) {
      var n = this, i = n.cellCtrl, a = n.beans, s = n.rowNode, l = a.gridOptionsService, u = a.rangeService, c = a.eventService;
      i.isEditing() || (c.dispatchEvent({ type: R.EVENT_KEY_SHORTCUT_CHANGED_CELL_START }), vE(e, l.is("enableCellEditingOnBackspace")) ? u && l.isEnableRangeSelection() ? u.clearCellRangeCellValues({ dispatchWrapperEvents: !0, wrapperEventSource: "deleteKey" }) : i.isCellEditable() && s.setDataValue(i.getColumn(), null, "cellClear") : i.startRowOrCellEdit(e, r), c.dispatchEvent({ type: R.EVENT_KEY_SHORTCUT_CHANGED_CELL_END }));
    }, t.prototype.onEnterKeyDown = function(e) {
      if (this.cellCtrl.isEditing() || this.rowCtrl.isEditing())
        this.cellCtrl.stopEditingAndFocus(!1, e.shiftKey);
      else if (this.beans.gridOptionsService.is("enterNavigatesVertically")) {
        var r = e.shiftKey ? H.UP : H.DOWN;
        this.beans.navigationService.navigateToNextCell(null, r, this.cellCtrl.getCellPosition(), !1);
      } else
        this.cellCtrl.startRowOrCellEdit(H.ENTER, e), this.cellCtrl.isEditing() && e.preventDefault();
    }, t.prototype.onF2KeyDown = function(e) {
      this.cellCtrl.isEditing() || this.cellCtrl.startRowOrCellEdit(H.F2, e);
    }, t.prototype.onEscapeKeyDown = function(e) {
      this.cellCtrl.isEditing() && (this.cellCtrl.stopRowOrCellEdit(!0), this.cellCtrl.focusCell(!0));
    }, t.prototype.processCharacter = function(e) {
      var r = e.target, n = r !== this.eGui;
      if (!(n || this.cellCtrl.isEditing())) {
        var i = e.key;
        i === " " ? this.onSpaceKeyDown(e) : (this.cellCtrl.startRowOrCellEdit(i, e), e.preventDefault());
      }
    }, t.prototype.onSpaceKeyDown = function(e) {
      var r = this.beans.gridOptionsService;
      if (!this.cellCtrl.isEditing() && r.isRowSelection()) {
        var n = this.rowNode.isSelected(), i = !n;
        if (i || !r.is("suppressRowDeselection")) {
          var a = this.beans.gridOptionsService.is("groupSelectsFiltered"), s = this.rowNode.setSelectedParams({
            newValue: i,
            rangeSelect: e.shiftKey,
            groupSelectsFiltered: a,
            event: e,
            source: "spaceKey"
          });
          n === void 0 && s === 0 && this.rowNode.setSelectedParams({
            newValue: !1,
            rangeSelect: e.shiftKey,
            groupSelectsFiltered: a,
            event: e,
            source: "spaceKey"
          });
        }
      }
      e.preventDefault();
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t;
  }(W)
), kL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), VL = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, BL = (
  /** @class */
  function(o) {
    kL(t, o);
    function t(e, r, n) {
      var i = o.call(
        this,
        /* html */
        '<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'
      ) || this;
      return i.rowNode = e, i.column = r, i.eCell = n, i;
    }
    return t.prototype.postConstruct = function() {
      var e = this.getGui();
      e.appendChild(Et("rowDrag", this.gridOptionsService, null)), this.addGuiEventListener("mousedown", function(r) {
        r.stopPropagation();
      }), this.addDragSource(), this.checkVisibility();
    }, t.prototype.addDragSource = function() {
      this.addGuiEventListener("dragstart", this.onDragStart.bind(this));
    }, t.prototype.onDragStart = function(e) {
      var r = this, n = this.column.getColDef().dndSourceOnRowDrag;
      e.dataTransfer.setDragImage(this.eCell, 0, 0);
      var i = function() {
        try {
          var s = JSON.stringify(r.rowNode.data);
          e.dataTransfer.setData("application/json", s), e.dataTransfer.setData("text/plain", s);
        } catch (l) {
        }
      };
      if (n) {
        var a = {
          rowNode: this.rowNode,
          dragEvent: e,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        };
        n(a);
      } else
        i();
    }, t.prototype.checkVisibility = function() {
      var e = this.column.isDndSource(this.rowNode);
      this.setDisplayed(e);
    }, VL([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), HL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ph = function() {
  return ph = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ph.apply(this, arguments);
}, jL = "ag-cell", WL = "ag-cell-auto-height", $L = "ag-cell-normal-height", UL = "ag-cell-focus", zL = "ag-cell-first-right-pinned", KL = "ag-cell-last-left-pinned", YL = "ag-cell-not-inline-editing", XL = "ag-column-hover", qL = "ag-cell-wrap-text", ZL = 0, Ko = (
  /** @class */
  function(o) {
    HL(t, o);
    function t(e, r, n, i) {
      var a = o.call(this) || this;
      return a.cellRangeFeature = null, a.cellPositionFeature = null, a.cellCustomStyleFeature = null, a.tooltipFeature = null, a.cellMouseListenerFeature = null, a.cellKeyboardListenerFeature = null, a.suppressRefreshCell = !1, a.onCellCompAttachedFuncs = [], a.column = e, a.rowNode = r, a.beans = n, a.rowCtrl = i, a.instanceId = e.getId() + "-" + ZL++, a.createCellPosition(), a.addFeatures(), a;
    }
    return t.prototype.shouldRestoreFocus = function() {
      return this.beans.focusService.shouldRestoreFocus(this.cellPosition);
    }, t.prototype.addFeatures = function() {
      var e = this;
      this.cellPositionFeature = new PL(this, this.beans), this.addDestroyFunc(function() {
        var n;
        (n = e.cellPositionFeature) === null || n === void 0 || n.destroy(), e.cellPositionFeature = null;
      }), this.cellCustomStyleFeature = new ML(this, this.beans), this.addDestroyFunc(function() {
        var n;
        (n = e.cellCustomStyleFeature) === null || n === void 0 || n.destroy(), e.cellCustomStyleFeature = null;
      }), this.cellMouseListenerFeature = new LL(this, this.beans, this.column), this.addDestroyFunc(function() {
        var n;
        (n = e.cellMouseListenerFeature) === null || n === void 0 || n.destroy(), e.cellMouseListenerFeature = null;
      }), this.cellKeyboardListenerFeature = new GL(this, this.beans, this.column, this.rowNode, this.rowCtrl), this.addDestroyFunc(function() {
        var n;
        (n = e.cellKeyboardListenerFeature) === null || n === void 0 || n.destroy(), e.cellKeyboardListenerFeature = null;
      });
      var r = this.beans.rangeService && this.beans.gridOptionsService.isEnableRangeSelection();
      r && (this.cellRangeFeature = new RL(this.beans, this), this.addDestroyFunc(function() {
        var n;
        (n = e.cellRangeFeature) === null || n === void 0 || n.destroy(), e.cellRangeFeature = null;
      })), this.column.isTooltipEnabled() && this.addTooltipFeature();
    }, t.prototype.addTooltipFeature = function() {
      var e = this, r = function() {
        var i = e.column.getColDef(), a = e.rowNode.data;
        if (i.tooltipField && z(a))
          return Il(a, i.tooltipField, e.column.isTooltipFieldContainsDots());
        var s = i.tooltipValueGetter;
        return s ? s({
          location: "cell",
          api: e.beans.gridOptionsService.api,
          columnApi: e.beans.gridOptionsService.columnApi,
          context: e.beans.gridOptionsService.context,
          colDef: e.column.getColDef(),
          column: e.column,
          rowIndex: e.cellPosition.rowIndex,
          node: e.rowNode,
          data: e.rowNode.data,
          value: e.value,
          valueFormatted: e.valueFormatted
        }) : null;
      }, n = {
        getColumn: function() {
          return e.column;
        },
        getColDef: function() {
          return e.column.getColDef();
        },
        getRowIndex: function() {
          return e.cellPosition.rowIndex;
        },
        getRowNode: function() {
          return e.rowNode;
        },
        getGui: function() {
          return e.getGui();
        },
        getLocation: function() {
          return "cell";
        },
        getTooltipValue: r,
        // this makes no sense, why is the cell formatted value passed to the tooltip???
        getValueFormatted: function() {
          return e.valueFormatted;
        }
      };
      this.tooltipFeature = new jm(n, this.beans), this.addDestroyFunc(function() {
        var i;
        (i = e.tooltipFeature) === null || i === void 0 || i.destroy(), e.tooltipFeature = null;
      });
    }, t.prototype.setComp = function(e, r, n, i, a) {
      var s, l, u, c;
      this.cellComp = e, this.eGui = r, this.printLayout = i, this.updateAndFormatValue(!0), this.addDomData(), this.onCellFocused(), this.applyStaticCssClasses(), this.setWrapText(), this.onFirstRightPinnedChanged(), this.onLastLeftPinnedChanged(), this.onColumnHover(), this.setupControlComps(), n && this.setupAutoHeight(n), this.setAriaColIndex(), this.beans.gridOptionsService.is("suppressCellFocus") || this.cellComp.setTabIndex(-1);
      var d = Oi(this.column.getId());
      this.cellComp.setColId(d), this.cellComp.setRole("gridcell"), (s = this.cellPositionFeature) === null || s === void 0 || s.setComp(r), (l = this.cellCustomStyleFeature) === null || l === void 0 || l.setComp(e), (u = this.tooltipFeature) === null || u === void 0 || u.setComp(e), (c = this.cellKeyboardListenerFeature) === null || c === void 0 || c.setComp(this.eGui), this.cellRangeFeature && this.cellRangeFeature.setComp(e, r), a && this.isCellEditable() ? this.startEditing() : this.showValue(), this.onCellCompAttachedFuncs.length && (this.onCellCompAttachedFuncs.forEach(function(p) {
        return p();
      }), this.onCellCompAttachedFuncs = []);
    }, t.prototype.setupAutoHeight = function(e) {
      var r = this;
      if (this.column.isAutoHeight()) {
        var n = e.parentElement, i = this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height, a = function(u) {
          if (!r.editing && r.isAlive()) {
            var c = ia(n), d = c.paddingTop, p = c.paddingBottom, h = c.borderBottomWidth, f = c.borderTopWidth, v = d + p + h + f, g = e.offsetHeight, y = g + v;
            if (u < 5) {
              var m = r.beans.gridOptionsService.getDocument(), C = !m || !m.contains(e), S = y == 0;
              if (C || S) {
                r.beans.frameworkOverrides.setTimeout(function() {
                  return a(u + 1);
                }, 0);
                return;
              }
            }
            var b = Math.max(y, i);
            r.rowNode.setRowAutoHeight(b, r.column);
          }
        }, s = function() {
          return a(0);
        };
        s();
        var l = this.beans.resizeObserverService.observeResize(e, s);
        this.addDestroyFunc(function() {
          l(), r.rowNode.setRowAutoHeight(void 0, r.column);
        });
      }
    }, t.prototype.getInstanceId = function() {
      return this.instanceId;
    }, t.prototype.showValue = function(e) {
      e === void 0 && (e = !1);
      var r = this.valueFormatted != null ? this.valueFormatted : this.value, n = this.createCellRendererParams(), i = this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(), n);
      this.cellComp.setRenderDetails(i, r, e), this.refreshHandle();
    }, t.prototype.setupControlComps = function() {
      var e = this.column.getColDef();
      this.includeSelection = this.isIncludeControl(e.checkboxSelection), this.includeRowDrag = this.isIncludeControl(e.rowDrag), this.includeDndSource = this.isIncludeControl(e.dndSource), this.cellComp.setIncludeSelection(this.includeSelection), this.cellComp.setIncludeDndSource(this.includeDndSource), this.cellComp.setIncludeRowDrag(this.includeRowDrag);
    }, t.prototype.isForceWrapper = function() {
      var e = this.beans.gridOptionsService.is("enableCellTextSelection") || this.column.isAutoHeight();
      return e;
    }, t.prototype.isIncludeControl = function(e) {
      var r = this.rowNode.rowPinned != null, n = typeof e == "function", i = r ? !1 : n || e === !0;
      return i;
    }, t.prototype.refreshShouldDestroy = function() {
      var e = this.column.getColDef(), r = this.includeSelection != this.isIncludeControl(e.checkboxSelection), n = this.includeRowDrag != this.isIncludeControl(e.rowDrag), i = this.includeDndSource != this.isIncludeControl(e.dndSource);
      return r || n || i;
    }, t.prototype.startEditing = function(e, r, n) {
      var i = this;
      if (e === void 0 && (e = null), r === void 0 && (r = !1), n === void 0 && (n = null), !(!this.isCellEditable() || this.editing)) {
        if (!this.cellComp) {
          this.onCellCompAttachedFuncs.push(function() {
            i.startEditing(e, r, n);
          });
          return;
        }
        var a = this.createCellEditorParams(e, r), s = this.column.getColDef(), l = this.beans.userComponentFactory.getCellEditorDetails(s, a), u = (l == null ? void 0 : l.popupFromSelector) != null ? l.popupFromSelector : !!s.cellEditorPopup, c = (l == null ? void 0 : l.popupPositionFromSelector) != null ? l.popupPositionFromSelector : s.cellEditorPopupPosition;
        this.setEditing(!0), this.cellComp.setEditDetails(l, u, c);
        var d = this.createEvent(n, R.EVENT_CELL_EDITING_STARTED);
        this.beans.eventService.dispatchEvent(d);
      }
    }, t.prototype.setEditing = function(e) {
      this.editing !== e && (this.editing = e, this.refreshHandle());
    }, t.prototype.stopRowOrCellEdit = function(e) {
      e === void 0 && (e = !1), this.beans.gridOptionsService.get("editType") === "fullRow" ? this.rowCtrl.stopRowEditing(e) : this.stopEditing(e);
    }, t.prototype.onPopupEditorClosed = function() {
      this.isEditing() && this.stopEditingAndFocus();
    }, t.prototype.takeValueFromCellEditor = function(e) {
      var r = { newValueExists: !1 };
      if (e)
        return r;
      var n = this.cellComp.getCellEditor();
      if (!n)
        return r;
      var i = n.isCancelAfterEnd && n.isCancelAfterEnd();
      if (i)
        return r;
      var a = n.getValue();
      return {
        newValue: a,
        newValueExists: !0
      };
    }, t.prototype.saveNewValue = function(e, r) {
      if (r === e)
        return !1;
      this.suppressRefreshCell = !0;
      var n = this.rowNode.setDataValue(this.column, r, "edit");
      return this.suppressRefreshCell = !1, n;
    }, t.prototype.stopEditing = function(e) {
      if (e === void 0 && (e = !1), !this.editing)
        return !1;
      var r = this.takeValueFromCellEditor(e), n = r.newValue, i = r.newValueExists, a = this.rowNode.getValueFromValueService(this.column), s = !1;
      return i && (s = this.saveNewValue(a, n)), this.setEditing(!1), this.cellComp.setEditDetails(), this.updateAndFormatValue(), this.refreshCell({ forceRefresh: !0, suppressFlash: !0 }), this.dispatchEditingStoppedEvent(a, n, !e && !!s), s;
    }, t.prototype.dispatchEditingStoppedEvent = function(e, r, n) {
      var i = ph(ph({}, this.createEvent(null, R.EVENT_CELL_EDITING_STOPPED)), { oldValue: e, newValue: r, valueChanged: n });
      this.beans.eventService.dispatchEvent(i);
    }, t.prototype.createCellEditorParams = function(e, r) {
      return {
        value: this.rowNode.getValueFromValueService(this.column),
        eventKey: e,
        column: this.column,
        colDef: this.column.getColDef(),
        rowIndex: this.getCellPosition().rowIndex,
        node: this.rowNode,
        data: this.rowNode.data,
        api: this.beans.gridOptionsService.api,
        cellStartedEdit: r,
        columnApi: this.beans.gridOptionsService.columnApi,
        context: this.beans.gridOptionsService.context,
        onKeyDown: this.onKeyDown.bind(this),
        stopEditing: this.stopEditingAndFocus.bind(this),
        eGridCell: this.getGui(),
        parseValue: this.parseValue.bind(this),
        formatValue: this.formatValue.bind(this)
      };
    }, t.prototype.createCellRendererParams = function() {
      var e = this, r = {
        value: this.value,
        valueFormatted: this.valueFormatted,
        getValue: function() {
          return e.rowNode.getValueFromValueService(e.column);
        },
        setValue: function(n) {
          return e.beans.valueService.setValue(e.rowNode, e.column, n);
        },
        formatValue: this.formatValue.bind(this),
        data: this.rowNode.data,
        node: this.rowNode,
        pinned: this.column.getPinned(),
        colDef: this.column.getColDef(),
        column: this.column,
        rowIndex: this.getCellPosition().rowIndex,
        api: this.beans.gridOptionsService.api,
        columnApi: this.beans.gridOptionsService.columnApi,
        context: this.beans.gridOptionsService.context,
        refreshCell: this.refreshCell.bind(this),
        eGridCell: this.getGui(),
        eParentOfValue: this.cellComp.getParentOfValue(),
        registerRowDragger: function(n, i, a, s) {
          return e.registerRowDragger(n, i, s);
        }
      };
      return r;
    }, t.prototype.parseValue = function(e) {
      return this.beans.valueParserService.parseValue(this.column, this.rowNode, e, this.getValue());
    }, t.prototype.setFocusOutOnEditor = function() {
      if (this.editing) {
        var e = this.cellComp.getCellEditor();
        e && e.focusOut && e.focusOut();
      }
    }, t.prototype.setFocusInOnEditor = function() {
      if (this.editing) {
        var e = this.cellComp.getCellEditor();
        e && e.focusIn ? e.focusIn() : this.focusCell(!0);
      }
    }, t.prototype.onCellChanged = function(e) {
      if (this.cellComp) {
        var r = e.column === this.column;
        r && this.refreshCell({});
      }
    }, t.prototype.refreshCell = function(e) {
      var r, n, i;
      if (!(this.suppressRefreshCell || this.editing) && this.cellComp) {
        var a = this.column.getColDef(), s = e != null && !!e.newData, l = e != null && !!e.suppressFlash || !!a.suppressCellFlash, u = a.field == null && a.valueGetter == null && a.showRowGroup == null, c = e && e.forceRefresh || u || s, d = this.updateAndFormatValue(), p = c || d;
        if (p) {
          this.showValue(s);
          var h = this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(), f = !l && !h && (this.beans.gridOptionsService.is("enableCellChangeFlash") || a.enableCellChangeFlash);
          f && this.flashCell(), (r = this.cellCustomStyleFeature) === null || r === void 0 || r.applyUserStyles(), (n = this.cellCustomStyleFeature) === null || n === void 0 || n.applyClassesFromColDef();
        }
        this.refreshToolTip(), (i = this.cellCustomStyleFeature) === null || i === void 0 || i.applyCellClassRules();
      }
    }, t.prototype.stopEditingAndFocus = function(e, r) {
      e === void 0 && (e = !1), r === void 0 && (r = !1), this.stopRowOrCellEdit(), this.focusCell(!0), e || this.navigateAfterEdit(r);
    }, t.prototype.navigateAfterEdit = function(e) {
      var r = this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit");
      if (r) {
        var n = e ? H.UP : H.DOWN;
        this.beans.navigationService.navigateToNextCell(null, n, this.getCellPosition(), !1);
      }
    }, t.prototype.flashCell = function(e) {
      var r = e && e.flashDelay, n = e && e.fadeDelay;
      this.animateCell("data-changed", r, n);
    }, t.prototype.animateCell = function(e, r, n) {
      var i = this, a, s, l = "ag-cell-" + e, u = "ag-cell-" + e + "-animation", c = this.beans.gridOptionsService;
      r || (r = (a = c.getNum("cellFlashDelay")) !== null && a !== void 0 ? a : 500), z(n) || (n = (s = c.getNum("cellFadeDelay")) !== null && s !== void 0 ? s : 1e3), this.cellComp.addOrRemoveCssClass(l, !0), this.cellComp.addOrRemoveCssClass(u, !1), window.setTimeout(function() {
        i.isAlive() && (i.cellComp.addOrRemoveCssClass(l, !1), i.cellComp.addOrRemoveCssClass(u, !0), i.eGui.style.transition = "background-color " + n + "ms", window.setTimeout(function() {
          i.isAlive() && (i.cellComp.addOrRemoveCssClass(u, !1), i.eGui.style.transition = "");
        }, n));
      }, r);
    }, t.prototype.onFlashCells = function(e) {
      if (this.cellComp) {
        var r = this.beans.cellPositionUtils.createId(this.getCellPosition()), n = e.cells[r];
        n && this.animateCell("highlight");
      }
    }, t.prototype.isCellEditable = function() {
      return this.column.isCellEditable(this.rowNode);
    }, t.prototype.isSuppressFillHandle = function() {
      return this.column.isSuppressFillHandle();
    }, t.prototype.formatValue = function(e) {
      var r = this.callValueFormatter(e);
      return r != null ? r : e;
    }, t.prototype.callValueFormatter = function(e) {
      return this.beans.valueFormatterService.formatValue(this.column, this.rowNode, e);
    }, t.prototype.updateAndFormatValue = function(e) {
      e === void 0 && (e = !1);
      var r = this.value, n = this.valueFormatted;
      this.value = this.rowNode.getValueFromValueService(this.column), this.valueFormatted = this.callValueFormatter(this.value);
      var i = e ? !0 : !this.valuesAreEqual(r, this.value) || this.valueFormatted != n;
      return i;
    }, t.prototype.valuesAreEqual = function(e, r) {
      var n = this.column.getColDef();
      return n.equals ? n.equals(e, r) : e === r;
    }, t.prototype.getComp = function() {
      return this.cellComp;
    }, t.prototype.getValue = function() {
      return this.value;
    }, t.prototype.getValueFormatted = function() {
      return this.valueFormatted;
    }, t.prototype.addDomData = function() {
      var e = this, r = this.getGui();
      this.beans.gridOptionsService.setDomData(r, t.DOM_DATA_KEY_CELL_CTRL, this), this.addDestroyFunc(function() {
        return e.beans.gridOptionsService.setDomData(r, t.DOM_DATA_KEY_CELL_CTRL, null);
      });
    }, t.prototype.createEvent = function(e, r) {
      var n = {
        type: r,
        node: this.rowNode,
        data: this.rowNode.data,
        value: this.value,
        column: this.column,
        colDef: this.column.getColDef(),
        context: this.beans.gridOptionsService.context,
        api: this.beans.gridApi,
        columnApi: this.beans.columnApi,
        rowPinned: this.rowNode.rowPinned,
        event: e,
        rowIndex: this.rowNode.rowIndex
      };
      return n;
    }, t.prototype.processCharacter = function(e) {
      var r;
      (r = this.cellKeyboardListenerFeature) === null || r === void 0 || r.processCharacter(e);
    }, t.prototype.onKeyDown = function(e) {
      var r;
      (r = this.cellKeyboardListenerFeature) === null || r === void 0 || r.onKeyDown(e);
    }, t.prototype.onMouseEvent = function(e, r) {
      var n;
      (n = this.cellMouseListenerFeature) === null || n === void 0 || n.onMouseEvent(e, r);
    }, t.prototype.getGui = function() {
      return this.eGui;
    }, t.prototype.refreshToolTip = function() {
      var e;
      (e = this.tooltipFeature) === null || e === void 0 || e.refreshToolTip();
    }, t.prototype.getColSpanningList = function() {
      return this.cellPositionFeature.getColSpanningList();
    }, t.prototype.onLeftChanged = function() {
      var e;
      this.cellComp && ((e = this.cellPositionFeature) === null || e === void 0 || e.onLeftChanged());
    }, t.prototype.onDisplayedColumnsChanged = function() {
      this.eGui && this.setAriaColIndex();
    }, t.prototype.setAriaColIndex = function() {
      var e = this.beans.columnModel.getAriaColumnIndex(this.column);
      ym(this.getGui(), e);
    }, t.prototype.isSuppressNavigable = function() {
      return this.column.isSuppressNavigable(this.rowNode);
    }, t.prototype.onWidthChanged = function() {
      var e;
      return (e = this.cellPositionFeature) === null || e === void 0 ? void 0 : e.onWidthChanged();
    }, t.prototype.getColumn = function() {
      return this.column;
    }, t.prototype.getRowNode = function() {
      return this.rowNode;
    }, t.prototype.getBeans = function() {
      return this.beans;
    }, t.prototype.isPrintLayout = function() {
      return this.printLayout;
    }, t.prototype.appendChild = function(e) {
      this.eGui.appendChild(e);
    }, t.prototype.refreshHandle = function() {
      this.cellRangeFeature && this.cellRangeFeature.refreshHandle();
    }, t.prototype.getCellPosition = function() {
      return this.cellPosition;
    }, t.prototype.isEditing = function() {
      return this.editing;
    }, t.prototype.startRowOrCellEdit = function(e, r) {
      r === void 0 && (r = null), this.cellComp && (this.beans.gridOptionsService.get("editType") === "fullRow" ? this.rowCtrl.startRowEditing(e, this) : this.startEditing(e, !0, r));
    }, t.prototype.getRowCtrl = function() {
      return this.rowCtrl;
    }, t.prototype.getRowPosition = function() {
      return {
        rowIndex: this.cellPosition.rowIndex,
        rowPinned: this.cellPosition.rowPinned
      };
    }, t.prototype.updateRangeBordersIfRangeCount = function() {
      this.cellComp && this.cellRangeFeature && this.cellRangeFeature.updateRangeBordersIfRangeCount();
    }, t.prototype.onRangeSelectionChanged = function() {
      this.cellComp && this.cellRangeFeature && this.cellRangeFeature.onRangeSelectionChanged();
    }, t.prototype.isRangeSelectionEnabled = function() {
      return this.cellRangeFeature != null;
    }, t.prototype.focusCell = function(e) {
      e === void 0 && (e = !1), this.beans.focusService.setFocusedCell({
        rowIndex: this.getCellPosition().rowIndex,
        column: this.column,
        rowPinned: this.rowNode.rowPinned,
        forceBrowserFocus: e
      });
    }, t.prototype.onRowIndexChanged = function() {
      this.createCellPosition(), this.onCellFocused(), this.cellRangeFeature && this.cellRangeFeature.onRangeSelectionChanged();
    }, t.prototype.onFirstRightPinnedChanged = function() {
      if (this.cellComp) {
        var e = this.column.isFirstRightPinned();
        this.cellComp.addOrRemoveCssClass(zL, e);
      }
    }, t.prototype.onLastLeftPinnedChanged = function() {
      if (this.cellComp) {
        var e = this.column.isLastLeftPinned();
        this.cellComp.addOrRemoveCssClass(KL, e);
      }
    }, t.prototype.onCellFocused = function(e) {
      if (!(!this.cellComp || this.beans.gridOptionsService.is("suppressCellFocus"))) {
        var r = this.beans.focusService.isCellFocused(this.cellPosition);
        if (this.cellComp.addOrRemoveCssClass(UL, r), r && e && e.forceBrowserFocus) {
          var n = this.cellComp.getFocusableElement();
          n.focus({ preventScroll: !!e.preventScrollOnBrowserFocus });
        }
        var i = this.beans.gridOptionsService.get("editType") === "fullRow";
        !r && !i && this.editing && this.stopRowOrCellEdit();
      }
    }, t.prototype.createCellPosition = function() {
      this.cellPosition = {
        rowIndex: this.rowNode.rowIndex,
        rowPinned: $o(this.rowNode.rowPinned),
        column: this.column
      };
    }, t.prototype.applyStaticCssClasses = function() {
      this.cellComp.addOrRemoveCssClass(jL, !0), this.cellComp.addOrRemoveCssClass(YL, !0);
      var e = this.column.isAutoHeight() == !0;
      this.cellComp.addOrRemoveCssClass(WL, e), this.cellComp.addOrRemoveCssClass($L, !e);
    }, t.prototype.onColumnHover = function() {
      if (this.cellComp && this.beans.gridOptionsService.is("columnHoverHighlight")) {
        var e = this.beans.columnHoverService.isHovered(this.column);
        this.cellComp.addOrRemoveCssClass(XL, e);
      }
    }, t.prototype.onColDefChanged = function() {
      this.cellComp && (this.setWrapText(), this.editing || this.refreshCell({ forceRefresh: !0, suppressFlash: !0 }));
    }, t.prototype.setWrapText = function() {
      var e = this.column.getColDef().wrapText == !0;
      this.cellComp.addOrRemoveCssClass(qL, e);
    }, t.prototype.dispatchCellContextMenuEvent = function(e) {
      var r = this.column.getColDef(), n = this.createEvent(e, R.EVENT_CELL_CONTEXT_MENU);
      this.beans.eventService.dispatchEvent(n), r.onCellContextMenu && window.setTimeout(function() {
        return r.onCellContextMenu(n);
      }, 0);
    }, t.prototype.getCellRenderer = function() {
      return this.cellComp ? this.cellComp.getCellRenderer() : null;
    }, t.prototype.getCellEditor = function() {
      return this.cellComp ? this.cellComp.getCellEditor() : null;
    }, t.prototype.destroy = function() {
      this.onCellCompAttachedFuncs = [], o.prototype.destroy.call(this);
    }, t.prototype.createSelectionCheckbox = function() {
      var e = new LE();
      return this.beans.context.createBean(e), e.init({ rowNode: this.rowNode, column: this.column }), e;
    }, t.prototype.createDndSource = function() {
      var e = new BL(this.rowNode, this.column, this.eGui);
      return this.beans.context.createBean(e), e;
    }, t.prototype.registerRowDragger = function(e, r, n) {
      var i = this;
      if (this.customRowDragComp) {
        this.customRowDragComp.setDragElement(e, r);
        return;
      }
      var a = this.createRowDragComp(e, r, n);
      a && (this.customRowDragComp = a, this.addDestroyFunc(function() {
        i.beans.context.destroyBean(a), i.customRowDragComp = null;
      }));
    }, t.prototype.createRowDragComp = function(e, r, n) {
      var i = this, a = this.beans.gridOptionsService.is("pagination"), s = this.beans.gridOptionsService.is("rowDragManaged"), l = this.beans.gridOptionsService.isRowModelType("clientSide");
      if (s) {
        if (!l) {
          ze(function() {
            return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model");
          }, "CellComp.addRowDragging");
          return;
        }
        if (a) {
          ze(function() {
            return console.warn("AG Grid: managed row dragging is not possible when doing pagination");
          }, "CellComp.addRowDragging");
          return;
        }
      }
      var u = new lh(function() {
        return i.value;
      }, this.rowNode, this.column, e, r, n);
      return this.beans.context.createBean(u), u;
    }, t.DOM_DATA_KEY_CELL_CTRL = "cellCtrl", t;
  }(W)
), QL = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), JL = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, hv = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, fv = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Pr;
(function(o) {
  o.Normal = "Normal", o.FullWidth = "FullWidth", o.FullWidthLoading = "FullWidthLoading", o.FullWidthGroup = "FullWidthGroup", o.FullWidthDetail = "FullWidthDetail";
})(Pr || (Pr = {}));
var eN = 0, Ja = (
  /** @class */
  function(o) {
    QL(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      return s.allRowGuis = [], s.active = !0, s.centerCellCtrls = { list: [], map: {} }, s.leftCellCtrls = { list: [], map: {} }, s.rightCellCtrls = { list: [], map: {} }, s.slideInAnimation = {
        left: !1,
        center: !1,
        right: !1,
        fullWidth: !1
      }, s.fadeInAnimation = {
        left: !1,
        center: !1,
        right: !1,
        fullWidth: !1
      }, s.lastMouseDownOnDragger = !1, s.updateColumnListsPending = !1, s.businessKeySanitised = null, s.beans = r, s.gridOptionsService = r.gridOptionsService, s.rowNode = e, s.paginationPage = r.paginationProxy.getCurrentPage(), s.useAnimationFrameForCreate = i, s.printLayout = a, s.instanceId = e.id + "-" + eN++, s.setAnimateFlags(n), s.initRowBusinessKey(), s.rowFocused = r.focusService.isRowFocused(s.rowNode.rowIndex, s.rowNode.rowPinned), s.rowLevel = r.rowCssClassCalculator.calculateRowLevel(s.rowNode), s.setRowType(), s.addListeners(), s;
    }
    return t.prototype.initRowBusinessKey = function() {
      this.businessKeyForNodeFunc = this.gridOptionsService.get("getBusinessKeyForNode"), this.updateRowBusinessKey();
    }, t.prototype.updateRowBusinessKey = function() {
      if (typeof this.businessKeyForNodeFunc == "function") {
        var e = this.businessKeyForNodeFunc(this.rowNode);
        this.businessKeySanitised = Oi(e);
      }
    }, t.prototype.isSticky = function() {
      return this.rowNode.sticky;
    }, t.prototype.getBeans = function() {
      return this.beans;
    }, t.prototype.getInstanceId = function() {
      return this.instanceId;
    }, t.prototype.setComp = function(e, r, n) {
      var i = { rowComp: e, element: r, containerType: n };
      this.allRowGuis.push(i), n === fr.LEFT ? this.leftGui = i : n === fr.RIGHT ? this.rightGui = i : n === fr.FULL_WIDTH ? this.fullWidthGui = i : this.centerGui = i, this.initialiseRowComp(i), this.rowType !== "FullWidthLoading" && !this.rowNode.rowPinned && this.beans.rowRenderer.dispatchFirstDataRenderedEvent();
    }, t.prototype.unsetComp = function(e) {
      this.allRowGuis = this.allRowGuis.filter(function(r) {
        return r.containerType !== e;
      }), e === fr.LEFT ? this.leftGui = void 0 : e === fr.RIGHT ? this.rightGui = void 0 : e === fr.FULL_WIDTH && (this.fullWidthGui = void 0);
    }, t.prototype.isCacheable = function() {
      return this.rowType === Pr.FullWidthDetail && this.gridOptionsService.is("keepDetailRows");
    }, t.prototype.setCached = function(e) {
      var r = e ? "none" : "";
      this.allRowGuis.forEach(function(n) {
        return n.element.style.display = r;
      });
    }, t.prototype.initialiseRowComp = function(e) {
      var r = this, n = this.gridOptionsService;
      this.listenOnDomOrder(e), this.onRowHeightChanged(e), this.updateRowIndexes(e), this.setFocusedClasses(e), this.setStylesFromGridOptions(e), n.isRowSelection() && this.rowNode.selectable && this.onRowSelected(e), this.updateColumnLists(!this.useAnimationFrameForCreate);
      var i = e.rowComp;
      i.setRole("row");
      var a = this.getInitialRowClasses(e.containerType);
      a.forEach(function(s) {
        return i.addOrRemoveCssClass(s, !0);
      }), this.executeSlideAndFadeAnimations(e), this.rowNode.group && $n(e.element, this.rowNode.expanded == !0), this.setRowCompRowId(i), this.setRowCompRowBusinessKey(i), this.isFullWidth() && !this.gridOptionsService.is("suppressCellFocus") && i.setTabIndex(-1), n.setDomData(e.element, t.DOM_DATA_KEY_ROW_CTRL, this), this.addDestroyFunc(function() {
        return n.setDomData(e.element, t.DOM_DATA_KEY_ROW_CTRL, null);
      }), this.useAnimationFrameForCreate ? this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this, e.element), this.rowNode.rowIndex, "createTasksP2") : this.addHoverFunctionality(e.element), this.isFullWidth() && this.setupFullWidth(e), n.is("rowDragEntireRow") && this.addRowDraggerToRow(e), this.useAnimationFrameForCreate && this.beans.animationFrameService.addDestroyTask(function() {
        r.isAlive() && e.rowComp.addOrRemoveCssClass("ag-after-created", !0);
      }), this.executeProcessRowPostCreateFunc();
    }, t.prototype.setRowCompRowBusinessKey = function(e) {
      this.businessKeySanitised != null && e.setRowBusinessKey(this.businessKeySanitised);
    }, t.prototype.setRowCompRowId = function(e) {
      var r = Oi(this.rowNode.id);
      r != null && e.setRowId(r);
    }, t.prototype.executeSlideAndFadeAnimations = function(e) {
      var r = this, n = e.containerType, i = this.slideInAnimation[n];
      i && (Zg(function() {
        r.onTopChanged();
      }), this.slideInAnimation[n] = !1);
      var a = this.fadeInAnimation[n];
      a && (Zg(function() {
        e.rowComp.addOrRemoveCssClass("ag-opacity-zero", !1);
      }), this.fadeInAnimation[n] = !1);
    }, t.prototype.addRowDraggerToRow = function(e) {
      if (this.gridOptionsService.isEnableRangeSelection()) {
        ze(function() {
          console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");
        }, "rowDragAndRangeSelectionEnabled");
        return;
      }
      var r = this.beans.localeService.getLocaleTextFunc(), n = new lh(function() {
        return "1 " + r("rowDragRow", "row");
      }, this.rowNode, void 0, e.element, void 0, !0);
      this.createManagedBean(n, this.beans.context);
    }, t.prototype.setupFullWidth = function(e) {
      var r = this.getPinnedForContainer(e.containerType), n = this.createFullWidthParams(e.element, r);
      if (!(this.rowType == Pr.FullWidthDetail && !de.__assertRegistered(Z.MasterDetailModule, "cell renderer 'agDetailCellRenderer' (for master detail)", this.beans.context.getGridId()))) {
        var i;
        switch (this.rowType) {
          case Pr.FullWidthDetail:
            i = this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);
            break;
          case Pr.FullWidthGroup:
            i = this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);
            break;
          case Pr.FullWidthLoading:
            i = this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);
            break;
          default:
            i = this.beans.userComponentFactory.getFullWidthCellRendererDetails(n);
            break;
        }
        e.rowComp.showFullWidth(i);
      }
    }, t.prototype.isPrintLayout = function() {
      return this.printLayout;
    }, t.prototype.getFullWidthCellRenderer = function() {
      var e, r;
      return (r = (e = this.fullWidthGui) === null || e === void 0 ? void 0 : e.rowComp) === null || r === void 0 ? void 0 : r.getFullWidthCellRenderer();
    }, t.prototype.getCellElement = function(e) {
      var r = this.getCellCtrl(e);
      return r ? r.getGui() : null;
    }, t.prototype.executeProcessRowPostCreateFunc = function() {
      var e, r = this.gridOptionsService.getCallback("processRowPostCreate");
      if (!(!r || !this.areAllContainersReady())) {
        var n = {
          eRow: (e = this.centerGui) === null || e === void 0 ? void 0 : e.element,
          ePinnedLeftRow: this.leftGui ? this.leftGui.element : void 0,
          ePinnedRightRow: this.rightGui ? this.rightGui.element : void 0,
          node: this.rowNode,
          rowIndex: this.rowNode.rowIndex,
          addRenderedRowListener: this.addEventListener.bind(this)
        };
        r(n);
      }
    }, t.prototype.areAllContainersReady = function() {
      var e = !!this.leftGui || !this.beans.columnModel.isPinningLeft(), r = !!this.centerGui, n = !!this.rightGui || !this.beans.columnModel.isPinningRight();
      return e && r && n;
    }, t.prototype.setRowType = function() {
      var e = this.rowNode.stub, r = this.rowNode.isFullWidthCell(), n = this.beans.doingMasterDetail && this.rowNode.detail, i = this.beans.columnModel.isPivotMode(), a = !!this.rowNode.group && !this.rowNode.footer, s = a && this.gridOptionsService.isGroupUseEntireRow(i);
      e ? this.rowType = Pr.FullWidthLoading : n ? this.rowType = Pr.FullWidthDetail : r ? this.rowType = Pr.FullWidth : s ? this.rowType = Pr.FullWidthGroup : this.rowType = Pr.Normal;
    }, t.prototype.updateColumnLists = function(e, r) {
      var n = this;
      if (e === void 0 && (e = !1), r === void 0 && (r = !1), !this.isFullWidth()) {
        var i = e || this.gridOptionsService.is("suppressAnimationFrame") || this.printLayout;
        if (i) {
          this.updateColumnListsImpl(r);
          return;
        }
        this.updateColumnListsPending || (this.beans.animationFrameService.createTask(function() {
          n.active && n.updateColumnListsImpl(!0);
        }, this.rowNode.rowIndex, "createTasksP1"), this.updateColumnListsPending = !0);
      }
    }, t.prototype.createCellCtrls = function(e, r, n) {
      var i = this;
      n === void 0 && (n = null);
      var a = {
        list: [],
        map: {}
      }, s = function(l, u) {
        a.list.push(u), a.map[l] = u;
      };
      return r.forEach(function(l) {
        var u = l.getInstanceId(), c = e.map[u];
        c || (c = new Ko(l, i.rowNode, i.beans, i)), s(u, c);
      }), e.list.forEach(function(l) {
        var u = a.map[l.getColumn().getInstanceId()] != null;
        if (!u) {
          var c = !i.isCellEligibleToBeRemoved(l, n);
          if (c) {
            s(l.getColumn().getInstanceId(), l);
            return;
          }
          l.destroy();
        }
      }), a;
    }, t.prototype.updateColumnListsImpl = function(e) {
      var r = this;
      e === void 0 && (e = !1), this.updateColumnListsPending = !1;
      var n = this.beans.columnModel;
      if (this.printLayout)
        this.centerCellCtrls = this.createCellCtrls(this.centerCellCtrls, n.getAllDisplayedColumns()), this.leftCellCtrls = { list: [], map: {} }, this.rightCellCtrls = { list: [], map: {} };
      else {
        var i = n.getViewportCenterColumnsForRow(this.rowNode);
        this.centerCellCtrls = this.createCellCtrls(this.centerCellCtrls, i);
        var a = n.getDisplayedLeftColumnsForRow(this.rowNode);
        this.leftCellCtrls = this.createCellCtrls(this.leftCellCtrls, a, "left");
        var s = n.getDisplayedRightColumnsForRow(this.rowNode);
        this.rightCellCtrls = this.createCellCtrls(this.rightCellCtrls, s, "right");
      }
      this.allRowGuis.forEach(function(l) {
        var u = l.containerType === fr.LEFT ? r.leftCellCtrls : l.containerType === fr.RIGHT ? r.rightCellCtrls : r.centerCellCtrls;
        l.rowComp.setCellCtrls(u.list, e);
      });
    }, t.prototype.isCellEligibleToBeRemoved = function(e, r) {
      var n = !0, i = !1, a = e.getColumn();
      if (a.getPinned() != r)
        return n;
      var s = e.isEditing(), l = this.beans.focusService.isCellFocused(e.getCellPosition()), u = s || l;
      if (u) {
        var c = e.getColumn(), d = this.beans.columnModel.getAllDisplayedColumns(), p = d.indexOf(c) >= 0;
        return p ? i : n;
      }
      return n;
    }, t.prototype.listenOnDomOrder = function(e) {
      var r = this, n = function() {
        var i = r.gridOptionsService.is("ensureDomOrder"), a = r.gridOptionsService.isDomLayout("print");
        e.rowComp.setDomOrder(i || a);
      };
      this.addManagedPropertyListener("domLayout", n), n();
    }, t.prototype.setAnimateFlags = function(e) {
      if (!(this.isSticky() || !e)) {
        var r = z(this.rowNode.oldRowTop), n = this.beans.columnModel.isPinningLeft(), i = this.beans.columnModel.isPinningRight();
        r ? (this.slideInAnimation.center = !0, this.slideInAnimation.left = n, this.slideInAnimation.right = i) : (this.fadeInAnimation.center = !0, this.fadeInAnimation.left = n, this.fadeInAnimation.right = i);
      }
    }, t.prototype.isEditing = function() {
      return this.editingRow;
    }, t.prototype.stopRowEditing = function(e) {
      this.stopEditing(e);
    }, t.prototype.isFullWidth = function() {
      return this.rowType !== Pr.Normal;
    }, t.prototype.getRowType = function() {
      return this.rowType;
    }, t.prototype.refreshFullWidth = function() {
      var e = this, r = function(u, c) {
        if (!u)
          return !0;
        var d = u.rowComp.getFullWidthCellRenderer();
        if (!d || !d.refresh)
          return !1;
        var p = e.createFullWidthParams(u.element, c), h = d.refresh(p);
        return h;
      }, n = r(this.fullWidthGui, null), i = r(this.centerGui, null), a = r(this.leftGui, "left"), s = r(this.rightGui, "right"), l = n && i && a && s;
      return l;
    }, t.prototype.addListeners = function() {
      var e = this;
      this.addManagedListener(this.rowNode, Te.EVENT_HEIGHT_CHANGED, function() {
        return e.onRowHeightChanged();
      }), this.addManagedListener(this.rowNode, Te.EVENT_ROW_SELECTED, function() {
        return e.onRowSelected();
      }), this.addManagedListener(this.rowNode, Te.EVENT_ROW_INDEX_CHANGED, this.onRowIndexChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_TOP_CHANGED, this.onTopChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_EXPANDED_CHANGED, this.updateExpandedCss.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_HAS_CHILDREN_CHANGED, this.updateExpandedCss.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_DATA_CHANGED, this.onRowNodeDataChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, this.onRowNodeCellChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_HIGHLIGHT_CHANGED, this.onRowNodeHighlightChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_DRAGGING_CHANGED, this.onRowNodeDraggingChanged.bind(this)), this.addManagedListener(this.rowNode, Te.EVENT_UI_LEVEL_CHANGED, this.onUiLevelChanged.bind(this));
      var r = this.beans.eventService;
      this.addManagedListener(r, R.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED, this.onPaginationPixelOffsetChanged.bind(this)), this.addManagedListener(r, R.EVENT_HEIGHT_SCALE_CHANGED, this.onTopChanged.bind(this)), this.addManagedListener(r, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.addManagedListener(r, R.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this)), this.addManagedListener(r, R.EVENT_CELL_FOCUSED, this.onCellFocused.bind(this)), this.addManagedListener(r, R.EVENT_CELL_FOCUS_CLEARED, this.onCellFocusCleared.bind(this)), this.addManagedListener(r, R.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this)), this.addManagedListener(r, R.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this)), this.addManagedListener(r, R.EVENT_COLUMN_MOVED, this.onColumnMoved.bind(this)), this.addListenersForCellComps();
    }, t.prototype.onColumnMoved = function() {
      this.updateColumnLists();
    }, t.prototype.addListenersForCellComps = function() {
      var e = this;
      this.addManagedListener(this.rowNode, Te.EVENT_ROW_INDEX_CHANGED, function() {
        e.getAllCellCtrls().forEach(function(r) {
          return r.onRowIndexChanged();
        });
      }), this.addManagedListener(this.rowNode, Te.EVENT_CELL_CHANGED, function(r) {
        e.getAllCellCtrls().forEach(function(n) {
          return n.onCellChanged(r);
        });
      });
    }, t.prototype.onRowNodeDataChanged = function(e) {
      var r = this;
      if (this.rowNode.detailNode && this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode), this.isFullWidth()) {
        this.beans.rowRenderer.refreshFullWidthRow(this.rowNode);
        return;
      }
      this.getAllCellCtrls().forEach(function(n) {
        return n.refreshCell({
          suppressFlash: !e.update,
          newData: !e.update
        });
      }), this.allRowGuis.forEach(function(n) {
        r.setRowCompRowId(n.rowComp), r.updateRowBusinessKey(), r.setRowCompRowBusinessKey(n.rowComp);
      }), this.onRowSelected(), this.postProcessCss();
    }, t.prototype.onRowNodeCellChanged = function() {
      this.postProcessCss();
    }, t.prototype.postProcessCss = function() {
      this.setStylesFromGridOptions(), this.postProcessClassesFromGridOptions(), this.postProcessRowClassRules(), this.postProcessRowDragging();
    }, t.prototype.onRowNodeHighlightChanged = function() {
      var e = this.rowNode.highlighted;
      this.allRowGuis.forEach(function(r) {
        var n = e === ro.Above, i = e === ro.Below;
        r.rowComp.addOrRemoveCssClass("ag-row-highlight-above", n), r.rowComp.addOrRemoveCssClass("ag-row-highlight-below", i);
      });
    }, t.prototype.onRowNodeDraggingChanged = function() {
      this.postProcessRowDragging();
    }, t.prototype.postProcessRowDragging = function() {
      var e = this.rowNode.dragging;
      this.allRowGuis.forEach(function(r) {
        return r.rowComp.addOrRemoveCssClass("ag-row-dragging", e);
      });
    }, t.prototype.updateExpandedCss = function() {
      var e = this.rowNode.isExpandable(), r = this.rowNode.expanded == !0;
      this.allRowGuis.forEach(function(n) {
        n.rowComp.addOrRemoveCssClass("ag-row-group", e), n.rowComp.addOrRemoveCssClass("ag-row-group-expanded", e && r), n.rowComp.addOrRemoveCssClass("ag-row-group-contracted", e && !r), $n(n.element, e && r);
      });
    }, t.prototype.onDisplayedColumnsChanged = function() {
      this.updateColumnLists(!0), this.beans.columnModel.wasAutoRowHeightEverActive() && this.rowNode.checkAutoHeights();
    }, t.prototype.onVirtualColumnsChanged = function() {
      this.updateColumnLists(!1, !0);
    }, t.prototype.getRowPosition = function() {
      return {
        rowPinned: $o(this.rowNode.rowPinned),
        rowIndex: this.rowNode.rowIndex
      };
    }, t.prototype.onKeyboardNavigate = function(e) {
      var r = this.allRowGuis.find(function(u) {
        return u.element.contains(e.target);
      }), n = r ? r.element : null, i = n === e.target;
      if (i) {
        var a = this.rowNode, s = this.beans.focusService.getFocusedCell(), l = {
          rowIndex: a.rowIndex,
          rowPinned: a.rowPinned,
          column: s && s.column
        };
        this.beans.navigationService.navigateToNextCell(e, e.key, l, !0), e.preventDefault();
      }
    }, t.prototype.onTabKeyDown = function(e) {
      if (!(e.defaultPrevented || _i(e))) {
        var r = this.allRowGuis.find(function(s) {
          return s.element.contains(e.target);
        }), n = r ? r.element : null, i = n === e.target, a = null;
        i || (a = this.beans.focusService.findNextFocusableElement(n, !1, e.shiftKey)), (this.isFullWidth() && i || !a) && this.beans.navigationService.onTabKeyDown(this, e);
      }
    }, t.prototype.onFullWidthRowFocused = function(e) {
      var r, n = this.rowNode, i = e ? this.isFullWidth() && e.rowIndex === n.rowIndex && e.rowPinned == n.rowPinned : !1, a = this.fullWidthGui ? this.fullWidthGui.element : (r = this.centerGui) === null || r === void 0 ? void 0 : r.element;
      a && (a.classList.toggle("ag-full-width-focus", i), i && a.focus({ preventScroll: !0 }));
    }, t.prototype.refreshCell = function(e) {
      this.centerCellCtrls = this.removeCellCtrl(this.centerCellCtrls, e), this.leftCellCtrls = this.removeCellCtrl(this.leftCellCtrls, e), this.rightCellCtrls = this.removeCellCtrl(this.rightCellCtrls, e), this.updateColumnLists();
    }, t.prototype.removeCellCtrl = function(e, r) {
      var n = {
        list: [],
        map: {}
      };
      return e.list.forEach(function(i) {
        i !== r && (n.list.push(i), n.map[i.getInstanceId()] = i);
      }), n;
    }, t.prototype.onMouseEvent = function(e, r) {
      switch (e) {
        case "dblclick":
          this.onRowDblClick(r);
          break;
        case "click":
          this.onRowClick(r);
          break;
        case "touchstart":
        case "mousedown":
          this.onRowMouseDown(r);
          break;
      }
    }, t.prototype.createRowEvent = function(e, r) {
      return {
        type: e,
        node: this.rowNode,
        data: this.rowNode.data,
        rowIndex: this.rowNode.rowIndex,
        rowPinned: this.rowNode.rowPinned,
        context: this.gridOptionsService.context,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        event: r
      };
    }, t.prototype.createRowEventWithSource = function(e, r) {
      var n = this.createRowEvent(e, r);
      return n.source = this, n;
    }, t.prototype.onRowDblClick = function(e) {
      if (!_i(e)) {
        var r = this.createRowEventWithSource(R.EVENT_ROW_DOUBLE_CLICKED, e);
        this.beans.eventService.dispatchEvent(r);
      }
    }, t.prototype.onRowMouseDown = function(e) {
      if (this.lastMouseDownOnDragger = Za(e.target, "ag-row-drag", 3), !!this.isFullWidth()) {
        var r = this.rowNode, n = this.beans.columnModel;
        this.beans.rangeService && this.beans.rangeService.removeAllCellRanges(), this.beans.focusService.setFocusedCell({
          rowIndex: r.rowIndex,
          column: n.getAllDisplayedColumns()[0],
          rowPinned: r.rowPinned,
          forceBrowserFocus: !0
        });
      }
    }, t.prototype.onRowClick = function(e) {
      var r = _i(e) || this.lastMouseDownOnDragger;
      if (!r) {
        var n = this.createRowEventWithSource(R.EVENT_ROW_CLICKED, e);
        this.beans.eventService.dispatchEvent(n);
        var i = e.ctrlKey || e.metaKey, a = e.shiftKey, s = this.gridOptionsService.is("groupSelectsChildren");
        if (
          // we do not allow selecting groups by clicking (as the click here expands the group), or if it's a detail row,
          // so return if it's a group row
          !(s && this.rowNode.group || // this is needed so we don't unselect other rows when we click this row, eg if this row is not selectable,
          // and we click it, the selection should not change (ie any currently selected row should stay selected)
          !this.rowNode.selectable || // we also don't allow selection of pinned rows
          this.rowNode.rowPinned || // if no selection method enabled, do nothing
          !this.gridOptionsService.isRowSelection() || // if click selection suppressed, do nothing
          this.gridOptionsService.is("suppressRowClickSelection"))
        ) {
          var l = this.gridOptionsService.is("rowMultiSelectWithClick"), u = !this.gridOptionsService.is("suppressRowDeselection"), c = "rowClicked";
          if (this.rowNode.isSelected())
            l ? this.rowNode.setSelectedParams({ newValue: !1, event: e, source: c }) : i ? u && this.rowNode.setSelectedParams({ newValue: !1, event: e, source: c }) : this.rowNode.setSelectedParams({ newValue: !0, clearSelection: !a, rangeSelect: a, event: e, source: c });
          else {
            var d = l ? !1 : !i;
            this.rowNode.setSelectedParams({ newValue: !0, clearSelection: d, rangeSelect: a, event: e, source: c });
          }
        }
      }
    }, t.prototype.setupDetailRowAutoHeight = function(e) {
      var r = this;
      if (this.rowType === Pr.FullWidthDetail && this.gridOptionsService.is("detailRowAutoHeight")) {
        var n = function() {
          var a = e.clientHeight;
          if (a != null && a > 0) {
            var s = function() {
              r.rowNode.setRowHeight(a), r.beans.clientSideRowModel ? r.beans.clientSideRowModel.onRowHeightChanged() : r.beans.serverSideRowModel && r.beans.serverSideRowModel.onRowHeightChanged();
            };
            r.beans.frameworkOverrides.setTimeout(s, 0);
          }
        }, i = this.beans.resizeObserverService.observeResize(e, n);
        this.addDestroyFunc(i), n();
      }
    }, t.prototype.createFullWidthParams = function(e, r) {
      var n = this, i = {
        fullWidth: !0,
        data: this.rowNode.data,
        node: this.rowNode,
        value: this.rowNode.key,
        valueFormatted: this.rowNode.key,
        rowIndex: this.rowNode.rowIndex,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context,
        // these need to be taken out, as part of 'afterAttached' now
        eGridCell: e,
        eParentOfValue: e,
        pinned: r,
        addRenderedRowListener: this.addEventListener.bind(this),
        registerRowDragger: function(a, s, l, u) {
          return n.addFullWidthRowDragging(a, s, l, u);
        }
      };
      return i;
    }, t.prototype.addFullWidthRowDragging = function(e, r, n, i) {
      if (n === void 0 && (n = ""), !!this.isFullWidth()) {
        var a = new lh(function() {
          return n;
        }, this.rowNode, void 0, e, r, i);
        this.createManagedBean(a, this.beans.context);
      }
    }, t.prototype.onUiLevelChanged = function() {
      var e = this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);
      if (this.rowLevel != e) {
        var r = "ag-row-level-" + e, n = "ag-row-level-" + this.rowLevel;
        this.allRowGuis.forEach(function(i) {
          i.rowComp.addOrRemoveCssClass(r, !0), i.rowComp.addOrRemoveCssClass(n, !1);
        });
      }
      this.rowLevel = e;
    }, t.prototype.isFirstRowOnPage = function() {
      return this.rowNode.rowIndex === this.beans.paginationProxy.getPageFirstRow();
    }, t.prototype.isLastRowOnPage = function() {
      return this.rowNode.rowIndex === this.beans.paginationProxy.getPageLastRow();
    }, t.prototype.onModelUpdated = function() {
      this.refreshFirstAndLastRowStyles();
    }, t.prototype.refreshFirstAndLastRowStyles = function() {
      var e = this.isFirstRowOnPage(), r = this.isLastRowOnPage();
      this.firstRowOnPage !== e && (this.firstRowOnPage = e, this.allRowGuis.forEach(function(n) {
        return n.rowComp.addOrRemoveCssClass("ag-row-first", e);
      })), this.lastRowOnPage !== r && (this.lastRowOnPage = r, this.allRowGuis.forEach(function(n) {
        return n.rowComp.addOrRemoveCssClass("ag-row-last", r);
      }));
    }, t.prototype.stopEditing = function(e) {
      var r, n;
      if (e === void 0 && (e = !1), !this.stoppingRowEdit) {
        var i = this.getAllCellCtrls(), a = this.editingRow;
        this.stoppingRowEdit = !0;
        var s = !1;
        try {
          for (var l = JL(i), u = l.next(); !u.done; u = l.next()) {
            var c = u.value, d = c.stopEditing(e);
            a && !e && !s && d && (s = !0);
          }
        } catch (h) {
          r = { error: h };
        } finally {
          try {
            u && !u.done && (n = l.return) && n.call(l);
          } finally {
            if (r)
              throw r.error;
          }
        }
        if (s) {
          var p = this.createRowEvent(R.EVENT_ROW_VALUE_CHANGED);
          this.beans.eventService.dispatchEvent(p);
        }
        a && this.setEditingRow(!1), this.stoppingRowEdit = !1;
      }
    }, t.prototype.setInlineEditingCss = function(e) {
      this.allRowGuis.forEach(function(r) {
        r.rowComp.addOrRemoveCssClass("ag-row-inline-editing", e), r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing", !e);
      });
    }, t.prototype.setEditingRow = function(e) {
      this.editingRow = e, this.allRowGuis.forEach(function(n) {
        return n.rowComp.addOrRemoveCssClass("ag-row-editing", e);
      });
      var r = e ? this.createRowEvent(R.EVENT_ROW_EDITING_STARTED) : this.createRowEvent(R.EVENT_ROW_EDITING_STOPPED);
      this.beans.eventService.dispatchEvent(r);
    }, t.prototype.startRowEditing = function(e, r, n) {
      if (e === void 0 && (e = null), r === void 0 && (r = null), n === void 0 && (n = null), !this.editingRow) {
        var i = this.getAllCellCtrls().reduce(function(a, s) {
          var l = s === r;
          return l ? s.startEditing(e, l, n) : s.startEditing(null, l, n), a ? !0 : s.isEditing();
        }, !1);
        i && this.setEditingRow(!0);
      }
    }, t.prototype.getAllCellCtrls = function() {
      if (this.leftCellCtrls.list.length === 0 && this.rightCellCtrls.list.length === 0)
        return this.centerCellCtrls.list;
      var e = fv(fv(fv([], hv(this.centerCellCtrls.list)), hv(this.leftCellCtrls.list)), hv(this.rightCellCtrls.list));
      return e;
    }, t.prototype.postProcessClassesFromGridOptions = function() {
      var e = this, r = this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);
      !r || !r.length || r.forEach(function(n) {
        e.allRowGuis.forEach(function(i) {
          return i.rowComp.addOrRemoveCssClass(n, !0);
        });
      });
    }, t.prototype.postProcessRowClassRules = function() {
      var e = this;
      this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode, function(r) {
        e.allRowGuis.forEach(function(n) {
          return n.rowComp.addOrRemoveCssClass(r, !0);
        });
      }, function(r) {
        e.allRowGuis.forEach(function(n) {
          return n.rowComp.addOrRemoveCssClass(r, !1);
        });
      });
    }, t.prototype.setStylesFromGridOptions = function(e) {
      var r = this.processStylesFromGridOptions();
      this.forEachGui(e, function(n) {
        return n.rowComp.setUserStyles(r);
      });
    }, t.prototype.getPinnedForContainer = function(e) {
      var r = e === fr.LEFT ? "left" : e === fr.RIGHT ? "right" : null;
      return r;
    }, t.prototype.getInitialRowClasses = function(e) {
      var r = this.getPinnedForContainer(e), n = {
        rowNode: this.rowNode,
        rowFocused: this.rowFocused,
        fadeRowIn: this.fadeInAnimation[e],
        rowIsEven: this.rowNode.rowIndex % 2 === 0,
        rowLevel: this.rowLevel,
        fullWidthRow: this.isFullWidth(),
        firstRowOnPage: this.isFirstRowOnPage(),
        lastRowOnPage: this.isLastRowOnPage(),
        printLayout: this.printLayout,
        expandable: this.rowNode.isExpandable(),
        pinned: r
      };
      return this.beans.rowCssClassCalculator.getInitialRowClasses(n);
    }, t.prototype.processStylesFromGridOptions = function() {
      var e = this.gridOptionsService.get("rowStyle");
      if (e && typeof e == "function") {
        console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");
        return;
      }
      var r = this.gridOptionsService.getCallback("getRowStyle"), n;
      if (r) {
        var i = {
          data: this.rowNode.data,
          node: this.rowNode,
          rowIndex: this.rowNode.rowIndex
        };
        n = r(i);
      }
      return Object.assign({}, e, n);
    }, t.prototype.onRowSelected = function(e) {
      var r = this, n = !!this.rowNode.isSelected();
      this.forEachGui(e, function(i) {
        i.rowComp.addOrRemoveCssClass("ag-row-selected", n), Wl(i.element, n ? !0 : void 0);
        var a = r.createAriaLabel();
        ra(i.element, a == null ? "" : a);
      });
    }, t.prototype.createAriaLabel = function() {
      var e = this.rowNode.isSelected();
      if (!(e && this.gridOptionsService.is("suppressRowDeselection"))) {
        var r = this.beans.localeService.getLocaleTextFunc(), n = r(e ? "ariaRowDeselect" : "ariaRowSelect", "Press SPACE to " + (e ? "deselect" : "select") + " this row.");
        return n;
      }
    }, t.prototype.isUseAnimationFrameForCreate = function() {
      return this.useAnimationFrameForCreate;
    }, t.prototype.addHoverFunctionality = function(e) {
      var r = this;
      this.active && (this.addManagedListener(e, "mouseenter", function() {
        return r.rowNode.onMouseEnter();
      }), this.addManagedListener(e, "mouseleave", function() {
        return r.rowNode.onMouseLeave();
      }), this.addManagedListener(this.rowNode, Te.EVENT_MOUSE_ENTER, function() {
        !r.beans.dragService.isDragging() && !r.gridOptionsService.is("suppressRowHoverHighlight") && (e.classList.add("ag-row-hover"), r.rowNode.setHovered(!0));
      }), this.addManagedListener(this.rowNode, Te.EVENT_MOUSE_LEAVE, function() {
        e.classList.remove("ag-row-hover"), r.rowNode.setHovered(!1);
      }));
    }, t.prototype.roundRowTopToBounds = function(e) {
      var r = this.beans.ctrlsService.getGridBodyCtrl(), n = r.getScrollFeature().getVScrollPosition(), i = this.applyPaginationOffset(n.top, !0) - 100, a = this.applyPaginationOffset(n.bottom, !0) + 100;
      return Math.min(Math.max(i, e), a);
    }, t.prototype.getFrameworkOverrides = function() {
      return this.beans.frameworkOverrides;
    }, t.prototype.forEachGui = function(e, r) {
      var n = e ? [e] : this.allRowGuis;
      n.forEach(r);
    }, t.prototype.onRowHeightChanged = function(e) {
      if (this.rowNode.rowHeight != null) {
        var r = this.rowNode.rowHeight, n = this.beans.environment.getDefaultRowHeight(), i = this.gridOptionsService.isGetRowHeightFunction(), a = i ? this.gridOptionsService.getRowHeightForNode(this.rowNode).height : void 0, s = a ? Math.min(n, a) - 2 + "px" : void 0;
        this.forEachGui(e, function(l) {
          l.element.style.height = r + "px", s && l.element.style.setProperty("--ag-line-height", s);
        });
      }
    }, t.prototype.addEventListener = function(e, r) {
      o.prototype.addEventListener.call(this, e, r);
    }, t.prototype.removeEventListener = function(e, r) {
      o.prototype.removeEventListener.call(this, e, r);
    }, t.prototype.destroyFirstPass = function() {
      this.active = !1, this.gridOptionsService.isAnimateRows() && this.setupRemoveAnimation(), this.rowNode.setHovered(!1);
      var e = this.createRowEvent(R.EVENT_VIRTUAL_ROW_REMOVED);
      this.dispatchEvent(e), this.beans.eventService.dispatchEvent(e), o.prototype.destroy.call(this);
    }, t.prototype.setupRemoveAnimation = function() {
      if (!this.isSticky()) {
        var e = this.rowNode.rowTop != null;
        if (e) {
          var r = this.roundRowTopToBounds(this.rowNode.rowTop);
          this.setRowTop(r);
        } else
          this.allRowGuis.forEach(function(n) {
            return n.rowComp.addOrRemoveCssClass("ag-opacity-zero", !0);
          });
      }
    }, t.prototype.destroySecondPass = function() {
      this.allRowGuis.length = 0;
      var e = function(r) {
        return r.list.forEach(function(n) {
          return n.destroy();
        }), { list: [], map: {} };
      };
      this.centerCellCtrls = e(this.centerCellCtrls), this.leftCellCtrls = e(this.leftCellCtrls), this.rightCellCtrls = e(this.rightCellCtrls);
    }, t.prototype.setFocusedClasses = function(e) {
      var r = this;
      this.forEachGui(e, function(n) {
        n.rowComp.addOrRemoveCssClass("ag-row-focus", r.rowFocused), n.rowComp.addOrRemoveCssClass("ag-row-no-focus", !r.rowFocused);
      });
    }, t.prototype.onCellFocused = function() {
      this.onCellFocusChanged();
    }, t.prototype.onCellFocusCleared = function() {
      this.onCellFocusChanged();
    }, t.prototype.onCellFocusChanged = function() {
      var e = this.beans.focusService.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);
      e !== this.rowFocused && (this.rowFocused = e, this.setFocusedClasses()), !e && this.editingRow && this.stopEditing(!1);
    }, t.prototype.onPaginationChanged = function() {
      var e = this.beans.paginationProxy.getCurrentPage();
      this.paginationPage !== e && (this.paginationPage = e, this.onTopChanged()), this.refreshFirstAndLastRowStyles();
    }, t.prototype.onTopChanged = function() {
      this.setRowTop(this.rowNode.rowTop);
    }, t.prototype.onPaginationPixelOffsetChanged = function() {
      this.onTopChanged();
    }, t.prototype.applyPaginationOffset = function(e, r) {
      if (r === void 0 && (r = !1), this.rowNode.isRowPinned() || this.rowNode.sticky)
        return e;
      var n = this.beans.paginationProxy.getPixelOffset(), i = r ? 1 : -1;
      return e + n * i;
    }, t.prototype.setRowTop = function(e) {
      if (!this.printLayout && z(e)) {
        var r = this.applyPaginationOffset(e), n = this.rowNode.isRowPinned() || this.rowNode.sticky, i = n ? r : this.beans.rowContainerHeightService.getRealPixelPosition(r), a = i + "px";
        this.setRowTopStyle(a);
      }
    }, t.prototype.getInitialRowTop = function(e) {
      var r = this.gridOptionsService.is("suppressRowTransform");
      return r ? this.getInitialRowTopShared(e) : void 0;
    }, t.prototype.getInitialTransform = function(e) {
      var r = this.gridOptionsService.is("suppressRowTransform");
      return r ? void 0 : "translateY(" + this.getInitialRowTopShared(e) + ")";
    }, t.prototype.getInitialRowTopShared = function(e) {
      if (this.printLayout)
        return "";
      var r;
      if (this.isSticky())
        r = this.rowNode.stickyRowTop;
      else {
        var n = this.slideInAnimation[e] ? this.roundRowTopToBounds(this.rowNode.oldRowTop) : this.rowNode.rowTop, i = this.applyPaginationOffset(n);
        r = this.rowNode.isRowPinned() ? i : this.beans.rowContainerHeightService.getRealPixelPosition(i);
      }
      return r + "px";
    }, t.prototype.setRowTopStyle = function(e) {
      var r = this.gridOptionsService.is("suppressRowTransform");
      this.allRowGuis.forEach(function(n) {
        return r ? n.rowComp.setTop(e) : n.rowComp.setTransform("translateY(" + e + ")");
      });
    }, t.prototype.getRowNode = function() {
      return this.rowNode;
    }, t.prototype.getCellCtrl = function(e) {
      var r = null;
      return this.getAllCellCtrls().forEach(function(n) {
        n.getColumn() == e && (r = n);
      }), r != null || this.getAllCellCtrls().forEach(function(n) {
        n.getColSpanningList().indexOf(e) >= 0 && (r = n);
      }), r;
    }, t.prototype.onRowIndexChanged = function() {
      this.rowNode.rowIndex != null && (this.onCellFocusChanged(), this.updateRowIndexes(), this.postProcessCss());
    }, t.prototype.updateRowIndexes = function(e) {
      var r = this.rowNode.getRowIndexString(), n = this.beans.headerNavigationService.getHeaderRowCount(), i = this.rowNode.rowIndex % 2 === 0, a = n + this.rowNode.rowIndex + 1;
      this.forEachGui(e, function(s) {
        s.rowComp.setRowIndex(r), s.rowComp.addOrRemoveCssClass("ag-row-even", i), s.rowComp.addOrRemoveCssClass("ag-row-odd", !i), gm(s.element, a);
      });
    }, t.prototype.getPinnedLeftRowElement = function() {
      return this.leftGui ? this.leftGui.element : void 0;
    }, t.prototype.getPinnedRightRowElement = function() {
      return this.rightGui ? this.rightGui.element : void 0;
    }, t.prototype.getBodyRowElement = function() {
      return this.centerGui ? this.centerGui.element : void 0;
    }, t.prototype.getFullWidthRowElement = function() {
      return this.fullWidthGui ? this.fullWidthGui.element : void 0;
    }, t.DOM_DATA_KEY_ROW_CTRL = "renderedRow", t;
  }(W)
), tN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), kr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, rN = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, nN = (
  /** @class */
  function(o) {
    tN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.element = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.addKeyboardListeners(), this.addMouseListeners(), this.mockContextMenuForIPad();
    }, t.prototype.addKeyboardListeners = function() {
      var e = "keydown", r = this.processKeyboardEvent.bind(this, e);
      this.addManagedListener(this.element, e, r);
    }, t.prototype.addMouseListeners = function() {
      var e = this, r = cm("touchstart") ? "touchstart" : "mousedown", n = ["dblclick", "contextmenu", "mouseover", "mouseout", "click", r];
      n.forEach(function(i) {
        var a = e.processMouseEvent.bind(e, i);
        e.addManagedListener(e.element, i, a);
      });
    }, t.prototype.processMouseEvent = function(e, r) {
      if (!(!this.mouseEventService.isEventFromThisGrid(r) || _i(r))) {
        var n = this.getRowForEvent(r), i = this.mouseEventService.getRenderedCellForEvent(r);
        e === "contextmenu" ? this.handleContextMenuMouseEvent(r, null, n, i) : (i && i.onMouseEvent(e, r), n && n.onMouseEvent(e, r));
      }
    }, t.prototype.mockContextMenuForIPad = function() {
      var e = this;
      if (na()) {
        var r = new sr(this.element), n = function(i) {
          var a = e.getRowForEvent(i.touchEvent), s = e.mouseEventService.getRenderedCellForEvent(i.touchEvent);
          e.handleContextMenuMouseEvent(null, i.touchEvent, a, s);
        };
        this.addManagedListener(r, sr.EVENT_LONG_TAP, n), this.addDestroyFunc(function() {
          return r.destroy();
        });
      }
    }, t.prototype.getRowForEvent = function(e) {
      for (var r = e.target; r; ) {
        var n = this.gridOptionsService.getDomData(r, Ja.DOM_DATA_KEY_ROW_CTRL);
        if (n)
          return n;
        r = r.parentElement;
      }
      return null;
    }, t.prototype.handleContextMenuMouseEvent = function(e, r, n, i) {
      var a = n ? n.getRowNode() : null, s = i ? i.getColumn() : null, l = null;
      if (s) {
        var u = e || r;
        i.dispatchCellContextMenuEvent(u), l = this.valueService.getValue(s, a);
      }
      var c = this.ctrlsService.getGridBodyCtrl(), d = i ? i.getGui() : c.getGridBodyElement();
      this.contextMenuFactory && this.contextMenuFactory.onContextMenu(e, r, a, s, l, d);
    }, t.prototype.getControlsForEventTarget = function(e) {
      return {
        cellCtrl: rh(this.gridOptionsService, e, Ko.DOM_DATA_KEY_CELL_CTRL),
        rowCtrl: rh(this.gridOptionsService, e, Ja.DOM_DATA_KEY_ROW_CTRL)
      };
    }, t.prototype.processKeyboardEvent = function(e, r) {
      var n = this.getControlsForEventTarget(r.target), i = n.cellCtrl, a = n.rowCtrl;
      r.defaultPrevented || (i ? this.processCellKeyboardEvent(i, e, r) : a && a.isFullWidth() && this.processFullWidthRowKeyboardEvent(a, e, r));
    }, t.prototype.processCellKeyboardEvent = function(e, r, n) {
      var i = e.getRowNode(), a = e.getColumn(), s = e.isEditing(), l = !oh(this.gridOptionsService, n, i, a, s);
      if (l && r === "keydown") {
        var u = !s && this.navigationService.handlePageScrollingKey(n);
        u || e.onKeyDown(n), this.doGridOperations(n, e.isEditing()), Am(n) && e.processCharacter(n);
      }
      if (r === "keydown") {
        var c = e.createEvent(n, R.EVENT_CELL_KEY_DOWN);
        this.eventService.dispatchEvent(c);
      }
    }, t.prototype.processFullWidthRowKeyboardEvent = function(e, r, n) {
      var i = e.getRowNode(), a = this.focusService.getFocusedCell(), s = a && a.column, l = !oh(this.gridOptionsService, n, i, s, !1);
      if (l) {
        var u = n.key;
        if (r === "keydown")
          switch (u) {
            case H.PAGE_HOME:
            case H.PAGE_END:
            case H.PAGE_UP:
            case H.PAGE_DOWN:
              this.navigationService.handlePageScrollingKey(n, !0);
              break;
            case H.UP:
            case H.DOWN:
              e.onKeyboardNavigate(n);
              break;
            case H.TAB:
              e.onTabKeyDown(n);
              break;
          }
      }
      if (r === "keydown") {
        var c = e.createRowEvent(R.EVENT_CELL_KEY_DOWN, n);
        this.eventService.dispatchEvent(c);
      }
    }, t.prototype.doGridOperations = function(e, r) {
      if (!(!e.ctrlKey && !e.metaKey) && !r && this.mouseEventService.isEventFromThisGrid(e)) {
        var n = fE(e);
        if (n === H.A)
          return this.onCtrlAndA(e);
        if (n === H.C)
          return this.onCtrlAndC(e);
        if (n === H.D)
          return this.onCtrlAndD(e);
        if (n === H.V)
          return this.onCtrlAndV(e);
        if (n === H.X)
          return this.onCtrlAndX(e);
        if (n === H.Y)
          return this.onCtrlAndY();
        if (n === H.Z)
          return this.onCtrlAndZ(e);
      }
    }, t.prototype.onCtrlAndA = function(e) {
      var r = this, n = r.pinnedRowModel, i = r.paginationProxy, a = r.rangeService;
      if (a && i.isRowsToRender()) {
        var s = rN([
          n.isEmpty("top"),
          n.isEmpty("bottom")
        ], 2), l = s[0], u = s[1], c = l ? null : "top", d = void 0, p = void 0;
        u ? (d = null, p = this.paginationProxy.getRowCount() - 1) : (d = "bottom", p = n.getPinnedBottomRowData().length - 1);
        var h = this.columnModel.getAllDisplayedColumns();
        if (Kr(h))
          return;
        a.setCellRange({
          rowStartIndex: 0,
          rowStartPinned: c,
          rowEndIndex: p,
          rowEndPinned: d,
          columnStart: h[0],
          columnEnd: et(h)
        });
      }
      e.preventDefault();
    }, t.prototype.onCtrlAndC = function(e) {
      if (!(!this.clipboardService || this.gridOptionsService.is("enableCellTextSelection"))) {
        var r = this.getControlsForEventTarget(e.target), n = r.cellCtrl, i = r.rowCtrl;
        n != null && n.isEditing() || i != null && i.isEditing() || (e.preventDefault(), this.clipboardService.copyToClipboard());
      }
    }, t.prototype.onCtrlAndX = function(e) {
      if (!(!this.clipboardService || this.gridOptionsService.is("enableCellTextSelection") || this.gridOptionsService.is("suppressCutToClipboard"))) {
        var r = this.getControlsForEventTarget(e.target), n = r.cellCtrl, i = r.rowCtrl;
        n != null && n.isEditing() || i != null && i.isEditing() || (e.preventDefault(), this.clipboardService.cutToClipboard(void 0, "ui"));
      }
    }, t.prototype.onCtrlAndV = function(e) {
      var r = this.getControlsForEventTarget(e.target), n = r.cellCtrl, i = r.rowCtrl;
      n != null && n.isEditing() || i != null && i.isEditing() || this.clipboardService && !this.gridOptionsService.is("suppressClipboardPaste") && this.clipboardService.pasteFromClipboard();
    }, t.prototype.onCtrlAndD = function(e) {
      this.clipboardService && !this.gridOptionsService.is("suppressClipboardPaste") && this.clipboardService.copyRangeDown(), e.preventDefault();
    }, t.prototype.onCtrlAndZ = function(e) {
      this.gridOptionsService.is("undoRedoCellEditing") && (e.preventDefault(), e.shiftKey ? this.undoRedoService.redo("ui") : this.undoRedoService.undo("ui"));
    }, t.prototype.onCtrlAndY = function() {
      this.undoRedoService.redo("ui");
    }, kr([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), kr([
      w("valueService")
    ], t.prototype, "valueService", void 0), kr([
      Fe("contextMenuFactory")
    ], t.prototype, "contextMenuFactory", void 0), kr([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), kr([
      w("navigationService")
    ], t.prototype, "navigationService", void 0), kr([
      w("focusService")
    ], t.prototype, "focusService", void 0), kr([
      w("undoRedoService")
    ], t.prototype, "undoRedoService", void 0), kr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), kr([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), kr([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), kr([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), kr([
      Fe("clipboardService")
    ], t.prototype, "clipboardService", void 0), kr([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), iN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Dd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, oN = (
  /** @class */
  function(o) {
    iN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.centerContainerCtrl = e, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function() {
        e.gridBodyCtrl = e.ctrlsService.getGridBodyCtrl(), e.listenForResize();
      }), this.addManagedListener(this.eventService, R.EVENT_SCROLLBAR_WIDTH_CHANGED, this.onScrollbarWidthChanged.bind(this));
    }, t.prototype.listenForResize = function() {
      var e = this, r = function() {
        return e.onCenterViewportResized();
      };
      this.centerContainerCtrl.registerViewportResizeListener(r), this.gridBodyCtrl.registerBodyViewportResizeListener(r);
    }, t.prototype.onScrollbarWidthChanged = function() {
      this.checkViewportAndScrolls();
    }, t.prototype.onCenterViewportResized = function() {
      if (this.centerContainerCtrl.isViewportVisible()) {
        this.checkViewportAndScrolls();
        var e = this.centerContainerCtrl.getCenterWidth();
        e !== this.centerWidth && (this.centerWidth = e, this.columnModel.refreshFlexedColumns({ viewportWidth: this.centerWidth, updateBodyWidths: !0, fireResizedEvent: !0 }));
      } else
        this.bodyHeight = 0;
    }, t.prototype.checkViewportAndScrolls = function() {
      this.updateScrollVisibleService(), this.checkBodyHeight(), this.onHorizontalViewportChanged(), this.gridBodyCtrl.getScrollFeature().checkScrollLeft();
    }, t.prototype.getBodyHeight = function() {
      return this.bodyHeight;
    }, t.prototype.checkBodyHeight = function() {
      var e = this.gridBodyCtrl.getBodyViewportElement(), r = ad(e);
      if (this.bodyHeight !== r) {
        this.bodyHeight = r;
        var n = {
          type: R.EVENT_BODY_HEIGHT_CHANGED
        };
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.updateScrollVisibleService = function() {
      this.updateScrollVisibleServiceImpl(), setTimeout(this.updateScrollVisibleServiceImpl.bind(this), 500);
    }, t.prototype.updateScrollVisibleServiceImpl = function() {
      var e = {
        horizontalScrollShowing: this.isHorizontalScrollShowing(),
        verticalScrollShowing: this.gridBodyCtrl.isVerticalScrollShowing()
      };
      this.scrollVisibleService.setScrollsVisible(e);
    }, t.prototype.isHorizontalScrollShowing = function() {
      return this.centerContainerCtrl.isHorizontalScrollShowing();
    }, t.prototype.onHorizontalViewportChanged = function() {
      var e = this.centerContainerCtrl.getCenterWidth(), r = this.centerContainerCtrl.getViewportScrollLeft();
      this.columnModel.setViewportPosition(e, r);
    }, Dd([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Dd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Dd([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), Dd([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), aN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), nS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sN = (
  /** @class */
  function(o) {
    aN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.element = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_LEFT_PINNED_WIDTH_CHANGED, this.onPinnedLeftWidthChanged.bind(this));
    }, t.prototype.onPinnedLeftWidthChanged = function() {
      var e = this.pinnedWidthService.getPinnedLeftWidth(), r = e > 0;
      Be(this.element, r), _n(this.element, e);
    }, t.prototype.getWidth = function() {
      return this.pinnedWidthService.getPinnedLeftWidth();
    }, nS([
      w("pinnedWidthService")
    ], t.prototype, "pinnedWidthService", void 0), nS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), lN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), iS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, uN = (
  /** @class */
  function(o) {
    lN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.element = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_RIGHT_PINNED_WIDTH_CHANGED, this.onPinnedRightWidthChanged.bind(this));
    }, t.prototype.onPinnedRightWidthChanged = function() {
      var e = this.pinnedWidthService.getPinnedRightWidth(), r = e > 0;
      Be(this.element, r), _n(this.element, e);
    }, t.prototype.getWidth = function() {
      return this.pinnedWidthService.getPinnedRightWidth();
    }, iS([
      w("pinnedWidthService")
    ], t.prototype, "pinnedWidthService", void 0), iS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), cN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), oS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, VE = (
  /** @class */
  function(o) {
    cN(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.eContainer = e, n.eWrapper = r, n;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_ROW_CONTAINER_HEIGHT_CHANGED, this.onHeightChanged.bind(this));
    }, t.prototype.onHeightChanged = function() {
      var e = this.maxDivHeightScaler.getUiContainerHeight(), r = e != null ? e + "px" : "";
      this.eContainer.style.height = r, this.eWrapper && (this.eWrapper.style.height = r);
    }, oS([
      w("rowContainerHeightService")
    ], t.prototype, "maxDivHeightScaler", void 0), oS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), dN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), vv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, pN = (
  /** @class */
  function(o) {
    dN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.eContainer = e, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      if (!(!this.gridOptionsService.isEnableRangeSelection() || // no range selection if no property
      me(this.rangeService))) {
        var r = {
          eElement: this.eContainer,
          onDragStart: this.rangeService.onDragStart.bind(this.rangeService),
          onDragStop: this.rangeService.onDragStop.bind(this.rangeService),
          onDragging: this.rangeService.onDragging.bind(this.rangeService)
        };
        this.dragService.addDragSource(r), this.addDestroyFunc(function() {
          return e.dragService.removeDragSource(r);
        });
      }
    }, vv([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), vv([
      w("dragService")
    ], t.prototype, "dragService", void 0), vv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), hN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), gv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Wm = (
  /** @class */
  function(o) {
    hN(t, o);
    function t(e, r) {
      r === void 0 && (r = !1);
      var n = o.call(this) || this;
      return n.callback = e, n.addSpacer = r, n;
    }
    return t.prototype.postConstruct = function() {
      var e = this.setWidth.bind(this);
      this.addManagedPropertyListener("domLayout", e), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_LEFT_PINNED_WIDTH_CHANGED, e), this.addSpacer && (this.addManagedListener(this.eventService, R.EVENT_RIGHT_PINNED_WIDTH_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_SCROLLBAR_WIDTH_CHANGED, e)), this.setWidth();
    }, t.prototype.setWidth = function() {
      var e = this.columnModel, r = this.gridOptionsService.isDomLayout("print"), n = e.getBodyContainerWidth(), i = e.getDisplayedColumnsLeftWidth(), a = e.getDisplayedColumnsRightWidth(), s;
      if (r)
        s = n + i + a;
      else if (s = n, this.addSpacer) {
        var l = this.gridOptionsService.is("enableRtl") ? i : a;
        l === 0 && this.scrollVisibleService.isVerticalScrollShowing() && (s += this.gridOptionsService.getScrollbarWidth());
      }
      this.callback(s);
    }, gv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), gv([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), gv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), fN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), go = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Pd = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Ad = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, $;
(function(o) {
  o.LEFT = "left", o.RIGHT = "right", o.CENTER = "center", o.FULL_WIDTH = "fullWidth", o.TOP_LEFT = "topLeft", o.TOP_RIGHT = "topRight", o.TOP_CENTER = "topCenter", o.TOP_FULL_WIDTH = "topFullWidth", o.STICKY_TOP_LEFT = "stickyTopLeft", o.STICKY_TOP_RIGHT = "stickyTopRight", o.STICKY_TOP_CENTER = "stickyTopCenter", o.STICKY_TOP_FULL_WIDTH = "stickyTopFullWidth", o.BOTTOM_LEFT = "bottomLeft", o.BOTTOM_RIGHT = "bottomRight", o.BOTTOM_CENTER = "bottomCenter", o.BOTTOM_FULL_WIDTH = "bottomFullWidth";
})($ || ($ = {}));
var fr;
(function(o) {
  o.LEFT = "left", o.RIGHT = "right", o.CENTER = "center", o.FULL_WIDTH = "fullWidth";
})(fr || (fr = {}));
function vN(o) {
  switch (o) {
    case $.CENTER:
    case $.TOP_CENTER:
    case $.STICKY_TOP_CENTER:
    case $.BOTTOM_CENTER:
      return fr.CENTER;
    case $.LEFT:
    case $.TOP_LEFT:
    case $.STICKY_TOP_LEFT:
    case $.BOTTOM_LEFT:
      return fr.LEFT;
    case $.RIGHT:
    case $.TOP_RIGHT:
    case $.STICKY_TOP_RIGHT:
    case $.BOTTOM_RIGHT:
      return fr.RIGHT;
    case $.FULL_WIDTH:
    case $.TOP_FULL_WIDTH:
    case $.STICKY_TOP_FULL_WIDTH:
    case $.BOTTOM_FULL_WIDTH:
      return fr.FULL_WIDTH;
    default:
      throw Error("Invalid Row Container Type");
  }
}
var gN = Zi([
  [$.CENTER, "ag-center-cols-container"],
  [$.LEFT, "ag-pinned-left-cols-container"],
  [$.RIGHT, "ag-pinned-right-cols-container"],
  [$.FULL_WIDTH, "ag-full-width-container"],
  [$.TOP_CENTER, "ag-floating-top-container"],
  [$.TOP_LEFT, "ag-pinned-left-floating-top"],
  [$.TOP_RIGHT, "ag-pinned-right-floating-top"],
  [$.TOP_FULL_WIDTH, "ag-floating-top-full-width-container"],
  [$.STICKY_TOP_CENTER, "ag-sticky-top-container"],
  [$.STICKY_TOP_LEFT, "ag-pinned-left-sticky-top"],
  [$.STICKY_TOP_RIGHT, "ag-pinned-right-sticky-top"],
  [$.STICKY_TOP_FULL_WIDTH, "ag-sticky-top-full-width-container"],
  [$.BOTTOM_CENTER, "ag-floating-bottom-container"],
  [$.BOTTOM_LEFT, "ag-pinned-left-floating-bottom"],
  [$.BOTTOM_RIGHT, "ag-pinned-right-floating-bottom"],
  [$.BOTTOM_FULL_WIDTH, "ag-floating-bottom-full-width-container"]
]), yN = Zi([
  [$.CENTER, "ag-center-cols-viewport"],
  [$.TOP_CENTER, "ag-floating-top-viewport"],
  [$.STICKY_TOP_CENTER, "ag-sticky-top-viewport"],
  [$.BOTTOM_CENTER, "ag-floating-bottom-viewport"]
]), mN = Zi([
  [$.CENTER, "ag-center-cols-clipper"]
]), BE = (
  /** @class */
  function(o) {
    fN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.visible = !0, r.EMPTY_CTRLS = [], r.name = e, r.isFullWithContainer = r.name === $.TOP_FULL_WIDTH || r.name === $.STICKY_TOP_FULL_WIDTH || r.name === $.BOTTOM_FULL_WIDTH || r.name === $.FULL_WIDTH, r;
    }
    return t.getRowContainerCssClasses = function(e) {
      var r = gN.get(e), n = yN.get(e), i = mN.get(e);
      return { container: r, viewport: n, wrapper: i };
    }, t.getPinned = function(e) {
      switch (e) {
        case $.BOTTOM_LEFT:
        case $.TOP_LEFT:
        case $.STICKY_TOP_LEFT:
        case $.LEFT:
          return "left";
        case $.BOTTOM_RIGHT:
        case $.TOP_RIGHT:
        case $.STICKY_TOP_RIGHT:
        case $.RIGHT:
          return "right";
        default:
          return null;
      }
    }, t.prototype.postConstruct = function() {
      var e = this;
      this.enableRtl = this.gridOptionsService.is("enableRtl"), this.embedFullWidthRows = this.gridOptionsService.is("embedFullWidthRows"), this.forContainers([$.CENTER], function() {
        return e.viewportSizeFeature = e.createManagedBean(new oN(e));
      });
    }, t.prototype.registerWithCtrlsService = function() {
      switch (this.name) {
        case $.CENTER:
          this.ctrlsService.registerCenterRowContainerCtrl(this);
          break;
        case $.LEFT:
          this.ctrlsService.registerLeftRowContainerCtrl(this);
          break;
        case $.RIGHT:
          this.ctrlsService.registerRightRowContainerCtrl(this);
          break;
        case $.TOP_CENTER:
          this.ctrlsService.registerTopCenterRowContainerCtrl(this);
          break;
        case $.TOP_LEFT:
          this.ctrlsService.registerTopLeftRowContainerCon(this);
          break;
        case $.TOP_RIGHT:
          this.ctrlsService.registerTopRightRowContainerCtrl(this);
          break;
        case $.STICKY_TOP_CENTER:
          this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);
          break;
        case $.STICKY_TOP_LEFT:
          this.ctrlsService.registerStickyTopLeftRowContainerCon(this);
          break;
        case $.STICKY_TOP_RIGHT:
          this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);
          break;
        case $.BOTTOM_CENTER:
          this.ctrlsService.registerBottomCenterRowContainerCtrl(this);
          break;
        case $.BOTTOM_LEFT:
          this.ctrlsService.registerBottomLeftRowContainerCtrl(this);
          break;
        case $.BOTTOM_RIGHT:
          this.ctrlsService.registerBottomRightRowContainerCtrl(this);
          break;
      }
    }, t.prototype.forContainers = function(e, r) {
      e.indexOf(this.name) >= 0 && r();
    }, t.prototype.getContainerElement = function() {
      return this.eContainer;
    }, t.prototype.getViewportSizeFeature = function() {
      return this.viewportSizeFeature;
    }, t.prototype.setComp = function(e, r, n, i) {
      var a = this;
      this.comp = e, this.eContainer = r, this.eViewport = n, this.eWrapper = i, this.createManagedBean(new nN(this.eContainer)), this.addPreventScrollWhileDragging(), this.listenOnDomOrder(), this.stopHScrollOnPinnedRows();
      var s = [$.TOP_CENTER, $.TOP_LEFT, $.TOP_RIGHT], l = [$.STICKY_TOP_CENTER, $.STICKY_TOP_LEFT, $.STICKY_TOP_RIGHT], u = [$.BOTTOM_CENTER, $.BOTTOM_LEFT, $.BOTTOM_RIGHT], c = [$.CENTER, $.LEFT, $.RIGHT], d = Ad(Ad(Ad(Ad([], Pd(s)), Pd(u)), Pd(c)), Pd(l)), p = [$.CENTER, $.LEFT, $.RIGHT, $.FULL_WIDTH], h = [$.CENTER, $.TOP_CENTER, $.STICKY_TOP_CENTER, $.BOTTOM_CENTER], f = [$.LEFT, $.BOTTOM_LEFT, $.TOP_LEFT, $.STICKY_TOP_LEFT], v = [$.RIGHT, $.BOTTOM_RIGHT, $.TOP_RIGHT, $.STICKY_TOP_RIGHT];
      this.forContainers(f, function() {
        a.pinnedWidthFeature = a.createManagedBean(new sN(a.eContainer)), a.addManagedListener(a.eventService, R.EVENT_LEFT_PINNED_WIDTH_CHANGED, function() {
          return a.onPinnedWidthChanged();
        });
      }), this.forContainers(v, function() {
        a.pinnedWidthFeature = a.createManagedBean(new uN(a.eContainer)), a.addManagedListener(a.eventService, R.EVENT_RIGHT_PINNED_WIDTH_CHANGED, function() {
          return a.onPinnedWidthChanged();
        });
      }), this.forContainers(p, function() {
        return a.createManagedBean(new VE(a.eContainer, a.eWrapper));
      }), this.forContainers(d, function() {
        return a.createManagedBean(new pN(a.eContainer));
      }), this.forContainers(h, function() {
        return a.createManagedBean(new Wm(function(g) {
          return a.comp.setContainerWidth(g + "px");
        }));
      }), Fl() && (this.forContainers([$.CENTER], function() {
        var g = a.enableRtl ? R.EVENT_LEFT_PINNED_WIDTH_CHANGED : R.EVENT_RIGHT_PINNED_WIDTH_CHANGED;
        a.addManagedListener(a.eventService, g, function() {
          return a.refreshPaddingForFakeScrollbar();
        });
      }), this.refreshPaddingForFakeScrollbar()), this.addListeners(), this.registerWithCtrlsService();
    }, t.prototype.refreshPaddingForFakeScrollbar = function() {
      var e = this, r = e.enableRtl, n = e.columnModel, i = e.name, a = e.eWrapper, s = e.eContainer, l = r ? $.LEFT : $.RIGHT;
      this.forContainers([$.CENTER, l], function() {
        var u = n.getContainerWidth(l), c = r ? "marginLeft" : "marginRight";
        i === $.CENTER ? a.style[c] = u ? "0px" : "16px" : s.style[c] = u ? "16px" : "0px";
      });
    }, t.prototype.addListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, function() {
        return e.onScrollVisibilityChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, function() {
        return e.onDisplayedColumnsChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, function() {
        return e.onDisplayedColumnsWidthChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_ROWS_CHANGED, function(r) {
        return e.onDisplayedRowsChanged(r.afterScroll);
      }), this.onScrollVisibilityChanged(), this.onDisplayedColumnsChanged(), this.onDisplayedColumnsWidthChanged(), this.onDisplayedRowsChanged();
    }, t.prototype.listenOnDomOrder = function() {
      var e = this, r = [$.STICKY_TOP_CENTER, $.STICKY_TOP_LEFT, $.STICKY_TOP_RIGHT, $.STICKY_TOP_FULL_WIDTH], n = r.indexOf(this.name) >= 0;
      if (n) {
        this.comp.setDomOrder(!0);
        return;
      }
      var i = function() {
        var a = e.gridOptionsService.is("ensureDomOrder"), s = e.gridOptionsService.isDomLayout("print");
        e.comp.setDomOrder(a || s);
      };
      this.addManagedPropertyListener("domLayout", i), i();
    }, t.prototype.stopHScrollOnPinnedRows = function() {
      var e = this;
      this.forContainers([$.TOP_CENTER, $.STICKY_TOP_CENTER, $.BOTTOM_CENTER], function() {
        var r = function() {
          return e.eViewport.scrollLeft = 0;
        };
        e.addManagedListener(e.eViewport, "scroll", r);
      });
    }, t.prototype.onDisplayedColumnsChanged = function() {
      var e = this;
      this.forContainers([$.CENTER], function() {
        return e.onHorizontalViewportChanged();
      });
    }, t.prototype.onDisplayedColumnsWidthChanged = function() {
      var e = this;
      this.forContainers([$.CENTER], function() {
        return e.onHorizontalViewportChanged();
      });
    }, t.prototype.onScrollVisibilityChanged = function() {
      var e = this, r = this.gridOptionsService.getScrollbarWidth() || 0;
      if (this.name === $.CENTER) {
        var n = this.scrollVisibleService.isHorizontalScrollShowing(), i = n ? r : 0, a = i == 0 ? "100%" : "calc(100% + " + i + "px)";
        this.animationFrameService.requestAnimationFrame(function() {
          return e.comp.setViewportHeight(a);
        });
      }
      if (this.name === $.FULL_WIDTH) {
        var s = Fl() ? 16 : 0, l = "calc(100% - " + s + "px)";
        this.eContainer.style.setProperty("width", l);
      }
    }, t.prototype.addPreventScrollWhileDragging = function() {
      var e = this, r = function(n) {
        e.dragService.isDragging() && n.cancelable && n.preventDefault();
      };
      this.eContainer.addEventListener("touchmove", r, { passive: !1 }), this.addDestroyFunc(function() {
        return e.eContainer.removeEventListener("touchmove", r);
      });
    }, t.prototype.onHorizontalViewportChanged = function() {
      var e = this.getCenterWidth(), r = this.getCenterViewportScrollLeft();
      this.columnModel.setViewportPosition(e, r);
    }, t.prototype.getCenterWidth = function() {
      return yf(this.eViewport);
    }, t.prototype.getCenterViewportScrollLeft = function() {
      return Wc(this.eViewport, this.enableRtl);
    }, t.prototype.registerViewportResizeListener = function(e) {
      var r = this.resizeObserverService.observeResize(this.eViewport, e);
      this.addDestroyFunc(function() {
        return r();
      });
    }, t.prototype.isViewportVisible = function() {
      return so(this.eViewport);
    }, t.prototype.getViewportScrollLeft = function() {
      return Wc(this.eViewport, this.enableRtl);
    }, t.prototype.isHorizontalScrollShowing = function() {
      var e = this.gridOptionsService.is("alwaysShowHorizontalScroll");
      return e || lE(this.eViewport);
    }, t.prototype.getViewportElement = function() {
      return this.eViewport;
    }, t.prototype.setContainerTranslateX = function(e) {
      this.eContainer.style.transform = "translateX(" + e + "px)";
    }, t.prototype.getHScrollPosition = function() {
      var e = {
        left: this.eViewport.scrollLeft,
        right: this.eViewport.scrollLeft + this.eViewport.offsetWidth
      };
      return e;
    }, t.prototype.setCenterViewportScrollLeft = function(e) {
      $c(this.eViewport, e, this.enableRtl);
    }, t.prototype.isContainerVisible = function() {
      var e = t.getPinned(this.name);
      return !e || !!this.pinnedWidthFeature && this.pinnedWidthFeature.getWidth() > 0;
    }, t.prototype.onPinnedWidthChanged = function() {
      var e = this.isContainerVisible();
      this.visible != e && (this.visible = e, this.onDisplayedRowsChanged()), Fl() && this.refreshPaddingForFakeScrollbar();
    }, t.prototype.onDisplayedRowsChanged = function(e) {
      var r = this;
      if (e === void 0 && (e = !1), this.visible) {
        var n = this.gridOptionsService.isDomLayout("print"), i = function(s) {
          var l = s.isFullWidth(), u = r.embedFullWidthRows || n, c = r.isFullWithContainer ? !u && l : u || !l;
          return c;
        }, a = this.getRowCtrls().filter(i);
        this.comp.setRowCtrls(a, e);
      } else
        this.comp.setRowCtrls(this.EMPTY_CTRLS, !1);
    }, t.prototype.getRowCtrls = function() {
      switch (this.name) {
        case $.TOP_CENTER:
        case $.TOP_LEFT:
        case $.TOP_RIGHT:
        case $.TOP_FULL_WIDTH:
          return this.rowRenderer.getTopRowCtrls();
        case $.STICKY_TOP_CENTER:
        case $.STICKY_TOP_LEFT:
        case $.STICKY_TOP_RIGHT:
        case $.STICKY_TOP_FULL_WIDTH:
          return this.rowRenderer.getStickyTopRowCtrls();
        case $.BOTTOM_CENTER:
        case $.BOTTOM_LEFT:
        case $.BOTTOM_RIGHT:
        case $.BOTTOM_FULL_WIDTH:
          return this.rowRenderer.getBottomRowCtrls();
        default:
          return this.rowRenderer.getRowCtrls();
      }
    }, go([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), go([
      w("dragService")
    ], t.prototype, "dragService", void 0), go([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), go([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), go([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), go([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), go([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), go([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), CN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Xn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, SN = (
  /* html */
  `<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="` + $.TOP_LEFT + `"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="` + $.TOP_CENTER + `"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="` + $.TOP_RIGHT + `"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="` + $.TOP_FULL_WIDTH + `"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">
                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                    <ag-row-container ref="leftContainer" name="` + $.LEFT + `"></ag-row-container>
                    <ag-row-container ref="centerContainer" name="` + $.CENTER + `"></ag-row-container>
                    <ag-row-container ref="rightContainer" name="` + $.RIGHT + `"></ag-row-container>
                    <ag-row-container ref="fullWidthContainer" name="` + $.FULL_WIDTH + `"></ag-row-container>
                </div>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="` + $.STICKY_TOP_LEFT + `"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="` + $.STICKY_TOP_CENTER + `"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="` + $.STICKY_TOP_RIGHT + `"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="` + $.STICKY_TOP_FULL_WIDTH + `"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="` + $.BOTTOM_LEFT + `"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="` + $.BOTTOM_CENTER + `"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="` + $.BOTTOM_RIGHT + `"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="` + $.BOTTOM_FULL_WIDTH + `"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`
), wN = (
  /** @class */
  function(o) {
    CN(t, o);
    function t() {
      return o.call(this, SN) || this;
    }
    return t.prototype.init = function() {
      var e = this, r = function(i, a) {
        var s = i + "px";
        a.style.minHeight = s, a.style.height = s;
      }, n = {
        setRowAnimationCssOnBodyViewport: function(i, a) {
          return e.setRowAnimationCssOnBodyViewport(i, a);
        },
        setColumnCount: function(i) {
          return Yb(e.getGui(), i);
        },
        setRowCount: function(i) {
          return Kb(e.getGui(), i);
        },
        setTopHeight: function(i) {
          return r(i, e.eTop);
        },
        setBottomHeight: function(i) {
          return r(i, e.eBottom);
        },
        setTopDisplay: function(i) {
          return e.eTop.style.display = i;
        },
        setBottomDisplay: function(i) {
          return e.eBottom.style.display = i;
        },
        setStickyTopHeight: function(i) {
          return e.eStickyTop.style.height = i;
        },
        setStickyTopTop: function(i) {
          return e.eStickyTop.style.top = i;
        },
        setStickyTopWidth: function(i) {
          return e.eStickyTop.style.width = i;
        },
        setColumnMovingCss: function(i, a) {
          return e.addOrRemoveCssClass(i, a);
        },
        updateLayoutClasses: function(i, a) {
          var s = [
            e.eBodyViewport.classList,
            e.eBodyClipper.classList,
            e.eBody.classList
          ];
          s.forEach(function(l) {
            l.toggle(At.AUTO_HEIGHT, a.autoHeight), l.toggle(At.NORMAL, a.normal), l.toggle(At.PRINT, a.print);
          }), e.addOrRemoveCssClass(At.AUTO_HEIGHT, a.autoHeight), e.addOrRemoveCssClass(At.NORMAL, a.normal), e.addOrRemoveCssClass(At.PRINT, a.print);
        },
        setAlwaysVerticalScrollClass: function(i, a) {
          return e.eBodyViewport.classList.toggle(GE, a);
        },
        registerBodyViewportResizeListener: function(i) {
          var a = e.resizeObserverService.observeResize(e.eBodyViewport, i);
          e.addDestroyFunc(function() {
            return a();
          });
        },
        setPinnedTopBottomOverflowY: function(i) {
          return e.eTop.style.overflowY = e.eBottom.style.overflowY = i;
        },
        setCellSelectableCss: function(i, a) {
          [e.eTop, e.eBodyViewport, e.eBottom].forEach(function(s) {
            return s.classList.toggle(i, a);
          });
        },
        setBodyViewportWidth: function(i) {
          return e.eBodyViewport.style.width = i;
        }
      };
      this.ctrl = this.createManagedBean(new CL()), this.ctrl.setComp(n, this.getGui(), this.eBodyViewport, this.eTop, this.eBottom, this.eStickyTop), (this.rangeService || this.gridOptionsService.get("rowSelection") === "multiple") && zb(this.getGui(), !0);
    }, t.prototype.setRowAnimationCssOnBodyViewport = function(e, r) {
      var n = this.eBodyViewport.classList;
      n.toggle(Kl.ANIMATION_ON, r), n.toggle(Kl.ANIMATION_OFF, !r);
    }, t.prototype.getFloatingTopBottom = function() {
      return [this.eTop, this.eBottom];
    }, Xn([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Xn([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Xn([
      G("eBodyViewport")
    ], t.prototype, "eBodyViewport", void 0), Xn([
      G("eStickyTop")
    ], t.prototype, "eStickyTop", void 0), Xn([
      G("eTop")
    ], t.prototype, "eTop", void 0), Xn([
      G("eBottom")
    ], t.prototype, "eBottom", void 0), Xn([
      G("gridHeader")
    ], t.prototype, "headerRootComp", void 0), Xn([
      G("eBodyClipper")
    ], t.prototype, "eBodyClipper", void 0), Xn([
      G("eBody")
    ], t.prototype, "eBody", void 0), Xn([
      V
    ], t.prototype, "init", null), t;
  }(te)
), _N = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), yv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, bN = (
  /** @class */
  function(o) {
    _N(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onDisplayedColumnsWidthChanged.bind(this));
    }, t.prototype.onDisplayedColumnsChanged = function() {
      this.update();
    }, t.prototype.onDisplayedColumnsWidthChanged = function() {
      this.update();
    }, t.prototype.update = function() {
      this.updateImpl(), setTimeout(this.updateImpl.bind(this), 500);
    }, t.prototype.updateImpl = function() {
      var e = this.ctrlsService.getCenterRowContainerCtrl();
      if (e) {
        var r = {
          horizontalScrollShowing: e.isHorizontalScrollShowing(),
          verticalScrollShowing: this.isVerticalScrollShowing()
        };
        this.setScrollsVisible(r);
      }
    }, t.prototype.setScrollsVisible = function(e) {
      var r = this.horizontalScrollShowing !== e.horizontalScrollShowing || this.verticalScrollShowing !== e.verticalScrollShowing;
      if (r) {
        this.horizontalScrollShowing = e.horizontalScrollShowing, this.verticalScrollShowing = e.verticalScrollShowing;
        var n = {
          type: R.EVENT_SCROLL_VISIBILITY_CHANGED
        };
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.isHorizontalScrollShowing = function() {
      return this.horizontalScrollShowing;
    }, t.prototype.isVerticalScrollShowing = function() {
      return this.verticalScrollShowing;
    }, yv([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), yv([
      V
    ], t.prototype, "postConstruct", null), t = yv([
      q("scrollVisibleService")
    ], t), t;
  }(W)
), EN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), aS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ON = (
  /** @class */
  function(o) {
    EN(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.gridInstanceId = e.gridInstanceSequence.next(), r;
    }
    e = t, t.prototype.stampTopLevelGridCompWithGridInstance = function(r) {
      r[e.GRID_DOM_KEY] = this.gridInstanceId;
    }, t.prototype.getRenderedCellForEvent = function(r) {
      return rh(this.gridOptionsService, r.target, Ko.DOM_DATA_KEY_CELL_CTRL);
    }, t.prototype.isEventFromThisGrid = function(r) {
      var n = this.isElementInThisGrid(r.target);
      return n;
    }, t.prototype.isElementInThisGrid = function(r) {
      for (var n = r; n; ) {
        var i = n[e.GRID_DOM_KEY];
        if (z(i)) {
          var a = i === this.gridInstanceId;
          return a;
        }
        n = n.parentElement;
      }
      return !1;
    }, t.prototype.getCellPositionForEvent = function(r) {
      var n = this.getRenderedCellForEvent(r);
      return n ? n.getCellPosition() : null;
    }, t.prototype.getNormalisedPosition = function(r) {
      var n = this.gridOptionsService.isDomLayout("normal"), i = r, a, s;
      if (i.clientX != null || i.clientY != null ? (a = i.clientX, s = i.clientY) : (a = i.x, s = i.y), n) {
        var l = this.ctrlsService.getGridBodyCtrl(), u = l.getScrollFeature().getVScrollPosition(), c = l.getScrollFeature().getHScrollPosition();
        a += c.left, s += u.top;
      }
      return { x: a, y: s };
    };
    var e;
    return t.gridInstanceSequence = new ar(), t.GRID_DOM_KEY = "__ag_grid_instance", aS([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t = e = aS([
      q("mouseEventService")
    ], t), t;
  }(W)
), xN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hh = function() {
  return hh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, hh.apply(this, arguments);
}, Rr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, TN = (
  /** @class */
  function(o) {
    xN(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.onPageDown = Qg(e.onPageDown, 100), e.onPageUp = Qg(e.onPageUp, 100), e;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        e.gridBodyCon = r.gridBodyCtrl;
      });
    }, t.prototype.handlePageScrollingKey = function(e, r) {
      r === void 0 && (r = !1);
      var n = e.key, i = e.altKey, a = e.ctrlKey || e.metaKey, s = !!this.rangeService && e.shiftKey, l = this.mouseEventService.getCellPositionForEvent(e), u = !1;
      switch (n) {
        case H.PAGE_HOME:
        case H.PAGE_END:
          !a && !i && (this.onHomeOrEndKey(n), u = !0);
          break;
        case H.LEFT:
        case H.RIGHT:
        case H.UP:
        case H.DOWN:
          if (!l)
            return !1;
          a && !i && !s && (this.onCtrlUpDownLeftRight(n, l), u = !0);
          break;
        case H.PAGE_DOWN:
        case H.PAGE_UP:
          !a && !i && (u = this.handlePageUpDown(n, l, r));
          break;
      }
      return u && e.preventDefault(), u;
    }, t.prototype.handlePageUpDown = function(e, r, n) {
      return n && (r = this.focusService.getFocusedCell()), r ? (e === H.PAGE_UP ? this.onPageUp(r) : this.onPageDown(r), !0) : !1;
    }, t.prototype.navigateTo = function(e) {
      var r = e.scrollIndex, n = e.scrollType, i = e.scrollColumn, a = e.focusIndex, s = e.focusColumn;
      if (z(i) && !i.isPinned() && this.gridBodyCon.getScrollFeature().ensureColumnVisible(i), z(r) && this.gridBodyCon.getScrollFeature().ensureIndexVisible(r, n), e.isAsync || this.gridBodyCon.getScrollFeature().ensureIndexVisible(a), this.focusService.setFocusedCell({ rowIndex: a, column: s, rowPinned: null, forceBrowserFocus: !0 }), this.rangeService) {
        var l = { rowIndex: a, rowPinned: null, column: s };
        this.rangeService.setRangeToCell(l);
      }
    }, t.prototype.onPageDown = function(e) {
      var r = this.ctrlsService.getGridBodyCtrl(), n = r.getScrollFeature().getVScrollPosition(), i = this.getViewportHeight(), a = this.paginationProxy.getPixelOffset(), s = n.top + i, l = this.paginationProxy.getRowIndexAtPixel(s + a);
      this.columnModel.isAutoRowHeightActive() ? this.navigateToNextPageWithAutoHeight(e, l) : this.navigateToNextPage(e, l);
    }, t.prototype.onPageUp = function(e) {
      var r = this.ctrlsService.getGridBodyCtrl(), n = r.getScrollFeature().getVScrollPosition(), i = this.paginationProxy.getPixelOffset(), a = n.top, s = this.paginationProxy.getRowIndexAtPixel(a + i);
      this.columnModel.isAutoRowHeightActive() ? this.navigateToNextPageWithAutoHeight(e, s, !0) : this.navigateToNextPage(e, s, !0);
    }, t.prototype.navigateToNextPage = function(e, r, n) {
      n === void 0 && (n = !1);
      var i = this.getViewportHeight(), a = this.paginationProxy.getPageFirstRow(), s = this.paginationProxy.getPageLastRow(), l = this.paginationProxy.getPixelOffset(), u = this.paginationProxy.getRow(e.rowIndex), c = n ? (u == null ? void 0 : u.rowHeight) - i - l : i - l, d = (u == null ? void 0 : u.rowTop) + c, p = this.paginationProxy.getRowIndexAtPixel(d + l);
      if (p === e.rowIndex) {
        var h = n ? -1 : 1;
        r = p = e.rowIndex + h;
      }
      var f;
      n ? (f = "bottom", p < a && (p = a), r < a && (r = a)) : (f = "top", p > s && (p = s), r > s && (r = s)), this.isRowTallerThanView(p) && (r = p, f = "top"), this.navigateTo({
        scrollIndex: r,
        scrollType: f,
        scrollColumn: null,
        focusIndex: p,
        focusColumn: e.column
      });
    }, t.prototype.navigateToNextPageWithAutoHeight = function(e, r, n) {
      var i = this;
      n === void 0 && (n = !1), this.navigateTo({
        scrollIndex: r,
        scrollType: n ? "bottom" : "top",
        scrollColumn: null,
        focusIndex: r,
        focusColumn: e.column
      }), setTimeout(function() {
        var a = i.getNextFocusIndexForAutoHeight(e, n);
        i.navigateTo({
          scrollIndex: r,
          scrollType: n ? "bottom" : "top",
          scrollColumn: null,
          focusIndex: a,
          focusColumn: e.column,
          isAsync: !0
        });
      }, 50);
    }, t.prototype.getNextFocusIndexForAutoHeight = function(e, r) {
      var n;
      r === void 0 && (r = !1);
      for (var i = r ? -1 : 1, a = this.getViewportHeight(), s = this.paginationProxy.getPageLastRow(), l = 0, u = e.rowIndex; u >= 0 && u <= s; ) {
        var c = this.paginationProxy.getRow(u);
        if (c) {
          var d = (n = c.rowHeight) !== null && n !== void 0 ? n : 0;
          if (l + d > a)
            break;
          l += d;
        }
        u += i;
      }
      return Math.max(0, Math.min(u, s));
    }, t.prototype.getViewportHeight = function() {
      var e = this.ctrlsService.getGridBodyCtrl(), r = e.getScrollFeature().getVScrollPosition(), n = this.gridOptionsService.getScrollbarWidth(), i = r.bottom - r.top;
      return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing() && (i -= n), i;
    }, t.prototype.isRowTallerThanView = function(e) {
      var r = this.paginationProxy.getRow(e);
      if (!r)
        return !1;
      var n = r.rowHeight;
      return typeof n != "number" ? !1 : n > this.getViewportHeight();
    }, t.prototype.onCtrlUpDownLeftRight = function(e, r) {
      var n = this.cellNavigationService.getNextCellToFocus(e, r, !0), i = n.rowIndex, a = n.column;
      this.navigateTo({
        scrollIndex: i,
        scrollType: null,
        scrollColumn: a,
        focusIndex: i,
        focusColumn: a
      });
    }, t.prototype.onHomeOrEndKey = function(e) {
      var r = e === H.PAGE_HOME, n = this.columnModel.getAllDisplayedColumns(), i = r ? n[0] : et(n), a = r ? this.paginationProxy.getPageFirstRow() : this.paginationProxy.getPageLastRow();
      this.navigateTo({
        scrollIndex: a,
        scrollType: null,
        scrollColumn: i,
        focusIndex: a,
        focusColumn: i
      });
    }, t.prototype.onTabKeyDown = function(e, r) {
      var n = r.shiftKey, i = this.tabToNextCellCommon(e, n, r);
      if (i) {
        r.preventDefault();
        return;
      }
      if (n) {
        var a = e.getRowPosition(), s = a.rowIndex, l = a.rowPinned, u = l ? s === 0 : s === this.paginationProxy.getPageFirstRow();
        u && (this.gridOptionsService.getNum("headerHeight") === 0 ? this.focusService.focusNextGridCoreContainer(!0, !0) : (r.preventDefault(), this.focusService.focusLastHeader(r)));
      } else
        e instanceof Ko && e.focusCell(!0), this.focusService.focusNextGridCoreContainer(n) && r.preventDefault();
    }, t.prototype.tabToNextCell = function(e, r) {
      var n = this.focusService.getFocusedCell();
      if (!n)
        return !1;
      var i = this.getCellByPosition(n);
      return !i && (i = this.rowRenderer.getRowByPosition(n), !i || !i.isFullWidth()) ? !1 : this.tabToNextCellCommon(i, e, r);
    }, t.prototype.tabToNextCellCommon = function(e, r, n) {
      var i = e.isEditing();
      if (!i && e instanceof Ko) {
        var a = e, s = a.getRowCtrl();
        s && (i = s.isEditing());
      }
      var l;
      return i ? this.gridOptionsService.get("editType") === "fullRow" ? l = this.moveToNextEditingRow(e, r, n) : l = this.moveToNextEditingCell(e, r, n) : l = this.moveToNextCellNotEditing(e, r), l || !!this.focusService.getFocusedHeader();
    }, t.prototype.moveToNextEditingCell = function(e, r, n) {
      n === void 0 && (n = null);
      var i = e.getCellPosition();
      e.getGui().focus(), e.stopEditing();
      var a = this.findNextCellToFocusOn(i, r, !0);
      return a == null ? !1 : (a.startEditing(null, !0, n), a.focusCell(!1), !0);
    }, t.prototype.moveToNextEditingRow = function(e, r, n) {
      n === void 0 && (n = null);
      var i = e.getCellPosition(), a = this.findNextCellToFocusOn(i, r, !0);
      if (a == null)
        return !1;
      var s = a.getCellPosition(), l = this.isCellEditable(i), u = this.isCellEditable(s), c = s && i.rowIndex === s.rowIndex && i.rowPinned === s.rowPinned;
      if (l && e.setFocusOutOnEditor(), !c) {
        var d = e.getRowCtrl();
        d.stopEditing();
        var p = a.getRowCtrl();
        p.startRowEditing(void 0, void 0, n);
      }
      return u ? (a.setFocusInOnEditor(), a.focusCell()) : a.focusCell(!0), !0;
    }, t.prototype.moveToNextCellNotEditing = function(e, r) {
      var n = this.columnModel.getAllDisplayedColumns(), i;
      e instanceof Ja ? i = hh(hh({}, e.getRowPosition()), { column: r ? n[0] : et(n) }) : i = e.getCellPosition();
      var a = this.findNextCellToFocusOn(i, r, !1);
      if (a instanceof Ko)
        a.focusCell(!0);
      else if (a)
        return this.tryToFocusFullWidthRow(a.getRowPosition(), r);
      return z(a);
    }, t.prototype.findNextCellToFocusOn = function(e, r, n) {
      for (var i = e; ; ) {
        e !== i && (e = i), r || (i = this.getLastCellOfColSpan(i)), i = this.cellNavigationService.getNextTabbedCell(i, r);
        var a = this.gridOptionsService.getCallback("tabToNextCell");
        if (z(a)) {
          var s = {
            backwards: r,
            editing: n,
            previousCellPosition: e,
            nextCellPosition: i || null
          }, l = a(s);
          z(l) ? (l.floating && (ze(function() {
            console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?");
          }, "no floating in userCell"), l.rowPinned = l.floating), i = {
            rowIndex: l.rowIndex,
            column: l.column,
            rowPinned: l.rowPinned
          }) : i = null;
        }
        if (!i)
          return null;
        if (i.rowIndex < 0) {
          var u = this.headerNavigationService.getHeaderRowCount();
          return this.focusService.focusHeaderPosition({
            headerPosition: {
              headerRowIndex: u + i.rowIndex,
              column: i.column
            }
          }), null;
        }
        var c = this.gridOptionsService.get("editType") === "fullRow";
        if (n && !c) {
          var d = this.isCellEditable(i);
          if (!d)
            continue;
        }
        this.ensureCellVisible(i);
        var p = this.getCellByPosition(i);
        if (!p) {
          var h = this.rowRenderer.getRowByPosition(i);
          if (!h || !h.isFullWidth() || n)
            continue;
          return h;
        }
        if (!p.isSuppressNavigable())
          return this.rangeService && this.rangeService.setRangeToCell(i), p;
      }
    }, t.prototype.isCellEditable = function(e) {
      var r = this.lookupRowNodeForCell(e);
      return r ? e.column.isCellEditable(r) : !1;
    }, t.prototype.getCellByPosition = function(e) {
      var r = this.rowRenderer.getRowByPosition(e);
      return r ? r.getCellCtrl(e.column) : null;
    }, t.prototype.lookupRowNodeForCell = function(e) {
      return e.rowPinned === "top" ? this.pinnedRowModel.getPinnedTopRow(e.rowIndex) : e.rowPinned === "bottom" ? this.pinnedRowModel.getPinnedBottomRow(e.rowIndex) : this.paginationProxy.getRow(e.rowIndex);
    }, t.prototype.navigateToNextCell = function(e, r, n, i) {
      for (var a = n, s = !1; a && (a === n || !this.isValidNavigateCell(a)); )
        this.gridOptionsService.is("enableRtl") ? r === H.LEFT && (a = this.getLastCellOfColSpan(a)) : r === H.RIGHT && (a = this.getLastCellOfColSpan(a)), a = this.cellNavigationService.getNextCellToFocus(r, a), s = me(a);
      if (s && e && e.key === H.UP && (a = {
        rowIndex: -1,
        rowPinned: null,
        column: n.column
      }), i) {
        var l = this.gridOptionsService.getCallback("navigateToNextCell");
        if (z(l)) {
          var u = {
            key: r,
            previousCellPosition: n,
            nextCellPosition: a || null,
            event: e
          }, c = l(u);
          z(c) ? (c.floating && (ze(function() {
            console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?");
          }, "no floating in userCell"), c.rowPinned = c.floating), a = {
            rowPinned: c.rowPinned,
            rowIndex: c.rowIndex,
            column: c.column
          }) : a = null;
        }
      }
      if (a) {
        if (a.rowIndex < 0) {
          var d = this.headerNavigationService.getHeaderRowCount();
          this.focusService.focusHeaderPosition({
            headerPosition: { headerRowIndex: d + a.rowIndex, column: n.column },
            event: e || void 0
          });
          return;
        }
        var p = this.getNormalisedPosition(a);
        p ? this.focusPosition(p) : this.tryToFocusFullWidthRow(a);
      }
    }, t.prototype.getNormalisedPosition = function(e) {
      this.ensureCellVisible(e);
      var r = this.getCellByPosition(e);
      return r ? (e = r.getCellPosition(), this.ensureCellVisible(e), e) : null;
    }, t.prototype.tryToFocusFullWidthRow = function(e, r) {
      r === void 0 && (r = !1);
      var n = this.columnModel.getAllDisplayedColumns(), i = this.rowRenderer.getRowByPosition(e);
      if (!i || !i.isFullWidth())
        return !1;
      var a = this.focusService.getFocusedCell(), s = {
        rowIndex: e.rowIndex,
        rowPinned: e.rowPinned,
        column: e.column || (r ? et(n) : n[0])
      };
      this.focusPosition(s);
      var l = a != null ? this.rowPositionUtils.before(s, a) : !1, u = {
        type: R.EVENT_FULL_WIDTH_ROW_FOCUSED,
        rowIndex: s.rowIndex,
        rowPinned: s.rowPinned,
        column: s.column,
        isFullWidthCell: !0,
        floating: s.rowPinned,
        fromBelow: l
      };
      return this.eventService.dispatchEvent(u), !0;
    }, t.prototype.focusPosition = function(e) {
      this.focusService.setFocusedCell({
        rowIndex: e.rowIndex,
        column: e.column,
        rowPinned: e.rowPinned,
        forceBrowserFocus: !0
      }), this.rangeService && this.rangeService.setRangeToCell(e);
    }, t.prototype.isValidNavigateCell = function(e) {
      var r = this.rowPositionUtils.getRowNode(e);
      return !!r;
    }, t.prototype.getLastCellOfColSpan = function(e) {
      var r = this.getCellByPosition(e);
      if (!r)
        return e;
      var n = r.getColSpanningList();
      return n.length === 1 ? e : {
        rowIndex: e.rowIndex,
        column: et(n),
        rowPinned: e.rowPinned
      };
    }, t.prototype.ensureCellVisible = function(e) {
      var r = this.gridOptionsService.isGroupRowsSticky(), n = this.rowModel.getRow(e.rowIndex), i = r && (n == null ? void 0 : n.sticky);
      !i && me(e.rowPinned) && this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex), e.column.isPinned() || this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column);
    }, Rr([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), Rr([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), Rr([
      w("focusService")
    ], t.prototype, "focusService", void 0), Rr([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Rr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Rr([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Rr([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Rr([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Rr([
      w("headerNavigationService")
    ], t.prototype, "headerNavigationService", void 0), Rr([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), Rr([
      w("cellNavigationService")
    ], t.prototype, "cellNavigationService", void 0), Rr([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), Rr([
      V
    ], t.prototype, "postConstruct", null), t = Rr([
      q("navigationService")
    ], t), t;
  }(W)
), RN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), DN = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, PN = (
  /** @class */
  function(o) {
    RN(t, o);
    function t(e) {
      var r = o.call(
        this,
        /* html */
        '<div class="ag-popup-editor" tabindex="-1"/>'
      ) || this;
      return r.params = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.setDomData(this.getGui(), t.DOM_KEY_POPUP_EDITOR_WRAPPER, !0), this.addKeyDownListener();
    }, t.prototype.addKeyDownListener = function() {
      var e = this, r = this.getGui(), n = this.params, i = function(a) {
        oh(e.gridOptionsService, a, n.node, n.column, !0) || n.onKeyDown(a);
      };
      this.addManagedListener(r, "keydown", i);
    }, t.DOM_KEY_POPUP_EDITOR_WRAPPER = "popupEditorWrapper", DN([
      V
    ], t.prototype, "postConstruct", null), t;
  }(ps)
), AN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), MN = (
  /** @class */
  function(o) {
    AN(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      s.rendererVersion = 0, s.editorVersion = 0, s.beans = e, s.column = r.getColumn(), s.rowNode = r.getRowNode(), s.rowCtrl = r.getRowCtrl(), s.eRow = i, s.setTemplate(
        /* html */
        '<div comp-id="' + s.getCompId() + '"/>'
      );
      var l = s.getGui();
      s.forceWrapper = r.isForceWrapper(), s.refreshWrapper(!1);
      var u = function(d, p, h) {
        var f = h || l;
        p != null && p != "" ? f.setAttribute(d, p) : f.removeAttribute(d);
      }, c = {
        addOrRemoveCssClass: function(d, p) {
          return s.addOrRemoveCssClass(d, p);
        },
        setUserStyles: function(d) {
          return Rm(l, d);
        },
        getFocusableElement: function() {
          return s.getFocusableElement();
        },
        setTabIndex: function(d) {
          return u("tabindex", d.toString());
        },
        setRole: function(d) {
          return Ut(l, d);
        },
        setColId: function(d) {
          return u("col-id", d);
        },
        setTitle: function(d) {
          return u("title", d);
        },
        setIncludeSelection: function(d) {
          return s.includeSelection = d;
        },
        setIncludeRowDrag: function(d) {
          return s.includeRowDrag = d;
        },
        setIncludeDndSource: function(d) {
          return s.includeDndSource = d;
        },
        setRenderDetails: function(d, p, h) {
          return s.setRenderDetails(d, p, h);
        },
        setEditDetails: function(d, p, h) {
          return s.setEditDetails(d, p, h);
        },
        getCellEditor: function() {
          return s.cellEditor || null;
        },
        getCellRenderer: function() {
          return s.cellRenderer || null;
        },
        getParentOfValue: function() {
          return s.getParentOfValue();
        }
      };
      return s.cellCtrl = r, r.setComp(c, s.getGui(), s.eCellWrapper, n, a), s;
    }
    return t.prototype.getParentOfValue = function() {
      return this.eCellValue ? this.eCellValue : this.eCellWrapper ? this.eCellWrapper : this.getGui();
    }, t.prototype.setRenderDetails = function(e, r, n) {
      var i = this.cellEditor && !this.cellEditorPopupWrapper;
      if (!i) {
        this.firstRender = this.firstRender == null;
        var a = this.refreshWrapper(!1);
        if (this.refreshEditStyles(!1), e) {
          var s = n || a, l = s ? !1 : this.refreshCellRenderer(e);
          l || (this.destroyRenderer(), this.createCellRendererInstance(e));
        } else
          this.destroyRenderer(), this.insertValueWithoutCellRenderer(r);
      }
    }, t.prototype.setEditDetails = function(e, r, n) {
      e ? this.createCellEditorInstance(e, r, n) : this.destroyEditor();
    }, t.prototype.removeControls = function() {
      this.checkboxSelectionComp = this.beans.context.destroyBean(this.checkboxSelectionComp), this.dndSourceComp = this.beans.context.destroyBean(this.dndSourceComp), this.rowDraggingComp = this.beans.context.destroyBean(this.rowDraggingComp);
    }, t.prototype.refreshWrapper = function(e) {
      var r = this.includeRowDrag || this.includeDndSource || this.includeSelection, n = r || this.forceWrapper, i = n && this.eCellWrapper == null;
      i && (this.eCellWrapper = nr(
        /* html */
        '<div class="ag-cell-wrapper" role="presentation"></div>'
      ), this.getGui().appendChild(this.eCellWrapper));
      var a = !n && this.eCellWrapper != null;
      a && (eo(this.eCellWrapper), this.eCellWrapper = void 0), this.addOrRemoveCssClass("ag-cell-value", !n);
      var s = !e && n, l = s && this.eCellValue == null;
      l && (this.eCellValue = nr(
        /* html */
        '<span class="ag-cell-value" role="presentation"></span>'
      ), this.eCellWrapper.appendChild(this.eCellValue));
      var u = !s && this.eCellValue != null;
      u && (eo(this.eCellValue), this.eCellValue = void 0);
      var c = i || a || l || u;
      return c && this.removeControls(), e || r && this.addControls(), c;
    }, t.prototype.addControls = function() {
      this.includeRowDrag && this.rowDraggingComp == null && (this.rowDraggingComp = this.cellCtrl.createRowDragComp(), this.rowDraggingComp && this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(), this.eCellValue)), this.includeDndSource && this.dndSourceComp == null && (this.dndSourceComp = this.cellCtrl.createDndSource(), this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(), this.eCellValue)), this.includeSelection && this.checkboxSelectionComp == null && (this.checkboxSelectionComp = this.cellCtrl.createSelectionCheckbox(), this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(), this.eCellValue));
    }, t.prototype.createCellEditorInstance = function(e, r, n) {
      var i = this, a = this.editorVersion, s = e.newAgStackInstance();
      if (s) {
        var l = e.params;
        s.then(function(c) {
          return i.afterCellEditorCreated(a, c, l, r, n);
        });
        var u = me(this.cellEditor);
        u && l.cellStartedEdit && this.cellCtrl.focusCell(!0);
      }
    }, t.prototype.insertValueWithoutCellRenderer = function(e) {
      var r = this.getParentOfValue();
      Qr(r);
      var n = e != null ? Oi(e) : null;
      n != null && (r.innerHTML = n);
    }, t.prototype.destroyEditorAndRenderer = function() {
      this.destroyRenderer(), this.destroyEditor();
    }, t.prototype.destroyRenderer = function() {
      var e = this.beans.context;
      this.cellRenderer = e.destroyBean(this.cellRenderer), eo(this.cellRendererGui), this.cellRendererGui = null, this.rendererVersion++;
    }, t.prototype.destroyEditor = function() {
      var e = this.beans.context;
      this.hideEditorPopup && this.hideEditorPopup(), this.hideEditorPopup = void 0, this.cellEditor = e.destroyBean(this.cellEditor), this.cellEditorPopupWrapper = e.destroyBean(this.cellEditorPopupWrapper), eo(this.cellEditorGui), this.cellEditorGui = null, this.editorVersion++;
    }, t.prototype.refreshCellRenderer = function(e) {
      if (this.cellRenderer == null || this.cellRenderer.refresh == null || this.cellRendererClass !== e.componentClass)
        return !1;
      var r = this.cellRenderer.refresh(e.params);
      return r === !0 || r === void 0;
    }, t.prototype.createCellRendererInstance = function(e) {
      var r = this, n = this.beans.gridOptionsService.is("suppressAnimationFrame"), i = !n, a = this.rendererVersion, s = e.componentClass, l = function() {
        var u = r.rendererVersion !== a || !r.isAlive();
        if (!u) {
          var c = e.newAgStackInstance(), d = r.afterCellRendererCreated.bind(r, a, s);
          c && c.then(d);
        }
      };
      i && this.firstRender ? this.beans.animationFrameService.createTask(l, this.rowNode.rowIndex, "createTasksP2") : l();
    }, t.prototype.getCtrl = function() {
      return this.cellCtrl;
    }, t.prototype.getRowCtrl = function() {
      return this.rowCtrl;
    }, t.prototype.getCellRenderer = function() {
      return this.cellRenderer;
    }, t.prototype.getCellEditor = function() {
      return this.cellEditor;
    }, t.prototype.afterCellRendererCreated = function(e, r, n) {
      var i = !this.isAlive() || e !== this.rendererVersion;
      if (i) {
        this.beans.context.destroyBean(n);
        return;
      }
      if (this.cellRenderer = n, this.cellRendererClass = r, this.cellRendererGui = this.cellRenderer.getGui(), this.cellRendererGui != null) {
        var a = this.getParentOfValue();
        Qr(a), a.appendChild(this.cellRendererGui);
      }
    }, t.prototype.afterCellEditorCreated = function(e, r, n, i, a) {
      var s = e !== this.editorVersion;
      if (s) {
        this.beans.context.destroyBean(r);
        return;
      }
      var l = r.isCancelBeforeStart && r.isCancelBeforeStart();
      if (l) {
        this.beans.context.destroyBean(r), this.cellCtrl.stopEditing(!0);
        return;
      }
      if (!r.getGui) {
        console.warn("AG Grid: cellEditor for column " + this.column.getId() + " is missing getGui() method"), this.beans.context.destroyBean(r);
        return;
      }
      this.cellEditor = r, this.cellEditorGui = r.getGui();
      var u = i || r.isPopup !== void 0 && r.isPopup();
      u ? this.addPopupCellEditor(n, a) : this.addInCellEditor(), this.refreshEditStyles(!0, u), r.afterGuiAttached && r.afterGuiAttached();
    }, t.prototype.refreshEditStyles = function(e, r) {
      var n;
      this.addOrRemoveCssClass("ag-cell-inline-editing", e && !r), this.addOrRemoveCssClass("ag-cell-popup-editing", e && !!r), this.addOrRemoveCssClass("ag-cell-not-inline-editing", !e || !!r), (n = this.rowCtrl) === null || n === void 0 || n.setInlineEditingCss(e);
    }, t.prototype.addInCellEditor = function() {
      var e = this.getGui(), r = this.beans.gridOptionsService.getDocument();
      if (e.contains(r.activeElement) && e.focus(), this.destroyRenderer(), this.refreshWrapper(!0), this.clearParentOfValue(), this.cellEditorGui) {
        var n = this.getParentOfValue();
        n.appendChild(this.cellEditorGui);
      }
    }, t.prototype.addPopupCellEditor = function(e, r) {
      var n = this;
      this.beans.gridOptionsService.get("editType") === "fullRow" && console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");
      var i = this.cellEditor;
      this.cellEditorPopupWrapper = this.beans.context.createBean(new PN(e));
      var a = this.cellEditorPopupWrapper.getGui();
      this.cellEditorGui && a.appendChild(this.cellEditorGui);
      var s = this.beans.popupService, l = this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"), u = r != null ? r : i.getPopupPosition ? i.getPopupPosition() : "over", c = this.beans.gridOptionsService.is("enableRtl"), d = {
        ePopup: a,
        column: this.column,
        rowNode: this.rowNode,
        type: "popupCellEditor",
        eventSource: this.getGui(),
        position: u,
        alignSide: c ? "right" : "left",
        keepWithinBounds: !0
      }, p = s.positionPopupByComponent.bind(s, d), h = this.beans.localeService.getLocaleTextFunc(), f = s.addPopup({
        modal: l,
        eChild: a,
        closeOnEsc: !0,
        closedCallback: function() {
          n.cellCtrl.onPopupEditorClosed();
        },
        anchorToElement: this.getGui(),
        positionCallback: p,
        ariaLabel: h("ariaLabelCellEditor", "Cell Editor")
      });
      f && (this.hideEditorPopup = f.hideFunc);
    }, t.prototype.detach = function() {
      this.eRow.removeChild(this.getGui());
    }, t.prototype.destroy = function() {
      this.cellCtrl.stopEditing(), this.destroyEditorAndRenderer(), this.removeControls(), o.prototype.destroy.call(this);
    }, t.prototype.clearParentOfValue = function() {
      var e = this.getGui(), r = this.beans.gridOptionsService.getDocument();
      e.contains(r.activeElement) && gf() && e.focus({ preventScroll: !0 }), Qr(this.getParentOfValue());
    }, t;
  }(te)
), IN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), FN = (
  /** @class */
  function(o) {
    IN(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      i.cellComps = {}, i.beans = r, i.rowCtrl = e, i.setTemplate(
        /* html */
        '<div comp-id="' + i.getCompId() + '" style="' + i.getInitialStyle(n) + '"/>'
      );
      var a = i.getGui(), s = a.style, l = {
        setDomOrder: function(u) {
          return i.domOrder = u;
        },
        setCellCtrls: function(u) {
          return i.setCellCtrls(u);
        },
        showFullWidth: function(u) {
          return i.showFullWidth(u);
        },
        getFullWidthCellRenderer: function() {
          return i.getFullWidthCellRenderer();
        },
        addOrRemoveCssClass: function(u, c) {
          return i.addOrRemoveCssClass(u, c);
        },
        setUserStyles: function(u) {
          return Rm(a, u);
        },
        setTop: function(u) {
          return s.top = u;
        },
        setTransform: function(u) {
          return s.transform = u;
        },
        setRowIndex: function(u) {
          return a.setAttribute("row-index", u);
        },
        setRole: function(u) {
          return Ut(a, u);
        },
        setRowId: function(u) {
          return a.setAttribute("row-id", u);
        },
        setRowBusinessKey: function(u) {
          return a.setAttribute("row-business-key", u);
        },
        setTabIndex: function(u) {
          return a.setAttribute("tabindex", u.toString());
        }
      };
      return e.setComp(l, i.getGui(), n), i.addDestroyFunc(function() {
        e.unsetComp(n);
      }), i;
    }
    return t.prototype.getInitialStyle = function(e) {
      var r = this.rowCtrl.getInitialTransform(e), n = this.rowCtrl.getInitialRowTop(e);
      return r ? "transform: " + r : "top: " + n;
    }, t.prototype.showFullWidth = function(e) {
      var r = this, n = function(a) {
        if (r.isAlive()) {
          var s = a.getGui();
          r.getGui().appendChild(s), r.rowCtrl.setupDetailRowAutoHeight(s), r.setFullWidthRowComp(a);
        } else
          r.beans.context.destroyBean(a);
      }, i = e.newAgStackInstance();
      i && i.then(n);
    }, t.prototype.setCellCtrls = function(e) {
      var r = this, n = Object.assign({}, this.cellComps);
      e.forEach(function(a) {
        var s = a.getInstanceId(), l = r.cellComps[s];
        l == null ? r.newCellComp(a) : n[s] = null;
      });
      var i = Ei(n).filter(function(a) {
        return a != null;
      });
      this.destroyCells(i), this.ensureDomOrder(e);
    }, t.prototype.ensureDomOrder = function(e) {
      var r = this;
      if (this.domOrder) {
        var n = [];
        e.forEach(function(i) {
          var a = r.cellComps[i.getInstanceId()];
          a && n.push(a.getGui());
        }), Tm(this.getGui(), n);
      }
    }, t.prototype.newCellComp = function(e) {
      var r = new MN(this.beans, e, this.rowCtrl.isPrintLayout(), this.getGui(), this.rowCtrl.isEditing());
      this.cellComps[e.getInstanceId()] = r, this.getGui().appendChild(r.getGui());
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.destroyAllCells();
    }, t.prototype.destroyAllCells = function() {
      var e = Ei(this.cellComps).filter(function(r) {
        return r != null;
      });
      this.destroyCells(e);
    }, t.prototype.setFullWidthRowComp = function(e) {
      var r = this;
      this.fullWidthCellRenderer && console.error("AG Grid - should not be setting fullWidthRowComponent twice"), this.fullWidthCellRenderer = e, this.addDestroyFunc(function() {
        r.fullWidthCellRenderer = r.beans.context.destroyBean(r.fullWidthCellRenderer);
      });
    }, t.prototype.getFullWidthCellRenderer = function() {
      return this.fullWidthCellRenderer;
    }, t.prototype.destroyCells = function(e) {
      var r = this;
      e.forEach(function(n) {
        if (n) {
          var i = n.getCtrl().getInstanceId();
          r.cellComps[i] === n && (n.detach(), n.destroy(), r.cellComps[i] = null);
        }
      });
    }, t;
  }(te)
), LN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), py = function() {
  return py = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, py.apply(this, arguments);
}, _s = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
function NN() {
  var o = te.elementGettingCreated.getAttribute("name"), t = BE.getRowContainerCssClasses(o), e, r = o === $.CENTER, n = o === $.TOP_CENTER || o === $.STICKY_TOP_CENTER || o === $.BOTTOM_CENTER;
  return r ? e = /* html */
  '<div class="' + t.wrapper + `" ref="eWrapper" role="presentation">
                <div class="` + t.viewport + `" ref="eViewport" role="presentation">
                    <div class="` + t.container + `" ref="eContainer"></div>
                </div>
            </div>` : n ? e = /* html */
  '<div class="' + t.viewport + `" ref="eViewport" role="presentation">
                <div class="` + t.container + `" ref="eContainer"></div>
            </div>` : e = /* html */
  '<div class="' + t.container + '" ref="eContainer"></div>', e;
}
var GN = (
  /** @class */
  function(o) {
    LN(t, o);
    function t() {
      var e = o.call(this, NN()) || this;
      return e.rowComps = {}, e.name = te.elementGettingCreated.getAttribute("name"), e.type = vN(e.name), e;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = {
        setViewportHeight: function(i) {
          return e.eViewport.style.height = i;
        },
        setRowCtrls: function(i) {
          return e.setRowCtrls(i);
        },
        setDomOrder: function(i) {
          e.domOrder = i;
        },
        setContainerWidth: function(i) {
          return e.eContainer.style.width = i;
        }
      }, n = this.createManagedBean(new BE(this.name));
      n.setComp(r, this.eContainer, this.eViewport, this.eWrapper);
    }, t.prototype.preDestroy = function() {
      this.setRowCtrls([]);
    }, t.prototype.setRowCtrls = function(e) {
      var r = this, n = py({}, this.rowComps);
      this.rowComps = {}, this.lastPlacedElement = null;
      var i = function(a) {
        var s = a.getInstanceId(), l = n[s];
        if (l)
          r.rowComps[s] = l, delete n[s], r.ensureDomOrder(l.getGui());
        else {
          if (!a.getRowNode().displayed)
            return;
          var u = new FN(a, r.beans, r.type);
          r.rowComps[s] = u, r.appendRow(u.getGui());
        }
      };
      e.forEach(i), Ei(n).forEach(function(a) {
        r.eContainer.removeChild(a.getGui()), a.destroy();
      }), Ut(this.eContainer, e.length ? "rowgroup" : "presentation");
    }, t.prototype.appendRow = function(e) {
      this.domOrder ? sE(this.eContainer, e, this.lastPlacedElement) : this.eContainer.appendChild(e), this.lastPlacedElement = e;
    }, t.prototype.ensureDomOrder = function(e) {
      this.domOrder && (xm(this.eContainer, e, this.lastPlacedElement), this.lastPlacedElement = e);
    }, _s([
      w("beans")
    ], t.prototype, "beans", void 0), _s([
      G("eViewport")
    ], t.prototype, "eViewport", void 0), _s([
      G("eContainer")
    ], t.prototype, "eContainer", void 0), _s([
      G("eWrapper")
    ], t.prototype, "eWrapper", void 0), _s([
      V
    ], t.prototype, "postConstruct", null), _s([
      rt
    ], t.prototype, "preDestroy", null), t;
  }(te)
), sS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kN = (
  /** @class */
  function() {
    function o(t) {
      this.columnsToAggregate = [], this.columnsToGroup = [], this.columnsToPivot = [], this.pinned = t;
    }
    return o.prototype.onDragEnter = function(t) {
      var e = this;
      if (this.clearColumnsList(), !this.gridOptionsService.is("functionsReadOnly")) {
        var r = t.dragItem.columns;
        r && r.forEach(function(n) {
          n.isPrimary() && (n.isAnyFunctionActive() || (n.isAllowValue() ? e.columnsToAggregate.push(n) : n.isAllowRowGroup() ? e.columnsToGroup.push(n) : n.isAllowPivot() && e.columnsToPivot.push(n)));
        });
      }
    }, o.prototype.getIconName = function() {
      var t = this.columnsToAggregate.length + this.columnsToGroup.length + this.columnsToPivot.length;
      return t > 0 ? this.pinned ? Ze.ICON_PINNED : Ze.ICON_MOVE : null;
    }, o.prototype.onDragLeave = function(t) {
      this.clearColumnsList();
    }, o.prototype.clearColumnsList = function() {
      this.columnsToAggregate.length = 0, this.columnsToGroup.length = 0, this.columnsToPivot.length = 0;
    }, o.prototype.onDragging = function(t) {
    }, o.prototype.onDragStop = function(t) {
      this.columnsToAggregate.length > 0 && this.columnModel.addValueColumns(this.columnsToAggregate, "toolPanelDragAndDrop"), this.columnsToGroup.length > 0 && this.columnModel.addRowGroupColumns(this.columnsToGroup, "toolPanelDragAndDrop"), this.columnsToPivot.length > 0 && this.columnModel.addPivotColumns(this.columnsToPivot, "toolPanelDragAndDrop");
    }, sS([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), sS([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), o;
  }()
), bu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, VN = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, BN = (
  /** @class */
  function() {
    function o(t, e) {
      this.needToMoveLeft = !1, this.needToMoveRight = !1, this.lastMovedInfo = null, this.pinned = t, this.eContainer = e, this.centerContainer = !z(t);
    }
    return o.prototype.init = function() {
      var t = this;
      this.ctrlsService.whenReady(function() {
        t.gridBodyCon = t.ctrlsService.getGridBodyCtrl();
      });
    }, o.prototype.getIconName = function() {
      return this.pinned ? Ze.ICON_PINNED : Ze.ICON_MOVE;
    }, o.prototype.onDragEnter = function(t) {
      var e = t.dragItem.columns, r = t.dragSource.type === gt.ToolPanel;
      if (r)
        this.setColumnsVisible(e, !0, "uiColumnDragged");
      else {
        var n = t.dragItem.visibleState, i = (e || []).filter(function(a) {
          return n[a.getId()];
        });
        this.setColumnsVisible(i, !0, "uiColumnDragged");
      }
      this.setColumnsPinned(e, this.pinned, "uiColumnDragged"), this.onDragging(t, !0, !0);
    }, o.prototype.onDragLeave = function() {
      this.ensureIntervalCleared(), this.lastMovedInfo = null;
    }, o.prototype.setColumnsVisible = function(t, e, r) {
      if (r === void 0 && (r = "api"), t) {
        var n = t.filter(function(i) {
          return !i.getColDef().lockVisible;
        });
        this.columnModel.setColumnsVisible(n, e, r);
      }
    }, o.prototype.setColumnsPinned = function(t, e, r) {
      if (r === void 0 && (r = "api"), t) {
        var n = t.filter(function(i) {
          return !i.getColDef().lockPinned;
        });
        this.columnModel.setColumnsPinned(n, e, r);
      }
    }, o.prototype.onDragStop = function() {
      this.onDragging(this.lastDraggingEvent, !1, !0, !0), this.ensureIntervalCleared(), this.lastMovedInfo = null;
    }, o.prototype.normaliseX = function(t) {
      if (this.gridOptionsService.is("enableRtl")) {
        var e = this.eContainer.clientWidth;
        t = e - t;
      }
      return this.centerContainer && (t += this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()), t;
    }, o.prototype.checkCenterForScrolling = function(t) {
      if (this.centerContainer) {
        var e = this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(), r = e + this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();
        this.gridOptionsService.is("enableRtl") ? (this.needToMoveRight = t < e + 50, this.needToMoveLeft = t > r - 50) : (this.needToMoveLeft = t < e + 50, this.needToMoveRight = t > r - 50), this.needToMoveLeft || this.needToMoveRight ? this.ensureIntervalStarted() : this.ensureIntervalCleared();
      }
    }, o.prototype.onDragging = function(t, e, r, n) {
      var i = this, a;
      if (t === void 0 && (t = this.lastDraggingEvent), e === void 0 && (e = !1), r === void 0 && (r = !1), n === void 0 && (n = !1), n) {
        if (this.lastMovedInfo) {
          var s = this.lastMovedInfo, l = s.columns, u = s.toIndex;
          this.moveColumns(l, u, "uiColumnMoved", !0);
        }
        return;
      }
      if (this.lastDraggingEvent = t, !me(t.hDirection)) {
        var c = this.normaliseX(t.x);
        e || this.checkCenterForScrolling(c);
        var d = this.normaliseDirection(t.hDirection), p = t.dragSource.type, h = ((a = t.dragSource.getDragItem().columns) === null || a === void 0 ? void 0 : a.filter(function(f) {
          return f.getColDef().lockPinned ? f.getPinned() == i.pinned : !0;
        })) || [];
        this.attemptMoveColumns({ dragSourceType: p, allMovingColumns: h, hDirection: d, mouseX: c, fromEnter: e, fakeEvent: r });
      }
    }, o.prototype.normaliseDirection = function(t) {
      if (this.gridOptionsService.is("enableRtl"))
        switch (t) {
          case hi.Left:
            return hi.Right;
          case hi.Right:
            return hi.Left;
          default:
            console.error("AG Grid: Unknown direction " + t);
        }
      else
        return t;
    }, o.prototype.attemptMoveColumns = function(t) {
      var e = t.dragSourceType, r = t.hDirection, n = t.mouseX, i = t.fromEnter, a = t.fakeEvent, s = r === hi.Left, l = r === hi.Right, u = t.allMovingColumns;
      if (e === gt.HeaderCell) {
        var c = [];
        u.forEach(function(E) {
          for (var D = null, x = E.getParent(); x != null && x.getDisplayedLeafColumns().length === 1; )
            D = x, x = x.getParent();
          if (D != null) {
            var P = D.getProvidedColumnGroup();
            P.getLeafColumns().forEach(function(M) {
              c.includes(M) || c.push(M);
            });
          } else
            c.includes(E) || c.push(E);
        }), u = c;
      }
      var d = u.slice();
      this.columnModel.sortColumnsLikeGridColumns(d);
      var p = this.calculateValidMoves(d, l, n), h = this.calculateOldIndex(d);
      if (p.length !== 0) {
        var f = p[0], v = h !== null && !i;
        if (e == gt.HeaderCell && (v = h !== null), !(v && !a && (s && f >= h || l && f <= h))) {
          for (var g = this.columnModel.getAllDisplayedColumns(), y = [], m = null, C = 0; C < p.length; C++) {
            var S = p[C], b = this.columnModel.getProposedColumnOrder(d, S);
            if (this.columnModel.doesOrderPassRules(b)) {
              var _ = b.filter(function(E) {
                return g.includes(E);
              });
              if (m === null)
                m = _;
              else if (!T.areEqual(_, m))
                break;
              var O = this.groupFragCount(b);
              y.push({ move: S, fragCount: O });
            }
          }
          y.length !== 0 && (y.sort(function(E, D) {
            return E.fragCount - D.fragCount;
          }), this.moveColumns(u, y[0].move, "uiColumnMoved", !1));
        }
      }
    }, o.prototype.calculateOldIndex = function(t) {
      var e = this.columnModel.getAllGridColumns(), r = xb(t.map(function(l) {
        return e.indexOf(l);
      })), n = r[0], i = et(r), a = i - n, s = a !== r.length - 1;
      return s ? null : n;
    }, o.prototype.moveColumns = function(t, e, r, n) {
      this.columnModel.moveColumns(t, e, r, n), this.lastMovedInfo = n ? null : { columns: t, toIndex: e };
    }, o.prototype.groupFragCount = function(t) {
      function e(a) {
        for (var s = [], l = a.getOriginalParent(); l != null; )
          s.push(l), l = l.getOriginalParent();
        return s;
      }
      for (var r = 0, n = function(a) {
        var s, l = e(t[a]), u = e(t[a + 1]);
        s = VN(l.length > u.length ? [l, u] : [u, l], 2), l = s[0], u = s[1], l.forEach(function(c) {
          u.indexOf(c) === -1 && r++;
        });
      }, i = 0; i < t.length - 1; i++)
        n(i);
      return r;
    }, o.prototype.calculateValidMoves = function(t, e, r) {
      var n = this.gridOptionsService.is("suppressMovableColumns") || t.some(function(O) {
        return O.getColDef().suppressMovable;
      });
      if (n)
        return [];
      var i = this.columnModel.getDisplayedColumns(this.pinned), a = this.columnModel.getAllGridColumns(), s = i.filter(function(O) {
        return Sn(t, O);
      }), l = i.filter(function(O) {
        return !Sn(t, O);
      }), u = a.filter(function(O) {
        return !Sn(t, O);
      }), c = 0, d = r;
      if (e) {
        var p = 0;
        s.forEach(function(O) {
          return p += O.getActualWidth();
        }), d -= p;
      }
      if (d > 0) {
        for (var h = 0; h < l.length; h++) {
          var f = l[h];
          if (d -= f.getActualWidth(), d < 0)
            break;
          c++;
        }
        e && c++;
      }
      var v;
      if (c > 0) {
        var g = l[c - 1];
        v = u.indexOf(g) + 1;
      } else
        v = u.indexOf(l[0]), v === -1 && (v = 0);
      var y = [v], m = function(O, E) {
        return O - E;
      };
      if (e) {
        for (var C = v + 1, S = a.length - 1; C <= S; )
          y.push(C), C++;
        y.sort(m);
      } else {
        for (var C = v, S = a.length - 1, b = a[C]; C <= S && this.isColumnHidden(i, b); )
          C++, y.push(C), b = a[C];
        C = v - 1;
        for (var _ = 0; C >= _; )
          y.push(C), C--;
        y.sort(m).reverse();
      }
      return y;
    }, o.prototype.isColumnHidden = function(t, e) {
      return t.indexOf(e) < 0;
    }, o.prototype.ensureIntervalStarted = function() {
      this.movingIntervalId || (this.intervalCount = 0, this.failedMoveAttempts = 0, this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100), this.needToMoveLeft ? this.dragAndDropService.setGhostIcon(Ze.ICON_LEFT, !0) : this.dragAndDropService.setGhostIcon(Ze.ICON_RIGHT, !0));
    }, o.prototype.ensureIntervalCleared = function() {
      this.movingIntervalId && (window.clearInterval(this.movingIntervalId), this.movingIntervalId = null, this.dragAndDropService.setGhostIcon(Ze.ICON_MOVE));
    }, o.prototype.moveInterval = function() {
      var t;
      this.intervalCount++, t = 10 + this.intervalCount * 5, t > 100 && (t = 100);
      var e = null, r = this.gridBodyCon.getScrollFeature();
      if (this.needToMoveLeft ? e = r.scrollHorizontally(-t) : this.needToMoveRight && (e = r.scrollHorizontally(t)), e !== 0)
        this.onDragging(this.lastDraggingEvent), this.failedMoveAttempts = 0;
      else {
        this.failedMoveAttempts++;
        var n = this.lastDraggingEvent.dragItem.columns, i = n.filter(function(s) {
          return !s.getColDef().lockPinned;
        });
        if (i.length > 0 && (this.dragAndDropService.setGhostIcon(Ze.ICON_PINNED), this.failedMoveAttempts > 7)) {
          var a = this.needToMoveLeft ? "left" : "right";
          this.setColumnsPinned(i, a, "uiColumnDragged"), this.dragAndDropService.nudge();
        }
      }
    }, bu([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), bu([
      w("dragAndDropService")
    ], o.prototype, "dragAndDropService", void 0), bu([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), bu([
      w("ctrlsService")
    ], o.prototype, "ctrlsService", void 0), bu([
      V
    ], o.prototype, "init", null), o;
  }()
), HN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Eu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, jN = (
  /** @class */
  function(o) {
    HN(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.pinned = e, n.eContainer = r, n;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        switch (e.pinned) {
          case "left":
            e.eSecondaryContainers = [
              [r.gridBodyCtrl.getBodyViewportElement(), r.leftRowContainerCtrl.getContainerElement()],
              [r.bottomLeftRowContainerCtrl.getContainerElement()],
              [r.topLeftRowContainerCtrl.getContainerElement()]
            ];
            break;
          case "right":
            e.eSecondaryContainers = [
              [r.gridBodyCtrl.getBodyViewportElement(), r.rightRowContainerCtrl.getContainerElement()],
              [r.bottomRightRowContainerCtrl.getContainerElement()],
              [r.topRightRowContainerCtrl.getContainerElement()]
            ];
            break;
          default:
            e.eSecondaryContainers = [
              [r.gridBodyCtrl.getBodyViewportElement(), r.centerRowContainerCtrl.getViewportElement()],
              [r.bottomCenterRowContainerCtrl.getViewportElement()],
              [r.topCenterRowContainerCtrl.getViewportElement()]
            ];
            break;
        }
      });
    }, t.prototype.isInterestedIn = function(e) {
      return e === gt.HeaderCell || e === gt.ToolPanel && this.gridOptionsService.is("allowDragFromColumnsToolPanel");
    }, t.prototype.getSecondaryContainers = function() {
      return this.eSecondaryContainers;
    }, t.prototype.getContainer = function() {
      return this.eContainer;
    }, t.prototype.init = function() {
      this.moveColumnFeature = this.createManagedBean(new BN(this.pinned, this.eContainer)), this.bodyDropPivotTarget = this.createManagedBean(new kN(this.pinned)), this.dragAndDropService.addDropTarget(this);
    }, t.prototype.getIconName = function() {
      return this.currentDropListener.getIconName();
    }, t.prototype.isDropColumnInPivotMode = function(e) {
      return this.columnModel.isPivotMode() && e.dragSource.type === gt.ToolPanel;
    }, t.prototype.onDragEnter = function(e) {
      this.currentDropListener = this.isDropColumnInPivotMode(e) ? this.bodyDropPivotTarget : this.moveColumnFeature, this.currentDropListener.onDragEnter(e);
    }, t.prototype.onDragLeave = function(e) {
      this.currentDropListener.onDragLeave(e);
    }, t.prototype.onDragging = function(e) {
      this.currentDropListener.onDragging(e);
    }, t.prototype.onDragStop = function(e) {
      this.currentDropListener.onDragStop(e);
    }, Eu([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Eu([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Eu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Eu([
      V
    ], t.prototype, "postConstruct", null), Eu([
      V
    ], t.prototype, "init", null), t;
  }(W)
), WN = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, $N = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, ud = (
  /** @class */
  function() {
    function o() {
    }
    return o.getHeaderClassesFromColDef = function(t, e, r, n) {
      return me(t) ? [] : this.getColumnClassesFromCollDef(t.headerClass, t, e, r, n);
    }, o.getToolPanelClassesFromColDef = function(t, e, r, n) {
      return me(t) ? [] : this.getColumnClassesFromCollDef(t.toolPanelClass, t, e, r, n);
    }, o.getClassParams = function(t, e, r, n) {
      return {
        // bad naming, as colDef here can be a group or a column,
        // however most people won't appreciate the difference,
        // so keeping it as colDef to avoid confusion.
        colDef: t,
        column: r,
        columnGroup: n,
        api: e.api,
        columnApi: e.columnApi,
        context: e.context
      };
    }, o.getColumnClassesFromCollDef = function(t, e, r, n, i) {
      if (me(t))
        return [];
      var a;
      if (typeof t == "function") {
        var s = this.getClassParams(e, r, n, i);
        a = t(s);
      } else
        a = t;
      return typeof a == "string" ? [a] : Array.isArray(a) ? $N([], WN(a)) : [];
    }, o;
  }()
), UN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Md = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, zN = (
  /** @class */
  function(o) {
    UN(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE, e) || this;
      return r.headerCompVersion = 0, r.column = e.getColumnGroupChild(), r.pinned = e.getPinned(), r;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.getGui(), n = function(s, l, u) {
        var c = u || r;
        l != null && l != "" ? c.setAttribute(s, l) : c.removeAttribute(s);
      }, i = {
        setWidth: function(s) {
          return r.style.width = s;
        },
        addOrRemoveCssClass: function(s, l) {
          return e.addOrRemoveCssClass(s, l);
        },
        setColId: function(s) {
          return n("col-id", s);
        },
        setTitle: function(s) {
          return n("title", s);
        },
        setAriaDescription: function(s) {
          return Hb(r, s);
        },
        setAriaSort: function(s) {
          return s ? qb(r, s) : Zb(r);
        },
        setUserCompDetails: function(s) {
          return e.setUserCompDetails(s);
        },
        getUserCompInstance: function() {
          return e.headerComp;
        }
      };
      this.ctrl.setComp(i, this.getGui(), this.eResize, this.eHeaderCompWrapper);
      var a = this.ctrl.getSelectAllGui();
      this.eResize.insertAdjacentElement("afterend", a);
    }, t.prototype.destroyHeaderComp = function() {
      this.headerComp && (this.eHeaderCompWrapper.removeChild(this.headerCompGui), this.headerComp = this.destroyBean(this.headerComp), this.headerCompGui = void 0);
    }, t.prototype.setUserCompDetails = function(e) {
      var r = this;
      this.headerCompVersion++;
      var n = this.headerCompVersion;
      e.newAgStackInstance().then(function(i) {
        return r.afterCompCreated(n, i);
      });
    }, t.prototype.afterCompCreated = function(e, r) {
      if (e != this.headerCompVersion || !this.isAlive()) {
        this.destroyBean(r);
        return;
      }
      this.destroyHeaderComp(), this.headerComp = r, this.headerCompGui = r.getGui(), this.eHeaderCompWrapper.appendChild(this.headerCompGui), this.ctrl.setDragSource(this.getGui());
    }, t.TEMPLATE = `<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`, Md([
      G("eResize")
    ], t.prototype, "eResize", void 0), Md([
      G("eHeaderCompWrapper")
    ], t.prototype, "eHeaderCompWrapper", void 0), Md([
      V
    ], t.prototype, "postConstruct", null), Md([
      rt
    ], t.prototype, "destroyHeaderComp", null), t;
  }(Bm)
), KN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YN = (
  /** @class */
  function(o) {
    KN(t, o);
    function t(e) {
      return o.call(this, t.TEMPLATE, e) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.getGui(), n = function(a, s) {
        return s != null ? r.setAttribute(a, s) : r.removeAttribute(a);
      }, i = {
        addOrRemoveCssClass: function(a, s) {
          return e.addOrRemoveCssClass(a, s);
        },
        setResizableDisplayed: function(a) {
          return Be(e.eResize, a);
        },
        setWidth: function(a) {
          return r.style.width = a;
        },
        setColId: function(a) {
          return r.setAttribute("col-id", a);
        },
        setAriaExpanded: function(a) {
          return n("aria-expanded", a);
        },
        setTitle: function(a) {
          return n("title", a);
        },
        setUserCompDetails: function(a) {
          return e.setUserCompDetails(a);
        }
      };
      this.ctrl.setComp(i, r, this.eResize);
    }, t.prototype.setUserCompDetails = function(e) {
      var r = this;
      e.newAgStackInstance().then(function(n) {
        return r.afterHeaderCompCreated(n);
      });
    }, t.prototype.afterHeaderCompCreated = function(e) {
      var r = this, n = function() {
        return r.destroyBean(e);
      };
      if (!this.isAlive()) {
        n();
        return;
      }
      var i = this.getGui(), a = e.getGui();
      i.appendChild(a), this.addDestroyFunc(n), this.ctrl.setDragSource(i);
    }, t.TEMPLATE = `<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`, mv([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), mv([
      G("eResize")
    ], t.prototype, "eResize", void 0), mv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(Bm)
), XN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), lS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ir;
(function(o) {
  o.COLUMN_GROUP = "group", o.COLUMN = "column", o.FLOATING_FILTER = "filter";
})(ir || (ir = {}));
var qN = (
  /** @class */
  function(o) {
    XN(t, o);
    function t(e) {
      var r = o.call(this) || this;
      r.headerComps = {};
      var n = e.getType() == ir.COLUMN_GROUP ? "ag-header-row-column-group" : e.getType() == ir.FLOATING_FILTER ? "ag-header-row-column-filter" : "ag-header-row-column";
      return r.setTemplate(
        /* html */
        '<div class="ag-header-row ' + n + '" role="row"></div>'
      ), r.ctrl = e, r;
    }
    return t.prototype.init = function() {
      var e = this, r = {
        setTransform: function(n) {
          return e.getGui().style.transform = n;
        },
        setHeight: function(n) {
          return e.getGui().style.height = n;
        },
        setTop: function(n) {
          return e.getGui().style.top = n;
        },
        setHeaderCtrls: function(n) {
          return e.setHeaderCtrls(n);
        },
        setWidth: function(n) {
          return e.getGui().style.width = n;
        },
        setAriaRowIndex: function(n) {
          return gm(e.getGui(), n);
        }
      };
      this.ctrl.setComp(r);
    }, t.prototype.destroyHeaderCtrls = function() {
      this.setHeaderCtrls([]);
    }, t.prototype.setHeaderCtrls = function(e) {
      var r = this;
      if (this.isAlive()) {
        var n = this.headerComps;
        this.headerComps = {}, e.forEach(function(u) {
          var c = u.getInstanceId(), d = n[c];
          delete n[c], d == null && (d = r.createHeaderComp(u), r.getGui().appendChild(d.getGui())), r.headerComps[c] = d;
        }), ut(n, function(u, c) {
          r.getGui().removeChild(c.getGui()), r.destroyBean(c);
        });
        var i = this.gridOptionsService.is("ensureDomOrder"), a = this.gridOptionsService.isDomLayout("print");
        if (i || a) {
          var s = Ei(this.headerComps);
          s.sort(function(u, c) {
            var d = u.getCtrl().getColumnGroupChild().getLeft(), p = c.getCtrl().getColumnGroupChild().getLeft();
            return d - p;
          });
          var l = s.map(function(u) {
            return u.getGui();
          });
          Tm(this.getGui(), l);
        }
      }
    }, t.prototype.createHeaderComp = function(e) {
      var r;
      switch (this.ctrl.getType()) {
        case ir.COLUMN_GROUP:
          r = new YN(e);
          break;
        case ir.FLOATING_FILTER:
          r = new sL(e);
          break;
        default:
          r = new zN(e);
          break;
      }
      return this.createBean(r), r.setParentComponent(this), r;
    }, lS([
      V
    ], t.prototype, "init", null), lS([
      rt
    ], t.prototype, "destroyHeaderCtrls", null), t;
  }(te)
), ZN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Cv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, QN = 0, Ef = (
  /** @class */
  function(o) {
    ZN(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.lastFocusEvent = null, n.columnGroupChild = e, n.parentRowCtrl = r, n.instanceId = e.getUniqueId() + "-" + QN++, n;
    }
    return t.prototype.shouldStopEventPropagation = function(e) {
      var r = this.focusService.getFocusedHeader(), n = r.headerRowIndex, i = r.column;
      return hE(this.gridOptionsService, e, n, i);
    }, t.prototype.getWrapperHasFocus = function() {
      var e = this.gridOptionsService.getDocument(), r = e.activeElement;
      return r === this.eGui;
    }, t.prototype.setGui = function(e) {
      this.eGui = e, this.addDomData();
    }, t.prototype.handleKeyDown = function(e) {
      var r = this.getWrapperHasFocus();
      switch (e.key) {
        case H.PAGE_DOWN:
        case H.PAGE_UP:
        case H.PAGE_HOME:
        case H.PAGE_END:
          r && e.preventDefault();
      }
    }, t.prototype.addDomData = function() {
      var e = this, r = t.DOM_DATA_KEY_HEADER_CTRL;
      this.gridOptionsService.setDomData(this.eGui, r, this), this.addDestroyFunc(function() {
        return e.gridOptionsService.setDomData(e.eGui, r, null);
      });
    }, t.prototype.getGui = function() {
      return this.eGui;
    }, t.prototype.focus = function(e) {
      return this.eGui ? (this.lastFocusEvent = e || null, this.eGui.focus(), !0) : !1;
    }, t.prototype.getRowIndex = function() {
      return this.parentRowCtrl.getRowIndex();
    }, t.prototype.getParentRowCtrl = function() {
      return this.parentRowCtrl;
    }, t.prototype.getPinned = function() {
      return this.parentRowCtrl.getPinned();
    }, t.prototype.getInstanceId = function() {
      return this.instanceId;
    }, t.prototype.getColumnGroupChild = function() {
      return this.columnGroupChild;
    }, t.DOM_DATA_KEY_HEADER_CTRL = "headerCtrl", Cv([
      w("focusService")
    ], t.prototype, "focusService", void 0), Cv([
      w("beans")
    ], t.prototype, "beans", void 0), Cv([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), t;
  }(W)
), JN = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), eG = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $m = (
  /** @class */
  function(o) {
    JN(t, o);
    function t(e, r, n, i) {
      var a = o.call(this) || this;
      return a.columnOrGroup = e, a.eCell = r, a.ariaEl = a.eCell.querySelector("[role=columnheader]") || a.eCell, a.colsSpanning = i, a.beans = n, a;
    }
    return t.prototype.setColsSpanning = function(e) {
      this.colsSpanning = e, this.onLeftChanged();
    }, t.prototype.getColumnOrGroup = function() {
      return this.beans.gridOptionsService.is("enableRtl") && this.colsSpanning ? et(this.colsSpanning) : this.columnOrGroup;
    }, t.prototype.postConstruct = function() {
      this.addManagedListener(this.columnOrGroup, Me.EVENT_LEFT_CHANGED, this.onLeftChanged.bind(this)), this.setLeftFirstTime(), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onLeftChanged.bind(this)), this.addManagedPropertyListener("domLayout", this.onLeftChanged.bind(this));
    }, t.prototype.setLeftFirstTime = function() {
      var e = this.beans.gridOptionsService.is("suppressColumnMoveAnimation"), r = z(this.columnOrGroup.getOldLeft()), n = this.beans.columnAnimationService.isActive() && r && !e;
      n ? this.animateInLeft() : this.onLeftChanged();
    }, t.prototype.animateInLeft = function() {
      var e = this, r = this.getColumnOrGroup(), n = r.getLeft(), i = r.getOldLeft(), a = this.modifyLeftForPrintLayout(r, i), s = this.modifyLeftForPrintLayout(r, n);
      this.setLeft(a), this.actualLeft = s, this.beans.columnAnimationService.executeNextVMTurn(function() {
        e.actualLeft === s && e.setLeft(s);
      });
    }, t.prototype.onLeftChanged = function() {
      var e = this.getColumnOrGroup(), r = e.getLeft();
      this.actualLeft = this.modifyLeftForPrintLayout(e, r), this.setLeft(this.actualLeft);
    }, t.prototype.modifyLeftForPrintLayout = function(e, r) {
      var n = this.beans.gridOptionsService.isDomLayout("print");
      if (!n || e.getPinned() === "left")
        return r;
      var i = this.beans.columnModel.getDisplayedColumnsLeftWidth();
      if (e.getPinned() === "right") {
        var a = this.beans.columnModel.getBodyContainerWidth();
        return i + a + r;
      }
      return i + r;
    }, t.prototype.setLeft = function(e) {
      z(e) && (this.eCell.style.left = e + "px");
      var r;
      if (this.columnOrGroup instanceof Me)
        r = this.columnOrGroup;
      else {
        var n = this.columnOrGroup, i = n.getLeafColumns();
        if (!i.length)
          return;
        i.length > 1 && Xb(this.ariaEl, i.length), r = i[0];
      }
      var a = this.beans.columnModel.getAriaColumnIndex(r);
      ym(this.ariaEl, a);
    }, eG([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), tG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), uS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Um = (
  /** @class */
  function(o) {
    tG(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.columns = e, n.element = r, n;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.is("columnHoverHighlight") && this.addMouseHoverListeners();
    }, t.prototype.addMouseHoverListeners = function() {
      this.addManagedListener(this.element, "mouseout", this.onMouseOut.bind(this)), this.addManagedListener(this.element, "mouseover", this.onMouseOver.bind(this));
    }, t.prototype.onMouseOut = function() {
      this.columnHoverService.clearMouseOver();
    }, t.prototype.onMouseOver = function() {
      this.columnHoverService.setMouseOver(this.columns);
    }, uS([
      w("columnHoverService")
    ], t.prototype, "columnHoverService", void 0), uS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), rG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Sv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nG = (
  /** @class */
  function(o) {
    rG(t, o);
    function t(e, r) {
      var n = o.call(this, e, r) || this;
      return n.iconCreated = !1, n.column = e, n;
    }
    return t.prototype.setComp = function(e, r, n, i) {
      o.prototype.setGui.call(this, r), this.comp = e, this.eButtonShowMainFilter = n, this.eFloatingFilterBody = i, this.setupActive(), this.setupWidth(), this.setupLeft(), this.setupHover(), this.setupFocus(), this.setupAria(), this.setupFilterButton(), this.setupUserComp(), this.setupSyncWithFilter(), this.setupUi(), this.addManagedListener(this.eButtonShowMainFilter, "click", this.showParentFilter.bind(this)), this.setupFilterChangedListener(), this.addManagedListener(this.column, Me.EVENT_COL_DEF_CHANGED, this.onColDefChanged.bind(this));
    }, t.prototype.setupActive = function() {
      var e = this.column.getColDef(), r = !!e.filter, n = !!e.floatingFilter;
      this.active = r && n;
    }, t.prototype.setupUi = function() {
      if (this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton && this.active), this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body", this.suppressFilterButton), this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body", !this.suppressFilterButton), !(!this.active || this.iconCreated)) {
        var e = Et("filter", this.gridOptionsService, this.column);
        e && (this.iconCreated = !0, this.eButtonShowMainFilter.appendChild(e));
      }
    }, t.prototype.setupFocus = function() {
      this.createManagedBean(new Ai(this.eGui, {
        shouldStopEventPropagation: this.shouldStopEventPropagation.bind(this),
        onTabKeyDown: this.onTabKeyDown.bind(this),
        handleKeyDown: this.handleKeyDown.bind(this),
        onFocusIn: this.onFocusIn.bind(this)
      }));
    }, t.prototype.setupAria = function() {
      var e = this.localeService.getLocaleTextFunc();
      ra(this.eButtonShowMainFilter, e("ariaFilterMenuOpen", "Open Filter Menu"));
    }, t.prototype.onTabKeyDown = function(e) {
      var r = this.gridOptionsService.getDocument(), n = r.activeElement, i = n === this.eGui;
      if (!i) {
        var a = this.focusService.findNextFocusableElement(this.eGui, null, e.shiftKey);
        if (a) {
          this.beans.headerNavigationService.scrollToColumn(this.column), e.preventDefault(), a.focus();
          return;
        }
        var s = this.findNextColumnWithFloatingFilter(e.shiftKey);
        s && this.focusService.focusHeaderPosition({
          headerPosition: {
            headerRowIndex: this.getParentRowCtrl().getRowIndex(),
            column: s
          },
          event: e
        }) && e.preventDefault();
      }
    }, t.prototype.findNextColumnWithFloatingFilter = function(e) {
      var r = this.beans.columnModel, n = this.column;
      do
        if (n = e ? r.getDisplayedColBefore(n) : r.getDisplayedColAfter(n), !n)
          break;
      while (!n.getColDef().filter || !n.getColDef().floatingFilter);
      return n;
    }, t.prototype.handleKeyDown = function(e) {
      o.prototype.handleKeyDown.call(this, e);
      var r = this.getWrapperHasFocus();
      switch (e.key) {
        case H.UP:
        case H.DOWN:
          r || e.preventDefault();
        case H.LEFT:
        case H.RIGHT:
          if (r)
            return;
          e.stopPropagation();
        case H.ENTER:
          r && this.focusService.focusInto(this.eGui) && e.preventDefault();
          break;
        case H.ESCAPE:
          r || this.eGui.focus();
      }
    }, t.prototype.onFocusIn = function(e) {
      var r = this.eGui.contains(e.relatedTarget);
      if (!r) {
        var n = !!e.relatedTarget && !e.relatedTarget.classList.contains("ag-floating-filter"), i = !!e.relatedTarget && Za(e.relatedTarget, "ag-floating-filter");
        if (n && i && e.target === this.eGui) {
          var a = this.lastFocusEvent, s = !!(a && a.key === H.TAB);
          if (a && s) {
            var l = a.shiftKey;
            this.focusService.focusInto(this.eGui, l);
          }
        }
        var u = this.getRowIndex();
        this.beans.focusService.setFocusedHeader(u, this.column);
      }
    }, t.prototype.setupHover = function() {
      var e = this;
      this.createManagedBean(new Um([this.column], this.eGui));
      var r = function() {
        if (e.gridOptionsService.is("columnHoverHighlight")) {
          var n = e.columnHoverService.isHovered(e.column);
          e.comp.addOrRemoveCssClass("ag-column-hover", n);
        }
      };
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_HOVER_CHANGED, r), r();
    }, t.prototype.setupLeft = function() {
      var e = new $m(this.column, this.eGui, this.beans);
      this.createManagedBean(e);
    }, t.prototype.setupFilterButton = function() {
      var e = this.column.getColDef();
      this.suppressFilterButton = e.floatingFilterComponentParams ? !!e.floatingFilterComponentParams.suppressFilterButton : !1;
    }, t.prototype.setupUserComp = function() {
      var e = this;
      if (this.active) {
        var r = this.filterManager.getFloatingFilterCompDetails(this.column, function() {
          return e.showParentFilter();
        });
        r && this.setCompDetails(r);
      }
    }, t.prototype.setCompDetails = function(e) {
      this.userCompDetails = e, this.comp.setCompDetails(e);
    }, t.prototype.showParentFilter = function() {
      var e = this.suppressFilterButton ? this.eFloatingFilterBody : this.eButtonShowMainFilter;
      this.menuFactory.showMenuAfterButtonClick(this.column, e, "floatingFilter", "filterMenuTab", ["filterMenuTab"]);
    }, t.prototype.setupSyncWithFilter = function() {
      var e = this;
      if (this.active) {
        var r = function(n) {
          var i = e.comp.getFloatingFilterComp();
          i && i.then(function(a) {
            if (a) {
              var s = e.filterManager.getCurrentFloatingFilterParentModel(e.column);
              a.onParentModelChanged(s, n);
            }
          });
        };
        this.destroySyncListener = this.addManagedListener(this.column, Me.EVENT_FILTER_CHANGED, r), this.filterManager.isFilterActive(this.column) && r(null);
      }
    }, t.prototype.setupWidth = function() {
      var e = this, r = function() {
        var n = e.column.getActualWidth() + "px";
        e.comp.setWidth(n);
      };
      this.addManagedListener(this.column, Me.EVENT_WIDTH_CHANGED, r), r();
    }, t.prototype.setupFilterChangedListener = function() {
      this.active && (this.destroyFilterChangedListener = this.addManagedListener(this.column, Me.EVENT_FILTER_CHANGED, this.updateFilterButton.bind(this)));
    }, t.prototype.updateFilterButton = function() {
      !this.suppressFilterButton && this.comp && this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column));
    }, t.prototype.onColDefChanged = function() {
      var e = this, r, n, i = this.active;
      this.setupActive();
      var a = !i && this.active;
      i && !this.active && ((r = this.destroySyncListener) === null || r === void 0 || r.call(this), (n = this.destroyFilterChangedListener) === null || n === void 0 || n.call(this));
      var s = this.active ? this.filterManager.getFloatingFilterCompDetails(this.column, function() {
        return e.showParentFilter();
      }) : null, l = this.comp.getFloatingFilterComp();
      !l || !s ? this.updateCompDetails(s, a) : l.then(function(u) {
        var c;
        (!u || ((c = e.userCompDetails) === null || c === void 0 ? void 0 : c.componentClass) !== s.componentClass) && e.updateCompDetails(s, a);
      });
    }, t.prototype.updateCompDetails = function(e, r) {
      this.setCompDetails(e), this.setupFilterButton(), this.setupUi(), r && (this.setupSyncWithFilter(), this.setupFilterChangedListener());
    }, Sv([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Sv([
      w("columnHoverService")
    ], t.prototype, "columnHoverService", void 0), Sv([
      w("menuFactory")
    ], t.prototype, "menuFactory", void 0), t;
  }(Ef)
), iG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, oG = (
  /** @class */
  function(o) {
    iG(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      return s.pinned = e, s.column = r, s.eResize = n, s.comp = i, s.ctrl = a, s;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.column.getColDef(), n = [], i, a, s = function() {
        if (Be(e.eResize, i), !!i) {
          var c = e.horizontalResizeService.addResizeBar({
            eResizeBar: e.eResize,
            onResizeStart: e.onResizeStart.bind(e),
            onResizing: e.onResizing.bind(e, !1),
            onResizeEnd: e.onResizing.bind(e, !0)
          });
          if (n.push(c), a) {
            var d = e.gridOptionsService.is("skipHeaderOnAutoSize"), p = function() {
              e.columnModel.autoSizeColumn(e.column, d, "uiColumnResized");
            };
            e.eResize.addEventListener("dblclick", p);
            var h = new sr(e.eResize);
            h.addEventListener(sr.EVENT_DOUBLE_TAP, p), e.addDestroyFunc(function() {
              e.eResize.removeEventListener("dblclick", p), h.removeEventListener(sr.EVENT_DOUBLE_TAP, p), h.destroy();
            });
          }
        }
      }, l = function() {
        n.forEach(function(c) {
          return c();
        }), n.length = 0;
      }, u = function() {
        var c = e.column.isResizable(), d = !e.gridOptionsService.is("suppressAutoSize") && !r.suppressAutoSize, p = c !== i || d !== a;
        p && (i = c, a = d, l(), s());
      };
      u(), this.addDestroyFunc(l), this.ctrl.addRefreshFunction(u);
    }, t.prototype.onResizing = function(e, r) {
      var n = this.normaliseResizeAmount(r), i = [{ key: this.column, newWidth: this.resizeStartWidth + n }];
      this.columnModel.setColumnWidths(i, this.resizeWithShiftKey, e, "uiColumnResized"), e && this.comp.addOrRemoveCssClass("ag-column-resizing", !1);
    }, t.prototype.onResizeStart = function(e) {
      this.resizeStartWidth = this.column.getActualWidth(), this.resizeWithShiftKey = e, this.comp.addOrRemoveCssClass("ag-column-resizing", !0);
    }, t.prototype.normaliseResizeAmount = function(e) {
      var r = e, n = this.pinned !== "left", i = this.pinned === "right";
      return this.gridOptionsService.is("enableRtl") ? n && (r *= -1) : i && (r *= -1), r;
    }, wv([
      w("horizontalResizeService")
    ], t.prototype, "horizontalResizeService", void 0), wv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), wv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), aG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Id = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sG = (
  /** @class */
  function(o) {
    aG(t, o);
    function t(e) {
      var r = o.call(this) || this;
      r.cbSelectAllVisible = !1, r.processingEventFromCheckbox = !1, r.column = e;
      var n = e.getColDef();
      return r.filteredOnly = !!(n != null && n.headerCheckboxSelectionFilteredOnly), r.currentPageOnly = !!(n != null && n.headerCheckboxSelectionCurrentPageOnly), r;
    }
    return t.prototype.onSpaceKeyDown = function(e) {
      var r = this.cbSelectAll, n = this.gridOptionsService.getDocument();
      r.isDisplayed() && !r.getGui().contains(n.activeElement) && (e.preventDefault(), r.setValue(!r.getValue()));
    }, t.prototype.getCheckboxGui = function() {
      return this.cbSelectAll.getGui();
    }, t.prototype.setComp = function(e) {
      this.headerCellCtrl = e, this.cbSelectAll = this.createManagedBean(new On()), this.cbSelectAll.addCssClass("ag-header-select-all"), Ut(this.cbSelectAll.getGui(), "presentation"), this.showOrHideSelectAll(), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.showOrHideSelectAll.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.showOrHideSelectAll.bind(this)), this.addManagedListener(this.eventService, R.EVENT_SELECTION_CHANGED, this.onSelectionChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_PAGINATION_CHANGED, this.onSelectionChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.onModelChanged.bind(this)), this.addManagedListener(this.cbSelectAll, On.EVENT_CHANGED, this.onCbSelectAll.bind(this)), hf(this.cbSelectAll.getGui(), !0), this.cbSelectAll.getInputElement().setAttribute("tabindex", "-1"), this.refreshSelectAllLabel();
    }, t.prototype.showOrHideSelectAll = function() {
      this.cbSelectAllVisible = this.isCheckboxSelection(), this.cbSelectAll.setDisplayed(this.cbSelectAllVisible, { skipAriaHidden: !0 }), this.cbSelectAllVisible && (this.checkRightRowModelType("selectAllCheckbox"), this.updateStateOfCheckbox()), this.refreshSelectAllLabel();
    }, t.prototype.onModelChanged = function() {
      this.cbSelectAllVisible && this.updateStateOfCheckbox();
    }, t.prototype.onSelectionChanged = function() {
      this.cbSelectAllVisible && this.updateStateOfCheckbox();
    }, t.prototype.updateStateOfCheckbox = function() {
      if (!this.processingEventFromCheckbox) {
        this.processingEventFromCheckbox = !0;
        var e = this.selectionService.getSelectAllState(this.filteredOnly, this.currentPageOnly);
        this.cbSelectAll.setValue(e), this.refreshSelectAllLabel(), this.processingEventFromCheckbox = !1;
      }
    }, t.prototype.refreshSelectAllLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = this.cbSelectAll.getValue(), n = r ? e("ariaChecked", "checked") : e("ariaUnchecked", "unchecked"), i = e("ariaRowSelectAll", "Press Space to toggle all rows selection");
      this.cbSelectAllVisible ? this.headerCellCtrl.setAriaDescriptionProperty("selectAll", i + " (" + n + ")") : this.headerCellCtrl.setAriaDescriptionProperty("selectAll", null), this.cbSelectAll.setInputAriaLabel(i + " (" + n + ")"), this.headerCellCtrl.refreshAriaDescription();
    }, t.prototype.checkRightRowModelType = function(e) {
      var r = this.rowModel.getType(), n = r === "clientSide" || r === "serverSide";
      return n ? !0 : (console.warn("AG Grid: " + e + " is only available if using 'clientSide' or 'serverSide' rowModelType, you are using " + r + "."), !1);
    }, t.prototype.onCbSelectAll = function() {
      if (!this.processingEventFromCheckbox && this.cbSelectAllVisible) {
        var e = this.cbSelectAll.getValue(), r = "uiSelectAll";
        this.currentPageOnly ? r = "uiSelectAllCurrentPage" : this.filteredOnly && (r = "uiSelectAllFiltered");
        var n = {
          source: r,
          justFiltered: this.filteredOnly,
          justCurrentPage: this.currentPageOnly
        };
        e ? this.selectionService.selectAllRowNodes(n) : this.selectionService.deselectAllRowNodes(n);
      }
    }, t.prototype.isCheckboxSelection = function() {
      var e = this.column.getColDef().headerCheckboxSelection;
      if (typeof e == "function") {
        var r = e, n = {
          column: this.column,
          colDef: this.column.getColDef(),
          columnApi: this.columnApi,
          api: this.gridApi,
          context: this.gridOptionsService.context
        };
        e = r(n);
      }
      return e ? this.checkRightRowModelType("headerCheckboxSelection") : !1;
    }, Id([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Id([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), Id([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Id([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), t;
  }(W)
), lG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), cS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Nl;
(function(o) {
  o.TAB_GUARD = "ag-tab-guard", o.TAB_GUARD_TOP = "ag-tab-guard-top", o.TAB_GUARD_BOTTOM = "ag-tab-guard-bottom";
})(Nl || (Nl = {}));
var uG = (
  /** @class */
  function(o) {
    lG(t, o);
    function t(e) {
      var r = o.call(this) || this;
      r.skipTabGuardFocus = !1;
      var n = e.comp, i = e.eTopGuard, a = e.eBottomGuard, s = e.focusInnerElement, l = e.onFocusIn, u = e.onFocusOut, c = e.shouldStopEventPropagation, d = e.onTabKeyDown, p = e.handleKeyDown, h = e.eFocusableElement;
      return r.comp = n, r.eTopGuard = i, r.eBottomGuard = a, r.providedFocusInnerElement = s, r.eFocusableElement = h, r.providedFocusIn = l, r.providedFocusOut = u, r.providedShouldStopEventPropagation = c, r.providedOnTabKeyDown = d, r.providedHandleKeyDown = p, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.createManagedBean(new Ai(this.eFocusableElement, {
        shouldStopEventPropagation: function() {
          return e.shouldStopEventPropagation();
        },
        onTabKeyDown: function(r) {
          return e.onTabKeyDown(r);
        },
        handleKeyDown: function(r) {
          return e.handleKeyDown(r);
        },
        onFocusIn: function(r) {
          return e.onFocusIn(r);
        },
        onFocusOut: function(r) {
          return e.onFocusOut(r);
        }
      })), this.activateTabGuards(), [this.eTopGuard, this.eBottomGuard].forEach(function(r) {
        return e.addManagedListener(r, "focus", e.onFocus.bind(e));
      });
    }, t.prototype.handleKeyDown = function(e) {
      this.providedHandleKeyDown && this.providedHandleKeyDown(e);
    }, t.prototype.tabGuardsAreActive = function() {
      return !!this.eTopGuard && this.eTopGuard.hasAttribute("tabIndex");
    }, t.prototype.shouldStopEventPropagation = function() {
      return this.providedShouldStopEventPropagation ? this.providedShouldStopEventPropagation() : !1;
    }, t.prototype.activateTabGuards = function() {
      var e = this.gridOptionsService.getNum("tabIndex") || 0;
      this.comp.setTabIndex(e.toString());
    }, t.prototype.deactivateTabGuards = function() {
      this.comp.setTabIndex();
    }, t.prototype.onFocus = function(e) {
      if (this.skipTabGuardFocus) {
        this.skipTabGuardFocus = !1;
        return;
      }
      var r = e.target === this.eBottomGuard;
      this.providedFocusInnerElement ? this.providedFocusInnerElement(r) : this.focusInnerElement(r);
    }, t.prototype.onFocusIn = function(e) {
      this.providedFocusIn && this.providedFocusIn(e) || this.deactivateTabGuards();
    }, t.prototype.onFocusOut = function(e) {
      this.providedFocusOut && this.providedFocusOut(e) || this.eFocusableElement.contains(e.relatedTarget) || this.activateTabGuards();
    }, t.prototype.onTabKeyDown = function(e) {
      var r = this;
      if (this.providedOnTabKeyDown) {
        this.providedOnTabKeyDown(e);
        return;
      }
      if (!e.defaultPrevented) {
        var n = this.tabGuardsAreActive();
        n && this.deactivateTabGuards();
        var i = this.getNextFocusableElement(e.shiftKey);
        n && setTimeout(function() {
          return r.activateTabGuards();
        }, 0), i && (i.focus(), e.preventDefault());
      }
    }, t.prototype.focusInnerElement = function(e) {
      e === void 0 && (e = !1);
      var r = this.focusService.findFocusableElements(this.eFocusableElement);
      this.tabGuardsAreActive() && (r.splice(0, 1), r.splice(r.length - 1, 1)), r.length && r[e ? r.length - 1 : 0].focus({ preventScroll: !0 });
    }, t.prototype.getNextFocusableElement = function(e) {
      return this.focusService.findNextFocusableElement(this.eFocusableElement, !1, e);
    }, t.prototype.forceFocusOutOfContainer = function(e) {
      e === void 0 && (e = !1);
      var r = e ? this.eTopGuard : this.eBottomGuard;
      this.activateTabGuards(), this.skipTabGuardFocus = !0, r.focus();
    }, cS([
      w("focusService")
    ], t.prototype, "focusService", void 0), cS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), cG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bc = function() {
  return bc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, bc.apply(this, arguments);
}, Pn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, dG = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, pG = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Gl = (
  /** @class */
  function(o) {
    cG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.addKeyboardModeEvents = function(r, n) {
      var i = e.instancesMonitored.get(r);
      i && i.length > 0 ? i.indexOf(n) === -1 && i.push(n) : (e.instancesMonitored.set(r, [n]), r.addEventListener("keydown", e.toggleKeyboardMode), r.addEventListener("mousedown", e.toggleKeyboardMode));
    }, t.removeKeyboardModeEvents = function(r, n) {
      var i = e.instancesMonitored.get(r), a = [];
      i && i.length && (a = pG([], dG(i)).filter(function(s) {
        return s !== n;
      }), e.instancesMonitored.set(r, a)), a.length === 0 && (r.removeEventListener("keydown", e.toggleKeyboardMode), r.removeEventListener("mousedown", e.toggleKeyboardMode));
    }, t.toggleKeyboardMode = function(r) {
      var n = e.keyboardModeActive, i = r.type === "keydown";
      if (!(i && (r.ctrlKey || r.metaKey || r.altKey)) && !(n && i || !n && !i)) {
        e.keyboardModeActive = i;
        var a = r.target.ownerDocument;
        if (a) {
          var s = e.instancesMonitored.get(a);
          s && s.forEach(function(l) {
            l.dispatchEvent({ type: i ? R.EVENT_KEYBOARD_FOCUS : R.EVENT_MOUSE_FOCUS });
          });
        }
      }
    }, t.prototype.init = function() {
      var r = this, n = this.clearFocusedCell.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, n), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onColumnEverythingChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_GROUP_OPENED, n), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, n), this.ctrlsService.whenReady(function(i) {
        r.gridCtrl = i.gridCtrl;
        var a = r.gridOptionsService.getDocument();
        e.addKeyboardModeEvents(a, r.gridCtrl), r.addDestroyFunc(function() {
          return r.unregisterGridCompController(r.gridCtrl);
        });
      });
    }, t.prototype.unregisterGridCompController = function(r) {
      var n = this.gridOptionsService.getDocument();
      e.removeKeyboardModeEvents(n, r);
    }, t.prototype.onColumnEverythingChanged = function() {
      if (this.focusedCellPosition) {
        var r = this.focusedCellPosition.column, n = this.columnModel.getGridColumn(r.getId());
        r !== n && this.clearFocusedCell();
      }
    }, t.prototype.isKeyboardMode = function() {
      return e.keyboardModeActive;
    }, t.prototype.getFocusCellToUseAfterRefresh = function() {
      var r = this.gridOptionsService.getDocument();
      return this.gridOptionsService.is("suppressFocusAfterRefresh") || !this.focusedCellPosition || this.isDomDataMissingInHierarchy(r.activeElement, Ja.DOM_DATA_KEY_ROW_CTRL) ? null : this.focusedCellPosition;
    }, t.prototype.getFocusHeaderToUseAfterRefresh = function() {
      var r = this.gridOptionsService.getDocument();
      return this.gridOptionsService.is("suppressFocusAfterRefresh") || !this.focusedHeaderPosition || this.isDomDataMissingInHierarchy(r.activeElement, Ef.DOM_DATA_KEY_HEADER_CTRL) ? null : this.focusedHeaderPosition;
    }, t.prototype.isDomDataMissingInHierarchy = function(r, n) {
      for (var i = r; i; ) {
        var a = this.gridOptionsService.getDomData(i, n);
        if (a)
          return !1;
        i = i.parentNode;
      }
      return !0;
    }, t.prototype.getFocusedCell = function() {
      return this.focusedCellPosition;
    }, t.prototype.shouldRestoreFocus = function(r) {
      var n = this;
      return this.isCellRestoreFocused(r) ? (setTimeout(function() {
        n.restoredFocusedCellPosition = null;
      }, 0), !0) : !1;
    }, t.prototype.isCellRestoreFocused = function(r) {
      return this.restoredFocusedCellPosition == null ? !1 : this.cellPositionUtils.equals(r, this.restoredFocusedCellPosition);
    }, t.prototype.setRestoreFocusedCell = function(r) {
      this.getFrameworkOverrides().renderingEngine === "react" && (this.restoredFocusedCellPosition = r);
    }, t.prototype.getFocusEventParams = function() {
      var r = this.focusedCellPosition, n = r.rowIndex, i = r.rowPinned, a = r.column, s = {
        rowIndex: n,
        rowPinned: i,
        column: a,
        isFullWidthCell: !1
      }, l = this.rowRenderer.getRowByPosition({ rowIndex: n, rowPinned: i });
      return l && (s.isFullWidthCell = l.isFullWidth()), s;
    }, t.prototype.clearFocusedCell = function() {
      if (this.restoredFocusedCellPosition = null, this.focusedCellPosition != null) {
        var r = bc({ type: R.EVENT_CELL_FOCUS_CLEARED }, this.getFocusEventParams());
        this.focusedCellPosition = null, this.eventService.dispatchEvent(r);
      }
    }, t.prototype.setFocusedCell = function(r) {
      var n = r.column, i = r.rowIndex, a = r.rowPinned, s = r.forceBrowserFocus, l = s === void 0 ? !1 : s, u = r.preventScrollOnBrowserFocus, c = u === void 0 ? !1 : u, d = this.columnModel.getGridColumn(n);
      if (!d) {
        this.focusedCellPosition = null;
        return;
      }
      this.focusedCellPosition = d ? {
        rowIndex: i,
        rowPinned: $o(a),
        column: d
      } : null;
      var p = bc(bc({ type: R.EVENT_CELL_FOCUSED }, this.getFocusEventParams()), { forceBrowserFocus: l, preventScrollOnBrowserFocus: c, floating: null });
      this.eventService.dispatchEvent(p);
    }, t.prototype.isCellFocused = function(r) {
      return this.focusedCellPosition == null ? !1 : this.cellPositionUtils.equals(r, this.focusedCellPosition);
    }, t.prototype.isRowNodeFocused = function(r) {
      return this.isRowFocused(r.rowIndex, r.rowPinned);
    }, t.prototype.isHeaderWrapperFocused = function(r) {
      if (this.focusedHeaderPosition == null)
        return !1;
      var n = r.getColumnGroupChild(), i = r.getRowIndex(), a = r.getPinned(), s = this.focusedHeaderPosition, l = s.column, u = s.headerRowIndex;
      return n === l && i === u && a == l.getPinned();
    }, t.prototype.clearFocusedHeader = function() {
      this.focusedHeaderPosition = null;
    }, t.prototype.getFocusedHeader = function() {
      return this.focusedHeaderPosition;
    }, t.prototype.setFocusedHeader = function(r, n) {
      this.focusedHeaderPosition = { headerRowIndex: r, column: n };
    }, t.prototype.focusHeaderPosition = function(r) {
      var n = r.direction, i = r.fromTab, a = r.allowUserOverride, s = r.event, l = r.headerPosition;
      if (a) {
        var u = this.getFocusedHeader(), c = this.headerNavigationService.getHeaderRowCount();
        if (i) {
          var d = this.gridOptionsService.getCallback("tabToNextHeader");
          if (d) {
            var p = {
              backwards: n === "Before",
              previousHeaderPosition: u,
              nextHeaderPosition: l,
              headerRowCount: c
            };
            l = d(p);
          }
        } else {
          var d = this.gridOptionsService.getCallback("navigateToNextHeader");
          if (d && s) {
            var h = {
              key: s.key,
              previousHeaderPosition: u,
              nextHeaderPosition: l,
              headerRowCount: c,
              event: s
            };
            l = d(h);
          }
        }
      }
      if (!l)
        return !1;
      if (l.headerRowIndex === -1)
        return this.focusGridView(l.column);
      this.headerNavigationService.scrollToColumn(l.column, n);
      var f = this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()), v = f.focusHeader(l.headerRowIndex, l.column, s);
      return v;
    }, t.prototype.focusFirstHeader = function() {
      var r = this.columnModel.getAllDisplayedColumns()[0];
      return r ? (r.getParent() && (r = this.columnModel.getColumnGroupAtLevel(r, 0)), this.focusHeaderPosition({
        headerPosition: { headerRowIndex: 0, column: r }
      })) : !1;
    }, t.prototype.focusLastHeader = function(r) {
      var n = this.headerNavigationService.getHeaderRowCount() - 1, i = et(this.columnModel.getAllDisplayedColumns());
      return this.focusHeaderPosition({
        headerPosition: { headerRowIndex: n, column: i },
        event: r
      });
    }, t.prototype.isAnyCellFocused = function() {
      return !!this.focusedCellPosition;
    }, t.prototype.isRowFocused = function(r, n) {
      return this.focusedCellPosition == null ? !1 : this.focusedCellPosition.rowIndex === r && this.focusedCellPosition.rowPinned === $o(n);
    }, t.prototype.findFocusableElements = function(r, n, i) {
      i === void 0 && (i = !1);
      var a = oE, s = _m;
      n && (s += ", " + n), i && (s += ', [tabindex="-1"]');
      var l = Array.prototype.slice.apply(r.querySelectorAll(a)), u = Array.prototype.slice.apply(r.querySelectorAll(s));
      if (!u.length)
        return l;
      var c = function(d, p) {
        return d.filter(function(h) {
          return p.indexOf(h) === -1;
        });
      };
      return c(l, u);
    }, t.prototype.focusInto = function(r, n, i) {
      n === void 0 && (n = !1), i === void 0 && (i = !1);
      var a = this.findFocusableElements(r, null, i), s = n ? et(a) : a[0];
      return s ? (s.focus({ preventScroll: !0 }), !0) : !1;
    }, t.prototype.findFocusableElementBeforeTabGuard = function(r, n) {
      if (!n)
        return null;
      var i = this.findFocusableElements(r), a = i.indexOf(n);
      if (a === -1)
        return null;
      for (var s = -1, l = a - 1; l >= 0; l--)
        if (i[l].classList.contains(Nl.TAB_GUARD_TOP)) {
          s = l;
          break;
        }
      return s <= 0 ? null : i[s - 1];
    }, t.prototype.findNextFocusableElement = function(r, n, i) {
      r === void 0 && (r = this.eGridDiv);
      var a = this.findFocusableElements(r, n ? ':not([tabindex="-1"])' : null), s = this.gridOptionsService.getDocument(), l = s.activeElement, u;
      n ? u = a.findIndex(function(d) {
        return d.contains(l);
      }) : u = a.indexOf(l);
      var c = u + (i ? -1 : 1);
      return c < 0 || c >= a.length ? null : a[c];
    }, t.prototype.isTargetUnderManagedComponent = function(r, n) {
      if (!n)
        return !1;
      var i = r.querySelectorAll("." + Ai.FOCUS_MANAGED_CLASS);
      if (!i.length)
        return !1;
      for (var a = 0; a < i.length; a++)
        if (i[a].contains(n))
          return !0;
      return !1;
    }, t.prototype.findTabbableParent = function(r, n) {
      n === void 0 && (n = 5);
      for (var i = 0; r && ih(r) === null && ++i <= n; )
        r = r.parentElement;
      return ih(r) === null ? null : r;
    }, t.prototype.focusGridView = function(r, n) {
      if (this.gridOptionsService.is("suppressCellFocus"))
        return n ? this.focusLastHeader() : this.focusNextGridCoreContainer(!1);
      var i = n ? this.rowPositionUtils.getLastRow() : this.rowPositionUtils.getFirstRow();
      if (!i)
        return !1;
      var a = i.rowIndex, s = i.rowPinned, l = this.getFocusedHeader();
      if (!r && l && (r = l.column), a == null || !r)
        return !1;
      if (this.navigationService.ensureCellVisible({ rowIndex: a, column: r, rowPinned: s }), this.setFocusedCell({
        rowIndex: a,
        column: r,
        rowPinned: $o(s),
        forceBrowserFocus: !0
      }), this.rangeService) {
        var u = { rowIndex: a, rowPinned: s, column: r };
        this.rangeService.setRangeToCell(u);
      }
      return !0;
    }, t.prototype.focusNextGridCoreContainer = function(r, n) {
      return n === void 0 && (n = !1), !n && this.gridCtrl.focusNextInnerContainer(r) ? !0 : ((n || !r && !this.gridCtrl.isDetailGrid()) && this.gridCtrl.forceFocusOutOfContainer(r), !1);
    };
    var e;
    return t.AG_KEYBOARD_FOCUS = "ag-keyboard-focus", t.keyboardModeActive = !1, t.instancesMonitored = /* @__PURE__ */ new Map(), Pn([
      w("eGridDiv")
    ], t.prototype, "eGridDiv", void 0), Pn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Pn([
      w("headerNavigationService")
    ], t.prototype, "headerNavigationService", void 0), Pn([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Pn([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), Pn([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), Pn([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Pn([
      w("navigationService")
    ], t.prototype, "navigationService", void 0), Pn([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Pn([
      V
    ], t.prototype, "init", null), t = e = Pn([
      q("focusService")
    ], t), t;
  }(W)
), hG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fi = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, fG = (
  /** @class */
  function(o) {
    hG(t, o);
    function t(e, r) {
      var n = o.call(this, e, r) || this;
      return n.refreshFunctions = [], n.userHeaderClasses = /* @__PURE__ */ new Set(), n.ariaDescriptionProperties = /* @__PURE__ */ new Map(), n.column = e, n;
    }
    return t.prototype.setComp = function(e, r, n, i) {
      var a = this;
      o.prototype.setGui.call(this, r), this.comp = e, this.updateState(), this.setupWidth(), this.setupMovingCss(), this.setupMenuClass(), this.setupSortableClass(), this.setupWrapTextClass(), this.refreshSpanHeaderHeight(), this.setupAutoHeight(i), this.addColumnHoverListener(), this.setupFilterCss(), this.setupColId(), this.setupClassesFromColDef(), this.setupTooltip(), this.addActiveHeaderMouseListeners(), this.setupSelectAll(), this.setupUserComp(), this.refreshAria(), this.createManagedBean(new oG(this.getPinned(), this.column, n, e, this)), this.createManagedBean(new Um([this.column], r)), this.createManagedBean(new $m(this.column, r, this.beans)), this.createManagedBean(new Ai(r, {
        shouldStopEventPropagation: function(s) {
          return a.shouldStopEventPropagation(s);
        },
        onTabKeyDown: function() {
          return null;
        },
        handleKeyDown: this.handleKeyDown.bind(this),
        onFocusIn: this.onFocusIn.bind(this),
        onFocusOut: this.onFocusOut.bind(this)
      })), this.addMouseDownListenerIfNeeded(r), this.addManagedListener(this.column, Me.EVENT_COL_DEF_CHANGED, this.onColDefChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, this.onColumnValueChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onColumnRowGroupChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, this.onColumnPivotChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_HEADER_HEIGHT_CHANGED, this.onHeaderHeightChanged.bind(this));
    }, t.prototype.addMouseDownListenerIfNeeded = function(e) {
      var r = this;
      if (En()) {
        var n = ["mousedown", "touchstart"], i = this.gridOptionsService.getDocument();
        n.forEach(function(a) {
          r.addManagedListener(e, a, function(s) {
            var l = i.activeElement;
            l !== e && !e.contains(l) && (e.focus(), Gl.toggleKeyboardMode(s));
          });
        });
      }
    }, t.prototype.setupUserComp = function() {
      var e = this.lookupUserCompDetails();
      this.setCompDetails(e);
    }, t.prototype.setCompDetails = function(e) {
      this.userCompDetails = e, this.comp.setUserCompDetails(e);
    }, t.prototype.lookupUserCompDetails = function() {
      var e = this.createParams(), r = this.column.getColDef();
      return this.userComponentFactory.getHeaderCompDetails(r, e);
    }, t.prototype.createParams = function() {
      var e = this, r = this.column.getColDef(), n = {
        column: this.column,
        displayName: this.displayName,
        enableSorting: r.sortable,
        enableMenu: this.menuEnabled,
        showColumnMenu: function(i) {
          e.gridApi.showColumnMenuAfterButtonClick(e.column, i);
        },
        progressSort: function(i) {
          e.sortController.progressSort(e.column, !!i, "uiColumnSorted");
        },
        setSort: function(i, a) {
          e.sortController.setSortForColumn(e.column, i, !!a, "uiColumnSorted");
        },
        api: this.gridApi,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context,
        eGridHeader: this.getGui()
      };
      return n;
    }, t.prototype.setupSelectAll = function() {
      this.selectAllFeature = this.createManagedBean(new sG(this.column)), this.selectAllFeature.setComp(this);
    }, t.prototype.getSelectAllGui = function() {
      return this.selectAllFeature.getCheckboxGui();
    }, t.prototype.handleKeyDown = function(e) {
      o.prototype.handleKeyDown.call(this, e), e.key === H.SPACE && this.selectAllFeature.onSpaceKeyDown(e), e.key === H.ENTER && this.onEnterKeyDown(e);
    }, t.prototype.onEnterKeyDown = function(e) {
      var r = this.comp.getUserCompInstance();
      if (r) {
        if (e.ctrlKey || e.metaKey)
          this.menuEnabled && r.showMenu && (e.preventDefault(), r.showMenu());
        else if (this.sortable) {
          var n = e.shiftKey;
          this.sortController.progressSort(this.column, n, "uiColumnSorted");
        }
      }
    }, t.prototype.isMenuEnabled = function() {
      return this.menuEnabled;
    }, t.prototype.onFocusIn = function(e) {
      if (!this.getGui().contains(e.relatedTarget)) {
        var r = this.getRowIndex();
        this.focusService.setFocusedHeader(r, this.column);
      }
      this.setActiveHeader(!0);
    }, t.prototype.onFocusOut = function(e) {
      this.getGui().contains(e.relatedTarget) || this.setActiveHeader(!1);
    }, t.prototype.setupTooltip = function() {
      var e = this, r = {
        getColumn: function() {
          return e.column;
        },
        getColDef: function() {
          return e.column.getColDef();
        },
        getGui: function() {
          return e.eGui;
        },
        getLocation: function() {
          return "header";
        },
        getTooltipValue: function() {
          var i = e.column.getColDef().headerTooltip;
          return i;
        }
      }, n = this.createManagedBean(new jm(r, this.beans));
      n.setComp(this.comp), this.refreshFunctions.push(function() {
        return n.refreshToolTip();
      });
    }, t.prototype.setupClassesFromColDef = function() {
      var e = this, r = function() {
        var n = e.column.getColDef(), i = ud.getHeaderClassesFromColDef(n, e.gridOptionsService, e.column, null), a = e.userHeaderClasses;
        e.userHeaderClasses = new Set(i), i.forEach(function(s) {
          a.has(s) ? a.delete(s) : e.comp.addOrRemoveCssClass(s, !0);
        }), a.forEach(function(s) {
          return e.comp.addOrRemoveCssClass(s, !1);
        });
      };
      this.refreshFunctions.push(r), r();
    }, t.prototype.setDragSource = function(e) {
      var r = this;
      if (this.dragSourceElement = e, this.removeDragSource(), !!e && this.draggable) {
        var n = !this.gridOptionsService.is("suppressDragLeaveHidesColumns");
        this.moveDragSource = {
          type: gt.HeaderCell,
          eElement: e,
          defaultIconName: n ? Ze.ICON_HIDE : Ze.ICON_NOT_ALLOWED,
          getDragItem: function() {
            return r.createDragItem();
          },
          dragItemName: this.displayName,
          onDragStarted: function() {
            return r.column.setMoving(!0, "uiColumnMoved");
          },
          onDragStopped: function() {
            return r.column.setMoving(!1, "uiColumnMoved");
          },
          onGridEnter: function(i) {
            var a;
            if (n) {
              var s = ((a = i == null ? void 0 : i.columns) === null || a === void 0 ? void 0 : a.filter(function(l) {
                return !l.getColDef().lockVisible;
              })) || [];
              r.columnModel.setColumnsVisible(s, !0, "uiColumnMoved");
            }
          },
          onGridExit: function(i) {
            var a;
            if (n) {
              var s = ((a = i == null ? void 0 : i.columns) === null || a === void 0 ? void 0 : a.filter(function(l) {
                return !l.getColDef().lockVisible;
              })) || [];
              r.columnModel.setColumnsVisible(s, !1, "uiColumnMoved");
            }
          }
        }, this.dragAndDropService.addDragSource(this.moveDragSource, !0);
      }
    }, t.prototype.createDragItem = function() {
      var e = {};
      return e[this.column.getId()] = this.column.isVisible(), {
        columns: [this.column],
        visibleState: e
      };
    }, t.prototype.removeDragSource = function() {
      this.moveDragSource && (this.dragAndDropService.removeDragSource(this.moveDragSource), this.moveDragSource = void 0);
    }, t.prototype.onColDefChanged = function() {
      this.refresh();
    }, t.prototype.updateState = function() {
      var e = this.column.getColDef();
      this.menuEnabled = this.menuFactory.isMenuEnabled(this.column) && !e.suppressMenu, this.sortable = e.sortable, this.displayName = this.calculateDisplayName(), this.draggable = this.workOutDraggable();
    }, t.prototype.addRefreshFunction = function(e) {
      this.refreshFunctions.push(e);
    }, t.prototype.refresh = function() {
      this.updateState(), this.refreshHeaderComp(), this.refreshAria(), this.refreshFunctions.forEach(function(e) {
        return e();
      });
    }, t.prototype.refreshHeaderComp = function() {
      var e = this.lookupUserCompDetails(), r = this.comp.getUserCompInstance(), n = r != null && this.userCompDetails.componentClass == e.componentClass, i = n ? this.attemptHeaderCompRefresh(e.params) : !1;
      i ? this.setDragSource(this.dragSourceElement) : this.setCompDetails(e);
    }, t.prototype.attemptHeaderCompRefresh = function(e) {
      var r = this.comp.getUserCompInstance();
      if (!r || !r.refresh)
        return !1;
      var n = r.refresh(e);
      return n;
    }, t.prototype.calculateDisplayName = function() {
      return this.columnModel.getDisplayNameForColumn(this.column, "header", !0);
    }, t.prototype.checkDisplayName = function() {
      this.displayName !== this.calculateDisplayName() && this.refresh();
    }, t.prototype.workOutDraggable = function() {
      var e = this.column.getColDef(), r = this.gridOptionsService.is("suppressMovableColumns"), n = !r && !e.suppressMovable && !e.lockPosition;
      return !!n || !!e.enableRowGroup || !!e.enablePivot;
    }, t.prototype.onColumnRowGroupChanged = function() {
      this.checkDisplayName();
    }, t.prototype.onColumnPivotChanged = function() {
      this.checkDisplayName();
    }, t.prototype.onColumnValueChanged = function() {
      this.checkDisplayName();
    }, t.prototype.setupWidth = function() {
      var e = this, r = function() {
        var n = e.column.getActualWidth();
        e.comp.setWidth(n + "px");
      };
      this.addManagedListener(this.column, Me.EVENT_WIDTH_CHANGED, r), r();
    }, t.prototype.setupMovingCss = function() {
      var e = this, r = function() {
        e.comp.addOrRemoveCssClass("ag-header-cell-moving", e.column.isMoving());
      };
      this.addManagedListener(this.column, Me.EVENT_MOVING_CHANGED, r), r();
    }, t.prototype.setupMenuClass = function() {
      var e = this, r = function() {
        e.comp.addOrRemoveCssClass("ag-column-menu-visible", e.column.isMenuVisible());
      };
      this.addManagedListener(this.column, Me.EVENT_MENU_VISIBLE_CHANGED, r), r();
    }, t.prototype.setupSortableClass = function() {
      var e = this, r = function() {
        e.comp.addOrRemoveCssClass("ag-header-cell-sortable", !!e.sortable);
      };
      r(), this.addRefreshFunction(r), this.addManagedListener(this.eventService, Me.EVENT_SORT_CHANGED, this.refreshAriaSort.bind(this));
    }, t.prototype.setupWrapTextClass = function() {
      var e = this, r = function() {
        var n = !!e.column.getColDef().wrapHeaderText;
        e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text", n);
      };
      r(), this.addRefreshFunction(r);
    }, t.prototype.onHeaderHeightChanged = function() {
      this.refreshSpanHeaderHeight();
    }, t.prototype.refreshSpanHeaderHeight = function() {
      var e = this, r = e.eGui, n = e.column, i = e.comp, a = e.columnModel, s = e.gridOptionsService;
      if (n.isSpanHeaderHeight()) {
        var l = this.getColumnGroupPaddingInfo(), u = l.numberOfParents, c = l.isSpanningTotal;
        if (i.addOrRemoveCssClass("ag-header-span-height", u > 0), u !== 0) {
          i.addOrRemoveCssClass("ag-header-span-total", c);
          var d = s.is("pivotMode"), p = d ? a.getPivotGroupHeaderHeight() : a.getGroupHeaderHeight(), h = a.getColumnHeaderRowHeight(), f = u * p;
          r.style.setProperty("top", -f + "px"), r.style.setProperty("height", h + f + "px");
        }
      }
    }, t.prototype.getColumnGroupPaddingInfo = function() {
      var e = this.column.getParent();
      if (!e || !e.isPadding())
        return { numberOfParents: 0, isSpanningTotal: !1 };
      for (var r = e.getPaddingLevel() + 1, n = !0; e; ) {
        if (!e.isPadding()) {
          n = !1;
          break;
        }
        e = e.getParent();
      }
      return { numberOfParents: r, isSpanningTotal: n };
    }, t.prototype.setupAutoHeight = function(e) {
      var r = this, n = function(c) {
        if (r.isAlive()) {
          var d = ia(r.getGui()), p = d.paddingTop, h = d.paddingBottom, f = d.borderBottomWidth, v = d.borderTopWidth, g = p + h + f + v, y = e.offsetHeight, m = y + g;
          if (c < 5) {
            var C = r.beans.gridOptionsService.getDocument(), S = !C || !C.contains(e), b = m == 0;
            if (S || b) {
              r.beans.frameworkOverrides.setTimeout(function() {
                return n(c + 1);
              }, 0);
              return;
            }
          }
          r.columnModel.setColumnHeaderHeight(r.column, m);
        }
      }, i = !1, a, s = function() {
        var c = r.column.isAutoHeaderHeight();
        c && !i && l(), !c && i && u();
      }, l = function() {
        i = !0, n(0), r.comp.addOrRemoveCssClass("ag-header-cell-auto-height", !0), a = r.resizeObserverService.observeResize(e, function() {
          return n(0);
        });
      }, u = function() {
        i = !1, a && a(), r.comp.addOrRemoveCssClass("ag-header-cell-auto-height", !1), a = void 0;
      };
      s(), this.addDestroyFunc(function() {
        return u();
      }), this.addManagedListener(this.column, Me.EVENT_WIDTH_CHANGED, function() {
        return i && n(0);
      }), this.addManagedListener(this.eventService, Me.EVENT_SORT_CHANGED, function() {
        i && r.beans.frameworkOverrides.setTimeout(function() {
          return n(0);
        });
      }), this.addRefreshFunction(s);
    }, t.prototype.refreshAriaSort = function() {
      if (this.sortable) {
        var e = this.localeService.getLocaleTextFunc(), r = this.sortController.getDisplaySortForColumn(this.column) || null;
        this.comp.setAriaSort(kb(r)), this.setAriaDescriptionProperty("sort", e("ariaSortableColumn", "Press ENTER to sort."));
      } else
        this.comp.setAriaSort(), this.setAriaDescriptionProperty("sort", null);
    }, t.prototype.refreshAriaMenu = function() {
      if (this.menuEnabled) {
        var e = this.localeService.getLocaleTextFunc();
        this.setAriaDescriptionProperty("menu", e("ariaMenuColumn", "Press CTRL ENTER to open column menu."));
      } else
        this.setAriaDescriptionProperty("menu", null);
    }, t.prototype.setAriaDescriptionProperty = function(e, r) {
      r != null ? this.ariaDescriptionProperties.set(e, r) : this.ariaDescriptionProperties.delete(e);
    }, t.prototype.refreshAriaDescription = function() {
      var e = Array.from(this.ariaDescriptionProperties.values());
      this.comp.setAriaDescription(e.length ? e.join(" ") : void 0);
    }, t.prototype.refreshAria = function() {
      this.refreshAriaSort(), this.refreshAriaMenu(), this.refreshAriaDescription();
    }, t.prototype.addColumnHoverListener = function() {
      var e = this, r = function() {
        if (e.gridOptionsService.is("columnHoverHighlight")) {
          var n = e.columnHoverService.isHovered(e.column);
          e.comp.addOrRemoveCssClass("ag-column-hover", n);
        }
      };
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_HOVER_CHANGED, r), r();
    }, t.prototype.setupFilterCss = function() {
      var e = this, r = function() {
        e.comp.addOrRemoveCssClass("ag-header-cell-filtered", e.column.isFilterActive());
      };
      this.addManagedListener(this.column, Me.EVENT_FILTER_ACTIVE_CHANGED, r), r();
    }, t.prototype.setupColId = function() {
      this.comp.setColId(this.column.getColId());
    }, t.prototype.addActiveHeaderMouseListeners = function() {
      var e = this, r = function(n) {
        return e.setActiveHeader(n.type === "mouseenter");
      };
      this.addManagedListener(this.getGui(), "mouseenter", r), this.addManagedListener(this.getGui(), "mouseleave", r);
    }, t.prototype.setActiveHeader = function(e) {
      this.comp.addOrRemoveCssClass("ag-header-active", e);
    }, Fi([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Fi([
      w("columnHoverService")
    ], t.prototype, "columnHoverService", void 0), Fi([
      w("sortController")
    ], t.prototype, "sortController", void 0), Fi([
      w("menuFactory")
    ], t.prototype, "menuFactory", void 0), Fi([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Fi([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Fi([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Fi([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), Fi([
      rt
    ], t.prototype, "removeDragSource", null), t;
  }(Ef)
), vG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, gG = (
  /** @class */
  function(o) {
    vG(t, o);
    function t(e, r, n, i) {
      var a = o.call(this) || this;
      return a.eResize = r, a.comp = e, a.pinned = n, a.columnGroup = i, a;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      if (!this.columnGroup.isResizable()) {
        this.comp.setResizableDisplayed(!1);
        return;
      }
      var r = this.horizontalResizeService.addResizeBar({
        eResizeBar: this.eResize,
        onResizeStart: this.onResizeStart.bind(this),
        onResizing: this.onResizing.bind(this, !1),
        onResizeEnd: this.onResizing.bind(this, !0)
      });
      if (this.addDestroyFunc(r), !this.gridOptionsService.is("suppressAutoSize")) {
        var n = this.gridOptionsService.is("skipHeaderOnAutoSize");
        this.eResize.addEventListener("dblclick", function() {
          var i = [], a = e.columnGroup.getDisplayedLeafColumns();
          a.forEach(function(s) {
            s.getColDef().suppressAutoSize || i.push(s.getColId());
          }), i.length > 0 && e.columnModel.autoSizeColumns({
            columns: i,
            skipHeader: n,
            stopAtGroup: e.columnGroup,
            source: "uiColumnResized"
          }), e.resizeLeafColumnsToFit("uiColumnResized");
        });
      }
    }, t.prototype.onResizeStart = function(e) {
      var r = this;
      this.calculateInitialValues();
      var n = null;
      if (e && (n = this.columnModel.getDisplayedGroupAfter(this.columnGroup)), n) {
        var i = n.getDisplayedLeafColumns();
        this.resizeTakeFromCols = i.filter(function(a) {
          return a.isResizable();
        }), this.resizeTakeFromStartWidth = 0, this.resizeTakeFromCols.forEach(function(a) {
          return r.resizeTakeFromStartWidth += a.getActualWidth();
        }), this.resizeTakeFromRatios = [], this.resizeTakeFromCols.forEach(function(a) {
          return r.resizeTakeFromRatios.push(a.getActualWidth() / r.resizeTakeFromStartWidth);
        });
      } else
        this.resizeTakeFromCols = null, this.resizeTakeFromStartWidth = null, this.resizeTakeFromRatios = null;
      this.comp.addOrRemoveCssClass("ag-column-resizing", !0);
    }, t.prototype.onResizing = function(e, r, n) {
      n === void 0 && (n = "uiColumnResized");
      var i = this.normaliseDragChange(r), a = this.resizeStartWidth + i;
      this.resizeColumns(a, n, e);
    }, t.prototype.resizeLeafColumnsToFit = function(e) {
      var r = this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);
      this.calculateInitialValues(), r > this.resizeStartWidth && this.resizeColumns(r, e, !0);
    }, t.prototype.resizeColumns = function(e, r, n) {
      n === void 0 && (n = !0);
      var i = [];
      if (i.push({
        columns: this.resizeCols,
        ratios: this.resizeRatios,
        width: e
      }), this.resizeTakeFromCols) {
        var a = e - this.resizeStartWidth;
        i.push({
          columns: this.resizeTakeFromCols,
          ratios: this.resizeTakeFromRatios,
          width: this.resizeTakeFromStartWidth - a
        });
      }
      this.columnModel.resizeColumnSets({
        resizeSets: i,
        finished: n,
        source: r
      }), n && this.comp.addOrRemoveCssClass("ag-column-resizing", !1);
    }, t.prototype.calculateInitialValues = function() {
      var e = this, r = this.columnGroup.getDisplayedLeafColumns();
      this.resizeCols = r.filter(function(n) {
        return n.isResizable();
      }), this.resizeStartWidth = 0, this.resizeCols.forEach(function(n) {
        return e.resizeStartWidth += n.getActualWidth();
      }), this.resizeRatios = [], this.resizeCols.forEach(function(n) {
        return e.resizeRatios.push(n.getActualWidth() / e.resizeStartWidth);
      });
    }, t.prototype.normaliseDragChange = function(e) {
      var r = e;
      return this.gridOptionsService.is("enableRtl") ? this.pinned !== "left" && (r *= -1) : this.pinned === "right" && (r *= -1), r;
    }, Fd([
      w("horizontalResizeService")
    ], t.prototype, "horizontalResizeService", void 0), Fd([
      w("autoWidthCalculator")
    ], t.prototype, "autoWidthCalculator", void 0), Fd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Fd([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), yG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mG = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, CG = (
  /** @class */
  function(o) {
    yG(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.removeChildListenersFuncs = [], n.columnGroup = r, n.comp = e, n;
    }
    return t.prototype.postConstruct = function() {
      this.addListenersToChildrenColumns(), this.addManagedListener(this.columnGroup, Fr.EVENT_DISPLAYED_CHILDREN_CHANGED, this.onDisplayedChildrenChanged.bind(this)), this.onWidthChanged(), this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this));
    }, t.prototype.addListenersToChildrenColumns = function() {
      var e = this;
      this.removeListenersOnChildrenColumns();
      var r = this.onWidthChanged.bind(this);
      this.columnGroup.getLeafColumns().forEach(function(n) {
        n.addEventListener("widthChanged", r), n.addEventListener("visibleChanged", r), e.removeChildListenersFuncs.push(function() {
          n.removeEventListener("widthChanged", r), n.removeEventListener("visibleChanged", r);
        });
      });
    }, t.prototype.removeListenersOnChildrenColumns = function() {
      this.removeChildListenersFuncs.forEach(function(e) {
        return e();
      }), this.removeChildListenersFuncs = [];
    }, t.prototype.onDisplayedChildrenChanged = function() {
      this.addListenersToChildrenColumns(), this.onWidthChanged();
    }, t.prototype.onWidthChanged = function() {
      var e = this.columnGroup.getActualWidth();
      this.comp.setWidth(e + "px"), this.comp.addOrRemoveCssClass("ag-hidden", e === 0);
    }, mG([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), SG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ld = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, wG = (
  /** @class */
  function(o) {
    SG(t, o);
    function t(e, r) {
      var n = o.call(this, e, r) || this;
      return n.columnGroup = e, n;
    }
    return t.prototype.setComp = function(e, r, n) {
      o.prototype.setGui.call(this, r), this.comp = e, this.displayName = this.columnModel.getDisplayNameForColumnGroup(this.columnGroup, "header"), this.addClasses(), this.addAttributes(), this.setupMovingCss(), this.setupExpandable(), this.setupTooltip(), this.setupUserComp();
      var i = this.getParentRowCtrl().getPinned(), a = this.columnGroup.getProvidedColumnGroup().getLeafColumns();
      this.createManagedBean(new Um(a, r)), this.createManagedBean(new $m(this.columnGroup, r, this.beans)), this.createManagedBean(new CG(e, this.columnGroup)), this.groupResizeFeature = this.createManagedBean(new gG(e, n, i, this.columnGroup)), this.createManagedBean(new Ai(r, {
        shouldStopEventPropagation: this.shouldStopEventPropagation.bind(this),
        onTabKeyDown: function() {
        },
        handleKeyDown: this.handleKeyDown.bind(this),
        onFocusIn: this.onFocusIn.bind(this)
      }));
    }, t.prototype.resizeLeafColumnsToFit = function(e) {
      this.groupResizeFeature && this.groupResizeFeature.resizeLeafColumnsToFit(e);
    }, t.prototype.setupUserComp = function() {
      var e = this, r = this.displayName, n = {
        displayName: this.displayName,
        columnGroup: this.columnGroup,
        setExpanded: function(u) {
          e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(), u, "gridInitializing");
        },
        api: this.gridApi,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context
      };
      if (!r) {
        for (var i = this.columnGroup, a = i.getLeafColumns(); i.getParent() && i.getParent().getLeafColumns().length === a.length; )
          i = i.getParent();
        var s = i.getColGroupDef();
        s && (r = s.headerName), r || (r = a ? this.columnModel.getDisplayNameForColumn(a[0], "header", !0) : "");
      }
      var l = this.userComponentFactory.getHeaderGroupCompDetails(n);
      this.comp.setUserCompDetails(l);
    }, t.prototype.setupTooltip = function() {
      var e = this, r = this.columnGroup.getColGroupDef(), n = {
        getColumn: function() {
          return e.columnGroup;
        },
        getGui: function() {
          return e.eGui;
        },
        getLocation: function() {
          return "headerGroup";
        },
        getTooltipValue: function() {
          return r && r.headerTooltip;
        }
      };
      r && (n.getColDef = function() {
        return r;
      });
      var i = this.createManagedBean(new jm(n, this.beans));
      i.setComp(this.comp);
    }, t.prototype.setupExpandable = function() {
      var e = this.columnGroup.getProvidedColumnGroup();
      this.refreshExpanded(), this.addManagedListener(e, qe.EVENT_EXPANDABLE_CHANGED, this.refreshExpanded.bind(this)), this.addManagedListener(e, qe.EVENT_EXPANDED_CHANGED, this.refreshExpanded.bind(this));
    }, t.prototype.refreshExpanded = function() {
      var e = this.columnGroup;
      this.expandable = e.isExpandable();
      var r = e.isExpanded();
      this.expandable ? this.comp.setAriaExpanded(r ? "true" : "false") : this.comp.setAriaExpanded(void 0);
    }, t.prototype.addAttributes = function() {
      this.comp.setColId(this.columnGroup.getUniqueId());
    }, t.prototype.addClasses = function() {
      var e = this, r = this.columnGroup.getColGroupDef(), n = ud.getHeaderClassesFromColDef(r, this.gridOptionsService, null, this.columnGroup);
      if (this.columnGroup.isPadding()) {
        n.push("ag-header-group-cell-no-group");
        var i = this.columnGroup.getLeafColumns();
        i.every(function(a) {
          return a.isSpanHeaderHeight();
        }) && n.push("ag-header-span-height");
      } else
        n.push("ag-header-group-cell-with-group");
      n.forEach(function(a) {
        return e.comp.addOrRemoveCssClass(a, !0);
      });
    }, t.prototype.setupMovingCss = function() {
      var e = this, r = this.columnGroup.getProvidedColumnGroup(), n = r.getLeafColumns(), i = function() {
        return e.comp.addOrRemoveCssClass("ag-header-cell-moving", e.columnGroup.isMoving());
      };
      n.forEach(function(a) {
        e.addManagedListener(a, Me.EVENT_MOVING_CHANGED, i);
      }), i();
    }, t.prototype.onFocusIn = function(e) {
      if (!this.eGui.contains(e.relatedTarget)) {
        var r = this.getRowIndex();
        this.beans.focusService.setFocusedHeader(r, this.columnGroup);
      }
    }, t.prototype.handleKeyDown = function(e) {
      o.prototype.handleKeyDown.call(this, e);
      var r = this.getWrapperHasFocus();
      if (!(!this.expandable || !r) && e.key === H.ENTER) {
        var n = this.columnGroup, i = !n.isExpanded();
        this.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(), i, "uiColumnExpanded");
      }
    }, t.prototype.setDragSource = function(e) {
      var r = this;
      if (!this.isSuppressMoving()) {
        var n = this.columnGroup.getProvidedColumnGroup().getLeafColumns(), i = !this.gridOptionsService.is("suppressDragLeaveHidesColumns"), a = {
          type: gt.HeaderCell,
          eElement: e,
          defaultIconName: i ? Ze.ICON_HIDE : Ze.ICON_NOT_ALLOWED,
          dragItemName: this.displayName,
          // we add in the original group leaf columns, so we move both visible and non-visible items
          getDragItem: this.getDragItemForGroup.bind(this),
          onDragStarted: function() {
            return n.forEach(function(s) {
              return s.setMoving(!0, "uiColumnDragged");
            });
          },
          onDragStopped: function() {
            return n.forEach(function(s) {
              return s.setMoving(!1, "uiColumnDragged");
            });
          },
          onGridEnter: function(s) {
            var l;
            if (i) {
              var u = ((l = s == null ? void 0 : s.columns) === null || l === void 0 ? void 0 : l.filter(function(c) {
                return !c.getColDef().lockVisible;
              })) || [];
              r.columnModel.setColumnsVisible(u, !0, "uiColumnMoved");
            }
          },
          onGridExit: function(s) {
            var l;
            if (i) {
              var u = ((l = s == null ? void 0 : s.columns) === null || l === void 0 ? void 0 : l.filter(function(c) {
                return !c.getColDef().lockVisible;
              })) || [];
              r.columnModel.setColumnsVisible(u, !1, "uiColumnMoved");
            }
          }
        };
        this.dragAndDropService.addDragSource(a, !0), this.addDestroyFunc(function() {
          return r.dragAndDropService.removeDragSource(a);
        });
      }
    }, t.prototype.getDragItemForGroup = function() {
      var e = this.columnGroup.getProvidedColumnGroup().getLeafColumns(), r = {};
      e.forEach(function(i) {
        return r[i.getId()] = i.isVisible();
      });
      var n = [];
      return this.columnModel.getAllDisplayedColumns().forEach(function(i) {
        e.indexOf(i) >= 0 && (n.push(i), vr(e, i));
      }), e.forEach(function(i) {
        return n.push(i);
      }), {
        columns: n,
        visibleState: r
      };
    }, t.prototype.isSuppressMoving = function() {
      var e = !1;
      this.columnGroup.getLeafColumns().forEach(function(n) {
        (n.getColDef().suppressMovable || n.getColDef().lockPosition) && (e = !0);
      });
      var r = e || this.gridOptionsService.is("suppressMovableColumns");
      return r;
    }, Ld([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ld([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Ld([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Ld([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), t;
  }(Ef)
), _G = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, bG = 0, _v = (
  /** @class */
  function(o) {
    _G(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.instanceId = bG++, i.headerCellCtrls = {}, i.rowIndex = e, i.pinned = r, i.type = n, i;
    }
    return t.prototype.getInstanceId = function() {
      return this.instanceId;
    }, t.prototype.setComp = function(e) {
      this.comp = e, this.onRowHeightChanged(), this.onVirtualColumnsChanged(), this.setWidth(), this.addEventListeners(), En() && this.comp.setTransform("translateZ(0)"), e.setAriaRowIndex(this.rowIndex + 1);
    }, t.prototype.addEventListeners = function() {
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_HEADER_HEIGHT_CHANGED, this.onRowHeightChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_GRID_STYLES_CHANGED, this.onRowHeightChanged.bind(this)), this.addManagedPropertyListener("domLayout", this.onDisplayedColumnsChanged.bind(this)), this.addManagedPropertyListener("headerHeight", this.onRowHeightChanged.bind(this)), this.addManagedPropertyListener("pivotHeaderHeight", this.onRowHeightChanged.bind(this)), this.addManagedPropertyListener("groupHeaderHeight", this.onRowHeightChanged.bind(this)), this.addManagedPropertyListener("pivotGroupHeaderHeight", this.onRowHeightChanged.bind(this)), this.addManagedPropertyListener("floatingFiltersHeight", this.onRowHeightChanged.bind(this));
    }, t.prototype.getHeaderCellCtrl = function(e) {
      return qa(this.headerCellCtrls).find(function(r) {
        return r.getColumnGroupChild() === e;
      });
    }, t.prototype.onDisplayedColumnsChanged = function() {
      this.onVirtualColumnsChanged(), this.setWidth(), this.onRowHeightChanged();
    }, t.prototype.getType = function() {
      return this.type;
    }, t.prototype.onColumnResized = function() {
      this.setWidth();
    }, t.prototype.setWidth = function() {
      var e = this.getWidthForRow();
      this.comp.setWidth(e + "px");
    }, t.prototype.getWidthForRow = function() {
      var e = this.gridOptionsService.isDomLayout("print");
      if (e) {
        var r = this.pinned != null;
        return r ? 0 : this.columnModel.getContainerWidth("right") + this.columnModel.getContainerWidth("left") + this.columnModel.getContainerWidth(null);
      }
      return this.columnModel.getContainerWidth(this.pinned);
    }, t.prototype.onRowHeightChanged = function() {
      var e = this.columnModel.getHeaderRowCount(), r = [], n = 0;
      this.columnModel.hasFloatingFilters() && (e++, n = 1);
      for (var i = this.columnModel.getColumnGroupHeaderRowHeight(), a = this.columnModel.getColumnHeaderRowHeight(), s = 1 + n, l = e - s, u = 0; u < l; u++)
        r.push(i);
      r.push(a);
      for (var u = 0; u < n; u++)
        r.push(this.columnModel.getFloatingFiltersHeight());
      for (var c = 0, u = 0; u < this.rowIndex; u++)
        c += r[u];
      var d = r[this.rowIndex] + "px";
      this.comp.setTop(c + "px"), this.comp.setHeight(d);
    }, t.prototype.getPinned = function() {
      return this.pinned;
    }, t.prototype.getRowIndex = function() {
      return this.rowIndex;
    }, t.prototype.onVirtualColumnsChanged = function() {
      var e = this, r = this.headerCellCtrls;
      this.headerCellCtrls = {};
      var n = this.getColumnsInViewport();
      n.forEach(function(s) {
        if (!s.isEmptyGroup()) {
          var l = s.getUniqueId(), u = r[l];
          delete r[l];
          var c = u && u.getColumnGroupChild() != s;
          if (c && (e.destroyBean(u), u = void 0), u == null)
            switch (e.type) {
              case ir.FLOATING_FILTER:
                u = e.createBean(new nG(s, e));
                break;
              case ir.COLUMN_GROUP:
                u = e.createBean(new wG(s, e));
                break;
              default:
                u = e.createBean(new fG(s, e));
                break;
            }
          e.headerCellCtrls[l] = u;
        }
      });
      var i = function(s) {
        var l = e.focusService.isHeaderWrapperFocused(s);
        if (!l)
          return !1;
        var u = e.columnModel.isDisplayed(s.getColumnGroupChild());
        return u;
      };
      ut(r, function(s, l) {
        var u = i(l);
        u ? e.headerCellCtrls[s] = l : e.destroyBean(l);
      });
      var a = Ei(this.headerCellCtrls);
      this.comp.setHeaderCtrls(a);
    }, t.prototype.getColumnsInViewport = function() {
      var e = this.gridOptionsService.isDomLayout("print");
      return e ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();
    }, t.prototype.getColumnsInViewportPrintLayout = function() {
      var e = this;
      if (this.pinned != null)
        return [];
      var r = [], n = this.getActualDepth();
      return ["left", null, "right"].forEach(function(i) {
        var a = e.columnModel.getVirtualHeaderGroupRow(i, n);
        r = r.concat(a);
      }), r;
    }, t.prototype.getActualDepth = function() {
      return this.type == ir.FLOATING_FILTER ? this.rowIndex - 1 : this.rowIndex;
    }, t.prototype.getColumnsInViewportNormalLayout = function() {
      return this.columnModel.getVirtualHeaderGroupRow(this.pinned, this.getActualDepth());
    }, t.prototype.focusHeader = function(e, r) {
      var n = Ei(this.headerCellCtrls), i = n.find(function(a) {
        return a.getColumnGroupChild() == e;
      });
      return i ? (i.focus(r), !0) : !1;
    }, t.prototype.destroy = function() {
      var e = this;
      ut(this.headerCellCtrls, function(r, n) {
        e.destroyBean(n);
      }), this.headerCellCtrls = {}, o.prototype.destroy.call(this);
    }, dS([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), dS([
      w("focusService")
    ], t.prototype, "focusService", void 0), t;
  }(W)
), EG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ou = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, OG = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, xG = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, TG = (
  /** @class */
  function(o) {
    EG(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.hidden = !1, r.includeFloatingFilter = !1, r.groupsRowCtrls = [], r.pinned = e, r;
    }
    return t.prototype.setComp = function(e, r) {
      this.comp = e, this.eViewport = r, this.setupCenterWidth(), this.setupPinnedWidth(), this.setupDragAndDrop(this.eViewport), this.addManagedListener(this.eventService, R.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.ctrlsService.registerHeaderContainer(this, this.pinned), this.columnModel.isReady() && this.refresh();
    }, t.prototype.setupDragAndDrop = function(e) {
      var r = new jN(this.pinned, e);
      this.createManagedBean(r);
    }, t.prototype.refresh = function(e) {
      var r = this;
      e === void 0 && (e = !1);
      var n = new ar(), i = this.focusService.getFocusHeaderToUseAfterRefresh(), a = function() {
        var c = r.columnModel.getHeaderRowCount() - 1;
        r.groupsRowCtrls = r.destroyBeans(r.groupsRowCtrls);
        for (var d = 0; d < c; d++) {
          var p = r.createBean(new _v(n.next(), r.pinned, ir.COLUMN_GROUP));
          r.groupsRowCtrls.push(p);
        }
      }, s = function() {
        var c = n.next(), d = !r.hidden && (r.columnsRowCtrl == null || !e || r.columnsRowCtrl.getRowIndex() !== c), p = d || r.hidden;
        p && (r.columnsRowCtrl = r.destroyBean(r.columnsRowCtrl)), d && (r.columnsRowCtrl = r.createBean(new _v(c, r.pinned, ir.COLUMN)));
      }, l = function() {
        r.includeFloatingFilter = r.columnModel.hasFloatingFilters() && !r.hidden;
        var c = function() {
          r.filtersRowCtrl = r.destroyBean(r.filtersRowCtrl);
        };
        if (!r.includeFloatingFilter) {
          c();
          return;
        }
        var d = n.next();
        if (r.filtersRowCtrl) {
          var p = r.filtersRowCtrl.getRowIndex() !== d;
          (!e || p) && c();
        }
        r.filtersRowCtrl || (r.filtersRowCtrl = r.createBean(new _v(d, r.pinned, ir.FLOATING_FILTER)));
      };
      a(), s(), l();
      var u = this.getAllCtrls();
      this.comp.setCtrls(u), this.restoreFocusOnHeader(i);
    }, t.prototype.restoreFocusOnHeader = function(e) {
      e == null || e.column.getPinned() != this.pinned || this.focusService.focusHeaderPosition({ headerPosition: e });
    }, t.prototype.getAllCtrls = function() {
      var e = xG([], OG(this.groupsRowCtrls));
      return this.columnsRowCtrl && e.push(this.columnsRowCtrl), this.filtersRowCtrl && e.push(this.filtersRowCtrl), e;
    }, t.prototype.onGridColumnsChanged = function() {
      this.refresh(!0);
    }, t.prototype.onDisplayedColumnsChanged = function() {
      var e = this.columnModel.hasFloatingFilters() && !this.hidden;
      this.includeFloatingFilter !== e && this.refresh(!0);
    }, t.prototype.setupCenterWidth = function() {
      var e = this;
      this.pinned == null && this.createManagedBean(new Wm(function(r) {
        return e.comp.setCenterWidth(r + "px");
      }, !0));
    }, t.prototype.setHorizontalScroll = function(e) {
      this.comp.setViewportScrollLeft(e);
    }, t.prototype.setupPinnedWidth = function() {
      var e = this;
      if (this.pinned != null) {
        var r = this.pinned === "left", n = this.pinned === "right";
        this.hidden = !0;
        var i = function() {
          var a = r ? e.pinnedWidthService.getPinnedLeftWidth() : e.pinnedWidthService.getPinnedRightWidth();
          if (a != null) {
            var s = a == 0, l = e.hidden !== s, u = e.gridOptionsService.is("enableRtl"), c = e.gridOptionsService.getScrollbarWidth(), d = e.scrollVisibleService.isVerticalScrollShowing() && (u && r || !u && n), p = d ? a + c : a;
            e.comp.setPinnedContainerWidth(p + "px"), e.comp.setDisplayed(!s), l && (e.hidden = s, e.refresh());
          }
        };
        this.addManagedListener(this.eventService, R.EVENT_LEFT_PINNED_WIDTH_CHANGED, i), this.addManagedListener(this.eventService, R.EVENT_RIGHT_PINNED_WIDTH_CHANGED, i), this.addManagedListener(this.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, i), this.addManagedListener(this.eventService, R.EVENT_SCROLLBAR_WIDTH_CHANGED, i);
      }
    }, t.prototype.getHeaderCtrlForColumn = function(e) {
      if (e instanceof Me)
        return this.columnsRowCtrl ? this.columnsRowCtrl.getHeaderCellCtrl(e) : void 0;
      if (this.groupsRowCtrls.length !== 0)
        for (var r = 0; r < this.groupsRowCtrls.length; r++) {
          var n = this.groupsRowCtrls[r].getHeaderCellCtrl(e);
          if (n)
            return n;
        }
    }, t.prototype.getHtmlElementForColumnHeader = function(e) {
      var r = this.getHeaderCtrlForColumn(e);
      return r ? r.getGui() : null;
    }, t.prototype.getRowType = function(e) {
      var r = this.getAllCtrls(), n = r[e];
      return n ? n.getType() : void 0;
    }, t.prototype.focusHeader = function(e, r, n) {
      var i = this.getAllCtrls(), a = i[e];
      return a ? a.focusHeader(r, n) : !1;
    }, t.prototype.getRowCount = function() {
      return this.groupsRowCtrls.length + (this.columnsRowCtrl ? 1 : 0) + (this.filtersRowCtrl ? 1 : 0);
    }, t.prototype.destroy = function() {
      this.filtersRowCtrl && (this.filtersRowCtrl = this.destroyBean(this.filtersRowCtrl)), this.columnsRowCtrl && (this.columnsRowCtrl = this.destroyBean(this.columnsRowCtrl)), this.groupsRowCtrls && this.groupsRowCtrls.length && (this.groupsRowCtrls = this.destroyBeans(this.groupsRowCtrls)), o.prototype.destroy.call(this);
    }, Ou([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Ou([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), Ou([
      w("pinnedWidthService")
    ], t.prototype, "pinnedWidthService", void 0), Ou([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ou([
      w("focusService")
    ], t.prototype, "focusService", void 0), t;
  }(W)
), RG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ev = (
  /** @class */
  function(o) {
    RG(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.headerRowComps = {}, r.rowCompsList = [], r.pinned = e, r;
    }
    return t.prototype.init = function() {
      var e = this;
      this.selectAndSetTemplate();
      var r = {
        setDisplayed: function(i) {
          return e.setDisplayed(i);
        },
        setCtrls: function(i) {
          return e.setCtrls(i);
        },
        // only gets called for center section
        setCenterWidth: function(i) {
          return e.eCenterContainer.style.width = i;
        },
        setViewportScrollLeft: function(i) {
          return e.getGui().scrollLeft = i;
        },
        // only gets called for pinned sections
        setPinnedContainerWidth: function(i) {
          var a = e.getGui();
          a.style.width = i, a.style.maxWidth = i, a.style.minWidth = i;
        }
      }, n = this.createManagedBean(new TG(this.pinned));
      n.setComp(r, this.getGui());
    }, t.prototype.selectAndSetTemplate = function() {
      var e = this.pinned == "left", r = this.pinned == "right", n = e ? t.PINNED_LEFT_TEMPLATE : r ? t.PINNED_RIGHT_TEMPLATE : t.CENTER_TEMPLATE;
      this.setTemplate(n), this.eRowContainer = this.eCenterContainer ? this.eCenterContainer : this.getGui();
    }, t.prototype.destroyRowComps = function() {
      this.setCtrls([]);
    }, t.prototype.destroyRowComp = function(e) {
      this.destroyBean(e), this.eRowContainer.removeChild(e.getGui());
    }, t.prototype.setCtrls = function(e) {
      var r = this, n = this.headerRowComps;
      this.headerRowComps = {}, this.rowCompsList = [];
      var i, a = function(s) {
        var l = s.getGui(), u = l.parentElement != r.eRowContainer;
        u && r.eRowContainer.appendChild(l), i && xm(r.eRowContainer, l, i), i = l;
      };
      e.forEach(function(s) {
        var l = s.getInstanceId(), u = n[l];
        delete n[l];
        var c = u || r.createBean(new qN(s));
        r.headerRowComps[l] = c, r.rowCompsList.push(c), a(c);
      }), Ei(n).forEach(function(s) {
        return r.destroyRowComp(s);
      });
    }, t.PINNED_LEFT_TEMPLATE = '<div class="ag-pinned-left-header" role="presentation"></div>', t.PINNED_RIGHT_TEMPLATE = '<div class="ag-pinned-right-header" role="presentation"></div>', t.CENTER_TEMPLATE = `<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`, bv([
      G("eCenterContainer")
    ], t.prototype, "eCenterContainer", void 0), bv([
      V
    ], t.prototype, "init", null), bv([
      rt
    ], t.prototype, "destroyRowComps", null), t;
  }(te)
), DG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), xu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, fi;
(function(o) {
  o[o.UP = 0] = "UP", o[o.DOWN = 1] = "DOWN", o[o.LEFT = 2] = "LEFT", o[o.RIGHT = 3] = "RIGHT";
})(fi || (fi = {}));
var PG = (
  /** @class */
  function(o) {
    DG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        e.gridBodyCon = r.gridBodyCtrl;
      });
    }, t.prototype.getHeaderRowCount = function() {
      var e = this.ctrlsService.getHeaderRowContainerCtrl();
      return e ? e.getRowCount() : 0;
    }, t.prototype.navigateVertically = function(e, r, n) {
      if (r || (r = this.focusService.getFocusedHeader()), !r)
        return !1;
      var i = r.headerRowIndex, a = r.column, s = this.getHeaderRowCount(), l = e === fi.UP, u = l ? this.headerPositionUtils.getColumnVisibleParent(a, i) : this.headerPositionUtils.getColumnVisibleChild(a, i), c = u.nextRow, d = u.nextFocusColumn, p = !1;
      return c < 0 && (c = 0, d = a, p = !0), c >= s && (c = -1), !p && !d ? !1 : this.focusService.focusHeaderPosition({
        headerPosition: { headerRowIndex: c, column: d },
        allowUserOverride: !0,
        event: n
      });
    }, t.prototype.navigateHorizontally = function(e, r, n) {
      r === void 0 && (r = !1);
      var i = this.focusService.getFocusedHeader(), a = e === fi.LEFT, s = this.gridOptionsService.is("enableRtl"), l, u;
      return a !== s ? (u = "Before", l = this.headerPositionUtils.findHeader(i, u)) : (u = "After", l = this.headerPositionUtils.findHeader(i, u)), l || !r ? this.focusService.focusHeaderPosition({
        headerPosition: l,
        direction: u,
        fromTab: r,
        allowUserOverride: !0,
        event: n
      }) : this.focusNextHeaderRow(i, u, n);
    }, t.prototype.focusNextHeaderRow = function(e, r, n) {
      var i = e.headerRowIndex, a = null, s;
      return r === "Before" ? i > 0 && (s = i - 1, a = this.headerPositionUtils.findColAtEdgeForHeaderRow(s, "end")) : (s = i + 1, a = this.headerPositionUtils.findColAtEdgeForHeaderRow(s, "start")), this.focusService.focusHeaderPosition({
        headerPosition: a,
        direction: r,
        fromTab: !0,
        allowUserOverride: !0,
        event: n
      });
    }, t.prototype.scrollToColumn = function(e, r) {
      if (r === void 0 && (r = "After"), !e.getPinned()) {
        var n;
        if (e instanceof Fr) {
          var i = e.getDisplayedLeafColumns();
          n = r === "Before" ? et(i) : i[0];
        } else
          n = e;
        this.gridBodyCon.getScrollFeature().ensureColumnVisible(n);
      }
    }, xu([
      w("focusService")
    ], t.prototype, "focusService", void 0), xu([
      w("headerPositionUtils")
    ], t.prototype, "headerPositionUtils", void 0), xu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), xu([
      V
    ], t.prototype, "postConstruct", null), t = xu([
      q("headerNavigationService")
    ], t), t;
  }(W)
), AG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Nd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, MG = (
  /** @class */
  function(o) {
    AG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setComp = function(e, r, n) {
      this.comp = e, this.eGui = r, this.createManagedBean(new Ai(n, {
        onTabKeyDown: this.onTabKeyDown.bind(this),
        handleKeyDown: this.handleKeyDown.bind(this),
        onFocusOut: this.onFocusOut.bind(this)
      })), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onPivotModeChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.onPivotModeChanged(), this.setupHeaderHeight(), this.ctrlsService.registerGridHeaderCtrl(this);
    }, t.prototype.setupHeaderHeight = function() {
      var e = this.setHeaderHeight.bind(this);
      e(), this.addManagedPropertyListener("headerHeight", e), this.addManagedPropertyListener("pivotHeaderHeight", e), this.addManagedPropertyListener("groupHeaderHeight", e), this.addManagedPropertyListener("pivotGroupHeaderHeight", e), this.addManagedPropertyListener("floatingFiltersHeight", e), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_COLUMN_HEADER_HEIGHT_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_GRID_STYLES_CHANGED, e);
    }, t.prototype.getHeaderHeight = function() {
      return this.headerHeight;
    }, t.prototype.setHeaderHeight = function() {
      var e = this.columnModel, r = 0, n = e.getHeaderRowCount(), i, a = e.hasFloatingFilters();
      a && (n++, r = 1);
      var s = this.columnModel.getColumnGroupHeaderRowHeight(), l = this.columnModel.getColumnHeaderRowHeight(), u = 1 + r, c = n - u;
      if (i = r * e.getFloatingFiltersHeight(), i += c * s, i += l, this.headerHeight !== i) {
        this.headerHeight = i;
        var d = i + 1 + "px";
        this.comp.setHeightAndMinHeight(d), this.eventService.dispatchEvent({
          type: R.EVENT_HEADER_HEIGHT_CHANGED
        });
      }
    }, t.prototype.onPivotModeChanged = function() {
      var e = this.columnModel.isPivotMode();
      this.comp.addOrRemoveCssClass("ag-pivot-on", e), this.comp.addOrRemoveCssClass("ag-pivot-off", !e);
    }, t.prototype.onDisplayedColumnsChanged = function() {
      var e = this.columnModel.getAllDisplayedColumns(), r = e.some(function(n) {
        return n.isSpanHeaderHeight();
      });
      this.comp.addOrRemoveCssClass("ag-header-allow-overflow", r);
    }, t.prototype.onTabKeyDown = function(e) {
      var r = this.gridOptionsService.is("enableRtl"), n = e.shiftKey !== r ? fi.LEFT : fi.RIGHT;
      (this.headerNavigationService.navigateHorizontally(n, !0, e) || this.focusService.focusNextGridCoreContainer(e.shiftKey)) && e.preventDefault();
    }, t.prototype.handleKeyDown = function(e) {
      var r = null;
      switch (e.key) {
        case H.LEFT:
          r = fi.LEFT;
        case H.RIGHT:
          z(r) || (r = fi.RIGHT), this.headerNavigationService.navigateHorizontally(r, !1, e);
          break;
        case H.UP:
          r = fi.UP;
        case H.DOWN:
          z(r) || (r = fi.DOWN), this.headerNavigationService.navigateVertically(r, null, e) && e.preventDefault();
          break;
        default:
          return;
      }
    }, t.prototype.onFocusOut = function(e) {
      var r = this.gridOptionsService.getDocument(), n = e.relatedTarget;
      !n && this.eGui.contains(r.activeElement) || this.eGui.contains(n) || this.focusService.clearFocusedHeader();
    }, Nd([
      w("headerNavigationService")
    ], t.prototype, "headerNavigationService", void 0), Nd([
      w("focusService")
    ], t.prototype, "focusService", void 0), Nd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Nd([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t;
  }(W)
), IG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), FG = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, LG = (
  /** @class */
  function(o) {
    IG(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = {
        addOrRemoveCssClass: function(a, s) {
          return e.addOrRemoveCssClass(a, s);
        },
        setHeightAndMinHeight: function(a) {
          e.getGui().style.height = a, e.getGui().style.minHeight = a;
        }
      }, n = this.createManagedBean(new MG());
      n.setComp(r, this.getGui(), this.getFocusableElement());
      var i = function(a) {
        e.createManagedBean(a), e.appendChild(a);
      };
      i(new Ev("left")), i(new Ev(null)), i(new Ev("right"));
    }, t.TEMPLATE = '<div class="ag-header" role="presentation"/>', FG([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), NG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ov = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, GG = (
  /** @class */
  function(o) {
    NG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.addResizeBar = function(e) {
      var r = this, n = {
        dragStartPixels: e.dragStartPixels || 0,
        eElement: e.eResizeBar,
        onDragStart: this.onDragStart.bind(this, e),
        onDragStop: this.onDragStop.bind(this, e),
        onDragging: this.onDragging.bind(this, e),
        includeTouch: !0,
        stopPropagationForTouch: !0
      };
      this.dragService.addDragSource(n);
      var i = function() {
        return r.dragService.removeDragSource(n);
      };
      return i;
    }, t.prototype.onDragStart = function(e, r) {
      this.dragStartX = r.clientX, this.setResizeIcons();
      var n = r instanceof MouseEvent && r.shiftKey === !0;
      e.onResizeStart(n);
    }, t.prototype.setResizeIcons = function() {
      var e = this.ctrlsService.getGridCtrl();
      e.setResizeCursor(!0), e.disableUserSelect(!0);
    }, t.prototype.onDragStop = function(e, r) {
      e.onResizeEnd(this.resizeAmount), this.resetIcons();
    }, t.prototype.resetIcons = function() {
      var e = this.ctrlsService.getGridCtrl();
      e.setResizeCursor(!1), e.disableUserSelect(!1);
    }, t.prototype.onDragging = function(e, r) {
      this.resizeAmount = r.clientX - this.dragStartX, e.onResizing(this.resizeAmount);
    }, Ov([
      w("dragService")
    ], t.prototype, "dragService", void 0), Ov([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t = Ov([
      q("horizontalResizeService")
    ], t), t;
  }(W)
), kG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Tu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, VG = (
  /** @class */
  function(o) {
    kG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.hideActiveMenu = function() {
      this.hidePopup && this.hidePopup();
    }, t.prototype.showMenuAfterMouseEvent = function(e, r) {
      var n = this;
      this.showPopup(e, function(i) {
        n.popupService.positionPopupUnderMouseEvent({
          column: e,
          type: "columnMenu",
          mouseEvent: r,
          ePopup: i
        });
      }, "columnMenu", r.target);
    }, t.prototype.showMenuAfterButtonClick = function(e, r, n) {
      var i = this;
      this.showPopup(e, function(a) {
        i.popupService.positionPopupByComponent({
          type: n,
          eventSource: r,
          ePopup: a,
          keepWithinBounds: !0,
          position: "under",
          column: e
        });
      }, n, r);
    }, t.prototype.showPopup = function(e, r, n, i) {
      var a = this, s = this.filterManager.getOrCreateFilterWrapper(e, "COLUMN_MENU");
      if (!s)
        throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");
      var l = document.createElement("div");
      Ut(l, "presentation"), l.classList.add("ag-menu"), this.tabListener = this.addManagedListener(l, "keydown", function(v) {
        return a.trapFocusWithin(v, l);
      }), s.guiPromise.then(function(v) {
        return l.appendChild(v);
      });
      var u, c = function() {
        var v;
        return (v = s.filterPromise) === null || v === void 0 ? void 0 : v.then(function(g) {
          var y;
          return (y = g == null ? void 0 : g.afterGuiDetached) === null || y === void 0 ? void 0 : y.call(g);
        });
      }, d = i || this.ctrlsService.getGridBodyCtrl().getGui(), p = function(v) {
        e.setMenuVisible(!1, "contextMenu");
        var g = v instanceof KeyboardEvent;
        if (a.tabListener && (a.tabListener = a.tabListener()), g && i && so(i)) {
          var y = a.focusService.findTabbableParent(i);
          y && y.focus();
        }
        c();
      }, h = this.localeService.getLocaleTextFunc(), f = this.popupService.addPopup({
        modal: !0,
        eChild: l,
        closeOnEsc: !0,
        closedCallback: p,
        positionCallback: function() {
          return r(l);
        },
        anchorToElement: d,
        ariaLabel: h("ariaLabelColumnMenu", "Column Menu")
      });
      f && (this.hidePopup = u = f.hideFunc), s.filterPromise.then(function(v) {
        r(l), v.afterGuiAttached && v.afterGuiAttached({ container: n, hidePopup: u });
      }), e.setMenuVisible(!0, "contextMenu");
    }, t.prototype.trapFocusWithin = function(e, r) {
      e.key !== H.TAB || e.defaultPrevented || this.focusService.findNextFocusableElement(r, !1, e.shiftKey) || (e.preventDefault(), this.focusService.focusInto(r, e.shiftKey));
    }, t.prototype.isMenuEnabled = function(e) {
      return e.isFilterAllowed() && e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab");
    }, Tu([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Tu([
      w("popupService")
    ], t.prototype, "popupService", void 0), Tu([
      w("focusService")
    ], t.prototype, "focusService", void 0), Tu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t = Tu([
      q("menuFactory")
    ], t), t;
  }(W)
), BG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Gd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, HE = (
  /** @class */
  function(o) {
    BG(t, o);
    function t(e) {
      var r = o.call(this, t.getTemplate(e.cssClass)) || this;
      return r.items = [], r.tabbedItemScrollMap = /* @__PURE__ */ new Map(), r.params = e, e.items && e.items.forEach(function(n) {
        return r.addItem(n);
      }), r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.createManagedBean(new Ai(this.getFocusableElement(), {
        onTabKeyDown: this.onTabKeyDown.bind(this),
        handleKeyDown: this.handleKeyDown.bind(this)
      })), this.addDestroyFunc(function() {
        var r, n, i;
        return (i = (n = (r = e.activeItem) === null || r === void 0 ? void 0 : r.tabbedItem) === null || n === void 0 ? void 0 : n.afterDetachedCallback) === null || i === void 0 ? void 0 : i.call(n);
      });
    }, t.getTemplate = function(e) {
      return (
        /* html */
        '<div class="ag-tabs ' + e + `">
            <div ref="eHeader" role="tablist" class="ag-tabs-header ` + (e ? e + "-header" : "") + `"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ` + (e ? e + "-body" : "") + `"></div>
        </div>`
      );
    }, t.prototype.handleKeyDown = function(e) {
      var r = this.gridOptionsService.getDocument();
      switch (e.key) {
        case H.RIGHT:
        case H.LEFT:
          if (!this.eHeader.contains(r.activeElement))
            return;
          var n = e.key === H.RIGHT, i = this.gridOptionsService.is("enableRtl"), a = this.items.indexOf(this.activeItem), s = n !== i ? Math.min(a + 1, this.items.length - 1) : Math.max(a - 1, 0);
          if (a === s)
            return;
          e.preventDefault();
          var l = this.items[s];
          this.showItemWrapper(l), l.eHeaderButton.focus();
          break;
        case H.UP:
        case H.DOWN:
          e.stopPropagation();
          break;
      }
    }, t.prototype.onTabKeyDown = function(e) {
      if (!e.defaultPrevented) {
        var r = this, n = r.focusService, i = r.eHeader, a = r.eBody, s = r.activeItem, l = this.gridOptionsService.getDocument(), u = l.activeElement, c = e.target;
        if (e.preventDefault(), i.contains(u)) {
          n.focusInto(a, e.shiftKey);
          return;
        }
        var d = null;
        n.isTargetUnderManagedComponent(a, c) && (e.shiftKey && (d = this.focusService.findFocusableElementBeforeTabGuard(a, c)), d || (d = s.eHeaderButton)), !d && a.contains(u) && (d = n.findNextFocusableElement(a, !1, e.shiftKey), d || (d = s.eHeaderButton)), d && d.focus();
      }
    }, t.prototype.setAfterAttachedParams = function(e) {
      this.afterAttachedParams = e;
    }, t.prototype.showFirstItem = function() {
      this.items.length > 0 && this.showItemWrapper(this.items[0]);
    }, t.prototype.addItem = function(e) {
      var r = document.createElement("span");
      Ut(r, "tab"), r.setAttribute("tabindex", "-1"), r.appendChild(e.title), r.classList.add("ag-tab"), this.eHeader.appendChild(r), ra(r, e.titleLabel);
      var n = {
        tabbedItem: e,
        eHeaderButton: r
      };
      this.items.push(n), r.addEventListener("click", this.showItemWrapper.bind(this, n));
    }, t.prototype.showItem = function(e) {
      var r = this.items.find(function(n) {
        return n.tabbedItem === e;
      });
      r && this.showItemWrapper(r);
    }, t.prototype.showItemWrapper = function(e) {
      var r = this, n, i, a = e.tabbedItem, s = e.eHeaderButton;
      if (this.params.onItemClicked && this.params.onItemClicked({ item: a }), this.activeItem === e) {
        _b(this.params.onActiveItemClicked);
        return;
      }
      this.lastScrollListener && (this.lastScrollListener = this.lastScrollListener()), Qr(this.eBody), a.bodyPromise.then(function(l) {
        r.eBody.appendChild(l);
        var u = !r.focusService.isKeyboardMode();
        if (r.focusService.focusInto(r.eBody, !1, u), a.afterAttachedCallback && a.afterAttachedCallback(r.afterAttachedParams), r.params.keepScrollPosition) {
          var c = a.getScrollableContainer && a.getScrollableContainer() || l;
          r.lastScrollListener = r.addManagedListener(c, "scroll", function() {
            r.tabbedItemScrollMap.set(a.name, c.scrollTop);
          });
          var d = r.tabbedItemScrollMap.get(a.name);
          d !== void 0 && setTimeout(function() {
            c.scrollTop = d;
          }, 0);
        }
      }), this.activeItem && (this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"), (i = (n = this.activeItem.tabbedItem).afterDetachedCallback) === null || i === void 0 || i.call(n)), s.classList.add("ag-tab-selected"), this.activeItem = e;
    }, Gd([
      w("focusService")
    ], t.prototype, "focusService", void 0), Gd([
      G("eHeader")
    ], t.prototype, "eHeader", void 0), Gd([
      G("eBody")
    ], t.prototype, "eBody", void 0), Gd([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), HG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jG = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, WG = 50, $G = (
  /** @class */
  function(o) {
    HG(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.polyfillFunctions = [], e;
    }
    return t.prototype.observeResize = function(e, r) {
      var n = this, i = this.gridOptionsService.getWindow(), a = function() {
        var c = new i.ResizeObserver(r);
        return c.observe(e), function() {
          return c.disconnect();
        };
      }, s = function() {
        var c = ay(e), d = oy(e), p = !0, h = function() {
          if (p) {
            var f = ay(e), v = oy(e), g = f !== c || v !== d;
            g && (c = f, d = v, r()), n.doNextPolyfillTurn(h);
          }
        };
        return h(), function() {
          return p = !1;
        };
      }, l = this.gridOptionsService.is("suppressBrowserResizeObserver"), u = !!i.ResizeObserver;
      return u && !l ? a() : s();
    }, t.prototype.doNextPolyfillTurn = function(e) {
      this.polyfillFunctions.push(e), this.schedulePolyfill();
    }, t.prototype.schedulePolyfill = function() {
      var e = this;
      if (!this.polyfillScheduled) {
        var r = function() {
          var n = e.polyfillFunctions;
          e.polyfillScheduled = !1, e.polyfillFunctions = [], n.forEach(function(i) {
            return i();
          });
        };
        this.polyfillScheduled = !0, this.getFrameworkOverrides().setTimeout(r, WG);
      }
    }, t = jG([
      q("resizeObserverService")
    ], t), t;
  }(W)
), UG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), kd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, zG = (
  /** @class */
  function(o) {
    UG(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.createTasksP1 = { list: [], sorted: !1 }, e.createTasksP2 = { list: [], sorted: !1 }, e.destroyTasks = [], e.ticking = !1, e.scrollGoingDown = !0, e.lastPage = 0, e.lastScrollTop = 0, e.taskCount = 0, e.cancelledTasks = /* @__PURE__ */ new Set(), e;
    }
    return t.prototype.setScrollTop = function(e) {
      var r = this.gridOptionsService.is("pagination");
      if (this.scrollGoingDown = e >= this.lastScrollTop, r && e === 0) {
        var n = this.paginationProxy.getCurrentPage();
        n !== this.lastPage && (this.lastPage = n, this.scrollGoingDown = !0);
      }
      this.lastScrollTop = e;
    }, t.prototype.init = function() {
      this.useAnimationFrame = !this.gridOptionsService.is("suppressAnimationFrame");
    }, t.prototype.isOn = function() {
      return this.useAnimationFrame;
    }, t.prototype.verifyAnimationFrameOn = function(e) {
      this.useAnimationFrame === !1 && console.warn("AG Grid: AnimationFrameService." + e + " called but animation frames are off");
    }, t.prototype.createTask = function(e, r, n) {
      this.verifyAnimationFrameOn(n);
      var i = { task: e, index: r, createOrder: ++this.taskCount };
      this.addTaskToList(this[n], i), this.schedule();
    }, t.prototype.cancelTask = function(e) {
      this.cancelledTasks.add(e);
    }, t.prototype.addTaskToList = function(e, r) {
      e.list.push(r), e.sorted = !1;
    }, t.prototype.sortTaskList = function(e) {
      if (!e.sorted) {
        var r = this.scrollGoingDown ? 1 : -1;
        e.list.sort(function(n, i) {
          return n.index !== i.index ? r * (i.index - n.index) : i.createOrder - n.createOrder;
        }), e.sorted = !0;
      }
    }, t.prototype.addDestroyTask = function(e) {
      this.verifyAnimationFrameOn("createTasksP3"), this.destroyTasks.push(e), this.schedule();
    }, t.prototype.executeFrame = function(e) {
      this.verifyAnimationFrameOn("executeFrame");
      for (var r = this.createTasksP1, n = r.list, i = this.createTasksP2, a = i.list, s = this.destroyTasks, l = (/* @__PURE__ */ new Date()).getTime(), u = (/* @__PURE__ */ new Date()).getTime() - l, c = e <= 0, d = this.ctrlsService.getGridBodyCtrl(); c || u < e; ) {
        var p = d.getScrollFeature().scrollGridIfNeeded();
        if (!p) {
          var h = void 0;
          if (n.length)
            this.sortTaskList(r), h = n.pop().task;
          else if (a.length)
            this.sortTaskList(i), h = a.pop().task;
          else if (s.length)
            h = s.pop();
          else {
            this.cancelledTasks.clear();
            break;
          }
          this.cancelledTasks.has(h) || h();
        }
        u = (/* @__PURE__ */ new Date()).getTime() - l;
      }
      n.length || a.length || s.length ? this.requestFrame() : this.stopTicking();
    }, t.prototype.stopTicking = function() {
      this.ticking = !1;
    }, t.prototype.flushAllFrames = function() {
      this.useAnimationFrame && this.executeFrame(-1);
    }, t.prototype.schedule = function() {
      this.useAnimationFrame && (this.ticking || (this.ticking = !0, this.requestFrame()));
    }, t.prototype.requestFrame = function() {
      var e = this.executeFrame.bind(this, 60);
      this.requestAnimationFrame(e);
    }, t.prototype.requestAnimationFrame = function(e) {
      var r = this.gridOptionsService.getWindow();
      r.requestAnimationFrame ? r.requestAnimationFrame(e) : r.webkitRequestAnimationFrame ? r.webkitRequestAnimationFrame(e) : r.setTimeout(e, 0);
    }, t.prototype.isQueueEmpty = function() {
      return !this.ticking;
    }, t.prototype.debounce = function(e) {
      var r = this, n = !1;
      return function() {
        if (!r.isOn()) {
          r.getFrameworkOverrides().setTimeout(e, 0);
          return;
        }
        n || (n = !0, r.addDestroyTask(function() {
          n = !1, e();
        }));
      };
    }, kd([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), kd([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), kd([
      V
    ], t.prototype, "init", null), t = kd([
      q("animationFrameService")
    ], t), t;
  }(W)
), KG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ru = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YG = (
  /** @class */
  function(o) {
    KG(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        e.centerRowContainerCtrl = r.centerRowContainerCtrl;
      });
    }, t.prototype.getPreferredWidthForColumn = function(e, r) {
      var n = this.getHeaderCellForColumn(e);
      if (!n)
        return -1;
      var i = this.rowRenderer.getAllCellsForColumn(e);
      return r || i.push(n), this.addElementsToContainerAndGetWidth(i);
    }, t.prototype.getPreferredWidthForColumnGroup = function(e) {
      var r = this.getHeaderCellForColumn(e);
      return r ? this.addElementsToContainerAndGetWidth([r]) : -1;
    }, t.prototype.addElementsToContainerAndGetWidth = function(e) {
      var r = this, n = document.createElement("form");
      n.style.position = "fixed";
      var i = this.centerRowContainerCtrl.getContainerElement();
      e.forEach(function(l) {
        return r.cloneItemIntoDummy(l, n);
      }), i.appendChild(n);
      var a = n.offsetWidth;
      i.removeChild(n);
      var s = this.getAutoSizePadding();
      return a + s;
    }, t.prototype.getAutoSizePadding = function() {
      var e = this.gridOptionsService.getNum("autoSizePadding");
      return e != null && e >= 0 ? e : 20;
    }, t.prototype.getHeaderCellForColumn = function(e) {
      var r = null;
      return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n) {
        var i = n.getHtmlElementForColumnHeader(e);
        i != null && (r = i);
      }), r;
    }, t.prototype.cloneItemIntoDummy = function(e, r) {
      var n = e.cloneNode(!0);
      n.style.width = "", n.style.position = "static", n.style.left = "";
      var i = document.createElement("div"), a = i.classList, s = ["ag-header-cell", "ag-header-group-cell"].some(function(p) {
        return n.classList.contains(p);
      });
      s ? (a.add("ag-header", "ag-header-row"), i.style.position = "static") : a.add("ag-row");
      for (var l = e.parentElement; l; ) {
        var u = ["ag-header-row", "ag-row"].some(function(p) {
          return l.classList.contains(p);
        });
        if (u) {
          for (var c = 0; c < l.classList.length; c++) {
            var d = l.classList[c];
            d != "ag-row-position-absolute" && a.add(d);
          }
          break;
        }
        l = l.parentElement;
      }
      i.appendChild(n), r.appendChild(i);
    }, Ru([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Ru([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Ru([
      w("rowCssClassCalculator")
    ], t.prototype, "rowCssClassCalculator", void 0), Ru([
      V
    ], t.prototype, "postConstruct", null), t = Ru([
      q("autoWidthCalculator")
    ], t), t;
  }(W)
), XG = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Vd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, qG = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, ZG = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, QG = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, JG = (
  /** @class */
  function(o) {
    XG(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.createRowCon = e, n.destroyRowCtrls = r, n.stickyRowCtrls = [], n.containerHeight = 0, n;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.isClientSide = this.rowModel.getType() === "clientSide", this.ctrlsService.whenReady(function(r) {
        e.gridBodyCtrl = r.gridBodyCtrl;
      });
    }, t.prototype.getStickyRowCtrls = function() {
      return this.stickyRowCtrls;
    }, t.prototype.checkStickyRows = function() {
      var e = this, r = 0;
      if (!this.gridOptionsService.isGroupRowsSticky()) {
        this.refreshNodesAndContainerHeight([], r);
        return;
      }
      for (var n = [], i = this.rowRenderer.getFirstVisibleVerticalPixel(), a = function(h) {
        var f, v, g;
        n.push(h);
        var y;
        if (e.isClientSide) {
          for (var m = h; m.expanded; )
            if (m.master)
              m = m.detailNode;
            else if (m.childrenAfterSort) {
              if (m.childrenAfterSort.length === 0)
                break;
              m = et(m.childrenAfterSort);
            }
          y = m.rowTop + m.rowHeight;
        } else if (h.master)
          y = h.detailNode.rowTop + h.detailNode.rowHeight;
        else {
          var C = (f = h.childStore) === null || f === void 0 ? void 0 : f.getStoreBounds();
          y = ((v = C == null ? void 0 : C.heightPx) !== null && v !== void 0 ? v : 0) + ((g = C == null ? void 0 : C.topPx) !== null && g !== void 0 ? g : 0);
        }
        var S = i + r + h.rowHeight;
        y < S ? h.stickyRowTop = r + (y - S) : h.stickyRowTop = r, r = 0, n.forEach(function(b) {
          var _ = b.stickyRowTop + b.rowHeight;
          r < _ && (r = _);
        });
      }; ; ) {
        var s = i + r, l = this.rowModel.getRowIndexAtPixel(s), u = this.rowModel.getRow(l);
        if (u == null || u.level < 0)
          break;
        for (var c = [], d = u.parent; d.level >= 0; )
          c.push(d), d = d.parent;
        var p = c.reverse().find(function(h) {
          return n.indexOf(h) < 0 && h.displayed;
        });
        if (p) {
          a(p);
          continue;
        }
        if (u.isExpandable() && u.expanded && u.rowTop < s) {
          a(u);
          continue;
        }
        break;
      }
      this.refreshNodesAndContainerHeight(n, r);
    }, t.prototype.refreshStickyNode = function(e) {
      for (var r = [], n = 0; n < this.stickyRowCtrls.length; n++) {
        var i = this.stickyRowCtrls[n].getRowNode();
        i !== e && r.push(i);
      }
      this.refreshNodesAndContainerHeight(r, this.containerHeight), this.checkStickyRows();
    }, t.prototype.refreshNodesAndContainerHeight = function(e, r) {
      var n, i, a, s = this, l = this.stickyRowCtrls.filter(function(v) {
        return e.indexOf(v.getRowNode()) === -1;
      }), u = e.filter(function(v) {
        return s.stickyRowCtrls.findIndex(function(g) {
          return g.getRowNode() === v;
        }) === -1;
      }), c = {};
      l.forEach(function(v) {
        c[v.getRowNode().id] = v, s.stickyRowCtrls = s.stickyRowCtrls.filter(function(g) {
          return g !== v;
        });
      });
      try {
        for (var d = qG(Object.values(c)), p = d.next(); !p.done; p = d.next()) {
          var h = p.value;
          h.getRowNode().sticky = !1;
        }
      } catch (v) {
        n = { error: v };
      } finally {
        try {
          p && !p.done && (i = d.return) && i.call(d);
        } finally {
          if (n)
            throw n.error;
        }
      }
      this.destroyRowCtrls(c, !1);
      var f = u.map(function(v) {
        return v.sticky = !0, s.createRowCon(v, !1, !1);
      });
      (a = this.stickyRowCtrls).push.apply(a, QG([], ZG(f))), this.stickyRowCtrls.forEach(function(v) {
        return v.setRowTop(v.getRowNode().stickyRowTop);
      }), this.stickyRowCtrls.sort(function(v, g) {
        return g.getRowNode().rowIndex - v.getRowNode().rowIndex;
      }), this.containerHeight !== r && (this.containerHeight = r, this.gridBodyCtrl.setStickyTopHeight(r));
    }, Vd([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Vd([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Vd([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Vd([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), ek = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), An = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, yo = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, mo = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, tk = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, rk = 10, nk = (
  /** @class */
  function(o) {
    ek(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.destroyFuncsForColumnListeners = [], e.rowCtrlsByRowIndex = {}, e.zombieRowCtrls = {}, e.allRowCtrls = [], e.topRowCtrls = [], e.bottomRowCtrls = [], e.refreshInProgress = !1, e.dataFirstRenderedFired = !1, e;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function() {
        e.gridBodyCtrl = e.ctrlsService.getGridBodyCtrl(), e.initialise();
      });
    }, t.prototype.initialise = function() {
      if (this.addManagedListener(this.eventService, R.EVENT_PAGINATION_CHANGED, this.onPageLoaded.bind(this)), this.addManagedListener(this.eventService, R.EVENT_PINNED_ROW_DATA_CHANGED, this.onPinnedRowDataChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_BODY_SCROLL, this.onBodyScroll.bind(this)), this.addManagedListener(this.eventService, R.EVENT_BODY_HEIGHT_CHANGED, this.redraw.bind(this)), this.addManagedPropertyListener("domLayout", this.onDomLayoutChanged.bind(this)), this.addManagedPropertyListener("rowClass", this.redrawRows.bind(this)), this.gridOptionsService.isGroupRowsSticky()) {
        var e = this.rowModel.getType();
        (e === "clientSide" || e === "serverSide") && (this.stickyRowFeature = this.createManagedBean(new JG(this.createRowCon.bind(this), this.destroyRowCtrls.bind(this))));
      }
      this.registerCellEventListeners(), this.initialiseCache(), this.printLayout = this.gridOptionsService.isDomLayout("print"), this.embedFullWidthRows = this.printLayout || this.gridOptionsService.is("embedFullWidthRows"), this.redrawAfterModelUpdate();
    }, t.prototype.initialiseCache = function() {
      if (this.gridOptionsService.is("keepDetailRows")) {
        var e = this.getKeepDetailRowsCount(), r = e != null ? e : 3;
        this.cachedRowCtrls = new ik(r);
      }
    }, t.prototype.getKeepDetailRowsCount = function() {
      var e = this.gridOptionsService.getNum("keepDetailRowsCount");
      return z(e) && e > 0 ? e : rk;
    }, t.prototype.getRowCtrls = function() {
      return this.allRowCtrls;
    }, t.prototype.getStickyTopRowCtrls = function() {
      return this.stickyRowFeature ? this.stickyRowFeature.getStickyRowCtrls() : [];
    }, t.prototype.updateAllRowCtrls = function() {
      var e = Ei(this.rowCtrlsByRowIndex), r = this.gridOptionsService.is("ensureDomOrder"), n = this.gridOptionsService.isDomLayout("print");
      (r || n) && e.sort(function(s, l) {
        return s.getRowNode().rowIndex - l.getRowNode.rowIndex;
      });
      var i = Ei(this.zombieRowCtrls), a = this.cachedRowCtrls ? this.cachedRowCtrls.getEntries() : [];
      this.allRowCtrls = mo(mo(mo([], yo(e)), yo(i)), yo(a));
    }, t.prototype.onCellFocusChanged = function(e) {
      this.getAllCellCtrls().forEach(function(r) {
        return r.onCellFocused(e);
      }), this.getFullWidthRowCtrls().forEach(function(r) {
        return r.onFullWidthRowFocused(e);
      });
    }, t.prototype.registerCellEventListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_CELL_FOCUSED, function(n) {
        e.onCellFocusChanged(n);
      }), this.addManagedListener(this.eventService, R.EVENT_CELL_FOCUS_CLEARED, function() {
        e.onCellFocusChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_FLASH_CELLS, function(n) {
        e.getAllCellCtrls().forEach(function(i) {
          return i.onFlashCells(n);
        });
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_HOVER_CHANGED, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.onColumnHover();
        });
      }), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.onDisplayedColumnsChanged();
        });
      }), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, function() {
        e.printLayout && e.getAllCellCtrls().forEach(function(n) {
          return n.onLeftChanged();
        });
      });
      var r = this.gridOptionsService.isEnableRangeSelection();
      r && (this.addManagedListener(this.eventService, R.EVENT_RANGE_SELECTION_CHANGED, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.onRangeSelectionChanged();
        });
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.updateRangeBordersIfRangeCount();
        });
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PINNED, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.updateRangeBordersIfRangeCount();
        });
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, function() {
        e.getAllCellCtrls().forEach(function(n) {
          return n.updateRangeBordersIfRangeCount();
        });
      })), this.refreshListenersToColumnsForCellComps(), this.addManagedListener(this.eventService, R.EVENT_GRID_COLUMNS_CHANGED, this.refreshListenersToColumnsForCellComps.bind(this)), this.addDestroyFunc(this.removeGridColumnListeners.bind(this));
    }, t.prototype.removeGridColumnListeners = function() {
      this.destroyFuncsForColumnListeners.forEach(function(e) {
        return e();
      }), this.destroyFuncsForColumnListeners.length = 0;
    }, t.prototype.refreshListenersToColumnsForCellComps = function() {
      var e = this;
      this.removeGridColumnListeners();
      var r = this.columnModel.getAllGridColumns();
      r && r.forEach(function(n) {
        var i = function(d) {
          e.getAllCellCtrls().forEach(function(p) {
            p.getColumn() === n && d(p);
          });
        }, a = function() {
          i(function(d) {
            return d.onLeftChanged();
          });
        }, s = function() {
          i(function(d) {
            return d.onWidthChanged();
          });
        }, l = function() {
          i(function(d) {
            return d.onFirstRightPinnedChanged();
          });
        }, u = function() {
          i(function(d) {
            return d.onLastLeftPinnedChanged();
          });
        }, c = function() {
          i(function(d) {
            return d.onColDefChanged();
          });
        };
        n.addEventListener("leftChanged", a), n.addEventListener("widthChanged", s), n.addEventListener("firstRightPinnedChanged", l), n.addEventListener("lastLeftPinnedChanged", u), n.addEventListener("colDefChanged", c), e.destroyFuncsForColumnListeners.push(function() {
          n.removeEventListener("leftChanged", a), n.removeEventListener("widthChanged", s), n.removeEventListener("firstRightPinnedChanged", l), n.removeEventListener("lastLeftPinnedChanged", u), n.removeEventListener("colDefChanged", c);
        });
      });
    }, t.prototype.onDomLayoutChanged = function() {
      var e = this.gridOptionsService.isDomLayout("print"), r = e || this.gridOptionsService.is("embedFullWidthRows"), n = r !== this.embedFullWidthRows || this.printLayout !== e;
      this.printLayout = e, this.embedFullWidthRows = r, n && this.redrawAfterModelUpdate({ domLayoutChanged: !0 });
    }, t.prototype.datasourceChanged = function() {
      this.firstRenderedRow = 0, this.lastRenderedRow = -1;
      var e = Object.keys(this.rowCtrlsByRowIndex);
      this.removeRowCtrls(e);
    }, t.prototype.onPageLoaded = function(e) {
      var r = {
        recycleRows: e.keepRenderedRows,
        animate: e.animate,
        newData: e.newData,
        newPage: e.newPage,
        // because this is a model updated event (not pinned rows), we
        // can skip updating the pinned rows. this is needed so that if user
        // is doing transaction updates, the pinned rows are not getting constantly
        // trashed - or editing cells in pinned rows are not refreshed and put into read mode
        onlyBody: !0
      };
      this.redrawAfterModelUpdate(r);
    }, t.prototype.getAllCellsForColumn = function(e) {
      var r = [];
      return this.getAllRowCtrls().forEach(function(n) {
        var i = n.getCellElement(e);
        i && r.push(i);
      }), r;
    }, t.prototype.refreshFloatingRowComps = function() {
      this.refreshFloatingRows(this.topRowCtrls, this.pinnedRowModel.getPinnedTopRowData()), this.refreshFloatingRows(this.bottomRowCtrls, this.pinnedRowModel.getPinnedBottomRowData());
    }, t.prototype.getTopRowCtrls = function() {
      return this.topRowCtrls;
    }, t.prototype.getBottomRowCtrls = function() {
      return this.bottomRowCtrls;
    }, t.prototype.refreshFloatingRows = function(e, r) {
      var n = this;
      e.forEach(function(i) {
        i.destroyFirstPass(), i.destroySecondPass();
      }), e.length = 0, r && r.forEach(function(i) {
        var a = new Ja(i, n.beans, !1, !1, n.printLayout);
        e.push(a);
      });
    }, t.prototype.onPinnedRowDataChanged = function() {
      var e = {
        recycleRows: !0
      };
      this.redrawAfterModelUpdate(e);
    }, t.prototype.getRenderedIndexesForRowNodes = function(e) {
      var r = [];
      return me(e) || ut(this.rowCtrlsByRowIndex, function(n, i) {
        var a = i.getRowNode();
        e.indexOf(a) >= 0 && r.push(n);
      }), r;
    }, t.prototype.redrawRows = function(e) {
      var r = e != null && e.length > 0;
      if (r) {
        var n = this.getRenderedIndexesForRowNodes(e);
        this.removeRowCtrls(n);
      }
      this.redrawAfterModelUpdate({
        recycleRows: r
      });
    }, t.prototype.getCellToRestoreFocusToAfterRefresh = function(e) {
      var r = e != null && e.suppressKeepFocus ? null : this.focusService.getFocusCellToUseAfterRefresh();
      if (r == null)
        return null;
      var n = this.gridOptionsService.getDocument(), i = n.activeElement, a = this.gridOptionsService.getDomData(i, Ko.DOM_DATA_KEY_CELL_CTRL), s = this.gridOptionsService.getDomData(i, Ja.DOM_DATA_KEY_ROW_CTRL), l = a || s;
      return l ? r : null;
    }, t.prototype.redrawAfterModelUpdate = function(e) {
      e === void 0 && (e = {}), this.getLockOnRefresh();
      var r = this.getCellToRestoreFocusToAfterRefresh(e);
      this.updateContainerHeights(), this.scrollToTopIfNewData(e);
      var n = !e.domLayoutChanged && !!e.recycleRows, i = e.animate && this.gridOptionsService.isAnimateRows(), a = n ? this.getRowsToRecycle() : null;
      n || this.removeAllRowComps(), this.recycleRows(a, i), this.gridBodyCtrl.updateRowCount(), e.onlyBody || this.refreshFloatingRowComps(), this.dispatchDisplayedRowsChanged(), r != null && this.restoreFocusedCell(r), this.releaseLockOnRefresh();
    }, t.prototype.scrollToTopIfNewData = function(e) {
      var r = e.newData || e.newPage, n = this.gridOptionsService.is("suppressScrollOnNewData");
      r && !n && this.gridBodyCtrl.getScrollFeature().scrollToTop();
    }, t.prototype.updateContainerHeights = function() {
      if (this.printLayout) {
        this.rowContainerHeightService.setModelHeight(null);
        return;
      }
      var e = this.paginationProxy.getCurrentPageHeight();
      e === 0 && (e = 1), this.rowContainerHeightService.setModelHeight(e);
    }, t.prototype.getLockOnRefresh = function() {
      if (this.refreshInProgress)
        throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");
      this.refreshInProgress = !0;
    }, t.prototype.releaseLockOnRefresh = function() {
      this.refreshInProgress = !1;
    }, t.prototype.isRefreshInProgress = function() {
      return this.refreshInProgress;
    }, t.prototype.restoreFocusedCell = function(e) {
      e && (this.focusService.setRestoreFocusedCell(e), this.onCellFocusChanged({
        rowIndex: e.rowIndex,
        column: e.column,
        rowPinned: e.rowPinned,
        forceBrowserFocus: !0,
        preventScrollOnBrowserFocus: !0,
        api: this.beans.gridApi,
        columnApi: this.beans.columnApi,
        context: this.beans.gridOptionsService.context,
        type: "mock"
      }));
    }, t.prototype.stopEditing = function(e) {
      e === void 0 && (e = !1), this.getAllRowCtrls().forEach(function(r) {
        r.stopEditing(e);
      });
    }, t.prototype.getAllCellCtrls = function() {
      for (var e = [], r = this.getAllRowCtrls(), n = r.length, i = 0; i < n; i++)
        for (var a = r[i].getAllCellCtrls(), s = a.length, l = 0; l < s; l++)
          e.push(a[l]);
      return e;
    }, t.prototype.getAllRowCtrls = function() {
      var e, r, n = this.stickyRowFeature && this.stickyRowFeature.getStickyRowCtrls() || [], i = mo(mo(mo([], yo(this.topRowCtrls)), yo(this.bottomRowCtrls)), yo(n));
      try {
        for (var a = tk(Object.keys(this.rowCtrlsByRowIndex)), s = a.next(); !s.done; s = a.next()) {
          var l = s.value;
          i.push(this.rowCtrlsByRowIndex[l]);
        }
      } catch (u) {
        e = { error: u };
      } finally {
        try {
          s && !s.done && (r = a.return) && r.call(a);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return i;
    }, t.prototype.addRenderedRowListener = function(e, r, n) {
      var i = this.rowCtrlsByRowIndex[r];
      i && i.addEventListener(e, n);
    }, t.prototype.flashCells = function(e) {
      e === void 0 && (e = {});
      var r = e.flashDelay, n = e.fadeDelay;
      this.getCellCtrls(e.rowNodes, e.columns).forEach(function(i) {
        return i.flashCell({ flashDelay: r, fadeDelay: n });
      });
    }, t.prototype.refreshCells = function(e) {
      e === void 0 && (e = {});
      var r = {
        forceRefresh: e.force,
        newData: !1,
        suppressFlash: e.suppressFlash
      };
      this.getCellCtrls(e.rowNodes, e.columns).forEach(function(n) {
        if (n.refreshShouldDestroy()) {
          var i = n.getRowCtrl();
          i && i.refreshCell(n);
        } else
          n.refreshCell(r);
      }), this.refreshFullWidthRows(e.rowNodes);
    }, t.prototype.getCellRendererInstances = function(e) {
      var r = this, n, i = this.getCellCtrls(e.rowNodes, e.columns).map(function(l) {
        return l.getCellRenderer();
      }).filter(function(l) {
        return l != null;
      });
      if (!((n = e.columns) === null || n === void 0) && n.length)
        return i;
      var a = [], s = this.mapRowNodes(e.rowNodes);
      return this.getAllRowCtrls().forEach(function(l) {
        if (!(s && !r.isRowInMap(l.getRowNode(), s)) && l.isFullWidth()) {
          var u = l.getFullWidthCellRenderer();
          u && a.push(u);
        }
      }), mo(mo([], yo(a)), yo(i));
    }, t.prototype.getCellEditorInstances = function(e) {
      var r = [];
      return this.getCellCtrls(e.rowNodes, e.columns).forEach(function(n) {
        var i = n.getCellEditor();
        i && r.push(i);
      }), r;
    }, t.prototype.getEditingCells = function() {
      var e = [];
      return this.getAllCellCtrls().forEach(function(r) {
        if (r.isEditing()) {
          var n = r.getCellPosition();
          e.push(n);
        }
      }), e;
    }, t.prototype.mapRowNodes = function(e) {
      if (e) {
        var r = {
          top: {},
          bottom: {},
          normal: {}
        };
        return e.forEach(function(n) {
          var i = n.id;
          n.rowPinned === "top" ? r.top[i] = n : n.rowPinned === "bottom" ? r.bottom[i] = n : r.normal[i] = n;
        }), r;
      }
    }, t.prototype.isRowInMap = function(e, r) {
      var n = e.id, i = e.rowPinned;
      return i === "bottom" ? r.bottom[n] != null : i === "top" ? r.top[n] != null : r.normal[n] != null;
    }, t.prototype.getCellCtrls = function(e, r) {
      var n = this, i = this.mapRowNodes(e), a = [], s;
      z(r) && (s = {}, r.forEach(function(u) {
        var c = n.columnModel.getGridColumn(u);
        z(c) && (s[c.getId()] = !0);
      }));
      var l = function(u) {
        var c = u.getRowNode();
        i != null && !n.isRowInMap(c, i) || u.getAllCellCtrls().forEach(function(d) {
          var p = d.getColumn().getId(), h = s && !s[p];
          h || a.push(d);
        });
      };
      return this.getAllRowCtrls().forEach(function(u) {
        return l(u);
      }), a;
    }, t.prototype.destroy = function() {
      this.removeAllRowComps(), o.prototype.destroy.call(this);
    }, t.prototype.removeAllRowComps = function() {
      var e = Object.keys(this.rowCtrlsByRowIndex);
      this.removeRowCtrls(e);
    }, t.prototype.getRowsToRecycle = function() {
      var e = [];
      ut(this.rowCtrlsByRowIndex, function(n, i) {
        var a = i.getRowNode().id == null;
        a && e.push(n);
      }), this.removeRowCtrls(e);
      var r = {};
      return ut(this.rowCtrlsByRowIndex, function(n, i) {
        var a = i.getRowNode();
        r[a.id] = i;
      }), this.rowCtrlsByRowIndex = {}, r;
    }, t.prototype.removeRowCtrls = function(e) {
      var r = this;
      e.forEach(function(n) {
        var i = r.rowCtrlsByRowIndex[n];
        i && (i.destroyFirstPass(), i.destroySecondPass()), delete r.rowCtrlsByRowIndex[n];
      });
    }, t.prototype.onBodyScroll = function(e) {
      e.direction === "vertical" && this.redraw();
    }, t.prototype.redraw = function(e) {
      e === void 0 && (e = !0);
      var r;
      if (this.stickyRowFeature && gf() && (r = this.getCellToRestoreFocusToAfterRefresh() || void 0), this.getLockOnRefresh(), this.recycleRows(null, !1, e), this.releaseLockOnRefresh(), this.dispatchDisplayedRowsChanged(e), r != null) {
        var n = this.getCellToRestoreFocusToAfterRefresh();
        r != null && n == null && (this.animationFrameService.flushAllFrames(), this.restoreFocusedCell(r));
      }
    }, t.prototype.removeRowCompsNotToDraw = function(e) {
      var r = {};
      e.forEach(function(a) {
        return r[a] = !0;
      });
      var n = Object.keys(this.rowCtrlsByRowIndex), i = n.filter(function(a) {
        return !r[a];
      });
      this.removeRowCtrls(i);
    }, t.prototype.calculateIndexesToDraw = function(e) {
      var r = this, n = iE(this.firstRenderedRow, this.lastRenderedRow), i = function(a, s) {
        var l = s.getRowNode().rowIndex;
        l != null && (l < r.firstRenderedRow || l > r.lastRenderedRow) && r.doNotUnVirtualiseRow(s) && n.push(l);
      };
      return ut(this.rowCtrlsByRowIndex, i), ut(e, i), n.sort(function(a, s) {
        return a - s;
      }), n = n.filter(function(a) {
        var s = r.paginationProxy.getRow(a);
        return s && !s.sticky;
      }), n;
    }, t.prototype.recycleRows = function(e, r, n) {
      var i = this;
      r === void 0 && (r = !1), n === void 0 && (n = !1), this.rowContainerHeightService.updateOffset(), this.workOutFirstAndLastRowsToRender(), this.stickyRowFeature && this.stickyRowFeature.checkStickyRows();
      var a = this.calculateIndexesToDraw(e);
      if (this.removeRowCompsNotToDraw(a), this.printLayout && (r = !1), a.forEach(function(l) {
        var u = i.createOrUpdateRowCtrl(l, e, r, n);
        z(u);
      }), e) {
        var s = n && !this.gridOptionsService.is("suppressAnimationFrame") && !this.printLayout;
        s ? this.beans.animationFrameService.addDestroyTask(function() {
          i.destroyRowCtrls(e, r), i.updateAllRowCtrls(), i.dispatchDisplayedRowsChanged();
        }) : this.destroyRowCtrls(e, r);
      }
      this.updateAllRowCtrls();
    }, t.prototype.dispatchDisplayedRowsChanged = function(e) {
      e === void 0 && (e = !1);
      var r = { type: R.EVENT_DISPLAYED_ROWS_CHANGED, afterScroll: e };
      this.eventService.dispatchEvent(r);
    }, t.prototype.onDisplayedColumnsChanged = function() {
      var e = this.columnModel.isPinningLeft(), r = this.columnModel.isPinningRight(), n = this.pinningLeft !== e || r !== this.pinningRight;
      n && (this.pinningLeft = e, this.pinningRight = r, this.embedFullWidthRows && this.redrawFullWidthEmbeddedRows());
    }, t.prototype.redrawFullWidthEmbeddedRows = function() {
      var e = [];
      this.getFullWidthRowCtrls().forEach(function(r) {
        var n = r.getRowNode().rowIndex;
        e.push(n.toString());
      }), this.refreshFloatingRowComps(), this.removeRowCtrls(e), this.redraw();
    }, t.prototype.getFullWidthRowCtrls = function(e) {
      var r = this, n = this.mapRowNodes(e);
      return this.getAllRowCtrls().filter(function(i) {
        if (!i.isFullWidth())
          return !1;
        var a = i.getRowNode();
        return !(n != null && !r.isRowInMap(a, n));
      });
    }, t.prototype.refreshFullWidthRow = function(e) {
      this.refreshFullWidthRows([e]);
    }, t.prototype.refreshFullWidthRows = function(e) {
      var r = this, n = this.getFullWidthRowCtrls(e), i = !1, a = [];
      n.forEach(function(s) {
        var l = s.refreshFullWidth();
        if (!l) {
          var u = s.getRowNode();
          u.sticky ? r.stickyRowFeature.refreshStickyNode(u) : a.push(u.rowIndex), i = !0;
        }
      }), a.length > 0 && this.removeRowCtrls(a), i && this.redraw(!1);
    }, t.prototype.createOrUpdateRowCtrl = function(e, r, n, i) {
      var a, s = this.rowCtrlsByRowIndex[e];
      s || (a = this.paginationProxy.getRow(e), z(a) && z(r) && r[a.id] && a.alreadyRendered && (s = r[a.id], r[a.id] = null));
      var l = !s;
      if (l)
        if (a || (a = this.paginationProxy.getRow(e)), z(a))
          s = this.createRowCon(a, n, i);
        else
          return;
      return a && (a.alreadyRendered = !0), this.rowCtrlsByRowIndex[e] = s, s;
    }, t.prototype.destroyRowCtrls = function(e, r) {
      var n = this, i = [];
      ut(e, function(a, s) {
        if (s) {
          if (n.cachedRowCtrls && s.isCacheable()) {
            n.cachedRowCtrls.addRow(s);
            return;
          }
          s.destroyFirstPass(), r ? (n.zombieRowCtrls[s.getInstanceId()] = s, i.push(function() {
            s.destroySecondPass(), delete n.zombieRowCtrls[s.getInstanceId()];
          })) : s.destroySecondPass();
        }
      }), r && (i.push(function() {
        n.updateAllRowCtrls(), n.dispatchDisplayedRowsChanged();
      }), Sb(i));
    }, t.prototype.getRowBuffer = function() {
      var e = this.gridOptionsService.getNum("rowBuffer");
      return typeof e == "number" ? e < 0 && (ze(function() {
        return console.warn("AG Grid: rowBuffer should not be negative");
      }, "warn rowBuffer negative"), e = 0, this.gridOptionsService.set("rowBuffer", 0)) : e = 10, e;
    }, t.prototype.getRowBufferInPixels = function() {
      var e = this.getRowBuffer(), r = this.gridOptionsService.getRowHeightAsNumber();
      return e * r;
    }, t.prototype.workOutFirstAndLastRowsToRender = function() {
      var e, r;
      if (!this.paginationProxy.isRowsToRender())
        e = 0, r = -1;
      else if (this.printLayout)
        e = this.paginationProxy.getPageFirstRow(), r = this.paginationProxy.getPageLastRow();
      else {
        var n = this.getRowBufferInPixels(), i = this.ctrlsService.getGridBodyCtrl(), a = this.gridOptionsService.is("suppressRowVirtualisation"), s = !1, l = void 0, u = void 0;
        do {
          var c = this.paginationProxy.getPixelOffset(), d = this.paginationProxy.getCurrentPagePixelRange(), p = d.pageFirstPixel, h = d.pageLastPixel, f = this.rowContainerHeightService.getDivStretchOffset(), v = i.getScrollFeature().getVScrollPosition(), g = v.top, y = v.bottom;
          a ? (l = p + f, u = h + f) : (l = Math.max(g + c - n, p) + f, u = Math.min(y + c + n, h) + f), this.firstVisibleVPixel = Math.max(g + c, p) + f, s = this.ensureAllRowsInRangeHaveHeightsCalculated(l, u);
        } while (s);
        var m = this.paginationProxy.getRowIndexAtPixel(l), C = this.paginationProxy.getRowIndexAtPixel(u), S = this.paginationProxy.getPageFirstRow(), b = this.paginationProxy.getPageLastRow();
        m < S && (m = S), C > b && (C = b), e = m, r = C;
      }
      var _ = this.gridOptionsService.isDomLayout("normal"), O = this.gridOptionsService.is("suppressMaxRenderedRowRestriction"), E = Math.max(this.getRowBuffer(), 500);
      _ && !O && r - e > E && (r = e + E);
      var D = e !== this.firstRenderedRow, x = r !== this.lastRenderedRow;
      if (D || x) {
        this.firstRenderedRow = e, this.lastRenderedRow = r;
        var P = {
          type: R.EVENT_VIEWPORT_CHANGED,
          firstRow: e,
          lastRow: r
        };
        this.eventService.dispatchEvent(P);
      }
    }, t.prototype.dispatchFirstDataRenderedEvent = function() {
      var e = this;
      if (!this.dataFirstRenderedFired) {
        this.dataFirstRenderedFired = !0;
        var r = {
          type: R.EVENT_FIRST_DATA_RENDERED,
          firstRow: this.firstRenderedRow,
          lastRow: this.lastRenderedRow
        };
        window.requestAnimationFrame(function() {
          e.beans.eventService.dispatchEvent(r);
        });
      }
    }, t.prototype.ensureAllRowsInRangeHaveHeightsCalculated = function(e, r) {
      var n = this.paginationProxy.ensureRowHeightsValid(e, r, -1, -1);
      return n && this.updateContainerHeights(), n;
    }, t.prototype.getFirstVisibleVerticalPixel = function() {
      return this.firstVisibleVPixel;
    }, t.prototype.getFirstVirtualRenderedRow = function() {
      return this.firstRenderedRow;
    }, t.prototype.getLastVirtualRenderedRow = function() {
      return this.lastRenderedRow;
    }, t.prototype.doNotUnVirtualiseRow = function(e) {
      var r = !1, n = !0, i = e.getRowNode(), a = this.focusService.isRowNodeFocused(i), s = e.isEditing(), l = i.detail, u = a || s || l;
      if (!u)
        return r;
      var c = this.paginationProxy.isRowPresent(i);
      return c ? n : r;
    }, t.prototype.createRowCon = function(e, r, n) {
      var i = this.cachedRowCtrls ? this.cachedRowCtrls.getRow(e) : null;
      if (i)
        return i;
      var a = this.gridOptionsService.is("suppressAnimationFrame"), s = n && !a && !this.printLayout, l = new Ja(e, this.beans, r, s, this.printLayout);
      return l;
    }, t.prototype.getRenderedNodes = function() {
      var e = this.rowCtrlsByRowIndex;
      return Object.keys(e).map(function(r) {
        return e[r].getRowNode();
      });
    }, t.prototype.getRowByPosition = function(e) {
      var r, n = e.rowIndex;
      switch (e.rowPinned) {
        case "top":
          r = this.topRowCtrls[n];
          break;
        case "bottom":
          r = this.bottomRowCtrls[n];
          break;
        default:
          r = this.rowCtrlsByRowIndex[n], r || (r = this.getStickyTopRowCtrls().find(function(i) {
            return i.getRowNode().rowIndex === n;
          }) || null);
          break;
      }
      return r;
    }, t.prototype.getRowNode = function(e) {
      switch (e.rowPinned) {
        case "top":
          return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];
        case "bottom":
          return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];
        default:
          return this.rowModel.getRow(e.rowIndex);
      }
    }, t.prototype.isRangeInRenderedViewport = function(e, r) {
      var n = e == null || r == null;
      if (n)
        return !1;
      var i = e > this.lastRenderedRow, a = r < this.firstRenderedRow, s = !a && !i;
      return s;
    }, An([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), An([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), An([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), An([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), An([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), An([
      w("focusService")
    ], t.prototype, "focusService", void 0), An([
      w("beans")
    ], t.prototype, "beans", void 0), An([
      w("rowContainerHeightService")
    ], t.prototype, "rowContainerHeightService", void 0), An([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), An([
      V
    ], t.prototype, "postConstruct", null), t = An([
      q("rowRenderer")
    ], t), t;
  }(W)
), ik = (
  /** @class */
  function() {
    function o(t) {
      this.entriesMap = {}, this.entriesList = [], this.maxCount = t;
    }
    return o.prototype.addRow = function(t) {
      if (this.entriesMap[t.getRowNode().id] = t, this.entriesList.push(t), t.setCached(!0), this.entriesList.length > this.maxCount) {
        var e = this.entriesList[0];
        e.destroyFirstPass(), e.destroySecondPass(), this.removeFromCache(e);
      }
    }, o.prototype.getRow = function(t) {
      if (t == null || t.id == null)
        return null;
      var e = this.entriesMap[t.id];
      if (!e)
        return null;
      this.removeFromCache(e), e.setCached(!1);
      var r = e.getRowNode() != t;
      return r ? null : e;
    }, o.prototype.removeFromCache = function(t) {
      var e = t.getRowNode().id;
      delete this.entriesMap[e], vr(this.entriesList, t);
    }, o.prototype.getEntries = function() {
      return this.entriesList;
    }, o;
  }()
), ok = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ak = (
  /** @class */
  function(o) {
    ok(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.formatValue = function(e, r, n, i, a) {
      a === void 0 && (a = !0);
      var s = null, l, u = e.getColDef();
      if (i ? l = i : a && (l = u.valueFormatter), l) {
        var c = {
          value: n,
          node: r,
          data: r ? r.data : null,
          colDef: u,
          column: e,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        };
        typeof l == "function" ? s = l(c) : s = this.expressionService.evaluate(l, c);
      } else if (u.refData)
        return u.refData[n] || "";
      return s == null && Array.isArray(n) && (s = n.join(", ")), s;
    }, pS([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), t = pS([
      q("valueFormatterService")
    ], t), t;
  }(W)
), sk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), xv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, lk = (
  /** @class */
  function(o) {
    sk(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")), this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"));
    }, t.prototype.isEmpty = function(e) {
      var r = e === "top" ? this.pinnedTopRows : this.pinnedBottomRows;
      return Kr(r);
    }, t.prototype.isRowsToRender = function(e) {
      return !this.isEmpty(e);
    }, t.prototype.getRowAtPixel = function(e, r) {
      var n = r === "top" ? this.pinnedTopRows : this.pinnedBottomRows;
      if (Kr(n))
        return 0;
      for (var i = 0; i < n.length; i++) {
        var a = n[i], s = a.rowTop + a.rowHeight - 1;
        if (s >= e)
          return i;
      }
      return n.length - 1;
    }, t.prototype.setPinnedTopRowData = function(e) {
      this.pinnedTopRows = this.createNodesFromData(e, !0);
      var r = {
        type: R.EVENT_PINNED_ROW_DATA_CHANGED
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.setPinnedBottomRowData = function(e) {
      this.pinnedBottomRows = this.createNodesFromData(e, !1);
      var r = {
        type: R.EVENT_PINNED_ROW_DATA_CHANGED
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.createNodesFromData = function(e, r) {
      var n = this, i = [];
      if (e) {
        var a = 0;
        e.forEach(function(s, l) {
          var u = new Te(n.beans);
          u.data = s;
          var c = r ? Te.ID_PREFIX_TOP_PINNED : Te.ID_PREFIX_BOTTOM_PINNED;
          u.id = c + l, u.rowPinned = r ? "top" : "bottom", u.setRowTop(a), u.setRowHeight(n.gridOptionsService.getRowHeightForNode(u).height), u.setRowIndex(l), a += u.rowHeight, i.push(u);
        });
      }
      return i;
    }, t.prototype.getPinnedTopRowData = function() {
      return this.pinnedTopRows;
    }, t.prototype.getPinnedBottomRowData = function() {
      return this.pinnedBottomRows;
    }, t.prototype.getPinnedTopTotalHeight = function() {
      return this.getTotalHeight(this.pinnedTopRows);
    }, t.prototype.getPinnedTopRowCount = function() {
      return this.pinnedTopRows ? this.pinnedTopRows.length : 0;
    }, t.prototype.getPinnedBottomRowCount = function() {
      return this.pinnedBottomRows ? this.pinnedBottomRows.length : 0;
    }, t.prototype.getPinnedTopRow = function(e) {
      return this.pinnedTopRows[e];
    }, t.prototype.getPinnedBottomRow = function(e) {
      return this.pinnedBottomRows[e];
    }, t.prototype.forEachPinnedTopRow = function(e) {
      Kr(this.pinnedTopRows) || this.pinnedTopRows.forEach(e);
    }, t.prototype.forEachPinnedBottomRow = function(e) {
      Kr(this.pinnedBottomRows) || this.pinnedBottomRows.forEach(e);
    }, t.prototype.getPinnedBottomTotalHeight = function() {
      return this.getTotalHeight(this.pinnedBottomRows);
    }, t.prototype.getTotalHeight = function(e) {
      if (!e || e.length === 0)
        return 0;
      var r = et(e);
      return r.rowTop + r.rowHeight;
    }, xv([
      w("beans")
    ], t.prototype, "beans", void 0), xv([
      V
    ], t.prototype, "init", null), t = xv([
      q("pinnedRowModel")
    ], t), t;
  }(W)
), Ir;
(function(o) {
  o.Applied = "Applied", o.StoreNotFound = "StoreNotFound", o.StoreLoading = "StoreLoading", o.StoreWaitingToLoad = "StoreWaitingToLoad", o.StoreLoadingFailed = "StoreLoadingFailed", o.StoreWrongType = "StoreWrongType", o.Cancelled = "Cancelled";
})(Ir || (Ir = {}));
var Of = (
  /** @class */
  function() {
    function o(t, e) {
      this.active = !0, this.nodeIdsToColumns = {}, this.mapToItems = {}, this.keepingColumns = t, this.pathRoot = {
        rowNode: e,
        children: null
      }, this.mapToItems[e.id] = this.pathRoot;
    }
    return o.prototype.setInactive = function() {
      this.active = !1;
    }, o.prototype.isActive = function() {
      return this.active;
    }, o.prototype.depthFirstSearchChangedPath = function(t, e) {
      if (t.children)
        for (var r = 0; r < t.children.length; r++)
          this.depthFirstSearchChangedPath(t.children[r], e);
      e(t.rowNode);
    }, o.prototype.depthFirstSearchEverything = function(t, e, r) {
      if (t.childrenAfterGroup)
        for (var n = 0; n < t.childrenAfterGroup.length; n++) {
          var i = t.childrenAfterGroup[n];
          i.childrenAfterGroup ? this.depthFirstSearchEverything(t.childrenAfterGroup[n], e, r) : r && e(i);
        }
      e(t);
    }, o.prototype.forEachChangedNodeDepthFirst = function(t, e, r) {
      e === void 0 && (e = !1), r === void 0 && (r = !1), this.active && !r ? this.depthFirstSearchChangedPath(this.pathRoot, t) : this.depthFirstSearchEverything(this.pathRoot.rowNode, t, e);
    }, o.prototype.executeFromRootNode = function(t) {
      t(this.pathRoot.rowNode);
    }, o.prototype.createPathItems = function(t) {
      for (var e = t, r = 0; !this.mapToItems[e.id]; ) {
        var n = {
          rowNode: e,
          children: null
        };
        this.mapToItems[e.id] = n, r++, e = e.parent;
      }
      return r;
    }, o.prototype.populateColumnsMap = function(t, e) {
      var r = this;
      if (!(!this.keepingColumns || !e))
        for (var n = t; n; )
          this.nodeIdsToColumns[n.id] || (this.nodeIdsToColumns[n.id] = {}), e.forEach(function(i) {
            return r.nodeIdsToColumns[n.id][i.getId()] = !0;
          }), n = n.parent;
    }, o.prototype.linkPathItems = function(t, e) {
      for (var r = t, n = 0; n < e; n++) {
        var i = this.mapToItems[r.id], a = this.mapToItems[r.parent.id];
        a.children || (a.children = []), a.children.push(i), r = r.parent;
      }
    }, o.prototype.addParentNode = function(t, e) {
      if (!(!t || t.isRowPinned())) {
        var r = this.createPathItems(t);
        this.linkPathItems(t, r), this.populateColumnsMap(t, e);
      }
    }, o.prototype.canSkip = function(t) {
      return this.active && !this.mapToItems[t.id];
    }, o.prototype.getValueColumnsForNode = function(t, e) {
      if (!this.keepingColumns)
        return e;
      var r = this.nodeIdsToColumns[t.id], n = e.filter(function(i) {
        return r[i.getId()];
      });
      return n;
    }, o.prototype.getNotValueColumnsForNode = function(t, e) {
      if (!this.keepingColumns)
        return null;
      var r = this.nodeIdsToColumns[t.id], n = e.filter(function(i) {
        return !r[i.getId()];
      });
      return n;
    }, o;
  }()
), uk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yi = (
  /** @class */
  function(o) {
    uk(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.state = t.STATE_WAITING_TO_LOAD, r.version = 0, r.id = e, r;
    }
    return t.prototype.getId = function() {
      return this.id;
    }, t.prototype.load = function() {
      this.state = t.STATE_LOADING, this.loadFromDatasource();
    }, t.prototype.getVersion = function() {
      return this.version;
    }, t.prototype.setStateWaitingToLoad = function() {
      this.version++, this.state = t.STATE_WAITING_TO_LOAD;
    }, t.prototype.getState = function() {
      return this.state;
    }, t.prototype.pageLoadFailed = function(e) {
      var r = this.isRequestMostRecentAndLive(e);
      r && (this.state = t.STATE_FAILED, this.processServerFail()), this.dispatchLoadCompleted(!1);
    }, t.prototype.success = function(e, r) {
      this.successCommon(e, r);
    }, t.prototype.pageLoaded = function(e, r, n) {
      this.successCommon(e, { rowData: r, rowCount: n });
    }, t.prototype.isRequestMostRecentAndLive = function(e) {
      var r = e === this.version, n = this.isAlive();
      return r && n;
    }, t.prototype.successCommon = function(e, r) {
      this.dispatchLoadCompleted();
      var n = this.isRequestMostRecentAndLive(e);
      n && (this.state = t.STATE_LOADED, this.processServerResult(r));
    }, t.prototype.dispatchLoadCompleted = function(e) {
      e === void 0 && (e = !0);
      var r = {
        type: t.EVENT_LOAD_COMPLETE,
        success: e,
        block: this
      };
      this.dispatchEvent(r);
    }, t.EVENT_LOAD_COMPLETE = "loadComplete", t.STATE_WAITING_TO_LOAD = "needsLoading", t.STATE_LOADING = "loading", t.STATE_LOADED = "loaded", t.STATE_FAILED = "failed", t;
  }(W)
), ck = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, dk = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, jE = (
  /** @class */
  function(o) {
    ck(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.activeBlockLoadsCount = 0, r.blocks = [], r.active = !0, r;
    }
    e = t, t.prototype.postConstruct = function() {
      this.maxConcurrentRequests = this.getMaxConcurrentDatasourceRequests();
      var r = this.gridOptionsService.getNum("blockLoadDebounceMillis");
      r && r > 0 && (this.checkBlockToLoadDebounce = T.debounce(this.performCheckBlocksToLoad.bind(this), r));
    }, t.prototype.setBeans = function(r) {
      this.logger = r.create("RowNodeBlockLoader");
    }, t.prototype.getMaxConcurrentDatasourceRequests = function() {
      var r = this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");
      if (r == null)
        return 2;
      if (!(r <= 0))
        return r;
    }, t.prototype.addBlock = function(r) {
      this.blocks.push(r), r.addEventListener(Yi.EVENT_LOAD_COMPLETE, this.loadComplete.bind(this)), this.checkBlockToLoad();
    }, t.prototype.removeBlock = function(r) {
      T.removeFromArray(this.blocks, r);
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.active = !1;
    }, t.prototype.loadComplete = function() {
      this.activeBlockLoadsCount--, this.checkBlockToLoad(), this.dispatchEvent({ type: e.BLOCK_LOADED_EVENT }), this.activeBlockLoadsCount == 0 && this.dispatchEvent({ type: e.BLOCK_LOADER_FINISHED_EVENT });
    }, t.prototype.checkBlockToLoad = function() {
      this.checkBlockToLoadDebounce ? this.checkBlockToLoadDebounce() : this.performCheckBlocksToLoad();
    }, t.prototype.performCheckBlocksToLoad = function() {
      if (this.active) {
        if (this.printCacheStatus(), this.maxConcurrentRequests != null && this.activeBlockLoadsCount >= this.maxConcurrentRequests) {
          this.logger.log("checkBlockToLoad: max loads exceeded");
          return;
        }
        var r = this.getAvailableLoadingCount(), n = this.blocks.filter(function(i) {
          return i.getState() === Yi.STATE_WAITING_TO_LOAD;
        }).slice(0, r);
        this.registerLoads(n.length), n.forEach(function(i) {
          return i.load();
        }), this.printCacheStatus();
      }
    }, t.prototype.getBlockState = function() {
      if (this.gridOptionsService.isRowModelType("serverSide")) {
        var r = this.rowModel;
        return r.getBlockStates();
      }
      var n = {};
      return this.blocks.forEach(function(i) {
        var a = i.getBlockStateJson(), s = a.id, l = a.state;
        n[s] = l;
      }), n;
    }, t.prototype.printCacheStatus = function() {
      this.logger.isLogging() && this.logger.log("printCacheStatus: activePageLoadsCount = " + this.activeBlockLoadsCount + "," + (" blocks = " + JSON.stringify(this.getBlockState())));
    }, t.prototype.isLoading = function() {
      return this.activeBlockLoadsCount > 0;
    }, t.prototype.registerLoads = function(r) {
      this.activeBlockLoadsCount += r;
    }, t.prototype.getAvailableLoadingCount = function() {
      return this.maxConcurrentRequests !== void 0 ? this.maxConcurrentRequests - this.activeBlockLoadsCount : void 0;
    };
    var e;
    return t.BLOCK_LOADED_EVENT = "blockLoaded", t.BLOCK_LOADER_FINISHED_EVENT = "blockLoaderFinished", Bd([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Bd([
      V
    ], t.prototype, "postConstruct", null), Bd([
      dk(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), t = e = Bd([
      q("rowNodeBlockLoader")
    ], t), t;
  }(W)
), pk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Tv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hk = (
  /** @class */
  function(o) {
    pk(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.currentPage = 0, e.topDisplayedRowIndex = 0, e.bottomDisplayedRowIndex = 0, e.pixelOffset = 0, e.masterRowCount = 0, e;
    }
    return t.prototype.postConstruct = function() {
      this.active = this.gridOptionsService.is("pagination"), this.paginateChildRows = this.isPaginateChildRows(), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this)), this.addManagedPropertyListener("pagination", this.onPaginationPageSizeChanged.bind(this)), this.addManagedPropertyListener("paginationPageSize", this.onPaginationPageSizeChanged.bind(this)), this.onModelUpdated();
    }, t.prototype.ensureRowHeightsValid = function(e, r, n, i) {
      var a = this.rowModel.ensureRowHeightsValid(e, r, this.getPageFirstRow(), this.getPageLastRow());
      return a && this.calculatePages(), a;
    }, t.prototype.isPaginateChildRows = function() {
      var e = this.gridOptionsService.is("groupRemoveSingleChildren") || this.gridOptionsService.is("groupRemoveLowestSingleChildren");
      return e ? !0 : this.gridOptionsService.is("paginateChildRows");
    }, t.prototype.onModelUpdated = function(e) {
      this.calculatePages();
      var r = {
        type: R.EVENT_PAGINATION_CHANGED,
        animate: e ? e.animate : !1,
        newData: e ? e.newData : !1,
        newPage: e ? e.newPage : !1,
        keepRenderedRows: e ? e.keepRenderedRows : !1
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.onPaginationPageSizeChanged = function() {
      this.active = this.gridOptionsService.is("pagination"), this.calculatePages();
      var e = {
        type: R.EVENT_PAGINATION_CHANGED,
        animate: !1,
        newData: !1,
        newPage: !1,
        // important to keep rendered rows, otherwise every time grid is resized,
        // we would destroy all the rows.
        keepRenderedRows: !0
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.goToPage = function(e) {
      if (!(!this.active || this.currentPage === e || typeof this.currentPage != "number")) {
        this.currentPage = e;
        var r = {
          type: R.EVENT_MODEL_UPDATED,
          animate: !1,
          keepRenderedRows: !1,
          newData: !1,
          newPage: !0
        };
        this.onModelUpdated(r);
      }
    }, t.prototype.getPixelOffset = function() {
      return this.pixelOffset;
    }, t.prototype.getRow = function(e) {
      return this.rowModel.getRow(e);
    }, t.prototype.getRowNode = function(e) {
      return this.rowModel.getRowNode(e);
    }, t.prototype.getRowIndexAtPixel = function(e) {
      return this.rowModel.getRowIndexAtPixel(e);
    }, t.prototype.getCurrentPageHeight = function() {
      return me(this.topRowBounds) || me(this.bottomRowBounds) ? 0 : Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);
    }, t.prototype.getCurrentPagePixelRange = function() {
      var e = this.topRowBounds ? this.topRowBounds.rowTop : 0, r = this.bottomRowBounds ? this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight : 0;
      return { pageFirstPixel: e, pageLastPixel: r };
    }, t.prototype.isRowPresent = function(e) {
      if (!this.rowModel.isRowPresent(e))
        return !1;
      var r = e.rowIndex >= this.topDisplayedRowIndex && e.rowIndex <= this.bottomDisplayedRowIndex;
      return r;
    }, t.prototype.isEmpty = function() {
      return this.rowModel.isEmpty();
    }, t.prototype.isRowsToRender = function() {
      return this.rowModel.isRowsToRender();
    }, t.prototype.forEachNode = function(e) {
      return this.rowModel.forEachNode(e);
    }, t.prototype.forEachNodeOnPage = function(e) {
      for (var r = this.getPageFirstRow(), n = this.getPageLastRow(), i = r; i <= n; i++) {
        var a = this.getRow(i);
        a && e(a);
      }
    }, t.prototype.getType = function() {
      return this.rowModel.getType();
    }, t.prototype.getRowBounds = function(e) {
      var r = this.rowModel.getRowBounds(e);
      return r.rowIndex = e, r;
    }, t.prototype.getPageFirstRow = function() {
      return this.topRowBounds ? this.topRowBounds.rowIndex : -1;
    }, t.prototype.getPageLastRow = function() {
      return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;
    }, t.prototype.getRowCount = function() {
      return this.rowModel.getRowCount();
    }, t.prototype.getPageForIndex = function(e) {
      return Math.floor(e / this.pageSize);
    }, t.prototype.goToPageWithIndex = function(e) {
      if (this.active) {
        var r = this.getPageForIndex(e);
        this.goToPage(r);
      }
    }, t.prototype.isRowInPage = function(e) {
      if (!this.active)
        return !0;
      var r = this.getPageForIndex(e.rowIndex);
      return r === this.currentPage;
    }, t.prototype.isLastPageFound = function() {
      return this.rowModel.isLastRowIndexKnown();
    }, t.prototype.getCurrentPage = function() {
      return this.currentPage;
    }, t.prototype.goToNextPage = function() {
      this.goToPage(this.currentPage + 1);
    }, t.prototype.goToPreviousPage = function() {
      this.goToPage(this.currentPage - 1);
    }, t.prototype.goToFirstPage = function() {
      this.goToPage(0);
    }, t.prototype.goToLastPage = function() {
      var e = this.rowModel.getRowCount(), r = Math.floor(e / this.pageSize);
      this.goToPage(r);
    }, t.prototype.getPageSize = function() {
      return this.pageSize;
    }, t.prototype.getTotalPages = function() {
      return this.totalPages;
    }, t.prototype.setPageSize = function() {
      this.pageSize = this.gridOptionsService.getNum("paginationPageSize"), (this.pageSize == null || this.pageSize < 1) && (this.pageSize = 100);
    }, t.prototype.calculatePages = function() {
      this.active ? (this.setPageSize(), this.paginateChildRows ? this.calculatePagesAllRows() : this.calculatePagesMasterRowsOnly()) : this.calculatedPagesNotActive(), this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex), this.topRowBounds && (this.topRowBounds.rowIndex = this.topDisplayedRowIndex), this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex), this.bottomRowBounds && (this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex), this.setPixelOffset(z(this.topRowBounds) ? this.topRowBounds.rowTop : 0);
    }, t.prototype.setPixelOffset = function(e) {
      this.pixelOffset !== e && (this.pixelOffset = e, this.eventService.dispatchEvent({ type: R.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED }));
    }, t.prototype.setZeroRows = function() {
      this.masterRowCount = 0, this.topDisplayedRowIndex = 0, this.bottomDisplayedRowIndex = -1, this.currentPage = 0, this.totalPages = 0;
    }, t.prototype.adjustCurrentPageIfInvalid = function() {
      this.currentPage >= this.totalPages && (this.currentPage = this.totalPages - 1), (!isFinite(this.currentPage) || isNaN(this.currentPage) || this.currentPage < 0) && (this.currentPage = 0);
    }, t.prototype.calculatePagesMasterRowsOnly = function() {
      if (this.masterRowCount = this.rowModel.getTopLevelRowCount(), this.masterRowCount <= 0) {
        this.setZeroRows();
        return;
      }
      var e = this.masterRowCount - 1;
      this.totalPages = Math.floor(e / this.pageSize) + 1, this.adjustCurrentPageIfInvalid();
      var r = this.pageSize * this.currentPage, n = this.pageSize * (this.currentPage + 1) - 1;
      if (n > e && (n = e), this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(r), n === e)
        this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;
      else {
        var i = this.rowModel.getTopLevelRowDisplayedIndex(n + 1);
        this.bottomDisplayedRowIndex = i - 1;
      }
    }, t.prototype.getMasterRowCount = function() {
      return this.masterRowCount;
    }, t.prototype.calculatePagesAllRows = function() {
      if (this.masterRowCount = this.rowModel.getRowCount(), this.masterRowCount === 0) {
        this.setZeroRows();
        return;
      }
      var e = this.masterRowCount - 1;
      this.totalPages = Math.floor(e / this.pageSize) + 1, this.adjustCurrentPageIfInvalid(), this.topDisplayedRowIndex = this.pageSize * this.currentPage, this.bottomDisplayedRowIndex = this.pageSize * (this.currentPage + 1) - 1, this.bottomDisplayedRowIndex > e && (this.bottomDisplayedRowIndex = e);
    }, t.prototype.calculatedPagesNotActive = function() {
      this.pageSize = this.rowModel.getRowCount(), this.totalPages = 1, this.currentPage = 0, this.topDisplayedRowIndex = 0, this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;
    }, Tv([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Tv([
      V
    ], t.prototype, "postConstruct", null), t = Tv([
      q("paginationProxy")
    ], t), t;
  }(W)
), fk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, vk = (
  /** @class */
  function(o) {
    fk(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.processAllCellClasses = function(e, r, n, i) {
      this.processClassRules(e.cellClassRules, r, n, i), this.processStaticCellClasses(e, r, n);
    }, t.prototype.processClassRules = function(e, r, n, i) {
      if (e != null) {
        for (var a = Object.keys(e), s = {}, l = {}, u = function(p) {
          var h = a[p], f = e[h], v;
          typeof f == "string" ? v = c.expressionService.evaluate(f, r) : typeof f == "function" && (v = f(r)), h.split(" ").forEach(function(g) {
            g == null || g.trim() == "" || (v ? s[g] = !0 : l[g] = !0);
          });
        }, c = this, d = 0; d < a.length; d++)
          u(d);
        i && Object.keys(l).forEach(i), Object.keys(s).forEach(n);
      }
    }, t.prototype.getStaticCellClasses = function(e, r) {
      var n = e.cellClass;
      if (!n)
        return [];
      var i;
      if (typeof n == "function") {
        var a = n;
        i = a(r);
      } else
        i = n;
      return typeof i == "string" && (i = [i]), i || [];
    }, t.prototype.processStaticCellClasses = function(e, r, n) {
      var i = this.getStaticCellClasses(e, r);
      i.forEach(function(a) {
        n(a);
      });
    }, hS([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), t = hS([
      q("stylingService")
    ], t), t;
  }(W)
), gk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zm = (
  /** @class */
  function(o) {
    gk(t, o);
    function t(e) {
      return o.call(this, e, "ag-toggle-button") || this;
    }
    return t.prototype.setValue = function(e, r) {
      return o.prototype.setValue.call(this, e, r), this.addOrRemoveCssClass("ag-selected", this.getValue()), this;
    }, t;
  }(On)
), yk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mk = (
  /** @class */
  function(o) {
    yk(t, o);
    function t(e) {
      return o.call(this, e, "ag-text-area", null, "textarea") || this;
    }
    return t.prototype.setValue = function(e, r) {
      var n = o.prototype.setValue.call(this, e, r);
      return this.eInput.value = e, n;
    }, t.prototype.setCols = function(e) {
      return this.eInput.cols = e, this;
    }, t.prototype.setRows = function(e) {
      return this.eInput.rows = e, this;
    }, t;
  }(Bo)
), Ck = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Sk = (
  /** @class */
  function(o) {
    Ck(t, o);
    function t(e) {
      return o.call(this, e, "ag-date-field", "date") || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      o.prototype.postConstruct.call(this), this.addManagedListener(this.eInput, "wheel", this.onWheel.bind(this));
      var r = En();
      this.addManagedListener(this.eInput, "mousedown", function() {
        e.isDisabled() || r || e.eInput.focus();
      }), this.eInput.step = "any";
    }, t.prototype.onWheel = function(e) {
      document.activeElement === this.eInput && e.preventDefault();
    }, t.prototype.setMin = function(e) {
      var r, n = e instanceof Date ? (r = wn(e != null ? e : null, !1)) !== null && r !== void 0 ? r : void 0 : e;
      return this.min === n ? this : (this.min = n, zo(this.eInput, "min", n), this);
    }, t.prototype.setMax = function(e) {
      var r, n = e instanceof Date ? (r = wn(e != null ? e : null, !1)) !== null && r !== void 0 ? r : void 0 : e;
      return this.max === n ? this : (this.max = n, zo(this.eInput, "max", n), this);
    }, t.prototype.setStep = function(e) {
      return this.step === e ? this : (this.step = e, zo(this.eInput, "step", e), this);
    }, t.prototype.getDate = function() {
      var e;
      if (this.eInput.validity.valid)
        return (e = zn(this.getValue())) !== null && e !== void 0 ? e : void 0;
    }, t.prototype.setDate = function(e, r) {
      this.setValue(wn(e != null ? e : null, !1), r);
    }, t;
  }(oa)
), wk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), _k = (
  /** @class */
  function(o) {
    wk(t, o);
    function t(e) {
      return o.call(this, e, "ag-range-field", "range") || this;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this);
      var e = this.config, r = e.min, n = e.max, i = e.step;
      r != null && this.setMinValue(r), n != null && this.setMaxValue(n), this.setStep(i || 1);
    }, t.prototype.addInputListeners = function() {
      var e = this;
      this.addManagedListener(this.eInput, "input", function(r) {
        var n = r.target.value;
        e.setValue(n);
      });
    }, t.prototype.setMinValue = function(e) {
      return this.min = e, this.eInput.setAttribute("min", e.toString()), this;
    }, t.prototype.setMaxValue = function(e) {
      return this.max = e, this.eInput.setAttribute("max", e.toString()), this;
    }, t.prototype.setStep = function(e) {
      return this.eInput.setAttribute("step", e.toString()), this;
    }, t.prototype.setValue = function(e, r) {
      this.min != null && (e = Math.max(parseFloat(e), this.min).toString()), this.max != null && (e = Math.min(parseFloat(e), this.max).toString());
      var n = o.prototype.setValue.call(this, e, r);
      return this.eInput.value = e, n;
    }, t;
  }(Bo)
), bk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Hd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ci = (
  /** @class */
  function(o) {
    bk(t, o);
    function t(e) {
      var r = o.call(this, e, t.TEMPLATE) || this;
      return r.labelAlignment = "top", r;
    }
    return t.prototype.init = function() {
      this.eSlider.addCssClass("ag-slider-field");
    }, t.prototype.onValueChange = function(e) {
      var r = this, n = bi.EVENT_CHANGED;
      return this.addManagedListener(this.eText, n, function() {
        var i = parseFloat(r.eText.getValue());
        r.eSlider.setValue(i.toString(), !0), e(i || 0);
      }), this.addManagedListener(this.eSlider, n, function() {
        var i = r.eSlider.getValue();
        r.eText.setValue(i, !0), e(parseFloat(i));
      }), this;
    }, t.prototype.setSliderWidth = function(e) {
      return this.eSlider.setWidth(e), this;
    }, t.prototype.setTextFieldWidth = function(e) {
      return this.eText.setWidth(e), this;
    }, t.prototype.setMinValue = function(e) {
      return this.eSlider.setMinValue(e), this.eText.setMin(e), this;
    }, t.prototype.setMaxValue = function(e) {
      return this.eSlider.setMaxValue(e), this.eText.setMax(e), this;
    }, t.prototype.getValue = function() {
      return this.eText.getValue();
    }, t.prototype.setValue = function(e) {
      return this.getValue() === e ? this : (this.eText.setValue(e, !0), this.eSlider.setValue(e, !0), this.dispatchEvent({ type: bi.EVENT_CHANGED }), this);
    }, t.prototype.setStep = function(e) {
      return this.eSlider.setStep(e), this.eText.setStep(e), this;
    }, t.TEMPLATE = `<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`, Hd([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), Hd([
      G("eSlider")
    ], t.prototype, "eSlider", void 0), Hd([
      G("eText")
    ], t.prototype, "eText", void 0), Hd([
      V
    ], t.prototype, "init", null), t;
  }(Lm)
), Ek = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Co = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ci = (
  /** @class */
  function(o) {
    Ek(t, o);
    function t(e) {
      e === void 0 && (e = {});
      var r = o.call(this, t.getTemplate(e)) || this;
      r.suppressEnabledCheckbox = !0, r.suppressOpenCloseIcons = !1;
      var n = e.title, i = e.enabled, a = e.items, s = e.suppressEnabledCheckbox, l = e.suppressOpenCloseIcons;
      return r.title = n, r.cssIdentifier = e.cssIdentifier || "default", r.enabled = i != null ? i : !0, r.items = a || [], r.alignItems = e.alignItems || "center", s != null && (r.suppressEnabledCheckbox = s), l != null && (r.suppressOpenCloseIcons = l), r;
    }
    return t.getTemplate = function(e) {
      var r = e.cssIdentifier || "default", n = e.direction || "vertical";
      return (
        /* html */
        '<div class="ag-group ag-' + r + `-group" role="presentation">
            <div class="ag-group-title-bar ag-` + r + `-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-` + r + `-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-` + r + `-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-` + r + `-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-` + r + `-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-` + n + " ag-" + r + `-group-container"></div>
        </div>`
      );
    }, t.prototype.postConstruct = function() {
      if (this.items.length) {
        var e = this.items;
        this.items = [], this.addItems(e);
      }
      var r = this.localeService.getLocaleTextFunc();
      this.cbGroupEnabled.setLabel(r("enabled", "Enabled")), this.title && this.setTitle(this.title), this.enabled && this.setEnabled(this.enabled), this.setAlignItems(this.alignItems), this.hideEnabledCheckbox(this.suppressEnabledCheckbox), this.hideOpenCloseIcons(this.suppressOpenCloseIcons), this.setupExpandContract(), this.refreshAriaStatus(), this.refreshChildDisplay();
    }, t.prototype.setupExpandContract = function() {
      var e = this;
      this.eGroupClosedIcon.appendChild(vn("columnSelectClosed", this.gridOptionsService, null)), this.eGroupOpenedIcon.appendChild(vn("columnSelectOpen", this.gridOptionsService, null)), this.addManagedListener(this.eTitleBar, "click", function() {
        return e.toggleGroupExpand();
      }), this.addManagedListener(this.eTitleBar, "keydown", function(r) {
        switch (r.key) {
          case H.ENTER:
          case H.SPACE:
            r.preventDefault(), e.toggleGroupExpand();
            break;
          case H.RIGHT:
          case H.LEFT:
            r.preventDefault(), e.toggleGroupExpand(r.key === H.RIGHT);
            break;
        }
      });
    }, t.prototype.refreshAriaStatus = function() {
      this.suppressOpenCloseIcons || $n(this.eTitleBar, this.expanded);
    }, t.prototype.refreshChildDisplay = function() {
      var e = !this.suppressOpenCloseIcons;
      Be(this.eToolbar, this.expanded && !this.suppressEnabledCheckbox), Be(this.eGroupOpenedIcon, e && this.expanded), Be(this.eGroupClosedIcon, e && !this.expanded);
    }, t.prototype.isExpanded = function() {
      return this.expanded;
    }, t.prototype.setAlignItems = function(e) {
      this.alignItems !== e && this.removeCssClass("ag-group-item-alignment-" + this.alignItems), this.alignItems = e;
      var r = "ag-group-item-alignment-" + this.alignItems;
      return this.addCssClass(r), this;
    }, t.prototype.toggleGroupExpand = function(e) {
      return this.suppressOpenCloseIcons ? (this.expanded = !0, this.refreshChildDisplay(), Be(this.eContainer, !0), this) : (e = e != null ? e : !this.expanded, this.expanded === e ? this : (this.expanded = e, this.refreshAriaStatus(), this.refreshChildDisplay(), Be(this.eContainer, e), this.dispatchEvent({ type: this.expanded ? t.EVENT_EXPANDED : t.EVENT_COLLAPSED }), this));
    }, t.prototype.addItems = function(e) {
      var r = this;
      e.forEach(function(n) {
        return r.addItem(n);
      });
    }, t.prototype.addItem = function(e) {
      var r = this.eContainer, n = e instanceof te ? e.getGui() : e;
      n.classList.add("ag-group-item", "ag-" + this.cssIdentifier + "-group-item"), r.appendChild(n), this.items.push(n);
    }, t.prototype.hideItem = function(e, r) {
      var n = this.items[r];
      Be(n, !e);
    }, t.prototype.setTitle = function(e) {
      return this.eTitle.innerText = e, this;
    }, t.prototype.addCssClassToTitleBar = function(e) {
      this.eTitleBar.classList.add(e);
    }, t.prototype.setEnabled = function(e, r) {
      return this.enabled = e, this.refreshDisabledStyles(), this.toggleGroupExpand(e), r || this.cbGroupEnabled.setValue(e), this;
    }, t.prototype.isEnabled = function() {
      return this.enabled;
    }, t.prototype.onEnableChange = function(e) {
      var r = this;
      return this.cbGroupEnabled.onValueChange(function(n) {
        r.setEnabled(n, !0), e(n);
      }), this;
    }, t.prototype.hideEnabledCheckbox = function(e) {
      return this.suppressEnabledCheckbox = e, this.refreshChildDisplay(), this.refreshDisabledStyles(), this;
    }, t.prototype.hideOpenCloseIcons = function(e) {
      return this.suppressOpenCloseIcons = e, e && this.toggleGroupExpand(!0), this;
    }, t.prototype.refreshDisabledStyles = function() {
      this.addOrRemoveCssClass("ag-disabled", !this.enabled), this.suppressEnabledCheckbox && !this.enabled ? (this.eTitleBar.classList.add("ag-disabled-group-title-bar"), this.eTitleBar.removeAttribute("tabindex")) : (this.eTitleBar.classList.remove("ag-disabled-group-title-bar"), this.eTitleBar.setAttribute("tabindex", "0")), this.eContainer.classList.toggle("ag-disabled-group-container", !this.enabled);
    }, t.EVENT_EXPANDED = "expanded", t.EVENT_COLLAPSED = "collapsed", Co([
      G("eTitleBar")
    ], t.prototype, "eTitleBar", void 0), Co([
      G("eGroupOpenedIcon")
    ], t.prototype, "eGroupOpenedIcon", void 0), Co([
      G("eGroupClosedIcon")
    ], t.prototype, "eGroupClosedIcon", void 0), Co([
      G("eToolbar")
    ], t.prototype, "eToolbar", void 0), Co([
      G("cbGroupEnabled")
    ], t.prototype, "cbGroupEnabled", void 0), Co([
      G("eTitle")
    ], t.prototype, "eTitle", void 0), Co([
      G("eContainer")
    ], t.prototype, "eContainer", void 0), Co([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), Ok = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), xk = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Tk = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, iu = (
  /** @class */
  function(o) {
    Ok(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.initialiseTabGuard = function(e) {
      this.eTopGuard = this.createTabGuard("top"), this.eBottomGuard = this.createTabGuard("bottom"), this.eFocusableElement = this.getFocusableElement();
      var r = [this.eTopGuard, this.eBottomGuard], n = {
        setTabIndex: function(i) {
          r.forEach(function(a) {
            return i != null ? a.setAttribute("tabindex", i) : a.removeAttribute("tabindex");
          });
        }
      };
      this.addTabGuards(this.eTopGuard, this.eBottomGuard), this.tabGuardCtrl = this.createManagedBean(new uG({
        comp: n,
        eTopGuard: this.eTopGuard,
        eBottomGuard: this.eBottomGuard,
        eFocusableElement: this.eFocusableElement,
        onFocusIn: e.onFocusIn,
        onFocusOut: e.onFocusOut,
        focusInnerElement: e.focusInnerElement,
        handleKeyDown: e.handleKeyDown,
        onTabKeyDown: e.onTabKeyDown,
        shouldStopEventPropagation: e.shouldStopEventPropagation
      }));
    }, t.prototype.createTabGuard = function(e) {
      var r = document.createElement("div"), n = e === "top" ? Nl.TAB_GUARD_TOP : Nl.TAB_GUARD_BOTTOM;
      return r.classList.add(Nl.TAB_GUARD, n), Ut(r, "presentation"), r;
    }, t.prototype.addTabGuards = function(e, r) {
      this.eFocusableElement.insertAdjacentElement("afterbegin", e), this.eFocusableElement.insertAdjacentElement("beforeend", r);
    }, t.prototype.removeAllChildrenExceptTabGuards = function() {
      var e = [this.eTopGuard, this.eBottomGuard];
      Qr(this.getFocusableElement()), this.addTabGuards.apply(this, Tk([], xk(e)));
    }, t.prototype.forceFocusOutOfContainer = function(e) {
      e === void 0 && (e = !1), this.tabGuardCtrl.forceFocusOutOfContainer(e);
    }, t.prototype.appendChild = function(e, r) {
      ld(e) || (e = e.getGui());
      var n = this.eBottomGuard;
      n ? n.insertAdjacentElement("beforebegin", e) : o.prototype.appendChild.call(this, e, r);
    }, t;
  }(te)
), Rk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fh = function() {
  return fh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, fh.apply(this, arguments);
}, fS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, xf = (
  /** @class */
  function(o) {
    Rk(t, o);
    function t(e) {
      e === void 0 && (e = 1);
      var r = o.call(
        this,
        /* html */
        '<div class="ag-menu-list" role="tree"></div>'
      ) || this;
      return r.level = e, r.menuItems = [], r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.initialiseTabGuard({
        onTabKeyDown: function(r) {
          return e.onTabKeyDown(r);
        },
        handleKeyDown: function(r) {
          return e.handleKeyDown(r);
        }
      });
    }, t.prototype.onTabKeyDown = function(e) {
      var r = this.getParentComponent(), n = r && r.getGui(), i = n && n.classList.contains("ag-focus-managed");
      i || e.preventDefault(), e.shiftKey && this.closeIfIsChild(e);
    }, t.prototype.handleKeyDown = function(e) {
      switch (e.key) {
        case H.UP:
        case H.RIGHT:
        case H.DOWN:
        case H.LEFT:
          e.preventDefault(), this.handleNavKey(e.key);
          break;
        case H.ESCAPE:
          var r = this.findTopMenu();
          r && this.focusService.focusInto(r.getGui());
          break;
      }
    }, t.prototype.clearActiveItem = function() {
      this.activeMenuItem && (this.activeMenuItem.deactivate(), this.activeMenuItem = null);
    }, t.prototype.addMenuItems = function(e) {
      var r = this;
      e != null && e.forEach(function(n) {
        n === "separator" ? r.addSeparator() : typeof n == "string" ? console.warn("AG Grid: unrecognised menu item " + n) : r.addItem(n);
      });
    }, t.prototype.addItem = function(e) {
      var r = this, n = this.createManagedBean(new Hn(fh(fh({}, e), { isAnotherSubMenuOpen: function() {
        return r.menuItems.some(function(i) {
          return i.isSubMenuOpen();
        });
      } })));
      n.setParentComponent(this), $b(n.getGui(), this.level), this.menuItems.push(n), this.appendChild(n.getGui()), this.addManagedListener(n, Hn.EVENT_MENU_ITEM_SELECTED, function(i) {
        r.dispatchEvent(i);
      }), this.addManagedListener(n, Hn.EVENT_MENU_ITEM_ACTIVATED, function(i) {
        r.activeMenuItem && r.activeMenuItem !== i.menuItem && r.activeMenuItem.deactivate(), r.activeMenuItem = i.menuItem;
      });
    }, t.prototype.activateFirstItem = function() {
      var e = this.menuItems.filter(function(r) {
        return !r.isDisabled();
      })[0];
      e && e.activate();
    }, t.prototype.addSeparator = function() {
      var e = (
        /* html */
        `
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`
      );
      this.appendChild(nr(e));
    }, t.prototype.findTopMenu = function() {
      var e = this.getParentComponent();
      if (!e && this instanceof t)
        return this;
      for (; ; ) {
        var r = e && e.getParentComponent && e.getParentComponent();
        if (!r || !(r instanceof t || r instanceof Hn))
          break;
        e = r;
      }
      return e instanceof t ? e : void 0;
    }, t.prototype.handleNavKey = function(e) {
      switch (e) {
        case H.UP:
        case H.DOWN:
          var r = this.findNextItem(e === H.UP);
          r && r !== this.activeMenuItem && r.activate();
          return;
      }
      var n = this.gridOptionsService.is("enableRtl") ? H.RIGHT : H.LEFT;
      e === n ? this.closeIfIsChild() : this.openChild();
    }, t.prototype.closeIfIsChild = function(e) {
      var r = this.getParentComponent();
      r && r instanceof Hn && (e && e.preventDefault(), r.closeSubMenu(), r.getGui().focus());
    }, t.prototype.openChild = function() {
      this.activeMenuItem && this.activeMenuItem.openSubMenu(!0);
    }, t.prototype.findNextItem = function(e) {
      var r = this.menuItems.filter(function(l) {
        return !l.isDisabled();
      });
      if (r.length) {
        if (!this.activeMenuItem)
          return e ? et(r) : r[0];
        e && r.reverse();
        for (var n, i = !1, a = 0; a < r.length; a++) {
          var s = r[a];
          if (!i) {
            s === this.activeMenuItem && (i = !0);
            continue;
          }
          n = s;
          break;
        }
        return n || this.activeMenuItem;
      }
    }, t.prototype.destroy = function() {
      this.clearActiveItem(), o.prototype.destroy.call(this);
    }, fS([
      w("focusService")
    ], t.prototype, "focusService", void 0), fS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), Dk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Pk = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ak = (
  /** @class */
  function(o) {
    Dk(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.wrappedComponent = e, r.setTemplateFromElement(e.getGui()), r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.initialiseTabGuard({
        onTabKeyDown: function(r) {
          return e.onTabKeyDown(r);
        },
        handleKeyDown: function(r) {
          return e.handleKeyDown(r);
        }
      });
    }, t.prototype.handleKeyDown = function(e) {
      e.key === H.ESCAPE && this.closePanel();
    }, t.prototype.onTabKeyDown = function(e) {
      e.defaultPrevented || (this.closePanel(), e.preventDefault());
    }, t.prototype.closePanel = function() {
      var e = this.parentComponent;
      e.closeSubMenu(), setTimeout(function() {
        return e.getGui().focus();
      }, 0);
    }, Pk([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), Mk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), vS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Hn = (
  /** @class */
  function(o) {
    Mk(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.params = e, r.isActive = !1, r.subMenuIsOpen = !1, r.setTemplate(
        /* html */
        '<div class="' + r.getClassName() + '" tabindex="-1" role="treeitem"></div>'
      ), r;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addIcon(), this.addName(), this.addShortcut(), this.addSubMenu(), this.addTooltip();
      var r = this.getGui();
      this.params.disabled ? (this.addCssClass(this.getClassName("disabled")), hm(r, !0)) : (this.addGuiEventListener("click", function(n) {
        return e.onItemSelected(n);
      }), this.addGuiEventListener("keydown", function(n) {
        (n.key === H.ENTER || n.key === H.SPACE) && (n.preventDefault(), e.onItemSelected(n));
      }), this.addGuiEventListener("mousedown", function(n) {
        n.stopPropagation(), n.preventDefault();
      }), this.addGuiEventListener("mouseenter", function() {
        return e.onMouseEnter();
      }), this.addGuiEventListener("mouseleave", function() {
        return e.onMouseLeave();
      })), this.params.cssClasses && this.params.cssClasses.forEach(function(n) {
        return e.addCssClass(n);
      });
    }, t.prototype.isDisabled = function() {
      return !!this.params.disabled;
    }, t.prototype.openSubMenu = function(e) {
      var r = this;
      if (e === void 0 && (e = !1), this.closeSubMenu(), !!this.params.subMenu) {
        var n = nr(
          /* html */
          '<div class="ag-menu" role="presentation"></div>'
        ), i;
        if (this.params.subMenu instanceof Array) {
          var a = Vb(this.getGui()), s = isNaN(a) ? 1 : a + 1, l = this.createBean(new xf(s));
          l.setParentComponent(this), l.addMenuItems(this.params.subMenu), n.appendChild(l.getGui()), this.addManagedListener(l, t.EVENT_MENU_ITEM_SELECTED, function(m) {
            return r.dispatchEvent(m);
          }), l.addGuiEventListener("mouseenter", function() {
            return r.cancelDeactivate();
          }), i = function() {
            return r.destroyBean(l);
          }, e && setTimeout(function() {
            return l.activateFirstItem();
          }, 0);
        } else {
          var u = this.params.subMenu, c = this.createBean(new Ak(u));
          c.setParentComponent(this);
          var d = c.getGui(), p = "mouseenter", h = function() {
            return r.cancelDeactivate();
          };
          d.addEventListener(p, h), i = function() {
            return d.removeEventListener(p, h);
          }, n.appendChild(d), u.afterGuiAttached && setTimeout(function() {
            return u.afterGuiAttached();
          }, 0);
        }
        var f = this.getGui(), v = this.popupService.positionPopupForMenu.bind(this.popupService, { eventSource: f, ePopup: n }), g = this.localeService.getLocaleTextFunc(), y = this.popupService.addPopup({
          modal: !0,
          eChild: n,
          positionCallback: v,
          anchorToElement: f,
          ariaLabel: g("ariaLabelSubMenu", "SubMenu")
        });
        this.subMenuIsOpen = !0, $n(f, !0), this.hideSubMenu = function() {
          y && y.hideFunc(), r.subMenuIsOpen = !1, $n(f, !1), i();
        };
      }
    }, t.prototype.closeSubMenu = function() {
      this.hideSubMenu && (this.hideSubMenu(), this.hideSubMenu = null, $n(this.getGui(), !1));
    }, t.prototype.isSubMenuOpen = function() {
      return this.subMenuIsOpen;
    }, t.prototype.activate = function(e) {
      var r = this;
      this.cancelActivate(), !this.params.disabled && (this.isActive = !0, this.addCssClass(this.getClassName("active")), this.getGui().focus(), e && this.params.subMenu && window.setTimeout(function() {
        r.isAlive() && r.isActive && r.openSubMenu();
      }, 300), this.onItemActivated());
    }, t.prototype.deactivate = function() {
      this.cancelDeactivate(), this.removeCssClass(this.getClassName("active")), this.isActive = !1, this.subMenuIsOpen && this.hideSubMenu();
    }, t.prototype.addIcon = function() {
      if (!(!this.params.checked && !this.params.icon && this.params.isCompact)) {
        var e = nr(
          /* html */
          '<span ref="eIcon" class="' + this.getClassName("part") + " " + this.getClassName("icon") + '" role="presentation"></span>'
        );
        this.params.checked ? e.appendChild(Et("check", this.gridOptionsService)) : this.params.icon && (ld(this.params.icon) ? e.appendChild(this.params.icon) : typeof this.params.icon == "string" ? e.innerHTML = this.params.icon : console.warn("AG Grid: menu item icon must be DOM node or string")), this.getGui().appendChild(e);
      }
    }, t.prototype.addName = function() {
      if (!(!this.params.name && this.params.isCompact)) {
        var e = nr(
          /* html */
          '<span ref="eName" class="' + this.getClassName("part") + " " + this.getClassName("text") + '">' + (this.params.name || "") + "</span>"
        );
        this.getGui().appendChild(e);
      }
    }, t.prototype.addTooltip = function() {
      this.params.tooltip && (this.tooltip = this.params.tooltip, this.gridOptionsService.is("enableBrowserTooltips") ? this.getGui().setAttribute("title", this.tooltip) : this.createManagedBean(new Fm(this)));
    }, t.prototype.getTooltipParams = function() {
      return {
        location: "menu",
        value: this.tooltip
      };
    }, t.prototype.addShortcut = function() {
      if (!(!this.params.shortcut && this.params.isCompact)) {
        var e = nr(
          /* html */
          '<span ref="eShortcut" class="' + this.getClassName("part") + " " + this.getClassName("shortcut") + '">' + (this.params.shortcut || "") + "</span>"
        );
        this.getGui().appendChild(e);
      }
    }, t.prototype.addSubMenu = function() {
      if (!(!this.params.subMenu && this.params.isCompact)) {
        var e = nr(
          /* html */
          '<span ref="ePopupPointer" class="' + this.getClassName("part") + " " + this.getClassName("popup-pointer") + '"></span>'
        ), r = this.getGui();
        if (this.params.subMenu) {
          var n = this.gridOptionsService.is("enableRtl") ? "smallLeft" : "smallRight";
          $n(r, !1), e.appendChild(Et(n, this.gridOptionsService));
        }
        r.appendChild(e);
      }
    }, t.prototype.onItemSelected = function(e) {
      if (this.params.action ? this.params.action() : this.openSubMenu(e && e.type === "keydown"), !(this.params.subMenu && !this.params.action)) {
        var r = {
          type: t.EVENT_MENU_ITEM_SELECTED,
          action: this.params.action,
          checked: this.params.checked,
          cssClasses: this.params.cssClasses,
          disabled: this.params.disabled,
          icon: this.params.icon,
          name: this.params.name,
          shortcut: this.params.shortcut,
          subMenu: this.params.subMenu,
          tooltip: this.params.tooltip,
          event: e
        };
        this.dispatchEvent(r);
      }
    }, t.prototype.onItemActivated = function() {
      var e = {
        type: t.EVENT_MENU_ITEM_ACTIVATED,
        menuItem: this
      };
      this.dispatchEvent(e);
    }, t.prototype.cancelActivate = function() {
      this.activateTimeoutId && (window.clearTimeout(this.activateTimeoutId), this.activateTimeoutId = 0);
    }, t.prototype.cancelDeactivate = function() {
      this.deactivateTimeoutId && (window.clearTimeout(this.deactivateTimeoutId), this.deactivateTimeoutId = 0);
    }, t.prototype.onMouseEnter = function() {
      var e = this;
      this.cancelDeactivate(), this.params.isAnotherSubMenuOpen() ? this.activateTimeoutId = window.setTimeout(function() {
        return e.activate(!0);
      }, t.ACTIVATION_DELAY) : this.activate(!0);
    }, t.prototype.onMouseLeave = function() {
      var e = this;
      this.cancelActivate(), this.isSubMenuOpen() ? this.deactivateTimeoutId = window.setTimeout(function() {
        return e.deactivate();
      }, t.ACTIVATION_DELAY) : this.deactivate();
    }, t.prototype.getClassName = function(e) {
      var r = this.params.isCompact ? "ag-compact-menu-option" : "ag-menu-option";
      return e ? r + "-" + e : r;
    }, t.EVENT_MENU_ITEM_SELECTED = "menuItemSelected", t.EVENT_MENU_ITEM_ACTIVATED = "menuItemActivated", t.ACTIVATION_DELAY = 80, vS([
      w("popupService")
    ], t.prototype, "popupService", void 0), vS([
      V
    ], t.prototype, "init", null), t;
  }(te)
), Ik = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Du = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Km = (
  /** @class */
  function(o) {
    Ik(t, o);
    function t(e) {
      var r = o.call(this, t.getTemplate(e)) || this;
      return r.closable = !0, r.config = e, r;
    }
    return t.getTemplate = function(e) {
      var r = e && e.cssIdentifier || "default";
      return (
        /* html */
        '<div class="ag-panel ag-' + r + `-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-` + r + `-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-` + r + `-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-` + r + `-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-` + r + `-panel-content-wrapper"></div>
        </div>`
      );
    }, t.prototype.postConstruct = function() {
      var e = this, r = this.config, n = r.component, i = r.closable, a = r.hideTitleBar, s = r.title, l = r.minWidth, u = l === void 0 ? 250 : l, c = r.width, d = r.minHeight, p = d === void 0 ? 250 : d, h = r.height, f = r.centered, v = r.popup, g = r.x, y = r.y;
      this.positionableFeature = new Cf(this.getGui(), {
        minWidth: u,
        width: c,
        minHeight: p,
        height: h,
        centered: f,
        x: g,
        y,
        popup: v,
        calculateTopBuffer: function() {
          return e.positionableFeature.getHeight() - e.getBodyHeight();
        }
      }), this.createManagedBean(this.positionableFeature);
      var m = this.getGui();
      n && this.setBodyComponent(n), a ? Be(this.eTitleBar, !1) : (s && this.setTitle(s), this.setClosable(i != null ? i : this.closable)), this.addManagedListener(this.eTitleBar, "mousedown", function(C) {
        var S = e.gridOptionsService.getDocument();
        if (m.contains(C.relatedTarget) || m.contains(S.activeElement) || e.eTitleBarButtons.contains(C.target)) {
          C.preventDefault();
          return;
        }
        var b = e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");
        b && b.focus();
      }), !(v && this.positionableFeature.isPositioned()) && (this.renderComponent && this.renderComponent(), this.positionableFeature.initialisePosition(), this.eContentWrapper.style.height = "0");
    }, t.prototype.renderComponent = function() {
      var e = this, r = this.getGui();
      r.focus(), this.close = function() {
        r.parentElement.removeChild(r), e.destroy();
      };
    }, t.prototype.getHeight = function() {
      return this.positionableFeature.getHeight();
    }, t.prototype.setHeight = function(e) {
      this.positionableFeature.setHeight(e);
    }, t.prototype.getWidth = function() {
      return this.positionableFeature.getWidth();
    }, t.prototype.setWidth = function(e) {
      this.positionableFeature.setWidth(e);
    }, t.prototype.setClosable = function(e) {
      if (e !== this.closable && (this.closable = e), e) {
        var r = this.closeButtonComp = new te(t.CLOSE_BTN_TEMPLATE);
        this.getContext().createBean(r);
        var n = r.getGui(), i = Et("close", this.gridOptionsService);
        i.classList.add("ag-panel-title-bar-button-icon"), n.appendChild(i), this.addTitleBarButton(r), r.addManagedListener(n, "click", this.onBtClose.bind(this));
      } else if (this.closeButtonComp) {
        var n = this.closeButtonComp.getGui();
        n.parentElement.removeChild(n), this.closeButtonComp = this.destroyBean(this.closeButtonComp);
      }
    }, t.prototype.setBodyComponent = function(e) {
      e.setParentComponent(this), this.eContentWrapper.appendChild(e.getGui());
    }, t.prototype.addTitleBarButton = function(e, r) {
      var n = this.eTitleBarButtons, i = n.children, a = i.length;
      r == null && (r = a), r = Math.max(0, Math.min(r, a)), e.addCssClass("ag-panel-title-bar-button");
      var s = e.getGui();
      r === 0 ? n.insertAdjacentElement("afterbegin", s) : r === a ? n.insertAdjacentElement("beforeend", s) : i[r - 1].insertAdjacentElement("afterend", s), e.setParentComponent(this);
    }, t.prototype.getBodyHeight = function() {
      return ad(this.eContentWrapper);
    }, t.prototype.getBodyWidth = function() {
      return yf(this.eContentWrapper);
    }, t.prototype.setTitle = function(e) {
      this.eTitle.innerText = e;
    }, t.prototype.onBtClose = function() {
      this.close();
    }, t.prototype.destroy = function() {
      this.closeButtonComp && (this.closeButtonComp = this.destroyBean(this.closeButtonComp));
      var e = this.getGui();
      e && e.offsetParent && this.close(), o.prototype.destroy.call(this);
    }, t.CLOSE_BTN_TEMPLATE = '<div class="ag-button"></div>', Du([
      G("eContentWrapper")
    ], t.prototype, "eContentWrapper", void 0), Du([
      G("eTitleBar")
    ], t.prototype, "eTitleBar", void 0), Du([
      G("eTitleBarButtons")
    ], t.prototype, "eTitleBarButtons", void 0), Du([
      G("eTitle")
    ], t.prototype, "eTitle", void 0), Du([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), Fk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), vh = function() {
  return vh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, vh.apply(this, arguments);
}, Lk = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, gh = (
  /** @class */
  function(o) {
    Fk(t, o);
    function t(e) {
      var r = o.call(this, vh(vh({}, e), { popup: !0 })) || this;
      return r.isMaximizable = !1, r.isMaximized = !1, r.maximizeListeners = [], r.resizeListenerDestroy = null, r.lastPosition = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      }, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.getGui(), n = this.config, i = n.movable, a = n.resizable, s = n.maximizable;
      this.addCssClass("ag-dialog"), o.prototype.postConstruct.call(this), this.addManagedListener(r, "focusin", function(l) {
        r.contains(l.relatedTarget) || e.popupService.bringPopupToFront(r);
      }), i && this.setMovable(i), s && this.setMaximizable(s), a && this.setResizable(a);
    }, t.prototype.renderComponent = function() {
      var e = this.getGui(), r = this.config, n = r.alwaysOnTop, i = r.modal, a = r.title, s = this.localeService.getLocaleTextFunc(), l = this.popupService.addPopup({
        modal: i,
        eChild: e,
        closeOnEsc: !0,
        closedCallback: this.destroy.bind(this),
        alwaysOnTop: n,
        ariaLabel: a || s("ariaLabelDialog", "Dialog")
      });
      l && (this.close = l.hideFunc);
    }, t.prototype.toggleMaximize = function() {
      var e = this.positionableFeature.getPosition();
      if (this.isMaximized) {
        var r = this.lastPosition, n = r.x, i = r.y, a = r.width, s = r.height;
        this.setWidth(a), this.setHeight(s), this.positionableFeature.offsetElement(n, i);
      } else
        this.lastPosition.width = this.getWidth(), this.lastPosition.height = this.getHeight(), this.lastPosition.x = e.x, this.lastPosition.y = e.y, this.positionableFeature.offsetElement(0, 0), this.setHeight("100%"), this.setWidth("100%");
      this.isMaximized = !this.isMaximized, this.refreshMaximizeIcon();
    }, t.prototype.refreshMaximizeIcon = function() {
      Be(this.maximizeIcon, !this.isMaximized), Be(this.minimizeIcon, this.isMaximized);
    }, t.prototype.clearMaximizebleListeners = function() {
      this.maximizeListeners.length && (this.maximizeListeners.forEach(function(e) {
        return e();
      }), this.maximizeListeners.length = 0), this.resizeListenerDestroy && (this.resizeListenerDestroy(), this.resizeListenerDestroy = null);
    }, t.prototype.destroy = function() {
      this.maximizeButtonComp = this.destroyBean(this.maximizeButtonComp), this.clearMaximizebleListeners(), o.prototype.destroy.call(this);
    }, t.prototype.setResizable = function(e) {
      this.positionableFeature.setResizable(e);
    }, t.prototype.setMovable = function(e) {
      this.positionableFeature.setMovable(e, this.eTitleBar);
    }, t.prototype.setMaximizable = function(e) {
      var r = this;
      if (!e) {
        this.clearMaximizebleListeners(), this.maximizeButtonComp && (this.destroyBean(this.maximizeButtonComp), this.maximizeButtonComp = this.maximizeIcon = this.minimizeIcon = void 0);
        return;
      }
      var n = this.eTitleBar;
      if (!(!n || e === this.isMaximizable)) {
        var i = this.buildMaximizeAndMinimizeElements();
        this.refreshMaximizeIcon(), i.addManagedListener(i.getGui(), "click", this.toggleMaximize.bind(this)), this.addTitleBarButton(i, 0), this.maximizeListeners.push(this.addManagedListener(n, "dblclick", this.toggleMaximize.bind(this))), this.resizeListenerDestroy = this.addManagedListener(this, "resize", function() {
          r.isMaximized = !1, r.refreshMaximizeIcon();
        });
      }
    }, t.prototype.buildMaximizeAndMinimizeElements = function() {
      var e = this.maximizeButtonComp = this.createBean(new te(
        /* html */
        '<div class="ag-dialog-button"></span>'
      )), r = e.getGui();
      return this.maximizeIcon = Et("maximize", this.gridOptionsService), r.appendChild(this.maximizeIcon), this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"), this.minimizeIcon = Et("minimize", this.gridOptionsService), r.appendChild(this.minimizeIcon), this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"), e;
    }, Lk([
      w("popupService")
    ], t.prototype, "popupService", void 0), t;
  }(Km)
), Nk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), yh = function() {
  return yh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, yh.apply(this, arguments);
}, Pu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Gk = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, kk = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Io;
(function(o) {
  o[o.vertical = 0] = "vertical", o[o.horizontal = 1] = "horizontal";
})(Io || (Io = {}));
var Vk = 0, Bk = (
  /** @class */
  function(o) {
    Nk(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.popupList = [], r;
    }
    e = t, t.prototype.postConstruct = function() {
      var r = this;
      this.ctrlsService.whenReady(function(n) {
        r.gridCtrl = n.gridCtrl, r.addManagedListener(r.gridCtrl, R.EVENT_KEYBOARD_FOCUS, function() {
          r.popupList.forEach(function(i) {
            return i.element.classList.add(Gl.AG_KEYBOARD_FOCUS);
          });
        }), r.addManagedListener(r.gridCtrl, R.EVENT_MOUSE_FOCUS, function() {
          r.popupList.forEach(function(i) {
            return i.element.classList.remove(Gl.AG_KEYBOARD_FOCUS);
          });
        });
      });
    }, t.prototype.getPopupParent = function() {
      var r = this.gridOptionsService.get("popupParent");
      return r || this.gridCtrl.getGui();
    }, t.prototype.positionPopupForMenu = function(r) {
      var n = r.eventSource.getBoundingClientRect(), i = this.getParentRect(), a = this.keepXYWithinBounds(r.ePopup, n.top - i.top, Io.vertical), s = r.ePopup.clientWidth > 0 ? r.ePopup.clientWidth : 200;
      r.ePopup.style.minWidth = s + "px";
      var l = i.right - i.left, u = l - s, c;
      this.gridOptionsService.is("enableRtl") ? (c = p(), c < 0 && (c = d()), c > u && (c = 0)) : (c = d(), c > u && (c = p()), c < 0 && (c = 0)), r.ePopup.style.left = c + "px", r.ePopup.style.top = a + "px";
      function d() {
        return n.right - i.left - 2;
      }
      function p() {
        return n.left - i.left - s;
      }
    }, t.prototype.positionPopupUnderMouseEvent = function(r) {
      var n = this, i = r.ePopup, a = r.nudgeX, s = r.nudgeY, l = r.skipObserver;
      this.positionPopup({
        ePopup: i,
        nudgeX: a,
        nudgeY: s,
        keepWithinBounds: !0,
        skipObserver: l,
        updatePosition: function() {
          return n.calculatePointerAlign(r.mouseEvent);
        },
        postProcessCallback: function() {
          return n.callPostProcessPopup(r.type, r.ePopup, null, r.mouseEvent, r.column, r.rowNode);
        }
      });
    }, t.prototype.calculatePointerAlign = function(r) {
      var n = this.getParentRect();
      return {
        x: r.clientX - n.left,
        y: r.clientY - n.top
      };
    }, t.prototype.positionPopupByComponent = function(r) {
      var n = this, i = r.eventSource.getBoundingClientRect(), a = r.alignSide || "left", s = r.position || "over", l = this.getParentRect(), u = function() {
        var c = i.left - l.left;
        a === "right" && (c -= r.ePopup.offsetWidth - i.width);
        var d = s === "over" ? i.top - l.top : i.top - l.top + i.height;
        return { x: c, y: d };
      };
      this.positionPopup({
        ePopup: r.ePopup,
        nudgeX: r.nudgeX,
        nudgeY: r.nudgeY,
        keepWithinBounds: r.keepWithinBounds,
        updatePosition: u,
        postProcessCallback: function() {
          return n.callPostProcessPopup(r.type, r.ePopup, r.eventSource, null, r.column, r.rowNode);
        }
      });
    }, t.prototype.callPostProcessPopup = function(r, n, i, a, s, l) {
      var u = this.gridOptionsService.getCallback("postProcessPopup");
      if (u) {
        var c = {
          column: s,
          rowNode: l,
          ePopup: n,
          type: r,
          eventSource: i,
          mouseEvent: a
        };
        u(c);
      }
    }, t.prototype.positionPopup = function(r) {
      var n = this, i = r.ePopup, a = r.keepWithinBounds, s = r.nudgeX, l = r.nudgeY, u = r.skipObserver, c = r.updatePosition, d = { width: 0, height: 0 }, p = function(f) {
        f === void 0 && (f = !1);
        var v = c(), g = v.x, y = v.y;
        f && i.clientWidth === d.width && i.clientHeight === d.height || (d.width = i.clientWidth, d.height = i.clientHeight, s && (g += s), l && (y += l), a && (g = n.keepXYWithinBounds(i, g, Io.horizontal), y = n.keepXYWithinBounds(i, y, Io.vertical)), i.style.left = g + "px", i.style.top = y + "px", r.postProcessCallback && r.postProcessCallback());
      };
      if (p(), !u) {
        var h = this.resizeObserverService.observeResize(i, function() {
          return p(!0);
        });
        setTimeout(function() {
          return h();
        }, e.WAIT_FOR_POPUP_CONTENT_RESIZE);
      }
    }, t.prototype.getActivePopups = function() {
      return this.popupList.map(function(r) {
        return r.element;
      });
    }, t.prototype.getPopupList = function() {
      return this.popupList;
    }, t.prototype.getParentRect = function() {
      var r = this.gridOptionsService.getDocument(), n = this.getPopupParent();
      return n === r.body ? n = r.documentElement : getComputedStyle(n).position === "static" && (n = n.offsetParent), Om(n);
    }, t.prototype.keepXYWithinBounds = function(r, n, i) {
      var a = i === Io.vertical, s = a ? "clientHeight" : "clientWidth", l = a ? "top" : "left", u = a ? "offsetHeight" : "offsetWidth", c = a ? "scrollTop" : "scrollLeft", d = this.gridOptionsService.getDocument(), p = d.documentElement, h = this.getPopupParent(), f = h.getBoundingClientRect(), v = d.documentElement.getBoundingClientRect(), g = h === d.body, y = r[u], m = a ? Em : mf, C = g ? m(p) + p[c] : h[s];
      g && (C -= Math.abs(v[l] - f[l]));
      var S = C - y;
      return Math.min(Math.max(n, 0), Math.abs(S));
    }, t.prototype.addPopup = function(r) {
      var n = this.gridOptionsService.getDocument(), i = r.eChild, a = r.ariaLabel, s = r.alwaysOnTop, l = r.positionCallback, u = r.anchorToElement;
      if (!n)
        return console.warn("AG Grid: could not find the document, document is empty"), { hideFunc: function() {
        } };
      var c = this.popupList.findIndex(function(f) {
        return f.element === i;
      });
      if (c !== -1) {
        var d = this.popupList[c];
        return { hideFunc: d.hideFunc };
      }
      this.initialisePopupPosition(i);
      var p = this.createPopupWrapper(i, a, !!s), h = this.addEventListenersToPopup(yh(yh({}, r), { wrapperEl: p }));
      return l && l(), this.addPopupToPopupList(i, p, h, u), {
        hideFunc: h
      };
    }, t.prototype.initialisePopupPosition = function(r) {
      var n = this.getPopupParent(), i = n.getBoundingClientRect();
      z(r.style.top) || (r.style.top = i.top * -1 + "px"), z(r.style.left) || (r.style.left = i.left * -1 + "px");
    }, t.prototype.createPopupWrapper = function(r, n, i) {
      var a, s = this.getPopupParent(), l = document.createElement("div"), u = this.environment.getTheme().allThemes;
      return u.length && (a = l.classList).add.apply(a, kk([], Gk(u))), l.classList.add("ag-popup"), r.classList.add(this.gridOptionsService.is("enableRtl") ? "ag-rtl" : "ag-ltr", "ag-popup-child"), r.hasAttribute("role") || Ut(r, "dialog"), ra(r, n), this.focusService.isKeyboardMode() && r.classList.add(Gl.AG_KEYBOARD_FOCUS), l.appendChild(r), s.appendChild(l), i ? this.setAlwaysOnTop(r, !0) : this.bringPopupToFront(r), l;
    }, t.prototype.addEventListenersToPopup = function(r) {
      var n = this, i = this.gridOptionsService.getDocument(), a = this.getPopupParent(), s = r.wrapperEl, l = r.eChild, u = r.click, c = r.closedCallback, d = r.afterGuiAttached, p = r.closeOnEsc, h = r.modal, f = !1, v = function(C) {
        if (s.contains(i.activeElement)) {
          var S = C.key;
          S === H.ESCAPE && m({ keyboardEvent: C });
        }
      }, g = function(C) {
        return m({ mouseEvent: C });
      }, y = function(C) {
        return m({ touchEvent: C });
      }, m = function(C) {
        C === void 0 && (C = {});
        var S = C.mouseEvent, b = C.touchEvent, _ = C.keyboardEvent;
        // we don't hide popup if the event was on the child, or any
        // children of this child
        n.isEventFromCurrentPopup({ mouseEvent: S, touchEvent: b }, l) || // if the event to close is actually the open event, then ignore it
        n.isEventSameChainAsOriginalEvent({ originalMouseEvent: u, mouseEvent: S, touchEvent: b }) || // this method should only be called once. the client can have different
        // paths, each one wanting to close, so this method may be called multiple times.
        f || (f = !0, a.removeChild(s), i.removeEventListener("keydown", v), i.removeEventListener("mousedown", g), i.removeEventListener("touchstart", y), i.removeEventListener("contextmenu", g), n.eventService.removeEventListener(R.EVENT_DRAG_STARTED, g), c && c(S || b || _), n.removePopupFromPopupList(l));
      };
      return d && d({ hidePopup: m }), window.setTimeout(function() {
        p && i.addEventListener("keydown", v), h && (i.addEventListener("mousedown", g), n.eventService.addEventListener(R.EVENT_DRAG_STARTED, g), i.addEventListener("touchstart", y), i.addEventListener("contextmenu", g));
      }, 0), m;
    }, t.prototype.addPopupToPopupList = function(r, n, i, a) {
      this.popupList.push({
        element: r,
        wrapper: n,
        hideFunc: i,
        instanceId: Vk++,
        isAnchored: !!a
      }), a && this.setPopupPositionRelatedToElement(r, a);
    }, t.prototype.setPopupPositionRelatedToElement = function(r, n) {
      var i = this.popupList.find(function(s) {
        return s.element === r;
      });
      if (i && (i.stopAnchoringPromise && i.stopAnchoringPromise.then(function(s) {
        return s && s();
      }), i.stopAnchoringPromise = void 0, i.isAnchored = !1, !!n)) {
        var a = this.keepPopupPositionedRelativeTo({
          element: n,
          ePopup: r,
          hidePopup: i.hideFunc
        });
        return i.stopAnchoringPromise = a, i.isAnchored = !0, a;
      }
    }, t.prototype.removePopupFromPopupList = function(r) {
      this.setPopupPositionRelatedToElement(r, null), this.popupList = this.popupList.filter(function(n) {
        return n.element !== r;
      });
    }, t.prototype.keepPopupPositionedRelativeTo = function(r) {
      var n = this, i = this.getPopupParent(), a = i.getBoundingClientRect(), s = r.element, l = r.ePopup, u = s.getBoundingClientRect(), c = a.top - u.top, d = a.left - u.left, p = c, h = d, f = l.style.top, v = parseInt(f.substring(0, f.length - 1), 10), g = l.style.left, y = parseInt(g.substring(0, g.length - 1), 10);
      return new Je(function(m) {
        n.getFrameworkOverrides().setInterval(function() {
          var C = i.getBoundingClientRect(), S = s.getBoundingClientRect(), b = S.top == 0 && S.left == 0 && S.height == 0 && S.width == 0;
          if (b) {
            r.hidePopup();
            return;
          }
          var _ = C.top - S.top;
          if (_ != p) {
            var O = n.keepXYWithinBounds(l, v + c - _, Io.vertical);
            l.style.top = O + "px";
          }
          p = _;
          var E = C.left - S.left;
          if (E != h) {
            var D = n.keepXYWithinBounds(l, y + d - E, Io.horizontal);
            l.style.left = D + "px";
          }
          h = E;
        }, 200).then(function(C) {
          var S = function() {
            C != null && window.clearInterval(C);
          };
          m(S);
        });
      });
    }, t.prototype.hasAnchoredPopup = function() {
      return this.popupList.some(function(r) {
        return r.isAnchored;
      });
    }, t.prototype.isEventFromCurrentPopup = function(r, n) {
      var i = r.mouseEvent, a = r.touchEvent, s = i || a;
      if (!s)
        return !1;
      var l = this.popupList.findIndex(function(d) {
        return d.element === n;
      });
      if (l === -1)
        return !1;
      for (var u = l; u < this.popupList.length; u++) {
        var c = this.popupList[u];
        if (nh(c.element, s))
          return !0;
      }
      return this.isElementWithinCustomPopup(s.target);
    }, t.prototype.isElementWithinCustomPopup = function(r) {
      for (var n = this.gridOptionsService.getDocument(); r && r !== n.body; ) {
        if (r.classList.contains("ag-custom-component-popup") || r.parentElement === null)
          return !0;
        r = r.parentElement;
      }
      return !1;
    }, t.prototype.isEventSameChainAsOriginalEvent = function(r) {
      var n = r.originalMouseEvent, i = r.mouseEvent, a = r.touchEvent, s = null;
      if (i ? s = i : a && (s = a.touches[0]), s && n) {
        var l = i ? i.screenX : 0, u = i ? i.screenY : 0, c = Math.abs(n.screenX - l) < 5, d = Math.abs(n.screenY - u) < 5;
        if (c && d)
          return !0;
      }
      return !1;
    }, t.prototype.getWrapper = function(r) {
      for (; !r.classList.contains("ag-popup") && r.parentElement; )
        r = r.parentElement;
      return r.classList.contains("ag-popup") ? r : null;
    }, t.prototype.setAlwaysOnTop = function(r, n) {
      var i = this.getWrapper(r);
      i && (i.classList.toggle("ag-always-on-top", !!n), n && this.bringPopupToFront(i));
    }, t.prototype.bringPopupToFront = function(r) {
      var n = this.getPopupParent(), i = Array.prototype.slice.call(n.querySelectorAll(".ag-popup")), a = i.length, s = Array.prototype.slice.call(n.querySelectorAll(".ag-popup.ag-always-on-top")), l = s.length, u = this.getWrapper(r);
      if (!(!u || a <= 1 || !n.contains(r))) {
        var c = i.indexOf(u), d = u.querySelectorAll("div"), p = [];
        if (d.forEach(function(g) {
          g.scrollTop !== 0 && p.push([g, g.scrollTop]);
        }), l) {
          var h = u.classList.contains("ag-always-on-top");
          h ? c !== a - 1 && et(s).insertAdjacentElement("afterend", u) : c !== a - l - 1 && s[0].insertAdjacentElement("beforebegin", u);
        } else
          c !== a - 1 && et(i).insertAdjacentElement("afterend", u);
        for (; p.length; ) {
          var f = p.pop();
          f[0].scrollTop = f[1];
        }
        var v = {
          type: "popupToFront",
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          eWrapper: u
        };
        this.eventService.dispatchEvent(v);
      }
    };
    var e;
    return t.WAIT_FOR_POPUP_CONTENT_RESIZE = 200, Pu([
      w("focusService")
    ], t.prototype, "focusService", void 0), Pu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Pu([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Pu([
      V
    ], t.prototype, "postConstruct", null), t = e = Pu([
      q("popupService")
    ], t), t;
  }(W)
), Hk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Rv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Tf = (
  /** @class */
  function(o) {
    Hk(t, o);
    function t(e, r, n) {
      e === void 0 && (e = "default"), r === void 0 && (r = "listbox");
      var i = o.call(this, t.getTemplate(e)) || this;
      return i.cssIdentifier = e, i.ariaRole = r, i.listName = n, i.renderedRows = /* @__PURE__ */ new Map(), i.rowHeight = 20, i;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.addScrollListener(), this.rowHeight = this.getItemHeight(), this.addResizeObserver(), this.initialiseTabGuard({
        onFocusIn: function(r) {
          return e.onFocusIn(r);
        },
        onFocusOut: function(r) {
          return e.onFocusOut(r);
        },
        focusInnerElement: function(r) {
          return e.focusInnerElement(r);
        },
        onTabKeyDown: function(r) {
          return e.onTabKeyDown(r);
        },
        handleKeyDown: function(r) {
          return e.handleKeyDown(r);
        }
      }), this.setAriaProperties(), this.addManagedListener(this.eventService, R.EVENT_GRID_STYLES_CHANGED, this.onGridStylesChanged.bind(this));
    }, t.prototype.onGridStylesChanged = function() {
      this.rowHeight = this.getItemHeight(), this.refresh();
    }, t.prototype.setAriaProperties = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaDefaultListName", this.listName || "List"), n = this.eContainer;
      Ut(n, this.ariaRole), ra(n, r);
    }, t.prototype.addResizeObserver = function() {
      var e = this, r = function() {
        return e.drawVirtualRows();
      }, n = this.resizeObserverService.observeResize(this.getGui(), r);
      this.addDestroyFunc(n);
    }, t.prototype.focusInnerElement = function(e) {
      this.focusRow(e ? this.model.getRowCount() - 1 : 0);
    }, t.prototype.onFocusIn = function(e) {
      var r = e.target;
      return r.classList.contains("ag-virtual-list-item") && (this.lastFocusedRowIndex = Bb(r) - 1), !1;
    }, t.prototype.onFocusOut = function(e) {
      return this.getFocusableElement().contains(e.relatedTarget) || (this.lastFocusedRowIndex = null), !1;
    }, t.prototype.handleKeyDown = function(e) {
      switch (e.key) {
        case H.UP:
        case H.DOWN:
          this.navigate(e.key === H.UP) && e.preventDefault();
          break;
      }
    }, t.prototype.onTabKeyDown = function(e) {
      this.navigate(e.shiftKey) ? e.preventDefault() : (io(e), this.forceFocusOutOfContainer(e.shiftKey));
    }, t.prototype.navigate = function(e) {
      if (this.lastFocusedRowIndex == null)
        return !1;
      var r = this.lastFocusedRowIndex + (e ? -1 : 1);
      return r < 0 || r >= this.model.getRowCount() ? !1 : (this.focusRow(r), !0);
    }, t.prototype.getLastFocusedRow = function() {
      return this.lastFocusedRowIndex;
    }, t.prototype.focusRow = function(e) {
      var r = this;
      this.ensureIndexVisible(e), window.setTimeout(function() {
        if (r.isAlive()) {
          var n = r.renderedRows.get(e);
          n && n.eDiv.focus();
        }
      }, 10);
    }, t.prototype.getComponentAt = function(e) {
      var r = this.renderedRows.get(e);
      return r && r.rowComponent;
    }, t.prototype.forEachRenderedRow = function(e) {
      this.renderedRows.forEach(function(r, n) {
        return e(r.rowComponent, n);
      });
    }, t.getTemplate = function(e) {
      return (
        /* html */
        `
            <div class="ag-virtual-list-viewport ag-` + e + `-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-` + e + `-virtual-list-container" ref="eContainer"></div>
            </div>`
      );
    }, t.prototype.getItemHeight = function() {
      return this.environment.getListItemHeight();
    }, t.prototype.ensureIndexVisible = function(e) {
      var r = this.model.getRowCount();
      if (typeof e != "number" || e < 0 || e >= r) {
        console.warn("AG Grid: invalid row index for ensureIndexVisible: " + e);
        return;
      }
      var n = e * this.rowHeight, i = n + this.rowHeight, a = this.getGui(), s = a.scrollTop, l = a.offsetHeight, u = s + l, c = s > n, d = u < i;
      if (c)
        a.scrollTop = n;
      else if (d) {
        var p = i - l;
        a.scrollTop = p;
      }
    }, t.prototype.setComponentCreator = function(e) {
      this.componentCreator = e;
    }, t.prototype.setComponentUpdater = function(e) {
      this.componentUpdater = e;
    }, t.prototype.getRowHeight = function() {
      return this.rowHeight;
    }, t.prototype.getScrollTop = function() {
      return this.getGui().scrollTop;
    }, t.prototype.setRowHeight = function(e) {
      this.rowHeight = e, this.refresh();
    }, t.prototype.refresh = function(e) {
      var r = this;
      if (!(this.model == null || !this.isAlive())) {
        var n = this.model.getRowCount();
        this.eContainer.style.height = n * this.rowHeight + "px", lm(function() {
          return r.eContainer.clientHeight >= n * r.rowHeight;
        }, function() {
          r.isAlive() && (r.canSoftRefresh(e) ? r.drawVirtualRows(!0) : (r.clearVirtualRows(), r.drawVirtualRows()));
        });
      }
    }, t.prototype.canSoftRefresh = function(e) {
      return !!(e && this.renderedRows.size && typeof this.model.areRowsEqual == "function" && this.componentUpdater);
    }, t.prototype.clearVirtualRows = function() {
      var e = this;
      this.renderedRows.forEach(function(r, n) {
        return e.removeRow(n);
      });
    }, t.prototype.drawVirtualRows = function(e) {
      if (this.isAlive()) {
        var r = this.getGui(), n = r.scrollTop, i = n + r.offsetHeight, a = Math.floor(n / this.rowHeight), s = Math.floor(i / this.rowHeight);
        this.ensureRowsRendered(a, s, e);
      }
    }, t.prototype.ensureRowsRendered = function(e, r, n) {
      var i = this;
      this.renderedRows.forEach(function(s, l) {
        (l < e || l > r) && l !== i.lastFocusedRowIndex && i.removeRow(l);
      }), n && this.refreshRows();
      for (var a = e; a <= r; a++)
        this.renderedRows.has(a) || a < this.model.getRowCount() && this.insertRow(a);
    }, t.prototype.insertRow = function(e) {
      var r = this, n = this.model.getRow(e), i = document.createElement("div");
      if (i.classList.add("ag-virtual-list-item", "ag-" + this.cssIdentifier + "-virtual-list-item"), Ut(i, this.ariaRole === "tree" ? "treeitem" : "option"), fm(i, this.model.getRowCount()), vm(i, e + 1), i.setAttribute("tabindex", "-1"), typeof this.model.isRowSelected == "function") {
        var a = this.model.isRowSelected(e);
        Wl(i, !!a), Qb(i, a);
      }
      i.style.height = this.rowHeight + "px", i.style.top = this.rowHeight * e + "px";
      var s = this.componentCreator(n, i);
      s.addGuiEventListener("focusin", function() {
        return r.lastFocusedRowIndex = e;
      }), i.appendChild(s.getGui()), this.renderedRows.has(e - 1) ? this.renderedRows.get(e - 1).eDiv.insertAdjacentElement("afterend", i) : this.renderedRows.has(e + 1) ? this.renderedRows.get(e + 1).eDiv.insertAdjacentElement("beforebegin", i) : this.eContainer.appendChild(i), this.renderedRows.set(e, { rowComponent: s, eDiv: i, value: n });
    }, t.prototype.removeRow = function(e) {
      var r = this.renderedRows.get(e);
      this.eContainer.removeChild(r.eDiv), this.destroyBean(r.rowComponent), this.renderedRows.delete(e);
    }, t.prototype.refreshRows = function() {
      var e = this, r = this.model.getRowCount();
      this.renderedRows.forEach(function(n, i) {
        var a, s;
        if (i >= r)
          e.removeRow(i);
        else {
          var l = e.model.getRow(i);
          !((s = (a = e.model).areRowsEqual) === null || s === void 0) && s.call(a, n.value, l) ? e.componentUpdater(l, n.rowComponent) : e.removeRow(i);
        }
      });
    }, t.prototype.addScrollListener = function() {
      var e = this;
      this.addGuiEventListener("scroll", function() {
        return e.drawVirtualRows();
      }, { passive: !0 });
    }, t.prototype.setModel = function(e) {
      this.model = e;
    }, t.prototype.destroy = function() {
      this.isAlive() && (this.clearVirtualRows(), o.prototype.destroy.call(this));
    }, Rv([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Rv([
      G("eContainer")
    ], t.prototype, "eContainer", void 0), Rv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), jk = ["mouseover", "mouseout", "mouseenter", "mouseleave", "mousemove"], Wk = ["touchstart", "touchend", "touchmove", "touchcancel"], WE = (
  /** @class */
  function() {
    function o() {
      this.renderingEngine = "vanilla", this.isOutsideAngular = function(t) {
        return Sn(jk, t);
      };
    }
    return o.prototype.setTimeout = function(t, e) {
      window.setTimeout(t, e);
    }, o.prototype.setInterval = function(t, e) {
      return new Je(function(r) {
        r(window.setInterval(t, e));
      });
    }, o.prototype.addEventListener = function(t, e, r, n) {
      var i = Sn(Wk, e);
      t.addEventListener(e, r, { capture: !!n, passive: i });
    }, o.prototype.dispatchEvent = function(t, e, r) {
      e();
    }, o.prototype.frameworkComponent = function(t) {
      return null;
    }, o.prototype.isFrameworkComponent = function(t) {
      return !1;
    }, o;
  }()
), $k = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bs = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Uk = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, zk = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Kk = (
  /** @class */
  function(o) {
    $k(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getNextCellToFocus = function(e, r, n) {
      return n === void 0 && (n = !1), n ? this.getNextCellToFocusWithCtrlPressed(e, r) : this.getNextCellToFocusWithoutCtrlPressed(e, r);
    }, t.prototype.getNextCellToFocusWithCtrlPressed = function(e, r) {
      var n = e === H.UP, i = e === H.DOWN, a = e === H.LEFT, s, l;
      if (n || i)
        l = n ? this.paginationProxy.getPageFirstRow() : this.paginationProxy.getPageLastRow(), s = r.column;
      else {
        var u = this.columnModel.getAllDisplayedColumns(), c = this.gridOptionsService.is("enableRtl");
        l = r.rowIndex, s = a !== c ? u[0] : et(u);
      }
      return {
        rowIndex: l,
        rowPinned: null,
        column: s
      };
    }, t.prototype.getNextCellToFocusWithoutCtrlPressed = function(e, r) {
      for (var n = r, i = !1; !i; ) {
        switch (e) {
          case H.UP:
            n = this.getCellAbove(n);
            break;
          case H.DOWN:
            n = this.getCellBelow(n);
            break;
          case H.RIGHT:
            this.gridOptionsService.is("enableRtl") ? n = this.getCellToLeft(n) : n = this.getCellToRight(n);
            break;
          case H.LEFT:
            this.gridOptionsService.is("enableRtl") ? n = this.getCellToRight(n) : n = this.getCellToLeft(n);
            break;
          default:
            n = null, console.warn("AG Grid: unknown key for navigation " + e);
            break;
        }
        n ? i = this.isCellGoodToFocusOn(n) : i = !0;
      }
      return n;
    }, t.prototype.isCellGoodToFocusOn = function(e) {
      var r = e.column, n;
      switch (e.rowPinned) {
        case "top":
          n = this.pinnedRowModel.getPinnedTopRow(e.rowIndex);
          break;
        case "bottom":
          n = this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);
          break;
        default:
          n = this.rowModel.getRow(e.rowIndex);
          break;
      }
      if (!n)
        return !1;
      var i = r.isSuppressNavigable(n);
      return !i;
    }, t.prototype.getCellToLeft = function(e) {
      if (!e)
        return null;
      var r = this.columnModel.getDisplayedColBefore(e.column);
      return r ? {
        rowIndex: e.rowIndex,
        column: r,
        rowPinned: e.rowPinned
      } : null;
    }, t.prototype.getCellToRight = function(e) {
      if (!e)
        return null;
      var r = this.columnModel.getDisplayedColAfter(e.column);
      return r ? {
        rowIndex: e.rowIndex,
        column: r,
        rowPinned: e.rowPinned
      } : null;
    }, t.prototype.getRowBelow = function(e) {
      var r = e.rowIndex, n = e.rowPinned;
      if (this.isLastRowInContainer(e))
        switch (n) {
          case "bottom":
            return null;
          case "top":
            return this.rowModel.isRowsToRender() ? { rowIndex: this.paginationProxy.getPageFirstRow(), rowPinned: null } : this.pinnedRowModel.isRowsToRender("bottom") ? { rowIndex: 0, rowPinned: "bottom" } : null;
          default:
            return this.pinnedRowModel.isRowsToRender("bottom") ? { rowIndex: 0, rowPinned: "bottom" } : null;
        }
      var i = this.rowModel.getRow(e.rowIndex), a = this.getNextStickyPosition(i);
      return a || { rowIndex: r + 1, rowPinned: n };
    }, t.prototype.getNextStickyPosition = function(e, r) {
      if (!(!this.gridOptionsService.isGroupRowsSticky() || !e || !e.sticky)) {
        var n = zk([], Uk(this.rowRenderer.getStickyTopRowCtrls())).sort(function(l, u) {
          return l.getRowNode().rowIndex - u.getRowNode().rowIndex;
        }), i = r ? -1 : 1, a = n.findIndex(function(l) {
          return l.getRowNode().rowIndex === e.rowIndex;
        }), s = n[a + i];
        if (s)
          return { rowIndex: s.getRowNode().rowIndex, rowPinned: null };
      }
    }, t.prototype.getCellBelow = function(e) {
      if (!e)
        return null;
      var r = this.getRowBelow(e);
      return r ? {
        rowIndex: r.rowIndex,
        column: e.column,
        rowPinned: r.rowPinned
      } : null;
    }, t.prototype.isLastRowInContainer = function(e) {
      var r = e.rowPinned, n = e.rowIndex;
      if (r === "top") {
        var i = this.pinnedRowModel.getPinnedTopRowData().length - 1;
        return i <= n;
      }
      if (r === "bottom") {
        var a = this.pinnedRowModel.getPinnedBottomRowData().length - 1;
        return a <= n;
      }
      var s = this.paginationProxy.getPageLastRow();
      return s <= n;
    }, t.prototype.getRowAbove = function(e) {
      var r = e.rowIndex, n = e.rowPinned, i = n ? r === 0 : r === this.paginationProxy.getPageFirstRow();
      if (i)
        return n === "top" ? null : n ? this.rowModel.isRowsToRender() ? this.getLastBodyCell() : this.pinnedRowModel.isRowsToRender("top") ? this.getLastFloatingTopRow() : null : this.pinnedRowModel.isRowsToRender("top") ? this.getLastFloatingTopRow() : null;
      var a = this.rowModel.getRow(e.rowIndex), s = this.getNextStickyPosition(a, !0);
      return s || { rowIndex: r - 1, rowPinned: n };
    }, t.prototype.getCellAbove = function(e) {
      if (!e)
        return null;
      var r = this.getRowAbove({ rowIndex: e.rowIndex, rowPinned: e.rowPinned });
      return r ? {
        rowIndex: r.rowIndex,
        column: e.column,
        rowPinned: r.rowPinned
      } : null;
    }, t.prototype.getLastBodyCell = function() {
      var e = this.paginationProxy.getPageLastRow();
      return { rowIndex: e, rowPinned: null };
    }, t.prototype.getLastFloatingTopRow = function() {
      var e = this.pinnedRowModel.getPinnedTopRowData().length - 1;
      return { rowIndex: e, rowPinned: "top" };
    }, t.prototype.getNextTabbedCell = function(e, r) {
      return r ? this.getNextTabbedCellBackwards(e) : this.getNextTabbedCellForwards(e);
    }, t.prototype.getNextTabbedCellForwards = function(e) {
      var r = this.columnModel.getAllDisplayedColumns(), n = e.rowIndex, i = e.rowPinned, a = this.columnModel.getDisplayedColAfter(e.column);
      if (!a) {
        a = r[0];
        var s = this.getRowBelow(e);
        if (me(s) || !s.rowPinned && !this.paginationProxy.isRowInPage(s))
          return null;
        n = s ? s.rowIndex : null, i = s ? s.rowPinned : null;
      }
      return { rowIndex: n, column: a, rowPinned: i };
    }, t.prototype.getNextTabbedCellBackwards = function(e) {
      var r = this.columnModel.getAllDisplayedColumns(), n = e.rowIndex, i = e.rowPinned, a = this.columnModel.getDisplayedColBefore(e.column);
      if (!a) {
        a = et(r);
        var s = this.getRowAbove({ rowIndex: e.rowIndex, rowPinned: e.rowPinned });
        if (me(s) || !s.rowPinned && !this.paginationProxy.isRowInPage(s))
          return null;
        n = s ? s.rowIndex : null, i = s ? s.rowPinned : null;
      }
      return { rowIndex: n, column: a, rowPinned: i };
    }, bs([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), bs([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), bs([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), bs([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), bs([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), t = bs([
      q("cellNavigationService")
    ], t), t;
  }(W)
), Yk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Au = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Xk = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, qk = (
  /** @class */
  function(o) {
    Yk(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.consuming = !1, e;
    }
    return t.prototype.setBeans = function(e) {
      this.logger = e.create("AlignedGridsService");
    }, t.prototype.init = function() {
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, this.fireColumnEvent.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, this.fireColumnEvent.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PINNED, this.fireColumnEvent.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_GROUP_OPENED, this.fireColumnEvent.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_RESIZED, this.fireColumnEvent.bind(this)), this.addManagedListener(this.eventService, R.EVENT_BODY_SCROLL, this.fireScrollEvent.bind(this));
    }, t.prototype.fireEvent = function(e) {
      if (!this.consuming) {
        var r = this.gridOptionsService.get("alignedGrids");
        r && r.forEach(function(n) {
          if (n.api) {
            var i = n.api.__getAlignedGridService();
            e(i);
          }
        });
      }
    }, t.prototype.onEvent = function(e) {
      this.consuming = !0, e(), this.consuming = !1;
    }, t.prototype.fireColumnEvent = function(e) {
      this.fireEvent(function(r) {
        r.onColumnEvent(e);
      });
    }, t.prototype.fireScrollEvent = function(e) {
      e.direction === "horizontal" && this.fireEvent(function(r) {
        r.onScrollEvent(e);
      });
    }, t.prototype.onScrollEvent = function(e) {
      var r = this;
      this.onEvent(function() {
        var n = r.ctrlsService.getGridBodyCtrl();
        n.getScrollFeature().setHorizontalScrollPosition(e.left, !0);
      });
    }, t.prototype.getMasterColumns = function(e) {
      var r = [];
      return e.columns ? e.columns.forEach(function(n) {
        r.push(n);
      }) : e.column && r.push(e.column), r;
    }, t.prototype.getColumnIds = function(e) {
      var r = [];
      return e.columns ? e.columns.forEach(function(n) {
        r.push(n.getColId());
      }) : e.column && r.push(e.column.getColId()), r;
    }, t.prototype.onColumnEvent = function(e) {
      var r = this;
      this.onEvent(function() {
        switch (e.type) {
          case R.EVENT_COLUMN_MOVED:
          case R.EVENT_COLUMN_VISIBLE:
          case R.EVENT_COLUMN_PINNED:
          case R.EVENT_COLUMN_RESIZED:
            var n = e;
            r.processColumnEvent(n);
            break;
          case R.EVENT_COLUMN_GROUP_OPENED:
            var i = e;
            r.processGroupOpenedEvent(i);
            break;
          case R.EVENT_COLUMN_PIVOT_CHANGED:
            console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");
            break;
        }
      });
    }, t.prototype.processGroupOpenedEvent = function(e) {
      var r = e.columnGroup, n = null;
      if (r) {
        var i = r.getGroupId();
        n = this.columnModel.getProvidedColumnGroup(i);
      }
      r && !n || (this.logger.log("onColumnEvent-> processing " + e + " expanded = " + r.isExpanded()), this.columnModel.setColumnGroupOpened(n, r.isExpanded(), "alignedGridChanged"));
    }, t.prototype.processColumnEvent = function(e) {
      var r = this, n, i = e.column, a = null;
      if (i && (a = this.columnModel.getPrimaryColumn(i.getColId())), !(i && !a)) {
        var s = this.getMasterColumns(e);
        switch (e.type) {
          case R.EVENT_COLUMN_MOVED:
            {
              var l = e, u = e.columnApi.getColumnState(), c = u.map(function(m) {
                return { colId: m.colId };
              });
              this.columnModel.applyColumnState({ state: c, applyOrder: !0 }, "alignedGridChanged"), this.logger.log("onColumnEvent-> processing " + e.type + " toIndex = " + l.toIndex);
            }
            break;
          case R.EVENT_COLUMN_VISIBLE:
            {
              var d = e, u = e.columnApi.getColumnState(), c = u.map(function(S) {
                return { colId: S.colId, hide: S.hide };
              });
              this.columnModel.applyColumnState({ state: c }, "alignedGridChanged"), this.logger.log("onColumnEvent-> processing " + e.type + " visible = " + d.visible);
            }
            break;
          case R.EVENT_COLUMN_PINNED:
            {
              var p = e, u = e.columnApi.getColumnState(), c = u.map(function(S) {
                return { colId: S.colId, pinned: S.pinned };
              });
              this.columnModel.applyColumnState({ state: c }, "alignedGridChanged"), this.logger.log("onColumnEvent-> processing " + e.type + " pinned = " + p.pinned);
            }
            break;
          case R.EVENT_COLUMN_RESIZED:
            var h = e, f = {};
            s.forEach(function(m) {
              r.logger.log("onColumnEvent-> processing " + e.type + " actualWidth = " + m.getActualWidth()), f[m.getId()] = { key: m.getColId(), newWidth: m.getActualWidth() };
            }), (n = h.flexColumns) === null || n === void 0 || n.forEach(function(m) {
              f[m.getId()] && delete f[m.getId()];
            }), this.columnModel.setColumnWidths(Object.values(f), !1, h.finished, "alignedGridChanged");
            break;
        }
        var v = this.ctrlsService.getGridBodyCtrl(), g = v.isVerticalScrollShowing(), y = this.gridOptionsService.get("alignedGrids");
        y && y.forEach(function(m) {
          m.api && m.api.setAlwaysShowVerticalScroll(g);
        });
      }
    }, Au([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Au([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Au([
      Xk(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), Au([
      V
    ], t.prototype, "init", null), t = Au([
      q("alignedGridsService")
    ], t), t;
  }(W)
), Zk = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Mu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Qk = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, Jk = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, e1 = (
  /** @class */
  function(o) {
    Zk(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setBeans = function(e) {
      this.logger = e.create("selectionService"), this.reset();
    }, t.prototype.init = function() {
      var e = this;
      this.groupSelectsChildren = this.gridOptionsService.is("groupSelectsChildren"), this.addManagedPropertyListener("groupSelectsChildren", function(r) {
        return e.groupSelectsChildren = r.currentValue;
      }), this.rowSelection = this.gridOptionsService.get("rowSelection"), this.addManagedPropertyListener("rowSelection", function(r) {
        return e.rowSelection = r.currentValue;
      }), this.addManagedListener(this.eventService, R.EVENT_ROW_SELECTED, this.onRowSelected.bind(this));
    }, t.prototype.isMultiselect = function() {
      return this.rowSelection === "multiple";
    }, t.prototype.setNodesSelected = function(e) {
      var r;
      if (e.nodes.length === 0)
        return 0;
      var n = e.newValue, i = e.clearSelection, a = e.suppressFinishActions, s = e.rangeSelect;
      e.event;
      var l = e.source, u = l === void 0 ? "api" : l;
      if (e.nodes.length > 1 && !this.isMultiselect())
        return console.warn("AG Grid: cannot multi select while rowSelection='single'"), 0;
      var c = this.groupSelectsChildren && e.groupSelectsFiltered === !0, d = e.nodes.map(function(_) {
        return _.footer ? _.sibling : _;
      });
      if (s) {
        if (e.nodes.length > 1)
          return console.warn("AG Grid: cannot range select while selecting multiple rows"), 0;
        var p = this.getLastSelectedNode();
        if (p) {
          var h = d[0], f = p !== h;
          if (f && this.isMultiselect()) {
            var v = this.selectRange(h, p, e.newValue, u);
            return this.setLastSelectedNode(h), v;
          }
        }
      }
      for (var g = 0, y = 0; y < d.length; y++) {
        var h = d[y], m = c && h.group;
        if (!m) {
          var C = h.selectThisNode(n, e.event, u);
          C && g++;
        }
        this.groupSelectsChildren && (!((r = h.childrenAfterGroup) === null || r === void 0) && r.length) && (g += this.selectChildren(h, n, c, u));
      }
      if (!a) {
        var S = n && (i || !this.isMultiselect());
        if (S && (g += this.clearOtherNodes(d[0], u)), g > 0) {
          this.updateGroupsFromChildrenSelections(u);
          var b = {
            type: R.EVENT_SELECTION_CHANGED,
            source: u
          };
          this.eventService.dispatchEvent(b);
        }
        n && this.setLastSelectedNode(d[d.length - 1]);
      }
      return g;
    }, t.prototype.selectRange = function(e, r, n, i) {
      var a = this;
      n === void 0 && (n = !0);
      var s = this.rowModel.getNodesInRangeForSelection(e, r), l = 0;
      s.forEach(function(c) {
        if (!(c.group && a.groupSelectsChildren || n === !1 && e === c)) {
          var d = c.selectThisNode(n, void 0, i);
          d && l++;
        }
      }), this.updateGroupsFromChildrenSelections(i);
      var u = {
        type: R.EVENT_SELECTION_CHANGED,
        source: i
      };
      return this.eventService.dispatchEvent(u), l;
    }, t.prototype.selectChildren = function(e, r, n, i) {
      var a = n ? e.childrenAfterAggFilter : e.childrenAfterGroup;
      return T.missing(a) ? 0 : this.setNodesSelected({
        newValue: r,
        clearSelection: !1,
        suppressFinishActions: !0,
        groupSelectsFiltered: n,
        source: i,
        nodes: a
      });
    }, t.prototype.setLastSelectedNode = function(e) {
      this.lastSelectedNode = e;
    }, t.prototype.getLastSelectedNode = function() {
      return this.lastSelectedNode;
    }, t.prototype.getSelectedNodes = function() {
      var e = [];
      return ut(this.selectedNodes, function(r, n) {
        n && e.push(n);
      }), e;
    }, t.prototype.getSelectedRows = function() {
      var e = [];
      return ut(this.selectedNodes, function(r, n) {
        n && n.data && e.push(n.data);
      }), e;
    }, t.prototype.getSelectionCount = function() {
      return Object.values(this.selectedNodes).length;
    }, t.prototype.filterFromSelection = function(e) {
      var r = {};
      Object.entries(this.selectedNodes).forEach(function(n) {
        var i = Jk(n, 2), a = i[0], s = i[1], l = s && e(s);
        l && (r[a] = s);
      }), this.selectedNodes = r;
    }, t.prototype.updateGroupsFromChildrenSelections = function(e, r) {
      if (!this.groupSelectsChildren || this.rowModel.getType() !== "clientSide")
        return !1;
      var n = this.rowModel, i = n.getRootNode();
      r || (r = new Of(!0, i), r.setInactive());
      var a = !1;
      return r.forEachChangedNodeDepthFirst(function(s) {
        if (s !== i) {
          var l = s.calculateSelectedFromChildren();
          a = s.selectThisNode(l === null ? !1 : l, void 0, e) || a;
        }
      }), a;
    }, t.prototype.clearOtherNodes = function(e, r) {
      var n = this, i = {}, a = 0;
      return ut(this.selectedNodes, function(s, l) {
        if (l && l.id !== e.id) {
          var u = n.selectedNodes[l.id];
          a += u.setSelectedParams({
            newValue: !1,
            clearSelection: !1,
            suppressFinishActions: !0,
            source: r
          }), n.groupSelectsChildren && l.parent && (i[l.parent.id] = l.parent);
        }
      }), ut(i, function(s, l) {
        var u = l.calculateSelectedFromChildren();
        l.selectThisNode(u === null ? !1 : u, void 0, r);
      }), a;
    }, t.prototype.onRowSelected = function(e) {
      var r = e.node;
      this.groupSelectsChildren && r.group || (r.isSelected() ? this.selectedNodes[r.id] = r : delete this.selectedNodes[r.id]);
    }, t.prototype.syncInRowNode = function(e, r) {
      this.syncInOldRowNode(e, r), this.syncInNewRowNode(e);
    }, t.prototype.syncInOldRowNode = function(e, r) {
      var n = z(r) && e.id !== r.id;
      if (n && r) {
        var i = r.id, a = this.selectedNodes[i] == e;
        a && (this.selectedNodes[r.id] = r);
      }
    }, t.prototype.syncInNewRowNode = function(e) {
      z(this.selectedNodes[e.id]) ? (e.setSelectedInitialValue(!0), this.selectedNodes[e.id] = e) : e.setSelectedInitialValue(!1);
    }, t.prototype.reset = function() {
      this.logger.log("reset"), this.selectedNodes = {}, this.lastSelectedNode = null;
    }, t.prototype.getBestCostNodeSelection = function() {
      if (this.rowModel.getType() !== "clientSide")
        return;
      var e = this.rowModel, r = e.getTopLevelNodes();
      if (r === null)
        return;
      var n = [];
      function i(a) {
        for (var s = 0, l = a.length; s < l; s++) {
          var u = a[s];
          if (u.isSelected())
            n.push(u);
          else {
            var c = u;
            c.group && c.children && i(c.children);
          }
        }
      }
      return i(r), n;
    }, t.prototype.isEmpty = function() {
      var e = 0;
      return ut(this.selectedNodes, function(r, n) {
        n && e++;
      }), e === 0;
    }, t.prototype.deselectAllRowNodes = function(e) {
      var r = function(u) {
        return u.selectThisNode(!1, void 0, i);
      }, n = this.rowModel.getType() === "clientSide", i = e.source, a = e.justFiltered, s = e.justCurrentPage;
      if (s || a) {
        if (!n) {
          console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");
          return;
        }
        this.getNodesToSelect(a, s).forEach(r);
      } else
        ut(this.selectedNodes, function(u, c) {
          c && r(c);
        }), this.reset();
      n && this.groupSelectsChildren && this.updateGroupsFromChildrenSelections(i);
      var l = {
        type: R.EVENT_SELECTION_CHANGED,
        source: i
      };
      this.eventService.dispatchEvent(l);
    }, t.prototype.getSelectAllState = function(e, r) {
      var n = this, i = 0, a = 0, s = function(l) {
        n.groupSelectsChildren && l.group || (l.isSelected() ? i++ : l.selectable && a++);
      };
      return this.getNodesToSelect(e, r).forEach(s), i === 0 && a === 0 ? !1 : i > 0 && a > 0 ? null : i > 0;
    }, t.prototype.getNodesToSelect = function(e, r) {
      var n = this;
      if (e === void 0 && (e = !1), r === void 0 && (r = !1), this.rowModel.getType() !== "clientSide")
        throw new Error("selectAll only available when rowModelType='clientSide', ie not " + this.rowModel.getType());
      var i = [];
      if (r)
        return this.paginationProxy.forEachNodeOnPage(function(s) {
          if (!s.group) {
            i.push(s);
            return;
          }
          if (!s.expanded) {
            var l = function(u) {
              var c;
              i.push(u), !((c = u.childrenAfterFilter) === null || c === void 0) && c.length && u.childrenAfterFilter.forEach(l);
            };
            l(s);
            return;
          }
          n.groupSelectsChildren || i.push(s);
        }), i;
      var a = this.rowModel;
      return e ? (a.forEachNodeAfterFilter(function(s) {
        i.push(s);
      }), i) : (a.forEachNode(function(s) {
        i.push(s);
      }), i);
    }, t.prototype.selectAllRowNodes = function(e) {
      if (this.rowModel.getType() !== "clientSide")
        throw new Error("selectAll only available when rowModelType='clientSide', ie not " + this.rowModel.getType());
      var r = e.source, n = e.justFiltered, i = e.justCurrentPage, a = function(l) {
        return l.selectThisNode(!0, void 0, r);
      };
      this.getNodesToSelect(n, i).forEach(a), this.rowModel.getType() === "clientSide" && this.groupSelectsChildren && this.updateGroupsFromChildrenSelections(r);
      var s = {
        type: R.EVENT_SELECTION_CHANGED,
        source: r
      };
      this.eventService.dispatchEvent(s);
    }, t.prototype.getServerSideSelectionState = function() {
      return null;
    }, t.prototype.setServerSideSelectionState = function(e) {
    }, Mu([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Mu([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), Mu([
      Qk(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), Mu([
      V
    ], t.prototype, "init", null), t = Mu([
      q("selectionService")
    ], t), t;
  }(W)
), Dv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, t1 = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.sizeColumnsToFit = function(t) {
      typeof t == "undefined" && console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"), this.columnModel.sizeColumnsToFit(t, "api");
    }, o.prototype.setColumnGroupOpened = function(t, e) {
      this.columnModel.setColumnGroupOpened(t, e, "api");
    }, o.prototype.getColumnGroup = function(t, e) {
      return this.columnModel.getColumnGroup(t, e);
    }, o.prototype.getProvidedColumnGroup = function(t) {
      return this.columnModel.getProvidedColumnGroup(t);
    }, o.prototype.getDisplayNameForColumn = function(t, e) {
      return this.columnModel.getDisplayNameForColumn(t, e) || "";
    }, o.prototype.getDisplayNameForColumnGroup = function(t, e) {
      return this.columnModel.getDisplayNameForColumnGroup(t, e) || "";
    }, o.prototype.getColumn = function(t) {
      return this.columnModel.getPrimaryColumn(t);
    }, o.prototype.getColumns = function() {
      return this.columnModel.getAllPrimaryColumns();
    }, o.prototype.applyColumnState = function(t) {
      return this.columnModel.applyColumnState(t, "api");
    }, o.prototype.getColumnState = function() {
      return this.columnModel.getColumnState();
    }, o.prototype.resetColumnState = function() {
      this.columnModel.resetColumnState("api");
    }, o.prototype.getColumnGroupState = function() {
      return this.columnModel.getColumnGroupState();
    }, o.prototype.setColumnGroupState = function(t) {
      this.columnModel.setColumnGroupState(t, "api");
    }, o.prototype.resetColumnGroupState = function() {
      this.columnModel.resetColumnGroupState("api");
    }, o.prototype.isPinning = function() {
      return this.columnModel.isPinningLeft() || this.columnModel.isPinningRight();
    }, o.prototype.isPinningLeft = function() {
      return this.columnModel.isPinningLeft();
    }, o.prototype.isPinningRight = function() {
      return this.columnModel.isPinningRight();
    }, o.prototype.getDisplayedColAfter = function(t) {
      return this.columnModel.getDisplayedColAfter(t);
    }, o.prototype.getDisplayedColBefore = function(t) {
      return this.columnModel.getDisplayedColBefore(t);
    }, o.prototype.setColumnVisible = function(t, e) {
      this.columnModel.setColumnVisible(t, e, "api");
    }, o.prototype.setColumnsVisible = function(t, e) {
      this.columnModel.setColumnsVisible(t, e, "api");
    }, o.prototype.setColumnPinned = function(t, e) {
      this.columnModel.setColumnPinned(t, e, "api");
    }, o.prototype.setColumnsPinned = function(t, e) {
      this.columnModel.setColumnsPinned(t, e, "api");
    }, o.prototype.getAllGridColumns = function() {
      return this.columnModel.getAllGridColumns();
    }, o.prototype.getDisplayedLeftColumns = function() {
      return this.columnModel.getDisplayedLeftColumns();
    }, o.prototype.getDisplayedCenterColumns = function() {
      return this.columnModel.getDisplayedCenterColumns();
    }, o.prototype.getDisplayedRightColumns = function() {
      return this.columnModel.getDisplayedRightColumns();
    }, o.prototype.getAllDisplayedColumns = function() {
      return this.columnModel.getAllDisplayedColumns();
    }, o.prototype.getAllDisplayedVirtualColumns = function() {
      return this.columnModel.getViewportColumns();
    }, o.prototype.moveColumn = function(t, e) {
      this.columnModel.moveColumn(t, e, "api");
    }, o.prototype.moveColumnByIndex = function(t, e) {
      this.columnModel.moveColumnByIndex(t, e, "api");
    }, o.prototype.moveColumns = function(t, e) {
      this.columnModel.moveColumns(t, e, "api");
    }, o.prototype.moveRowGroupColumn = function(t, e) {
      this.columnModel.moveRowGroupColumn(t, e);
    }, o.prototype.setColumnAggFunc = function(t, e) {
      this.columnModel.setColumnAggFunc(t, e);
    }, o.prototype.setColumnWidth = function(t, e, r, n) {
      r === void 0 && (r = !0), this.columnModel.setColumnWidths([{ key: t, newWidth: e }], !1, r, n);
    }, o.prototype.setColumnWidths = function(t, e, r) {
      e === void 0 && (e = !0), this.columnModel.setColumnWidths(t, !1, e, r);
    }, o.prototype.setPivotMode = function(t) {
      this.columnModel.setPivotMode(t);
    }, o.prototype.isPivotMode = function() {
      return this.columnModel.isPivotMode();
    }, o.prototype.getPivotResultColumn = function(t, e) {
      return this.columnModel.getSecondaryPivotColumn(t, e);
    }, o.prototype.setValueColumns = function(t) {
      this.columnModel.setValueColumns(t, "api");
    }, o.prototype.getValueColumns = function() {
      return this.columnModel.getValueColumns();
    }, o.prototype.removeValueColumn = function(t) {
      this.columnModel.removeValueColumn(t, "api");
    }, o.prototype.removeValueColumns = function(t) {
      this.columnModel.removeValueColumns(t, "api");
    }, o.prototype.addValueColumn = function(t) {
      this.columnModel.addValueColumn(t, "api");
    }, o.prototype.addValueColumns = function(t) {
      this.columnModel.addValueColumns(t, "api");
    }, o.prototype.setRowGroupColumns = function(t) {
      this.columnModel.setRowGroupColumns(t, "api");
    }, o.prototype.removeRowGroupColumn = function(t) {
      this.columnModel.removeRowGroupColumn(t, "api");
    }, o.prototype.removeRowGroupColumns = function(t) {
      this.columnModel.removeRowGroupColumns(t, "api");
    }, o.prototype.addRowGroupColumn = function(t) {
      this.columnModel.addRowGroupColumn(t, "api");
    }, o.prototype.addRowGroupColumns = function(t) {
      this.columnModel.addRowGroupColumns(t, "api");
    }, o.prototype.getRowGroupColumns = function() {
      return this.columnModel.getRowGroupColumns();
    }, o.prototype.setPivotColumns = function(t) {
      this.columnModel.setPivotColumns(t, "api");
    }, o.prototype.removePivotColumn = function(t) {
      this.columnModel.removePivotColumn(t, "api");
    }, o.prototype.removePivotColumns = function(t) {
      this.columnModel.removePivotColumns(t, "api");
    }, o.prototype.addPivotColumn = function(t) {
      this.columnModel.addPivotColumn(t, "api");
    }, o.prototype.addPivotColumns = function(t) {
      this.columnModel.addPivotColumns(t, "api");
    }, o.prototype.getPivotColumns = function() {
      return this.columnModel.getPivotColumns();
    }, o.prototype.getLeftDisplayedColumnGroups = function() {
      return this.columnModel.getDisplayedTreeLeft();
    }, o.prototype.getCenterDisplayedColumnGroups = function() {
      return this.columnModel.getDisplayedTreeCentre();
    }, o.prototype.getRightDisplayedColumnGroups = function() {
      return this.columnModel.getDisplayedTreeRight();
    }, o.prototype.getAllDisplayedColumnGroups = function() {
      return this.columnModel.getAllDisplayedTrees();
    }, o.prototype.autoSizeColumn = function(t, e) {
      return this.columnModel.autoSizeColumn(t, e, "api");
    }, o.prototype.autoSizeColumns = function(t, e) {
      this.columnModel.autoSizeColumns({ columns: t, skipHeader: e });
    }, o.prototype.autoSizeAllColumns = function(t) {
      this.columnModel.autoSizeAllColumns(t, "api");
    }, o.prototype.setPivotResultColumns = function(t) {
      this.columnModel.setSecondaryColumns(t, "api");
    }, o.prototype.getPivotResultColumns = function() {
      return this.columnModel.getSecondaryColumns();
    }, o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid = function() {
      setTimeout(T.removeAllReferences.bind(window, this, "Column API"), 100);
    }, o.prototype.getAllColumns = function() {
      return gn("28.0", "getAllColumns", "getColumns"), this.getColumns();
    }, o.prototype.getPrimaryColumns = function() {
      return gn("28.0", "getPrimaryColumns", "getColumns"), this.getColumns();
    }, o.prototype.getSecondaryColumns = function() {
      return gn("28.0", "getSecondaryColumns", "getPivotResultColumns"), this.getPivotResultColumns();
    }, o.prototype.setSecondaryColumns = function(t) {
      gn("28.0", "setSecondaryColumns", "setPivotResultColumns"), this.setPivotResultColumns(t);
    }, o.prototype.getSecondaryPivotColumn = function(t, e) {
      return gn("28.0", "getSecondaryPivotColumn", "getPivotResultColumn"), this.getPivotResultColumn(t, e);
    }, Dv([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), Dv([
      rt
    ], o.prototype, "cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid", null), o = Dv([
      q("columnApi")
    ], o), o;
  }()
), r1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Es = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, n1 = (
  /** @class */
  function(o) {
    r1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.initialised = !1, e.isSsrm = !1, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.isSsrm = this.gridOptionsService.isRowModelType("serverSide"), this.cellExpressions = this.gridOptionsService.is("enableCellExpressions"), this.isTreeData = this.gridOptionsService.is("treeData"), this.initialised = !0, this.eventService.addEventListener(R.EVENT_CELL_VALUE_CHANGED, function(r) {
        return e.callColumnCellValueChangedHandler(r);
      }, this.gridOptionsService.useAsyncEvents()), this.addManagedPropertyListener("treeData", function(r) {
        return e.isTreeData = r.currentValue;
      });
    }, t.prototype.getValue = function(e, r, n, i) {
      if (n === void 0 && (n = !1), i === void 0 && (i = !1), this.initialised || this.init(), !!r) {
        var a = e.getColDef(), s = a.field, l = e.getColId(), u = r.data, c, d = r.groupData && r.groupData[l] !== void 0, p = !i && r.aggData && r.aggData[l] !== void 0, h = this.isSsrm && i && !!e.getColDef().aggFunc, f = this.isSsrm && r.footer && r.field && (e.getColDef().showRowGroup === !0 || e.getColDef().showRowGroup === r.field);
        if (n && a.filterValueGetter ? c = this.executeFilterValueGetter(a.filterValueGetter, u, e, r) : this.isTreeData && p ? c = r.aggData[l] : this.isTreeData && a.valueGetter ? c = this.executeValueGetter(a.valueGetter, u, e, r) : this.isTreeData && s && u ? c = Il(u, s, e.isFieldContainsDots()) : d ? c = r.groupData[l] : p ? c = r.aggData[l] : a.valueGetter ? c = this.executeValueGetter(a.valueGetter, u, e, r) : f ? c = Il(u, r.field, e.isFieldContainsDots()) : s && u && !h && (c = Il(u, s, e.isFieldContainsDots())), this.cellExpressions && typeof c == "string" && c.indexOf("=") === 0) {
          var v = c.substring(1);
          c = this.executeValueGetter(v, u, e, r);
        }
        if (c == null) {
          var g = this.getOpenedGroup(r, e);
          if (g != null)
            return g;
        }
        return c;
      }
    }, t.prototype.getOpenedGroup = function(e, r) {
      if (this.gridOptionsService.is("showOpenedGroup")) {
        var n = r.getColDef();
        if (n.showRowGroup)
          for (var i = r.getColDef().showRowGroup, a = e.parent; a != null; ) {
            if (a.rowGroupColumn && (i === !0 || i === a.rowGroupColumn.getColId()))
              return a.key;
            a = a.parent;
          }
      }
    }, t.prototype.setValue = function(e, r, n, i) {
      var a = this.columnModel.getPrimaryColumn(r);
      if (!e || !a)
        return !1;
      me(e.data) && (e.data = {});
      var s = a.getColDef(), l = s.field, u = s.valueSetter;
      if (me(l) && me(u))
        return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"), !1;
      if (!this.dataTypeService.checkType(a, n))
        return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"), !1;
      var c = {
        node: e,
        data: e.data,
        oldValue: this.getValue(a, e),
        newValue: n,
        colDef: a.getColDef(),
        column: a,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      };
      c.newValue = n;
      var d;
      if (z(u) ? typeof u == "function" ? d = u(c) : d = this.expressionService.evaluate(u, c) : d = this.setValueUsingField(e.data, l, n, a.isFieldContainsDots()), d === void 0 && (d = !0), !d)
        return !1;
      e.resetQuickFilterAggregateText(), this.valueCache.onDataChanged(), c.newValue = this.getValue(a, e);
      var p = {
        type: R.EVENT_CELL_VALUE_CHANGED,
        event: null,
        rowIndex: e.rowIndex,
        rowPinned: e.rowPinned,
        column: c.column,
        api: c.api,
        columnApi: c.columnApi,
        colDef: c.colDef,
        context: c.context,
        data: e.data,
        node: e,
        oldValue: c.oldValue,
        newValue: c.newValue,
        value: c.newValue,
        source: i
      };
      return this.eventService.dispatchEvent(p), !0;
    }, t.prototype.callColumnCellValueChangedHandler = function(e) {
      var r = e.colDef.onCellValueChanged;
      typeof r == "function" && r({
        node: e.node,
        data: e.data,
        oldValue: e.oldValue,
        newValue: e.newValue,
        colDef: e.colDef,
        column: e.column,
        api: e.api,
        columnApi: e.columnApi,
        context: e.context
      });
    }, t.prototype.setValueUsingField = function(e, r, n, i) {
      if (!r)
        return !1;
      var a = !1;
      if (!i)
        a = e[r] == n, a || (e[r] = n);
      else
        for (var s = r.split("."), l = e; s.length > 0 && l; ) {
          var u = s.shift();
          s.length === 0 ? (a = l[u] == n, a || (l[u] = n)) : l = l[u];
        }
      return !a;
    }, t.prototype.executeFilterValueGetter = function(e, r, n, i) {
      var a = {
        data: r,
        node: i,
        column: n,
        colDef: n.getColDef(),
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context,
        getValue: this.getValueCallback.bind(this, i)
      };
      return typeof e == "function" ? e(a) : this.expressionService.evaluate(e, a);
    }, t.prototype.executeValueGetter = function(e, r, n, i) {
      var a = n.getColId(), s = this.valueCache.getValue(i, a);
      if (s !== void 0)
        return s;
      var l = {
        data: r,
        node: i,
        column: n,
        colDef: n.getColDef(),
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context,
        getValue: this.getValueCallback.bind(this, i)
      }, u;
      return typeof e == "function" ? u = e(l) : u = this.expressionService.evaluate(e, l), this.valueCache.setValue(i, a, u), u;
    }, t.prototype.getValueCallback = function(e, r) {
      var n = this.columnModel.getPrimaryColumn(r);
      return n ? this.getValue(n, e) : null;
    }, t.prototype.getKeyForNode = function(e, r) {
      var n = this.getValue(e, r), i = e.getColDef().keyCreator, a = n;
      if (i) {
        var s = {
          value: n,
          colDef: e.getColDef(),
          column: e,
          node: r,
          data: r.data,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        };
        a = i(s);
      }
      return typeof a == "string" || a == null || (a = String(a), a === "[object Object]" && ze(function() {
        console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key");
      }, "getKeyForNode - warn about [object,object]")), a;
    }, Es([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), Es([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Es([
      w("valueCache")
    ], t.prototype, "valueCache", void 0), Es([
      w("dataTypeService")
    ], t.prototype, "dataTypeService", void 0), Es([
      V
    ], t.prototype, "init", null), t = Es([
      q("valueService")
    ], t), t;
  }(W)
), i1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), gS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, o1 = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, a1 = (
  /** @class */
  function(o) {
    i1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.expressionToFunctionCache = {}, e;
    }
    return t.prototype.setBeans = function(e) {
      this.logger = e.create("ExpressionService");
    }, t.prototype.evaluate = function(e, r) {
      if (typeof e == "string")
        return this.evaluateExpression(e, r);
      console.error("AG Grid: value should be either a string or a function", e);
    }, t.prototype.evaluateExpression = function(e, r) {
      try {
        var n = this.createExpressionFunction(e), i = n(r.value, r.context, r.oldValue, r.newValue, r.value, r.node, r.data, r.colDef, r.rowIndex, r.api, r.columnApi, r.getValue, r.column, r.columnGroup);
        return i;
      } catch (a) {
        return console.log("Processing of the expression failed"), console.log("Expression = " + e), console.log("Params =", r), console.log("Exception = " + a), null;
      }
    }, t.prototype.createExpressionFunction = function(e) {
      if (this.expressionToFunctionCache[e])
        return this.expressionToFunctionCache[e];
      var r = this.createFunctionBody(e), n = new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup", r);
      return this.expressionToFunctionCache[e] = n, n;
    }, t.prototype.createFunctionBody = function(e) {
      return e.indexOf("return") >= 0 ? e : "return " + e + ";";
    }, gS([
      o1(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), t = gS([
      q("expressionService")
    ], t), t;
  }(W)
), s1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), l1 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, u1 = (
  /** @class */
  function(o) {
    s1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.templateCache = {}, e.waitingCallbacks = {}, e;
    }
    return t.prototype.getTemplate = function(e, r) {
      var n = this.templateCache[e];
      if (n)
        return n;
      var i = this.waitingCallbacks[e], a = this;
      if (!i) {
        i = [], this.waitingCallbacks[e] = i;
        var s = new XMLHttpRequest();
        s.onload = function() {
          a.handleHttpResult(this, e);
        }, s.open("GET", e), s.send();
      }
      return r && i.push(r), null;
    }, t.prototype.handleHttpResult = function(e, r) {
      if (e.status !== 200 || e.response === null) {
        console.warn("AG Grid: Unable to get template error " + e.status + " - " + r);
        return;
      }
      this.templateCache[r] = e.response || e.responseText;
      for (var n = this.waitingCallbacks[r], i = 0; i < n.length; i++) {
        var a = n[i];
        a();
      }
    }, t = l1([
      q("templateService")
    ], t), t;
  }(W)
), c1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), yS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, d1 = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, p1 = (
  /** @class */
  function(o) {
    c1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setBeans = function(e) {
      this.logging = e.is("debug");
    }, t.prototype.create = function(e) {
      return new hy(e, this.isLogging.bind(this));
    }, t.prototype.isLogging = function() {
      return this.logging;
    }, yS([
      d1(0, Er("gridOptionsService"))
    ], t.prototype, "setBeans", null), t = yS([
      q("loggerFactory")
    ], t), t;
  }(W)
), hy = (
  /** @class */
  function() {
    function o(t, e) {
      this.name = t, this.isLoggingFunc = e;
    }
    return o.prototype.isLogging = function() {
      return this.isLoggingFunc();
    }, o.prototype.log = function(t) {
      this.isLoggingFunc() && console.log("AG Grid." + this.name + ": " + t);
    }, o;
  }()
), h1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Os = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, f1 = (
  /** @class */
  function(o) {
    h1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setComp = function(e, r, n) {
      var i = this;
      this.view = e, this.eGridHostDiv = r, this.eGui = n, this.eGui.setAttribute("grid-id", this.context.getGridId()), this.dragAndDropService.addDropTarget({
        getContainer: function() {
          return i.eGui;
        },
        isInterestedIn: function(s) {
          return s === gt.HeaderCell || s === gt.ToolPanel;
        },
        getIconName: function() {
          return Ze.ICON_NOT_ALLOWED;
        }
      }), this.mouseEventService.stampTopLevelGridCompWithGridInstance(r), this.createManagedBean(new Hm(this.view)), this.addRtlSupport(), this.addManagedListener(this, R.EVENT_KEYBOARD_FOCUS, function() {
        i.view.addOrRemoveKeyboardFocusClass(!0);
      }), this.addManagedListener(this, R.EVENT_MOUSE_FOCUS, function() {
        i.view.addOrRemoveKeyboardFocusClass(!1);
      });
      var a = this.resizeObserverService.observeResize(this.eGridHostDiv, this.onGridSizeChanged.bind(this));
      this.addDestroyFunc(function() {
        return a();
      }), this.ctrlsService.registerGridCtrl(this);
    }, t.prototype.isDetailGrid = function() {
      var e, r = this.focusService.findTabbableParent(this.getGui());
      return ((e = r == null ? void 0 : r.getAttribute("row-id")) === null || e === void 0 ? void 0 : e.startsWith("detail")) || !1;
    }, t.prototype.showDropZones = function() {
      return de.__isRegistered(Z.RowGroupingModule, this.context.getGridId());
    }, t.prototype.showSideBar = function() {
      return de.__isRegistered(Z.SideBarModule, this.context.getGridId());
    }, t.prototype.showStatusBar = function() {
      return de.__isRegistered(Z.StatusBarModule, this.context.getGridId());
    }, t.prototype.showWatermark = function() {
      return de.__isRegistered(Z.EnterpriseCoreModule, this.context.getGridId());
    }, t.prototype.onGridSizeChanged = function() {
      var e = {
        type: R.EVENT_GRID_SIZE_CHANGED,
        clientWidth: this.eGridHostDiv.clientWidth,
        clientHeight: this.eGridHostDiv.clientHeight
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.addRtlSupport = function() {
      var e = this.gridOptionsService.is("enableRtl") ? "ag-rtl" : "ag-ltr";
      this.view.setRtlClass(e);
    }, t.prototype.destroyGridUi = function() {
      this.view.destroyGridUi();
    }, t.prototype.getGui = function() {
      return this.eGui;
    }, t.prototype.setResizeCursor = function(e) {
      this.view.setCursor(e ? "ew-resize" : null);
    }, t.prototype.disableUserSelect = function(e) {
      this.view.setUserSelect(e ? "none" : null);
    }, t.prototype.focusNextInnerContainer = function(e) {
      var r = this.gridOptionsService.getDocument(), n = this.view.getFocusableContainers(), i = n.findIndex(function(s) {
        return s.contains(r.activeElement);
      }), a = i + (e ? -1 : 1);
      return a <= 0 || a >= n.length ? !1 : this.focusService.focusInto(n[a]);
    }, t.prototype.focusInnerElement = function(e) {
      var r = this.view.getFocusableContainers(), n = this.columnModel.getAllDisplayedColumns();
      if (e) {
        if (r.length > 1)
          return this.focusService.focusInto(et(r), !0);
        var i = et(n);
        if (this.focusService.focusGridView(i, !0))
          return !0;
      }
      return this.gridOptionsService.getNum("headerHeight") === 0 ? this.focusService.focusGridView(n[0]) : this.focusService.focusFirstHeader();
    }, t.prototype.forceFocusOutOfContainer = function(e) {
      e === void 0 && (e = !1), this.view.forceFocusOutOfContainer(e);
    }, Os([
      w("focusService")
    ], t.prototype, "focusService", void 0), Os([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Os([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Os([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Os([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), Os([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), t;
  }(W)
), v1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Iu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, g1 = (
  /** @class */
  function(o) {
    v1(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.eGridDiv = e, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.logger = this.loggerFactory.create("GridComp");
      var r = {
        destroyGridUi: function() {
          return e.destroyBean(e);
        },
        setRtlClass: function(i) {
          return e.addCssClass(i);
        },
        addOrRemoveKeyboardFocusClass: function(i) {
          return e.addOrRemoveCssClass(Gl.AG_KEYBOARD_FOCUS, i);
        },
        forceFocusOutOfContainer: this.forceFocusOutOfContainer.bind(this),
        updateLayoutClasses: this.updateLayoutClasses.bind(this),
        getFocusableContainers: this.getFocusableContainers.bind(this),
        setUserSelect: function(i) {
          e.getGui().style.userSelect = i != null ? i : "", e.getGui().style.webkitUserSelect = i != null ? i : "";
        },
        setCursor: function(i) {
          e.getGui().style.cursor = i != null ? i : "";
        }
      };
      this.ctrl = this.createManagedBean(new f1());
      var n = this.createTemplate();
      this.setTemplate(n), this.ctrl.setComp(r, this.eGridDiv, this.getGui()), this.insertGridIntoDom(), this.initialiseTabGuard({
        // we want to override the default behaviour to do nothing for onTabKeyDown
        onTabKeyDown: function() {
        },
        focusInnerElement: function(i) {
          return e.ctrl.focusInnerElement(i);
        }
      });
    }, t.prototype.insertGridIntoDom = function() {
      var e = this, r = this.getGui();
      this.eGridDiv.appendChild(r), this.addDestroyFunc(function() {
        e.eGridDiv.removeChild(r), e.logger.log("Grid removed from DOM");
      });
    }, t.prototype.updateLayoutClasses = function(e, r) {
      var n = this.eRootWrapperBody.classList;
      n.toggle(At.AUTO_HEIGHT, r.autoHeight), n.toggle(At.NORMAL, r.normal), n.toggle(At.PRINT, r.print), this.addOrRemoveCssClass(At.AUTO_HEIGHT, r.autoHeight), this.addOrRemoveCssClass(At.NORMAL, r.normal), this.addOrRemoveCssClass(At.PRINT, r.print);
    }, t.prototype.createTemplate = function() {
      var e = this.ctrl.showDropZones() ? "<ag-grid-header-drop-zones></ag-grid-header-drop-zones>" : "", r = this.ctrl.showSideBar() ? '<ag-side-bar ref="sideBar"></ag-side-bar>' : "", n = this.ctrl.showStatusBar() ? '<ag-status-bar ref="statusBar"></ag-status-bar>' : "", i = this.ctrl.showWatermark() ? "<ag-watermark></ag-watermark>" : "", a = (
        /* html */
        `<div class="ag-root-wrapper" role="presentation">
                ` + e + `
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ` + r + `
                </div>
                ` + n + `
                <ag-pagination></ag-pagination>
                ` + i + `
            </div>`
      );
      return a;
    }, t.prototype.getFocusableElement = function() {
      return this.eRootWrapperBody;
    }, t.prototype.getFocusableContainers = function() {
      var e = [
        this.gridBodyComp.getGui()
      ];
      return this.sideBarComp && e.push(this.sideBarComp.getGui()), e.filter(function(r) {
        return so(r);
      });
    }, Iu([
      w("loggerFactory")
    ], t.prototype, "loggerFactory", void 0), Iu([
      G("gridBody")
    ], t.prototype, "gridBodyComp", void 0), Iu([
      G("sideBar")
    ], t.prototype, "sideBarComp", void 0), Iu([
      G("rootWrapperBody")
    ], t.prototype, "eRootWrapperBody", void 0), Iu([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), y1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, So = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, xs = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, m1 = (
  /** @class */
  function(o) {
    y1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.prototype.progressSort = function(r, n, i) {
      var a = this.getNextSortDirection(r);
      this.setSortForColumn(r, a, n, i);
    }, t.prototype.setSortForColumn = function(r, n, i, a) {
      n !== "asc" && n !== "desc" && (n = null);
      var s = this.gridOptionsService.isColumnsSortingCoupledToGroup(), l = [r];
      if (s && r.getColDef().showRowGroup) {
        var u = this.columnModel.getSourceColumnsForGroupColumn(r), c = u == null ? void 0 : u.filter(function(p) {
          return p.getColDef().sortable;
        });
        c && (l = xs([r], So(c)));
      }
      l.forEach(function(p) {
        return p.setSort(n, a);
      });
      var d = (i || this.gridOptionsService.is("alwaysMultiSort")) && !this.gridOptionsService.is("suppressMultiSort");
      d || this.clearSortBarTheseColumns(l, a), this.updateSortIndex(r), this.dispatchSortChangedEvents(a);
    }, t.prototype.updateSortIndex = function(r) {
      var n = this.gridOptionsService.isColumnsSortingCoupledToGroup(), i = this.columnModel.getGroupDisplayColumnForGroup(r.getId()), a = n && i || r, s = this.getColumnsWithSortingOrdered();
      this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c) {
        return c.setSortIndex(null);
      });
      var l = s.filter(function(c) {
        return c !== a;
      }), u = a.getSort() ? xs(xs([], So(l)), [a]) : l;
      u.forEach(function(c, d) {
        return c.setSortIndex(d);
      });
    }, t.prototype.onSortChanged = function(r) {
      this.dispatchSortChangedEvents(r);
    }, t.prototype.isSortActive = function() {
      var r = this.columnModel.getPrimaryAndSecondaryAndAutoColumns(), n = r.filter(function(i) {
        return !!i.getSort();
      });
      return n && n.length > 0;
    }, t.prototype.dispatchSortChangedEvents = function(r) {
      var n = {
        type: R.EVENT_SORT_CHANGED,
        source: r
      };
      this.eventService.dispatchEvent(n);
    }, t.prototype.clearSortBarTheseColumns = function(r, n) {
      this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(i) {
        r.includes(i) || i.setSort(void 0, n);
      });
    }, t.prototype.getNextSortDirection = function(r) {
      var n;
      if (r.getColDef().sortingOrder ? n = r.getColDef().sortingOrder : this.gridOptionsService.get("sortingOrder") ? n = this.gridOptionsService.get("sortingOrder") : n = e.DEFAULT_SORTING_ORDER, !Array.isArray(n) || n.length <= 0)
        return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's " + n), null;
      var i = n.indexOf(r.getSort()), a = i < 0, s = i == n.length - 1, l;
      return a || s ? l = n[0] : l = n[i + 1], e.DEFAULT_SORTING_ORDER.indexOf(l) < 0 ? (console.warn("AG Grid: invalid sort type " + l), null) : l;
    }, t.prototype.getIndexedSortMap = function() {
      var r = this, n = this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c) {
        return !!c.getSort();
      });
      if (this.columnModel.isPivotMode()) {
        var i = this.gridOptionsService.isColumnsSortingCoupledToGroup();
        n = n.filter(function(c) {
          var d = !!c.getAggFunc(), p = !c.isPrimary(), h = i ? r.columnModel.getGroupDisplayColumnForGroup(c.getId()) : c.getColDef().showRowGroup;
          return d || p || h;
        });
      }
      var a = this.columnModel.getRowGroupColumns().filter(function(c) {
        return !!c.getSort();
      }), s = this.gridOptionsService.isColumnsSortingCoupledToGroup() && !!a.length;
      s && (n = xs([], So(new Set(
        // if linked sorting, replace all columns with the display group column for index purposes, and ensure uniqueness
        n.map(function(c) {
          var d;
          return (d = r.columnModel.getGroupDisplayColumnForGroup(c.getId())) !== null && d !== void 0 ? d : c;
        })
      ))));
      var l = {};
      n.forEach(function(c, d) {
        return l[c.getId()] = d;
      }), n.sort(function(c, d) {
        var p = c.getSortIndex(), h = d.getSortIndex();
        if (p != null && h != null)
          return p - h;
        if (p == null && h == null) {
          var f = l[c.getId()], v = l[d.getId()];
          return f > v ? 1 : -1;
        } else
          return h == null ? -1 : 1;
      });
      var u = /* @__PURE__ */ new Map();
      return n.forEach(function(c, d) {
        return u.set(c, d);
      }), s && a.forEach(function(c) {
        var d = r.columnModel.getGroupDisplayColumnForGroup(c.getId());
        u.set(c, u.get(d));
      }), u;
    }, t.prototype.getColumnsWithSortingOrdered = function() {
      return xs([], So(this.getIndexedSortMap().entries())).sort(function(r, n) {
        var i = So(r, 2);
        i[0];
        var a = i[1], s = So(n, 2);
        s[0];
        var l = s[1];
        return a - l;
      }).map(function(r) {
        var n = So(r, 1), i = n[0];
        return i;
      });
    }, t.prototype.getSortModel = function() {
      return this.getColumnsWithSortingOrdered().map(function(r) {
        return {
          sort: r.getSort(),
          colId: r.getId()
        };
      });
    }, t.prototype.getSortOptions = function() {
      return this.getColumnsWithSortingOrdered().map(function(r) {
        return {
          sort: r.getSort(),
          column: r
        };
      });
    }, t.prototype.canColumnDisplayMixedSort = function(r) {
      var n = this.gridOptionsService.isColumnsSortingCoupledToGroup(), i = !!r.getColDef().showRowGroup;
      return n && i;
    }, t.prototype.getDisplaySortForColumn = function(r) {
      var n = this.columnModel.getSourceColumnsForGroupColumn(r);
      if (!this.canColumnDisplayMixedSort(r) || !(n != null && n.length))
        return r.getSort();
      var i = !!r.getColDef().field, a = i ? xs([r], So(n)) : n, s = a[0].getSort(), l = a.every(function(u) {
        return u.getSort() == s;
      });
      return l ? s : "mixed";
    }, t.prototype.getDisplaySortIndexForColumn = function(r) {
      return this.getIndexedSortMap().get(r);
    };
    var e;
    return t.DEFAULT_SORTING_ORDER = ["asc", "desc", null], mS([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = e = mS([
      q("sortController")
    ], t), t;
  }(W)
), C1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), S1 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, w1 = (
  /** @class */
  function(o) {
    C1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.setMouseOver = function(e) {
      this.selectedColumns = e;
      var r = {
        type: R.EVENT_COLUMN_HOVER_CHANGED
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.clearMouseOver = function() {
      this.selectedColumns = null;
      var e = {
        type: R.EVENT_COLUMN_HOVER_CHANGED
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.isHovered = function(e) {
      return !!this.selectedColumns && this.selectedColumns.indexOf(e) >= 0;
    }, t = S1([
      q("columnHoverService")
    ], t), t;
  }(W)
), _1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Pv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, b1 = (
  /** @class */
  function(o) {
    _1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.executeNextFuncs = [], e.executeLaterFuncs = [], e.active = !1, e.animationThreadCount = 0, e;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        return e.gridBodyCtrl = r.gridBodyCtrl;
      });
    }, t.prototype.isActive = function() {
      return this.active;
    }, t.prototype.start = function() {
      this.active || this.gridOptionsService.is("suppressColumnMoveAnimation") || this.gridOptionsService.is("enableRtl") || (this.ensureAnimationCssClassPresent(), this.active = !0);
    }, t.prototype.finish = function() {
      this.active && (this.flush(), this.active = !1);
    }, t.prototype.executeNextVMTurn = function(e) {
      this.active ? this.executeNextFuncs.push(e) : e();
    }, t.prototype.executeLaterVMTurn = function(e) {
      this.active ? this.executeLaterFuncs.push(e) : e();
    }, t.prototype.ensureAnimationCssClassPresent = function() {
      var e = this;
      this.animationThreadCount++;
      var r = this.animationThreadCount;
      this.gridBodyCtrl.setColumnMovingCss(!0), this.executeLaterFuncs.push(function() {
        e.animationThreadCount === r && e.gridBodyCtrl.setColumnMovingCss(!1);
      });
    }, t.prototype.flush = function() {
      var e = this.executeNextFuncs;
      this.executeNextFuncs = [];
      var r = this.executeLaterFuncs;
      this.executeLaterFuncs = [], !(e.length === 0 && r.length === 0) && (window.setTimeout(function() {
        return e.forEach(function(n) {
          return n();
        });
      }, 0), window.setTimeout(function() {
        return r.forEach(function(n) {
          return n();
        });
      }, 300));
    }, Pv([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Pv([
      V
    ], t.prototype, "postConstruct", null), t = Pv([
      q("columnAnimationService")
    ], t), t;
  }(W)
), E1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Av = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, O1 = (
  /** @class */
  function(o) {
    E1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.ctrlsService.whenReady(function(r) {
        e.centerRowContainerCon = r.centerRowContainerCtrl, e.addManagedListener(e.eventService, R.EVENT_BODY_HEIGHT_CHANGED, e.checkPageSize.bind(e)), e.addManagedListener(e.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, e.checkPageSize.bind(e)), e.checkPageSize();
      });
    }, t.prototype.notActive = function() {
      return !this.gridOptionsService.is("paginationAutoPageSize") || this.centerRowContainerCon == null;
    }, t.prototype.checkPageSize = function() {
      var e = this;
      if (!this.notActive()) {
        var r = this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();
        if (r > 0) {
          var n = function() {
            var i = e.gridOptionsService.getRowHeightAsNumber(), a = Math.floor(r / i);
            e.gridOptionsService.set("paginationPageSize", a);
          };
          this.isBodyRendered ? mi(function() {
            return n();
          }, 50)() : (n(), this.isBodyRendered = !0);
        } else
          this.isBodyRendered = !1;
      }
    }, Av([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Av([
      V
    ], t.prototype, "postConstruct", null), t = Av([
      q("paginationAutoPageSizeService")
    ], t), t;
  }(W)
), x1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), CS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, T1 = (
  /** @class */
  function(o) {
    x1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.cacheVersion = 0, e;
    }
    return t.prototype.init = function() {
      this.active = this.gridOptionsService.is("valueCache"), this.neverExpires = this.gridOptionsService.is("valueCacheNeverExpires");
    }, t.prototype.onDataChanged = function() {
      this.neverExpires || this.expire();
    }, t.prototype.expire = function() {
      this.cacheVersion++;
    }, t.prototype.setValue = function(e, r, n) {
      this.active && (e.__cacheVersion !== this.cacheVersion && (e.__cacheVersion = this.cacheVersion, e.__cacheData = {}), e.__cacheData[r] = n);
    }, t.prototype.getValue = function(e, r) {
      if (!(!this.active || e.__cacheVersion !== this.cacheVersion))
        return e.__cacheData[r];
    }, CS([
      V
    ], t.prototype, "init", null), t = CS([
      q("valueCache")
    ], t), t;
  }(W)
), R1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, D1 = "paste", P1 = (
  /** @class */
  function(o) {
    R1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      this.rowModel.getType() === "clientSide" && (this.clientSideRowModel = this.rowModel), this.addManagedListener(this.eventService, R.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged.bind(this));
    }, t.prototype.onCellValueChanged = function(e) {
      e.source !== D1 && this.doChangeDetection(e.node, e.column);
    }, t.prototype.doChangeDetection = function(e, r) {
      if (!this.gridOptionsService.is("suppressChangeDetection")) {
        var n = [e];
        if (this.clientSideRowModel && !e.isRowPinned()) {
          var i = this.gridOptionsService.is("aggregateOnlyChangedColumns"), a = new Of(i, this.clientSideRowModel.getRootNode());
          a.addParentNode(e.parent, [r]), this.clientSideRowModel.doAggregate(a), a.forEachChangedNodeDepthFirst(function(s) {
            n.push(s);
          });
        }
        this.rowRenderer.refreshCells({ rowNodes: n });
      }
    }, jd([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), jd([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), jd([
      V
    ], t.prototype, "init", null), t = jd([
      q("changeDetectionService")
    ], t), t;
  }(W)
), A1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), SS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, M1 = (
  /** @class */
  function(o) {
    A1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.adaptFunction = function(e, r) {
      var n = this.componentMetadataProvider.retrieve(e);
      return n && n.functionAdapter ? n.functionAdapter(r) : null;
    }, t.prototype.adaptCellRendererFunction = function(e) {
      var r = (
        /** @class */
        function() {
          function n() {
          }
          return n.prototype.refresh = function(i) {
            return !1;
          }, n.prototype.getGui = function() {
            return this.eGui;
          }, n.prototype.init = function(i) {
            var a = e(i), s = typeof a;
            if (s === "string" || s === "number" || s === "boolean") {
              this.eGui = nr("<span>" + a + "</span>");
              return;
            }
            if (a == null) {
              this.eGui = nr("<span></span>");
              return;
            }
            this.eGui = a;
          }, n;
        }()
      );
      return r;
    }, t.prototype.doesImplementIComponent = function(e) {
      return e ? e.prototype && "getGui" in e.prototype : !1;
    }, SS([
      w("componentMetadataProvider")
    ], t.prototype, "componentMetadataProvider", void 0), t = SS([
      q("agComponentUtils")
    ], t), t;
  }(W)
), I1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Mv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, F1 = (
  /** @class */
  function(o) {
    I1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.componentMetaData = {
        dateComponent: {
          mandatoryMethodList: ["getDate", "setDate"],
          optionalMethodList: ["afterGuiAttached", "setInputPlaceholder", "setInputAriaLabel"]
        },
        detailCellRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: ["refresh"],
          functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)
        },
        headerComponent: {
          mandatoryMethodList: [],
          optionalMethodList: ["refresh"]
        },
        headerGroupComponent: {
          mandatoryMethodList: [],
          optionalMethodList: []
        },
        loadingCellRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: []
        },
        loadingOverlayComponent: {
          mandatoryMethodList: [],
          optionalMethodList: []
        },
        noRowsOverlayComponent: {
          mandatoryMethodList: [],
          optionalMethodList: []
        },
        floatingFilterComponent: {
          mandatoryMethodList: ["onParentModelChanged"],
          optionalMethodList: ["afterGuiAttached"]
        },
        floatingFilterWrapperComponent: {
          mandatoryMethodList: [],
          optionalMethodList: []
        },
        cellRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: ["refresh", "afterGuiAttached"],
          functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)
        },
        cellEditor: {
          mandatoryMethodList: ["getValue"],
          optionalMethodList: ["isPopup", "isCancelBeforeStart", "isCancelAfterEnd", "getPopupPosition", "focusIn", "focusOut", "afterGuiAttached"]
        },
        innerRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: ["afterGuiAttached"],
          functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)
        },
        fullWidthCellRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: ["refresh", "afterGuiAttached"],
          functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)
        },
        groupRowRenderer: {
          mandatoryMethodList: [],
          optionalMethodList: ["afterGuiAttached"],
          functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)
        },
        filter: {
          mandatoryMethodList: ["isFilterActive", "doesFilterPass", "getModel", "setModel"],
          optionalMethodList: ["afterGuiAttached", "afterGuiDetached", "onNewRowsLoaded", "getModelAsString", "onFloatingFilterChanged", "onAnyFilterChanged"]
        },
        filterComponent: {
          mandatoryMethodList: ["isFilterActive", "doesFilterPass", "getModel", "setModel"],
          optionalMethodList: ["afterGuiAttached", "afterGuiDetached", "onNewRowsLoaded", "getModelAsString", "onFloatingFilterChanged", "onAnyFilterChanged"]
        },
        statusPanel: {
          mandatoryMethodList: [],
          optionalMethodList: ["afterGuiAttached"]
        },
        toolPanel: {
          mandatoryMethodList: [],
          optionalMethodList: ["refresh", "afterGuiAttached"]
        },
        tooltipComponent: {
          mandatoryMethodList: [],
          optionalMethodList: []
        }
      };
    }, t.prototype.retrieve = function(e) {
      return this.componentMetaData[e];
    }, Mv([
      w("agComponentUtils")
    ], t.prototype, "agComponentUtils", void 0), Mv([
      V
    ], t.prototype, "postConstruct", null), t = Mv([
      q("componentMetadataProvider")
    ], t), t;
  }(W)
), L1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Iv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, N1 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, G1 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, k1 = 25, wS = 10, Fv = 8, V1 = 4, Lv = 4, Nv = 6, B1 = {
  // this item is required for custom themes
  "ag-theme-custom": {
    headerHeight: 25,
    headerCellMinWidth: 24,
    listItemHeight: V1 * 5,
    rowHeight: 25,
    chartMenuPanelWidth: 220
  },
  "ag-theme-material": {
    headerHeight: Fv * 7,
    headerCellMinWidth: 48,
    listItemHeight: Fv * 4,
    rowHeight: Fv * 6,
    chartMenuPanelWidth: 240
  },
  "ag-theme-balham": {
    headerHeight: Lv * 8,
    headerCellMinWidth: 24,
    listItemHeight: Lv * 6,
    rowHeight: Lv * 7,
    chartMenuPanelWidth: 220
  },
  "ag-theme-alpine": {
    headerHeight: Nv * 8,
    headerCellMinWidth: 36,
    listItemHeight: Nv * 4,
    rowHeight: Nv * 7,
    chartMenuPanelWidth: 240
  }
}, _S = {
  headerHeight: ["ag-header-row"],
  headerCellMinWidth: ["ag-header-cell"],
  listItemHeight: ["ag-virtual-list-item"],
  rowHeight: ["ag-row"],
  chartMenuPanelWidth: ["ag-chart-docked-container"]
}, H1 = (
  /** @class */
  function(o) {
    L1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.calculatedSizes = {}, e;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r, n = (r = this.getTheme().el) !== null && r !== void 0 ? r : this.eGridDiv;
      this.mutationObserver = new MutationObserver(function() {
        e.calculatedSizes = {}, e.fireGridStylesChangedEvent();
      }), this.mutationObserver.observe(n || this.eGridDiv, {
        attributes: !0,
        attributeFilter: ["class"]
      });
    }, t.prototype.fireGridStylesChangedEvent = function() {
      var e = {
        type: R.EVENT_GRID_STYLES_CHANGED
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.getSassVariable = function(e) {
      var r = this.getTheme(), n = r.themeFamily, i = r.el;
      if (!(!n || n.indexOf("ag-theme") !== 0)) {
        this.calculatedSizes || (this.calculatedSizes = {}), this.calculatedSizes[n] || (this.calculatedSizes[n] = {});
        var a = this.calculatedSizes[n][e];
        return a != null ? a : (this.calculatedSizes[n][e] = this.calculateValueForSassProperty(e, n, i), this.calculatedSizes[n][e]);
      }
    }, t.prototype.calculateValueForSassProperty = function(e, r, n) {
      var i, a = "ag-theme-" + (r.match("material") ? "material" : r.match("balham") ? "balham" : r.match("alpine") ? "alpine" : "custom"), s = B1[a][e], l = this.gridOptionsService.getDocument();
      if (n || (n = this.eGridDiv), !_S[e])
        return s;
      var u = _S[e], c = l.createElement("div"), d = Array.from(n.classList);
      (i = c.classList).add.apply(i, G1([r], N1(d))), c.style.position = "absolute";
      var p = u.reduce(function(v, g) {
        var y = l.createElement("div");
        return y.style.position = "static", y.classList.add(g), v.appendChild(y), y;
      }, c), h = 0;
      if (l.body) {
        l.body.appendChild(c);
        var f = e.toLowerCase().indexOf("height") !== -1 ? "height" : "width";
        h = parseInt(window.getComputedStyle(p)[f], 10), l.body.removeChild(c);
      }
      return h || s;
    }, t.prototype.isThemeDark = function() {
      var e = this.getTheme().theme;
      return !!e && e.indexOf("dark") >= 0;
    }, t.prototype.chartMenuPanelWidth = function() {
      return this.getSassVariable("chartMenuPanelWidth");
    }, t.prototype.getTheme = function() {
      for (var e = /\bag-(material|(?:theme-([\w\-]*)))\b/g, r = this.eGridDiv, n = null, i = []; r; )
        if (n = e.exec(r.className), !n)
          r = r.parentElement || void 0;
        else {
          var a = r.className.match(e);
          a && (i = a);
          break;
        }
      if (!n)
        return { allThemes: i };
      var s = n[0];
      return { theme: s, el: r, themeFamily: s.replace(/-dark$/, ""), allThemes: i };
    }, t.prototype.getFromTheme = function(e, r) {
      var n;
      return (n = this.getSassVariable(r)) !== null && n !== void 0 ? n : e;
    }, t.prototype.getDefaultRowHeight = function() {
      return this.getFromTheme(k1, "rowHeight");
    }, t.prototype.getListItemHeight = function() {
      return this.getFromTheme(20, "listItemHeight");
    }, t.prototype.setRowHeightVariable = function(e) {
      var r = this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(), n = e + "px";
      r != n && this.eGridDiv.style.setProperty("--ag-line-height", n);
    }, t.prototype.getMinColWidth = function() {
      var e = this.getFromTheme(null, "headerCellMinWidth");
      return z(e) ? Math.max(e, wS) : wS;
    }, t.prototype.destroy = function() {
      this.calculatedSizes = null, this.mutationObserver && this.mutationObserver.disconnect(), o.prototype.destroy.call(this);
    }, Iv([
      w("eGridDiv")
    ], t.prototype, "eGridDiv", void 0), Iv([
      V
    ], t.prototype, "postConstruct", null), t = Iv([
      q("environment")
    ], t), t;
  }(W)
), j1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Wd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, W1 = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, $1 = (
  /** @class */
  function(o) {
    j1(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.scrollY = 0, e.uiBodyHeight = 0, e;
    }
    return t.prototype.agWire = function(e) {
      this.logger = e.create("RowContainerHeightService");
    }, t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_BODY_HEIGHT_CHANGED, this.updateOffset.bind(this)), this.maxDivHeight = Jb(), this.logger.log("maxDivHeight = " + this.maxDivHeight);
    }, t.prototype.isStretching = function() {
      return this.stretching;
    }, t.prototype.getDivStretchOffset = function() {
      return this.divStretchOffset;
    }, t.prototype.updateOffset = function() {
      if (this.stretching) {
        var e = this.ctrlsService.getGridBodyCtrl(), r = e.getScrollFeature().getVScrollPosition().top, n = this.getUiBodyHeight(), i = r !== this.scrollY || n !== this.uiBodyHeight;
        i && (this.scrollY = r, this.uiBodyHeight = n, this.calculateOffset());
      }
    }, t.prototype.calculateOffset = function() {
      this.setUiContainerHeight(this.maxDivHeight), this.pixelsToShave = this.modelHeight - this.uiContainerHeight, this.maxScrollY = this.uiContainerHeight - this.uiBodyHeight;
      var e = this.scrollY / this.maxScrollY, r = e * this.pixelsToShave;
      this.logger.log("Div Stretch Offset = " + r + " (" + this.pixelsToShave + " * " + e + ")"), this.setDivStretchOffset(r);
    }, t.prototype.setUiContainerHeight = function(e) {
      e !== this.uiContainerHeight && (this.uiContainerHeight = e, this.eventService.dispatchEvent({ type: R.EVENT_ROW_CONTAINER_HEIGHT_CHANGED }));
    }, t.prototype.clearOffset = function() {
      this.setUiContainerHeight(this.modelHeight), this.pixelsToShave = 0, this.setDivStretchOffset(0);
    }, t.prototype.setDivStretchOffset = function(e) {
      var r = typeof e == "number" ? Math.floor(e) : null;
      this.divStretchOffset !== r && (this.divStretchOffset = r, this.eventService.dispatchEvent({ type: R.EVENT_HEIGHT_SCALE_CHANGED }));
    }, t.prototype.setModelHeight = function(e) {
      this.modelHeight = e, this.stretching = e != null && this.maxDivHeight > 0 && e > this.maxDivHeight, this.stretching ? this.calculateOffset() : this.clearOffset();
    }, t.prototype.getUiContainerHeight = function() {
      return this.uiContainerHeight;
    }, t.prototype.getRealPixelPosition = function(e) {
      return e - this.divStretchOffset;
    }, t.prototype.getUiBodyHeight = function() {
      var e = this.ctrlsService.getGridBodyCtrl(), r = e.getScrollFeature().getVScrollPosition();
      return r.bottom - r.top;
    }, t.prototype.getScrollPositionForPixel = function(e) {
      if (this.pixelsToShave <= 0)
        return e;
      var r = this.modelHeight - this.getUiBodyHeight(), n = e / r, i = this.maxScrollY * n;
      return i;
    }, Wd([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Wd([
      W1(0, Er("loggerFactory"))
    ], t.prototype, "agWire", null), Wd([
      V
    ], t.prototype, "postConstruct", null), t = Wd([
      q("rowContainerHeightService")
    ], t), t;
  }(W)
), U1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, z1 = (
  /** @class */
  function(o) {
    U1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      this.groupSelectsChildren = this.gridOptionsService.is("groupSelectsChildren"), this.isRowSelectableFunc = this.gridOptionsService.get("isRowSelectable");
    }, t.prototype.updateSelectableAfterGrouping = function(e) {
      if (this.isRowSelectableFunc) {
        var r = function(n) {
          return n.childrenAfterGroup;
        };
        this.recurseDown(e.childrenAfterGroup, r);
      }
    }, t.prototype.recurseDown = function(e, r) {
      var n = this;
      e && e.forEach(function(i) {
        if (i.group) {
          i.hasChildren() && n.recurseDown(r(i), r);
          var a;
          if (n.groupSelectsChildren) {
            var s = (r(i) || []).find(function(l) {
              return l.selectable === !0;
            });
            a = z(s);
          } else
            a = n.isRowSelectableFunc ? n.isRowSelectableFunc(i) : !1;
          i.setRowSelectable(a);
        }
      });
    }, bS([
      V
    ], t.prototype, "init", null), t = bS([
      q("selectableService")
    ], t), t;
  }(W)
), K1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), on = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Y1 = (
  /** @class */
  function(o) {
    K1(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.previousAndFirstButtonsDisabled = !1, e.nextButtonDisabled = !1, e.lastButtonDisabled = !1, e.areListenersSetup = !1, e;
    }
    return t.prototype.postConstruct = function() {
      var e = this.gridOptionsService.is("enableRtl");
      this.setTemplate(this.getTemplate());
      var r = this, n = r.btFirst, i = r.btPrevious, a = r.btNext, s = r.btLast;
      this.activateTabIndex([n, i, a, s]), n.insertAdjacentElement("afterbegin", Et(e ? "last" : "first", this.gridOptionsService)), i.insertAdjacentElement("afterbegin", Et(e ? "next" : "previous", this.gridOptionsService)), a.insertAdjacentElement("afterbegin", Et(e ? "previous" : "next", this.gridOptionsService)), s.insertAdjacentElement("afterbegin", Et(e ? "first" : "last", this.gridOptionsService)), this.addManagedPropertyListener("pagination", this.onPaginationChanged.bind(this)), this.addManagedPropertyListener("suppressPaginationPanel", this.onPaginationChanged.bind(this)), this.onPaginationChanged();
    }, t.prototype.onPaginationChanged = function() {
      var e = this.gridOptionsService.is("pagination"), r = e && !this.gridOptionsService.is("suppressPaginationPanel");
      this.setDisplayed(r), r && (this.setupListeners(), this.enableOrDisableButtons(), this.updateRowLabels(), this.setCurrentPageLabel(), this.setTotalLabels());
    }, t.prototype.setupListeners = function() {
      var e = this;
      this.areListenersSetup || (this.addManagedListener(this.eventService, R.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this)), [
        { el: this.btFirst, fn: this.onBtFirst.bind(this) },
        { el: this.btPrevious, fn: this.onBtPrevious.bind(this) },
        { el: this.btNext, fn: this.onBtNext.bind(this) },
        { el: this.btLast, fn: this.onBtLast.bind(this) }
      ].forEach(function(r) {
        var n = r.el, i = r.fn;
        e.addManagedListener(n, "click", i), e.addManagedListener(n, "keydown", function(a) {
          (a.key === H.ENTER || a.key === H.SPACE) && (a.preventDefault(), i());
        });
      }), this.areListenersSetup = !0);
    }, t.prototype.onBtFirst = function() {
      this.previousAndFirstButtonsDisabled || this.paginationProxy.goToFirstPage();
    }, t.prototype.setCurrentPageLabel = function() {
      var e = this.paginationProxy.getTotalPages() > 0, r = this.paginationProxy.getCurrentPage(), n = e ? r + 1 : 0;
      this.lbCurrent.innerHTML = this.formatNumber(n);
    }, t.prototype.formatNumber = function(e) {
      var r = this.gridOptionsService.getCallback("paginationNumberFormatter");
      if (r) {
        var n = { value: e };
        return r(n);
      }
      var i = this.localeService.getLocaleTextFunc(), a = i("thousandSeparator", ","), s = i("decimalSeparator", ".");
      return wm(e, a, s);
    }, t.prototype.getTemplate = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("page", "Page"), n = e("to", "to"), i = e("of", "of"), a = e("firstPage", "First Page"), s = e("previousPage", "Previous Page"), l = e("nextPage", "Next Page"), u = e("lastPage", "Last Page"), c = this.getCompId();
      return (
        /* html */
        '<div class="ag-paging-panel ag-unselectable" id="ag-' + c + `">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-` + c + `-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-` + c + '-to">' + n + `</span>
                    <span id="ag-` + c + `-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-` + c + '-of">' + i + `</span>
                    <span id="ag-` + c + `-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="` + a + `"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="` + s + `"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-` + c + '-start-page">' + r + `</span>
                        <span id="ag-` + c + `-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-` + c + '-of-page">' + i + `</span>
                        <span id="ag-` + c + `-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="` + l + `"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="` + u + `"></div>
                </span>
            </div>`
      );
    }, t.prototype.onBtNext = function() {
      this.nextButtonDisabled || this.paginationProxy.goToNextPage();
    }, t.prototype.onBtPrevious = function() {
      this.previousAndFirstButtonsDisabled || this.paginationProxy.goToPreviousPage();
    }, t.prototype.onBtLast = function() {
      this.lastButtonDisabled || this.paginationProxy.goToLastPage();
    }, t.prototype.enableOrDisableButtons = function() {
      var e = this.paginationProxy.getCurrentPage(), r = this.paginationProxy.isLastPageFound(), n = this.paginationProxy.getTotalPages();
      this.previousAndFirstButtonsDisabled = e === 0, this.toggleButtonDisabled(this.btFirst, this.previousAndFirstButtonsDisabled), this.toggleButtonDisabled(this.btPrevious, this.previousAndFirstButtonsDisabled);
      var i = this.isZeroPagesToDisplay(), a = r && e === n - 1;
      this.nextButtonDisabled = a || i, this.lastButtonDisabled = !r || i || e === n - 1, this.toggleButtonDisabled(this.btNext, this.nextButtonDisabled), this.toggleButtonDisabled(this.btLast, this.lastButtonDisabled);
    }, t.prototype.toggleButtonDisabled = function(e, r) {
      hm(e, r), e.classList.toggle("ag-disabled", r);
    }, t.prototype.updateRowLabels = function() {
      var e = this.paginationProxy.getCurrentPage(), r = this.paginationProxy.getPageSize(), n = this.paginationProxy.isLastPageFound(), i = this.paginationProxy.isLastPageFound() ? this.paginationProxy.getMasterRowCount() : null, a, s;
      if (this.isZeroPagesToDisplay() ? a = s = 0 : (a = r * e + 1, s = a + r - 1, n && s > i && (s = i)), this.lbFirstRowOnPage.innerHTML = this.formatNumber(a), this.rowNodeBlockLoader.isLoading()) {
        var l = this.localeService.getLocaleTextFunc();
        this.lbLastRowOnPage.innerHTML = l("pageLastRowUnknown", "?");
      } else
        this.lbLastRowOnPage.innerHTML = this.formatNumber(s);
    }, t.prototype.isZeroPagesToDisplay = function() {
      var e = this.paginationProxy.isLastPageFound(), r = this.paginationProxy.getTotalPages();
      return e && r === 0;
    }, t.prototype.setTotalLabels = function() {
      var e = this.paginationProxy.isLastPageFound(), r = this.paginationProxy.getTotalPages(), n = e ? this.paginationProxy.getMasterRowCount() : null;
      if (n === 1) {
        var i = this.paginationProxy.getRow(0), a = i && i.group && !(i.groupData || i.aggData);
        if (a) {
          this.setTotalLabelsToZero();
          return;
        }
      }
      if (e)
        this.lbTotal.innerHTML = this.formatNumber(r), this.lbRecordCount.innerHTML = this.formatNumber(n);
      else {
        var s = this.localeService.getLocaleTextFunc()("more", "more");
        this.lbTotal.innerHTML = s, this.lbRecordCount.innerHTML = s;
      }
    }, t.prototype.setTotalLabelsToZero = function() {
      this.lbFirstRowOnPage.innerHTML = this.formatNumber(0), this.lbCurrent.innerHTML = this.formatNumber(0), this.lbLastRowOnPage.innerHTML = this.formatNumber(0), this.lbTotal.innerHTML = this.formatNumber(0), this.lbRecordCount.innerHTML = this.formatNumber(0);
    }, on([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), on([
      w("rowNodeBlockLoader")
    ], t.prototype, "rowNodeBlockLoader", void 0), on([
      G("btFirst")
    ], t.prototype, "btFirst", void 0), on([
      G("btPrevious")
    ], t.prototype, "btPrevious", void 0), on([
      G("btNext")
    ], t.prototype, "btNext", void 0), on([
      G("btLast")
    ], t.prototype, "btLast", void 0), on([
      G("lbRecordCount")
    ], t.prototype, "lbRecordCount", void 0), on([
      G("lbFirstRowOnPage")
    ], t.prototype, "lbFirstRowOnPage", void 0), on([
      G("lbLastRowOnPage")
    ], t.prototype, "lbLastRowOnPage", void 0), on([
      G("lbCurrent")
    ], t.prototype, "lbCurrent", void 0), on([
      G("lbTotal")
    ], t.prototype, "lbTotal", void 0), on([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), X1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ts = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Sl;
(function(o) {
  o[o.Loading = 0] = "Loading", o[o.NoRows = 1] = "NoRows";
})(Sl || (Sl = {}));
var q1 = (
  /** @class */
  function(o) {
    X1(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.inProgress = !1, e.destroyRequested = !1, e.manuallyDisplayed = !1, e;
    }
    return t.prototype.updateLayoutClasses = function(e, r) {
      var n = this.eOverlayWrapper.classList;
      n.toggle(At.AUTO_HEIGHT, r.autoHeight), n.toggle(At.NORMAL, r.normal), n.toggle(At.PRINT, r.print);
    }, t.prototype.postConstruct = function() {
      this.createManagedBean(new Hm(this)), this.setDisplayed(!1, { skipAriaHidden: !0 }), this.addManagedListener(this.eventService, R.EVENT_ROW_DATA_UPDATED, this.onRowDataUpdated.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this)), this.gridOptionsService.isRowModelType("clientSide") && !this.gridOptionsService.get("rowData") && this.showLoadingOverlay(), this.gridApi.registerOverlayWrapperComp(this);
    }, t.prototype.setWrapperTypeClass = function(e) {
      var r = this.eOverlayWrapper.classList;
      r.toggle("ag-overlay-loading-wrapper", e === Sl.Loading), r.toggle("ag-overlay-no-rows-wrapper", e === Sl.NoRows);
    }, t.prototype.showLoadingOverlay = function() {
      if (!this.gridOptionsService.is("suppressLoadingOverlay")) {
        var e = {}, r = this.userComponentFactory.getLoadingOverlayCompDetails(e), n = r.newAgStackInstance();
        this.showOverlay(n, Sl.Loading);
      }
    }, t.prototype.showNoRowsOverlay = function() {
      if (!this.gridOptionsService.is("suppressNoRowsOverlay")) {
        var e = {}, r = this.userComponentFactory.getNoRowsOverlayCompDetails(e), n = r.newAgStackInstance();
        this.showOverlay(n, Sl.NoRows);
      }
    }, t.prototype.showOverlay = function(e, r) {
      var n = this;
      this.inProgress || (this.setWrapperTypeClass(r), this.destroyActiveOverlay(), this.inProgress = !0, e && e.then(function(i) {
        n.inProgress = !1, n.eOverlayWrapper.appendChild(i.getGui()), n.activeOverlay = i, n.destroyRequested && (n.destroyRequested = !1, n.destroyActiveOverlay());
      }), this.manuallyDisplayed = this.columnModel.isReady() && !this.paginationProxy.isEmpty(), this.setDisplayed(!0, { skipAriaHidden: !0 }));
    }, t.prototype.destroyActiveOverlay = function() {
      if (this.inProgress) {
        this.destroyRequested = !0;
        return;
      }
      this.activeOverlay && (this.activeOverlay = this.getContext().destroyBean(this.activeOverlay), Qr(this.eOverlayWrapper));
    }, t.prototype.hideOverlay = function() {
      this.manuallyDisplayed = !1, this.destroyActiveOverlay(), this.setDisplayed(!1, { skipAriaHidden: !0 });
    }, t.prototype.destroy = function() {
      this.destroyActiveOverlay(), o.prototype.destroy.call(this);
    }, t.prototype.showOrHideOverlay = function() {
      var e = this.paginationProxy.isEmpty(), r = this.gridOptionsService.is("suppressNoRowsOverlay");
      e && !r ? this.showNoRowsOverlay() : this.hideOverlay();
    }, t.prototype.onRowDataUpdated = function() {
      this.showOrHideOverlay();
    }, t.prototype.onNewColumnsLoaded = function() {
      this.columnModel.isReady() && !this.paginationProxy.isEmpty() && !this.manuallyDisplayed && this.hideOverlay();
    }, t.TEMPLATE = `
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`, Ts([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), Ts([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), Ts([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Ts([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ts([
      G("eOverlayWrapper")
    ], t.prototype, "eOverlayWrapper", void 0), Ts([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), Z1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), $d = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Q1 = (
  /** @class */
  function(o) {
    Z1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getFirstRow = function() {
      var e = 0, r;
      return this.pinnedRowModel.getPinnedTopRowCount() ? r = "top" : this.rowModel.getRowCount() ? (r = null, e = this.paginationProxy.getPageFirstRow()) : this.pinnedRowModel.getPinnedBottomRowCount() && (r = "bottom"), r === void 0 ? null : { rowIndex: e, rowPinned: r };
    }, t.prototype.getLastRow = function() {
      var e, r = null, n = this.pinnedRowModel.getPinnedBottomRowCount(), i = this.pinnedRowModel.getPinnedTopRowCount();
      return n ? (r = "bottom", e = n - 1) : this.rowModel.getRowCount() ? (r = null, e = this.paginationProxy.getPageLastRow()) : i && (r = "top", e = i - 1), e === void 0 ? null : { rowIndex: e, rowPinned: r };
    }, t.prototype.getRowNode = function(e) {
      switch (e.rowPinned) {
        case "top":
          return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];
        case "bottom":
          return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];
        default:
          return this.rowModel.getRow(e.rowIndex);
      }
    }, t.prototype.sameRow = function(e, r) {
      return !e && !r ? !0 : e && !r || !e && r ? !1 : e.rowIndex === r.rowIndex && e.rowPinned == r.rowPinned;
    }, t.prototype.before = function(e, r) {
      switch (e.rowPinned) {
        case "top":
          if (r.rowPinned !== "top")
            return !0;
          break;
        case "bottom":
          if (r.rowPinned !== "bottom")
            return !1;
          break;
        default:
          if (z(r.rowPinned))
            return r.rowPinned !== "top";
          break;
      }
      return e.rowIndex < r.rowIndex;
    }, t.prototype.rowMax = function(e) {
      var r = this, n;
      return e.forEach(function(i) {
        (n === void 0 || r.before(n, i)) && (n = i);
      }), n;
    }, t.prototype.rowMin = function(e) {
      var r = this, n;
      return e.forEach(function(i) {
        (n === void 0 || r.before(i, n)) && (n = i);
      }), n;
    }, $d([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), $d([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), $d([
      w("paginationProxy")
    ], t.prototype, "paginationProxy", void 0), t = $d([
      q("rowPositionUtils")
    ], t), t;
  }(W)
), J1 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), eV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, tV = (
  /** @class */
  function(o) {
    J1(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createId = function(e) {
      var r = e.rowIndex, n = e.rowPinned, i = e.column;
      return this.createIdFromValues({ rowIndex: r, column: i, rowPinned: n });
    }, t.prototype.createIdFromValues = function(e) {
      var r = e.rowIndex, n = e.rowPinned, i = e.column;
      return r + "." + (n == null ? "null" : n) + "." + i.getId();
    }, t.prototype.equals = function(e, r) {
      var n = e.column === r.column, i = e.rowPinned === r.rowPinned, a = e.rowIndex === r.rowIndex;
      return n && i && a;
    }, t = eV([
      q("cellPositionUtils")
    ], t), t;
  }(W)
), rV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fc = (
  /** @class */
  function() {
    function o(t) {
      this.cellValueChanges = t;
    }
    return o;
  }()
), Gv = (
  /** @class */
  function(o) {
    rV(t, o);
    function t(e, r, n, i) {
      var a = o.call(this, e) || this;
      return a.initialRange = r, a.finalRange = n, a.ranges = i, a;
    }
    return t;
  }(fc)
), ES = (
  /** @class */
  function() {
    function o(t) {
      this.actionStack = [], this.maxStackSize = t || o.DEFAULT_STACK_SIZE, this.actionStack = new Array(this.maxStackSize);
    }
    return o.prototype.pop = function() {
      return this.actionStack.pop();
    }, o.prototype.push = function(t) {
      var e = t.cellValueChanges && t.cellValueChanges.length > 0;
      e && (this.actionStack.length === this.maxStackSize && this.actionStack.shift(), this.actionStack.push(t));
    }, o.prototype.clear = function() {
      this.actionStack = [];
    }, o.prototype.getCurrentStackSize = function() {
      return this.actionStack.length;
    }, o.DEFAULT_STACK_SIZE = 10, o;
  }()
), nV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mh = function() {
  return mh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, mh.apply(this, arguments);
}, qn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iV = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, oV = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, aV = (
  /** @class */
  function(o) {
    nV(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.cellValueChanges = [], e.activeCellEdit = null, e.activeRowEdit = null, e.isPasting = !1, e.isRangeInAction = !1, e.onCellValueChanged = function(r) {
        var n = { column: r.column, rowIndex: r.rowIndex, rowPinned: r.rowPinned }, i = e.activeCellEdit !== null && e.cellPositionUtils.equals(e.activeCellEdit, n), a = e.activeRowEdit !== null && e.rowPositionUtils.sameRow(e.activeRowEdit, n), s = i || a || e.isPasting || e.isRangeInAction;
        if (s) {
          var l = r.rowPinned, u = r.rowIndex, c = r.column, d = r.oldValue, p = r.value, h = {
            rowPinned: l,
            rowIndex: u,
            columnId: c.getColId(),
            newValue: p,
            oldValue: d
          };
          e.cellValueChanges.push(h);
        }
      }, e.clearStacks = function() {
        e.undoStack.clear(), e.redoStack.clear();
      }, e;
    }
    return t.prototype.init = function() {
      var e = this;
      if (this.gridOptionsService.is("undoRedoCellEditing")) {
        var r = this.gridOptionsService.getNum("undoRedoCellEditingLimit");
        r <= 0 || (this.undoStack = new ES(r), this.redoStack = new ES(r), this.addRowEditingListeners(), this.addCellEditingListeners(), this.addPasteListeners(), this.addFillListeners(), this.addCellKeyListeners(), this.addManagedListener(this.eventService, R.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, function(n) {
          n.keepUndoRedoStack || e.clearStacks();
        }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_COLUMN_GROUP_OPENED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PINNED, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, this.clearStacks), this.addManagedListener(this.eventService, R.EVENT_ROW_DRAG_END, this.clearStacks), this.ctrlsService.whenReady(function() {
          e.gridBodyCtrl = e.ctrlsService.getGridBodyCtrl();
        }));
      }
    }, t.prototype.getCurrentUndoStackSize = function() {
      return this.undoStack ? this.undoStack.getCurrentStackSize() : 0;
    }, t.prototype.getCurrentRedoStackSize = function() {
      return this.redoStack ? this.redoStack.getCurrentStackSize() : 0;
    }, t.prototype.undo = function(e) {
      var r = {
        type: R.EVENT_UNDO_STARTED,
        source: e
      };
      this.eventService.dispatchEvent(r);
      var n = this.undoRedo(this.undoStack, this.redoStack, "initialRange", "oldValue", "undo"), i = {
        type: R.EVENT_UNDO_ENDED,
        source: e,
        operationPerformed: n
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.redo = function(e) {
      var r = {
        type: R.EVENT_REDO_STARTED,
        source: e
      };
      this.eventService.dispatchEvent(r);
      var n = this.undoRedo(this.redoStack, this.undoStack, "finalRange", "newValue", "redo"), i = {
        type: R.EVENT_REDO_ENDED,
        source: e,
        operationPerformed: n
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.undoRedo = function(e, r, n, i, a) {
      if (!e)
        return !1;
      var s = e.pop();
      return !s || !s.cellValueChanges ? !1 : (this.processAction(s, function(l) {
        return l[i];
      }, a), s instanceof Gv ? this.processRange(s.ranges || [s[n]]) : this.processCell(s.cellValueChanges), r.push(s), !0);
    }, t.prototype.processAction = function(e, r, n) {
      var i = this;
      e.cellValueChanges.forEach(function(a) {
        var s = a.rowIndex, l = a.rowPinned, u = a.columnId, c = { rowIndex: s, rowPinned: l }, d = i.getRowNode(c);
        d.displayed && d.setDataValue(u, r(a), n);
      });
    }, t.prototype.processRange = function(e) {
      var r = this, n;
      this.rangeService.removeAllCellRanges(!0), e.forEach(function(i, a) {
        if (i) {
          var s = i.startRow, l = i.endRow;
          a === e.length - 1 && (n = {
            rowPinned: s.rowPinned,
            rowIndex: s.rowIndex,
            columnId: i.startColumn.getColId()
          }, r.setLastFocusedCell(n));
          var u = {
            rowStartIndex: s.rowIndex,
            rowStartPinned: s.rowPinned,
            rowEndIndex: l.rowIndex,
            rowEndPinned: l.rowPinned,
            columnStart: i.startColumn,
            columns: i.columns
          };
          r.rangeService.addCellRange(u);
        }
      });
    }, t.prototype.processCell = function(e) {
      var r = e[0], n = r.rowIndex, i = r.rowPinned, a = { rowIndex: n, rowPinned: i }, s = this.getRowNode(a), l = {
        rowPinned: r.rowPinned,
        rowIndex: s.rowIndex,
        columnId: r.columnId
      };
      this.setLastFocusedCell(l, !!this.rangeService);
    }, t.prototype.setLastFocusedCell = function(e, r) {
      var n = e.rowIndex, i = e.columnId, a = e.rowPinned, s = this.gridBodyCtrl.getScrollFeature(), l = this.columnModel.getGridColumn(i);
      if (l) {
        s.ensureIndexVisible(n), s.ensureColumnVisible(l);
        var u = { rowIndex: n, column: l, rowPinned: a };
        this.focusService.setFocusedCell(mh(mh({}, u), { forceBrowserFocus: !0 })), r && this.rangeService.setRangeToCell(u);
      }
    }, t.prototype.addRowEditingListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_ROW_EDITING_STARTED, function(r) {
        e.activeRowEdit = { rowIndex: r.rowIndex, rowPinned: r.rowPinned };
      }), this.addManagedListener(this.eventService, R.EVENT_ROW_EDITING_STOPPED, function() {
        var r = new fc(e.cellValueChanges);
        e.pushActionsToUndoStack(r), e.activeRowEdit = null;
      });
    }, t.prototype.addCellEditingListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_CELL_EDITING_STARTED, function(r) {
        e.activeCellEdit = { column: r.column, rowIndex: r.rowIndex, rowPinned: r.rowPinned };
      }), this.addManagedListener(this.eventService, R.EVENT_CELL_EDITING_STOPPED, function(r) {
        e.activeCellEdit = null;
        var n = r.valueChanged && !e.activeRowEdit && !e.isPasting && !e.isRangeInAction;
        if (n) {
          var i = new fc(e.cellValueChanges);
          e.pushActionsToUndoStack(i);
        }
      });
    }, t.prototype.addPasteListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_PASTE_START, function() {
        e.isPasting = !0;
      }), this.addManagedListener(this.eventService, R.EVENT_PASTE_END, function() {
        var r = new fc(e.cellValueChanges);
        e.pushActionsToUndoStack(r), e.isPasting = !1;
      });
    }, t.prototype.addFillListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_FILL_START, function() {
        e.isRangeInAction = !0;
      }), this.addManagedListener(this.eventService, R.EVENT_FILL_END, function(r) {
        var n = new Gv(e.cellValueChanges, r.initialRange, r.finalRange);
        e.pushActionsToUndoStack(n), e.isRangeInAction = !1;
      });
    }, t.prototype.addCellKeyListeners = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_KEY_SHORTCUT_CHANGED_CELL_START, function() {
        e.isRangeInAction = !0;
      }), this.addManagedListener(this.eventService, R.EVENT_KEY_SHORTCUT_CHANGED_CELL_END, function() {
        var r;
        e.rangeService && e.gridOptionsService.isEnableRangeSelection() ? r = new Gv(e.cellValueChanges, void 0, void 0, oV([], iV(e.rangeService.getCellRanges()))) : r = new fc(e.cellValueChanges), e.pushActionsToUndoStack(r), e.isRangeInAction = !1;
      });
    }, t.prototype.pushActionsToUndoStack = function(e) {
      this.undoStack.push(e), this.cellValueChanges = [], this.redoStack.clear();
    }, t.prototype.getRowNode = function(e) {
      switch (e.rowPinned) {
        case "top":
          return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];
        case "bottom":
          return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];
        default:
          return this.rowModel.getRow(e.rowIndex);
      }
    }, qn([
      w("focusService")
    ], t.prototype, "focusService", void 0), qn([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), qn([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), qn([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), qn([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), qn([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), qn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), qn([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), qn([
      V
    ], t.prototype, "init", null), t = qn([
      q("undoRedoService")
    ], t), t;
  }(W)
), sV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), kv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, lV = (
  /** @class */
  function(o) {
    sV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.findHeader = function(e, r) {
      var n, i, a;
      if (e.column instanceof Fr ? (i = "getDisplayedGroup" + r, n = this.columnModel[i](e.column)) : (a = "getDisplayedCol" + r, n = this.columnModel[a](e.column)), !!n) {
        var s = e.headerRowIndex, l = this.getHeaderRowType(s);
        if (l === ir.COLUMN_GROUP) {
          var u = n;
          if (u.isPadding() && this.isAnyChildSpanningHeaderHeight(u)) {
            var c = this.getColumnVisibleChild(u, s, r), d = c.nextFocusColumn, p = c.nextRow;
            d && (n = d, s = p);
          }
        }
        return {
          column: n,
          headerRowIndex: s
        };
      }
    }, t.prototype.isAnyChildSpanningHeaderHeight = function(e) {
      return e ? e.getLeafColumns().some(function(r) {
        return r.isSpanHeaderHeight();
      }) : !1;
    }, t.prototype.getColumnVisibleParent = function(e, r) {
      var n = this.getHeaderRowType(r), i = n === ir.FLOATING_FILTER, a = n === ir.COLUMN, s = i ? e : e.getParent(), l = r - 1;
      if (a && this.isAnyChildSpanningHeaderHeight(e.getParent())) {
        for (; s && s.isPadding(); )
          s = s.getParent(), l--;
        l < 0 && (s = e, l = r);
      }
      return { nextFocusColumn: s, nextRow: l };
    }, t.prototype.getColumnVisibleChild = function(e, r, n) {
      n === void 0 && (n = "After");
      var i = this.getHeaderRowType(r), a = e, s = r + 1;
      if (i === ir.COLUMN_GROUP) {
        var l = e.getLeafColumns(), u = n === "After" ? l[0] : et(l);
        if (this.isAnyChildSpanningHeaderHeight(u.getParent())) {
          a = u;
          for (var c = u.getParent(); c && c !== e; )
            c = c.getParent(), s++;
        } else
          a = e.getDisplayedChildren()[0];
      }
      return { nextFocusColumn: a, nextRow: s };
    }, t.prototype.getHeaderRowType = function(e) {
      var r = this.ctrlsService.getHeaderRowContainerCtrl();
      if (r)
        return r.getRowType(e);
    }, t.prototype.findColAtEdgeForHeaderRow = function(e, r) {
      var n = this.columnModel.getAllDisplayedColumns(), i = n[r === "start" ? 0 : n.length - 1];
      if (i) {
        var a = this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()), s = a.getRowType(e);
        if (s == ir.COLUMN_GROUP) {
          var l = this.columnModel.getColumnGroupAtLevel(i, e);
          return {
            headerRowIndex: e,
            column: l
          };
        }
        return {
          // if type==null, means the header level didn't exist
          headerRowIndex: s == null ? -1 : e,
          column: i
        };
      }
    }, kv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), kv([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), t = kv([
      q("headerPositionUtils")
    ], t), t;
  }(W)
), uV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, cV = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.buildColumnDefs = function(t, e, r) {
      var n = this, i = [], a = {};
      return t.forEach(function(s) {
        for (var l = n.createDefFromColumn(s, e, r), u = !0, c = l, d = s.getOriginalParent(), p = null; d; ) {
          var h = null;
          if (d.isPadding()) {
            d = d.getOriginalParent();
            continue;
          }
          var f = a[d.getGroupId()];
          if (f) {
            f.children.push(c), u = !1;
            break;
          }
          if (h = n.createDefFromGroup(d), h && (h.children = [c], a[h.groupId] = h, c = h, d = d.getOriginalParent()), d != null && p === d) {
            u = !1;
            break;
          }
          p = d;
        }
        u && i.push(c);
      }), i;
    }, o.prototype.createDefFromGroup = function(t) {
      var e = eh(t.getColGroupDef(), ["children"]);
      return e && (e.groupId = t.getGroupId()), e;
    }, o.prototype.createDefFromColumn = function(t, e, r) {
      var n = eh(t.getColDef());
      return n.colId = t.getColId(), n.width = t.getActualWidth(), n.rowGroup = t.isRowGroupActive(), n.rowGroupIndex = t.isRowGroupActive() ? e.indexOf(t) : null, n.pivot = t.isPivotActive(), n.pivotIndex = t.isPivotActive() ? r.indexOf(t) : null, n.aggFunc = t.isValueActive() ? t.getAggFunc() : null, n.hide = t.isVisible() ? void 0 : !0, n.pinned = t.isPinned() ? t.getPinned() : null, n.sort = t.getSort() ? t.getSort() : null, n.sortIndex = t.getSortIndex() != null ? t.getSortIndex() : null, n;
    }, o = uV([
      q("columnDefFactory")
    ], o), o;
  }()
), Vv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, dV = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.getInitialRowClasses = function(t) {
      var e = [];
      return z(t.extraCssClass) && e.push(t.extraCssClass), e.push("ag-row"), e.push(t.rowFocused ? "ag-row-focus" : "ag-row-no-focus"), t.fadeRowIn && e.push("ag-opacity-zero"), e.push(t.rowIsEven ? "ag-row-even" : "ag-row-odd"), t.rowNode.isRowPinned() && e.push("ag-row-pinned"), t.rowNode.isSelected() && e.push("ag-row-selected"), t.rowNode.footer && e.push("ag-row-footer"), e.push("ag-row-level-" + t.rowLevel), t.rowNode.stub && e.push("ag-row-loading"), t.fullWidthRow && e.push("ag-full-width-row"), t.expandable && (e.push("ag-row-group"), e.push(t.rowNode.expanded ? "ag-row-group-expanded" : "ag-row-group-contracted")), t.rowNode.dragging && e.push("ag-row-dragging"), ey(e, this.processClassesFromGridOptions(t.rowNode)), ey(e, this.preProcessRowClassRules(t.rowNode)), e.push(t.printLayout ? "ag-row-position-relative" : "ag-row-position-absolute"), t.firstRowOnPage && e.push("ag-row-first"), t.lastRowOnPage && e.push("ag-row-last"), t.fullWidthRow && (t.pinned === "left" && e.push("ag-cell-last-left-pinned"), t.pinned === "right" && e.push("ag-cell-first-right-pinned")), e;
    }, o.prototype.processClassesFromGridOptions = function(t) {
      var e = [], r = function(l) {
        typeof l == "string" ? e.push(l) : Array.isArray(l) && l.forEach(function(u) {
          return e.push(u);
        });
      }, n = this.gridOptionsService.get("rowClass");
      if (n) {
        if (typeof n == "function")
          return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"), [];
        r(n);
      }
      var i = this.gridOptionsService.getCallback("getRowClass");
      if (i) {
        var a = {
          data: t.data,
          node: t,
          rowIndex: t.rowIndex
        }, s = i(a);
        r(s);
      }
      return e;
    }, o.prototype.preProcessRowClassRules = function(t) {
      var e = [];
      return this.processRowClassRules(t, function(r) {
        e.push(r);
      }, function(r) {
      }), e;
    }, o.prototype.processRowClassRules = function(t, e, r) {
      var n = {
        data: t.data,
        node: t,
        rowIndex: t.rowIndex,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      };
      this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"), n, e, r);
    }, o.prototype.calculateRowLevel = function(t) {
      return t.group ? t.level : t.parent ? t.parent.level + 1 : 0;
    }, Vv([
      w("stylingService")
    ], o.prototype, "stylingService", void 0), Vv([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), o = Vv([
      q("rowCssClassCalculator")
    ], o), o;
  }()
), pV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ud = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hV = (
  /** @class */
  function(o) {
    pV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      var e = this;
      this.isAccentedSort = this.gridOptionsService.is("accentedSort"), this.primaryColumnsSortGroups = this.gridOptionsService.isColumnsSortingCoupledToGroup(), this.addManagedPropertyListener("accentedSort", function(r) {
        return e.isAccentedSort = r.currentValue;
      }), this.addManagedPropertyListener("autoGroupColumnDef", function() {
        return e.primaryColumnsSortGroups = e.gridOptionsService.isColumnsSortingCoupledToGroup();
      });
    }, t.prototype.doFullSort = function(e, r) {
      var n = function(a, s) {
        return { currentPos: s, rowNode: a };
      }, i = e.map(n);
      return i.sort(this.compareRowNodes.bind(this, r)), i.map(function(a) {
        return a.rowNode;
      });
    }, t.prototype.compareRowNodes = function(e, r, n) {
      for (var i = r.rowNode, a = n.rowNode, s = 0, l = e.length; s < l; s++) {
        var u = e[s], c = u.sort === "desc", d = this.getValue(i, u.column), p = this.getValue(a, u.column), h = void 0, f = this.getComparator(u, i);
        f ? h = f(d, p, i, a, c) : h = T.defaultComparator(d, p, this.isAccentedSort);
        var v = !isNaN(h);
        if (v && h !== 0)
          return u.sort === "asc" ? h : h * -1;
      }
      return r.currentPos - n.currentPos;
    }, t.prototype.getComparator = function(e, r) {
      var n = e.column, i = n.getColDef().comparator;
      if (i != null)
        return i;
      if (n.getColDef().showRowGroup) {
        var a = !r.group && n.getColDef().field;
        if (a) {
          var s = this.columnModel.getPrimaryColumn(a);
          if (s)
            return s.getColDef().comparator;
        }
      }
    }, t.prototype.getValue = function(e, r) {
      var n, i;
      if (!this.primaryColumnsSortGroups)
        return this.valueService.getValue(r, e, !1, !1);
      var a = e.rowGroupColumn === r;
      if (a) {
        var s = this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());
        if (s) {
          var l = r.getColDef().keyCreator;
          if (l)
            return e.key;
          var u = (n = e.allLeafChildren) === null || n === void 0 ? void 0 : n[0];
          return u ? this.valueService.getValue(r, u, !1, !1) : void 0;
        }
        var c = this.columnModel.getGroupDisplayColumnForGroup(r.getId());
        return c ? (i = e.groupData) === null || i === void 0 ? void 0 : i[c.getId()] : void 0;
      }
      if (!(e.group && r.getColDef().showRowGroup))
        return this.valueService.getValue(r, e, !1, !1);
    }, Ud([
      w("valueService")
    ], t.prototype, "valueService", void 0), Ud([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ud([
      V
    ], t.prototype, "init", null), t = Ud([
      q("rowNodeSorter")
    ], t), t;
  }(W)
), fV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), vV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, gV = (
  /** @class */
  function(o) {
    fV(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.ready = !1, r.readyCallbacks = [], r;
    }
    e = t, t.prototype.checkReady = function() {
      if (this.ready = this.gridCtrl != null && this.gridBodyCtrl != null && this.centerRowContainerCtrl != null && this.leftRowContainerCtrl != null && this.rightRowContainerCtrl != null && this.bottomCenterRowContainerCtrl != null && this.bottomLeftRowContainerCtrl != null && this.bottomRightRowContainerCtrl != null && this.topCenterRowContainerCtrl != null && this.topLeftRowContainerCtrl != null && this.topRightRowContainerCtrl != null && this.stickyTopCenterRowContainerCtrl != null && this.stickyTopLeftRowContainerCtrl != null && this.stickyTopRightRowContainerCtrl != null && this.centerHeaderRowContainerCtrl != null && this.leftHeaderRowContainerCtrl != null && this.rightHeaderRowContainerCtrl != null && this.fakeHScrollComp != null && this.fakeVScrollComp != null && this.gridHeaderCtrl != null, this.ready) {
        var r = this.createReadyParams();
        this.readyCallbacks.forEach(function(n) {
          return n(r);
        }), this.readyCallbacks.length = 0;
      }
    }, t.prototype.whenReady = function(r) {
      this.ready ? r(this.createReadyParams()) : this.readyCallbacks.push(r);
    }, t.prototype.createReadyParams = function() {
      return {
        centerRowContainerCtrl: this.centerRowContainerCtrl,
        leftRowContainerCtrl: this.leftRowContainerCtrl,
        rightRowContainerCtrl: this.rightRowContainerCtrl,
        bottomCenterRowContainerCtrl: this.bottomCenterRowContainerCtrl,
        bottomLeftRowContainerCtrl: this.bottomLeftRowContainerCtrl,
        bottomRightRowContainerCtrl: this.bottomRightRowContainerCtrl,
        topCenterRowContainerCtrl: this.topCenterRowContainerCtrl,
        topLeftRowContainerCtrl: this.topLeftRowContainerCtrl,
        topRightRowContainerCtrl: this.topRightRowContainerCtrl,
        stickyTopCenterRowContainerCtrl: this.stickyTopCenterRowContainerCtrl,
        stickyTopLeftRowContainerCtrl: this.stickyTopLeftRowContainerCtrl,
        stickyTopRightRowContainerCtrl: this.stickyTopRightRowContainerCtrl,
        centerHeaderRowContainerCtrl: this.centerHeaderRowContainerCtrl,
        leftHeaderRowContainerCtrl: this.leftHeaderRowContainerCtrl,
        rightHeaderRowContainerCtrl: this.rightHeaderRowContainerCtrl,
        fakeHScrollComp: this.fakeHScrollComp,
        fakeVScrollComp: this.fakeVScrollComp,
        gridBodyCtrl: this.gridBodyCtrl,
        gridCtrl: this.gridCtrl,
        gridHeaderCtrl: this.gridHeaderCtrl
      };
    }, t.prototype.registerFakeHScrollComp = function(r) {
      this.fakeHScrollComp = r, this.checkReady();
    }, t.prototype.registerFakeVScrollComp = function(r) {
      this.fakeVScrollComp = r, this.checkReady();
    }, t.prototype.registerGridHeaderCtrl = function(r) {
      this.gridHeaderCtrl = r, this.checkReady();
    }, t.prototype.registerCenterRowContainerCtrl = function(r) {
      this.centerRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerLeftRowContainerCtrl = function(r) {
      this.leftRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerRightRowContainerCtrl = function(r) {
      this.rightRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerTopCenterRowContainerCtrl = function(r) {
      this.topCenterRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerTopLeftRowContainerCon = function(r) {
      this.topLeftRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerTopRightRowContainerCtrl = function(r) {
      this.topRightRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerStickyTopCenterRowContainerCtrl = function(r) {
      this.stickyTopCenterRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerStickyTopLeftRowContainerCon = function(r) {
      this.stickyTopLeftRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerStickyTopRightRowContainerCtrl = function(r) {
      this.stickyTopRightRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerBottomCenterRowContainerCtrl = function(r) {
      this.bottomCenterRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerBottomLeftRowContainerCtrl = function(r) {
      this.bottomLeftRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerBottomRightRowContainerCtrl = function(r) {
      this.bottomRightRowContainerCtrl = r, this.checkReady();
    }, t.prototype.registerHeaderContainer = function(r, n) {
      switch (n) {
        case "left":
          this.leftHeaderRowContainerCtrl = r;
          break;
        case "right":
          this.rightHeaderRowContainerCtrl = r;
          break;
        default:
          this.centerHeaderRowContainerCtrl = r;
          break;
      }
      this.checkReady();
    }, t.prototype.registerGridBodyCtrl = function(r) {
      this.gridBodyCtrl = r, this.checkReady();
    }, t.prototype.registerGridCtrl = function(r) {
      this.gridCtrl = r, this.checkReady();
    }, t.prototype.getFakeHScrollComp = function() {
      return this.fakeHScrollComp;
    }, t.prototype.getFakeVScrollComp = function() {
      return this.fakeVScrollComp;
    }, t.prototype.getGridHeaderCtrl = function() {
      return this.gridHeaderCtrl;
    }, t.prototype.getGridCtrl = function() {
      return this.gridCtrl;
    }, t.prototype.getCenterRowContainerCtrl = function() {
      return this.centerRowContainerCtrl;
    }, t.prototype.getTopCenterRowContainerCtrl = function() {
      return this.topCenterRowContainerCtrl;
    }, t.prototype.getBottomCenterRowContainerCtrl = function() {
      return this.bottomCenterRowContainerCtrl;
    }, t.prototype.getStickyTopCenterRowContainerCtrl = function() {
      return this.stickyTopCenterRowContainerCtrl;
    }, t.prototype.getGridBodyCtrl = function() {
      return this.gridBodyCtrl;
    }, t.prototype.getHeaderRowContainerCtrls = function() {
      return [this.leftHeaderRowContainerCtrl, this.rightHeaderRowContainerCtrl, this.centerHeaderRowContainerCtrl];
    }, t.prototype.getHeaderRowContainerCtrl = function(r) {
      switch (r) {
        case "left":
          return this.leftHeaderRowContainerCtrl;
        case "right":
          return this.rightHeaderRowContainerCtrl;
        default:
          return this.centerHeaderRowContainerCtrl;
      }
    };
    var e;
    return t.NAME = "ctrlsService", t = e = vV([
      q(e.NAME)
    ], t), t;
  }(W)
), yV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, CV = (
  /** @class */
  function(o) {
    yV(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.registry = {}, e;
    }
    return t.prototype.register = function(e) {
      this.registry[e.controllerName] = e.controllerClass;
    }, t.prototype.getInstance = function(e) {
      var r = this.registry[e];
      if (r != null)
        return new r();
    }, t = mV([
      q("ctrlsFactory")
    ], t), t;
  }(W)
), SV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $E = (
  /** @class */
  function(o) {
    SV(t, o);
    function t(e, r) {
      var n = o.call(this, e) || this;
      return n.direction = r, n.hideTimeout = null, n;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this)), this.onScrollVisibilityChanged(), this.addOrRemoveCssClass("ag-apple-scrollbar", Sm() || na());
    }, t.prototype.initialiseInvisibleScrollbar = function() {
      this.invisibleScrollbar === void 0 && (this.invisibleScrollbar = Fl(), this.invisibleScrollbar && (this.hideAndShowInvisibleScrollAsNeeded(), this.addActiveListenerToggles()));
    }, t.prototype.addActiveListenerToggles = function() {
      var e = this, r = ["mouseenter", "mousedown", "touchstart"], n = ["mouseleave", "touchend"], i = this.getGui();
      r.forEach(function(a) {
        return e.addManagedListener(i, a, function() {
          return e.addOrRemoveCssClass("ag-scrollbar-active", !0);
        });
      }), n.forEach(function(a) {
        return e.addManagedListener(i, a, function() {
          return e.addOrRemoveCssClass("ag-scrollbar-active", !1);
        });
      });
    }, t.prototype.onScrollVisibilityChanged = function() {
      var e = this;
      this.invisibleScrollbar === void 0 && this.initialiseInvisibleScrollbar(), this.animationFrameService.requestAnimationFrame(function() {
        return e.setScrollVisible();
      });
    }, t.prototype.hideAndShowInvisibleScrollAsNeeded = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_BODY_SCROLL, function(r) {
        r.direction === e.direction && (e.hideTimeout !== null && (window.clearTimeout(e.hideTimeout), e.hideTimeout = null), e.addOrRemoveCssClass("ag-scrollbar-scrolling", !0));
      }), this.addManagedListener(this.eventService, R.EVENT_BODY_SCROLL_END, function() {
        e.hideTimeout = window.setTimeout(function() {
          e.addOrRemoveCssClass("ag-scrollbar-scrolling", !1), e.hideTimeout = null;
        }, 400);
      });
    }, t.prototype.attemptSettingScrollPosition = function(e) {
      var r = this, n = this.getViewport();
      lm(function() {
        return so(n);
      }, function() {
        return r.setScrollPosition(e);
      }, 100);
    }, t.prototype.getViewport = function() {
      return this.eViewport;
    }, t.prototype.getContainer = function() {
      return this.eContainer;
    }, t.prototype.onScrollCallback = function(e) {
      this.addManagedListener(this.getViewport(), "scroll", e);
    }, Fu([
      G("eViewport")
    ], t.prototype, "eViewport", void 0), Fu([
      G("eContainer")
    ], t.prototype, "eContainer", void 0), Fu([
      w("scrollVisibleService")
    ], t.prototype, "scrollVisibleService", void 0), Fu([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Fu([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), t;
  }(te)
), wV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Lu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, _V = (
  /** @class */
  function(o) {
    wV(t, o);
    function t() {
      return o.call(this, t.TEMPLATE, "horizontal") || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      o.prototype.postConstruct.call(this);
      var r = this.setFakeHScrollSpacerWidths.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, r), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, r), this.addManagedListener(this.eventService, R.EVENT_PINNED_ROW_DATA_CHANGED, this.onPinnedRowDataChanged.bind(this)), this.addManagedPropertyListener("domLayout", r), this.ctrlsService.registerFakeHScrollComp(this), this.createManagedBean(new Wm(function(n) {
        return e.eContainer.style.width = n + "px";
      }));
    }, t.prototype.initialiseInvisibleScrollbar = function() {
      this.invisibleScrollbar === void 0 && (this.enableRtl = this.gridOptionsService.is("enableRtl"), o.prototype.initialiseInvisibleScrollbar.call(this), this.invisibleScrollbar && this.refreshCompBottom());
    }, t.prototype.onPinnedRowDataChanged = function() {
      this.refreshCompBottom();
    }, t.prototype.refreshCompBottom = function() {
      if (this.invisibleScrollbar) {
        var e = this.pinnedRowModel.getPinnedBottomTotalHeight();
        this.getGui().style.bottom = e + "px";
      }
    }, t.prototype.onScrollVisibilityChanged = function() {
      o.prototype.onScrollVisibilityChanged.call(this), this.setFakeHScrollSpacerWidths();
    }, t.prototype.setFakeHScrollSpacerWidths = function() {
      var e = this.scrollVisibleService.isVerticalScrollShowing(), r = this.columnModel.getDisplayedColumnsRightWidth(), n = !this.enableRtl && e, i = this.gridOptionsService.getScrollbarWidth();
      n && (r += i), _n(this.eRightSpacer, r), this.eRightSpacer.classList.toggle("ag-scroller-corner", r <= i);
      var a = this.columnModel.getDisplayedColumnsLeftWidth(), s = this.enableRtl && e;
      s && (a += i), _n(this.eLeftSpacer, a), this.eLeftSpacer.classList.toggle("ag-scroller-corner", a <= i);
    }, t.prototype.setScrollVisible = function() {
      var e = this.scrollVisibleService.isHorizontalScrollShowing(), r = this.invisibleScrollbar, n = this.gridOptionsService.is("suppressHorizontalScroll"), i = e && this.gridOptionsService.getScrollbarWidth() || 0, a = i === 0 && r ? 16 : i, s = n ? 0 : a;
      this.addOrRemoveCssClass("ag-scrollbar-invisible", r), Qa(this.getGui(), s), Qa(this.eViewport, s), Qa(this.eContainer, s), this.setDisplayed(e, { skipAriaHidden: !0 });
    }, t.prototype.getScrollPosition = function() {
      return Wc(this.getViewport(), this.enableRtl);
    }, t.prototype.setScrollPosition = function(e) {
      so(this.getViewport()) || this.attemptSettingScrollPosition(e), $c(this.getViewport(), e, this.enableRtl);
    }, t.TEMPLATE = `<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`, Lu([
      G("eLeftSpacer")
    ], t.prototype, "eLeftSpacer", void 0), Lu([
      G("eRightSpacer")
    ], t.prototype, "eRightSpacer", void 0), Lu([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Lu([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), Lu([
      V
    ], t.prototype, "postConstruct", null), t;
  }($E)
), bV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, EV = (
  /** @class */
  function(o) {
    bV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this.checkContainerWidths.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, e), this.addManagedPropertyListener("domLayout", e);
    }, t.prototype.checkContainerWidths = function() {
      var e = this.gridOptionsService.isDomLayout("print"), r = e ? 0 : this.columnModel.getDisplayedColumnsLeftWidth(), n = e ? 0 : this.columnModel.getDisplayedColumnsRightWidth();
      r != this.leftWidth && (this.leftWidth = r, this.eventService.dispatchEvent({ type: R.EVENT_LEFT_PINNED_WIDTH_CHANGED })), n != this.rightWidth && (this.rightWidth = n, this.eventService.dispatchEvent({ type: R.EVENT_RIGHT_PINNED_WIDTH_CHANGED }));
    }, t.prototype.getPinnedRightWidth = function() {
      return this.rightWidth;
    }, t.prototype.getPinnedLeftWidth = function() {
      return this.leftWidth;
    }, Bv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Bv([
      V
    ], t.prototype, "postConstruct", null), t = Bv([
      q("pinnedWidthService")
    ], t), t;
  }(W)
), OV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, xV = (
  /** @class */
  function(o) {
    OV(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.events = [], e;
    }
    return t.prototype.postConstruct = function() {
      this.rowModel.getType() == "clientSide" && (this.clientSideRowModel = this.rowModel);
    }, t.prototype.dispatchExpanded = function(e) {
      var r = this;
      if (this.clientSideRowModel == null) {
        this.eventService.dispatchEvent(e);
        return;
      }
      this.events.push(e);
      var n = function() {
        r.clientSideRowModel && r.clientSideRowModel.onRowGroupOpened(), r.events.forEach(function(i) {
          return r.eventService.dispatchEvent(i);
        }), r.events = [];
      };
      this.dispatchExpandedDebounced == null && (this.dispatchExpandedDebounced = this.animationFrameService.debounce(n)), this.dispatchExpandedDebounced();
    }, zd([
      w("animationFrameService")
    ], t.prototype, "animationFrameService", void 0), zd([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), zd([
      V
    ], t.prototype, "postConstruct", null), t = zd([
      q("rowNodeEventThrottle")
    ], t), t;
  }(W)
), fy = function() {
  return fy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, fy.apply(this, arguments);
}, wo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, OS = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, xS = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, TS = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
};
function TV(o) {
  if (typeof o == "number")
    return o;
  if (typeof o == "string")
    return parseInt(o, 10);
}
function RS(o) {
  return o === !0 || o === "true";
}
var RV = (
  /** @class */
  function() {
    function o() {
      this.destroyed = !1, this.domDataKey = "__AG_" + Math.random().toString(), this.propertyEventService = new Di();
    }
    return Object.defineProperty(o.prototype, "context", {
      // This is quicker then having code call gridOptionsService.get('context')
      get: function() {
        return this.gridOptions.context;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.agWire = function(t, e) {
      this.gridOptions.api = t, this.gridOptions.columnApi = e, this.api = t, this.columnApi = e;
    }, o.prototype.init = function() {
      this.gridOptionLookup = new Set(TS(TS([], xS(Uo.ALL_PROPERTIES)), xS(Uo.EVENT_CALLBACKS)));
      var t = !this.is("suppressAsyncEvents");
      this.eventService.addGlobalListener(this.globalEventHandler.bind(this), t), this.getScrollbarWidth();
    }, o.prototype.destroy = function() {
      this.gridOptions.api = null, this.gridOptions.columnApi = null, this.destroyed = !0;
    }, o.prototype.is = function(t) {
      return RS(this.gridOptions[t]);
    }, o.prototype.get = function(t) {
      return this.gridOptions[t];
    }, o.prototype.getNum = function(t) {
      return TV(this.gridOptions[t]);
    }, o.prototype.getCallback = function(t) {
      return this.mergeGridCommonParams(this.gridOptions[t]);
    }, o.prototype.exists = function(t) {
      return z(this.gridOptions[t]);
    }, o.prototype.mergeGridCommonParams = function(t) {
      var e = this;
      if (t) {
        var r = function(n) {
          var i = n;
          return i.api = e.api, i.columnApi = e.columnApi, i.context = e.context, t(i);
        };
        return r;
      }
      return t;
    }, o.prototype.set = function(t, e, r, n) {
      if (r === void 0 && (r = !1), n === void 0 && (n = {}), this.gridOptionLookup.has(t)) {
        var i = this.gridOptions[t];
        if (r || i !== e) {
          this.gridOptions[t] = e;
          var a = fy({ type: t, currentValue: e, previousValue: i }, n);
          this.propertyEventService.dispatchEvent(a);
        }
      }
    }, o.prototype.addEventListener = function(t, e) {
      this.propertyEventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.propertyEventService.removeEventListener(t, e);
    }, o.prototype.globalEventHandler = function(t, e) {
      if (!this.destroyed) {
        var r = Uo.getCallbackForEvent(t);
        typeof this.gridOptions[r] == "function" && this.gridOptions[r](e);
      }
    }, o.prototype.getGridId = function() {
      return this.api.getGridId();
    }, o.prototype.getScrollbarWidth = function() {
      if (this.scrollbarWidth == null) {
        var t = typeof this.gridOptions.scrollbarWidth == "number" && this.gridOptions.scrollbarWidth >= 0, e = t ? this.gridOptions.scrollbarWidth : rE();
        e != null && (this.scrollbarWidth = e, this.eventService.dispatchEvent({
          type: R.EVENT_SCROLLBAR_WIDTH_CHANGED
        }));
      }
      return this.scrollbarWidth;
    }, o.prototype.isRowModelType = function(t) {
      return this.gridOptions.rowModelType === t || t === "clientSide" && me(this.gridOptions.rowModelType);
    }, o.prototype.isDomLayout = function(t) {
      var e, r = (e = this.gridOptions.domLayout) !== null && e !== void 0 ? e : "normal";
      return r === t;
    }, o.prototype.isRowSelection = function() {
      return this.gridOptions.rowSelection === "single" || this.gridOptions.rowSelection === "multiple";
    }, o.prototype.useAsyncEvents = function() {
      return !this.is("suppressAsyncEvents");
    }, o.prototype.isGetRowHeightFunction = function() {
      return typeof this.gridOptions.getRowHeight == "function";
    }, o.prototype.getRowHeightForNode = function(t, e, r) {
      if (e === void 0 && (e = !1), r == null && (r = this.environment.getDefaultRowHeight()), this.isGetRowHeightFunction()) {
        if (e)
          return { height: r, estimated: !0 };
        var n = {
          node: t,
          data: t.data
        }, i = this.getCallback("getRowHeight")(n);
        if (this.isNumeric(i))
          return i === 0 && ze(function() {
            return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.");
          }, "invalidRowHeight"), { height: Math.max(1, i), estimated: !1 };
      }
      if (t.detail && this.is("masterDetail"))
        return this.getMasterDetailRowHeight();
      var a = this.gridOptions.rowHeight && this.isNumeric(this.gridOptions.rowHeight) ? this.gridOptions.rowHeight : r;
      return { height: a, estimated: !1 };
    }, o.prototype.getMasterDetailRowHeight = function() {
      return this.is("detailRowAutoHeight") ? { height: 1, estimated: !1 } : this.isNumeric(this.gridOptions.detailRowHeight) ? { height: this.gridOptions.detailRowHeight, estimated: !1 } : { height: 300, estimated: !1 };
    }, o.prototype.getRowHeightAsNumber = function() {
      if (!this.gridOptions.rowHeight || me(this.gridOptions.rowHeight))
        return this.environment.getDefaultRowHeight();
      var t = this.gridOptions.rowHeight;
      return t && this.isNumeric(t) ? (this.environment.setRowHeightVariable(t), t) : (console.warn("AG Grid row height must be a number if not using standard row model"), this.environment.getDefaultRowHeight());
    }, o.prototype.isNumeric = function(t) {
      return !isNaN(t) && typeof t == "number" && isFinite(t);
    }, o.prototype.getDomDataKey = function() {
      return this.domDataKey;
    }, o.prototype.getDomData = function(t, e) {
      var r = t[this.getDomDataKey()];
      return r ? r[e] : void 0;
    }, o.prototype.setDomData = function(t, e, r) {
      var n = this.getDomDataKey(), i = t[n];
      me(i) && (i = {}, t[n] = i), i[e] = r;
    }, o.prototype.getDocument = function() {
      var t = null;
      return this.gridOptions.getDocument && z(this.gridOptions.getDocument) ? t = this.gridOptions.getDocument() : this.eGridDiv && (t = this.eGridDiv.ownerDocument), t && z(t) ? t : document;
    }, o.prototype.getWindow = function() {
      var t = this.getDocument();
      return t.defaultView || window;
    }, o.prototype.getRootNode = function() {
      return this.eGridDiv.getRootNode();
    }, o.prototype.getAsyncTransactionWaitMillis = function() {
      return z(this.gridOptions.asyncTransactionWaitMillis) ? this.gridOptions.asyncTransactionWaitMillis : 50;
    }, o.prototype.isAnimateRows = function() {
      return this.is("ensureDomOrder") ? !1 : this.is("animateRows");
    }, o.prototype.isGroupRowsSticky = function() {
      return !(this.is("suppressGroupRowsSticky") || this.is("paginateChildRows") || this.is("groupHideOpenParents"));
    }, o.prototype.isTreeData = function() {
      return this.is("treeData") && de.__assertRegistered(Z.RowGroupingModule, "Tree Data", this.api.getGridId());
    }, o.prototype.isMasterDetail = function() {
      return this.is("masterDetail") && de.__assertRegistered(Z.MasterDetailModule, "masterDetail", this.api.getGridId());
    }, o.prototype.isEnableRangeSelection = function() {
      return this.is("enableRangeSelection") && de.__isRegistered(Z.RangeSelectionModule, this.api.getGridId());
    }, o.prototype.isColumnsSortingCoupledToGroup = function() {
      var t = this.gridOptions.autoGroupColumnDef, e = this.isRowModelType("clientSide");
      return e && !(t != null && t.comparator) && !this.isTreeData();
    }, o.prototype.getGroupAggFiltering = function() {
      var t = this.gridOptions.groupAggFiltering;
      if (typeof t == "function")
        return this.getCallback("groupAggFiltering");
      if (RS(t))
        return function() {
          return !0;
        };
    }, o.prototype.isGroupMultiAutoColumn = function() {
      return this.gridOptions.groupDisplayType ? ry("multipleColumns", this.gridOptions.groupDisplayType) : this.is("groupHideOpenParents");
    }, o.prototype.isGroupUseEntireRow = function(t) {
      return t ? !1 : this.gridOptions.groupDisplayType ? ry("groupRows", this.gridOptions.groupDisplayType) : !1;
    }, wo([
      w("gridOptions")
    ], o.prototype, "gridOptions", void 0), wo([
      w("eventService")
    ], o.prototype, "eventService", void 0), wo([
      w("environment")
    ], o.prototype, "environment", void 0), wo([
      w("eGridDiv")
    ], o.prototype, "eGridDiv", void 0), wo([
      OS(0, Er("gridApi")),
      OS(1, Er("columnApi"))
    ], o.prototype, "agWire", null), wo([
      V
    ], o.prototype, "init", null), wo([
      rt
    ], o.prototype, "destroy", null), o = wo([
      q("gridOptionsService")
    ], o), o;
  }()
), DV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), PV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, AV = (
  /** @class */
  function(o) {
    DV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getLocaleTextFunc = function() {
      var e = this.gridOptionsService.getCallback("getLocaleText");
      if (e)
        return function(n, i, a) {
          var s = {
            key: n,
            defaultValue: i,
            variableValues: a
          };
          return e(s);
        };
      var r = this.gridOptionsService.get("localeText");
      return function(n, i, a) {
        var s = r && r[n];
        if (s && a && a.length)
          for (var l = 0; !(l >= a.length); ) {
            var u = s.indexOf("${variable}");
            if (u === -1)
              break;
            s = s.replace("${variable}", a[l++]);
          }
        return s != null ? s : i;
      };
    }, t = PV([
      q("localeService")
    ], t), t;
  }(W)
), MV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), IV = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, FV = (
  /** @class */
  function(o) {
    MV(t, o);
    function t() {
      return o.call(this, t.TEMPLATE, "vertical") || this;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this), this.createManagedBean(new VE(this.eContainer)), this.ctrlsService.registerFakeVScrollComp(this), this.addManagedListener(this.eventService, R.EVENT_ROW_CONTAINER_HEIGHT_CHANGED, this.onRowContainerHeightChanged.bind(this));
    }, t.prototype.setScrollVisible = function() {
      var e = this.scrollVisibleService.isVerticalScrollShowing(), r = this.invisibleScrollbar, n = e && this.gridOptionsService.getScrollbarWidth() || 0, i = n === 0 && r ? 16 : n;
      this.addOrRemoveCssClass("ag-scrollbar-invisible", r), _n(this.getGui(), i), _n(this.eViewport, i), _n(this.eContainer, i), this.setDisplayed(e, { skipAriaHidden: !0 });
    }, t.prototype.onRowContainerHeightChanged = function() {
      var e = this.ctrlsService.getGridBodyCtrl(), r = e.getBodyViewportElement();
      this.eViewport.scrollTop != r.scrollTop && (this.eViewport.scrollTop = r.scrollTop);
    }, t.prototype.getScrollPosition = function() {
      return this.getViewport().scrollTop;
    }, t.prototype.setScrollPosition = function(e) {
      so(this.getViewport()) || this.attemptSettingScrollPosition(e), this.getViewport().scrollTop = e;
    }, t.TEMPLATE = `<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`, IV([
      V
    ], t.prototype, "postConstruct", null), t;
  }($E)
), LV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ar = function() {
  return Ar = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ar.apply(this, arguments);
}, ya = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Zn = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Nu = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, DS = {
  january: "January",
  february: "February",
  march: "March",
  april: "April",
  may: "May",
  june: "June",
  july: "July",
  august: "August",
  september: "September",
  october: "October",
  november: "November",
  december: "December"
}, PS = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"], NV = (
  /** @class */
  function(o) {
    LV(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.dataTypeDefinitions = {}, e.isWaitingForRowData = !1, e.isColumnTypeOverrideInDataTypeDefinitions = !1, e.columnStateUpdatesPendingInference = {}, e.columnStateUpdateListenerDestroyFuncs = [], e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.groupHideOpenParents = this.gridOptionsService.is("groupHideOpenParents"), this.addManagedPropertyListener("groupHideOpenParents", function() {
        e.groupHideOpenParents = e.gridOptionsService.is("groupHideOpenParents");
      }), this.processDataTypeDefinitions(), this.addManagedPropertyListener("dataTypeDefinitions", function() {
        e.processDataTypeDefinitions(), e.columnModel.recreateColumnDefs("gridOptionsChanged");
      });
    }, t.prototype.processDataTypeDefinitions = function() {
      var e = this, r, n = this.getDefaultDataTypes();
      this.dataTypeDefinitions = {}, Object.entries(n).forEach(function(a) {
        var s = Zn(a, 2), l = s[0], u = s[1];
        e.dataTypeDefinitions[l] = Ar(Ar({}, u), { groupSafeValueFormatter: e.createGroupSafeValueFormatter(u) });
      });
      var i = (r = this.gridOptionsService.get("dataTypeDefinitions")) !== null && r !== void 0 ? r : {};
      this.dataTypeMatchers = {}, Object.entries(i).forEach(function(a) {
        var s = Zn(a, 2), l = s[0], u = s[1], c = e.processDataTypeDefinition(u, i, [l], n);
        c && (e.dataTypeDefinitions[l] = c, u.dataTypeMatcher && (e.dataTypeMatchers[l] = u.dataTypeMatcher));
      }), this.checkObjectValueHandlers(n), ["dateString", "text", "number", "boolean", "date"].forEach(function(a) {
        var s = e.dataTypeMatchers[a];
        s && delete e.dataTypeMatchers[a], e.dataTypeMatchers[a] = s != null ? s : n[a].dataTypeMatcher;
      });
    }, t.prototype.mergeDataTypeDefinitions = function(e, r) {
      var n = Ar(Ar({}, e), r);
      return e.columnTypes && r.columnTypes && r.appendColumnTypes && (n.columnTypes = Nu(Nu([], Zn(this.convertColumnTypes(e.columnTypes))), Zn(this.convertColumnTypes(r.columnTypes)))), n;
    }, t.prototype.processDataTypeDefinition = function(e, r, n, i) {
      var a, s = e.extendsDataType;
      if (e.columnTypes && (this.isColumnTypeOverrideInDataTypeDefinitions = !0), e.extendsDataType === e.baseDataType) {
        var l = i[s];
        if (!this.validateDataTypeDefinition(e, l, s))
          return;
        a = this.mergeDataTypeDefinitions(l, e);
      } else {
        if (n.includes(s)) {
          ze(function() {
            return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');
          }, "dataTypeExtendsCircularRef");
          return;
        }
        var u = r[s];
        if (!this.validateDataTypeDefinition(e, u, s))
          return;
        var c = this.processDataTypeDefinition(u, r, Nu(Nu([], Zn(n)), [s]), i);
        if (!c)
          return;
        a = this.mergeDataTypeDefinitions(c, e);
      }
      return Ar(Ar({}, a), { groupSafeValueFormatter: this.createGroupSafeValueFormatter(a) });
    }, t.prototype.validateDataTypeDefinition = function(e, r, n) {
      return r ? r.baseDataType !== e.baseDataType ? (ze(function() {
        return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.');
      }, "dataTypeBaseTypesMatch"), !1) : !0 : (ze(function() {
        return console.warn("AG Grid: The data type definition " + n + " does not exist.");
      }, "dataTypeDefMissing" + n), !1);
    }, t.prototype.createGroupSafeValueFormatter = function(e) {
      var r = this;
      if (e.valueFormatter)
        return function(n) {
          var i, a;
          if (!((i = n.node) === null || i === void 0) && i.group) {
            var s = n.column.getAggFunc();
            if (s) {
              if (s === "first" || s === "last")
                return e.valueFormatter(n);
              if (e.baseDataType === "number" && s !== "count") {
                if (typeof n.value == "number")
                  return e.valueFormatter(n);
                if (typeof n.value == "object") {
                  if (!n.value)
                    return;
                  if ("toNumber" in n.value)
                    return e.valueFormatter(Ar(Ar({}, n), { value: n.value.toNumber() }));
                  if ("value" in n.value)
                    return e.valueFormatter(Ar(Ar({}, n), { value: n.value.value }));
                }
              }
            }
            return;
          } else if (r.groupHideOpenParents && n.column.isRowGroupActive())
            return typeof n.value != "string" || !((a = e.dataTypeMatcher) === null || a === void 0) && a.call(e, n.value) ? e.valueFormatter(n) : void 0;
          return e.valueFormatter(n);
        };
    }, t.prototype.updateColDefAndGetDataTypeDefinitionColumnType = function(e, r, n) {
      var i = r.cellDataType, a = r.field;
      if (i === void 0 && (i = e.cellDataType), (i == null || i === !0) && (i = this.canInferCellDataType(e, r) ? this.inferCellDataType(a, n) : !1), !i) {
        e.cellDataType = !1;
        return;
      }
      var s = this.dataTypeDefinitions[i];
      if (!s) {
        ze(function() {
          return console.warn('AG Grid: Missing data type definition - "' + i + '"');
        }, "dataTypeMissing" + i);
        return;
      }
      return e.cellDataType = i, s.groupSafeValueFormatter && (e.valueFormatter = s.groupSafeValueFormatter), s.valueParser && (e.valueParser = s.valueParser), s.suppressDefaultProperties || this.setColDefPropertiesForBaseDataType(e, s, n), s.columnTypes;
    }, t.prototype.updateColDefAndGetColumnType = function(e, r, n) {
      var i, a, s = this.updateColDefAndGetDataTypeDefinitionColumnType(e, r, n), l = (a = (i = r.type) !== null && i !== void 0 ? i : s) !== null && a !== void 0 ? a : e.type;
      return e.type = l, l ? this.convertColumnTypes(l) : void 0;
    }, t.prototype.addColumnListeners = function(e) {
      if (this.isWaitingForRowData) {
        var r = this.columnStateUpdatesPendingInference[e.getColId()];
        if (r) {
          var n = function(i) {
            r.add(i.key);
          };
          e.addEventListener(Me.EVENT_STATE_UPDATED, n), this.columnStateUpdateListenerDestroyFuncs.push(function() {
            return e.removeEventListener(Me.EVENT_STATE_UPDATED, n);
          });
        }
      }
    }, t.prototype.canInferCellDataType = function(e, r) {
      var n = this, i;
      if (this.rowModel.getType() !== "clientSide")
        return !1;
      var a = { cellRenderer: !0, valueGetter: !0, valueParser: !0, refData: !0 };
      if (this.doColDefPropsPreventInference(r, a))
        return !1;
      var s = r.type === null ? e.type : r.type;
      if (s) {
        var l = (i = this.gridOptionsService.get("columnTypes")) !== null && i !== void 0 ? i : {}, u = this.convertColumnTypes(s).some(function(c) {
          var d = l[c.trim()];
          return d && n.doColDefPropsPreventInference(d, a);
        });
        if (u)
          return !1;
      }
      return !this.doColDefPropsPreventInference(e, a);
    }, t.prototype.doColDefPropsPreventInference = function(e, r) {
      var n = this;
      return [
        ["cellRenderer", "agSparklineCellRenderer"],
        ["valueGetter", void 0],
        ["valueParser", void 0],
        ["refData", void 0]
      ].some(function(i) {
        var a = Zn(i, 2), s = a[0], l = a[1];
        return n.doesColDefPropPreventInference(e, r, s, l);
      });
    }, t.prototype.doesColDefPropPreventInference = function(e, r, n, i) {
      if (!r[n])
        return !1;
      var a = e[n];
      return a === null ? (r[n] = !1, !1) : i === void 0 ? !!a : a === i;
    }, t.prototype.inferCellDataType = function(e, r) {
      var n;
      if (e) {
        var i, a = this.getInitialData();
        if (a) {
          var s = e.indexOf(".") >= 0 && !this.gridOptionsService.is("suppressFieldDotNotation");
          i = Il(a, e, s);
        } else
          this.initWaitForRowData(r);
        if (i != null) {
          var l = Zn((n = Object.entries(this.dataTypeMatchers).find(function(c) {
            var d = Zn(c, 2);
            d[0];
            var p = d[1];
            return p(i);
          })) !== null && n !== void 0 ? n : ["object"], 1), u = l[0];
          return u;
        }
      }
    }, t.prototype.getInitialData = function() {
      var e = this.gridOptionsService.get("rowData");
      if (e != null && e.length)
        return e[0];
      if (this.initialData)
        return this.initialData;
      var r = this.rowModel.getRootNode().allLeafChildren;
      return r != null && r.length ? r[0].data : null;
    }, t.prototype.initWaitForRowData = function(e) {
      var r = this;
      if (this.columnStateUpdatesPendingInference[e] = /* @__PURE__ */ new Set(), !this.isWaitingForRowData) {
        this.isWaitingForRowData = !0;
        var n = this.isColumnTypeOverrideInDataTypeDefinitions;
        n && this.columnModel.queueResizeOperations();
        var i = this.addManagedListener(this.eventService, R.EVENT_ROW_DATA_UPDATE_STARTED, function(a) {
          var s = a.firstRowData;
          s && (i == null || i(), r.isWaitingForRowData = !1, r.processColumnsPendingInference(s, n), r.columnStateUpdatesPendingInference = {}, n && r.columnModel.processResizeOperations());
        });
      }
    }, t.prototype.processColumnsPendingInference = function(e, r) {
      var n = this;
      this.initialData = e;
      var i = [];
      this.columnStateUpdateListenerDestroyFuncs.forEach(function(l) {
        return l();
      }), this.columnStateUpdateListenerDestroyFuncs = [];
      var a = {}, s = {};
      Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l) {
        var u = Zn(l, 2), c = u[0], d = u[1], p = n.columnModel.getGridColumn(c);
        if (p) {
          var h = p.getColDef();
          if (n.columnModel.resetColumnDefIntoColumn(p)) {
            var f = p.getColDef();
            if (r && f.type && f.type !== h.type) {
              var v = n.getUpdatedColumnState(p, d);
              v.rowGroup && v.rowGroupIndex == null && (a[c] = v), v.pivot && v.pivotIndex == null && (s[c] = v), i.push(v);
            }
          }
        }
      }), r && i.push.apply(i, Nu([], Zn(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a, s)))), i.length && this.columnModel.applyColumnState({ state: i }, "cellDataTypeInferred"), this.initialData = null;
    }, t.prototype.getUpdatedColumnState = function(e, r) {
      var n = this.columnModel.getColumnStateFromColDef(e);
      return r.forEach(function(i) {
        delete n[i], i === "rowGroup" ? delete n.rowGroupIndex : i === "pivot" && delete n.pivotIndex;
      }), n;
    }, t.prototype.checkObjectValueHandlers = function(e) {
      var r = this.dataTypeDefinitions.object, n = e.object;
      this.hasObjectValueParser = r.valueParser !== n.valueParser, this.hasObjectValueFormatter = r.valueFormatter !== n.valueFormatter;
    }, t.prototype.convertColumnTypes = function(e) {
      var r = [];
      if (e instanceof Array) {
        var n = e.some(function(i) {
          return typeof i != "string";
        });
        n ? console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'") : r = e;
      } else
        typeof e == "string" ? r = e.split(",") : console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");
      return r;
    }, t.prototype.getDateStringTypeDefinition = function() {
      return this.dataTypeDefinitions.dateString;
    }, t.prototype.getDateParserFunction = function() {
      return this.getDateStringTypeDefinition().dateParser;
    }, t.prototype.getDateFormatterFunction = function() {
      return this.getDateStringTypeDefinition().dateFormatter;
    }, t.prototype.checkType = function(e, r) {
      var n, i = e.getColDef();
      if (!i.cellDataType || r == null)
        return !0;
      var a = (n = this.dataTypeDefinitions[i.cellDataType]) === null || n === void 0 ? void 0 : n.dataTypeMatcher;
      return a ? a(r) : !0;
    }, t.prototype.validateColDef = function(e) {
      e.cellDataType === "object" && (e.valueFormatter === this.dataTypeDefinitions.object.groupSafeValueFormatter && !this.hasObjectValueFormatter && ze(function() {
        return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"');
      }, "dataTypeObjectValueFormatter"), e.editable && e.valueParser === this.dataTypeDefinitions.object.valueParser && !this.hasObjectValueParser && ze(function() {
        return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"');
      }, "dataTypeObjectValueParser"));
    }, t.prototype.setColDefPropertiesForBaseDataType = function(e, r, n) {
      var i = this, a = function(d, p, h) {
        var f = d.getColDef().valueFormatter;
        return f === r.groupSafeValueFormatter && (f = r.valueFormatter), i.valueFormatterService.formatValue(d, p, h, f);
      }, s = de.__isRegistered(Z.SetFilterModule, this.context.getGridId()), l = this.localeService.getLocaleTextFunc(), u = function(d) {
        var p = e.filterParams;
        e.filterParams = typeof p == "object" ? Ar(Ar({}, p), d) : d;
      };
      switch (e.useValueFormatterForExport = !0, e.useValueParserForImport = !0, r.baseDataType) {
        case "number": {
          e.cellEditor = "agNumberCellEditor", s && u({
            comparator: function(d, p) {
              var h = d == null ? 0 : parseInt(d), f = p == null ? 0 : parseInt(p);
              return h === f ? 0 : h > f ? 1 : -1;
            }
          });
          break;
        }
        case "boolean": {
          e.cellEditor = "agCheckboxCellEditor", e.cellRenderer = "agCheckboxCellRenderer", e.suppressKeyboardEvent = function(d) {
            return !!d.colDef.editable && d.event.key === H.SPACE;
          }, u(s ? {
            valueFormatter: function(d) {
              return z(d.value) ? l(String(d.value), d.value ? "True" : "False") : l("blanks", "(Blanks)");
            }
          } : {
            maxNumConditions: 1,
            filterOptions: [
              "empty",
              {
                displayKey: "true",
                displayName: "True",
                predicate: function(d, p) {
                  return p;
                },
                numberOfInputs: 0
              },
              {
                displayKey: "false",
                displayName: "False",
                predicate: function(d, p) {
                  return p === !1;
                },
                numberOfInputs: 0
              }
            ]
          });
          break;
        }
        case "date": {
          e.cellEditor = "agDateCellEditor", e.keyCreator = function(d) {
            return a(d.column, d.node, d.value);
          }, s && u({
            valueFormatter: function(d) {
              var p = a(d.column, d.node, d.value);
              return z(p) ? p : l("blanks", "(Blanks)");
            },
            treeList: !0,
            treeListFormatter: function(d, p) {
              if (p === 1 && d != null) {
                var h = PS[Number(d) - 1];
                return l(h, DS[h]);
              }
              return d != null ? d : l("blanks", "(Blanks)");
            }
          });
          break;
        }
        case "dateString": {
          e.cellEditor = "agDateStringCellEditor", e.keyCreator = function(d) {
            return a(d.column, d.node, d.value);
          };
          var c = this.getDateParserFunction();
          u(s ? {
            valueFormatter: function(d) {
              var p = a(d.column, d.node, d.value);
              return z(p) ? p : l("blanks", "(Blanks)");
            },
            treeList: !0,
            treeListPathGetter: function(d) {
              var p = c(d != null ? d : void 0);
              return p ? [String(p.getFullYear()), String(p.getMonth() + 1), String(p.getDate())] : null;
            },
            treeListFormatter: function(d, p) {
              if (p === 1 && d != null) {
                var h = PS[Number(d) - 1];
                return l(h, DS[h]);
              }
              return d != null ? d : l("blanks", "(Blanks)");
            }
          } : {
            comparator: function(d, p) {
              var h = c(p);
              return p == null || h < d ? -1 : h > d ? 1 : 0;
            }
          });
          break;
        }
        case "object": {
          e.cellEditorParams = {
            useFormatter: !0
          }, e.comparator = function(d, p) {
            var h = i.columnModel.getPrimaryColumn(n), f = h == null ? void 0 : h.getColDef();
            if (!h || !f)
              return 0;
            var v = d == null ? "" : a(h, null, d), g = p == null ? "" : a(h, null, p);
            return v === g ? 0 : v > g ? 1 : -1;
          }, e.keyCreator = function(d) {
            return a(d.column, d.node, d.value);
          }, s ? u({
            valueFormatter: function(d) {
              var p = a(d.column, d.node, d.value);
              return z(p) ? p : l("blanks", "(Blanks)");
            }
          }) : e.filterValueGetter = function(d) {
            return a(d.column, d.node, i.valueService.getValue(d.column, d.node));
          };
          break;
        }
      }
    }, t.prototype.getDefaultDataTypes = function() {
      var e = function(n) {
        return !!n.match("^\\d{4}-\\d{2}-\\d{2}$");
      }, r = this.localeService.getLocaleTextFunc();
      return {
        number: {
          baseDataType: "number",
          valueParser: function(n) {
            return n.newValue === "" ? null : Number(n.newValue);
          },
          valueFormatter: function(n) {
            return n.value == null ? "" : typeof n.value != "number" || isNaN(n.value) ? r("invalidNumber", "Invalid Number") : String(n.value);
          },
          dataTypeMatcher: function(n) {
            return typeof n == "number";
          }
        },
        text: {
          baseDataType: "text",
          valueParser: function(n) {
            return n.newValue === "" ? null : Bc(n.newValue);
          },
          dataTypeMatcher: function(n) {
            return typeof n == "string";
          }
        },
        boolean: {
          baseDataType: "boolean",
          valueParser: function(n) {
            return n.newValue === "" ? null : String(n.newValue).toLowerCase() === "true";
          },
          valueFormatter: function(n) {
            return n.value == null ? "" : String(n.value);
          },
          dataTypeMatcher: function(n) {
            return typeof n == "boolean";
          }
        },
        date: {
          baseDataType: "date",
          valueParser: function(n) {
            return zn(n.newValue == null ? null : String(n.newValue));
          },
          valueFormatter: function(n) {
            var i;
            return n.value == null ? "" : !(n.value instanceof Date) || isNaN(n.value.getTime()) ? r("invalidDate", "Invalid Date") : (i = wn(n.value, !1)) !== null && i !== void 0 ? i : "";
          },
          dataTypeMatcher: function(n) {
            return n instanceof Date;
          }
        },
        dateString: {
          baseDataType: "dateString",
          dateParser: function(n) {
            var i;
            return (i = zn(n)) !== null && i !== void 0 ? i : void 0;
          },
          dateFormatter: function(n) {
            var i;
            return (i = wn(n != null ? n : null, !1)) !== null && i !== void 0 ? i : void 0;
          },
          valueParser: function(n) {
            return e(String(n.newValue)) ? n.newValue : null;
          },
          valueFormatter: function(n) {
            return e(String(n.value)) ? n.value : "";
          },
          dataTypeMatcher: function(n) {
            return typeof n == "string" && e(n);
          }
        },
        object: {
          baseDataType: "object",
          valueParser: function() {
            return null;
          },
          valueFormatter: function(n) {
            var i;
            return (i = Bc(n.value)) !== null && i !== void 0 ? i : "";
          }
        }
      };
    }, ya([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), ya([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ya([
      w("columnUtils")
    ], t.prototype, "columnUtils", void 0), ya([
      w("valueService")
    ], t.prototype, "valueService", void 0), ya([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), ya([
      V
    ], t.prototype, "init", null), t = ya([
      q("dataTypeService")
    ], t), t;
  }(W)
), GV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), AS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kV = (
  /** @class */
  function(o) {
    GV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.parseValue = function(e, r, n, i) {
      var a = e.getColDef(), s = {
        node: r,
        data: r == null ? void 0 : r.data,
        oldValue: i,
        newValue: n,
        colDef: a,
        column: e,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      }, l = a.valueParser;
      return z(l) ? typeof l == "function" ? l(s) : this.expressionService.evaluate(l, s) : n;
    }, AS([
      w("expressionService")
    ], t.prototype, "expressionService", void 0), t = AS([
      q("valueParserService")
    ], t), t;
  }(W)
), MS = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, IS = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, UE = (
  /** @class */
  function() {
    function o(t, e, r) {
      if (!e) {
        console.error("AG Grid: no gridOptions provided to the grid");
        return;
      }
      this.gridOptions = e, new BV().create(t, e, function(n) {
        var i = new g1(t);
        n.createBean(i);
      }, void 0, r);
    }
    return o.prototype.destroy = function() {
      this.gridOptions && this.gridOptions.api && this.gridOptions.api.destroy();
    }, o;
  }()
), VV = 1, BV = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.create = function(t, e, r, n, i) {
      var a = this, s, l = !!e.debug, u = (s = e.gridId) !== null && s !== void 0 ? s : String(VV++), c = this.getRegisteredModules(i, u), d = this.createBeansList(e.rowModelType, c, u), p = this.createProvidedBeans(t, e, i);
      if (d) {
        var h = {
          providedBeanInstances: p,
          beanClasses: d,
          debug: l,
          gridId: u
        }, f = new hy("AG Grid", function() {
          return e.debug;
        }), v = new hy("Context", function() {
          return h.debug;
        }), g = new EA(h, v), y = g.getBean("beans");
        this.registerModuleUserComponents(y, c), this.registerStackComponents(y, c), this.registerControllers(y, c), r(g), y.ctrlsService.whenReady(function() {
          a.setColumnsAndData(y), a.dispatchGridReadyEvent(y);
          var m = de.__isRegistered(Z.EnterpriseCoreModule, u);
          f.log("initialised successfully, enterprise = " + m);
        }), n && n(g);
      }
    }, o.prototype.registerControllers = function(t, e) {
      e.forEach(function(r) {
        r.controllers && r.controllers.forEach(function(n) {
          return t.ctrlsFactory.register(n);
        });
      });
    }, o.prototype.registerStackComponents = function(t, e) {
      var r = this.createAgStackComponentsList(e);
      t.agStackComponentsRegistry.setupComponents(r);
    }, o.prototype.getRegisteredModules = function(t, e) {
      var r = t ? t.modules : null, n = de.__getRegisteredModules(e), i = [], a = {}, s = function(l, u, c) {
        var d = function(p) {
          a[p.moduleName] || (a[p.moduleName] = !0, i.push(p), de.__register(p, l, c));
        };
        d(u), u.dependantModules && u.dependantModules.forEach(function(p) {
          return s(l, p, c);
        });
      };
      return r && r.forEach(function(l) {
        return s(!0, l, e);
      }), n && n.forEach(function(l) {
        return s(!de.__isPackageBased(), l, void 0);
      }), i;
    }, o.prototype.registerModuleUserComponents = function(t, e) {
      var r = this.extractModuleEntity(e, function(n) {
        return n.userComponents ? n.userComponents : [];
      });
      r.forEach(function(n) {
        t.userComponentRegistry.registerDefaultComponent(n.componentName, n.componentClass);
      });
    }, o.prototype.createProvidedBeans = function(t, e, r) {
      var n = r ? r.frameworkOverrides : null;
      me(n) && (n = new WE());
      var i = {
        gridOptions: e,
        eGridDiv: t,
        globalEventListener: r ? r.globalEventListener : null,
        frameworkOverrides: n
      };
      return r && r.providedBeanInstances && Object.assign(i, r.providedBeanInstances), i;
    }, o.prototype.createAgStackComponentsList = function(t) {
      var e = [
        { componentName: "AgCheckbox", componentClass: On },
        { componentName: "AgRadioButton", componentClass: Nm },
        { componentName: "AgToggleButton", componentClass: zm },
        { componentName: "AgInputTextField", componentClass: oa },
        { componentName: "AgInputTextArea", componentClass: mk },
        { componentName: "AgInputNumberField", componentClass: km },
        { componentName: "AgInputDateField", componentClass: Sk },
        { componentName: "AgInputRange", componentClass: _k },
        { componentName: "AgSelect", componentClass: nu },
        { componentName: "AgSlider", componentClass: ci },
        { componentName: "AgGridBody", componentClass: wN },
        { componentName: "AgHeaderRoot", componentClass: LG },
        { componentName: "AgSortIndicator", componentClass: Vm },
        { componentName: "AgPagination", componentClass: Y1 },
        { componentName: "AgOverlayWrapper", componentClass: q1 },
        { componentName: "AgGroupComponent", componentClass: Ci },
        { componentName: "AgPanel", componentClass: Km },
        { componentName: "AgDialog", componentClass: gh },
        { componentName: "AgRowContainer", componentClass: GN },
        { componentName: "AgFakeHorizontalScroll", componentClass: _V },
        { componentName: "AgFakeVerticalScroll", componentClass: FV }
      ], r = this.extractModuleEntity(t, function(n) {
        return n.agStackComponents ? n.agStackComponents : [];
      });
      return e = e.concat(r), e;
    }, o.prototype.createBeansList = function(t, e, r) {
      t === void 0 && (t = "clientSide");
      var n = e.filter(function(u) {
        return !u.rowModel || u.rowModel === t;
      }), i = {
        clientSide: Z.ClientSideRowModelModule,
        infinite: Z.InfiniteRowModelModule,
        serverSide: Z.ServerSideRowModelModule,
        viewport: Z.ViewportRowModelModule
      };
      if (!i[t]) {
        console.error("AG Grid: could not find row model for rowModelType = " + t);
        return;
      }
      if (de.__assertRegistered(i[t], "rowModelType = '" + t + "'", r)) {
        var a = [
          kE,
          Q1,
          tV,
          lV,
          O1,
          rL,
          NF,
          M1,
          F1,
          $G,
          JF,
          $1,
          GG,
          AV,
          JA,
          lk,
          tL,
          cM,
          Di,
          RV,
          Bk,
          e1,
          iL,
          iM,
          PG,
          hk,
          nk,
          a1,
          VA,
          u1,
          qk,
          TN,
          T1,
          n1,
          p1,
          sM,
          YG,
          VG,
          Ze,
          t1,
          Gl,
          ON,
          H1,
          Kk,
          ak,
          vk,
          bN,
          m1,
          w1,
          b1,
          z1,
          jA,
          P1,
          zG,
          aV,
          hM,
          cV,
          dV,
          jE,
          hV,
          gV,
          EV,
          xV,
          CV,
          NV,
          kV
        ], s = this.extractModuleEntity(n, function(u) {
          return u.beans ? u.beans : [];
        });
        a.push.apply(a, IS([], MS(s)));
        var l = [];
        return a.forEach(function(u) {
          l.indexOf(u) < 0 && l.push(u);
        }), l;
      }
    }, o.prototype.extractModuleEntity = function(t, e) {
      return [].concat.apply([], IS([], MS(t.map(e))));
    }, o.prototype.setColumnsAndData = function(t) {
      var e = t.gridOptionsService.get("columnDefs");
      t.columnModel.setColumnDefs(e || [], "gridInitializing"), t.rowModel.start();
    }, o.prototype.dispatchGridReadyEvent = function(t) {
      var e = {
        type: R.EVENT_GRID_READY
      };
      t.eventService.dispatchEvent(e);
    }, o;
  }()
), HV = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.wrap = function(t, e, r, n) {
      var i = this;
      r === void 0 && (r = []);
      var a = this.createWrapper(t, n);
      return e.forEach(function(s) {
        i.createMethod(a, s, !0);
      }), r.forEach(function(s) {
        i.createMethod(a, s, !1);
      }), a;
    }, o.prototype.unwrap = function(t) {
      return t;
    }, o.prototype.createMethod = function(t, e, r) {
      t.addMethod(e, this.createMethodProxy(t, e, r));
    }, o.prototype.createMethodProxy = function(t, e, r) {
      return function() {
        return t.hasMethod(e) ? t.callMethod(e, arguments) : (r && console.warn("AG Grid: Framework component is missing the method " + e + "()"), null);
      };
    }, o;
  }()
), jV = {
  columnGroup: [
    "column",
    "stackedColumn",
    "normalizedColumn"
  ],
  barGroup: [
    "bar",
    "stackedBar",
    "normalizedBar"
  ],
  pieGroup: [
    "pie",
    "doughnut"
  ],
  lineGroup: [
    "line"
  ],
  scatterGroup: [
    "scatter",
    "bubble"
  ],
  areaGroup: [
    "area",
    "stackedArea",
    "normalizedArea"
  ],
  histogramGroup: [
    "histogram"
  ],
  combinationGroup: [
    "columnLineCombo",
    "areaColumnCombo",
    "customCombo"
  ]
}, Hv = [
  "chartSettings",
  "chartData",
  "chartFormat"
], FS = [
  "chartUnlink",
  "chartLink",
  "chartDownload"
], Up = {
  settings: "chartSettings",
  data: "chartData",
  format: "chartFormat"
}, LS;
(function(o) {
  o.InsideBase = "insideBase", o.InsideEnd = "insideEnd", o.Center = "center", o.OutsideEnd = "outsideEnd";
})(LS || (LS = {}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.0.6
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var ou = typeof global == "undefined" ? {} : global;
ou.HTMLElement = typeof HTMLElement == "undefined" ? {} : HTMLElement;
ou.HTMLButtonElement = typeof HTMLButtonElement == "undefined" ? {} : HTMLButtonElement;
ou.HTMLSelectElement = typeof HTMLSelectElement == "undefined" ? {} : HTMLSelectElement;
ou.HTMLInputElement = typeof HTMLInputElement == "undefined" ? {} : HTMLInputElement;
ou.Node = typeof Node == "undefined" ? {} : Node;
ou.MouseEvent = typeof MouseEvent == "undefined" ? {} : MouseEvent;
var Gu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, ku = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, WV = (
  /** @class */
  function() {
    function o(t, e, r, n, i, a) {
      this.nextId = 0, this.allNodesMap = {}, this.rootNode = t, this.gridOptionsService = e, this.eventService = r, this.columnModel = n, this.beans = a, this.selectionService = i, this.rootNode.group = !0, this.rootNode.level = -1, this.rootNode.id = o.ROOT_NODE_ID, this.rootNode.allLeafChildren = [], this.rootNode.childrenAfterGroup = [], this.rootNode.childrenAfterSort = [], this.rootNode.childrenAfterAggFilter = [], this.rootNode.childrenAfterFilter = [], this.postConstruct();
    }
    return o.prototype.postConstruct = function() {
      this.suppressParentsInRowNodes = this.gridOptionsService.is("suppressParentsInRowNodes"), this.isRowMasterFunc = this.gridOptionsService.get("isRowMaster"), this.doingTreeData = this.gridOptionsService.isTreeData(), this.doingMasterDetail = this.gridOptionsService.isMasterDetail();
    }, o.prototype.getCopyOfNodesMap = function() {
      return T.cloneObject(this.allNodesMap);
    }, o.prototype.getRowNode = function(t) {
      return this.allNodesMap[t];
    }, o.prototype.setRowData = function(t) {
      var e = this;
      if (typeof t == "string") {
        console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");
        return;
      }
      this.dispatchRowDataUpdateStartedEvent(t);
      var r = this.rootNode, n = this.rootNode.sibling;
      r.childrenAfterFilter = null, r.childrenAfterGroup = null, r.childrenAfterAggFilter = null, r.childrenAfterSort = null, r.childrenMapped = null, r.updateHasChildren(), this.nextId = 0, this.allNodesMap = {}, t ? r.allLeafChildren = t.map(function(i) {
        return e.createNode(i, e.rootNode, o.TOP_LEVEL);
      }) : (r.allLeafChildren = [], r.childrenAfterGroup = []), n && (n.childrenAfterFilter = r.childrenAfterFilter, n.childrenAfterGroup = r.childrenAfterGroup, n.childrenAfterAggFilter = r.childrenAfterAggFilter, n.childrenAfterSort = r.childrenAfterSort, n.childrenMapped = r.childrenMapped, n.allLeafChildren = r.allLeafChildren);
    }, o.prototype.updateRowData = function(t, e) {
      this.dispatchRowDataUpdateStartedEvent(t.add);
      var r = {
        remove: [],
        update: [],
        add: []
      }, n = [];
      return this.executeRemove(t, r, n), this.executeUpdate(t, r, n), this.executeAdd(t, r), this.updateSelection(n, "rowDataChanged"), e && T.sortRowNodesByOrder(this.rootNode.allLeafChildren, e), r;
    }, o.prototype.dispatchRowDataUpdateStartedEvent = function(t) {
      var e = {
        type: R.EVENT_ROW_DATA_UPDATE_STARTED,
        firstRowData: t != null && t.length ? t[0] : null
      };
      this.eventService.dispatchEvent(e);
    }, o.prototype.updateSelection = function(t, e) {
      var r = t.length > 0;
      if (r && this.selectionService.setNodesSelected({
        newValue: !1,
        nodes: t,
        suppressFinishActions: !0,
        source: e
      }), this.selectionService.updateGroupsFromChildrenSelections(e), r) {
        var n = {
          type: R.EVENT_SELECTION_CHANGED,
          source: e
        };
        this.eventService.dispatchEvent(n);
      }
    }, o.prototype.executeAdd = function(t, e) {
      var r = this, n, i = t.add, a = t.addIndex;
      if (!T.missingOrEmpty(i)) {
        var s = i.map(function(f) {
          return r.createNode(f, r.rootNode, o.TOP_LEVEL);
        });
        if (typeof a == "number" && a >= 0) {
          var l = this.rootNode.allLeafChildren, u = l.length, c = a;
          if (this.doingTreeData && a > 0 && u > 0) {
            for (var d = 0; d < u; d++)
              if (((n = l[d]) === null || n === void 0 ? void 0 : n.rowIndex) == a - 1) {
                c = d + 1;
                break;
              }
          }
          var p = l.slice(0, c), h = l.slice(c, l.length);
          this.rootNode.allLeafChildren = ku(ku(ku([], Gu(p)), Gu(s)), Gu(h));
        } else
          this.rootNode.allLeafChildren = ku(ku([], Gu(this.rootNode.allLeafChildren)), Gu(s));
        this.rootNode.sibling && (this.rootNode.sibling.allLeafChildren = this.rootNode.allLeafChildren), e.add = s;
      }
    }, o.prototype.executeRemove = function(t, e, r) {
      var n = this, i = t.remove;
      if (!T.missingOrEmpty(i)) {
        var a = {};
        i.forEach(function(s) {
          var l = n.lookupRowNode(s);
          l && (l.isSelected() && r.push(l), l.clearRowTopAndRowIndex(), a[l.id] = !0, delete n.allNodesMap[l.id], e.remove.push(l));
        }), this.rootNode.allLeafChildren = this.rootNode.allLeafChildren.filter(function(s) {
          return !a[s.id];
        }), this.rootNode.sibling && (this.rootNode.sibling.allLeafChildren = this.rootNode.allLeafChildren);
      }
    }, o.prototype.executeUpdate = function(t, e, r) {
      var n = this, i = t.update;
      T.missingOrEmpty(i) || i.forEach(function(a) {
        var s = n.lookupRowNode(a);
        s && (s.updateData(a), !s.selectable && s.isSelected() && r.push(s), n.setMasterForRow(s, a, o.TOP_LEVEL, !1), e.update.push(s));
      });
    }, o.prototype.lookupRowNode = function(t) {
      var e = this.gridOptionsService.getCallback("getRowId"), r;
      if (e) {
        var n = e({ data: t, level: 0 });
        if (r = this.allNodesMap[n], !r)
          return console.error("AG Grid: could not find row id=" + n + ", data item was not found for this id"), null;
      } else if (r = this.rootNode.allLeafChildren.find(function(i) {
        return i.data === t;
      }), !r)
        return console.error("AG Grid: could not find data item as object was not found", t), console.error("Consider using getRowId to help the Grid find matching row data"), null;
      return r || null;
    }, o.prototype.createNode = function(t, e, r) {
      var n = new Te(this.beans);
      return n.group = !1, this.setMasterForRow(n, t, r, !0), e && !this.suppressParentsInRowNodes && (n.parent = e), n.level = r, n.setDataAndId(t, this.nextId.toString()), this.allNodesMap[n.id] && console.warn("AG Grid: duplicate node id '" + n.id + "' detected from getRowId callback, this could cause issues in your grid."), this.allNodesMap[n.id] = n, this.nextId++, n;
    }, o.prototype.setMasterForRow = function(t, e, r, n) {
      if (this.doingTreeData)
        t.setMaster(!1), n && (t.expanded = !1);
      else if (this.doingMasterDetail ? this.isRowMasterFunc ? t.setMaster(this.isRowMasterFunc(e)) : t.setMaster(!0) : t.setMaster(!1), n) {
        var i = this.columnModel.getRowGroupColumns(), a = i ? i.length : 0, s = r + a;
        t.expanded = t.master ? this.isExpanded(s) : !1;
      }
    }, o.prototype.isExpanded = function(t) {
      var e = this.gridOptionsService.getNum("groupDefaultExpanded");
      return e === -1 ? !0 : t < e;
    }, o.TOP_LEVEL = 0, o.ROOT_NODE_ID = "ROOT_NODE_ID", o;
  }()
), $V = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Dr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Vu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Bu = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, ui;
(function(o) {
  o[o.Normal = 0] = "Normal", o[o.AfterFilter = 1] = "AfterFilter", o[o.AfterFilterAndSort = 2] = "AfterFilterAndSort", o[o.PivotNodes = 3] = "PivotNodes";
})(ui || (ui = {}));
var UV = (
  /** @class */
  function(o) {
    $V(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.onRowHeightChanged_debounced = T.debounce(e.onRowHeightChanged.bind(e), 100), e.rowsToDisplay = [], e;
    }
    return t.prototype.init = function() {
      var e = this.refreshModel.bind(this, { step: Xe.EVERYTHING }), r = !this.gridOptionsService.is("suppressAnimationFrame"), n = this.refreshModel.bind(this, {
        step: Xe.EVERYTHING,
        afterColumnsChanged: !0,
        keepRenderedRows: !0,
        animate: r
      });
      this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, n), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, this.onValueChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, this.refreshModel.bind(this, { step: Xe.PIVOT })), this.addManagedListener(this.eventService, R.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, this.onSortChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_GRID_STYLES_CHANGED, this.onGridStylesChanges.bind(this));
      var i = this.refreshModel.bind(this, {
        step: Xe.MAP,
        keepRenderedRows: !0,
        animate: r
      });
      this.addManagedPropertyListener("groupRemoveSingleChildren", i), this.addManagedPropertyListener("groupRemoveLowestSingleChildren", i), this.rootNode = new Te(this.beans), this.nodeManager = new WV(this.rootNode, this.gridOptionsService, this.eventService, this.columnModel, this.selectionService, this.beans);
    }, t.prototype.start = function() {
      var e = this.gridOptionsService.get("rowData");
      e && this.setRowData(e);
    }, t.prototype.ensureRowHeightsValid = function(e, r, n, i) {
      var a, s = !1;
      do {
        a = !1;
        for (var l = this.getRowIndexAtPixel(e), u = this.getRowIndexAtPixel(r), c = Math.max(l, n), d = Math.min(u, i), p = c; p <= d; p++) {
          var h = this.getRow(p);
          if (h.rowHeightEstimated) {
            var f = this.gridOptionsService.getRowHeightForNode(h);
            h.setRowHeight(f.height), a = !0, s = !0;
          }
        }
        a && this.setRowTopAndRowIndex();
      } while (a);
      return s;
    }, t.prototype.setRowTopAndRowIndex = function() {
      for (var e = this.environment.getDefaultRowHeight(), r = 0, n = /* @__PURE__ */ new Set(), i = this.gridOptionsService.isDomLayout("normal"), a = 0; a < this.rowsToDisplay.length; a++) {
        var s = this.rowsToDisplay[a];
        if (s.id != null && n.add(s.id), s.rowHeight == null) {
          var l = this.gridOptionsService.getRowHeightForNode(s, i, e);
          s.setRowHeight(l.height, l.estimated);
        }
        s.setRowTop(r), s.setRowIndex(a), r += s.rowHeight;
      }
      return n;
    }, t.prototype.clearRowTopAndRowIndex = function(e, r) {
      var n = e.isActive(), i = function(s) {
        s && s.id != null && !r.has(s.id) && s.clearRowTopAndRowIndex();
      }, a = function(s) {
        if (i(s), i(s.detailNode), i(s.sibling), s.hasChildren() && s.childrenAfterGroup) {
          var l = s.level == -1, u = n && !l && !s.expanded;
          u || s.childrenAfterGroup.forEach(a);
        }
      };
      a(this.rootNode);
    }, t.prototype.ensureRowsAtPixel = function(e, r, n) {
      var i = this;
      n === void 0 && (n = 0);
      var a = this.getRowIndexAtPixel(r), s = this.getRow(a), l = !this.gridOptionsService.is("suppressAnimationFrame");
      return s === e[0] ? !1 : (e.forEach(function(u) {
        T.removeFromArray(i.rootNode.allLeafChildren, u);
      }), e.forEach(function(u, c) {
        T.insertIntoArray(i.rootNode.allLeafChildren, u, Math.max(a + n, 0) + c);
      }), this.refreshModel({
        step: Xe.EVERYTHING,
        keepRenderedRows: !0,
        keepEditingRows: !0,
        animate: l
      }), !0);
    }, t.prototype.highlightRowAtPixel = function(e, r) {
      var n = r != null ? this.getRowIndexAtPixel(r) : null, i = n != null ? this.getRow(n) : null;
      if (!i || !e || i === e || r == null) {
        this.lastHighlightedRow && (this.lastHighlightedRow.setHighlighted(null), this.lastHighlightedRow = null);
        return;
      }
      var a = this.getHighlightPosition(r, i);
      this.lastHighlightedRow && this.lastHighlightedRow !== i && (this.lastHighlightedRow.setHighlighted(null), this.lastHighlightedRow = null), i.setHighlighted(a), this.lastHighlightedRow = i;
    }, t.prototype.getHighlightPosition = function(e, r) {
      if (!r) {
        var n = this.getRowIndexAtPixel(e);
        if (r = this.getRow(n || 0), !r)
          return ro.Below;
      }
      var i = r.rowTop, a = r.rowHeight;
      return e - i < a / 2 ? ro.Above : ro.Below;
    }, t.prototype.getLastHighlightedRowNode = function() {
      return this.lastHighlightedRow;
    }, t.prototype.isLastRowIndexKnown = function() {
      return !0;
    }, t.prototype.getRowCount = function() {
      return this.rowsToDisplay ? this.rowsToDisplay.length : 0;
    }, t.prototype.getTopLevelRowCount = function() {
      var e = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;
      if (e)
        return 1;
      var r = this.rootNode.childrenAfterAggFilter;
      return r ? r.length : 0;
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      var r = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;
      if (r)
        return e;
      var n = this.rootNode.childrenAfterSort[e];
      if (this.gridOptionsService.is("groupHideOpenParents"))
        for (; n.expanded && n.childrenAfterSort && n.childrenAfterSort.length > 0; )
          n = n.childrenAfterSort[0];
      return n.rowIndex;
    }, t.prototype.getRowBounds = function(e) {
      if (T.missing(this.rowsToDisplay))
        return null;
      var r = this.rowsToDisplay[e];
      return r ? {
        rowTop: r.rowTop,
        rowHeight: r.rowHeight
      } : null;
    }, t.prototype.onRowGroupOpened = function() {
      var e = this.gridOptionsService.isAnimateRows();
      this.refreshModel({ step: Xe.MAP, keepRenderedRows: !0, animate: e });
    }, t.prototype.onFilterChanged = function(e) {
      if (!e.afterDataChange) {
        var r = this.gridOptionsService.isAnimateRows(), n = e.columns.length === 0 || e.columns.some(function(a) {
          return a.isPrimary();
        }), i = n ? Xe.FILTER : Xe.FILTER_AGGREGATES;
        this.refreshModel({ step: i, keepRenderedRows: !0, animate: r });
      }
    }, t.prototype.onSortChanged = function() {
      var e = this.gridOptionsService.isAnimateRows();
      this.refreshModel({ step: Xe.SORT, keepRenderedRows: !0, animate: e, keepEditingRows: !0 });
    }, t.prototype.getType = function() {
      return "clientSide";
    }, t.prototype.onValueChanged = function() {
      this.columnModel.isPivotActive() ? this.refreshModel({ step: Xe.PIVOT }) : this.refreshModel({ step: Xe.AGGREGATE });
    }, t.prototype.createChangePath = function(e) {
      var r = T.missingOrEmpty(e), n = new Of(!1, this.rootNode);
      return (r || this.gridOptionsService.isTreeData()) && n.setInactive(), n;
    }, t.prototype.isSuppressModelUpdateAfterUpdateTransaction = function(e) {
      if (!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction") || e.rowNodeTransactions == null)
        return !1;
      var r = e.rowNodeTransactions.filter(function(i) {
        return i.add != null && i.add.length > 0 || i.remove != null && i.remove.length > 0;
      }), n = r == null || r.length == 0;
      return n;
    }, t.prototype.buildRefreshModelParams = function(e) {
      var r = Xe.EVERYTHING, n = {
        everything: Xe.EVERYTHING,
        group: Xe.EVERYTHING,
        filter: Xe.FILTER,
        map: Xe.MAP,
        aggregate: Xe.AGGREGATE,
        sort: Xe.SORT,
        pivot: Xe.PIVOT
      };
      if (T.exists(e) && (r = n[e]), T.missing(r)) {
        console.error("AG Grid: invalid step " + e + ", available steps are " + Object.keys(n).join(", "));
        return;
      }
      var i = !this.gridOptionsService.is("suppressAnimationFrame"), a = {
        step: r,
        keepRenderedRows: !0,
        keepEditingRows: !0,
        animate: i
      };
      return a;
    }, t.prototype.refreshModel = function(e) {
      var r = typeof e == "object" && "step" in e ? e : this.buildRefreshModelParams(e);
      if (r && !this.isSuppressModelUpdateAfterUpdateTransaction(r)) {
        var n = this.createChangePath(r.rowNodeTransactions);
        switch (r.step) {
          case Xe.EVERYTHING:
            this.doRowGrouping(r.groupState, r.rowNodeTransactions, r.rowNodeOrder, n, !!r.afterColumnsChanged);
          case Xe.FILTER:
            this.doFilter(n);
          case Xe.PIVOT:
            this.doPivot(n);
          case Xe.AGGREGATE:
            this.doAggregate(n);
          case Xe.FILTER_AGGREGATES:
            this.doFilterAggregates(n);
          case Xe.SORT:
            this.doSort(r.rowNodeTransactions, n);
          case Xe.MAP:
            this.doRowsToDisplay();
        }
        var i = this.setRowTopAndRowIndex();
        this.clearRowTopAndRowIndex(n, i);
        var a = {
          type: R.EVENT_MODEL_UPDATED,
          animate: r.animate,
          keepRenderedRows: r.keepRenderedRows,
          newData: r.newData,
          newPage: !1,
          keepUndoRedoStack: r.keepUndoRedoStack
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.isEmpty = function() {
      var e = T.missing(this.rootNode.allLeafChildren) || this.rootNode.allLeafChildren.length === 0;
      return T.missing(this.rootNode) || e || !this.columnModel.isReady();
    }, t.prototype.isRowsToRender = function() {
      return T.exists(this.rowsToDisplay) && this.rowsToDisplay.length > 0;
    }, t.prototype.getNodesInRangeForSelection = function(e, r) {
      var n = !r, i = !1, a = [], s = this.gridOptionsService.is("groupSelectsChildren");
      return this.forEachNodeAfterFilterAndSort(function(l) {
        if (!i) {
          if (n && (l === r || l === e) && (i = !0, l.group && s)) {
            a.push.apply(a, Bu([], Vu(l.allLeafChildren)));
            return;
          }
          if (!n) {
            if (l !== r && l !== e)
              return;
            n = !0;
          }
          var u = !l.group || !s;
          if (u) {
            a.push(l);
            return;
          }
        }
      }), a;
    }, t.prototype.setDatasource = function(e) {
      console.error("AG Grid: should never call setDatasource on clientSideRowController");
    }, t.prototype.getTopLevelNodes = function() {
      return this.rootNode ? this.rootNode.childrenAfterGroup : null;
    }, t.prototype.getRootNode = function() {
      return this.rootNode;
    }, t.prototype.getRow = function(e) {
      return this.rowsToDisplay[e];
    }, t.prototype.isRowPresent = function(e) {
      return this.rowsToDisplay.indexOf(e) >= 0;
    }, t.prototype.getRowIndexAtPixel = function(e) {
      if (this.isEmpty() || this.rowsToDisplay.length === 0)
        return -1;
      var r = 0, n = this.rowsToDisplay.length - 1;
      if (e <= 0)
        return 0;
      var i = T.last(this.rowsToDisplay);
      if (i.rowTop <= e)
        return this.rowsToDisplay.length - 1;
      for (var a = -1, s = -1; ; ) {
        var l = Math.floor((r + n) / 2), u = this.rowsToDisplay[l];
        if (this.isRowInPixel(u, e))
          return l;
        u.rowTop < e ? r = l + 1 : u.rowTop > e && (n = l - 1);
        var c = a === r && s === n;
        if (c)
          return l;
        a = r, s = n;
      }
    }, t.prototype.isRowInPixel = function(e, r) {
      var n = e.rowTop, i = e.rowTop + e.rowHeight, a = n <= r && i > r;
      return a;
    }, t.prototype.forEachLeafNode = function(e) {
      this.rootNode.allLeafChildren && this.rootNode.allLeafChildren.forEach(function(r, n) {
        return e(r, n);
      });
    }, t.prototype.forEachNode = function(e, r) {
      r === void 0 && (r = !1), this.recursivelyWalkNodesAndCallback({
        nodes: Bu([], Vu(this.rootNode.childrenAfterGroup || [])),
        callback: e,
        recursionType: ui.Normal,
        index: 0,
        includeFooterNodes: r
      });
    }, t.prototype.forEachNodeAfterFilter = function(e, r) {
      r === void 0 && (r = !1), this.recursivelyWalkNodesAndCallback({
        nodes: Bu([], Vu(this.rootNode.childrenAfterAggFilter || [])),
        callback: e,
        recursionType: ui.AfterFilter,
        index: 0,
        includeFooterNodes: r
      });
    }, t.prototype.forEachNodeAfterFilterAndSort = function(e, r) {
      r === void 0 && (r = !1), this.recursivelyWalkNodesAndCallback({
        nodes: Bu([], Vu(this.rootNode.childrenAfterSort || [])),
        callback: e,
        recursionType: ui.AfterFilterAndSort,
        index: 0,
        includeFooterNodes: r
      });
    }, t.prototype.forEachPivotNode = function(e, r) {
      r === void 0 && (r = !1), this.recursivelyWalkNodesAndCallback({
        nodes: [this.rootNode],
        callback: e,
        recursionType: ui.PivotNodes,
        index: 0,
        includeFooterNodes: r
      });
    }, t.prototype.recursivelyWalkNodesAndCallback = function(e) {
      var r, n = e.nodes, i = e.callback, a = e.recursionType, s = e.includeFooterNodes, l = e.index, u = n[0];
      s && (!((r = u == null ? void 0 : u.parent) === null || r === void 0) && r.sibling) && n.push(u.parent.sibling);
      for (var c = 0; c < n.length; c++) {
        var d = n[c];
        if (i(d, l++), d.hasChildren() && !d.footer) {
          var p = null;
          switch (a) {
            case ui.Normal:
              p = d.childrenAfterGroup;
              break;
            case ui.AfterFilter:
              p = d.childrenAfterAggFilter;
              break;
            case ui.AfterFilterAndSort:
              p = d.childrenAfterSort;
              break;
            case ui.PivotNodes:
              p = d.leafGroup ? null : d.childrenAfterSort;
              break;
          }
          p && (l = this.recursivelyWalkNodesAndCallback({
            nodes: Bu([], Vu(p)),
            callback: i,
            recursionType: a,
            index: l,
            includeFooterNodes: s
          }));
        }
      }
      return l;
    }, t.prototype.doAggregate = function(e) {
      this.aggregationStage && this.aggregationStage.execute({ rowNode: this.rootNode, changedPath: e });
    }, t.prototype.doFilterAggregates = function(e) {
      this.filterAggregatesStage ? this.filterAggregatesStage.execute({ rowNode: this.rootNode, changedPath: e }) : this.rootNode.childrenAfterAggFilter = this.rootNode.childrenAfterFilter;
    }, t.prototype.expandOrCollapseAll = function(e) {
      var r = this.gridOptionsService.isTreeData(), n = this.columnModel.isPivotActive(), i = function(l) {
        l && l.forEach(function(u) {
          var c = function() {
            u.expanded = e, i(u.childrenAfterGroup);
          };
          if (r) {
            var d = T.exists(u.childrenAfterGroup);
            d && c();
            return;
          }
          if (n) {
            var p = !u.leafGroup;
            p && c();
            return;
          }
          var h = u.group;
          h && c();
        });
      };
      this.rootNode && i(this.rootNode.childrenAfterGroup), this.refreshModel({ step: Xe.MAP });
      var a = e ? "expandAll" : "collapseAll", s = {
        type: R.EVENT_EXPAND_COLLAPSE_ALL,
        source: a
      };
      this.eventService.dispatchEvent(s);
    }, t.prototype.doSort = function(e, r) {
      this.sortStage.execute({
        rowNode: this.rootNode,
        rowNodeTransactions: e,
        changedPath: r
      });
    }, t.prototype.doRowGrouping = function(e, r, n, i, a) {
      if (this.groupStage) {
        if (r ? this.groupStage.execute({
          rowNode: this.rootNode,
          rowNodeTransactions: r,
          rowNodeOrder: n,
          changedPath: i
        }) : (this.groupStage.execute({
          rowNode: this.rootNode,
          changedPath: i,
          afterColumnsChanged: a
        }), this.restoreGroupState(e)), this.gridOptionsService.is("groupSelectsChildren")) {
          var s = this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged", i);
          if (s) {
            var l = {
              type: R.EVENT_SELECTION_CHANGED,
              source: "rowGroupChanged"
            };
            this.eventService.dispatchEvent(l);
          }
        }
      } else
        this.rootNode.childrenAfterGroup = this.rootNode.allLeafChildren, this.rootNode.sibling && (this.rootNode.sibling.childrenAfterGroup = this.rootNode.childrenAfterGroup), this.rootNode.updateHasChildren();
    }, t.prototype.restoreGroupState = function(e) {
      e && T.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function(r, n) {
        typeof e[n] == "boolean" && (r.expanded = e[n]);
      });
    }, t.prototype.doFilter = function(e) {
      this.filterStage.execute({ rowNode: this.rootNode, changedPath: e });
    }, t.prototype.doPivot = function(e) {
      this.pivotStage && this.pivotStage.execute({ rowNode: this.rootNode, changedPath: e });
    }, t.prototype.getGroupState = function() {
      if (!this.rootNode.childrenAfterGroup || !this.gridOptionsService.is("rememberGroupStateWhenNewData"))
        return null;
      var e = {};
      return T.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function(r, n) {
        return e[n] = r.expanded;
      }), e;
    }, t.prototype.getCopyOfNodesMap = function() {
      return this.nodeManager.getCopyOfNodesMap();
    }, t.prototype.getRowNode = function(e) {
      var r = typeof e == "string" && e.indexOf(Te.ID_PREFIX_ROW_GROUP) == 0;
      if (r) {
        var n = void 0;
        return this.forEachNode(function(i) {
          i.id === e && (n = i);
        }), n;
      }
      return this.nodeManager.getRowNode(e);
    }, t.prototype.setRowData = function(e) {
      var r = this.getGroupState();
      this.nodeManager.setRowData(e), this.selectionService.reset(), this.filterManager.onNewRowsLoaded("rowDataUpdated");
      var n = {
        type: R.EVENT_ROW_DATA_UPDATED
      };
      this.eventService.dispatchEvent(n), this.refreshModel({
        step: Xe.EVERYTHING,
        groupState: r,
        newData: !0
      });
    }, t.prototype.batchUpdateRowData = function(e, r) {
      var n = this;
      if (this.applyAsyncTransactionsTimeout == null) {
        this.rowDataTransactionBatch = [];
        var i = this.gridOptionsService.getAsyncTransactionWaitMillis();
        this.applyAsyncTransactionsTimeout = window.setTimeout(function() {
          n.executeBatchUpdateRowData();
        }, i);
      }
      this.rowDataTransactionBatch.push({ rowDataTransaction: e, callback: r });
    }, t.prototype.flushAsyncTransactions = function() {
      this.applyAsyncTransactionsTimeout != null && (clearTimeout(this.applyAsyncTransactionsTimeout), this.executeBatchUpdateRowData());
    }, t.prototype.executeBatchUpdateRowData = function() {
      var e = this;
      this.valueCache.onDataChanged();
      var r = [], n = [], i = !1;
      if (this.rowDataTransactionBatch && this.rowDataTransactionBatch.forEach(function(s) {
        var l = e.nodeManager.updateRowData(s.rowDataTransaction, void 0);
        n.push(l), s.callback && r.push(s.callback.bind(null, l)), typeof s.rowDataTransaction.addIndex == "number" && (i = !0);
      }), this.commonUpdateRowData(n, void 0, i), r.length > 0 && window.setTimeout(function() {
        r.forEach(function(s) {
          return s();
        });
      }, 0), n.length > 0) {
        var a = {
          type: R.EVENT_ASYNC_TRANSACTIONS_FLUSHED,
          results: n
        };
        this.eventService.dispatchEvent(a);
      }
      this.rowDataTransactionBatch = null, this.applyAsyncTransactionsTimeout = void 0;
    }, t.prototype.updateRowData = function(e, r) {
      this.valueCache.onDataChanged();
      var n = this.nodeManager.updateRowData(e, r), i = typeof e.addIndex == "number";
      return this.commonUpdateRowData([n], r, i), n;
    }, t.prototype.createRowNodeOrder = function() {
      var e = this.gridOptionsService.is("suppressMaintainUnsortedOrder");
      if (!e) {
        var r = {};
        if (this.rootNode && this.rootNode.allLeafChildren)
          for (var n = 0; n < this.rootNode.allLeafChildren.length; n++) {
            var i = this.rootNode.allLeafChildren[n];
            r[i.id] = n;
          }
        return r;
      }
    }, t.prototype.commonUpdateRowData = function(e, r, n) {
      var i = !this.gridOptionsService.is("suppressAnimationFrame");
      n && (r = this.createRowNodeOrder()), this.refreshModel({
        step: Xe.EVERYTHING,
        rowNodeTransactions: e,
        rowNodeOrder: r,
        keepRenderedRows: !0,
        keepEditingRows: !0,
        animate: i
      }), this.filterManager.onNewRowsLoaded("rowDataUpdated");
      var a = {
        type: R.EVENT_ROW_DATA_UPDATED
      };
      this.eventService.dispatchEvent(a);
    }, t.prototype.doRowsToDisplay = function() {
      this.rowsToDisplay = this.flattenStage.execute({ rowNode: this.rootNode });
    }, t.prototype.onRowHeightChanged = function() {
      this.refreshModel({ step: Xe.MAP, keepRenderedRows: !0, keepEditingRows: !0, keepUndoRedoStack: !0 });
    }, t.prototype.onRowHeightChangedDebounced = function() {
      this.onRowHeightChanged_debounced();
    }, t.prototype.resetRowHeights = function() {
      var e = this.resetRowHeightsForAllRowNodes();
      this.rootNode.setRowHeight(this.rootNode.rowHeight, !0), e && this.onRowHeightChanged();
    }, t.prototype.resetRowHeightsForAllRowNodes = function() {
      var e = !1;
      return this.forEachNode(function(r) {
        r.setRowHeight(r.rowHeight, !0);
        var n = r.detailNode;
        n && n.setRowHeight(n.rowHeight, !0), e = !0;
      }), e;
    }, t.prototype.onGridStylesChanges = function() {
      this.columnModel.isAutoRowHeightActive() || this.resetRowHeights();
    }, Dr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Dr([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Dr([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Dr([
      w("valueCache")
    ], t.prototype, "valueCache", void 0), Dr([
      w("beans")
    ], t.prototype, "beans", void 0), Dr([
      w("filterStage")
    ], t.prototype, "filterStage", void 0), Dr([
      w("sortStage")
    ], t.prototype, "sortStage", void 0), Dr([
      w("flattenStage")
    ], t.prototype, "flattenStage", void 0), Dr([
      Fe("groupStage")
    ], t.prototype, "groupStage", void 0), Dr([
      Fe("aggregationStage")
    ], t.prototype, "aggregationStage", void 0), Dr([
      Fe("pivotStage")
    ], t.prototype, "pivotStage", void 0), Dr([
      Fe("filterAggregatesStage")
    ], t.prototype, "filterAggregatesStage", void 0), Dr([
      V
    ], t.prototype, "init", null), t = Dr([
      q("rowModel")
    ], t), t;
  }(W)
), zV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), NS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, KV = (
  /** @class */
  function(o) {
    zV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.execute = function(e) {
      var r = e.changedPath;
      this.filterService.filter(r);
    }, NS([
      w("filterService")
    ], t.prototype, "filterService", void 0), t = NS([
      q("filterStage")
    ], t), t;
  }(W)
), YV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Kd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, XV = (
  /** @class */
  function(o) {
    YV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.execute = function(e) {
      var r = this, n = this.sortController.getSortOptions(), i = T.exists(n) && n.length > 0, a = i && T.exists(e.rowNodeTransactions) && this.gridOptionsService.is("deltaSort"), s = n.some(function(l) {
        return !!r.columnModel.getGroupDisplayColumnForGroup(l.column.getId());
      });
      this.sortService.sort(n, i, a, e.rowNodeTransactions, e.changedPath, s);
    }, Kd([
      w("sortService")
    ], t.prototype, "sortService", void 0), Kd([
      w("sortController")
    ], t.prototype, "sortController", void 0), Kd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = Kd([
      q("sortStage")
    ], t), t;
  }(W)
), qV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ZV = (
  /** @class */
  function(o) {
    qV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.execute = function(e) {
      var r = e.rowNode, n = [], i = { value: 0 }, a = this.columnModel.isPivotMode(), s = a && r.leafGroup, l = s ? [r] : r.childrenAfterSort;
      this.recursivelyAddToRowsToDisplay(l, n, i, a, 0);
      var u = n.length > 0, c = !s && u && this.gridOptionsService.is("groupIncludeTotalFooter");
      return c && (r.createFooter(), this.addRowNodeToRowsToDisplay(r.sibling, n, i, 0)), n;
    }, t.prototype.recursivelyAddToRowsToDisplay = function(e, r, n, i, a) {
      if (!T.missingOrEmpty(e))
        for (var s = this.gridOptionsService.is("groupHideOpenParents"), l = this.gridOptionsService.is("groupRemoveSingleChildren"), u = !l && this.gridOptionsService.is("groupRemoveLowestSingleChildren"), c = 0; c < e.length; c++) {
          var d = e[c], p = d.hasChildren(), h = i && !p, f = l && p && d.childrenAfterGroup.length === 1, v = u && p && d.leafGroup && d.childrenAfterGroup.length === 1, g = i && d.leafGroup, y = s && d.expanded && !d.master && !g, m = !h && !y && !f && !v;
          if (m && this.addRowNodeToRowsToDisplay(d, r, n, a), !(i && d.leafGroup)) {
            if (p) {
              var C = f || v;
              if (d.expanded || C) {
                var S = C ? a : a + 1;
                this.recursivelyAddToRowsToDisplay(d.childrenAfterSort, r, n, i, S), this.gridOptionsService.is("groupIncludeFooter") && this.addRowNodeToRowsToDisplay(d.sibling, r, n, S);
              }
            } else if (d.master && d.expanded) {
              var b = this.createDetailNode(d);
              this.addRowNodeToRowsToDisplay(b, r, n, a);
            }
          }
        }
    }, t.prototype.addRowNodeToRowsToDisplay = function(e, r, n, i) {
      var a = this.gridOptionsService.isGroupMultiAutoColumn();
      r.push(e), e.setUiLevel(a ? 0 : i);
    }, t.prototype.createDetailNode = function(e) {
      if (T.exists(e.detailNode))
        return e.detailNode;
      var r = new Te(this.beans);
      return r.detail = !0, r.selectable = !1, r.parent = e, T.exists(e.id) && (r.id = "detail_" + e.id), r.data = e.data, r.level = e.level + 1, e.detailNode = r, r;
    }, jv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), jv([
      w("beans")
    ], t.prototype, "beans", void 0), t = jv([
      q("flattenStage")
    ], t), t;
  }(W)
), QV = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, JV = (
  /** @class */
  function(o) {
    QV(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      this.postSortFunc = this.gridOptionsService.getCallback("postSortRows");
    }, t.prototype.sort = function(e, r, n, i, a, s) {
      var l = this, u = this.gridOptionsService.is("groupMaintainOrder"), c = this.columnModel.getAllGridColumns().some(function(f) {
        return f.isRowGroupActive();
      }), d = {};
      n && i && (d = this.calculateDirtyNodes(i));
      var p = this.columnModel.isPivotMode(), h = function(f) {
        l.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter, !0);
        var v = p && f.leafGroup, g = u && c && !f.leafGroup && !s;
        if (g) {
          var y = f.childrenAfterAggFilter.slice(0);
          if (f.childrenAfterSort) {
            var m = {};
            f.childrenAfterSort.forEach(function(S, b) {
              m[S.id] = b;
            }), y.sort(function(S, b) {
              var _, O;
              return ((_ = m[S.id]) !== null && _ !== void 0 ? _ : 0) - ((O = m[b.id]) !== null && O !== void 0 ? O : 0);
            });
          }
          f.childrenAfterSort = y;
        } else
          !r || v ? f.childrenAfterSort = f.childrenAfterAggFilter.slice(0) : n ? f.childrenAfterSort = l.doDeltaSort(f, d, a, e) : f.childrenAfterSort = l.rowNodeSorter.doFullSort(f.childrenAfterAggFilter, e);
        if (f.sibling && (f.sibling.childrenAfterSort = f.childrenAfterSort), l.updateChildIndexes(f), l.postSortFunc) {
          var C = { nodes: f.childrenAfterSort };
          l.postSortFunc(C);
        }
      };
      a && a.forEachChangedNodeDepthFirst(h), this.updateGroupDataForHideOpenParents(a);
    }, t.prototype.calculateDirtyNodes = function(e) {
      var r = {}, n = function(i) {
        i && i.forEach(function(a) {
          return r[a.id] = !0;
        });
      };
      return e && e.forEach(function(i) {
        n(i.add), n(i.update), n(i.remove);
      }), r;
    }, t.prototype.doDeltaSort = function(e, r, n, i) {
      var a = this, s = e.childrenAfterAggFilter, l = e.childrenAfterSort;
      if (!l)
        return this.rowNodeSorter.doFullSort(s, i);
      var u = {}, c = [];
      s.forEach(function(f) {
        r[f.id] || !n.canSkip(f) ? c.push(f) : u[f.id] = !0;
      });
      var d = l.filter(function(f) {
        return u[f.id];
      }), p = function(f, v) {
        return { currentPos: v, rowNode: f };
      }, h = c.map(p).sort(function(f, v) {
        return a.rowNodeSorter.compareRowNodes(i, f, v);
      });
      return this.mergeSortedArrays(i, h, d.map(p)).map(function(f) {
        var v = f.rowNode;
        return v;
      });
    }, t.prototype.mergeSortedArrays = function(e, r, n) {
      for (var i = [], a = 0, s = 0; a < r.length && s < n.length; ) {
        var l = this.rowNodeSorter.compareRowNodes(e, r[a], n[s]);
        l < 0 ? i.push(r[a++]) : i.push(n[s++]);
      }
      for (; a < r.length; )
        i.push(r[a++]);
      for (; s < n.length; )
        i.push(n[s++]);
      return i;
    }, t.prototype.updateChildIndexes = function(e) {
      if (!T.missing(e.childrenAfterSort))
        for (var r = e.childrenAfterSort, n = 0; n < r.length; n++) {
          var i = r[n], a = n === 0, s = n === e.childrenAfterSort.length - 1;
          i.setFirstChild(a), i.setLastChild(s), i.setChildIndex(n);
        }
    }, t.prototype.updateGroupDataForHideOpenParents = function(e) {
      var r = this;
      if (this.gridOptionsService.is("groupHideOpenParents")) {
        if (this.gridOptionsService.isTreeData()) {
          var n = "AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";
          return T.doOnce(function() {
            return console.warn(n);
          }, "sortService.hideOpenParentsWithTreeData"), !1;
        }
        var i = function(a) {
          r.pullDownGroupDataForHideOpenParents(a.childrenAfterSort, !1), a.childrenAfterSort.forEach(function(s) {
            s.hasChildren() && i(s);
          });
        };
        e && e.executeFromRootNode(function(a) {
          return i(a);
        });
      }
    }, t.prototype.pullDownGroupDataForHideOpenParents = function(e, r) {
      var n = this;
      !this.gridOptionsService.is("groupHideOpenParents") || T.missing(e) || e.forEach(function(i) {
        var a = n.columnModel.getGroupDisplayColumns();
        a.forEach(function(s) {
          var l = s.getColDef().showRowGroup;
          if (typeof l != "string") {
            console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");
            return;
          }
          var u = l, c = n.columnModel.getPrimaryColumn(u), d = c === i.rowGroupColumn;
          if (!d)
            if (r)
              i.setGroupValue(s.getId(), void 0);
            else {
              var p = i.getFirstChildOfFirstChild(c);
              p && i.setGroupValue(s.getId(), p.key);
            }
        });
      });
    }, Yd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Yd([
      w("rowNodeSorter")
    ], t.prototype, "rowNodeSorter", void 0), Yd([
      V
    ], t.prototype, "init", null), t = Yd([
      q("sortService")
    ], t), t;
  }(W)
), eB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), GS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, tB = (
  /** @class */
  function(o) {
    eB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.filter = function(e) {
      var r = this.filterManager.isColumnFilterPresent() || this.filterManager.isQuickFilterPresent() || this.filterManager.isExternalFilterPresent();
      this.filterNodes(r, e);
    }, t.prototype.filterNodes = function(e, r) {
      var n = this, i = function(u, c) {
        u.hasChildren() && e && !c ? u.childrenAfterFilter = u.childrenAfterGroup.filter(function(d) {
          var p = d.childrenAfterFilter && d.childrenAfterFilter.length > 0, h = d.data && n.filterManager.doesRowPassFilter({ rowNode: d });
          return p || h;
        }) : u.childrenAfterFilter = u.childrenAfterGroup, u.sibling && (u.sibling.childrenAfterFilter = u.childrenAfterFilter);
      };
      if (this.doingTreeDataFiltering()) {
        var a = function(u, c) {
          if (u.childrenAfterGroup)
            for (var d = 0; d < u.childrenAfterGroup.length; d++) {
              var p = u.childrenAfterGroup[d], h = c || n.filterManager.doesRowPassFilter({ rowNode: p });
              p.childrenAfterGroup ? a(u.childrenAfterGroup[d], h) : i(p, h);
            }
          i(u, c);
        }, s = function(u) {
          return a(u, !1);
        };
        r.executeFromRootNode(s);
      } else {
        var l = function(u) {
          return i(u, !1);
        };
        r.forEachChangedNodeDepthFirst(l, !0);
      }
    }, t.prototype.doingTreeDataFiltering = function() {
      return this.gridOptionsService.isTreeData() && !this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering");
    }, GS([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), t = GS([
      q("filterService")
    ], t), t;
  }(W)
), rB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Xd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nB = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, iB = (
  /** @class */
  function(o) {
    rB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.rowModel.getType() === "clientSide" && (this.clientSideRowModel = this.rowModel);
    }, t.prototype.isActive = function() {
      var e = this.gridOptionsService.exists("getRowId"), r = this.gridOptionsService.is("resetRowDataOnUpdate");
      return r ? !1 : e;
    }, t.prototype.setRowData = function(e) {
      var r = this.createTransactionForRowData(e);
      if (r) {
        var n = nB(r, 2), i = n[0], a = n[1];
        this.clientSideRowModel.updateRowData(i, a);
      }
    }, t.prototype.createTransactionForRowData = function(e) {
      if (T.missing(this.clientSideRowModel)) {
        console.error("AG Grid: ImmutableService only works with ClientSideRowModel");
        return;
      }
      var r = this.gridOptionsService.getCallback("getRowId");
      if (r == null) {
        console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");
        return;
      }
      var n = {
        remove: [],
        update: [],
        add: []
      }, i = this.clientSideRowModel.getCopyOfNodesMap(), a = this.gridOptionsService.is("suppressMaintainUnsortedOrder"), s = a ? void 0 : {};
      return T.exists(e) && e.forEach(function(l, u) {
        var c = r({ data: l, level: 0 }), d = i[c];
        if (s && (s[c] = u), d) {
          var p = d.data !== l;
          p && n.update.push(l), i[c] = void 0;
        } else
          n.add.push(l);
      }), T.iterateObject(i, function(l, u) {
        u && n.remove.push(u.data);
      }), [n, s];
    }, Xd([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Xd([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Xd([
      V
    ], t.prototype, "postConstruct", null), t = Xd([
      q("immutableService")
    ], t), t;
  }(W)
), oB = "30.0.6", aB = {
  version: oB,
  moduleName: Z.ClientSideRowModelModule,
  rowModel: "clientSide",
  beans: [UV, KV, XV, ZV, JV, tB, iB]
}, sB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Wv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, kS = (
  /** @class */
  function(o) {
    sB(t, o);
    function t(e, r, n) {
      var i = o.call(this, e) || this;
      return i.parentCache = r, i.params = n, i.startRow = e * n.blockSize, i.endRow = i.startRow + n.blockSize, i;
    }
    return t.prototype.postConstruct = function() {
      this.createRowNodes();
    }, t.prototype.getBlockStateJson = function() {
      return {
        id: "" + this.getId(),
        state: {
          blockNumber: this.getId(),
          startRow: this.getStartRow(),
          endRow: this.getEndRow(),
          pageStatus: this.getState()
        }
      };
    }, t.prototype.setDataAndId = function(e, r, n) {
      T.exists(r) ? e.setDataAndId(r, n.toString()) : e.setDataAndId(void 0, void 0);
    }, t.prototype.loadFromDatasource = function() {
      var e = this, r = this.createLoadParams();
      if (T.missing(this.params.datasource.getRows)) {
        console.warn("AG Grid: datasource is missing getRows method");
        return;
      }
      window.setTimeout(function() {
        e.params.datasource.getRows(r);
      }, 0);
    }, t.prototype.processServerFail = function() {
    }, t.prototype.createLoadParams = function() {
      var e = {
        startRow: this.getStartRow(),
        endRow: this.getEndRow(),
        successCallback: this.pageLoaded.bind(this, this.getVersion()),
        failCallback: this.pageLoadFailed.bind(this, this.getVersion()),
        sortModel: this.params.sortModel,
        filterModel: this.params.filterModel,
        context: this.gridOptionsService.context
      };
      return e;
    }, t.prototype.forEachNode = function(e, r, n) {
      var i = this;
      this.rowNodes.forEach(function(a, s) {
        var l = i.startRow + s;
        l < n && e(a, r.next());
      });
    }, t.prototype.getLastAccessed = function() {
      return this.lastAccessed;
    }, t.prototype.getRow = function(e, r) {
      r === void 0 && (r = !1), r || (this.lastAccessed = this.params.lastAccessedSequence.next());
      var n = e - this.startRow;
      return this.rowNodes[n];
    }, t.prototype.getStartRow = function() {
      return this.startRow;
    }, t.prototype.getEndRow = function() {
      return this.endRow;
    }, t.prototype.createRowNodes = function() {
      this.rowNodes = [];
      for (var e = 0; e < this.params.blockSize; e++) {
        var r = this.startRow + e, n = new Te(this.beans);
        n.setRowHeight(this.params.rowHeight), n.uiLevel = 0, n.setRowIndex(r), n.setRowTop(this.params.rowHeight * r), this.rowNodes.push(n);
      }
    }, t.prototype.processServerResult = function(e) {
      var r = this;
      this.rowNodes.forEach(function(i, a) {
        var s = e.rowData ? e.rowData[a] : void 0;
        !i.id && i.alreadyRendered && s && (r.rowNodes[a] = new Te(r.beans), r.rowNodes[a].setRowIndex(i.rowIndex), r.rowNodes[a].setRowTop(i.rowTop), i.clearRowTopAndRowIndex()), r.setDataAndId(r.rowNodes[a], s, r.startRow + a);
      });
      var n = e.rowCount != null && e.rowCount >= 0 ? e.rowCount : void 0;
      this.parentCache.pageLoaded(this, n);
    }, t.prototype.destroyRowNodes = function() {
      this.rowNodes.forEach(function(e) {
        e.clearRowTopAndRowIndex();
      });
    }, Wv([
      w("beans")
    ], t.prototype, "beans", void 0), Wv([
      V
    ], t.prototype, "postConstruct", null), Wv([
      rt
    ], t.prototype, "destroyRowNodes", null), t;
  }(Yi)
), lB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, uB = function(o, t) {
  return function(e, r) {
    t(e, r, o);
  };
}, cB = (
  /** @class */
  function(o) {
    lB(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.lastRowIndexKnown = !1, r.blocks = {}, r.blockCount = 0, r.rowCount = e.initialRowCount, r.params = e, r;
    }
    return t.prototype.setBeans = function(e) {
      this.logger = e.create("InfiniteCache");
    }, t.prototype.getRow = function(e, r) {
      r === void 0 && (r = !1);
      var n = Math.floor(e / this.params.blockSize), i = this.blocks[n];
      if (!i) {
        if (r)
          return;
        i = this.createBlock(n);
      }
      return i.getRow(e);
    }, t.prototype.createBlock = function(e) {
      var r = this.createBean(new kS(e, this, this.params));
      return this.blocks[r.getId()] = r, this.blockCount++, this.purgeBlocksIfNeeded(r), this.params.rowNodeBlockLoader.addBlock(r), r;
    }, t.prototype.refreshCache = function() {
      var e = this.blockCount == 0;
      if (e) {
        this.purgeCache();
        return;
      }
      this.getBlocksInOrder().forEach(function(r) {
        return r.setStateWaitingToLoad();
      }), this.params.rowNodeBlockLoader.checkBlockToLoad();
    }, t.prototype.destroyAllBlocks = function() {
      var e = this;
      this.getBlocksInOrder().forEach(function(r) {
        return e.destroyBlock(r);
      });
    }, t.prototype.getRowCount = function() {
      return this.rowCount;
    }, t.prototype.isLastRowIndexKnown = function() {
      return this.lastRowIndexKnown;
    }, t.prototype.pageLoaded = function(e, r) {
      this.isAlive() && (this.logger.log("onPageLoaded: page = " + e.getId() + ", lastRow = " + r), this.checkRowCount(e, r), this.onCacheUpdated());
    }, t.prototype.purgeBlocksIfNeeded = function(e) {
      var r = this, n = this.getBlocksInOrder().filter(function(u) {
        return u != e;
      }), i = function(u, c) {
        return c.getLastAccessed() - u.getLastAccessed();
      };
      n.sort(i);
      var a = this.params.maxBlocksInCache > 0, s = a ? this.params.maxBlocksInCache - 1 : null, l = t.MAX_EMPTY_BLOCKS_TO_KEEP - 1;
      n.forEach(function(u, c) {
        var d = u.getState() === kS.STATE_WAITING_TO_LOAD && c >= l, p = a ? c >= s : !1;
        if (d || p) {
          if (r.isBlockCurrentlyDisplayed(u) || r.isBlockFocused(u))
            return;
          r.removeBlockFromCache(u);
        }
      });
    }, t.prototype.isBlockFocused = function(e) {
      var r = this.focusService.getFocusCellToUseAfterRefresh();
      if (!r || r.rowPinned != null)
        return !1;
      var n = e.getStartRow(), i = e.getEndRow(), a = r.rowIndex >= n && r.rowIndex < i;
      return a;
    }, t.prototype.isBlockCurrentlyDisplayed = function(e) {
      var r = e.getStartRow(), n = e.getEndRow() - 1;
      return this.rowRenderer.isRangeInRenderedViewport(r, n);
    }, t.prototype.removeBlockFromCache = function(e) {
      e && this.destroyBlock(e);
    }, t.prototype.checkRowCount = function(e, r) {
      if (typeof r == "number" && r >= 0)
        this.rowCount = r, this.lastRowIndexKnown = !0;
      else if (!this.lastRowIndexKnown) {
        var n = (e.getId() + 1) * this.params.blockSize, i = n + this.params.overflowSize;
        this.rowCount < i && (this.rowCount = i);
      }
    }, t.prototype.setRowCount = function(e, r) {
      this.rowCount = e, T.exists(r) && (this.lastRowIndexKnown = r), this.lastRowIndexKnown || this.rowCount % this.params.blockSize === 0 && this.rowCount++, this.onCacheUpdated();
    }, t.prototype.forEachNodeDeep = function(e) {
      var r = this, n = new ar();
      this.getBlocksInOrder().forEach(function(i) {
        return i.forEachNode(e, n, r.rowCount);
      });
    }, t.prototype.getBlocksInOrder = function() {
      var e = function(n, i) {
        return n.getId() - i.getId();
      }, r = T.getAllValuesInObject(this.blocks).sort(e);
      return r;
    }, t.prototype.destroyBlock = function(e) {
      delete this.blocks[e.getId()], this.destroyBean(e), this.blockCount--, this.params.rowNodeBlockLoader.removeBlock(e);
    }, t.prototype.onCacheUpdated = function() {
      if (this.isAlive()) {
        this.destroyAllBlocksPastVirtualRowCount();
        var e = {
          type: R.EVENT_STORE_UPDATED
        };
        this.eventService.dispatchEvent(e);
      }
    }, t.prototype.destroyAllBlocksPastVirtualRowCount = function() {
      var e = this, r = [];
      this.getBlocksInOrder().forEach(function(n) {
        var i = n.getId() * e.params.blockSize;
        i >= e.rowCount && r.push(n);
      }), r.length > 0 && r.forEach(function(n) {
        return e.destroyBlock(n);
      });
    }, t.prototype.purgeCache = function() {
      var e = this;
      this.getBlocksInOrder().forEach(function(r) {
        return e.removeBlockFromCache(r);
      }), this.lastRowIndexKnown = !1, this.rowCount === 0 && (this.rowCount = this.params.initialRowCount), this.onCacheUpdated();
    }, t.prototype.getRowNodesInRange = function(e, r) {
      var n = this, i = [], a = -1, s = !1, l = new ar();
      T.missing(e) && (s = !0);
      var u = !1;
      this.getBlocksInOrder().forEach(function(d) {
        if (!u) {
          if (s && a + 1 !== d.getId()) {
            u = !0;
            return;
          }
          a = d.getId(), d.forEachNode(function(p) {
            var h = p === e || p === r;
            (s || h) && i.push(p), h && (s = !s);
          }, l, n.rowCount);
        }
      });
      var c = u || s;
      return c ? [] : i;
    }, t.MAX_EMPTY_BLOCKS_TO_KEEP = 2, qd([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), qd([
      w("focusService")
    ], t.prototype, "focusService", void 0), qd([
      uB(0, Er("loggerFactory"))
    ], t.prototype, "setBeans", null), qd([
      rt
    ], t.prototype, "destroyAllBlocks", null), t;
  }(W)
), dB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), _o = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, pB = (
  /** @class */
  function(o) {
    dB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getRowBounds = function(e) {
      return {
        rowHeight: this.rowHeight,
        rowTop: this.rowHeight * e
      };
    }, t.prototype.ensureRowHeightsValid = function(e, r, n, i) {
      return !1;
    }, t.prototype.init = function() {
      var e = this;
      this.gridOptionsService.isRowModelType("infinite") && (this.rowHeight = this.gridOptionsService.getRowHeightAsNumber(), this.addEventListeners(), this.addDestroyFunc(function() {
        return e.destroyCache();
      }), this.verifyProps());
    }, t.prototype.verifyProps = function() {
      if (this.gridOptionsService.exists("initialGroupOrderComparator")) {
        var e = "AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";
        T.doOnce(function() {
          return console.warn(e);
        }, "IRM.InitialGroupOrderComparator");
      }
    }, t.prototype.start = function() {
      this.setDatasource(this.gridOptionsService.get("datasource"));
    }, t.prototype.destroyDatasource = function() {
      this.datasource && (this.getContext().destroyBean(this.datasource), this.rowRenderer.datasourceChanged(), this.datasource = null);
    }, t.prototype.addEventListeners = function() {
      this.addManagedListener(this.eventService, R.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, this.onSortChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onColumnEverything.bind(this)), this.addManagedListener(this.eventService, R.EVENT_STORE_UPDATED, this.onCacheUpdated.bind(this));
    }, t.prototype.onFilterChanged = function() {
      this.reset();
    }, t.prototype.onSortChanged = function() {
      this.reset();
    }, t.prototype.onColumnEverything = function() {
      var e;
      this.cacheParams ? e = this.isSortModelDifferent() : e = !0, e && this.reset();
    }, t.prototype.isSortModelDifferent = function() {
      return !T.jsonEquals(this.cacheParams.sortModel, this.sortController.getSortModel());
    }, t.prototype.getType = function() {
      return "infinite";
    }, t.prototype.setDatasource = function(e) {
      this.destroyDatasource(), this.datasource = e, e && this.reset();
    }, t.prototype.isEmpty = function() {
      return !this.infiniteCache;
    }, t.prototype.isRowsToRender = function() {
      return !!this.infiniteCache;
    }, t.prototype.getNodesInRangeForSelection = function(e, r) {
      return this.infiniteCache ? this.infiniteCache.getRowNodesInRange(e, r) : [];
    }, t.prototype.reset = function() {
      if (this.datasource) {
        var e = this.gridOptionsService.getCallback("getRowId"), r = e != null;
        r || this.selectionService.reset(), this.resetCache();
        var n = this.createModelUpdatedEvent();
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.createModelUpdatedEvent = function() {
      return {
        type: R.EVENT_MODEL_UPDATED,
        // not sure if these should all be false - noticed if after implementing,
        // maybe they should be true?
        newPage: !1,
        newData: !1,
        keepRenderedRows: !0,
        animate: !1
      };
    }, t.prototype.resetCache = function() {
      this.destroyCache(), this.cacheParams = {
        // the user provided datasource
        datasource: this.datasource,
        // sort and filter model
        filterModel: this.filterManager.getFilterModel(),
        sortModel: this.sortController.getSortModel(),
        rowNodeBlockLoader: this.rowNodeBlockLoader,
        // properties - this way we take a snapshot of them, so if user changes any, they will be
        // used next time we create a new cache, which is generally after a filter or sort change,
        // or a new datasource is set
        initialRowCount: this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"), 1),
        maxBlocksInCache: this.gridOptionsService.getNum("maxBlocksInCache"),
        rowHeight: this.gridOptionsService.getRowHeightAsNumber(),
        // if user doesn't provide overflow, we use default overflow of 1, so user can scroll past
        // the current page and request first row of next page
        overflowSize: this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"), 1),
        // page size needs to be 1 or greater. having it at 1 would be silly, as you would be hitting the
        // server for one page at a time. so the default if not specified is 100.
        blockSize: this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"), 100),
        // the cache could create this, however it is also used by the pages, so handy to create it
        // here as the settings are also passed to the pages
        lastAccessedSequence: new ar()
      }, this.infiniteCache = this.createBean(new cB(this.cacheParams));
    }, t.prototype.defaultIfInvalid = function(e, r) {
      return e > 0 ? e : r;
    }, t.prototype.destroyCache = function() {
      this.infiniteCache && (this.infiniteCache = this.destroyBean(this.infiniteCache));
    }, t.prototype.onCacheUpdated = function() {
      var e = this.createModelUpdatedEvent();
      this.eventService.dispatchEvent(e);
    }, t.prototype.getRow = function(e) {
      if (this.infiniteCache && !(e >= this.infiniteCache.getRowCount()))
        return this.infiniteCache.getRow(e);
    }, t.prototype.getRowNode = function(e) {
      var r;
      return this.forEachNode(function(n) {
        n.id === e && (r = n);
      }), r;
    }, t.prototype.forEachNode = function(e) {
      this.infiniteCache && this.infiniteCache.forEachNodeDeep(e);
    }, t.prototype.getTopLevelRowCount = function() {
      return this.getRowCount();
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      return e;
    }, t.prototype.getRowIndexAtPixel = function(e) {
      if (this.rowHeight !== 0) {
        var r = Math.floor(e / this.rowHeight), n = this.getRowCount() - 1;
        return r > n ? n : r;
      }
      return 0;
    }, t.prototype.getRowCount = function() {
      return this.infiniteCache ? this.infiniteCache.getRowCount() : 0;
    }, t.prototype.isRowPresent = function(e) {
      var r = this.getRowNode(e.id);
      return !!r;
    }, t.prototype.refreshCache = function() {
      this.infiniteCache && this.infiniteCache.refreshCache();
    }, t.prototype.purgeCache = function() {
      this.infiniteCache && this.infiniteCache.purgeCache();
    }, t.prototype.isLastRowIndexKnown = function() {
      return this.infiniteCache ? this.infiniteCache.isLastRowIndexKnown() : !1;
    }, t.prototype.setRowCount = function(e, r) {
      this.infiniteCache && this.infiniteCache.setRowCount(e, r);
    }, _o([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), _o([
      w("sortController")
    ], t.prototype, "sortController", void 0), _o([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), _o([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), _o([
      w("rowNodeBlockLoader")
    ], t.prototype, "rowNodeBlockLoader", void 0), _o([
      V
    ], t.prototype, "init", null), _o([
      rt
    ], t.prototype, "destroyDatasource", null), t = _o([
      q("rowModel")
    ], t), t;
  }(W)
), hB = "30.0.6", fB = {
  version: hB,
  moduleName: Z.InfiniteRowModelModule,
  rowModel: "infinite",
  beans: [pB]
}, zE = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.setBeans = function(t) {
      this.beans = t;
    }, o.prototype.getFileName = function(t) {
      var e = this.getDefaultFileExtension();
      return (t == null || !t.length) && (t = this.getDefaultFileName()), t.indexOf(".") === -1 ? t + "." + e : t;
    }, o.prototype.getData = function(t) {
      var e = this.createSerializingSession(t), r = this.beans.gridSerializer.serialize(e, t);
      return r;
    }, o;
  }()
), KE = (
  /** @class */
  function() {
    function o(t) {
      this.groupColumns = [];
      var e = t.columnModel, r = t.valueService, n = t.gridOptionsService, i = t.valueFormatterService, a = t.valueParserService, s = t.processCellCallback, l = t.processHeaderCallback, u = t.processGroupHeaderCallback, c = t.processRowGroupCallback;
      this.columnModel = e, this.valueService = r, this.gridOptionsService = n, this.valueFormatterService = i, this.valueParserService = a, this.processCellCallback = s, this.processHeaderCallback = l, this.processGroupHeaderCallback = u, this.processRowGroupCallback = c;
    }
    return o.prototype.prepare = function(t) {
      this.groupColumns = t.filter(function(e) {
        return !!e.getColDef().showRowGroup;
      });
    }, o.prototype.extractHeaderValue = function(t) {
      var e = this.getHeaderName(this.processHeaderCallback, t);
      return e != null ? e : "";
    }, o.prototype.extractRowCellValue = function(t, e, r, n, i) {
      var a = this.gridOptionsService.is("groupHideOpenParents"), s = (!a || i.footer) && this.shouldRenderGroupSummaryCell(i, t, e) ? this.createValueForGroupNode(i) : this.valueService.getValue(t, i), l = this.processCell({
        accumulatedRowIndex: r,
        rowNode: i,
        column: t,
        value: s,
        processCellCallback: this.processCellCallback,
        type: n
      });
      return l;
    }, o.prototype.shouldRenderGroupSummaryCell = function(t, e, r) {
      var n, i = t && t.group;
      if (!i)
        return !1;
      var a = this.groupColumns.indexOf(e);
      if (a !== -1) {
        if (((n = t.groupData) === null || n === void 0 ? void 0 : n[e.getId()]) != null)
          return !0;
        if (t.footer && t.level === -1) {
          var s = e.getColDef(), l = s == null || s.showRowGroup === !0;
          return l || s.showRowGroup === this.columnModel.getRowGroupColumns()[0].getId();
        }
      }
      var u = this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());
      return r === 0 && u;
    }, o.prototype.getHeaderName = function(t, e) {
      return t ? t({
        column: e,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      }) : this.columnModel.getDisplayNameForColumn(e, "csv", !0);
    }, o.prototype.createValueForGroupNode = function(t) {
      if (this.processRowGroupCallback)
        return this.processRowGroupCallback({
          node: t,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context
        });
      var e = t.footer, r = [t.key];
      if (!this.gridOptionsService.isGroupMultiAutoColumn())
        for (; t.parent; )
          t = t.parent, r.push(t.key);
      var n = r.reverse().join(" -> ");
      return e ? "Total " + n : n;
    }, o.prototype.processCell = function(t) {
      var e = this, r, n = t.accumulatedRowIndex, i = t.rowNode, a = t.column, s = t.value, l = t.processCellCallback, u = t.type;
      return l ? {
        value: (r = l({
          accumulatedRowIndex: n,
          column: a,
          node: i,
          value: s,
          api: this.gridOptionsService.api,
          columnApi: this.gridOptionsService.columnApi,
          context: this.gridOptionsService.context,
          type: u,
          parseValue: function(c) {
            return e.valueParserService.parseValue(a, i, c, e.valueService.getValue(a, i));
          },
          formatValue: function(c) {
            var d;
            return (d = e.valueFormatterService.formatValue(a, i, c)) !== null && d !== void 0 ? d : c;
          }
        })) !== null && r !== void 0 ? r : ""
      } : a.getColDef().useValueFormatterForExport ? {
        value: s != null ? s : "",
        valueFormatted: this.valueFormatterService.formatValue(a, i, s)
      } : { value: s != null ? s : "" };
    }, o;
  }()
), Ym = (
  /** @class */
  function() {
    function o() {
    }
    return o.download = function(t, e) {
      var r = document.defaultView || window;
      if (!r) {
        console.warn("AG Grid: There is no `window` associated with the current `document`");
        return;
      }
      var n = document.createElement("a"), i = r.URL.createObjectURL(e);
      n.setAttribute("href", i), n.setAttribute("download", t), n.style.display = "none", document.body.appendChild(n), n.dispatchEvent(new MouseEvent("click", {
        bubbles: !1,
        cancelable: !0,
        view: r
      })), document.body.removeChild(n), r.setTimeout(function() {
        r.URL.revokeObjectURL(i);
      }, 0);
    }, o;
  }()
), vB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), VS = `\r
`, gB = (
  /** @class */
  function(o) {
    vB(t, o);
    function t(e) {
      var r = o.call(this, e) || this;
      r.isFirstLine = !0, r.result = "";
      var n = e.suppressQuotes, i = e.columnSeparator;
      return r.suppressQuotes = n, r.columnSeparator = i, r;
    }
    return t.prototype.addCustomContent = function(e) {
      var r = this;
      e && (typeof e == "string" ? (/^\s*\n/.test(e) || this.beginNewLine(), e = e.replace(/\r?\n/g, VS), this.result += e) : e.forEach(function(n) {
        r.beginNewLine(), n.forEach(function(i, a) {
          a !== 0 && (r.result += r.columnSeparator), r.result += r.putInQuotes(i.data.value || ""), i.mergeAcross && r.appendEmptyCells(i.mergeAcross);
        });
      }));
    }, t.prototype.onNewHeaderGroupingRow = function() {
      return this.beginNewLine(), {
        onColumn: this.onNewHeaderGroupingRowColumn.bind(this)
      };
    }, t.prototype.onNewHeaderGroupingRowColumn = function(e, r, n, i) {
      n != 0 && (this.result += this.columnSeparator), this.result += this.putInQuotes(r), this.appendEmptyCells(i);
    }, t.prototype.appendEmptyCells = function(e) {
      for (var r = 1; r <= e; r++)
        this.result += this.columnSeparator + this.putInQuotes("");
    }, t.prototype.onNewHeaderRow = function() {
      return this.beginNewLine(), {
        onColumn: this.onNewHeaderRowColumn.bind(this)
      };
    }, t.prototype.onNewHeaderRowColumn = function(e, r) {
      r != 0 && (this.result += this.columnSeparator), this.result += this.putInQuotes(this.extractHeaderValue(e));
    }, t.prototype.onNewBodyRow = function() {
      return this.beginNewLine(), {
        onColumn: this.onNewBodyRowColumn.bind(this)
      };
    }, t.prototype.onNewBodyRowColumn = function(e, r, n) {
      var i;
      r != 0 && (this.result += this.columnSeparator);
      var a = this.extractRowCellValue(e, r, r, "csv", n);
      this.result += this.putInQuotes((i = a.valueFormatted) !== null && i !== void 0 ? i : a.value);
    }, t.prototype.putInQuotes = function(e) {
      if (this.suppressQuotes)
        return e;
      if (e == null)
        return '""';
      var r;
      typeof e == "string" ? r = e : typeof e.toString == "function" ? r = e.toString() : (console.warn("AG Grid: unknown value type during csv conversion"), r = "");
      var n = r.replace(/"/g, '""');
      return '"' + n + '"';
    }, t.prototype.parse = function() {
      return this.result;
    }, t.prototype.beginNewLine = function() {
      this.isFirstLine || (this.result += VS), this.isFirstLine = !1;
    }, t;
  }(KE)
), yB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YE = (
  /** @class */
  function(o) {
    yB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.setBeans({
        gridSerializer: this.gridSerializer,
        gridOptionsService: this.gridOptionsService
      });
    }, t.prototype.getMergedParams = function(e) {
      var r = this.gridOptionsService.get("defaultCsvExportParams");
      return Object.assign({}, r, e);
    }, t.prototype.export = function(e) {
      if (this.isExportSuppressed())
        return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."), "";
      var r = this.getMergedParams(e), n = this.getData(r), i = new Blob(["\uFEFF", n], { type: "text/plain" });
      return Ym.download(this.getFileName(r.fileName), i), n;
    }, t.prototype.exportDataAsCsv = function(e) {
      return this.export(e);
    }, t.prototype.getDataAsCsv = function(e, r) {
      r === void 0 && (r = !1);
      var n = r ? Object.assign({}, e) : this.getMergedParams(e);
      return this.getData(n);
    }, t.prototype.getDefaultFileName = function() {
      return "export.csv";
    }, t.prototype.getDefaultFileExtension = function() {
      return "csv";
    }, t.prototype.createSerializingSession = function(e) {
      var r = this, n = r.columnModel, i = r.valueService, a = r.gridOptionsService, s = r.valueFormatterService, l = r.valueParserService, u = e, c = u.processCellCallback, d = u.processHeaderCallback, p = u.processGroupHeaderCallback, h = u.processRowGroupCallback, f = u.suppressQuotes, v = u.columnSeparator;
      return new gB({
        columnModel: n,
        valueService: i,
        gridOptionsService: a,
        valueFormatterService: s,
        valueParserService: l,
        processCellCallback: c || void 0,
        processHeaderCallback: d || void 0,
        processGroupHeaderCallback: p || void 0,
        processRowGroupCallback: h || void 0,
        suppressQuotes: f || !1,
        columnSeparator: v || ","
      });
    }, t.prototype.isExportSuppressed = function() {
      return this.gridOptionsService.is("suppressCsvExport");
    }, bo([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), bo([
      w("valueService")
    ], t.prototype, "valueService", void 0), bo([
      w("gridSerializer")
    ], t.prototype, "gridSerializer", void 0), bo([
      w("gridOptionsService")
    ], t.prototype, "gridOptionsService", void 0), bo([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), bo([
      w("valueParserService")
    ], t.prototype, "valueParserService", void 0), bo([
      V
    ], t.prototype, "postConstruct", null), t = bo([
      q("csvCreator")
    ], t), t;
  }(zE)
), mB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Eo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, es;
(function(o) {
  o[o.HEADER_GROUPING = 0] = "HEADER_GROUPING", o[o.HEADER = 1] = "HEADER", o[o.BODY = 2] = "BODY";
})(es || (es = {}));
var XE = (
  /** @class */
  function(o) {
    mB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.serialize = function(e, r) {
      r === void 0 && (r = {});
      var n = this.getColumnsToExport(r.allColumns, r.columnKeys), i = T.compose(
        // first pass, put in the header names of the cols
        this.prepareSession(n),
        this.prependContent(r),
        this.exportColumnGroups(r, n),
        this.exportHeaders(r, n),
        this.processPinnedTopRows(r, n),
        this.processRows(r, n),
        this.processPinnedBottomRows(r, n),
        this.appendContent(r)
      );
      return i(e).parse();
    }, t.prototype.processRow = function(e, r, n, i) {
      var a = r.shouldRowBeSkipped || function() {
        return !1;
      }, s = this.gridOptionsService.context, l = this.gridOptionsService.api, u = this.gridOptionsService.columnApi, c = this.gridOptionsService.is("groupRemoveSingleChildren"), d = this.gridOptionsService.is("groupRemoveLowestSingleChildren"), p = r.rowPositions != null, h = p || !!r.onlySelected, f = this.gridOptionsService.is("groupHideOpenParents") && !h, v = this.columnModel.isPivotMode() ? i.leafGroup : !i.group, g = !!i.footer, y = r.skipGroups || r.skipRowGroups, m = d && i.leafGroup, C = i.allChildrenCount === 1 && (c || m);
      if (y && r.skipGroups && T.doOnce(function() {
        return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.");
      }, "gridSerializer-skipGroups"), !(!v && !g && (r.skipRowGroups || C || f) || r.onlySelected && !i.isSelected() || r.skipPinnedTop && i.rowPinned === "top" || r.skipPinnedBottom && i.rowPinned === "bottom")) {
        var S = i.level === -1;
        if (!(S && !v && !g)) {
          var b = a({ node: i, api: l, columnApi: u, context: s });
          if (!b) {
            var _ = e.onNewBodyRow(i);
            if (n.forEach(function(E, D) {
              _.onColumn(E, D, i);
            }), r.getCustomContentBelowRow) {
              var O = r.getCustomContentBelowRow({ node: i, api: l, columnApi: u, context: s });
              O && e.addCustomContent(O);
            }
          }
        }
      }
    }, t.prototype.appendContent = function(e) {
      return function(r) {
        var n = e.customFooter || e.appendContent;
        return n && (e.customFooter && T.doOnce(function() {
          return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.");
        }, "gridSerializer-customFooter"), r.addCustomContent(n)), r;
      };
    }, t.prototype.prependContent = function(e) {
      return function(r) {
        var n = e.customHeader || e.prependContent;
        return n && (e.customHeader && T.doOnce(function() {
          return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.");
        }, "gridSerializer-customHeader"), r.addCustomContent(n)), r;
      };
    }, t.prototype.prepareSession = function(e) {
      return function(r) {
        return r.prepare(e), r;
      };
    }, t.prototype.exportColumnGroups = function(e, r) {
      var n = this;
      return function(i) {
        if (e.skipColumnGroupHeaders)
          e.columnGroups && T.doOnce(function() {
            return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.");
          }, "gridSerializer-columnGroups");
        else {
          var a = new Mb(), s = n.displayedGroupCreator.createDisplayedGroups(r, n.columnModel.getGridBalancedTree(), a, null);
          n.recursivelyAddHeaderGroups(s, i, e.processGroupHeaderCallback);
        }
        return i;
      };
    }, t.prototype.exportHeaders = function(e, r) {
      return function(n) {
        if (!e.skipHeader && !e.skipColumnHeaders) {
          var i = n.onNewHeaderRow();
          r.forEach(function(a, s) {
            i.onColumn(a, s, void 0);
          });
        } else
          e.skipHeader && T.doOnce(function() {
            return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.");
          }, "gridSerializer-skipHeader");
        return n;
      };
    }, t.prototype.processPinnedTopRows = function(e, r) {
      var n = this;
      return function(i) {
        var a = n.processRow.bind(n, i, e, r);
        return e.rowPositions ? e.rowPositions.filter(function(s) {
          return s.rowPinned === "top";
        }).sort(function(s, l) {
          return s.rowIndex - l.rowIndex;
        }).map(function(s) {
          return n.pinnedRowModel.getPinnedTopRow(s.rowIndex);
        }).forEach(a) : n.pinnedRowModel.forEachPinnedTopRow(a), i;
      };
    }, t.prototype.processRows = function(e, r) {
      var n = this;
      return function(i) {
        var a = n.rowModel, s = a.getType(), l = s === "clientSide", u = s === "serverSide", c = !l && e.onlySelected, d = n.processRow.bind(n, i, e, r), p = e.exportedRows, h = p === void 0 ? "filteredAndSorted" : p;
        if (e.rowPositions)
          e.rowPositions.filter(function(v) {
            return v.rowPinned == null;
          }).sort(function(v, g) {
            return v.rowIndex - g.rowIndex;
          }).map(function(v) {
            return a.getRow(v.rowIndex);
          }).forEach(d);
        else if (n.columnModel.isPivotMode())
          l ? a.forEachPivotNode(d, !0) : a.forEachNode(d);
        else if (e.onlySelectedAllPages || c) {
          var f = n.selectionService.getSelectedNodes();
          n.replicateSortedOrder(f), f.forEach(d);
        } else
          h === "all" ? a.forEachNode(d) : l ? a.forEachNodeAfterFilterAndSort(d, !0) : u ? a.forEachNodeAfterFilterAndSort(d) : a.forEachNode(d);
        return i;
      };
    }, t.prototype.replicateSortedOrder = function(e) {
      var r = this, n = this.sortController.getSortOptions(), i = function(a, s) {
        var l, u, c, d;
        return a.rowIndex != null && s.rowIndex != null ? a.rowIndex - s.rowIndex : a.level === s.level ? ((l = a.parent) === null || l === void 0 ? void 0 : l.id) === ((u = s.parent) === null || u === void 0 ? void 0 : u.id) ? r.rowNodeSorter.compareRowNodes(n, {
          rowNode: a,
          currentPos: (c = a.rowIndex) !== null && c !== void 0 ? c : -1
        }, {
          rowNode: s,
          currentPos: (d = s.rowIndex) !== null && d !== void 0 ? d : -1
        }) : i(a.parent, s.parent) : a.level > s.level ? i(a.parent, s) : i(a, s.parent);
      };
      e.sort(i);
    }, t.prototype.processPinnedBottomRows = function(e, r) {
      var n = this;
      return function(i) {
        var a = n.processRow.bind(n, i, e, r);
        return e.rowPositions ? e.rowPositions.filter(function(s) {
          return s.rowPinned === "bottom";
        }).sort(function(s, l) {
          return s.rowIndex - l.rowIndex;
        }).map(function(s) {
          return n.pinnedRowModel.getPinnedBottomRow(s.rowIndex);
        }).forEach(a) : n.pinnedRowModel.forEachPinnedBottomRow(a), i;
      };
    }, t.prototype.getColumnsToExport = function(e, r) {
      e === void 0 && (e = !1);
      var n = this.columnModel.isPivotMode();
      if (r && r.length)
        return this.columnModel.getGridColumns(r);
      if (e && !n) {
        var i = this.gridOptionsService.isTreeData() ? this.columnModel.getGridColumns([oo]) : [];
        return i.concat(this.columnModel.getAllGridColumns() || []);
      }
      return this.columnModel.getAllDisplayedColumns();
    }, t.prototype.recursivelyAddHeaderGroups = function(e, r, n) {
      var i = [];
      e.forEach(function(a) {
        var s = a;
        s.getChildren && s.getChildren().forEach(function(l) {
          return i.push(l);
        });
      }), e.length > 0 && e[0] instanceof Fr && this.doAddHeaderHeader(r, e, n), i && i.length > 0 && this.recursivelyAddHeaderGroups(i, r, n);
    }, t.prototype.doAddHeaderHeader = function(e, r, n) {
      var i = this, a = e.onNewHeaderGroupingRow(), s = 0;
      r.forEach(function(l) {
        var u = l, c;
        n ? c = n({
          columnGroup: u,
          api: i.gridOptionsService.api,
          columnApi: i.gridOptionsService.columnApi,
          context: i.gridOptionsService.context
        }) : c = i.columnModel.getDisplayNameForColumnGroup(u, "header");
        var d = u.getLeafColumns().reduce(function(p, h, f, v) {
          var g = T.last(p), y = h.getColumnGroupShow() === "open";
          return y ? (!g || g[1] != null) && (g = [f], p.push(g)) : g && g[1] == null && (g[1] = f - 1), f === v.length - 1 && g && g[1] == null && (g[1] = f), p;
        }, []);
        a.onColumn(u, c || "", s++, u.getLeafColumns().length - 1, d);
      });
    }, Eo([
      w("displayedGroupCreator")
    ], t.prototype, "displayedGroupCreator", void 0), Eo([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Eo([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Eo([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), Eo([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Eo([
      w("rowNodeSorter")
    ], t.prototype, "rowNodeSorter", void 0), Eo([
      w("sortController")
    ], t.prototype, "sortController", void 0), t = Eo([
      q("gridSerializer")
    ], t), t;
  }(W)
), CB = "30.0.6", Xm = {
  version: CB,
  moduleName: Z.CsvExportModule,
  beans: [YE, XE]
}, Zd = `\r
`, vy = (
  /** @class */
  function() {
    function o() {
    }
    return o.createHeader = function(t) {
      t === void 0 && (t = {});
      var e = "<?", r = "?>", n = ["version"];
      t.version || (t.version = "1.0"), t.encoding && n.push("encoding"), t.standalone && n.push("standalone");
      var i = n.map(function(a) {
        return a + '="' + t[a] + '"';
      }).join(" ");
      return e + "xml " + i + " " + r;
    }, o.createXml = function(t, e) {
      var r = this, n = "";
      t.properties && (t.properties.prefixedAttributes && t.properties.prefixedAttributes.forEach(function(a) {
        Object.keys(a.map).forEach(function(s) {
          n += r.returnAttributeIfPopulated(a.prefix + s, a.map[s], e);
        });
      }), t.properties.rawMap && Object.keys(t.properties.rawMap).forEach(function(a) {
        n += r.returnAttributeIfPopulated(a, t.properties.rawMap[a], e);
      }));
      var i = "<" + t.name + n;
      return !t.children && t.textNode == null ? i + "/>" + Zd : t.textNode != null ? i + ">" + t.textNode + "</" + t.name + ">" + Zd : (i += ">" + Zd, t.children && t.children.forEach(function(a) {
        i += r.createXml(a, e);
      }), i + "</" + t.name + ">" + Zd);
    }, o.returnAttributeIfPopulated = function(t, e, r) {
      if (!e && e !== "" && e !== 0)
        return "";
      var n = e;
      return typeof e == "boolean" && r && (n = r(e)), " " + t + '="' + n + '"';
    }, o;
  }()
), SB = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, wB = new Uint32Array([
  0,
  1996959894,
  3993919788,
  2567524794,
  124634137,
  1886057615,
  3915621685,
  2657392035,
  249268274,
  2044508324,
  3772115230,
  2547177864,
  162941995,
  2125561021,
  3887607047,
  2428444049,
  498536548,
  1789927666,
  4089016648,
  2227061214,
  450548861,
  1843258603,
  4107580753,
  2211677639,
  325883990,
  1684777152,
  4251122042,
  2321926636,
  335633487,
  1661365465,
  4195302755,
  2366115317,
  997073096,
  1281953886,
  3579855332,
  2724688242,
  1006888145,
  1258607687,
  3524101629,
  2768942443,
  901097722,
  1119000684,
  3686517206,
  2898065728,
  853044451,
  1172266101,
  3705015759,
  2882616665,
  651767980,
  1373503546,
  3369554304,
  3218104598,
  565507253,
  1454621731,
  3485111705,
  3099436303,
  671266974,
  1594198024,
  3322730930,
  2970347812,
  795835527,
  1483230225,
  3244367275,
  3060149565,
  1994146192,
  31158534,
  2563907772,
  4023717930,
  1907459465,
  112637215,
  2680153253,
  3904427059,
  2013776290,
  251722036,
  2517215374,
  3775830040,
  2137656763,
  141376813,
  2439277719,
  3865271297,
  1802195444,
  476864866,
  2238001368,
  4066508878,
  1812370925,
  453092731,
  2181625025,
  4111451223,
  1706088902,
  314042704,
  2344532202,
  4240017532,
  1658658271,
  366619977,
  2362670323,
  4224994405,
  1303535960,
  984961486,
  2747007092,
  3569037538,
  1256170817,
  1037604311,
  2765210733,
  3554079995,
  1131014506,
  879679996,
  2909243462,
  3663771856,
  1141124467,
  855842277,
  2852801631,
  3708648649,
  1342533948,
  654459306,
  3188396048,
  3373015174,
  1466479909,
  544179635,
  3110523913,
  3462522015,
  1591671054,
  702138776,
  2966460450,
  3352799412,
  1504918807,
  783551873,
  3082640443,
  3233442989,
  3988292384,
  2596254646,
  62317068,
  1957810842,
  3939845945,
  2647816111,
  81470997,
  1943803523,
  3814918930,
  2489596804,
  225274430,
  2053790376,
  3826175755,
  2466906013,
  167816743,
  2097651377,
  4027552580,
  2265490386,
  503444072,
  1762050814,
  4150417245,
  2154129355,
  426522225,
  1852507879,
  4275313526,
  2312317920,
  282753626,
  1742555852,
  4189708143,
  2394877945,
  397917763,
  1622183637,
  3604390888,
  2714866558,
  953729732,
  1340076626,
  3518719985,
  2797360999,
  1068828381,
  1219638859,
  3624741850,
  2936675148,
  906185462,
  1090812512,
  3747672003,
  2825379669,
  829329135,
  1181335161,
  3412177804,
  3160834842,
  628085408,
  1382605366,
  3423369109,
  3138078467,
  570562233,
  1426400815,
  3317316542,
  2998733608,
  733239954,
  1555261956,
  3268935591,
  3050360625,
  752459403,
  1541320221,
  2607071920,
  3965973030,
  1969922972,
  40735498,
  2617837225,
  3943577151,
  1913087877,
  83908371,
  2512341634,
  3803740692,
  2075208622,
  213261112,
  2463272603,
  3855990285,
  2094854071,
  198958881,
  2262029012,
  4057260610,
  1759359992,
  534414190,
  2176718541,
  4139329115,
  1873836001,
  414664567,
  2282248934,
  4279200368,
  1711684554,
  285281116,
  2405801727,
  4167216745,
  1634467795,
  376229701,
  2685067896,
  3608007406,
  1308918612,
  956543938,
  2808555105,
  3495958263,
  1231636301,
  1047427035,
  2932959818,
  3654703836,
  1088359270,
  936918e3,
  2847714899,
  3736837829,
  1202900863,
  817233897,
  3183342108,
  3401237130,
  1404277552,
  615818150,
  3134207493,
  3453421203,
  1423857449,
  601450431,
  3009837614,
  3294710456,
  1567103746,
  711928724,
  3020668471,
  3272380065,
  1510334235,
  755167117
]), hr = (
  /** @class */
  function() {
    function o() {
    }
    return o.addFolders = function(t) {
      t.forEach(this.addFolder.bind(this));
    }, o.addFolder = function(t) {
      this.folders.push({
        path: t,
        created: /* @__PURE__ */ new Date(),
        isBase64: !1
      });
    }, o.addFile = function(t, e, r) {
      r === void 0 && (r = !1), this.files.push({
        path: t,
        created: /* @__PURE__ */ new Date(),
        content: e,
        isBase64: r
      });
    }, o.getContent = function(t) {
      t === void 0 && (t = "application/zip");
      var e = this.buildFileStream(), r = this.buildUint8Array(e);
      return this.clearStream(), new Blob([r], { type: t });
    }, o.clearStream = function() {
      this.folders = [], this.files = [];
    }, o.buildFileStream = function(t) {
      var e, r;
      t === void 0 && (t = "");
      var n = this.folders.concat(this.files), i = n.length, a = "", s = 0, l = 0;
      try {
        for (var u = SB(n), c = u.next(); !c.done; c = u.next()) {
          var d = c.value, p = this.getHeader(d, s), h = p.fileHeader, f = p.folderHeader, v = p.content;
          s += h.length + v.length, l += f.length, t += h + v, a += f;
        }
      } catch (y) {
        e = { error: y };
      } finally {
        try {
          c && !c.done && (r = u.return) && r.call(u);
        } finally {
          if (e)
            throw e.error;
        }
      }
      var g = this.buildFolderEnd(i, l, s);
      return t + a + g;
    }, o.getHeader = function(t, e) {
      var r = t.content, n = t.path, i = t.created, a = t.isBase64, s = T.utf8_encode, l = T.decToHex, u = s(n), c = u !== n, d = this.convertTime(i), p = this.convertDate(i), h = "";
      if (c) {
        var f = l(1, 1) + l(this.getFromCrc32Table(u), 4) + u;
        h = "up" + l(f.length, 2) + f;
      }
      var v = r ? this.getConvertedContent(r, a) : { size: 0, content: "" }, g = v.size, y = v.content, m = `
\0` + (c ? "\0\b" : "\0\0") + "\0\0" + l(d, 2) + // last modified time
      l(p, 2) + // last modified date
      l(g ? this.getFromCrc32Table(y) : 0, 4) + l(g, 4) + // compressed size
      l(g, 4) + // uncompressed size
      l(u.length, 2) + // file name length
      l(h.length, 2), C = "PK" + m + u + h, S = "PK\0" + m + // file header
      "\0\0\0\0\0\0" + (r ? "\0\0\0\0" : "\0\0\0") + // external file attributes
      l(e, 4) + // relative offset of local header
      u + // file name
      h;
      return { fileHeader: C, folderHeader: S, content: y || "" };
    }, o.getConvertedContent = function(t, e) {
      return e === void 0 && (e = !1), e && (t = t.split(";base64,")[1]), t = e ? atob(t) : t, {
        size: t.length,
        content: t
      };
    }, o.buildFolderEnd = function(t, e, r) {
      var n = T.decToHex;
      return "PK\0\0\0\0" + n(t, 2) + // total number of entries in the central folder
      n(t, 2) + // total number of entries in the central folder
      n(e, 4) + // size of the central folder
      n(r, 4) + // central folder start offset
      "\0\0";
    }, o.buildUint8Array = function(t) {
      for (var e = new Uint8Array(t.length), r = 0; r < e.length; r++)
        e[r] = t.charCodeAt(r);
      return e;
    }, o.getFromCrc32Table = function(t) {
      if (!t.length)
        return 0;
      for (var e = t.length, r = new Uint8Array(e), n = 0; n < e; n++)
        r[n] = t.charCodeAt(n);
      for (var i = -1, a = 0, s = 0, l = 0, n = 0; n < e; n++)
        a = r[n], s = (i ^ a) & 255, l = wB[s], i = i >>> 8 ^ l;
      return i ^ -1;
    }, o.convertTime = function(t) {
      var e = t.getHours();
      return e <<= 6, e = e | t.getMinutes(), e <<= 5, e = e | t.getSeconds() / 2, e;
    }, o.convertDate = function(t) {
      var e = t.getFullYear() - 1980;
      return e <<= 4, e = e | t.getMonth() + 1, e <<= 5, e = e | t.getDate(), e;
    }, o.folders = [], o.files = [], o;
  }()
), _B = [aB, fB, Xm];
de.registerModules(_B);
/**
          * @ag-grid-enterprise/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.0.6
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
var bB = (
  /** @class */
  function() {
    function o() {
      this.ieCompatibility = !1;
    }
    return o.prototype.init = function() {
      this.ieCompatibility = this.md5("hello") != "5d41402abc4b2a76b9719d911017c592";
    }, o.prototype.md5cycle = function(t, e) {
      var r = t[0], n = t[1], i = t[2], a = t[3];
      r = this.ff(r, n, i, a, e[0], 7, -680876936), a = this.ff(a, r, n, i, e[1], 12, -389564586), i = this.ff(i, a, r, n, e[2], 17, 606105819), n = this.ff(n, i, a, r, e[3], 22, -1044525330), r = this.ff(r, n, i, a, e[4], 7, -176418897), a = this.ff(a, r, n, i, e[5], 12, 1200080426), i = this.ff(i, a, r, n, e[6], 17, -1473231341), n = this.ff(n, i, a, r, e[7], 22, -45705983), r = this.ff(r, n, i, a, e[8], 7, 1770035416), a = this.ff(a, r, n, i, e[9], 12, -1958414417), i = this.ff(i, a, r, n, e[10], 17, -42063), n = this.ff(n, i, a, r, e[11], 22, -1990404162), r = this.ff(r, n, i, a, e[12], 7, 1804603682), a = this.ff(a, r, n, i, e[13], 12, -40341101), i = this.ff(i, a, r, n, e[14], 17, -1502002290), n = this.ff(n, i, a, r, e[15], 22, 1236535329), r = this.gg(r, n, i, a, e[1], 5, -165796510), a = this.gg(a, r, n, i, e[6], 9, -1069501632), i = this.gg(i, a, r, n, e[11], 14, 643717713), n = this.gg(n, i, a, r, e[0], 20, -373897302), r = this.gg(r, n, i, a, e[5], 5, -701558691), a = this.gg(a, r, n, i, e[10], 9, 38016083), i = this.gg(i, a, r, n, e[15], 14, -660478335), n = this.gg(n, i, a, r, e[4], 20, -405537848), r = this.gg(r, n, i, a, e[9], 5, 568446438), a = this.gg(a, r, n, i, e[14], 9, -1019803690), i = this.gg(i, a, r, n, e[3], 14, -187363961), n = this.gg(n, i, a, r, e[8], 20, 1163531501), r = this.gg(r, n, i, a, e[13], 5, -1444681467), a = this.gg(a, r, n, i, e[2], 9, -51403784), i = this.gg(i, a, r, n, e[7], 14, 1735328473), n = this.gg(n, i, a, r, e[12], 20, -1926607734), r = this.hh(r, n, i, a, e[5], 4, -378558), a = this.hh(a, r, n, i, e[8], 11, -2022574463), i = this.hh(i, a, r, n, e[11], 16, 1839030562), n = this.hh(n, i, a, r, e[14], 23, -35309556), r = this.hh(r, n, i, a, e[1], 4, -1530992060), a = this.hh(a, r, n, i, e[4], 11, 1272893353), i = this.hh(i, a, r, n, e[7], 16, -155497632), n = this.hh(n, i, a, r, e[10], 23, -1094730640), r = this.hh(r, n, i, a, e[13], 4, 681279174), a = this.hh(a, r, n, i, e[0], 11, -358537222), i = this.hh(i, a, r, n, e[3], 16, -722521979), n = this.hh(n, i, a, r, e[6], 23, 76029189), r = this.hh(r, n, i, a, e[9], 4, -640364487), a = this.hh(a, r, n, i, e[12], 11, -421815835), i = this.hh(i, a, r, n, e[15], 16, 530742520), n = this.hh(n, i, a, r, e[2], 23, -995338651), r = this.ii(r, n, i, a, e[0], 6, -198630844), a = this.ii(a, r, n, i, e[7], 10, 1126891415), i = this.ii(i, a, r, n, e[14], 15, -1416354905), n = this.ii(n, i, a, r, e[5], 21, -57434055), r = this.ii(r, n, i, a, e[12], 6, 1700485571), a = this.ii(a, r, n, i, e[3], 10, -1894986606), i = this.ii(i, a, r, n, e[10], 15, -1051523), n = this.ii(n, i, a, r, e[1], 21, -2054922799), r = this.ii(r, n, i, a, e[8], 6, 1873313359), a = this.ii(a, r, n, i, e[15], 10, -30611744), i = this.ii(i, a, r, n, e[6], 15, -1560198380), n = this.ii(n, i, a, r, e[13], 21, 1309151649), r = this.ii(r, n, i, a, e[4], 6, -145523070), a = this.ii(a, r, n, i, e[11], 10, -1120210379), i = this.ii(i, a, r, n, e[2], 15, 718787259), n = this.ii(n, i, a, r, e[9], 21, -343485551), t[0] = this.add32(r, t[0]), t[1] = this.add32(n, t[1]), t[2] = this.add32(i, t[2]), t[3] = this.add32(a, t[3]);
    }, o.prototype.cmn = function(t, e, r, n, i, a) {
      return e = this.add32(this.add32(e, t), this.add32(n, a)), this.add32(e << i | e >>> 32 - i, r);
    }, o.prototype.ff = function(t, e, r, n, i, a, s) {
      return this.cmn(e & r | ~e & n, t, e, i, a, s);
    }, o.prototype.gg = function(t, e, r, n, i, a, s) {
      return this.cmn(e & n | r & ~n, t, e, i, a, s);
    }, o.prototype.hh = function(t, e, r, n, i, a, s) {
      return this.cmn(e ^ r ^ n, t, e, i, a, s);
    }, o.prototype.ii = function(t, e, r, n, i, a, s) {
      return this.cmn(r ^ (e | ~n), t, e, i, a, s);
    }, o.prototype.md51 = function(t) {
      var e = t.length, r = [1732584193, -271733879, -1732584194, 271733878], n;
      for (n = 64; n <= t.length; n += 64)
        this.md5cycle(r, this.md5blk(t.substring(n - 64, n)));
      t = t.substring(n - 64);
      var i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (n = 0; n < t.length; n++)
        i[n >> 2] |= t.charCodeAt(n) << (n % 4 << 3);
      if (i[n >> 2] |= 128 << (n % 4 << 3), n > 55)
        for (this.md5cycle(r, i), n = 0; n < 16; n++)
          i[n] = 0;
      return i[14] = e * 8, this.md5cycle(r, i), r;
    }, o.prototype.md5blk = function(t) {
      for (var e = [], r = 0; r < 64; r += 4)
        e[r >> 2] = t.charCodeAt(r) + (t.charCodeAt(r + 1) << 8) + (t.charCodeAt(r + 2) << 16) + (t.charCodeAt(r + 3) << 24);
      return e;
    }, o.prototype.rhex = function(t) {
      for (var e = "0123456789abcdef".split(""), r = "", n = 0; n < 4; n++)
        r += e[t >> n * 8 + 4 & 15] + e[t >> n * 8 & 15];
      return r;
    }, o.prototype.hex = function(t) {
      for (var e = 0; e < t.length; e++)
        t[e] = this.rhex(t[e]);
      return t.join("");
    }, o.prototype.md5 = function(t) {
      return this.hex(this.md51(t));
    }, o.prototype.add32 = function(t, e) {
      return this.ieCompatibility ? this.add32Compat(t, e) : this.add32Std(t, e);
    }, o.prototype.add32Std = function(t, e) {
      return t + e & 4294967295;
    }, o.prototype.add32Compat = function(t, e) {
      var r = (t & 65535) + (e & 65535), n = (t >> 16) + (e >> 16) + (r >> 16);
      return n << 16 | r & 65535;
    }, o;
  }()
), EB = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
};
function BS(o) {
  return o == null || o.length === 0;
}
function OB(o, t) {
  return t === void 0 && (t = !1), o != null && (o !== "" || t);
}
var $v = (
  /** @class */
  function() {
    function o(t) {
      this.watermarkMessage = void 0, this.document = t, this.md5 = new bB(), this.md5.init();
    }
    return o.prototype.validateLicense = function() {
      if (BS(o.licenseKey))
        (!this.isWebsiteUrl() || this.isForceWatermark()) && this.outputMissingLicenseKey();
      else if (o.licenseKey.length > 32)
        if (o.licenseKey.indexOf("For_Trialing_ag-Grid_Only") !== -1)
          this.outputInvalidLicenseKey();
        else {
          var t = o.extractLicenseComponents(o.licenseKey), e = t.md5, r = t.license, n = t.version, i = t.isTrial;
          e === this.md5.md5(r) ? OB(n) && n ? this.validateLicenseKeyForVersion(n, !!i, r) : this.validateLegacyKey(r) : this.outputInvalidLicenseKey();
        }
      else
        this.outputInvalidLicenseKey();
    }, o.extractExpiry = function(t) {
      var e = t.substring(t.lastIndexOf("_") + 1, t.length);
      return new Date(parseInt(o.decode(e), 10));
    }, o.extractLicenseComponents = function(t) {
      var e = t.replace(/[\u200B-\u200D\uFEFF]/g, "");
      e = e.replace(/\r?\n|\r/g, "");
      var r = e.length - 32, n = e.substring(r), i = e.substring(0, r), a = EB(o.extractBracketedInformation(e), 2), s = a[0], l = a[1];
      return { md5: n, license: i, version: s, isTrial: l };
    }, o.prototype.getLicenseDetails = function(t) {
      var e = o.extractLicenseComponents(t), r = e.md5, n = e.license, i = e.version, a = e.isTrial, s = r === this.md5.md5(n) && t.indexOf("For_Trialing_ag-Grid_Only") === -1, l = null, u = null;
      if (s && (u = o.extractExpiry(n), s = !isNaN(u.getTime()), a)) {
        var c = /* @__PURE__ */ new Date();
        l = u < c;
      }
      return {
        licenseKey: t,
        valid: s,
        expiry: s ? o.formatDate(u) : null,
        version: i || "legacy",
        isTrial: a,
        trialExpired: l
      };
    }, o.prototype.isDisplayWatermark = function() {
      return this.isForceWatermark() || !this.isLocalhost() && !this.isWebsiteUrl() && !BS(this.watermarkMessage);
    }, o.prototype.getWatermarkMessage = function() {
      return this.watermarkMessage || "";
    }, o.prototype.getHostname = function() {
      var t = this.document.defaultView || window, e = t.location, r = e.hostname, n = r === void 0 ? "" : r;
      return n;
    }, o.prototype.isForceWatermark = function() {
      var t = this.document.defaultView || window, e = t.location, r = e.pathname;
      return r ? r.indexOf("forceWatermark") !== -1 : !1;
    }, o.prototype.isWebsiteUrl = function() {
      var t = this.getHostname();
      return t.match(/^((?:\w+\.)?ag-grid\.com)$/) !== null;
    }, o.prototype.isLocalhost = function() {
      var t = this.getHostname();
      return t.match(/^(?:127\.0\.0\.1|localhost)$/) !== null;
    }, o.formatDate = function(t) {
      var e = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December"
      ], r = t.getDate(), n = t.getMonth(), i = t.getFullYear();
      return r + " " + e[n] + " " + i;
    }, o.getGridReleaseDate = function() {
      return new Date(parseInt(o.decode(o.RELEASE_INFORMATION), 10));
    }, o.decode = function(t) {
      for (var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", r = "", n, i, a, s, l, u, c, d = 0, p = t.replace(/[^A-Za-z0-9+/=]/g, ""); d < p.length; )
        s = e.indexOf(p.charAt(d++)), l = e.indexOf(p.charAt(d++)), u = e.indexOf(p.charAt(d++)), c = e.indexOf(p.charAt(d++)), n = s << 2 | l >> 4, i = (l & 15) << 4 | u >> 2, a = (u & 3) << 6 | c, r = r + String.fromCharCode(n), u != 64 && (r = r + String.fromCharCode(i)), c != 64 && (r = r + String.fromCharCode(a));
      return r = o.utf8_decode(r), r;
    }, o.utf8_decode = function(t) {
      t = t.replace(/rn/g, "n");
      for (var e = "", r = 0; r < t.length; r++) {
        var n = t.charCodeAt(r);
        n < 128 ? e += String.fromCharCode(n) : n > 127 && n < 2048 ? (e += String.fromCharCode(n >> 6 | 192), e += String.fromCharCode(n & 63 | 128)) : (e += String.fromCharCode(n >> 12 | 224), e += String.fromCharCode(n >> 6 & 63 | 128), e += String.fromCharCode(n & 63 | 128));
      }
      return e;
    }, o.setLicenseKey = function(t) {
      this.licenseKey = t;
    }, o.extractBracketedInformation = function(t) {
      var e = t.split("[").filter(function(i) {
        return i.indexOf("]") > -1;
      }).map(function(i) {
        return i.split("]")[0];
      });
      if (!e || e.length === 0)
        return [null, null];
      var r = e.filter(function(i) {
        return i === "TRIAL";
      }).length === 1, n = e.filter(function(i) {
        return i.indexOf("v") === 0;
      }).map(function(i) {
        return i.replace(/^v/, "");
      })[0];
      return [n, r];
    }, o.prototype.validateLicenseKeyForVersion = function(t, e, r) {
      t === "2" && (e ? this.validateForTrial(r) : this.validateLegacyKey(r));
    }, o.prototype.validateLegacyKey = function(t) {
      var e = o.getGridReleaseDate(), r = o.extractExpiry(t), n = !1, i = !1;
      if (isNaN(r.getTime()) || (n = !0, i = e < r), !n)
        this.outputInvalidLicenseKey();
      else if (!i) {
        var a = o.formatDate(r), s = o.formatDate(e);
        this.outputIncompatibleVersion(a, s);
      }
    }, o.prototype.validateForTrial = function(t) {
      var e = o.extractExpiry(t), r = /* @__PURE__ */ new Date(), n = !1, i = !1;
      if (isNaN(e.getTime()) || (n = !0, i = e > r), !n)
        this.outputInvalidLicenseKey();
      else if (!i) {
        var a = o.formatDate(e);
        this.outputExpiredTrialKey(a);
      }
    }, o.prototype.outputInvalidLicenseKey = function() {
      console.error("*****************************************************************************************************************"), console.error("***************************************** AG Grid Enterprise License ********************************************"), console.error("********************************************* Invalid License ***************************************************"), console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"), console.error("*****************************************************************************************************************"), console.error("*****************************************************************************************************************"), this.watermarkMessage = "Invalid License";
    }, o.prototype.outputExpiredTrialKey = function(t) {
      console.error("****************************************************************************************************************"), console.error("***************************************** AG Grid Enterprise License *******************************************"), console.error("*****************************************   Trial Period Expired.    *******************************************"), console.error("* Your license for AG Grid Enterprise expired on " + t + ".                                                *"), console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"), console.error("****************************************************************************************************************"), console.error("****************************************************************************************************************"), this.watermarkMessage = "Trial Period Expired";
    }, o.prototype.outputMissingLicenseKey = function() {
      console.error("****************************************************************************************************************"), console.error("***************************************** AG Grid Enterprise License *******************************************"), console.error("****************************************** License Key Not Found ***********************************************"), console.error("* All AG Grid Enterprise features are unlocked.                                                                *"), console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"), console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"), console.error("****************************************************************************************************************"), console.error("****************************************************************************************************************"), this.watermarkMessage = "For Trial Use Only";
    }, o.prototype.outputIncompatibleVersion = function(t, e) {
      console.error("****************************************************************************************************************************"), console.error("****************************************************************************************************************************"), console.error("*                                             AG Grid Enterprise License                                                   *"), console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"), console.error("*                                                                                                                          *"), console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"), console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"), console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"), console.error("* license end date. The license key that you have expires on " + t + ", however the version of AG Grid you    *"), console.error("* are trying to use was released on " + e + ".                                                               *"), console.error("*                                                                                                                          *"), console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"), console.error("* version of AG Grid.                                                                                                      *"), console.error("****************************************************************************************************************************"), console.error("****************************************************************************************************************************"), this.watermarkMessage = "License Expired";
    }, o.RELEASE_INFORMATION = "MTY5MDI5NDc3MDg0Mg==", o;
  }()
), xB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), HS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, TB = (
  /** @class */
  function(o) {
    xB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.validateLicense = function() {
      this.licenseManager = new $v(this.gridOptionsService.getDocument()), this.licenseManager.validateLicense();
    }, t.getLicenseDetails = function(e) {
      return new $v(null).getLicenseDetails(e);
    }, t.prototype.isDisplayWatermark = function() {
      return this.licenseManager.isDisplayWatermark();
    }, t.prototype.getWatermarkMessage = function() {
      return this.licenseManager.getWatermarkMessage();
    }, t.setLicenseKey = function(e) {
      $v.setLicenseKey(e);
    }, HS([
      jl
    ], t.prototype, "validateLicense", null), t = HS([
      q("licenseManager")
    ], t), t;
  }(W)
), RB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Uv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, DB = (
  /** @class */
  function(o) {
    RB(t, o);
    function t() {
      return o.call(
        this,
        /* html*/
        `<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`
      ) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this, r = this.shouldDisplayWatermark();
      this.setDisplayed(r), r && (this.eLicenseTextRef.innerText = this.licenseManager.getWatermarkMessage(), window.setTimeout(function() {
        return e.addCssClass("ag-opacity-zero");
      }, 0), window.setTimeout(function() {
        return e.setDisplayed(!1);
      }, 5e3));
    }, t.prototype.shouldDisplayWatermark = function() {
      return this.licenseManager.isDisplayWatermark();
    }, Uv([
      w("licenseManager")
    ], t.prototype, "licenseManager", void 0), Uv([
      G("eLicenseTextRef")
    ], t.prototype, "eLicenseTextRef", void 0), Uv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), PB = "30.0.6", cr = {
  version: PB,
  moduleName: Z.EnterpriseCoreModule,
  beans: [TB],
  agStackComponents: [
    { componentName: "AgWatermark", componentClass: DB }
  ]
}, AB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Xt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, MB = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, IB = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, jS = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, zv = "paste", Kv = "dragCopy", WS = "clipboard", Va;
(function(o) {
  o[o.CellRange = 0] = "CellRange", o[o.SelectedRows = 1] = "SelectedRows", o[o.FocusedCell = 2] = "FocusedCell";
})(Va || (Va = {}));
var FB = (
  /** @class */
  function(o) {
    AB(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.lastPasteOperationTime = 0, r.navigatorApiFailed = !1, r;
    }
    e = t, t.prototype.init = function() {
      var r = this;
      this.logger = this.loggerFactory.create("ClipboardService"), this.rowModel.getType() === "clientSide" && (this.clientSideRowModel = this.rowModel), this.ctrlsService.whenReady(function(n) {
        r.gridCtrl = n.gridCtrl;
      });
    }, t.prototype.pasteFromClipboard = function() {
      var r = this;
      this.logger.log("pasteFromClipboard");
      var n = !this.gridOptionsService.is("suppressClipboardApi");
      n && !this.navigatorApiFailed && navigator.clipboard && navigator.clipboard.readText ? navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(i) {
        T.doOnce(function() {
          console.warn(i), console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API");
        }, "clipboardApiError"), r.navigatorApiFailed = !0, r.pasteFromClipboardLegacy();
      }) : this.pasteFromClipboardLegacy();
    }, t.prototype.pasteFromClipboardLegacy = function() {
      var r = this, n = !1, i = function(a) {
        var s = (/* @__PURE__ */ new Date()).getTime();
        s - r.lastPasteOperationTime < 50 && (n = !0, a.preventDefault()), r.lastPasteOperationTime = s;
      };
      this.executeOnTempElement(function(a) {
        a.addEventListener("paste", i), a.focus({ preventScroll: !0 });
      }, function(a) {
        var s = a.value;
        n ? r.refocusLastFocusedCell() : r.processClipboardData(s), a.removeEventListener("paste", i);
      });
    }, t.prototype.refocusLastFocusedCell = function() {
      var r = this.focusService.getFocusedCell();
      r && this.focusService.setFocusedCell({
        rowIndex: r.rowIndex,
        column: r.column,
        rowPinned: r.rowPinned,
        forceBrowserFocus: !0
      });
    }, t.prototype.getClipboardDelimiter = function() {
      var r = this.gridOptionsService.get("clipboardDelimiter");
      return T.exists(r) ? r : "	";
    }, t.prototype.processClipboardData = function(r) {
      var n = this;
      if (r != null) {
        var i = e.stringToArray(r, this.getClipboardDelimiter()), a = this.gridOptionsService.getCallback("processDataFromClipboard");
        if (a && (i = a({ data: i })), i != null) {
          this.gridOptionsService.is("suppressLastEmptyLineOnPaste") && this.removeLastLineIfBlank(i);
          var s = function(l, u, c, d) {
            var p = n.rangeService && n.rangeService.isMoreThanOneCell(), h = p && !n.hasOnlyOneValueToPaste(i);
            h ? n.pasteIntoActiveRange(i, l, u, d) : n.pasteStartingFromFocusedCell(i, l, u, c, d);
          };
          this.doPasteOperation(s);
        }
      }
    }, t.stringToArray = function(r, n) {
      n === void 0 && (n = ",");
      var i = [], a = function(v) {
        return v === "\r" || v === `
`;
      }, s = !1;
      if (r === "")
        return [[""]];
      for (var l = function(v, g, y) {
        var m = r[y - 1], C = r[y], S = r[y + 1], b = function() {
          i[v] || (i[v] = []), i[v][g] || (i[v][g] = "");
        };
        if (b(), C === '"' && (s ? S === '"' ? (i[v][g] += '"', y++) : s = !1 : (m === void 0 || m === n || a(m)) && (s = !0)), !s && C !== '"') {
          if (C === n)
            return g++, b(), u = v, c = g, d = y, "continue";
          if (a(C))
            return g = 0, v++, b(), C === "\r" && S === `
` && y++, u = v, c = g, d = y, "continue";
        }
        i[v][g] += C, u = v, c = g, d = y;
      }, u, c, d, p = 0, h = 0, f = 0; f < r.length; f++)
        l(p, h, f), p = u, h = c, f = d;
      return i;
    }, t.prototype.doPasteOperation = function(r) {
      var n = this.gridOptionsService.api, i = this.gridOptionsService.columnApi, a = "clipboard";
      this.eventService.dispatchEvent({
        type: R.EVENT_PASTE_START,
        api: n,
        columnApi: i,
        source: a
      });
      var s;
      if (this.clientSideRowModel) {
        var l = this.gridOptionsService.is("aggregateOnlyChangedColumns");
        s = new Of(l, this.clientSideRowModel.getRootNode());
      }
      var u = {}, c = [], d = this.focusService.getFocusedCell();
      r(u, c, d, s);
      var p = IB([], MB(c));
      s && (this.clientSideRowModel.doAggregate(s), s.forEachChangedNodeDepthFirst(function(f) {
        p.push(f);
      })), this.rowRenderer.refreshCells({ rowNodes: p }), this.dispatchFlashCells(u), this.fireRowChanged(c), this.refocusLastFocusedCell();
      var h = {
        type: R.EVENT_PASTE_END,
        source: a
      };
      this.eventService.dispatchEvent(h);
    }, t.prototype.pasteIntoActiveRange = function(r, n, i, a) {
      var s = this, l = this.getRangeSize() % r.length != 0, u = 0, c = 0, d = function(p, h, f, v) {
        var g = v - u >= r.length;
        if (g) {
          if (l)
            return;
          u += c, c = 0;
        }
        var y = r[v - u];
        i.push(h);
        var m = s.gridOptionsService.getCallback("processCellFromClipboard");
        f.forEach(function(C, S) {
          if (!(!C.isCellEditable(h) || C.isSuppressPaste(h))) {
            S >= y.length && (S = S % y.length);
            var b = s.processCell(h, C, y[S], Kv, m, !0);
            h.setDataValue(C, b, zv), a && a.addParentNode(h.parent, [C]);
            var _ = p.rowIndex, O = p.rowPinned, E = s.cellPositionUtils.createIdFromValues({ rowIndex: _, column: C, rowPinned: O });
            n[E] = !0;
          }
        }), c++;
      };
      this.iterateActiveRanges(!1, d);
    }, t.prototype.pasteStartingFromFocusedCell = function(r, n, i, a, s) {
      if (a) {
        var l = { rowIndex: a.rowIndex, rowPinned: a.rowPinned }, u = this.columnModel.getDisplayedColumnsStartingAt(a.column);
        this.isPasteSingleValueIntoRange(r) ? this.pasteSingleValueIntoRange(r, i, n, s) : this.pasteMultipleValues(r, l, i, u, n, WS, s);
      }
    }, t.prototype.isPasteSingleValueIntoRange = function(r) {
      return this.hasOnlyOneValueToPaste(r) && this.rangeService != null && !this.rangeService.isEmpty();
    }, t.prototype.pasteSingleValueIntoRange = function(r, n, i, a) {
      var s = this, l = r[0][0], u = function(c, d, p) {
        n.push(d), p.forEach(function(h) {
          return s.updateCellValue(d, h, l, i, WS, a);
        });
      };
      this.iterateActiveRanges(!1, u);
    }, t.prototype.hasOnlyOneValueToPaste = function(r) {
      return r.length === 1 && r[0].length === 1;
    }, t.prototype.copyRangeDown = function() {
      var r = this;
      if (!(!this.rangeService || this.rangeService.isEmpty())) {
        var n = [], i = function(a, s, l, u) {
          var c = r.gridOptionsService.getCallback("processCellForClipboard"), d = r.gridOptionsService.getCallback("processCellFromClipboard"), p = function(h, f, v) {
            n.length ? (s.push(f), v.forEach(function(g, y) {
              if (!(!g.isCellEditable(f) || g.isSuppressPaste(f))) {
                var m = r.processCell(f, g, n[y], Kv, d, !0);
                f.setDataValue(g, m, zv), u && u.addParentNode(f.parent, [g]);
                var C = h.rowIndex, S = h.rowPinned, b = r.cellPositionUtils.createIdFromValues({ rowIndex: C, column: g, rowPinned: S });
                a[b] = !0;
              }
            })) : v.forEach(function(g) {
              var y = r.processCell(f, g, r.valueService.getValue(g, f), Kv, c, !1, !0);
              n.push(y);
            });
          };
          r.iterateActiveRanges(!0, p);
        };
        this.doPasteOperation(i);
      }
    }, t.prototype.removeLastLineIfBlank = function(r) {
      var n = T.last(r), i = n && n.length === 1 && n[0] === "";
      if (i) {
        if (r.length === 1)
          return;
        T.removeFromArray(r, n);
      }
    }, t.prototype.fireRowChanged = function(r) {
      var n = this;
      this.gridOptionsService.get("editType") === "fullRow" && r.forEach(function(i) {
        var a = {
          type: R.EVENT_ROW_VALUE_CHANGED,
          node: i,
          data: i.data,
          rowIndex: i.rowIndex,
          rowPinned: i.rowPinned
        };
        n.eventService.dispatchEvent(a);
      });
    }, t.prototype.pasteMultipleValues = function(r, n, i, a, s, l, u) {
      var c = this, d = n, p = this.clientSideRowModel != null && !this.gridOptionsService.is("enableGroupEdit") && !this.gridOptionsService.isTreeData(), h = function() {
        for (; ; ) {
          if (!d)
            return null;
          var f = c.rowPositionUtils.getRowNode(d);
          if (d = c.cellNavigationService.getRowBelow({ rowPinned: d.rowPinned, rowIndex: d.rowIndex }), f == null)
            return null;
          var v = f.detail || f.footer || p && f.group;
          if (!v)
            return f;
        }
      };
      r.forEach(function(f) {
        var v = h();
        v && (f.forEach(function(g, y) {
          return c.updateCellValue(v, a[y], g, s, l, u);
        }), i.push(v));
      });
    }, t.prototype.updateCellValue = function(r, n, i, a, s, l) {
      if (!(!r || !n || !n.isCellEditable(r) || n.isSuppressPaste(r)) && !(r.group && n.isValueActive())) {
        var u = this.processCell(r, n, i, s, this.gridOptionsService.getCallback("processCellFromClipboard"), !0);
        r.setDataValue(n, u, zv);
        var c = r.rowIndex, d = r.rowPinned, p = this.cellPositionUtils.createIdFromValues({ rowIndex: c, column: n, rowPinned: d });
        a[p] = !0, l && l.addParentNode(r.parent, [n]);
      }
    }, t.prototype.copyToClipboard = function(r) {
      r === void 0 && (r = {}), this.copyOrCutToClipboard(r);
    }, t.prototype.cutToClipboard = function(r, n) {
      if (r === void 0 && (r = {}), n === void 0 && (n = "api"), !this.gridOptionsService.is("suppressCutToClipboard")) {
        var i = {
          type: R.EVENT_CUT_START,
          source: n
        };
        this.eventService.dispatchEvent(i), this.copyOrCutToClipboard(r, !0);
        var a = {
          type: R.EVENT_CUT_END,
          source: n
        };
        this.eventService.dispatchEvent(a);
      }
    }, t.prototype.copyOrCutToClipboard = function(r, n) {
      var i = r.includeHeaders, a = r.includeGroupHeaders;
      this.logger.log("copyToClipboard: includeHeaders = " + i), i == null && (i = this.gridOptionsService.is("copyHeadersToClipboard")), a == null && (a = this.gridOptionsService.is("copyGroupHeadersToClipboard"));
      var s = { includeHeaders: i, includeGroupHeaders: a }, l = !this.gridOptionsService.is("suppressCopyRowsToClipboard"), u = null;
      this.rangeService && !this.rangeService.isEmpty() && !this.shouldSkipSingleCellRange() ? (this.copySelectedRangeToClipboard(s), u = Va.CellRange) : l && !this.selectionService.isEmpty() ? (this.copySelectedRowsToClipboard(s), u = Va.SelectedRows) : this.focusService.isAnyCellFocused() && (this.copyFocusedCellToClipboard(s), u = Va.FocusedCell), n && u !== null && this.clearCellsAfterCopy(u);
    }, t.prototype.clearCellsAfterCopy = function(r) {
      if (this.eventService.dispatchEvent({ type: R.EVENT_KEY_SHORTCUT_CHANGED_CELL_START }), r === Va.CellRange)
        this.rangeService.clearCellRangeCellValues({ cellEventSource: "clipboardService" });
      else if (r === Va.SelectedRows)
        this.clearSelectedRows();
      else {
        var n = this.focusService.getFocusedCell();
        if (n == null)
          return;
        var i = this.rowPositionUtils.getRowNode(n);
        i && this.clearCellValue(i, n.column);
      }
      this.eventService.dispatchEvent({ type: R.EVENT_KEY_SHORTCUT_CHANGED_CELL_END });
    }, t.prototype.clearSelectedRows = function() {
      var r, n, i, a, s = this.selectionService.getSelectedNodes(), l = this.columnModel.getAllDisplayedColumns();
      try {
        for (var u = jS(s), c = u.next(); !c.done; c = u.next()) {
          var d = c.value;
          try {
            for (var p = (i = void 0, jS(l)), h = p.next(); !h.done; h = p.next()) {
              var f = h.value;
              this.clearCellValue(d, f);
            }
          } catch (v) {
            i = { error: v };
          } finally {
            try {
              h && !h.done && (a = p.return) && a.call(p);
            } finally {
              if (i)
                throw i.error;
            }
          }
        }
      } catch (v) {
        r = { error: v };
      } finally {
        try {
          c && !c.done && (n = u.return) && n.call(u);
        } finally {
          if (r)
            throw r.error;
        }
      }
    }, t.prototype.clearCellValue = function(r, n) {
      n.isCellEditable(r) && r.setDataValue(n, null, "clipboardService");
    }, t.prototype.shouldSkipSingleCellRange = function() {
      return this.gridOptionsService.is("suppressCopySingleCellRanges") && !this.rangeService.isMoreThanOneCell();
    }, t.prototype.iterateActiveRanges = function(r, n, i) {
      var a = this;
      if (!(!this.rangeService || this.rangeService.isEmpty())) {
        var s = this.rangeService.getCellRanges();
        r ? this.iterateActiveRange(s[0], n, i, !0) : s.forEach(function(l, u) {
          return a.iterateActiveRange(l, n, i, u === s.length - 1);
        });
      }
    }, t.prototype.iterateActiveRange = function(r, n, i, a) {
      if (this.rangeService) {
        var s = this.rangeService.getRangeStartRow(r), l = this.rangeService.getRangeEndRow(r);
        i && r.columns && i(r.columns);
        for (var u = 0, c = !1; !c && s != null; ) {
          var d = this.rowPositionUtils.getRowNode(s);
          c = this.rowPositionUtils.sameRow(s, l), n(s, d, r.columns, u++, c && a), s = this.cellNavigationService.getRowBelow(s);
        }
      }
    }, t.prototype.copySelectedRangeToClipboard = function(r) {
      if (r === void 0 && (r = {}), !(!this.rangeService || this.rangeService.isEmpty())) {
        var n = this.rangeService.areAllRangesAbleToMerge(), i = n ? this.buildDataFromMergedRanges(r) : this.buildDataFromRanges(r), a = i.data, s = i.cellsToFlash;
        this.copyDataToClipboard(a), this.dispatchFlashCells(s);
      }
    }, t.prototype.buildDataFromMergedRanges = function(r) {
      var n = this, i = /* @__PURE__ */ new Set(), a = this.rangeService.getCellRanges(), s = /* @__PURE__ */ new Map(), l = [], u = {};
      a.forEach(function(h) {
        h.columns.forEach(function(y) {
          return i.add(y);
        });
        var f = n.getRangeRowPositionsAndCellsToFlash(h), v = f.rowPositions, g = f.cellsToFlash;
        v.forEach(function(y) {
          var m = y.rowIndex + "-" + (y.rowPinned || "null");
          s.get(m) || (s.set(m, !0), l.push(y));
        }), Object.assign(u, g);
      });
      var c = this.columnModel.getAllDisplayedColumns(), d = Array.from(i);
      d.sort(function(h, f) {
        var v = c.indexOf(h), g = c.indexOf(f);
        return v - g;
      });
      var p = this.buildExportParams({
        columns: d,
        rowPositions: l,
        includeHeaders: r.includeHeaders,
        includeGroupHeaders: r.includeGroupHeaders
      });
      return { data: p, cellsToFlash: u };
    }, t.prototype.buildDataFromRanges = function(r) {
      var n = this, i = this.rangeService.getCellRanges(), a = [], s = {};
      return i.forEach(function(l) {
        var u = n.getRangeRowPositionsAndCellsToFlash(l), c = u.rowPositions, d = u.cellsToFlash;
        Object.assign(s, d), a.push(n.buildExportParams({
          columns: l.columns,
          rowPositions: c,
          includeHeaders: r.includeHeaders,
          includeGroupHeaders: r.includeGroupHeaders
        }));
      }), { data: a.join(`
`), cellsToFlash: s };
    }, t.prototype.getRangeRowPositionsAndCellsToFlash = function(r) {
      for (var n = this, i = [], a = {}, s = this.rangeService.getRangeStartRow(r), l = this.rangeService.getRangeEndRow(r), u = s; u && (i.push(u), r.columns.forEach(function(c) {
        var d = u, p = d.rowIndex, h = d.rowPinned, f = n.cellPositionUtils.createIdFromValues({ rowIndex: p, column: c, rowPinned: h });
        a[f] = !0;
      }), !this.rowPositionUtils.sameRow(u, l)); )
        u = this.cellNavigationService.getRowBelow(u);
      return { rowPositions: i, cellsToFlash: a };
    }, t.prototype.copyFocusedCellToClipboard = function(r) {
      var n;
      r === void 0 && (r = {});
      var i = this.focusService.getFocusedCell();
      if (i != null) {
        var a = this.cellPositionUtils.createId(i), s = { rowPinned: i.rowPinned, rowIndex: i.rowIndex }, l = i.column, u = this.buildExportParams({
          columns: [l],
          rowPositions: [s],
          includeHeaders: r.includeHeaders,
          includeGroupHeaders: r.includeGroupHeaders
        });
        this.copyDataToClipboard(u), this.dispatchFlashCells((n = {}, n[a] = !0, n));
      }
    }, t.prototype.copySelectedRowsToClipboard = function(r) {
      r === void 0 && (r = {});
      var n = r.columnKeys, i = r.includeHeaders, a = r.includeGroupHeaders, s = this.buildExportParams({
        columns: n,
        includeHeaders: i,
        includeGroupHeaders: a
      });
      this.copyDataToClipboard(s);
    }, t.prototype.buildExportParams = function(r) {
      var n = this, i = r.columns, a = r.rowPositions, s = r.includeHeaders, l = s === void 0 ? !1 : s, u = r.includeGroupHeaders, c = u === void 0 ? !1 : u, d = {
        columnKeys: i,
        rowPositions: a,
        skipColumnHeaders: !l,
        skipColumnGroupHeaders: !c,
        suppressQuotes: !0,
        columnSeparator: this.getClipboardDelimiter(),
        onlySelected: !a,
        processCellCallback: this.gridOptionsService.getCallback("processCellForClipboard"),
        processRowGroupCallback: function(p) {
          return n.processRowGroupCallback(p);
        },
        processHeaderCallback: this.gridOptionsService.getCallback("processHeaderForClipboard"),
        processGroupHeaderCallback: this.gridOptionsService.getCallback("processGroupHeaderForClipboard")
      };
      return this.csvCreator.getDataAsCsv(d, !0);
    }, t.prototype.processRowGroupCallback = function(r) {
      var n = this, i = r.node, a = i.key, s = a != null ? a : "";
      if (r.node.footer) {
        var l = "";
        a && a.length && (l = " " + a), s = "Total" + l;
      }
      var u = this.gridOptionsService.getCallback("processCellForClipboard");
      if (u) {
        var c = i.rowGroupColumn;
        return !c && i.footer && i.level === -1 && (c = this.columnModel.getRowGroupColumns()[0]), u({
          value: s,
          node: i,
          column: c,
          type: "clipboard",
          formatValue: function(d) {
            var p;
            return (p = n.valueFormatterService.formatValue(c, i, d)) !== null && p !== void 0 ? p : d;
          },
          parseValue: function(d) {
            return n.valueParserService.parseValue(c, i, d, n.valueService.getValue(c, i));
          }
        });
      }
      return s;
    }, t.prototype.dispatchFlashCells = function(r) {
      var n = this;
      window.setTimeout(function() {
        var i = {
          type: R.EVENT_FLASH_CELLS,
          cells: r
        };
        n.eventService.dispatchEvent(i);
      }, 0);
    }, t.prototype.processCell = function(r, n, i, a, s, l, u) {
      var c = this, d;
      if (s) {
        var p = {
          column: n,
          node: r,
          value: i,
          type: a,
          formatValue: function(h) {
            var f;
            return (f = c.valueFormatterService.formatValue(n, r != null ? r : null, h)) !== null && f !== void 0 ? f : h;
          },
          parseValue: function(h) {
            return c.valueParserService.parseValue(n, r != null ? r : null, h, c.valueService.getValue(n, r));
          }
        };
        return s(p);
      }
      return l && n.getColDef().useValueParserForImport ? this.valueParserService.parseValue(n, r != null ? r : null, i, this.valueService.getValue(n, r)) : u && n.getColDef().useValueFormatterForExport && (d = this.valueFormatterService.formatValue(n, r != null ? r : null, i)) !== null && d !== void 0 ? d : i;
    }, t.prototype.copyDataToClipboard = function(r) {
      var n = this, i = this.gridOptionsService.getCallback("sendToClipboard");
      if (i) {
        i({ data: r });
        return;
      }
      var a = !this.gridOptionsService.is("suppressClipboardApi");
      if (a && navigator.clipboard) {
        navigator.clipboard.writeText(r).catch(function(s) {
          T.doOnce(function() {
            console.warn(s), console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.");
          }, "clipboardApiError"), n.copyDataToClipboardLegacy(r);
        });
        return;
      }
      this.copyDataToClipboardLegacy(r);
    }, t.prototype.copyDataToClipboardLegacy = function(r) {
      var n = this;
      this.executeOnTempElement(function(i) {
        var a = n.gridOptionsService.getDocument(), s = a.activeElement;
        i.value = r || " ", i.select(), i.focus({ preventScroll: !0 });
        var l = a.execCommand("copy");
        l || console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."), s != null && s.focus != null && s.focus({ preventScroll: !0 });
      });
    }, t.prototype.executeOnTempElement = function(r, n) {
      var i = this.gridOptionsService.getDocument(), a = i.createElement("textarea");
      a.style.width = "1px", a.style.height = "1px", a.style.top = i.documentElement.scrollTop + "px", a.style.left = i.documentElement.scrollLeft + "px", a.style.position = "absolute", a.style.opacity = "0";
      var s = this.gridCtrl.getGui();
      s.appendChild(a);
      try {
        r(a);
      } catch (l) {
        console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations");
      }
      n ? window.setTimeout(function() {
        n(a), s.removeChild(a);
      }, 100) : s.removeChild(a);
    }, t.prototype.getRangeSize = function() {
      var r = this.rangeService.getCellRanges(), n = 0, i = 0;
      return r.length > 0 && (n = this.rangeService.getRangeStartRow(r[0]).rowIndex, i = this.rangeService.getRangeEndRow(r[0]).rowIndex), n - i + 1;
    };
    var e;
    return Xt([
      w("csvCreator")
    ], t.prototype, "csvCreator", void 0), Xt([
      w("loggerFactory")
    ], t.prototype, "loggerFactory", void 0), Xt([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Xt([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Xt([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Xt([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Xt([
      w("valueService")
    ], t.prototype, "valueService", void 0), Xt([
      w("focusService")
    ], t.prototype, "focusService", void 0), Xt([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Xt([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Xt([
      w("cellNavigationService")
    ], t.prototype, "cellNavigationService", void 0), Xt([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), Xt([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), Xt([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), Xt([
      w("valueParserService")
    ], t.prototype, "valueParserService", void 0), Xt([
      V
    ], t.prototype, "init", null), t = e = Xt([
      q("clipboardService")
    ], t), t;
  }(W)
), LB = "30.0.6", NB = {
  version: LB,
  moduleName: Z.ClipboardModule,
  beans: [FB],
  dependantModules: [
    cr,
    Xm
  ]
}, GB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Hu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, vi;
(function(o) {
  o[o.EXPANDED = 0] = "EXPANDED", o[o.COLLAPSED = 1] = "COLLAPSED", o[o.INDETERMINATE = 2] = "INDETERMINATE";
})(vi || (vi = {}));
var kB = (
  /** @class */
  function(o) {
    GB(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.createExpandIcons(), this.addManagedListener(this.eExpand, "click", this.onExpandClicked.bind(this)), this.addManagedListener(this.eExpand, "keydown", function(n) {
        n.key === H.SPACE && (n.preventDefault(), e.onExpandClicked());
      }), this.addManagedListener(this.eSelect.getInputElement(), "click", this.onSelectClicked.bind(this)), this.eFilterTextField.onValueChange(function() {
        return e.onFilterTextChanged();
      }), this.addManagedListener(this.eFilterTextField.getInputElement(), "keydown", this.onMiniFilterKeyDown.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.showOrHideOptions.bind(this));
      var r = this.localeService.getLocaleTextFunc();
      this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll", "Toggle Select All Columns")), this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput", "Filter Columns Input")), this.activateTabIndex([this.eExpand]);
    }, t.prototype.init = function(e) {
      this.params = e, this.columnModel.isReady() && this.showOrHideOptions();
    }, t.prototype.createExpandIcons = function() {
      this.eExpand.appendChild(this.eExpandChecked = T.createIconNoSpan("columnSelectOpen", this.gridOptionsService)), this.eExpand.appendChild(this.eExpandUnchecked = T.createIconNoSpan("columnSelectClosed", this.gridOptionsService)), this.eExpand.appendChild(this.eExpandIndeterminate = T.createIconNoSpan("columnSelectIndeterminate", this.gridOptionsService)), this.setExpandState(vi.EXPANDED);
    }, t.prototype.showOrHideOptions = function() {
      var e = !this.params.suppressColumnFilter, r = !this.params.suppressColumnSelectAll, n = !this.params.suppressColumnExpandAll, i = this.columnModel.isPrimaryColumnGroupsPresent(), a = this.localeService.getLocaleTextFunc();
      this.eFilterTextField.setInputPlaceholder(a("searchOoo", "Search...")), T.setDisplayed(this.eFilterTextField.getGui(), e), T.setDisplayed(this.eSelect.getGui(), r), T.setDisplayed(this.eExpand, n && i);
    }, t.prototype.onFilterTextChanged = function() {
      var e = this;
      this.onFilterTextChangedDebounced || (this.onFilterTextChangedDebounced = T.debounce(function() {
        var r = e.eFilterTextField.getValue();
        e.dispatchEvent({ type: "filterChanged", filterText: r });
      }, t.DEBOUNCE_DELAY)), this.onFilterTextChangedDebounced();
    }, t.prototype.onMiniFilterKeyDown = function(e) {
      var r = this;
      e.key === H.ENTER && setTimeout(function() {
        return r.onSelectClicked();
      }, t.DEBOUNCE_DELAY);
    }, t.prototype.onSelectClicked = function() {
      this.dispatchEvent({ type: this.selectState ? "unselectAll" : "selectAll" });
    }, t.prototype.onExpandClicked = function() {
      this.dispatchEvent({ type: this.expandState === vi.EXPANDED ? "collapseAll" : "expandAll" });
    }, t.prototype.setExpandState = function(e) {
      this.expandState = e, T.setDisplayed(this.eExpandChecked, this.expandState === vi.EXPANDED), T.setDisplayed(this.eExpandUnchecked, this.expandState === vi.COLLAPSED), T.setDisplayed(this.eExpandIndeterminate, this.expandState === vi.INDETERMINATE);
    }, t.prototype.setSelectionState = function(e) {
      this.selectState = e, this.eSelect.setValue(this.selectState);
    }, t.DEBOUNCE_DELAY = 300, t.TEMPLATE = `<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`, Hu([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Hu([
      G("eExpand")
    ], t.prototype, "eExpand", void 0), Hu([
      G("eSelect")
    ], t.prototype, "eSelect", void 0), Hu([
      G("eFilterTextField")
    ], t.prototype, "eFilterTextField", void 0), Hu([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), vc = (
  /** @class */
  function() {
    function o(t, e, r, n, i) {
      n === void 0 && (n = !1), this.eventService = new Di(), this.displayName = t, this.dept = r, this.group = n, n ? (this.columnGroup = e, this.expanded = i, this.children = []) : this.column = e;
    }
    return o.prototype.isGroup = function() {
      return this.group;
    }, o.prototype.getDisplayName = function() {
      return this.displayName;
    }, o.prototype.getColumnGroup = function() {
      return this.columnGroup;
    }, o.prototype.getColumn = function() {
      return this.column;
    }, o.prototype.getDept = function() {
      return this.dept;
    }, o.prototype.isExpanded = function() {
      return !!this.expanded;
    }, o.prototype.getChildren = function() {
      return this.children;
    }, o.prototype.isPassesFilter = function() {
      return this.passesFilter;
    }, o.prototype.setExpanded = function(t) {
      t !== this.expanded && (this.expanded = t, this.eventService.dispatchEvent({ type: o.EVENT_EXPANDED_CHANGED }));
    }, o.prototype.setPassesFilter = function(t) {
      this.passesFilter = t;
    }, o.prototype.addEventListener = function(t, e) {
      this.eventService.addEventListener(t, e);
    }, o.prototype.removeEventListener = function(t, e) {
      this.eventService.removeEventListener(t, e);
    }, o.EVENT_EXPANDED_CHANGED = "expandedChanged", o;
  }()
), VB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Qd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, BB = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, HB = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, jB = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, qE = (
  /** @class */
  function(o) {
    VB(t, o);
    function t(e, r, n) {
      var i = o.call(
        this,
        /* html */
        '<div class="ag-menu"></div>'
      ) || this;
      return i.column = e, i.mouseEvent = r, i.parentEl = n, i.displayName = null, i;
    }
    return t.prototype.postConstruct = function() {
      this.initializeProperties(this.column), this.buildMenuItemMap(), this.column instanceof Me ? this.displayName = this.columnModel.getDisplayNameForColumn(this.column, "columnToolPanel") : this.displayName = this.columnModel.getDisplayNameForProvidedColumnGroup(null, this.column, "columnToolPanel"), this.isActive() && (this.mouseEvent.preventDefault(), this.displayContextMenu());
    }, t.prototype.initializeProperties = function(e) {
      e instanceof qe ? this.columns = e.getLeafColumns() : this.columns = [e], this.allowGrouping = this.columns.some(function(r) {
        return r.isPrimary() && r.isAllowRowGroup();
      }), this.allowValues = this.columns.some(function(r) {
        return r.isPrimary() && r.isAllowValue();
      }), this.allowPivoting = this.columnModel.isPivotMode() && this.columns.some(function(r) {
        return r.isPrimary() && r.isAllowPivot();
      });
    }, t.prototype.buildMenuItemMap = function() {
      var e = this, r = this.localeService.getLocaleTextFunc();
      this.menuItemMap = /* @__PURE__ */ new Map(), this.menuItemMap.set("rowGroup", {
        allowedFunction: function(n) {
          return n.isPrimary() && n.isAllowRowGroup();
        },
        activeFunction: function(n) {
          return n.isRowGroupActive();
        },
        activateLabel: function() {
          return r("groupBy", "Group by") + " " + e.displayName;
        },
        deactivateLabel: function() {
          return r("ungroupBy", "Un-Group by") + " " + e.displayName;
        },
        activateFunction: function() {
          var n = e.columnModel.getRowGroupColumns();
          e.columnModel.setRowGroupColumns(e.addColumnsToList(n), "toolPanelUi");
        },
        deActivateFunction: function() {
          var n = e.columnModel.getRowGroupColumns();
          e.columnModel.setRowGroupColumns(e.removeColumnsFromList(n), "toolPanelUi");
        },
        addIcon: "menuAddRowGroup",
        removeIcon: "menuRemoveRowGroup"
      }), this.menuItemMap.set("value", {
        allowedFunction: function(n) {
          return n.isPrimary() && n.isAllowValue();
        },
        activeFunction: function(n) {
          return n.isValueActive();
        },
        activateLabel: function() {
          return r("addToValues", "Add " + e.displayName + " to values", [e.displayName]);
        },
        deactivateLabel: function() {
          return r("removeFromValues", "Remove " + e.displayName + " from values", [e.displayName]);
        },
        activateFunction: function() {
          var n = e.columnModel.getValueColumns();
          e.columnModel.setValueColumns(e.addColumnsToList(n), "toolPanelUi");
        },
        deActivateFunction: function() {
          var n = e.columnModel.getValueColumns();
          e.columnModel.setValueColumns(e.removeColumnsFromList(n), "toolPanelUi");
        },
        addIcon: "valuePanel",
        removeIcon: "valuePanel"
      }), this.menuItemMap.set("pivot", {
        allowedFunction: function(n) {
          return e.columnModel.isPivotMode() && n.isPrimary() && n.isAllowPivot();
        },
        activeFunction: function(n) {
          return n.isPivotActive();
        },
        activateLabel: function() {
          return r("addToLabels", "Add " + e.displayName + " to labels", [e.displayName]);
        },
        deactivateLabel: function() {
          return r("removeFromLabels", "Remove " + e.displayName + " from labels", [e.displayName]);
        },
        activateFunction: function() {
          var n = e.columnModel.getPivotColumns();
          e.columnModel.setPivotColumns(e.addColumnsToList(n), "toolPanelUi");
        },
        deActivateFunction: function() {
          var n = e.columnModel.getPivotColumns();
          e.columnModel.setPivotColumns(e.removeColumnsFromList(n), "toolPanelUi");
        },
        addIcon: "pivotPanel",
        removeIcon: "pivotPanel"
      });
    }, t.prototype.addColumnsToList = function(e) {
      return HB([], BB(e)).concat(this.columns.filter(function(r) {
        return e.indexOf(r) === -1;
      }));
    }, t.prototype.removeColumnsFromList = function(e) {
      var r = this;
      return e.filter(function(n) {
        return r.columns.indexOf(n) === -1;
      });
    }, t.prototype.displayContextMenu = function() {
      var e = this, r = this.getGui(), n = this.createBean(new xf()), i = this.getMappedMenuItems(), a = this.localeService.getLocaleTextFunc(), s = function() {
      };
      r.appendChild(n.getGui()), n.addMenuItems(i), n.addManagedListener(n, Hn.EVENT_MENU_ITEM_SELECTED, function() {
        e.parentEl.focus(), s();
      });
      var l = this.popupService.addPopup({
        modal: !0,
        eChild: r,
        closeOnEsc: !0,
        afterGuiAttached: function() {
          return e.focusService.focusInto(n.getGui());
        },
        ariaLabel: a("ariaLabelContextMenu", "Context Menu"),
        closedCallback: function(u) {
          u instanceof KeyboardEvent && e.parentEl.focus(), e.destroyBean(n);
        }
      });
      l && (s = l.hideFunc), this.popupService.positionPopupUnderMouseEvent({
        type: "columnContextMenu",
        mouseEvent: this.mouseEvent,
        ePopup: r
      });
    }, t.prototype.isActive = function() {
      return this.allowGrouping || this.allowValues || this.allowPivoting;
    }, t.prototype.getMappedMenuItems = function() {
      var e, r, n = [], i = function(c) {
        var d = a.columns.some(function(h) {
          return c.allowedFunction(h) && !c.activeFunction(h);
        }), p = a.columns.some(function(h) {
          return c.allowedFunction(h) && c.activeFunction(h);
        });
        d && n.push({
          name: c.activateLabel(a.displayName),
          icon: T.createIconNoSpan(c.addIcon, a.gridOptionsService, null),
          action: function() {
            return c.activateFunction();
          }
        }), p && n.push({
          name: c.deactivateLabel(a.displayName),
          icon: T.createIconNoSpan(c.removeIcon, a.gridOptionsService, null),
          action: function() {
            return c.deActivateFunction();
          }
        });
      }, a = this;
      try {
        for (var s = jB(this.menuItemMap.values()), l = s.next(); !l.done; l = s.next()) {
          var u = l.value;
          i(u);
        }
      } catch (c) {
        e = { error: c };
      } finally {
        try {
          l && !l.done && (r = s.return) && r.call(s);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return n;
    }, Qd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Qd([
      w("popupService")
    ], t.prototype, "popupService", void 0), Qd([
      w("focusService")
    ], t.prototype, "focusService", void 0), Qd([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), WB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Li = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ZE = (
  /** @class */
  function(o) {
    WB(t, o);
    function t(e, r, n, i) {
      var a = o.call(this) || this;
      return a.modelItem = e, a.allowDragging = r, a.eventType = n, a.focusWrapper = i, a.processingColumnStateChange = !1, a.modelItem = e, a.columnGroup = e.getColumnGroup(), a.columnDept = e.getDept(), a.displayName = e.getDisplayName(), a.allowDragging = r, a;
    }
    return t.prototype.init = function() {
      var e = this;
      this.setTemplate(t.TEMPLATE), this.eDragHandle = T.createIconNoSpan("columnDrag", this.gridOptionsService), this.eDragHandle.classList.add("ag-drag-handle", "ag-column-select-column-group-drag-handle");
      var r = this.cbSelect.getGui(), n = this.cbSelect.getInputElement();
      r.insertAdjacentElement("afterend", this.eDragHandle), n.setAttribute("tabindex", "-1"), T.missing(this.displayName) && (this.displayName = ">>"), this.eLabel.innerHTML = this.displayName ? this.displayName : "", this.setupExpandContract(), this.addCssClass("ag-column-select-indent-" + this.columnDept), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.eLabel, "click", this.onLabelClicked.bind(this)), this.addManagedListener(this.cbSelect, On.EVENT_CHANGED, this.onCheckboxChanged.bind(this)), this.addManagedListener(this.modelItem, vc.EVENT_EXPANDED_CHANGED, this.onExpandChanged.bind(this)), this.addManagedListener(this.focusWrapper, "keydown", this.handleKeyDown.bind(this)), this.addManagedListener(this.focusWrapper, "contextmenu", this.onContextMenu.bind(this)), this.setOpenClosedIcons(), this.setupDragging(), this.onColumnStateChanged(), this.addVisibilityListenersToAllChildren(), this.refreshAriaExpanded(), this.refreshAriaLabel(), this.setupTooltip();
      var i = ud.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(), this.gridOptionsService, null, this.columnGroup);
      i.forEach(function(a) {
        return e.addOrRemoveCssClass(a, !0);
      });
    }, t.prototype.getColumns = function() {
      return this.columnGroup.getLeafColumns();
    }, t.prototype.setupTooltip = function() {
      var e = this, r = this.columnGroup.getColGroupDef();
      if (r) {
        var n = function() {
          var i = r.headerTooltip;
          e.setTooltip(i);
        };
        n(), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, n);
      }
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "columnToolPanelColumnGroup", e;
    }, t.prototype.handleKeyDown = function(e) {
      switch (e.key) {
        case H.LEFT:
          e.preventDefault(), this.modelItem.setExpanded(!1);
          break;
        case H.RIGHT:
          e.preventDefault(), this.modelItem.setExpanded(!0);
          break;
        case H.SPACE:
          e.preventDefault(), this.isSelectable() && this.onSelectAllChanged(!this.isSelected());
          break;
      }
    }, t.prototype.onContextMenu = function(e) {
      var r = this, n = this, i = n.columnGroup, a = n.gridOptionsService;
      if (!a.is("functionsReadOnly")) {
        var s = this.createBean(new qE(i, e, this.focusWrapper));
        this.addDestroyFunc(function() {
          s.isAlive() && r.destroyBean(s);
        });
      }
    }, t.prototype.addVisibilityListenersToAllChildren = function() {
      var e = this;
      this.columnGroup.getLeafColumns().forEach(function(r) {
        e.addManagedListener(r, Me.EVENT_VISIBLE_CHANGED, e.onColumnStateChanged.bind(e)), e.addManagedListener(r, Me.EVENT_VALUE_CHANGED, e.onColumnStateChanged.bind(e)), e.addManagedListener(r, Me.EVENT_PIVOT_CHANGED, e.onColumnStateChanged.bind(e)), e.addManagedListener(r, Me.EVENT_ROW_GROUP_CHANGED, e.onColumnStateChanged.bind(e));
      });
    }, t.prototype.setupDragging = function() {
      var e = this;
      if (!this.allowDragging) {
        T.setDisplayed(this.eDragHandle, !1);
        return;
      }
      var r = !this.gridOptionsService.is("suppressDragLeaveHidesColumns"), n = {
        type: gt.ToolPanel,
        eElement: this.eDragHandle,
        dragItemName: this.displayName,
        defaultIconName: r ? Ze.ICON_HIDE : Ze.ICON_NOT_ALLOWED,
        getDragItem: function() {
          return e.createDragItem();
        },
        onDragStarted: function() {
          var i = {
            type: R.EVENT_COLUMN_PANEL_ITEM_DRAG_START,
            column: e.columnGroup
          };
          e.eventService.dispatchEvent(i);
        },
        onDragStopped: function() {
          var i = {
            type: R.EVENT_COLUMN_PANEL_ITEM_DRAG_END
          };
          e.eventService.dispatchEvent(i);
        },
        onGridEnter: function(i) {
          r && e.modelItemUtils.updateColumns({
            columns: e.columnGroup.getLeafColumns(),
            visibleState: i == null ? void 0 : i.visibleState,
            pivotState: i == null ? void 0 : i.pivotState,
            eventType: e.eventType
          });
        },
        onGridExit: function() {
          r && e.onChangeCommon(!1);
        }
      };
      this.dragAndDropService.addDragSource(n, !0), this.addDestroyFunc(function() {
        return e.dragAndDropService.removeDragSource(n);
      });
    }, t.prototype.createDragItem = function() {
      var e = this, r = this.columnGroup.getLeafColumns(), n = {}, i = {};
      return r.forEach(function(a) {
        var s = a.getId();
        n[s] = a.isVisible(), i[s] = e.modelItemUtils.createPivotState(a);
      }), {
        columns: r,
        visibleState: n,
        pivotState: i
      };
    }, t.prototype.setupExpandContract = function() {
      this.eGroupClosedIcon.appendChild(T.createIcon("columnSelectClosed", this.gridOptionsService, null)), this.eGroupOpenedIcon.appendChild(T.createIcon("columnSelectOpen", this.gridOptionsService, null)), this.addManagedListener(this.eGroupClosedIcon, "click", this.onExpandOrContractClicked.bind(this)), this.addManagedListener(this.eGroupOpenedIcon, "click", this.onExpandOrContractClicked.bind(this));
      var e = new sr(this.eColumnGroupIcons, !0);
      this.addManagedListener(e, sr.EVENT_TAP, this.onExpandOrContractClicked.bind(this)), this.addDestroyFunc(e.destroy.bind(e));
    }, t.prototype.onLabelClicked = function() {
      var e = !this.cbSelect.getValue();
      this.onChangeCommon(e);
    }, t.prototype.onCheckboxChanged = function(e) {
      this.onChangeCommon(e.selected);
    }, t.prototype.getVisibleLeafColumns = function() {
      var e = [], r = function(n) {
        n.forEach(function(i) {
          i.isPassesFilter() && (i.isGroup() ? r(i.getChildren()) : e.push(i.getColumn()));
        });
      };
      return r(this.modelItem.getChildren()), e;
    }, t.prototype.onChangeCommon = function(e) {
      this.refreshAriaLabel(), !this.processingColumnStateChange && this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(), e, this.eventType);
    }, t.prototype.refreshAriaLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaColumnGroup", "Column Group"), n = this.cbSelect.getValue(), i = n === void 0 ? e("ariaIndeterminate", "indeterminate") : n ? e("ariaVisible", "visible") : e("ariaHidden", "hidden"), a = e("ariaToggleVisibility", "Press SPACE to toggle visibility");
      T.setAriaLabel(this.focusWrapper, this.displayName + " " + r), this.cbSelect.setInputAriaLabel(a + " (" + i + ")"), T.setAriaDescribedBy(this.focusWrapper, this.cbSelect.getInputElement().id);
    }, t.prototype.onColumnStateChanged = function() {
      var e = this.workOutSelectedValue(), r = this.workOutReadOnlyValue();
      this.processingColumnStateChange = !0, this.cbSelect.setValue(e), this.cbSelect.setReadOnly(r), this.addOrRemoveCssClass("ag-column-select-column-group-readonly", r), this.processingColumnStateChange = !1;
    }, t.prototype.workOutSelectedValue = function() {
      var e = this, r = this.columnModel.isPivotMode(), n = this.getVisibleLeafColumns(), i = 0, a = 0;
      if (n.forEach(function(s) {
        !r && s.getColDef().lockVisible || (e.isColumnChecked(s, r) ? i++ : a++);
      }), !(i > 0 && a > 0))
        return i > 0;
    }, t.prototype.workOutReadOnlyValue = function() {
      var e = this.columnModel.isPivotMode(), r = 0;
      return this.columnGroup.getLeafColumns().forEach(function(n) {
        e ? n.isAnyFunctionAllowed() && r++ : n.getColDef().lockVisible || r++;
      }), r === 0;
    }, t.prototype.isColumnChecked = function(e, r) {
      if (r) {
        var n = e.isPivotActive(), i = e.isRowGroupActive(), a = e.isValueActive();
        return n || i || a;
      }
      return e.isVisible();
    }, t.prototype.onExpandOrContractClicked = function() {
      var e = this.modelItem.isExpanded();
      this.modelItem.setExpanded(!e);
    }, t.prototype.onExpandChanged = function() {
      this.setOpenClosedIcons(), this.refreshAriaExpanded();
    }, t.prototype.setOpenClosedIcons = function() {
      var e = this.modelItem.isExpanded();
      T.setDisplayed(this.eGroupClosedIcon, !e), T.setDisplayed(this.eGroupOpenedIcon, e);
    }, t.prototype.refreshAriaExpanded = function() {
      T.setAriaExpanded(this.focusWrapper, this.modelItem.isExpanded());
    }, t.prototype.getDisplayName = function() {
      return this.displayName;
    }, t.prototype.onSelectAllChanged = function(e) {
      var r = this.cbSelect.getValue(), n = this.cbSelect.isReadOnly();
      !n && (e && !r || !e && r) && this.cbSelect.toggle();
    }, t.prototype.isSelected = function() {
      return this.cbSelect.getValue();
    }, t.prototype.isSelectable = function() {
      return !this.cbSelect.isReadOnly();
    }, t.prototype.setSelected = function(e) {
      this.cbSelect.setValue(e, !0);
    }, t.TEMPLATE = `<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`, Li([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Li([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Li([
      w("modelItemUtils")
    ], t.prototype, "modelItemUtils", void 0), Li([
      G("cbSelect")
    ], t.prototype, "cbSelect", void 0), Li([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), Li([
      G("eGroupOpenedIcon")
    ], t.prototype, "eGroupOpenedIcon", void 0), Li([
      G("eGroupClosedIcon")
    ], t.prototype, "eGroupClosedIcon", void 0), Li([
      G("eColumnGroupIcons")
    ], t.prototype, "eColumnGroupIcons", void 0), Li([
      V
    ], t.prototype, "init", null), t;
  }(te)
), $B = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Xv = "ag-list-item-hovered", UB = (
  /** @class */
  function(o) {
    $B(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.comp = e, n.virtualList = r, n.currentDragColumn = null, n.lastHoveredColumnItem = null, n;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_PANEL_ITEM_DRAG_START, this.columnPanelItemDragStart.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PANEL_ITEM_DRAG_END, this.columnPanelItemDragEnd.bind(this)), this.createDropTarget(), this.createAutoScrollService();
    }, t.prototype.columnPanelItemDragStart = function(e) {
      var r = e.column;
      this.currentDragColumn = r;
      var n = this.getCurrentColumns(), i = n.find(function(a) {
        var s = a.getColDef();
        return !!s.suppressMovable || !!s.lockPosition;
      });
      i && (this.moveBlocked = !0);
    }, t.prototype.columnPanelItemDragEnd = function() {
      var e = this;
      window.setTimeout(function() {
        e.currentDragColumn = null, e.moveBlocked = !1;
      }, 10);
    }, t.prototype.createDropTarget = function() {
      var e = this, r = {
        isInterestedIn: function(n) {
          return n === gt.ToolPanel;
        },
        getIconName: function() {
          return Ze[e.moveBlocked ? "ICON_NOT_ALLOWED" : "ICON_MOVE"];
        },
        getContainer: function() {
          return e.comp.getGui();
        },
        onDragging: function(n) {
          return e.onDragging(n);
        },
        onDragStop: function() {
          return e.onDragStop();
        },
        onDragLeave: function() {
          return e.onDragLeave();
        }
      };
      this.dragAndDropService.addDropTarget(r);
    }, t.prototype.createAutoScrollService = function() {
      var e = this.virtualList.getGui();
      this.autoScrollService = new bf({
        scrollContainer: e,
        scrollAxis: "y",
        getVerticalPosition: function() {
          return e.scrollTop;
        },
        setVerticalPosition: function(r) {
          return e.scrollTop = r;
        }
      });
    }, t.prototype.onDragging = function(e) {
      if (!(!this.currentDragColumn || this.moveBlocked)) {
        var r = this.getDragColumnItem(e), n = this.virtualList.getComponentAt(r.rowIndex);
        if (n) {
          var i = n.getGui().parentElement;
          this.lastHoveredColumnItem && this.lastHoveredColumnItem.rowIndex === r.rowIndex && this.lastHoveredColumnItem.position === r.position || (this.autoScrollService.check(e.event), this.clearHoveredItems(), this.lastHoveredColumnItem = r, T.radioCssClass(i, "" + Xv), T.radioCssClass(i, "ag-item-highlight-" + r.position));
        }
      }
    }, t.prototype.getDragColumnItem = function(e) {
      var r = this.virtualList.getGui(), n = parseFloat(window.getComputedStyle(r).paddingTop), i = this.virtualList.getRowHeight(), a = this.virtualList.getScrollTop(), s = Math.max(0, (e.y - n + a) / i), l = this.comp.getDisplayedColsList().length - 1, u = Math.min(l, s) | 0;
      return {
        rowIndex: u,
        position: Math.round(s) > s || s > l ? "bottom" : "top",
        component: this.virtualList.getComponentAt(u)
      };
    }, t.prototype.onDragStop = function() {
      if (!this.moveBlocked) {
        var e = this.getTargetIndex(), r = this.getCurrentColumns();
        e != null && this.columnModel.moveColumns(r, e, "toolPanelUi"), this.clearHoveredItems(), this.autoScrollService.ensureCleared();
      }
    }, t.prototype.getMoveDiff = function(e) {
      var r = this.columnModel.getAllGridColumns(), n = this.getCurrentColumns(), i = n[0], a = n.length, s = r.indexOf(i);
      return s < e ? a : 0;
    }, t.prototype.getCurrentColumns = function() {
      return this.currentDragColumn instanceof qe ? this.currentDragColumn.getLeafColumns() : [this.currentDragColumn];
    }, t.prototype.getTargetIndex = function() {
      if (!this.lastHoveredColumnItem)
        return null;
      var e = this.lastHoveredColumnItem.component, r = this.lastHoveredColumnItem.position === "top", n;
      if (e instanceof ZE) {
        var i = e.getColumns();
        n = i[0], r = !0;
      } else
        n = e.getColumn();
      var a = this.columnModel.getAllGridColumns().indexOf(n), s = r ? a : a + 1, l = this.getMoveDiff(s);
      return s - l;
    }, t.prototype.onDragLeave = function() {
      this.clearHoveredItems(), this.autoScrollService.ensureCleared();
    }, t.prototype.clearHoveredItems = function() {
      var e = this.virtualList.getGui();
      e.querySelectorAll("." + Xv).forEach(function(r) {
        [
          Xv,
          "ag-item-highlight-top",
          "ag-item-highlight-bottom"
        ].forEach(function(n) {
          r.classList.remove(n);
        });
      }), this.lastHoveredColumnItem = null;
    }, Yv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Yv([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Yv([
      V
    ], t.prototype, "postConstruct", null), t;
  }(W)
), zB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Rs = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, KB = (
  /** @class */
  function(o) {
    zB(t, o);
    function t(e, r, n, i) {
      var a = o.call(this) || this;
      return a.allowDragging = r, a.groupsExist = n, a.focusWrapper = i, a.processingColumnStateChange = !1, a.column = e.getColumn(), a.columnDept = e.getDept(), a.displayName = e.getDisplayName(), a;
    }
    return t.prototype.init = function() {
      var e = this;
      this.setTemplate(t.TEMPLATE), this.eDragHandle = T.createIconNoSpan("columnDrag", this.gridOptionsService), this.eDragHandle.classList.add("ag-drag-handle", "ag-column-select-column-drag-handle");
      var r = this.cbSelect.getGui(), n = this.cbSelect.getInputElement();
      r.insertAdjacentElement("afterend", this.eDragHandle), n.setAttribute("tabindex", "-1");
      var i = T.escapeString(this.displayName);
      this.eLabel.innerHTML = i;
      var a = this.columnDept;
      this.groupsExist && this.addCssClass("ag-column-select-add-group-indent"), this.addCssClass("ag-column-select-indent-" + a), this.setupDragging(), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.column, Me.EVENT_VALUE_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.column, Me.EVENT_PIVOT_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.column, Me.EVENT_ROW_GROUP_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.column, Me.EVENT_VISIBLE_CHANGED, this.onColumnStateChanged.bind(this)), this.addManagedListener(this.focusWrapper, "keydown", this.handleKeyDown.bind(this)), this.addManagedListener(this.focusWrapper, "contextmenu", this.onContextMenu.bind(this)), this.addManagedPropertyListener("functionsReadOnly", this.onColumnStateChanged.bind(this)), this.addManagedListener(this.cbSelect, On.EVENT_CHANGED, this.onCheckboxChanged.bind(this)), this.addManagedListener(this.eLabel, "click", this.onLabelClicked.bind(this)), this.onColumnStateChanged(), this.refreshAriaLabel(), this.setupTooltip();
      var s = ud.getToolPanelClassesFromColDef(this.column.getColDef(), this.gridOptionsService, this.column, null);
      s.forEach(function(l) {
        return e.addOrRemoveCssClass(l, !0);
      });
    }, t.prototype.getColumn = function() {
      return this.column;
    }, t.prototype.setupTooltip = function() {
      var e = this, r = function() {
        var n = e.column.getColDef().headerTooltip;
        e.setTooltip(n);
      };
      r(), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, r);
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "columnToolPanelColumn", e.colDef = this.column.getColDef(), e;
    }, t.prototype.onContextMenu = function(e) {
      var r = this, n = this, i = n.column, a = n.gridOptionsService;
      if (!a.is("functionsReadOnly")) {
        var s = this.createBean(new qE(i, e, this.focusWrapper));
        this.addDestroyFunc(function() {
          s.isAlive() && r.destroyBean(s);
        });
      }
    }, t.prototype.handleKeyDown = function(e) {
      e.key === H.SPACE && (e.preventDefault(), this.isSelectable() && this.onSelectAllChanged(!this.isSelected()));
    }, t.prototype.onLabelClicked = function() {
      if (!this.gridOptionsService.is("functionsReadOnly")) {
        var e = !this.cbSelect.getValue();
        this.onChangeCommon(e);
      }
    }, t.prototype.onCheckboxChanged = function(e) {
      this.onChangeCommon(e.selected);
    }, t.prototype.onChangeCommon = function(e) {
      this.cbSelect.isReadOnly() || (this.refreshAriaLabel(), !this.processingColumnStateChange && this.modelItemUtils.setColumn(this.column, e, "toolPanelUi"));
    }, t.prototype.refreshAriaLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaColumn", "Column"), n = this.cbSelect.getValue() ? e("ariaVisible", "visible") : e("ariaHidden", "hidden"), i = e("ariaToggleVisibility", "Press SPACE to toggle visibility");
      T.setAriaLabel(this.focusWrapper, this.displayName + " " + r), this.cbSelect.setInputAriaLabel(i + " (" + n + ")"), T.setAriaDescribedBy(this.focusWrapper, this.cbSelect.getInputElement().id);
    }, t.prototype.setupDragging = function() {
      var e = this;
      if (!this.allowDragging) {
        T.setDisplayed(this.eDragHandle, !1);
        return;
      }
      var r = !this.gridOptionsService.is("suppressDragLeaveHidesColumns"), n = {
        type: gt.ToolPanel,
        eElement: this.eDragHandle,
        dragItemName: this.displayName,
        defaultIconName: r ? Ze.ICON_HIDE : Ze.ICON_NOT_ALLOWED,
        getDragItem: function() {
          return e.createDragItem();
        },
        onDragStarted: function() {
          var i = {
            type: R.EVENT_COLUMN_PANEL_ITEM_DRAG_START,
            column: e.column
          };
          e.eventService.dispatchEvent(i);
        },
        onDragStopped: function() {
          var i = {
            type: R.EVENT_COLUMN_PANEL_ITEM_DRAG_END
          };
          e.eventService.dispatchEvent(i);
        },
        onGridEnter: function(i) {
          r && e.modelItemUtils.updateColumns({
            columns: [e.column],
            visibleState: i == null ? void 0 : i.visibleState,
            pivotState: i == null ? void 0 : i.pivotState,
            eventType: "toolPanelUi"
          });
        },
        onGridExit: function() {
          r && e.onChangeCommon(!1);
        }
      };
      this.dragAndDropService.addDragSource(n, !0), this.addDestroyFunc(function() {
        return e.dragAndDropService.removeDragSource(n);
      });
    }, t.prototype.createDragItem = function() {
      var e, r, n = this.column.getColId(), i = (e = {}, e[n] = this.column.isVisible(), e), a = (r = {}, r[n] = this.modelItemUtils.createPivotState(this.column), r);
      return {
        columns: [this.column],
        visibleState: i,
        pivotState: a
      };
    }, t.prototype.onColumnStateChanged = function() {
      this.processingColumnStateChange = !0;
      var e = this.columnModel.isPivotMode();
      if (e) {
        var r = this.column.isAnyFunctionActive();
        this.cbSelect.setValue(r);
      } else
        this.cbSelect.setValue(this.column.isVisible());
      var n = !0, i = !0;
      if (e) {
        var a = this.gridOptionsService.is("functionsReadOnly"), s = !this.column.isAnyFunctionAllowed();
        n = !a && !s, i = n;
      } else {
        var l = this.column.getColDef(), u = l.enableRowGroup, c = l.enableValue, d = l.lockPosition, p = l.suppressMovable, h = l.lockVisible, f = !!u || !!c, v = !!d || !!p;
        n = !h, i = f || !v;
      }
      this.cbSelect.setReadOnly(!n), this.eDragHandle.classList.toggle("ag-column-select-column-readonly", !i), this.addOrRemoveCssClass("ag-column-select-column-readonly", !i && !n);
      var g = e && this.gridOptionsService.is("functionsPassive");
      this.cbSelect.setPassive(g), this.processingColumnStateChange = !1;
    }, t.prototype.getDisplayName = function() {
      return this.displayName;
    }, t.prototype.onSelectAllChanged = function(e) {
      e !== this.cbSelect.getValue() && (this.cbSelect.isReadOnly() || this.cbSelect.toggle());
    }, t.prototype.isSelected = function() {
      return this.cbSelect.getValue();
    }, t.prototype.isSelectable = function() {
      return !this.cbSelect.isReadOnly();
    }, t.prototype.isExpandable = function() {
      return !1;
    }, t.prototype.setExpanded = function(e) {
      console.warn("AG Grid: can not expand a column item that does not represent a column group header");
    }, t.TEMPLATE = `<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`, Rs([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Rs([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Rs([
      w("modelItemUtils")
    ], t.prototype, "modelItemUtils", void 0), Rs([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), Rs([
      G("cbSelect")
    ], t.prototype, "cbSelect", void 0), Rs([
      V
    ], t.prototype, "init", null), t;
  }(te)
), YB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Jd = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, XB = (
  /** @class */
  function() {
    function o(t) {
      this.items = t;
    }
    return o.prototype.getRowCount = function() {
      return this.items.length;
    }, o.prototype.getRow = function(t) {
      return this.items[t];
    }, o;
  }()
), qB = "ag-column-select-list", ZB = (
  /** @class */
  function(o) {
    YB(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.destroyColumnItemFuncs = [], e;
    }
    return t.prototype.destroyColumnTree = function() {
      this.allColsTree = [], this.destroyColumnItemFuncs.forEach(function(e) {
        return e();
      }), this.destroyColumnItemFuncs = [];
    }, t.prototype.init = function(e, r, n) {
      var i = this;
      this.params = e, this.allowDragging = r, this.eventType = n, this.params.suppressSyncLayoutWithGrid || this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, this.onColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onColumnsChanged.bind(this));
      var a = [
        R.EVENT_COLUMN_PIVOT_CHANGED,
        R.EVENT_COLUMN_PIVOT_MODE_CHANGED,
        R.EVENT_COLUMN_ROW_GROUP_CHANGED,
        R.EVENT_COLUMN_VALUE_CHANGED,
        R.EVENT_COLUMN_VISIBLE,
        R.EVENT_NEW_COLUMNS_LOADED
      ];
      a.forEach(function(u) {
        i.addManagedListener(i.eventService, u, i.fireSelectionChangedEvent.bind(i));
      }), this.expandGroupsByDefault = !this.params.contractColumnSelection;
      var s = this.localeService.getLocaleTextFunc(), l = s("ariaColumnList", "Column List");
      this.virtualList = this.createManagedBean(new Tf("column-select", "tree", l)), this.appendChild(this.virtualList.getGui()), this.virtualList.setComponentCreator(function(u, c) {
        return T.setAriaLevel(c, u.getDept() + 1), i.createComponentFromItem(u, c);
      }), this.columnModel.isReady() && this.onColumnsChanged(), !e.suppressColumnMove && !this.gridOptionsService.is("suppressMovableColumns") && this.createManagedBean(new UB(this, this.virtualList));
    }, t.prototype.createComponentFromItem = function(e, r) {
      if (e.isGroup()) {
        var n = new ZE(e, this.allowDragging, this.eventType, r);
        return this.getContext().createBean(n), n;
      }
      var i = new KB(e, this.allowDragging, this.groupsExist, r);
      return this.getContext().createBean(i), i;
    }, t.prototype.onColumnsChanged = function() {
      var e = this.getExpandedStates(), r = this.columnModel.isPivotMode(), n = !this.params.suppressSyncLayoutWithGrid && !r;
      n ? this.buildTreeFromWhatGridIsDisplaying() : this.buildTreeFromProvidedColumnDefs(), this.setExpandedStates(e), this.markFilteredColumns(), this.flattenAndFilterModel();
    }, t.prototype.getDisplayedColsList = function() {
      return this.displayedColsList;
    }, t.prototype.getExpandedStates = function() {
      if (!this.allColsTree)
        return {};
      var e = {};
      return this.forEachItem(function(r) {
        if (r.isGroup()) {
          var n = r.getColumnGroup();
          n && (e[n.getId()] = r.isExpanded());
        }
      }), e;
    }, t.prototype.setExpandedStates = function(e) {
      this.allColsTree && this.forEachItem(function(r) {
        if (r.isGroup()) {
          var n = r.getColumnGroup();
          if (n) {
            var i = e[n.getId()], a = i != null;
            a && r.setExpanded(i);
          }
        }
      });
    }, t.prototype.buildTreeFromWhatGridIsDisplaying = function() {
      this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this));
    }, t.prototype.setColumnLayout = function(e) {
      var r = this.colDefService.createColumnTree(e);
      this.buildListModel(r), this.groupsExist = e.some(function(n) {
        return n && typeof n.children != "undefined";
      }), this.markFilteredColumns(), this.flattenAndFilterModel();
    }, t.prototype.buildTreeFromProvidedColumnDefs = function() {
      this.buildListModel(this.columnModel.getPrimaryColumnTree()), this.groupsExist = this.columnModel.isPrimaryColumnGroupsPresent();
    }, t.prototype.buildListModel = function(e) {
      var r = this, n = this.onColumnExpanded.bind(this), i = function(u) {
        u.addEventListener(vc.EVENT_EXPANDED_CHANGED, n);
        var c = u.removeEventListener.bind(u, vc.EVENT_EXPANDED_CHANGED, n);
        r.destroyColumnItemFuncs.push(c);
      }, a = function(u, c, d) {
        u.forEach(function(p) {
          p instanceof qe ? s(p, c, d) : l(p, c, d);
        });
      }, s = function(u, c, d) {
        var p = u.getColGroupDef(), h = p && p.suppressColumnsToolPanel;
        if (!h) {
          if (u.isPadding()) {
            a(u.getChildren(), c, d);
            return;
          }
          var f = r.columnModel.getDisplayNameForProvidedColumnGroup(null, u, "columnToolPanel"), v = new vc(f, u, c, !0, r.expandGroupsByDefault);
          d.push(v), i(v), a(u.getChildren(), c + 1, v.getChildren());
        }
      }, l = function(u, c, d) {
        var p = u.getColDef() && u.getColDef().suppressColumnsToolPanel;
        if (!p) {
          var h = r.columnModel.getDisplayNameForColumn(u, "columnToolPanel");
          d.push(new vc(h, u, c));
        }
      };
      this.destroyColumnTree(), a(e, 0, this.allColsTree);
    }, t.prototype.onColumnExpanded = function() {
      this.flattenAndFilterModel();
    }, t.prototype.flattenAndFilterModel = function() {
      var e = this;
      this.displayedColsList = [];
      var r = function(i) {
        i.isPassesFilter() && (e.displayedColsList.push(i), i.isGroup() && i.isExpanded() && i.getChildren().forEach(r));
      };
      this.allColsTree.forEach(r), this.virtualList.setModel(new XB(this.displayedColsList));
      var n = this.virtualList.getLastFocusedRow();
      this.virtualList.refresh(), n != null && this.focusRowIfAlive(n), this.notifyListeners();
    }, t.prototype.focusRowIfAlive = function(e) {
      var r = this;
      window.setTimeout(function() {
        r.isAlive() && r.virtualList.focusRow(e);
      }, 0);
    }, t.prototype.forEachItem = function(e) {
      var r = function(n) {
        n.forEach(function(i) {
          e(i), i.isGroup() && r(i.getChildren());
        });
      };
      r(this.allColsTree);
    }, t.prototype.doSetExpandedAll = function(e) {
      this.forEachItem(function(r) {
        r.isGroup() && r.setExpanded(e);
      });
    }, t.prototype.setGroupsExpanded = function(e, r) {
      if (!r) {
        this.doSetExpandedAll(e);
        return;
      }
      var n = [];
      this.forEachItem(function(a) {
        if (a.isGroup()) {
          var s = a.getColumnGroup().getId();
          r.indexOf(s) >= 0 && (a.setExpanded(e), n.push(s));
        }
      });
      var i = r.filter(function(a) {
        return !T.includes(n, a);
      });
      i.length > 0 && console.warn("AG Grid: unable to find group(s) for supplied groupIds:", i);
    }, t.prototype.getExpandState = function() {
      var e = 0, r = 0;
      return this.forEachItem(function(n) {
        n.isGroup() && (n.isExpanded() ? e++ : r++);
      }), e > 0 && r > 0 ? vi.INDETERMINATE : r > 0 ? vi.COLLAPSED : vi.EXPANDED;
    }, t.prototype.doSetSelectedAll = function(e) {
      this.modelItemUtils.selectAllChildren(this.allColsTree, e, this.eventType);
    }, t.prototype.getSelectionState = function() {
      var e = 0, r = 0, n = this.columnModel.isPivotMode();
      if (this.forEachItem(function(i) {
        if (!i.isGroup() && i.isPassesFilter()) {
          var a = i.getColumn(), s = a.getColDef(), l;
          if (n) {
            var u = !a.isAllowPivot() && !a.isAllowRowGroup() && !a.isAllowValue();
            if (u)
              return;
            l = a.isValueActive() || a.isPivotActive() || a.isRowGroupActive();
          } else {
            if (s.lockVisible)
              return;
            l = a.isVisible();
          }
          l ? e++ : r++;
        }
      }), !(e > 0 && r > 0))
        return !(e === 0 || r > 0);
    }, t.prototype.setFilterText = function(e) {
      this.filterText = T.exists(e) ? e.toLowerCase() : null, this.markFilteredColumns(), this.flattenAndFilterModel();
    }, t.prototype.markFilteredColumns = function() {
      var e = this, r = function(i) {
        if (!T.exists(e.filterText))
          return !0;
        var a = i.getDisplayName();
        return a == null || a.toLowerCase().indexOf(e.filterText) !== -1;
      }, n = function(i, a) {
        var s = !1;
        if (i.isGroup()) {
          var l = r(i);
          i.getChildren().forEach(function(c) {
            var d = n(c, l || a);
            d && (s = d);
          });
        }
        var u = a || s ? !0 : r(i);
        return i.setPassesFilter(u), u;
      };
      this.allColsTree.forEach(function(i) {
        return n(i, !1);
      });
    }, t.prototype.notifyListeners = function() {
      this.fireGroupExpandedEvent(), this.fireSelectionChangedEvent();
    }, t.prototype.fireGroupExpandedEvent = function() {
      var e = this.getExpandState();
      this.dispatchEvent({ type: "groupExpanded", state: e });
    }, t.prototype.fireSelectionChangedEvent = function() {
      var e = this.getSelectionState();
      this.dispatchEvent({ type: "selectionChanged", state: e });
    }, t.TEMPLATE = '<div class="' + qB + '" role="presentation"></div>', Jd([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Jd([
      w("toolPanelColDefService")
    ], t.prototype, "colDefService", void 0), Jd([
      w("modelItemUtils")
    ], t.prototype, "modelItemUtils", void 0), Jd([
      rt
    ], t.prototype, "destroyColumnTree", null), t;
  }(te)
), QB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $S = (
  /** @class */
  function(o) {
    QB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createTemplate = function() {
      return (
        /* html */
        `<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`
      );
    }, t.prototype.init = function() {
      this.setTemplate(this.createTemplate()), this.cbPivotMode.setValue(this.columnModel.isPivotMode());
      var e = this.localeService.getLocaleTextFunc();
      this.cbPivotMode.setLabel(e("pivotMode", "Pivot Mode")), this.addManagedListener(this.cbPivotMode, On.EVENT_CHANGED, this.onBtPivotMode.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onPivotModeChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onPivotModeChanged.bind(this));
    }, t.prototype.onBtPivotMode = function() {
      var e = !!this.cbPivotMode.getValue();
      if (e !== this.columnModel.isPivotMode()) {
        this.columnModel.setPivotMode(e, "toolPanelUi");
        var r = this.gridOptionsService.api;
        r && r.refreshHeader();
      }
    }, t.prototype.onPivotModeChanged = function() {
      var e = this.columnModel.isPivotMode();
      this.cbPivotMode.setValue(e);
    }, qv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), qv([
      G("cbPivotMode")
    ], t.prototype, "cbPivotMode", void 0), qv([
      jl
    ], t.prototype, "init", null), t;
  }(te)
), JB = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ma = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, eH = (
  /** @class */
  function(o) {
    JB(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      var e = this;
      this.alwaysAggregateAtRootLevel = this.gridOptionsService.is("alwaysAggregateAtRootLevel"), this.addManagedPropertyListener("alwaysAggregateAtRootLevel", function(r) {
        return e.alwaysAggregateAtRootLevel = r.currentValue;
      }), this.groupIncludeTotalFooter = this.gridOptionsService.is("groupIncludeTotalFooter"), this.addManagedPropertyListener("groupIncludeTotalFooter", function(r) {
        return e.groupIncludeTotalFooter = r.currentValue;
      });
    }, t.prototype.execute = function(e) {
      var r = T.missingOrEmpty(this.columnModel.getValueColumns()), n = !this.gridOptionsService.getCallback("getGroupRowAgg"), i = e.changedPath && e.changedPath.isActive();
      if (!(r && n && i)) {
        var a = this.createAggDetails(e);
        this.recursivelyCreateAggData(a);
      }
    }, t.prototype.createAggDetails = function(e) {
      var r = this.columnModel.isPivotActive(), n = this.columnModel.getValueColumns(), i = r ? this.columnModel.getPivotColumns() : [], a = {
        changedPath: e.changedPath,
        valueColumns: n,
        pivotColumns: i
      };
      return a;
    }, t.prototype.isSuppressAggFilteredOnly = function() {
      var e = this.gridOptionsService.getGroupAggFiltering() !== void 0;
      return e || this.gridOptionsService.is("suppressAggFilteredOnly");
    }, t.prototype.recursivelyCreateAggData = function(e) {
      var r = this;
      this.filteredOnly = !this.isSuppressAggFilteredOnly();
      var n = function(i) {
        var a = !i.hasChildren();
        if (a) {
          i.aggData && i.setAggData(null);
          return;
        }
        var s = i.level === -1;
        if (s && !r.groupIncludeTotalFooter) {
          var l = !r.columnModel.isPivotMode();
          if (!r.alwaysAggregateAtRootLevel && l)
            return;
        }
        r.aggregateRowNode(i, e);
      };
      e.changedPath.forEachChangedNodeDepthFirst(n, !0);
    }, t.prototype.aggregateRowNode = function(e, r) {
      var n = r.valueColumns.length === 0, i = r.pivotColumns.length === 0, a = this.gridOptionsService.getCallback("getGroupRowAgg"), s;
      if (a) {
        var l = { nodes: e.childrenAfterFilter };
        s = a(l);
      } else
        n ? s = null : i ? s = this.aggregateRowNodeUsingValuesOnly(e, r) : s = this.aggregateRowNodeUsingValuesAndPivot(e);
      e.setAggData(s), e.sibling && e.sibling.setAggData(s);
    }, t.prototype.aggregateRowNodeUsingValuesAndPivot = function(e) {
      var r = this, n, i = {}, a = (n = this.columnModel.getSecondaryColumns()) !== null && n !== void 0 ? n : [];
      return a.forEach(function(s) {
        var l = s.getColDef(), u = l.pivotValueColumn, c = l.pivotTotalColumnIds, d = l.colId, p = l.pivotKeys;
        if (!T.exists(c)) {
          var h = p != null ? p : [], f;
          e.leafGroup ? f = r.getValuesFromMappedSet(e.childrenMapped, h, u) : f = r.getValuesPivotNonLeaf(e, d), i[d] = r.aggregateValues(f, u.getAggFunc(), u, e, s);
        }
      }), a.forEach(function(s) {
        var l = s.getColDef(), u = l.pivotValueColumn, c = l.pivotTotalColumnIds, d = l.colId;
        if (T.exists(c)) {
          var p = [];
          !c || !c.length || (c.forEach(function(h) {
            p.push(i[h]);
          }), i[d] = r.aggregateValues(p, u.getAggFunc(), u, e, s));
        }
      }), i;
    }, t.prototype.aggregateRowNodeUsingValuesOnly = function(e, r) {
      var n = this, i = {}, a = r.changedPath.isActive() ? r.changedPath.getValueColumnsForNode(e, r.valueColumns) : r.valueColumns, s = r.changedPath.isActive() ? r.changedPath.getNotValueColumnsForNode(e, r.valueColumns) : null, l = this.getValuesNormal(e, a), u = e.aggData;
      return a.forEach(function(c, d) {
        i[c.getId()] = n.aggregateValues(l[d], c.getAggFunc(), c, e);
      }), s && u && s.forEach(function(c) {
        i[c.getId()] = u[c.getId()];
      }), i;
    }, t.prototype.getValuesPivotNonLeaf = function(e, r) {
      var n = [];
      return e.childrenAfterFilter.forEach(function(i) {
        var a = i.aggData[r];
        n.push(a);
      }), n;
    }, t.prototype.getValuesFromMappedSet = function(e, r, n) {
      var i = this, a = e;
      if (r.forEach(function(l) {
        return a = a ? a[l] : null;
      }), !a)
        return [];
      var s = [];
      return a.forEach(function(l) {
        var u = i.valueService.getValue(n, l);
        s.push(u);
      }), s;
    }, t.prototype.getValuesNormal = function(e, r) {
      var n = [];
      r.forEach(function() {
        return n.push([]);
      });
      for (var i = r.length, a = this.filteredOnly ? e.childrenAfterFilter : e.childrenAfterGroup, s = a.length, l = 0; l < s; l++)
        for (var u = a[l], c = 0; c < i; c++) {
          var d = r[c], p = this.valueService.getValue(d, u);
          n[c].push(p);
        }
      return n;
    }, t.prototype.aggregateValues = function(e, r, n, i, a) {
      var s = typeof r == "string" ? this.aggFuncService.getAggFunc(r) : r;
      if (typeof s != "function")
        return console.error("AG Grid: unrecognised aggregation function " + r), null;
      var l = s, u = {
        values: e,
        column: n,
        colDef: n ? n.getColDef() : void 0,
        pivotResultColumn: a,
        rowNode: i,
        data: i ? i.data : void 0,
        api: this.gridApi,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context
      };
      return l(u);
    }, ma([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ma([
      w("valueService")
    ], t.prototype, "valueService", void 0), ma([
      w("aggFuncService")
    ], t.prototype, "aggFuncService", void 0), ma([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), ma([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), ma([
      V
    ], t.prototype, "init", null), t = ma([
      q("aggregationStage")
    ], t), t;
  }(W)
), Zv = (
  /** @class */
  function() {
    function o() {
      this.allSets = {}, this.allParents = [];
    }
    return o.prototype.removeFromChildrenAfterGroup = function(t, e) {
      var r = this.getSet(t);
      r.removeFromChildrenAfterGroup[e.id] = !0;
    }, o.prototype.isRemoveFromAllLeafChildren = function(t, e) {
      var r = this.getSet(t);
      return !!r.removeFromAllLeafChildren[e.id];
    }, o.prototype.preventRemoveFromAllLeafChildren = function(t, e) {
      var r = this.getSet(t);
      delete r.removeFromAllLeafChildren[e.id];
    }, o.prototype.removeFromAllLeafChildren = function(t, e) {
      var r = this.getSet(t);
      r.removeFromAllLeafChildren[e.id] = !0;
    }, o.prototype.getSet = function(t) {
      return this.allSets[t.id] || (this.allSets[t.id] = {
        removeFromAllLeafChildren: {},
        removeFromChildrenAfterGroup: {}
      }, this.allParents.push(t)), this.allSets[t.id];
    }, o.prototype.getAllParents = function() {
      return this.allParents;
    }, o.prototype.flush = function() {
      var t = this;
      this.allParents.forEach(function(e) {
        var r = t.allSets[e.id];
        e.childrenAfterGroup = e.childrenAfterGroup.filter(function(n) {
          return !r.removeFromChildrenAfterGroup[n.id];
        }), e.allLeafChildren = e.allLeafChildren.filter(function(n) {
          return !r.removeFromAllLeafChildren[n.id];
        }), e.updateHasChildren(), e.sibling && (e.sibling.childrenAfterGroup = e.childrenAfterGroup, e.sibling.allLeafChildren = e.allLeafChildren);
      }), this.allSets = {}, this.allParents.length = 0;
    }, o;
  }()
), tH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ca = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, US = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, zS = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, rH = (
  /** @class */
  function(o) {
    tH(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.groupIdSequence = new ar(), e;
    }
    return t.prototype.postConstruct = function() {
      this.usingTreeData = this.gridOptionsService.isTreeData(), this.usingTreeData && (this.getDataPath = this.gridOptionsService.get("getDataPath"));
    }, t.prototype.execute = function(e) {
      var r = this.createGroupingDetails(e);
      if (r.transactions)
        this.handleTransaction(r);
      else {
        var n = e.afterColumnsChanged === !0;
        this.shotgunResetEverything(r, n);
      }
      this.positionLeafsAndGroups(e.changedPath), this.orderGroups(r.rootNode), this.selectableService.updateSelectableAfterGrouping(r.rootNode);
    }, t.prototype.positionLeafsAndGroups = function(e) {
      this.usingTreeData || e.forEachChangedNodeDepthFirst(function(r) {
        if (r.childrenAfterGroup) {
          var n = [], i = [], a;
          r.childrenAfterGroup.forEach(function(s) {
            var l;
            !((l = s.childrenAfterGroup) === null || l === void 0) && l.length ? s.key === "" && !a ? a = s : i.push(s) : n.push(s);
          }), a && i.push(a), r.childrenAfterGroup = zS(zS([], US(n)), US(i));
        }
      }, !1);
    }, t.prototype.createGroupingDetails = function(e) {
      var r = e.rowNode, n = e.changedPath, i = e.rowNodeTransactions, a = e.rowNodeOrder, s = this.usingTreeData ? null : this.columnModel.getRowGroupColumns(), l = {
        // someone complained that the parent attribute was causing some change detection
        // to break is some angular add-on - which i never used. taking the parent out breaks
        // a cyclic dependency, hence this flag got introduced.
        includeParents: !this.gridOptionsService.is("suppressParentsInRowNodes"),
        expandByDefault: this.gridOptionsService.getNum("groupDefaultExpanded"),
        groupedCols: s,
        rootNode: r,
        pivotMode: this.columnModel.isPivotMode(),
        groupedColCount: this.usingTreeData || !s ? 0 : s.length,
        rowNodeOrder: a,
        transactions: i,
        // if no transaction, then it's shotgun, changed path would be 'not active' at this point anyway
        changedPath: n
      };
      return l;
    }, t.prototype.handleTransaction = function(e) {
      var r = this;
      e.transactions.forEach(function(n) {
        var i = r.usingTreeData ? void 0 : new Zv();
        if (T.existsAndNotEmpty(n.remove) && r.removeNodes(n.remove, e, i), T.existsAndNotEmpty(n.update) && r.moveNodesInWrongPath(n.update, e, i), T.existsAndNotEmpty(n.add) && r.insertNodes(n.add, e, !1), i) {
          var a = i.getAllParents().slice();
          i.flush(), r.removeEmptyGroups(a, e);
        }
      }), e.rowNodeOrder && this.sortChildren(e);
    }, t.prototype.sortChildren = function(e) {
      e.changedPath.forEachChangedNodeDepthFirst(function(r) {
        if (r.childrenAfterGroup) {
          var n = T.sortRowNodesByOrder(r.childrenAfterGroup, e.rowNodeOrder);
          n && e.changedPath.addParentNode(r);
        }
      }, !1, !0);
    }, t.prototype.orderGroups = function(e) {
      if (this.usingTreeData)
        return;
      var r = this.gridOptionsService.getCallback("initialGroupOrderComparator");
      T.exists(r) && n(e);
      function n(i) {
        var a = T.exists(i.childrenAfterGroup) && // we only want to sort groups, so we do not sort leafs (a leaf group has leafs as children)
        !i.leafGroup;
        a && (i.childrenAfterGroup.sort(function(s, l) {
          return r({ nodeA: s, nodeB: l });
        }), i.childrenAfterGroup.forEach(function(s) {
          return n(s);
        }));
      }
    }, t.prototype.getExistingPathForNode = function(e, r) {
      for (var n = [], i = this.usingTreeData ? e : e.parent; i && i !== r.rootNode; )
        n.push({
          key: i.key,
          rowGroupColumn: i.rowGroupColumn,
          field: i.field
        }), i = i.parent;
      return n.reverse(), n;
    }, t.prototype.moveNodesInWrongPath = function(e, r, n) {
      var i = this;
      e.forEach(function(a) {
        r.changedPath.isActive() && r.changedPath.addParentNode(a.parent);
        var s = function(d) {
          return d.key;
        }, l = i.getExistingPathForNode(a, r).map(s), u = i.getGroupInfo(a, r).map(s), c = T.areEqual(l, u);
        c || i.moveNode(a, r, n);
      });
    }, t.prototype.moveNode = function(e, r, n) {
      if (this.removeNodesInStages([e], r, n), this.insertOneNode(e, r, !0, n), e.setData(e.data), r.changedPath.isActive()) {
        var i = e.parent;
        r.changedPath.addParentNode(i);
      }
    }, t.prototype.removeNodes = function(e, r, n) {
      this.removeNodesInStages(e, r, n), r.changedPath.isActive() && e.forEach(function(i) {
        return r.changedPath.addParentNode(i.parent);
      });
    }, t.prototype.removeNodesInStages = function(e, r, n) {
      if (this.removeNodesFromParents(e, r, n), this.usingTreeData) {
        this.postRemoveCreateFillerNodes(e, r);
        var i = e.map(function(a) {
          return a.parent;
        });
        this.removeEmptyGroups(i, r);
      }
    }, t.prototype.forEachParentGroup = function(e, r, n) {
      for (var i = r; i && i !== e.rootNode; )
        n(i), i = i.parent;
    }, t.prototype.removeNodesFromParents = function(e, r, n) {
      var i = this, a = n == null, s = n || new Zv();
      e.forEach(function(l) {
        i.removeFromParent(l, s), i.forEachParentGroup(r, l.parent, function(u) {
          s.removeFromAllLeafChildren(u, l);
        });
      }), a && s.flush();
    }, t.prototype.postRemoveCreateFillerNodes = function(e, r) {
      var n = this;
      e.forEach(function(i) {
        var a = i.hasChildren();
        if (a) {
          var s = n.getExistingPathForNode(i, r), l = n.findParentForNode(i, s, r);
          l.expanded = i.expanded, l.allLeafChildren = i.allLeafChildren, l.childrenAfterGroup = i.childrenAfterGroup, l.childrenMapped = i.childrenMapped, l.updateHasChildren(), l.childrenAfterGroup.forEach(function(u) {
            return u.parent = l;
          });
        }
      });
    }, t.prototype.removeEmptyGroups = function(e, r) {
      for (var n = this, i = !0, a = function(l) {
        var u = n.getChildrenMappedKey(l.key, l.rowGroupColumn), c = l.parent, d = c && c.childrenMapped ? !c.childrenMapped[u] : !0;
        return d ? !1 : !!l.isEmptyRowGroupNode();
      }, s = function() {
        i = !1;
        var l = new Zv();
        e.forEach(function(u) {
          n.forEachParentGroup(r, u, function(c) {
            a(c) && (i = !0, n.removeFromParent(c, l), c.setSelectedParams({ newValue: !1, source: "rowGroupChanged" }));
          });
        }), l.flush();
      }; i; )
        s();
    }, t.prototype.removeFromParent = function(e, r) {
      e.parent && (r ? r.removeFromChildrenAfterGroup(e.parent, e) : (T.removeFromArray(e.parent.childrenAfterGroup, e), e.parent.updateHasChildren()));
      var n = this.getChildrenMappedKey(e.key, e.rowGroupColumn);
      e.parent && e.parent.childrenMapped && (e.parent.childrenMapped[n] = void 0), e.setRowTop(null), e.setRowIndex(null);
    }, t.prototype.addToParent = function(e, r) {
      var n = this.getChildrenMappedKey(e.key, e.rowGroupColumn);
      if (r) {
        var i = r.childrenMapped != null;
        i && (r.childrenMapped[n] = e), r.childrenAfterGroup.push(e), r.updateHasChildren();
      }
    }, t.prototype.areGroupColsEqual = function(e, r) {
      return e == null || r == null || e.pivotMode !== r.pivotMode ? !1 : T.areEqual(e.groupedCols, r.groupedCols);
    }, t.prototype.checkAllGroupDataAfterColsChanged = function(e) {
      var r = this, n = function(i) {
        i && i.forEach(function(a) {
          var s = !r.usingTreeData && !a.group;
          if (!s) {
            var l = {
              field: a.field,
              key: a.key,
              rowGroupColumn: a.rowGroupColumn
            };
            r.setGroupData(a, l), n(a.childrenAfterGroup);
          }
        });
      };
      n(e.rootNode.childrenAfterGroup);
    }, t.prototype.shotgunResetEverything = function(e, r) {
      if (!this.noChangeInGroupingColumns(e, r)) {
        this.selectionService.filterFromSelection(function(s) {
          return s && !s.group;
        });
        var n = e.rootNode, i = e.groupedCols;
        n.leafGroup = this.usingTreeData ? !1 : i.length === 0, n.childrenAfterGroup = [], n.childrenMapped = {}, n.updateHasChildren();
        var a = n.sibling;
        a && (a.childrenAfterGroup = n.childrenAfterGroup, a.childrenMapped = n.childrenMapped), this.insertNodes(n.allLeafChildren, e, !1);
      }
    }, t.prototype.noChangeInGroupingColumns = function(e, r) {
      var n = !1, i = this.columnModel.getGroupDisplayColumns(), a = i ? i.map(function(s) {
        return s.getId();
      }).join("-") : "";
      return r && (n = this.usingTreeData || this.areGroupColsEqual(e, this.oldGroupingDetails), this.oldGroupDisplayColIds !== a && this.checkAllGroupDataAfterColsChanged(e)), this.oldGroupingDetails = e, this.oldGroupDisplayColIds = a, n;
    }, t.prototype.insertNodes = function(e, r, n) {
      var i = this;
      e.forEach(function(a) {
        i.insertOneNode(a, r, n), r.changedPath.isActive() && r.changedPath.addParentNode(a.parent);
      });
    }, t.prototype.insertOneNode = function(e, r, n, i) {
      var a = this.getGroupInfo(e, r), s = this.findParentForNode(e, a, r, i);
      s.group || console.warn("AG Grid: duplicate group keys for row data, keys should be unique", [s.data, e.data]), this.usingTreeData ? this.swapGroupWithUserNode(s, e, n) : (e.parent = s, e.level = a.length, s.childrenAfterGroup.push(e), s.updateHasChildren());
    }, t.prototype.findParentForNode = function(e, r, n, i) {
      var a = this, s = n.rootNode;
      return r.forEach(function(l, u) {
        s = a.getOrCreateNextNode(s, l, u, n), i != null && i.isRemoveFromAllLeafChildren(s, e) ? i == null || i.preventRemoveFromAllLeafChildren(s, e) : s.allLeafChildren.push(e);
      }), s;
    }, t.prototype.swapGroupWithUserNode = function(e, r, n) {
      r.parent = e.parent, r.key = e.key, r.field = e.field, r.groupData = e.groupData, r.level = e.level, n || (r.expanded = e.expanded), r.leafGroup = e.leafGroup, r.rowGroupIndex = e.rowGroupIndex, r.allLeafChildren = e.allLeafChildren, r.childrenAfterGroup = e.childrenAfterGroup, r.childrenMapped = e.childrenMapped, r.sibling = e.sibling, r.updateHasChildren(), this.removeFromParent(e), r.childrenAfterGroup.forEach(function(i) {
        return i.parent = r;
      }), this.addToParent(r, e.parent);
    }, t.prototype.getOrCreateNextNode = function(e, r, n, i) {
      var a = this.getChildrenMappedKey(r.key, r.rowGroupColumn), s = e.childrenMapped ? e.childrenMapped[a] : void 0;
      return s || (s = this.createGroup(r, e, n, i), this.addToParent(s, e)), s;
    }, t.prototype.createGroup = function(e, r, n, i) {
      var a = new Te(this.beans);
      return a.group = !0, a.field = e.field, a.rowGroupColumn = e.rowGroupColumn, this.setGroupData(a, e), a.id = Te.ID_PREFIX_ROW_GROUP + this.groupIdSequence.next(), a.key = e.key, a.level = n, a.leafGroup = this.usingTreeData ? !1 : n === i.groupedColCount - 1, a.allLeafChildren = [], a.setAllChildrenCount(0), a.rowGroupIndex = this.usingTreeData ? null : n, a.childrenAfterGroup = [], a.childrenMapped = {}, a.updateHasChildren(), a.parent = i.includeParents ? r : null, this.setExpandedInitialValue(i, a), this.gridOptionsService.is("groupIncludeFooter") && a.createFooter(), a;
    }, t.prototype.setGroupData = function(e, r) {
      var n = this;
      e.groupData = {};
      var i = this.columnModel.getGroupDisplayColumns();
      i.forEach(function(a) {
        var s = n.usingTreeData || (e.rowGroupColumn ? a.isRowGroupDisplayed(e.rowGroupColumn.getId()) : !1);
        s && (e.groupData[a.getColId()] = r.key);
      });
    }, t.prototype.getChildrenMappedKey = function(e, r) {
      return r ? r.getId() + "-" + e : e;
    }, t.prototype.setExpandedInitialValue = function(e, r) {
      if (e.pivotMode && r.leafGroup) {
        r.expanded = !1;
        return;
      }
      var n = this.gridOptionsService.getCallback("isGroupOpenByDefault");
      if (n) {
        var i = {
          rowNode: r,
          field: r.field,
          key: r.key,
          level: r.level,
          rowGroupColumn: r.rowGroupColumn
        };
        r.expanded = n(i) == !0;
        return;
      }
      var a = e.expandByDefault;
      if (e.expandByDefault === -1) {
        r.expanded = !0;
        return;
      }
      r.expanded = r.level < a;
    }, t.prototype.getGroupInfo = function(e, r) {
      return this.usingTreeData ? this.getGroupInfoFromCallback(e) : this.getGroupInfoFromGroupColumns(e, r);
    }, t.prototype.getGroupInfoFromCallback = function(e) {
      var r = this.getDataPath ? this.getDataPath(e.data) : null;
      (r == null || r.length === 0) && T.doOnce(function() {
        return console.warn("AG Grid: getDataPath() should not return an empty path for data", e.data);
      }, "groupStage.getGroupInfoFromCallback");
      var n = function(i) {
        return { key: i, field: null, rowGroupColumn: null };
      };
      return r ? r.map(n) : [];
    }, t.prototype.getGroupInfoFromGroupColumns = function(e, r) {
      var n = this, i = [];
      return r.groupedCols.forEach(function(a) {
        var s = n.valueService.getKeyForNode(a, e), l = s != null && s !== "", u = r.pivotMode || !n.gridOptionsService.is("groupAllowUnbalanced");
        if (u && !l && (s = "", l = !0), l) {
          var c = {
            key: s,
            field: a.getColDef().field,
            rowGroupColumn: a
          };
          i.push(c);
        }
      }), i;
    }, Ca([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ca([
      w("selectableService")
    ], t.prototype, "selectableService", void 0), Ca([
      w("valueService")
    ], t.prototype, "valueService", void 0), Ca([
      w("beans")
    ], t.prototype, "beans", void 0), Ca([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Ca([
      V
    ], t.prototype, "postConstruct", null), t = Ca([
      q("groupStage")
    ], t), t;
  }(W)
), nH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wl = function() {
  return wl = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, wl.apply(this, arguments);
}, KS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ep = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Ds = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, iH = (
  /** @class */
  function(o) {
    nH(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.prototype.createPivotColumnDefs = function(r) {
      var n = this.columnModel.getPivotColumns(), i = this.columnModel.getValueColumns(), a = n.length, s = this.recursiveBuildGroup(0, r, [], a, n);
      function l(d, p) {
        return p === void 0 && (p = []), d.forEach(function(h) {
          h.children !== void 0 ? l(h.children, p) : p.push(h);
        }), p;
      }
      var u = l(s);
      this.addRowGroupTotals(s, u, i), this.addExpandablePivotGroups(s, u), this.addPivotTotalsToGroups(s, u);
      var c = u.map(function(d) {
        return T.cloneObject(d);
      });
      return {
        pivotColumnGroupDefs: s,
        pivotColumnDefs: c
      };
    }, t.prototype.recursiveBuildGroup = function(r, n, i, a, s) {
      var l = this, u = this.columnModel.getValueColumns();
      if (r >= a)
        return this.buildMeasureCols(i);
      var c = s[r].getColDef(), d = this.headerNameComparator.bind(this, c.pivotComparator);
      if (u.length === 1 && this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn") && r === a - 1) {
        var p = [];
        return T.iterateObject(n, function(f) {
          var v = Ds(Ds([], ep(i)), [f]);
          p.push(wl(wl({}, l.createColDef(u[0], f, v)), { columnGroupShow: "open" }));
        }), p.sort(d), p;
      }
      var h = [];
      return T.iterateObject(n, function(f, v) {
        var g = Ds(Ds([], ep(i)), [f]);
        h.push({
          children: l.recursiveBuildGroup(r + 1, v, g, a, s),
          headerName: f,
          pivotKeys: g,
          columnGroupShow: "open",
          groupId: l.generateColumnGroupId(g)
        });
      }), h.sort(d), h;
    }, t.prototype.buildMeasureCols = function(r) {
      var n = this, i = this.columnModel.getValueColumns();
      return i.length === 0 ? [this.createColDef(null, "-", r)] : i.map(function(a) {
        var s = n.columnModel.getDisplayNameForColumn(a, "header");
        return wl(wl({}, n.createColDef(a, s, r)), { columnGroupShow: "open" });
      });
    }, t.prototype.addExpandablePivotGroups = function(r, n) {
      var i = this;
      if (!(this.gridOptionsService.is("suppressExpandablePivotGroups") || this.gridOptionsService.get("pivotColumnGroupTotals"))) {
        var a = function(s, l, u) {
          var c = s;
          if (c.children) {
            var d = /* @__PURE__ */ new Map();
            c.children.forEach(function(g) {
              a(g, l, d);
            });
            var p = !c.children.some(function(g) {
              return g.children;
            });
            i.columnModel.getValueColumns().forEach(function(g) {
              var y = i.columnModel.getDisplayNameForColumn(g, "header"), m = i.createColDef(g, y, s.pivotKeys);
              if (m.pivotTotalColumnIds = d.get(g.getColId()), m.columnGroupShow = "closed", m.aggFunc = g.getAggFunc(), !p) {
                var C = s.children;
                C.push(m), l.push(m);
              }
            }), i.merge(u, d);
          } else {
            var h = s;
            if (!h.pivotValueColumn)
              return;
            var f = h.pivotValueColumn.getColId(), v = u.has(f) ? u.get(f) : [];
            v.push(h.colId), u.set(f, v);
          }
        };
        r.forEach(function(s) {
          a(s, n, /* @__PURE__ */ new Map());
        });
      }
    }, t.prototype.addPivotTotalsToGroups = function(r, n) {
      var i = this;
      if (this.gridOptionsService.get("pivotColumnGroupTotals")) {
        var a = this.gridOptionsService.get("pivotColumnGroupTotals") === "after", s = this.columnModel.getValueColumns(), l = s.map(function(c) {
          return c.getAggFunc();
        });
        if (!(!l || l.length < 1 || !this.sameAggFuncs(l))) {
          var u = s[0];
          r.forEach(function(c) {
            i.recursivelyAddPivotTotal(c, n, u, a);
          });
        }
      }
    }, t.prototype.recursivelyAddPivotTotal = function(r, n, i, a) {
      var s = this, l = r;
      if (!l.children) {
        var u = r;
        return u.colId ? [u.colId] : null;
      }
      var c = [];
      if (l.children.forEach(function(v) {
        var g = s.recursivelyAddPivotTotal(v, n, i, a);
        g && (c = c.concat(g));
      }), l.children.length > 1) {
        var d = this.localeService.getLocaleTextFunc(), p = d("pivotColumnGroupTotals", "Total"), h = this.createColDef(i, p, r.pivotKeys, !0);
        h.pivotTotalColumnIds = c, h.aggFunc = i.getAggFunc();
        var f = r.children;
        a ? f.push(h) : f.unshift(h), n.push(h);
      }
      return c;
    }, t.prototype.addRowGroupTotals = function(r, n, i) {
      var a = this;
      if (this.gridOptionsService.get("pivotRowTotals"))
        for (var s = this.gridOptionsService.get("pivotRowTotals") === "after", l = s ? i.slice() : i.slice().reverse(), u = function(p) {
          var h = l[p], f = [];
          r.forEach(function(g) {
            f = f.concat(a.extractColIdsForValueColumn(g, h));
          });
          var v = l.length > 1 || !c.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");
          c.createRowGroupTotal(r, n, h, f, s, v);
        }, c = this, d = 0; d < l.length; d++)
          u(d);
    }, t.prototype.extractColIdsForValueColumn = function(r, n) {
      var i = this, a = r;
      if (!a.children) {
        var s = a;
        return s.pivotValueColumn === n && s.colId ? [s.colId] : [];
      }
      var l = [];
      return a.children.forEach(function(u) {
        i.extractColIdsForValueColumn(u, n);
        var c = i.extractColIdsForValueColumn(u, n);
        l = l.concat(c);
      }), l;
    }, t.prototype.createRowGroupTotal = function(r, n, i, a, s, l) {
      var u = this.columnModel.getValueColumns(), c;
      if (u.length === 0)
        c = this.createColDef(null, "-", []);
      else {
        var d = this.columnModel.getDisplayNameForColumn(i, "header");
        c = this.createColDef(i, d, []), c.pivotTotalColumnIds = a;
      }
      c.colId = e.PIVOT_ROW_TOTAL_PREFIX + c.colId, n.push(c);
      var p = l ? {
        children: [c],
        pivotKeys: [],
        groupId: e.PIVOT_ROW_TOTAL_PREFIX + "_pivotGroup_" + i.getColId()
      } : c;
      s ? r.push(p) : r.unshift(p);
    }, t.prototype.createColDef = function(r, n, i, a) {
      a === void 0 && (a = !1);
      var s = {};
      if (r) {
        var l = r.getColDef();
        Object.assign(s, l), s.hide = !1;
      }
      return s.headerName = n, s.colId = this.generateColumnId(i || [], r && !a ? r.getColId() : ""), s.field = s.colId, s.valueGetter = function(u) {
        var c;
        return (c = u.data) === null || c === void 0 ? void 0 : c[u.colDef.field];
      }, s.pivotKeys = i, s.pivotValueColumn = r, s.filter === !0 && (s.filter = "agNumberColumnFilter"), s;
    }, t.prototype.sameAggFuncs = function(r) {
      if (r.length == 1)
        return !0;
      for (var n = 1; n < r.length; n++)
        if (r[n] !== r[0])
          return !1;
      return !0;
    }, t.prototype.headerNameComparator = function(r, n, i) {
      return r ? r(n.headerName, i.headerName) : n.headerName && !i.headerName ? 1 : !n.headerName && i.headerName ? -1 : !n.headerName || !i.headerName ? 0 : n.headerName < i.headerName ? -1 : n.headerName > i.headerName ? 1 : 0;
    }, t.prototype.merge = function(r, n) {
      n.forEach(function(i, a, s) {
        var l = r.has(a) ? r.get(a) : [], u = Ds(Ds([], ep(l)), ep(i));
        r.set(a, u);
      });
    }, t.prototype.generateColumnGroupId = function(r) {
      var n = this.columnModel.getPivotColumns().map(function(i) {
        return i.getColId();
      });
      return "pivotGroup_" + n.join("-") + "_" + r.join("-");
    }, t.prototype.generateColumnId = function(r, n) {
      var i = this.columnModel.getPivotColumns().map(function(a) {
        return a.getColId();
      });
      return "pivot_" + i.join("-") + "_" + r.join("-") + "_" + n;
    };
    var e;
    return t.PIVOT_ROW_TOTAL_PREFIX = "PivotRowTotal_", KS([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = e = KS([
      q("pivotColDefService")
    ], t), t;
  }(W)
), oH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), tp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, aH = (
  /** @class */
  function(o) {
    oH(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.uniqueValues = {}, e;
    }
    return t.prototype.execute = function(e) {
      var r = e.changedPath;
      this.columnModel.isPivotActive() ? this.executePivotOn(r) : this.executePivotOff(r);
    }, t.prototype.executePivotOff = function(e) {
      this.aggregationColumnsHashLastTime = null, this.uniqueValues = {}, this.columnModel.isSecondaryColumnsPresent() && (this.columnModel.setSecondaryColumns(null, "rowModelUpdated"), e && e.setInactive());
    }, t.prototype.executePivotOn = function(e) {
      var r = this.bucketUpRowNodes(e), n = this.setUniqueValues(r), i = this.columnModel.getValueColumns(), a = i.map(function(v) {
        return v.getId() + "-" + v.getColDef().headerName;
      }).join("#"), s = i.map(function(v) {
        return v.getAggFunc().toString();
      }).join("#"), l = this.aggregationColumnsHashLastTime !== a, u = this.aggregationFuncsHashLastTime !== s;
      this.aggregationColumnsHashLastTime = a, this.aggregationFuncsHashLastTime = s;
      var c = this.columnModel.getRowGroupColumns().map(function(v) {
        return v.getId();
      }).join("#"), d = c !== this.groupColumnsHashLastTime;
      if (this.groupColumnsHashLastTime = c, n || l || d || u) {
        var p = this.pivotColDefService.createPivotColumnDefs(this.uniqueValues), h = p.pivotColumnGroupDefs, f = p.pivotColumnDefs;
        this.pivotColumnDefs = f, this.columnModel.setSecondaryColumns(h, "rowModelUpdated"), e && e.setInactive();
      }
    }, t.prototype.setUniqueValues = function(e) {
      var r = JSON.stringify(e), n = JSON.stringify(this.uniqueValues), i = r !== n;
      return i ? (this.uniqueValues = e, !0) : !1;
    }, t.prototype.bucketUpRowNodes = function(e) {
      var r = this, n = {};
      e.forEachChangedNodeDepthFirst(function(a) {
        a.leafGroup && (a.childrenMapped = null);
      });
      var i = function(a) {
        var s;
        a.leafGroup ? r.bucketRowNode(a, n) : (s = a.childrenAfterFilter) === null || s === void 0 || s.forEach(i);
      };
      return e.executeFromRootNode(i), n;
    }, t.prototype.bucketRowNode = function(e, r) {
      var n = this.columnModel.getPivotColumns();
      n.length === 0 ? e.childrenMapped = null : e.childrenMapped = this.bucketChildren(e.childrenAfterFilter, n, 0, r), e.sibling && (e.sibling.childrenMapped = e.childrenMapped);
    }, t.prototype.bucketChildren = function(e, r, n, i) {
      var a = this, s = {}, l = r[n];
      if (e.forEach(function(c) {
        var d = a.valueService.getKeyForNode(l, c);
        T.missing(d) && (d = ""), i[d] || (i[d] = {}), s[d] || (s[d] = []), s[d].push(c);
      }), n === r.length - 1)
        return s;
      var u = {};
      return T.iterateObject(s, function(c, d) {
        u[c] = a.bucketChildren(d, r, n + 1, i[c]);
      }), u;
    }, t.prototype.getPivotColumnDefs = function() {
      return this.pivotColumnDefs;
    }, tp([
      w("valueService")
    ], t.prototype, "valueService", void 0), tp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), tp([
      w("pivotColDefService")
    ], t.prototype, "pivotColDefService", void 0), t = tp([
      q("pivotStage")
    ], t), t;
  }(W)
), sH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), YS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, di = typeof BigInt == "undefined" ? null : BigInt, lH = (
  /** @class */
  function(o) {
    sH(t, o);
    function t() {
      var r = o !== null && o.apply(this, arguments) || this;
      return r.aggFuncsMap = {}, r.initialised = !1, r;
    }
    e = t, t.prototype.init = function() {
      this.initialised || (this.initialiseWithDefaultAggregations(), this.addAggFuncs(this.gridOptionsService.get("aggFuncs")));
    }, t.prototype.initialiseWithDefaultAggregations = function() {
      this.aggFuncsMap[e.AGG_SUM] = uH, this.aggFuncsMap[e.AGG_FIRST] = cH, this.aggFuncsMap[e.AGG_LAST] = dH, this.aggFuncsMap[e.AGG_MIN] = pH, this.aggFuncsMap[e.AGG_MAX] = hH, this.aggFuncsMap[e.AGG_COUNT] = fH, this.aggFuncsMap[e.AGG_AVG] = vH, this.initialised = !0;
    }, t.prototype.isAggFuncPossible = function(r, n) {
      var i = this.getFuncNames(r), a = T.includes(i, n), s = T.exists(this.aggFuncsMap[n]);
      return a && s;
    }, t.prototype.getDefaultAggFunc = function(r) {
      var n = r.getColDef().defaultAggFunc;
      if (T.exists(n) && this.isAggFuncPossible(r, n))
        return n;
      if (this.isAggFuncPossible(r, e.AGG_SUM))
        return e.AGG_SUM;
      var i = this.getFuncNames(r);
      return T.existsAndNotEmpty(i) ? i[0] : null;
    }, t.prototype.addAggFuncs = function(r) {
      T.iterateObject(r, this.addAggFunc.bind(this));
    }, t.prototype.addAggFunc = function(r, n) {
      this.init(), this.aggFuncsMap[r] = n;
    }, t.prototype.getAggFunc = function(r) {
      return this.init(), this.aggFuncsMap[r];
    }, t.prototype.getFuncNames = function(r) {
      var n = r.getColDef().allowedAggFuncs;
      return n == null ? Object.keys(this.aggFuncsMap).sort() : n;
    }, t.prototype.clear = function() {
      this.aggFuncsMap = {};
    };
    var e;
    return t.AGG_SUM = "sum", t.AGG_FIRST = "first", t.AGG_LAST = "last", t.AGG_MIN = "min", t.AGG_MAX = "max", t.AGG_COUNT = "count", t.AGG_AVG = "avg", YS([
      V
    ], t.prototype, "init", null), t = e = YS([
      q("aggFuncService")
    ], t), t;
  }(W)
);
function uH(o) {
  for (var t = o.values, e = null, r = 0; r < t.length; r++) {
    var n = t[r];
    typeof n == "number" ? e === null ? e = n : di ? e += typeof e == "number" ? n : di(n) : e += n : typeof n == "bigint" && (e === null ? e = n : e = (typeof e == "bigint" ? e : di(e)) + n);
  }
  return e;
}
function cH(o) {
  return o.values.length > 0 ? o.values[0] : null;
}
function dH(o) {
  return o.values.length > 0 ? T.last(o.values) : null;
}
function pH(o) {
  for (var t = o.values, e = null, r = 0; r < t.length; r++) {
    var n = t[r];
    (typeof n == "number" || typeof n == "bigint") && (e === null || e > n) && (e = n);
  }
  return e;
}
function hH(o) {
  for (var t = o.values, e = null, r = 0; r < t.length; r++) {
    var n = t[r];
    (typeof n == "number" || typeof n == "bigint") && (e === null || e < n) && (e = n);
  }
  return e;
}
function fH(o) {
  for (var t, e, r = o.values, n = 0, i = 0; i < r.length; i++) {
    var a = r[i];
    n += a != null && typeof a.value == "number" ? a.value : 1;
  }
  var s = (e = (t = o.rowNode) === null || t === void 0 ? void 0 : t.aggData) === null || e === void 0 ? void 0 : e[o.column.getColId()];
  return s && s.value === n ? s : {
    value: n,
    toString: function() {
      return this.value.toString();
    },
    // used for sorting
    toNumber: function() {
      return this.value;
    }
  };
}
function vH(o) {
  for (var t, e, r, n = o.values, i = 0, a = 0, s = 0; s < n.length; s++) {
    var l = n[s], u = null;
    typeof l == "number" || typeof l == "bigint" ? (u = l, a++) : l != null && (typeof l.value == "number" || typeof l.value == "bigint") && typeof l.count == "number" && (di ? u = l.value * (typeof l.value == "number" ? l.count : di(l.count)) : u = l.value * l.count, a += l.count), typeof u == "number" ? di ? i += typeof i == "number" ? u : di(u) : i += u : typeof u == "bigint" && (i = (typeof i == "bigint" ? i : di(i)) + u);
  }
  var c = null;
  a > 0 && (di ? c = i / (typeof i == "number" ? a : di(a)) : c = i / a);
  var d = (e = (t = o.rowNode) === null || t === void 0 ? void 0 : t.aggData) === null || e === void 0 ? void 0 : e[(r = o.column) === null || r === void 0 ? void 0 : r.getColId()];
  return d && d.count === a && d.value === c ? d : {
    count: a,
    value: c,
    // the grid by default uses toString to render values for an object, so this
    // is a trick to get the default cellRenderer to display the avg value
    toString: function() {
      return typeof this.value == "number" || typeof this.value == "bigint" ? this.value.toString() : "";
    },
    // used for sorting
    toNumber: function() {
      return this.value;
    }
  };
}
var QE = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Qn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, XS = (
  /** @class */
  function(o) {
    QE(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      return s.column = e, s.dragSourceDropTarget = r, s.ghost = n, s.dropZonePurpose = i, s.horizontal = a, s.popupShowing = !1, s;
    }
    return t.prototype.init = function() {
      var e = this;
      this.setTemplate(t.TEMPLATE);
      var r = this.getGui(), n = this.gridOptionsService.is("functionsReadOnly");
      this.addElementClasses(r), this.addElementClasses(this.eDragHandle, "drag-handle"), this.addElementClasses(this.eText, "text"), this.addElementClasses(this.eButton, "button"), this.eDragHandle.appendChild(T.createIconNoSpan("columnDrag", this.gridOptionsService)), this.eButton.appendChild(T.createIconNoSpan("cancel", this.gridOptionsService)), this.setupSort(), this.displayName = this.columnModel.getDisplayNameForColumn(this.column, "columnDrop"), this.setupComponents(), !this.ghost && !n && this.addDragSource(), this.setupAria(), this.addManagedListener(this.eventService, Me.EVENT_SORT_CHANGED, function() {
        e.setupAria();
      }), this.setupTooltip(), this.activateTabIndex();
    }, t.prototype.setupAria = function() {
      var e = this.localeService.getLocaleTextFunc(), r = this.getColumnAndAggFuncName(), n = r.name, i = r.aggFuncName, a = e("ariaDropZoneColumnComponentAggFuncSeparator", " of "), s = {
        asc: e("ariaDropZoneColumnComponentSortAscending", "ascending"),
        desc: e("ariaDropZoneColumnComponentSortDescending", "descending")
      }, l = this.column.getSort(), u = this.gridOptionsService.is("rowGroupPanelSuppressSort"), c = [
        [
          i && "" + i + a,
          n,
          this.isGroupingZone() && !u && l && ", " + s[l]
        ].filter(function(v) {
          return !!v;
        }).join("")
      ], d = this.gridOptionsService.is("functionsReadOnly");
      if (this.isAggregationZone() && !d) {
        var p = e("ariaDropZoneColumnValueItemDescription", "Press ENTER to change the aggregation type");
        c.push(p);
      }
      if (this.isGroupingZone() && this.column.getColDef().sortable && !u) {
        var h = e("ariaDropZoneColumnGroupItemDescription", "Press ENTER to sort");
        c.push(h);
      }
      var f = e("ariaDropZoneColumnComponentDescription", "Press DELETE to remove");
      c.push(f), T.setAriaLabel(this.getGui(), c.join(". "));
    }, t.prototype.setupTooltip = function() {
      var e = this, r = function() {
        var n = e.column.getColDef().headerTooltip;
        e.setTooltip(n);
      };
      r(), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, r);
    }, t.prototype.setupSort = function() {
      var e = this, r = this.column.getColDef().sortable, n = this.isGroupingZone();
      if (!(!r || !n) && !this.gridOptionsService.is("rowGroupPanelSuppressSort")) {
        this.eSortIndicator.setupSort(this.column, !0);
        var i = function(a) {
          a.preventDefault();
          var s = e.gridOptionsService.get("multiSortKey") === "ctrl", l = s ? a.ctrlKey || a.metaKey : a.shiftKey;
          e.sortController.progressSort(e.column, l, "uiColumnSorted");
        };
        this.addGuiEventListener("click", i), this.addGuiEventListener("keydown", function(a) {
          var s = a.key === H.ENTER;
          s && e.isGroupingZone() && i(a);
        });
      }
    }, t.prototype.addDragSource = function() {
      var e = this, r = {
        type: gt.ToolPanel,
        eElement: this.eDragHandle,
        defaultIconName: Ze.ICON_HIDE,
        getDragItem: function() {
          return e.createDragItem();
        },
        dragItemName: this.displayName,
        dragSourceDropTarget: this.dragSourceDropTarget
      };
      this.dragAndDropService.addDragSource(r, !0), this.addDestroyFunc(function() {
        return e.dragAndDropService.removeDragSource(r);
      });
    }, t.prototype.createDragItem = function() {
      var e = {};
      return e[this.column.getId()] = this.column.isVisible(), {
        columns: [this.column],
        visibleState: e
      };
    }, t.prototype.setupComponents = function() {
      this.setTextValue(), this.setupRemove(), this.ghost && this.addCssClass("ag-column-drop-cell-ghost"), this.isAggregationZone() && !this.gridOptionsService.is("functionsReadOnly") && this.addGuiEventListener("click", this.onShowAggFuncSelection.bind(this));
    }, t.prototype.setupRemove = function() {
      var e = this;
      T.setDisplayed(this.eButton, !this.gridOptionsService.is("functionsReadOnly"));
      var r = { type: t.EVENT_COLUMN_REMOVE };
      this.addGuiEventListener("keydown", function(i) {
        var a = i.key === H.ENTER, s = i.key === H.DELETE;
        s && (i.preventDefault(), e.dispatchEvent(r)), a && e.isAggregationZone() && !e.gridOptionsService.is("functionsReadOnly") && (i.preventDefault(), e.onShowAggFuncSelection());
      }), this.addManagedListener(this.eButton, "click", function(i) {
        e.dispatchEvent(r), i.stopPropagation();
      });
      var n = new sr(this.eButton);
      this.addManagedListener(n, sr.EVENT_TAP, function() {
        e.dispatchEvent(r);
      }), this.addDestroyFunc(n.destroy.bind(n));
    }, t.prototype.getColumnAndAggFuncName = function() {
      var e = this.displayName, r = "";
      if (this.isAggregationZone()) {
        var n = this.column.getAggFunc(), i = typeof n == "string" ? n : "agg", a = this.localeService.getLocaleTextFunc();
        r = a(i, i);
      }
      return { name: e, aggFuncName: r };
    }, t.prototype.setTextValue = function() {
      var e = this.getColumnAndAggFuncName(), r = e.name, n = e.aggFuncName, i = this.isAggregationZone() ? n + "(" + r + ")" : r, a = T.escapeString(i);
      this.eText.innerHTML = a;
    }, t.prototype.onShowAggFuncSelection = function() {
      var e = this;
      if (!this.popupShowing) {
        this.popupShowing = !0;
        var r = new Tf("select-agg-func"), n = this.aggFuncService.getFuncNames(this.column), i = this.getGui(), a = r.getGui();
        r.setModel({
          getRow: function(h) {
            return n[h];
          },
          getRowCount: function() {
            return n.length;
          }
        }), this.getContext().createBean(r);
        var s = T.loadTemplate(
          /* html*/
          '<div class="ag-select-agg-func-popup"></div>'
        );
        s.style.top = "0px", s.style.left = "0px", s.appendChild(a), s.style.width = i.clientWidth + "px";
        var l = this.addManagedListener(s, "focusout", function(h) {
          !s.contains(h.relatedTarget) && d && d.hideFunc();
        }), u = function(h) {
          e.destroyBean(r), e.popupShowing = !1, (h == null ? void 0 : h.key) === "Escape" && i.focus(), l && l();
        }, c = this.localeService.getLocaleTextFunc(), d = this.popupService.addPopup({
          modal: !0,
          eChild: s,
          closeOnEsc: !0,
          closedCallback: u,
          ariaLabel: c("ariaLabelAggregationFunction", "Aggregation Function")
        });
        d && r.setComponentCreator(this.createAggSelect.bind(this, d.hideFunc)), r.addGuiEventListener("keydown", function(h) {
          if (h.key === H.ENTER || h.key === H.SPACE) {
            var f = r.getLastFocusedRow();
            if (f == null)
              return;
            var v = r.getComponentAt(f);
            v && v.selectItem();
          }
        }), this.popupService.positionPopupByComponent({
          type: "aggFuncSelect",
          eventSource: i,
          ePopup: s,
          keepWithinBounds: !0,
          column: this.column,
          position: "under"
        }), r.refresh();
        var p = n.findIndex(function(h) {
          return h === e.column.getAggFunc();
        });
        p === -1 && (p = 0), r.focusRow(p);
      }
    }, t.prototype.createAggSelect = function(e, r) {
      var n = this, i = function() {
        if (e(), n.gridOptionsService.is("functionsPassive")) {
          var c = {
            type: R.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,
            columns: [n.column],
            aggFunc: r
          };
          n.eventService.dispatchEvent(c);
        } else
          n.columnModel.setColumnAggFunc(n.column, r, "toolPanelDragAndDrop");
      }, a = this.localeService.getLocaleTextFunc(), s = r.toString(), l = a(s, s), u = new gH(i, l);
      return u;
    }, t.prototype.addElementClasses = function(e, r) {
      r = r ? "-" + r : "";
      var n = this.horizontal ? "horizontal" : "vertical";
      e.classList.add("ag-column-drop-cell" + r, "ag-column-drop-" + n + "-cell" + r);
    }, t.prototype.isAggregationZone = function() {
      return this.dropZonePurpose === "aggregation";
    }, t.prototype.isGroupingZone = function() {
      return this.dropZonePurpose === "rowGroup";
    }, t.EVENT_COLUMN_REMOVE = "columnRemove", t.TEMPLATE = `<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`, Qn([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Qn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Qn([
      w("popupService")
    ], t.prototype, "popupService", void 0), Qn([
      Fe("aggFuncService")
    ], t.prototype, "aggFuncService", void 0), Qn([
      w("sortController")
    ], t.prototype, "sortController", void 0), Qn([
      G("eText")
    ], t.prototype, "eText", void 0), Qn([
      G("eDragHandle")
    ], t.prototype, "eDragHandle", void 0), Qn([
      G("eButton")
    ], t.prototype, "eButton", void 0), Qn([
      G("eSortIndicator")
    ], t.prototype, "eSortIndicator", void 0), Qn([
      V
    ], t.prototype, "init", null), t;
  }(te)
), gH = (
  /** @class */
  function(o) {
    QE(t, o);
    function t(e, r) {
      var n = o.call(
        this,
        /* html */
        '<div class="ag-select-agg-func-item"/>'
      ) || this;
      return n.selectItem = e, n.getGui().innerText = r, n.addGuiEventListener("click", n.selectItem), n;
    }
    return t;
  }(te)
), yH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ZS = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, QS = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, qm = (
  /** @class */
  function(o) {
    yH(t, o);
    function t(e, r) {
      var n = o.call(
        this,
        /* html */
        '<div class="ag-unselectable" role="presentation"></div>'
      ) || this;
      return n.horizontal = e, n.dropZonePurpose = r, n.state = t.STATE_NOT_DRAGGING, n.guiDestroyFunctions = [], n.childColumnComponents = [], n.resizeEnabled = !1, n.addElementClasses(n.getGui()), n.eColumnDropList = document.createElement("div"), n.addElementClasses(n.eColumnDropList, "list"), T.setAriaRole(n.eColumnDropList, "listbox"), n;
    }
    return t.prototype.isHorizontal = function() {
      return this.horizontal;
    }, t.prototype.toggleResizable = function(e) {
      this.positionableFeature.setResizable(e ? { bottom: !0 } : !1), this.resizeEnabled = e;
    }, t.prototype.setBeans = function(e) {
      this.beans = e;
    }, t.prototype.destroy = function() {
      this.destroyGui(), o.prototype.destroy.call(this);
    }, t.prototype.destroyGui = function() {
      this.guiDestroyFunctions.forEach(function(e) {
        return e();
      }), this.guiDestroyFunctions.length = 0, this.childColumnComponents.length = 0, T.clearElement(this.getGui()), T.clearElement(this.eColumnDropList);
    }, t.prototype.init = function(e) {
      this.params = e, this.createManagedBean(new Ai(this.getFocusableElement(), {
        handleKeyDown: this.handleKeyDown.bind(this)
      })), this.addManagedListener(this.beans.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.refreshGui.bind(this)), this.addManagedPropertyListener("functionsReadOnly", this.refreshGui.bind(this)), this.setupDropTarget(), this.positionableFeature = new Cf(this.getGui(), { minHeight: 100 }), this.createManagedBean(this.positionableFeature), this.refreshGui(), T.setAriaLabel(this.eColumnDropList, this.getAriaLabel());
    }, t.prototype.handleKeyDown = function(e) {
      var r = !this.horizontal, n = e.key === H.DOWN, i = e.key === H.UP;
      if (!r) {
        var a = this.gridOptionsService.is("enableRtl");
        n = !a && e.key === H.RIGHT || a && e.key === H.LEFT, i = !a && e.key === H.LEFT || a && e.key === H.RIGHT;
      }
      if (!(!n && !i)) {
        var s = this.focusService.findNextFocusableElement(this.getFocusableElement(), !1, i);
        s && (e.preventDefault(), s.focus());
      }
    }, t.prototype.addElementClasses = function(e, r) {
      r = r ? "-" + r : "";
      var n = this.horizontal ? "horizontal" : "vertical";
      e.classList.add("ag-column-drop" + r, "ag-column-drop-" + n + r);
    }, t.prototype.setupDropTarget = function() {
      this.dropTarget = {
        getContainer: this.getGui.bind(this),
        getIconName: this.getIconName.bind(this),
        onDragging: this.onDragging.bind(this),
        onDragEnter: this.onDragEnter.bind(this),
        onDragLeave: this.onDragLeave.bind(this),
        onDragStop: this.onDragStop.bind(this),
        isInterestedIn: this.isInterestedIn.bind(this)
      }, this.beans.dragAndDropService.addDropTarget(this.dropTarget);
    }, t.prototype.isInterestedIn = function(e) {
      return e === gt.HeaderCell || e === gt.ToolPanel;
    }, t.prototype.checkInsertIndex = function(e) {
      var r = this.getNewInsertIndex(e);
      if (r < 0)
        return !1;
      var n = r !== this.insertIndex;
      return n && (this.insertIndex = r), n;
    }, t.prototype.getNewInsertIndex = function(e) {
      var r = this, n = e.event, i = this.horizontal ? n.clientX : n.clientY, a = this.childColumnComponents.map(function(d) {
        return d.getGui().getBoundingClientRect();
      }), s = a.findIndex(function(d) {
        return r.horizontal ? d.right > i && d.left < i : d.top < i && d.bottom > i;
      });
      if (s === -1) {
        var l = this.beans.gridOptionsService.is("enableRtl"), u = a.every(function(d) {
          return i > (r.horizontal ? d.right : d.bottom);
        });
        if (u)
          return l && this.horizontal ? 0 : this.childColumnComponents.length;
        var c = a.every(function(d) {
          return i < (r.horizontal ? d.left : d.top);
        });
        return c ? l && this.horizontal ? this.childColumnComponents.length : 0 : this.insertIndex;
      }
      return this.insertIndex <= s ? s + 1 : s;
    }, t.prototype.checkDragStartedBySelf = function(e) {
      this.state === t.STATE_NOT_DRAGGING && (this.state = t.STATE_REARRANGE_COLUMNS, this.potentialDndColumns = e.dragSource.getDragItem().columns || [], this.refreshGui(), this.checkInsertIndex(e), this.refreshGui());
    }, t.prototype.onDragging = function(e) {
      this.checkDragStartedBySelf(e), this.checkInsertIndex(e) && this.refreshGui();
    }, t.prototype.onDragEnter = function(e) {
      var r = e.dragSource.getDragItem().columns || [];
      this.state = t.STATE_NEW_COLUMNS_IN;
      var n = r.filter(this.isColumnDroppable.bind(this));
      if (n.length > 0) {
        var i = this.isRowGroupPanel() && !this.gridOptionsService.is("suppressRowGroupHidesColumns") && !e.fromNudge;
        if (i) {
          var a = e.dragSource.getDragItem(), s = a.columns;
          this.setColumnsVisible(s, !1, "uiColumnDragged");
        }
        this.potentialDndColumns = n, this.checkInsertIndex(e), this.refreshGui();
      }
    }, t.prototype.setColumnsVisible = function(e, r, n) {
      if (n === void 0 && (n = "api"), e) {
        var i = e.filter(function(a) {
          return !a.getColDef().lockVisible;
        });
        this.colModel.setColumnsVisible(i, r, n);
      }
    }, t.prototype.isPotentialDndColumns = function() {
      return T.existsAndNotEmpty(this.potentialDndColumns);
    }, t.prototype.isRowGroupPanel = function() {
      return this.dropZonePurpose === "rowGroup";
    }, t.prototype.onDragLeave = function(e) {
      if (this.state === t.STATE_REARRANGE_COLUMNS) {
        var r = e.dragSource.getDragItem().columns || [];
        this.removeColumns(r);
      }
      if (this.isPotentialDndColumns()) {
        var n = this.isRowGroupPanel() && !this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup") && !e.fromNudge;
        if (n) {
          var i = e.dragSource.getDragItem();
          this.setColumnsVisible(i.columns, !0, "uiColumnDragged");
        }
        this.potentialDndColumns = [], this.refreshGui();
      }
      this.state = t.STATE_NOT_DRAGGING;
    }, t.prototype.onDragStop = function() {
      if (this.isPotentialDndColumns()) {
        var e = !1;
        this.state === t.STATE_NEW_COLUMNS_IN ? (this.addColumns(this.potentialDndColumns), e = !0) : e = this.rearrangeColumns(this.potentialDndColumns), this.potentialDndColumns = [], (!this.beans.gridOptionsService.is("functionsPassive") || !e) && this.refreshGui();
      }
      this.state = t.STATE_NOT_DRAGGING;
    }, t.prototype.removeColumns = function(e) {
      var r = this.getExistingColumns().filter(function(n) {
        return !T.includes(e, n);
      });
      this.updateColumns(r);
    }, t.prototype.addColumns = function(e) {
      if (e) {
        var r = this.getExistingColumns().slice(), n = e.filter(function(i) {
          return r.indexOf(i) < 0;
        });
        T.insertArrayIntoArray(r, n, this.insertIndex), this.updateColumns(r);
      }
    }, t.prototype.rearrangeColumns = function(e) {
      var r = this.getNonGhostColumns().slice();
      return T.insertArrayIntoArray(r, e, this.insertIndex), T.areEqual(r, this.getExistingColumns()) ? !1 : (this.updateColumns(r), !0);
    }, t.prototype.refreshGui = function() {
      var e = this.eColumnDropList.scrollTop, r = this.resizeEnabled, n = this.getFocusedItem(), i = this.focusService.findNextFocusableElement();
      i || (i = this.focusService.findNextFocusableElement(void 0, !1, !0)), this.toggleResizable(!1), this.destroyGui(), this.addIconAndTitleToGui(), this.addEmptyMessageToGui(), this.addColumnsToGui(), this.isHorizontal() || (this.eColumnDropList.scrollTop = e), r && this.toggleResizable(r), this.focusService.isKeyboardMode() && this.restoreFocus(n, i);
    }, t.prototype.getFocusedItem = function() {
      var e = this.getGui(), r = this.gridOptionsService.getDocument().activeElement;
      if (!e.contains(r))
        return -1;
      var n = Array.from(e.querySelectorAll(".ag-column-drop-cell"));
      return n.indexOf(r);
    }, t.prototype.restoreFocus = function(e, r) {
      var n = this.getGui(), i = Array.from(n.querySelectorAll(".ag-column-drop-cell"));
      if (e !== -1) {
        i.length === 0 && r.focus();
        var a = Math.min(i.length - 1, e), s = i[a];
        s && s.focus();
      }
    }, t.prototype.getNonGhostColumns = function() {
      var e = this, r = this.getExistingColumns();
      return this.isPotentialDndColumns() ? r.filter(function(n) {
        return !T.includes(e.potentialDndColumns, n);
      }) : r;
    }, t.prototype.addColumnsToGui = function() {
      var e = this, r = this.getNonGhostColumns(), n = r.map(function(a) {
        return e.createColumnComponent(a, !1);
      });
      if (this.isPotentialDndColumns()) {
        var i = this.potentialDndColumns.map(function(a) {
          return e.createColumnComponent(a, !0);
        });
        this.insertIndex >= n.length ? n.push.apply(n, QS([], ZS(i))) : n.splice.apply(n, QS([this.insertIndex, 0], ZS(i)));
      }
      this.appendChild(this.eColumnDropList), n.forEach(function(a, s) {
        s > 0 && e.addArrow(e.eColumnDropList), e.eColumnDropList.appendChild(a.getGui());
      }), this.addAriaLabelsToComponents();
    }, t.prototype.addAriaLabelsToComponents = function() {
      var e = this;
      this.childColumnComponents.forEach(function(r, n) {
        var i = r.getGui();
        T.setAriaPosInSet(i, n + 1), T.setAriaSetSize(i, e.childColumnComponents.length);
      });
    }, t.prototype.createColumnComponent = function(e, r) {
      var n = this, i = new XS(e, this.dropTarget, r, this.dropZonePurpose, this.horizontal);
      return i.addEventListener(XS.EVENT_COLUMN_REMOVE, this.removeColumns.bind(this, [e])), this.beans.context.createBean(i), this.guiDestroyFunctions.push(function() {
        return n.destroyBean(i);
      }), r || this.childColumnComponents.push(i), i;
    }, t.prototype.addIconAndTitleToGui = function() {
      var e = this.params.icon, r = document.createElement("div");
      if (T.setAriaHidden(r, !0), this.addElementClasses(r, "title-bar"), this.addElementClasses(e, "icon"), this.addOrRemoveCssClass("ag-column-drop-empty", this.isExistingColumnsEmpty()), r.appendChild(e), !this.horizontal) {
        var n = document.createElement("span");
        this.addElementClasses(n, "title"), n.innerHTML = this.params.title, r.appendChild(n);
      }
      this.appendChild(r);
    }, t.prototype.isExistingColumnsEmpty = function() {
      return this.getExistingColumns().length === 0;
    }, t.prototype.addEmptyMessageToGui = function() {
      if (!(!this.isExistingColumnsEmpty() || this.isPotentialDndColumns())) {
        var e = document.createElement("span");
        e.innerHTML = this.params.emptyMessage, this.addElementClasses(e, "empty-message"), this.eColumnDropList.appendChild(e);
      }
    }, t.prototype.addArrow = function(e) {
      if (this.horizontal) {
        var r = this.beans.gridOptionsService.is("enableRtl"), n = T.createIconNoSpan(r ? "smallLeft" : "smallRight", this.beans.gridOptionsService);
        this.addElementClasses(n, "cell-separator"), e.appendChild(n);
      }
    }, t.STATE_NOT_DRAGGING = "notDragging", t.STATE_NEW_COLUMNS_IN = "newColumnsIn", t.STATE_REARRANGE_COLUMNS = "rearrangeColumns", qS([
      w("columnModel")
    ], t.prototype, "colModel", void 0), qS([
      w("focusService")
    ], t.prototype, "focusService", void 0), t;
  }(te)
), mH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), rp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, gy = (
  /** @class */
  function(o) {
    mH(t, o);
    function t(e) {
      return o.call(this, e, "rowGroup") || this;
    }
    return t.prototype.passBeansUp = function() {
      o.prototype.setBeans.call(this, {
        gridOptionsService: this.gridOptionsService,
        eventService: this.eventService,
        context: this.getContext(),
        loggerFactory: this.loggerFactory,
        dragAndDropService: this.dragAndDropService
      });
      var e = this.localeService.getLocaleTextFunc(), r = e("rowGroupColumnsEmptyMessage", "Drag here to set row groups"), n = e("groups", "Row Groups");
      o.prototype.init.call(this, {
        dragAndDropIcon: Ze.ICON_GROUP,
        icon: T.createIconNoSpan("rowGroupPanel", this.gridOptionsService, null),
        emptyMessage: r,
        title: n
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.refreshGui.bind(this));
    }, t.prototype.getAriaLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaRowGroupDropZonePanelLabel", "Row Groups");
      return r;
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "rowGroupColumnsList", e;
    }, t.prototype.isColumnDroppable = function(e) {
      return this.gridOptionsService.is("functionsReadOnly") || !e.isPrimary() ? !1 : e.isAllowRowGroup() && !e.isRowGroupActive();
    }, t.prototype.updateColumns = function(e) {
      if (this.gridOptionsService.is("functionsPassive")) {
        var r = {
          type: R.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,
          columns: e
        };
        this.eventService.dispatchEvent(r);
      } else
        this.columnModel.setRowGroupColumns(e, "toolPanelUi");
    }, t.prototype.getIconName = function() {
      return this.isPotentialDndColumns() ? Ze.ICON_GROUP : Ze.ICON_NOT_ALLOWED;
    }, t.prototype.getExistingColumns = function() {
      return this.columnModel.getRowGroupColumns();
    }, rp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), rp([
      w("loggerFactory")
    ], t.prototype, "loggerFactory", void 0), rp([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), rp([
      V
    ], t.prototype, "passBeansUp", null), t;
  }(qm)
), CH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), np = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, yy = (
  /** @class */
  function(o) {
    CH(t, o);
    function t(e) {
      return o.call(this, e, "pivot") || this;
    }
    return t.prototype.passBeansUp = function() {
      o.prototype.setBeans.call(this, {
        gridOptionsService: this.gridOptionsService,
        eventService: this.eventService,
        context: this.getContext(),
        loggerFactory: this.loggerFactory,
        dragAndDropService: this.dragAndDropService
      });
      var e = this.localeService.getLocaleTextFunc(), r = e("pivotColumnsEmptyMessage", "Drag here to set column labels"), n = e("pivots", "Column Labels");
      o.prototype.init.call(this, {
        dragAndDropIcon: Ze.ICON_GROUP,
        icon: T.createIconNoSpan("pivotPanel", this.gridOptionsService, null),
        emptyMessage: r,
        title: n
      }), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.refresh.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, this.refresh.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.checkVisibility.bind(this)), this.refresh();
    }, t.prototype.getAriaLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaPivotDropZonePanelLabel", "Column Labels");
      return r;
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "pivotColumnsList", e;
    }, t.prototype.refresh = function() {
      this.checkVisibility(), this.refreshGui();
    }, t.prototype.checkVisibility = function() {
      var e = this.columnModel.isPivotMode();
      if (this.isHorizontal())
        switch (this.gridOptionsService.get("pivotPanelShow")) {
          case "always":
            this.setDisplayed(e);
            break;
          case "onlyWhenPivoting":
            var r = this.columnModel.isPivotActive();
            this.setDisplayed(e && r);
            break;
          default:
            this.setDisplayed(!1);
            break;
        }
      else
        this.setDisplayed(e);
    }, t.prototype.isColumnDroppable = function(e) {
      return this.gridOptionsService.is("functionsReadOnly") || !e.isPrimary() ? !1 : e.isAllowPivot() && !e.isPivotActive();
    }, t.prototype.updateColumns = function(e) {
      if (this.gridOptionsService.is("functionsPassive")) {
        var r = {
          type: R.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,
          columns: e
        };
        this.eventService.dispatchEvent(r);
      } else
        this.columnModel.setPivotColumns(e, "toolPanelUi");
    }, t.prototype.getIconName = function() {
      return this.isPotentialDndColumns() ? Ze.ICON_PIVOT : Ze.ICON_NOT_ALLOWED;
    }, t.prototype.getExistingColumns = function() {
      return this.columnModel.getPivotColumns();
    }, np([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), np([
      w("loggerFactory")
    ], t.prototype, "loggerFactory", void 0), np([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), np([
      V
    ], t.prototype, "passBeansUp", null), t;
  }(qm)
), SH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), JS = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, wH = (
  /** @class */
  function(o) {
    SH(t, o);
    function t() {
      return o.call(this) || this;
    }
    return t.prototype.postConstruct = function() {
      this.setGui(this.createNorthPanel()), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onRowGroupChanged.bind(this)), this.addManagedPropertyListener("rowGroupPanelShow", this.onRowGroupChanged.bind(this)), this.onRowGroupChanged();
    }, t.prototype.createNorthPanel = function() {
      var e = document.createElement("div"), r = this.onDropPanelVisible.bind(this);
      return e.classList.add("ag-column-drop-wrapper"), T.setAriaRole(e, "presentation"), this.rowGroupComp = new gy(!0), this.createManagedBean(this.rowGroupComp), this.pivotComp = new yy(!0), this.createManagedBean(this.pivotComp), e.appendChild(this.rowGroupComp.getGui()), e.appendChild(this.pivotComp.getGui()), this.addManagedListener(this.rowGroupComp, te.EVENT_DISPLAYED_CHANGED, r), this.addManagedListener(this.pivotComp, te.EVENT_DISPLAYED_CHANGED, r), this.onDropPanelVisible(), e;
    }, t.prototype.onDropPanelVisible = function() {
      var e = this.rowGroupComp.isDisplayed() && this.pivotComp.isDisplayed();
      this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width", e), this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width", e);
    }, t.prototype.onRowGroupChanged = function() {
      if (this.rowGroupComp) {
        var e = this.gridOptionsService.get("rowGroupPanelShow");
        if (e === "always")
          this.rowGroupComp.setDisplayed(!0);
        else if (e === "onlyWhenGrouping") {
          var r = !this.columnModel.isRowGroupEmpty();
          this.rowGroupComp.setDisplayed(r);
        } else
          this.rowGroupComp.setDisplayed(!1);
      }
    }, JS([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), JS([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), _H = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Qv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, bH = (
  /** @class */
  function(o) {
    _H(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.execute = function(e) {
      var r = this, n = this.columnModel.isPivotMode(), i = this.filterManager.isAggregateFilterPresent() || this.filterManager.isAggregateQuickFilterPresent(), a = function(p) {
        return !p.node.group;
      }, s = function(p) {
        return p.node.leafGroup;
      }, l = this.gridOptionsService.getGroupAggFiltering() || (n ? s : a), u = e.changedPath, c = function(p, h) {
        h === void 0 && (h = !1), p.childrenAfterFilter && (p.childrenAfterAggFilter = p.childrenAfterFilter, h && p.childrenAfterAggFilter.forEach(function(f) {
          return c(f, h);
        }), r.setAllChildrenCount(p)), p.sibling && (p.sibling.childrenAfterAggFilter = p.childrenAfterAggFilter);
      }, d = function(p) {
        var h;
        p.childrenAfterAggFilter = ((h = p.childrenAfterFilter) === null || h === void 0 ? void 0 : h.filter(function(f) {
          var v, g = l({ node: f });
          if (g) {
            var y = r.filterManager.doesRowPassAggregateFilters({ rowNode: f });
            if (y)
              return c(f, !0), !0;
          }
          var m = (v = f.childrenAfterAggFilter) === null || v === void 0 ? void 0 : v.length;
          return m;
        })) || null, r.setAllChildrenCount(p), p.sibling && (p.sibling.childrenAfterAggFilter = p.childrenAfterAggFilter);
      };
      u.forEachChangedNodeDepthFirst(i ? d : c, !0);
    }, t.prototype.setAllChildrenCountTreeData = function(e) {
      var r = 0;
      e.childrenAfterAggFilter.forEach(function(n) {
        r++, r += n.allChildrenCount;
      }), e.setAllChildrenCount(r);
    }, t.prototype.setAllChildrenCountGridGrouping = function(e) {
      var r = 0;
      e.childrenAfterAggFilter.forEach(function(n) {
        n.group ? r += n.allChildrenCount : r++;
      }), e.setAllChildrenCount(r);
    }, t.prototype.setAllChildrenCount = function(e) {
      if (!e.hasChildren()) {
        e.setAllChildrenCount(null);
        return;
      }
      this.gridOptionsService.isTreeData() ? this.setAllChildrenCountTreeData(e) : this.setAllChildrenCountGridGrouping(e);
    }, Qv([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Qv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = Qv([
      q("filterAggregatesStage")
    ], t), t;
  }(W)
), EH = "30.0.6", OH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ju = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, my = (
  /** @class */
  function(o) {
    OH(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `
      ) || this;
    }
    return t.prototype.postConstruct = function() {
      this.initialiseTabGuard({});
    }, t.prototype.init = function(e) {
      var r = this;
      return this.params = e, this.validateParams(), this.updateGroups().then(function() {
        r.addManagedListener(r.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
          return r.onColumnRowGroupChanged();
        });
      });
    }, t.prototype.validateParams = function() {
      var e = this.params.colDef;
      e.field && T.doOnce(function() {
        return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.');
      }, "groupFilterFieldParam"), e.filterValueGetter && T.doOnce(function() {
        return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.');
      }, "groupFilterFilterValueGetterParam"), e.filterParams && T.doOnce(function() {
        return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.');
      }, "groupFilterFilterParams");
    }, t.prototype.updateGroups = function() {
      var e = this.updateGroupField();
      return this.getUnderlyingFilters(e);
    }, t.prototype.getSourceColumns = function() {
      if (this.groupColumn = this.params.column, this.gridOptionsService.is("treeData"))
        return T.doOnce(function() {
          return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.");
        }, "groupFilterTreeData"), [];
      var e = this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);
      return e || (T.doOnce(function() {
        return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.");
      }, "groupFilterNotGroupColumn"), []);
    }, t.prototype.updateGroupField = function() {
      var e = this;
      T.clearElement(this.eGroupField), this.eGroupFieldSelect && this.destroyBean(this.eGroupFieldSelect);
      var r = this.getSourceColumns(), n = r.filter(function(i) {
        return i.isFilterAllowed();
      });
      return n.length ? (r.length === 1 ? (this.selectedColumn = n[0], T.setDisplayed(this.eGroupField, !1)) : ((!this.selectedColumn || !n.some(function(i) {
        return i.getId() === e.selectedColumn.getId();
      })) && (this.selectedColumn = n[0]), this.createGroupFieldSelectElement(n), this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()), this.eGroupField.appendChild(T.loadTemplate(
        /* html */
        '<div class="ag-filter-separator"></div>'
      )), T.setDisplayed(this.eGroupField, !0)), n) : (this.selectedColumn = void 0, T.setDisplayed(this.eGroupField, !1), null);
    }, t.prototype.createGroupFieldSelectElement = function(e) {
      var r = this;
      this.eGroupFieldSelect = this.createManagedBean(new nu());
      var n = this.localeService.getLocaleTextFunc();
      this.eGroupFieldSelect.setLabel(n("groupFilterSelect", "Select field:")), this.eGroupFieldSelect.setLabelAlignment("top"), this.eGroupFieldSelect.addOptions(e.map(function(i) {
        var a;
        return {
          value: i.getId(),
          text: (a = r.columnModel.getDisplayNameForColumn(i, "groupFilter", !1)) !== null && a !== void 0 ? a : void 0
        };
      })), this.eGroupFieldSelect.setValue(this.selectedColumn.getId()), this.eGroupFieldSelect.onValueChange(function(i) {
        return r.updateSelectedColumn(i);
      }), this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"), e.length === 1 && this.eGroupFieldSelect.setDisabled(!0);
    }, t.prototype.getUnderlyingFilters = function(e) {
      var r = this;
      if (!e)
        return this.filterColumnPairs = void 0, this.selectedFilter = void 0, this.groupColumn.setFilterActive(!1, "columnRowGroupChanged"), Je.resolve();
      var n = [], i = [];
      return e.forEach(function(a) {
        var s = r.filterManager.getOrCreateFilterWrapper(a, "COLUMN_MENU");
        s != null && s.filterPromise && n.push(s.filterPromise.then(function(l) {
          return l && i.push({
            filter: l,
            column: a
          }), a.getId() === r.selectedColumn.getId() && (r.selectedFilter = l != null ? l : void 0), l;
        }));
      }), Je.all(n).then(function() {
        r.filterColumnPairs = i, r.groupColumn.setFilterActive(r.isFilterActive(), "columnRowGroupChanged");
      });
    }, t.prototype.addUnderlyingFilterElement = function() {
      var e = this;
      if (T.clearElement(this.eUnderlyingFilter), !this.selectedColumn)
        return Je.resolve();
      var r = this.filterManager.getOrCreateFilterWrapper(this.selectedColumn, "COLUMN_MENU");
      return r ? r.guiPromise.then(function(n) {
        var i;
        e.eUnderlyingFilter.appendChild(n), (i = r.filterPromise) === null || i === void 0 || i.then(function(a) {
          var s, l;
          (s = a == null ? void 0 : a.afterGuiAttached) === null || s === void 0 || s.call(a, e.afterGuiAttachedParams), !(!((l = e.afterGuiAttachedParams) === null || l === void 0) && l.suppressFocus) && e.eGroupFieldSelect && !e.eGroupFieldSelect.isDisabled() && e.eGroupFieldSelect.getFocusableElement().focus();
        });
      }) : Je.resolve();
    }, t.prototype.updateSelectedColumn = function(e) {
      var r, n;
      if (e) {
        (n = (r = this.selectedFilter) === null || r === void 0 ? void 0 : r.afterGuiDetached) === null || n === void 0 || n.call(r);
        var i = this.getFilterColumnPair(e);
        this.selectedColumn = i == null ? void 0 : i.column, this.selectedFilter = i == null ? void 0 : i.filter, this.dispatchEvent({
          type: t.EVENT_SELECTED_COLUMN_CHANGED
        }), this.addUnderlyingFilterElement();
      }
    }, t.prototype.isFilterActive = function() {
      var e;
      return !!(!((e = this.filterColumnPairs) === null || e === void 0) && e.some(function(r) {
        var n = r.filter;
        return n.isFilterActive();
      }));
    }, t.prototype.doesFilterPass = function() {
      return !0;
    }, t.prototype.getModel = function() {
      return null;
    }, t.prototype.setModel = function() {
      return Je.resolve();
    }, t.prototype.afterGuiAttached = function(e) {
      this.afterGuiAttachedParams = e, this.addUnderlyingFilterElement();
    }, t.prototype.afterGuiDetached = function() {
      var e, r;
      T.clearElement(this.eUnderlyingFilter), (r = (e = this.selectedFilter) === null || e === void 0 ? void 0 : e.afterGuiDetached) === null || r === void 0 || r.call(e);
    }, t.prototype.onColumnRowGroupChanged = function() {
      var e = this;
      this.updateGroups().then(function() {
        e.dispatchEvent({
          type: t.EVENT_COLUMN_ROW_GROUP_CHANGED
        }), e.eventService.dispatchEvent({
          type: "filterAllowedUpdated"
        });
      });
    }, t.prototype.getFilterColumnPair = function(e) {
      var r;
      if (e)
        return (r = this.filterColumnPairs) === null || r === void 0 ? void 0 : r.find(function(n) {
          var i = n.column;
          return i.getId() === e;
        });
    }, t.prototype.getSelectedFilter = function() {
      return this.selectedFilter;
    }, t.prototype.getSelectedColumn = function() {
      return this.selectedColumn;
    }, t.prototype.isFilterAllowed = function() {
      return !!this.selectedColumn;
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.EVENT_COLUMN_ROW_GROUP_CHANGED = "columnRowGroupChanged", t.EVENT_SELECTED_COLUMN_CHANGED = "selectedColumnChanged", ju([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), ju([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ju([
      G("eGroupField")
    ], t.prototype, "eGroupField", void 0), ju([
      G("eUnderlyingFilter")
    ], t.prototype, "eUnderlyingFilter", void 0), ju([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), xH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Jv = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, TH = (
  /** @class */
  function(o) {
    xH(t, o);
    function t() {
      return o.call(
        this,
        /* html */
        `
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `
      ) || this;
    }
    return t.prototype.init = function(e) {
      var r = this;
      this.params = e;
      var n = this.gridOptionsService.get("groupDisplayType") === "multipleColumns";
      return new Je(function(i) {
        r.params.parentFilterInstance(function(a) {
          r.parentFilterInstance = a, n ? r.setupUnderlyingFloatingFilterElement().then(function() {
            return i();
          }) : (r.setupReadOnlyFloatingFilterElement(), i());
        });
      }).then(function() {
        r.addManagedListener(r.parentFilterInstance, my.EVENT_SELECTED_COLUMN_CHANGED, function() {
          return r.onSelectedColumnChanged();
        }), r.addManagedListener(r.parentFilterInstance, my.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
          return r.onColumnRowGroupChanged();
        });
      });
    }, t.prototype.setupReadOnlyFloatingFilterElement = function() {
      var e = this;
      if (!this.eFloatingFilterText) {
        this.eFloatingFilterText = this.createManagedBean(new oa());
        var r = this.columnModel.getDisplayNameForColumn(this.params.column, "header", !0), n = this.localeService.getLocaleTextFunc();
        this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r + " " + n("ariaFilterInput", "Filter Input")).addGuiEventListener("click", function() {
          return e.params.showParentFilter();
        });
      }
      this.updateDisplayedValue(), this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui());
    }, t.prototype.setupUnderlyingFloatingFilterElement = function() {
      var e = this;
      this.showingUnderlyingFloatingFilter = !1, this.underlyingFloatingFilter = void 0, T.clearElement(this.eFloatingFilter);
      var r = this.parentFilterInstance.getSelectedColumn();
      if (r && !r.isVisible()) {
        var n = this.filterManager.getFloatingFilterCompDetails(r, this.params.showParentFilter);
        if (n)
          return this.columnVisibleChangedListener || (this.columnVisibleChangedListener = this.addManagedListener(r, Me.EVENT_VISIBLE_CHANGED, this.onColumnVisibleChanged.bind(this))), n.newAgStackInstance().then(function(i) {
            var a, s;
            e.underlyingFloatingFilter = i, (a = e.underlyingFloatingFilter) === null || a === void 0 || a.onParentModelChanged((s = e.parentFilterInstance.getSelectedFilter()) === null || s === void 0 ? void 0 : s.getModel()), e.appendChild(i.getGui()), e.showingUnderlyingFloatingFilter = !0;
          });
      }
      return this.setupReadOnlyFloatingFilterElement(), Je.resolve();
    }, t.prototype.onColumnVisibleChanged = function() {
      this.setupUnderlyingFloatingFilterElement();
    }, t.prototype.onParentModelChanged = function(e, r) {
      var n, i;
      this.showingUnderlyingFloatingFilter ? (n = this.underlyingFloatingFilter) === null || n === void 0 || n.onParentModelChanged((i = this.parentFilterInstance.getSelectedFilter()) === null || i === void 0 ? void 0 : i.getModel(), r) : this.updateDisplayedValue();
    }, t.prototype.updateDisplayedValue = function() {
      if (!(!this.parentFilterInstance || !this.eFloatingFilterText)) {
        var e = this.parentFilterInstance.getSelectedFilter();
        if (!e) {
          this.eFloatingFilterText.setValue(""), this.eFloatingFilterText.setDisplayed(!1);
          return;
        }
        if (this.eFloatingFilterText.setDisplayed(!0), e.getModelAsString) {
          var r = e.getModel();
          this.eFloatingFilterText.setValue(r == null ? "" : e.getModelAsString(r));
        } else
          this.eFloatingFilterText.setValue("");
      }
    }, t.prototype.onSelectedColumnChanged = function() {
      this.showingUnderlyingFloatingFilter || this.updateDisplayedValue();
    }, t.prototype.onColumnRowGroupChanged = function() {
      this.showingUnderlyingFloatingFilter || this.updateDisplayedValue();
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, Jv([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Jv([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Jv([
      G("eFloatingFilter")
    ], t.prototype, "eFloatingFilter", void 0), t;
  }(te)
), JE = {
  version: EH,
  moduleName: Z.RowGroupingModule,
  beans: [eH, bH, rH, iH, aH, lH],
  agStackComponents: [
    { componentName: "AgGridHeaderDropZones", componentClass: wH }
  ],
  userComponents: [
    { componentName: "agGroupColumnFilter", componentClass: my },
    { componentName: "agGroupColumnFloatingFilter", componentClass: TH }
  ],
  dependantModules: [
    cr
  ]
}, RH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ip = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ew = (
  /** @class */
  function(o) {
    RH(t, o);
    function t(e) {
      return o.call(this, e, "aggregation") || this;
    }
    return t.prototype.passBeansUp = function() {
      o.prototype.setBeans.call(this, {
        gridOptionsService: this.gridOptionsService,
        eventService: this.eventService,
        context: this.getContext(),
        loggerFactory: this.loggerFactory,
        dragAndDropService: this.dragAndDropService
      });
      var e = this.localeService.getLocaleTextFunc(), r = e("valueColumnsEmptyMessage", "Drag here to aggregate"), n = e("values", "Values");
      o.prototype.init.call(this, {
        dragAndDropIcon: Ze.ICON_AGGREGATE,
        icon: T.createIconNoSpan("valuePanel", this.gridOptionsService, null),
        emptyMessage: r,
        title: n
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, this.refreshGui.bind(this));
    }, t.prototype.getAriaLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("ariaValuesDropZonePanelLabel", "Values");
      return r;
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "valueColumnsList", e;
    }, t.prototype.getIconName = function() {
      return this.isPotentialDndColumns() ? Ze.ICON_AGGREGATE : Ze.ICON_NOT_ALLOWED;
    }, t.prototype.isColumnDroppable = function(e) {
      return this.gridOptionsService.is("functionsReadOnly") || !e.isPrimary() ? !1 : e.isAllowValue() && !e.isValueActive();
    }, t.prototype.updateColumns = function(e) {
      if (this.gridOptionsService.is("functionsPassive")) {
        var r = {
          type: R.EVENT_COLUMN_VALUE_CHANGE_REQUEST,
          columns: e
        };
        this.eventService.dispatchEvent(r);
      } else
        this.columnModel.setValueColumns(e, "toolPanelUi");
    }, t.prototype.getExistingColumns = function() {
      return this.columnModel.getValueColumns();
    }, ip([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ip([
      w("loggerFactory")
    ], t.prototype, "loggerFactory", void 0), ip([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), ip([
      V
    ], t.prototype, "passBeansUp", null), t;
  }(qm)
), DH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), tw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Zm = (
  /** @class */
  function(o) {
    DH(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e, r, n) {
      this.allowDragging = e, this.params = r, this.eventType = n, this.primaryColsHeaderPanel.init(this.params);
      var i = this.params.suppressColumnFilter, a = this.params.suppressColumnSelectAll, s = this.params.suppressColumnExpandAll;
      s && i && a && this.primaryColsHeaderPanel.setDisplayed(!1), this.addManagedListener(this.primaryColsListPanel, "groupExpanded", this.onGroupExpanded.bind(this)), this.addManagedListener(this.primaryColsListPanel, "selectionChanged", this.onSelectionChange.bind(this)), this.primaryColsListPanel.init(this.params, this.allowDragging, this.eventType), this.addManagedListener(this.primaryColsHeaderPanel, "expandAll", this.onExpandAll.bind(this)), this.addManagedListener(this.primaryColsHeaderPanel, "collapseAll", this.onCollapseAll.bind(this)), this.addManagedListener(this.primaryColsHeaderPanel, "selectAll", this.onSelectAll.bind(this)), this.addManagedListener(this.primaryColsHeaderPanel, "unselectAll", this.onUnselectAll.bind(this)), this.addManagedListener(this.primaryColsHeaderPanel, "filterChanged", this.onFilterChanged.bind(this)), this.positionableFeature = new Cf(this.getGui(), { minHeight: 100 }), this.createManagedBean(this.positionableFeature);
    }, t.prototype.toggleResizable = function(e) {
      this.positionableFeature.setResizable(e ? { bottom: !0 } : !1);
    }, t.prototype.onExpandAll = function() {
      this.primaryColsListPanel.doSetExpandedAll(!0);
    }, t.prototype.onCollapseAll = function() {
      this.primaryColsListPanel.doSetExpandedAll(!1);
    }, t.prototype.expandGroups = function(e) {
      this.primaryColsListPanel.setGroupsExpanded(!0, e);
    }, t.prototype.collapseGroups = function(e) {
      this.primaryColsListPanel.setGroupsExpanded(!1, e);
    }, t.prototype.setColumnLayout = function(e) {
      this.primaryColsListPanel.setColumnLayout(e);
    }, t.prototype.onFilterChanged = function(e) {
      this.primaryColsListPanel.setFilterText(e.filterText);
    }, t.prototype.syncLayoutWithGrid = function() {
      this.primaryColsListPanel.onColumnsChanged();
    }, t.prototype.onSelectAll = function() {
      this.primaryColsListPanel.doSetSelectedAll(!0);
    }, t.prototype.onUnselectAll = function() {
      this.primaryColsListPanel.doSetSelectedAll(!1);
    }, t.prototype.onGroupExpanded = function(e) {
      this.primaryColsHeaderPanel.setExpandState(e.state);
    }, t.prototype.onSelectionChange = function(e) {
      this.primaryColsHeaderPanel.setSelectionState(e.state);
    }, t.TEMPLATE = `<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`, tw([
      G("primaryColsHeaderPanel")
    ], t.prototype, "primaryColsHeaderPanel", void 0), tw([
      G("primaryColsListPanel")
    ], t.prototype, "primaryColsListPanel", void 0), t;
  }(te)
), PH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ec = function() {
  return Ec = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ec.apply(this, arguments);
}, rw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, AH = (
  /** @class */
  function(o) {
    PH(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.initialised = !1, e.childDestroyFuncs = [], e;
    }
    return t.prototype.setVisible = function(e) {
      o.prototype.setDisplayed.call(this, e), e && !this.initialised && this.init(this.params);
    }, t.prototype.init = function(e) {
      var r = this, n = {
        suppressColumnMove: !1,
        suppressColumnSelectAll: !1,
        suppressColumnFilter: !1,
        suppressColumnExpandAll: !1,
        contractColumnSelection: !1,
        suppressPivotMode: !1,
        suppressRowGroups: !1,
        suppressValues: !1,
        suppressPivots: !1,
        suppressSyncLayoutWithGrid: !1,
        api: this.gridApi,
        columnApi: this.columnApi
      };
      if (this.params = Ec(Ec(Ec({}, n), e), { context: this.gridOptionsService.context }), this.isRowGroupingModuleLoaded() && !this.params.suppressPivotMode && (this.pivotModePanel = this.createBean(new $S()), this.childDestroyFuncs.push(function() {
        return r.destroyBean(r.pivotModePanel);
      }), this.appendChild(this.pivotModePanel)), this.primaryColsPanel = this.createBean(new Zm()), this.childDestroyFuncs.push(function() {
        return r.destroyBean(r.primaryColsPanel);
      }), this.primaryColsPanel.init(!0, this.params, "toolPanelUi"), this.primaryColsPanel.addCssClass("ag-column-panel-column-select"), this.appendChild(this.primaryColsPanel), this.isRowGroupingModuleLoaded()) {
        this.params.suppressRowGroups || (this.rowGroupDropZonePanel = this.createBean(new gy(!1)), this.childDestroyFuncs.push(function() {
          return r.destroyBean(r.rowGroupDropZonePanel);
        }), this.appendChild(this.rowGroupDropZonePanel)), this.params.suppressValues || (this.valuesDropZonePanel = this.createBean(new ew(!1)), this.childDestroyFuncs.push(function() {
          return r.destroyBean(r.valuesDropZonePanel);
        }), this.appendChild(this.valuesDropZonePanel)), this.params.suppressPivots || (this.pivotDropZonePanel = this.createBean(new yy(!1)), this.childDestroyFuncs.push(function() {
          return r.destroyBean(r.pivotDropZonePanel);
        }), this.appendChild(this.pivotDropZonePanel)), this.setLastVisible();
        var i = this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, function() {
          r.resetChildrenHeight(), r.setLastVisible();
        });
        this.childDestroyFuncs.push(function() {
          return i();
        });
      }
      this.initialised = !0;
    }, t.prototype.setPivotModeSectionVisible = function(e) {
      var r = this;
      this.isRowGroupingModuleLoaded() && (this.pivotModePanel ? this.pivotModePanel.setDisplayed(e) : e && (this.pivotModePanel = this.createBean(new $S()), this.getGui().insertBefore(this.pivotModePanel.getGui(), this.getGui().firstChild), this.childDestroyFuncs.push(function() {
        return r.destroyBean(r.pivotModePanel);
      })), this.setLastVisible());
    }, t.prototype.setRowGroupsSectionVisible = function(e) {
      this.isRowGroupingModuleLoaded() && (this.rowGroupDropZonePanel ? this.rowGroupDropZonePanel.setDisplayed(e) : e && (this.rowGroupDropZonePanel = this.createManagedBean(new gy(!1)), this.appendChild(this.rowGroupDropZonePanel)), this.setLastVisible());
    }, t.prototype.setValuesSectionVisible = function(e) {
      this.isRowGroupingModuleLoaded() && (this.valuesDropZonePanel ? this.valuesDropZonePanel.setDisplayed(e) : e && (this.valuesDropZonePanel = this.createManagedBean(new ew(!1)), this.appendChild(this.valuesDropZonePanel)), this.setLastVisible());
    }, t.prototype.setPivotSectionVisible = function(e) {
      this.isRowGroupingModuleLoaded() && (this.pivotDropZonePanel ? this.pivotDropZonePanel.setDisplayed(e) : e && (this.pivotDropZonePanel = this.createManagedBean(new yy(!1)), this.appendChild(this.pivotDropZonePanel), this.pivotDropZonePanel.setDisplayed(e)), this.setLastVisible());
    }, t.prototype.setResizers = function() {
      [
        this.primaryColsPanel,
        this.rowGroupDropZonePanel,
        this.valuesDropZonePanel,
        this.pivotDropZonePanel
      ].forEach(function(e) {
        if (e) {
          var r = e.getGui();
          e.toggleResizable(!r.classList.contains("ag-last-column-drop") && !r.classList.contains("ag-hidden"));
        }
      });
    }, t.prototype.setLastVisible = function() {
      var e = this.getGui(), r = Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop"));
      r.forEach(function(a) {
        return a.classList.remove("ag-last-column-drop");
      });
      var n = e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"), i = T.last(n);
      i && i.classList.add("ag-last-column-drop"), this.setResizers();
    }, t.prototype.resetChildrenHeight = function() {
      for (var e = this.getGui(), r = e.children, n = 0; n < r.length; n++) {
        var i = r[n];
        i.style.removeProperty("height"), i.style.removeProperty("flex");
      }
    }, t.prototype.isRowGroupingModuleLoaded = function() {
      return de.__assertRegistered(Z.RowGroupingModule, "Row Grouping", this.context.getGridId());
    }, t.prototype.expandColumnGroups = function(e) {
      this.primaryColsPanel.expandGroups(e);
    }, t.prototype.collapseColumnGroups = function(e) {
      this.primaryColsPanel.collapseGroups(e);
    }, t.prototype.setColumnLayout = function(e) {
      this.primaryColsPanel.setColumnLayout(e);
    }, t.prototype.syncLayoutWithGrid = function() {
      this.primaryColsPanel.syncLayoutWithGrid();
    }, t.prototype.destroyChildren = function() {
      this.childDestroyFuncs.forEach(function(e) {
        return e();
      }), this.childDestroyFuncs.length = 0, T.clearElement(this.getGui());
    }, t.prototype.refresh = function() {
      this.destroyChildren(), this.init(this.params);
    }, t.prototype.destroy = function() {
      this.destroyChildren(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = '<div class="ag-column-panel"></div>', rw([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), rw([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), t;
  }(te)
), MH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), nw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, eO = (
  /** @class */
  function(o) {
    MH(t, o);
    function t() {
      var e = o.call(
        this,
        /* html */
        '<div class="ag-tool-panel-horizontal-resize"></div>'
      ) || this;
      return e.minWidth = 100, e.maxWidth = null, e;
    }
    return t.prototype.setElementToResize = function(e) {
      this.elementToResize = e;
    }, t.prototype.postConstruct = function() {
      var e = this.horizontalResizeService.addResizeBar({
        eResizeBar: this.getGui(),
        dragStartPixels: 1,
        onResizeStart: this.onResizeStart.bind(this),
        onResizing: this.onResizing.bind(this),
        onResizeEnd: this.onResizeEnd.bind(this)
      });
      this.addDestroyFunc(e), this.setInverted(this.gridOptionsService.is("enableRtl"));
    }, t.prototype.dispatchResizeEvent = function(e, r, n) {
      var i = {
        type: R.EVENT_TOOL_PANEL_SIZE_CHANGED,
        width: n,
        started: e,
        ended: r
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.onResizeStart = function() {
      this.startingWidth = this.elementToResize.offsetWidth, this.dispatchResizeEvent(!0, !1, this.startingWidth);
    }, t.prototype.onResizeEnd = function(e) {
      return this.onResizing(e, !0);
    }, t.prototype.onResizing = function(e, r) {
      r === void 0 && (r = !1);
      var n = this.inverted ? -1 : 1, i = Math.max(this.minWidth, Math.floor(this.startingWidth - e * n));
      this.maxWidth != null && (i = Math.min(this.maxWidth, i)), this.elementToResize.style.width = i + "px", this.dispatchResizeEvent(!1, r, i);
    }, t.prototype.setInverted = function(e) {
      this.inverted = e;
    }, t.prototype.setMaxWidth = function(e) {
      this.maxWidth = e;
    }, t.prototype.setMinWidth = function(e) {
      e != null ? this.minWidth = e : this.minWidth = 100;
    }, nw([
      w("horizontalResizeService")
    ], t.prototype, "horizontalResizeService", void 0), nw([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), IH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), op = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iw = (
  /** @class */
  function(o) {
    IH(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.toolPanelDef = e, r;
    }
    return t.prototype.getToolPanelId = function() {
      return this.toolPanelDef.id;
    }, t.prototype.postConstruct = function() {
      var e = this.createTemplate();
      this.setTemplate(e), this.setLabel(), this.setIcon(), this.addManagedListener(this.eToggleButton, "click", this.onButtonPressed.bind(this)), this.eToggleButton.setAttribute("id", "ag-" + this.getCompId() + "-button");
    }, t.prototype.createTemplate = function() {
      var e = (
        /* html */
        `<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`
      );
      return e;
    }, t.prototype.setLabel = function() {
      var e = this.localeService.getLocaleTextFunc(), r = this.toolPanelDef, n = e(r.labelKey, r.labelDefault);
      this.eLabel.innerText = n;
    }, t.prototype.setIcon = function() {
      this.eIconWrapper.insertAdjacentElement("afterbegin", T.createIconNoSpan(this.toolPanelDef.iconKey, this.gridOptionsService));
    }, t.prototype.onButtonPressed = function() {
      this.dispatchEvent({ type: t.EVENT_TOGGLE_BUTTON_CLICKED });
    }, t.prototype.setSelected = function(e) {
      this.addOrRemoveCssClass("ag-selected", e), T.setAriaExpanded(this.eToggleButton, e);
    }, t.prototype.getButtonElement = function() {
      return this.eToggleButton;
    }, t.EVENT_TOGGLE_BUTTON_CLICKED = "toggleButtonClicked", op([
      G("eToggleButton")
    ], t.prototype, "eToggleButton", void 0), op([
      G("eIconWrapper")
    ], t.prototype, "eIconWrapper", void 0), op([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), op([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), FH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ap = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, tO = (
  /** @class */
  function(o) {
    FH(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.buttonComps = [], e;
    }
    return t.prototype.postConstruct = function() {
      this.addManagedListener(this.getFocusableElement(), "keydown", this.handleKeyDown.bind(this));
    }, t.prototype.handleKeyDown = function(e) {
      if (!(e.key !== H.TAB || !e.shiftKey)) {
        var r = T.last(this.columnModel.getAllDisplayedColumns());
        this.focusService.focusGridView(r, !0) && e.preventDefault();
      }
    }, t.prototype.setActiveButton = function(e) {
      this.buttonComps.forEach(function(r) {
        r.setSelected(e === r.getToolPanelId());
      });
    }, t.prototype.addButtonComp = function(e) {
      var r = this, n = this.createBean(new iw(e));
      return this.buttonComps.push(n), this.appendChild(n), n.addEventListener(iw.EVENT_TOGGLE_BUTTON_CLICKED, function() {
        r.dispatchEvent({
          type: t.EVENT_SIDE_BAR_BUTTON_CLICKED,
          toolPanelId: e.id
        });
      }), n;
    }, t.prototype.clearButtons = function() {
      this.buttonComps = this.destroyBeans(this.buttonComps), T.clearElement(this.getGui());
    }, t.EVENT_SIDE_BAR_BUTTON_CLICKED = "sideBarButtonClicked", t.TEMPLATE = '<div class="ag-side-buttons" role="tablist"></div>', ap([
      w("focusService")
    ], t.prototype, "focusService", void 0), ap([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ap([
      V
    ], t.prototype, "postConstruct", null), ap([
      rt
    ], t.prototype, "clearButtons", null), t;
  }(te)
), LH = (
  /** @class */
  function() {
    function o() {
    }
    return o.parse = function(t) {
      if (t) {
        if (t === !0)
          return {
            toolPanels: [
              o.DEFAULT_COLUMN_COMP,
              o.DEFAULT_FILTER_COMP
            ],
            defaultToolPanel: "columns"
          };
        if (typeof t == "string")
          return o.parse([t]);
        if (Array.isArray(t)) {
          var e = [];
          return t.forEach(function(n) {
            var i = o.DEFAULT_BY_KEY[n];
            if (!i) {
              console.warn("AG Grid: the key " + n + " is not a valid key for specifying a tool panel, valid keys are: " + Object.keys(o.DEFAULT_BY_KEY).join(","));
              return;
            }
            e.push(i);
          }), e.length === 0 ? void 0 : {
            toolPanels: e,
            defaultToolPanel: e[0].id
          };
        }
        var r = {
          toolPanels: o.parseComponents(t.toolPanels),
          defaultToolPanel: t.defaultToolPanel,
          hiddenByDefault: t.hiddenByDefault,
          position: t.position
        };
        return r;
      }
    }, o.parseComponents = function(t) {
      var e = [];
      return t && t.forEach(function(r) {
        var n = null;
        if (typeof r == "string") {
          var i = o.DEFAULT_BY_KEY[r];
          if (!i) {
            console.warn("AG Grid: the key " + r + " is not a valid key for specifying a tool panel, valid keys are: " + Object.keys(o.DEFAULT_BY_KEY).join(","));
            return;
          }
          n = i;
        } else
          n = r;
        e.push(n);
      }), e;
    }, o.DEFAULT_COLUMN_COMP = {
      id: "columns",
      labelDefault: "Columns",
      labelKey: "columns",
      iconKey: "columns",
      toolPanel: "agColumnsToolPanel"
    }, o.DEFAULT_FILTER_COMP = {
      id: "filters",
      labelDefault: "Filters",
      labelKey: "filters",
      iconKey: "filter",
      toolPanel: "agFiltersToolPanel"
    }, o.DEFAULT_BY_KEY = {
      columns: o.DEFAULT_COLUMN_COMP,
      filters: o.DEFAULT_FILTER_COMP
    }, o;
  }()
), NH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ow = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, GH = (
  /** @class */
  function(o) {
    NH(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.setupResize = function() {
      var e = this.getGui(), r = this.resizeBar = this.createManagedBean(new eO());
      e.setAttribute("id", "ag-" + this.getCompId()), r.setElementToResize(e), this.appendChild(r);
    }, t.prototype.getToolPanelId = function() {
      return this.toolPanelId;
    }, t.prototype.setToolPanelDef = function(e) {
      var r = e.id, n = e.minWidth, i = e.maxWidth, a = e.width;
      this.toolPanelId = r, this.width = a;
      var s = {}, l = this.userComponentFactory.getToolPanelCompDetails(e, s), u = l.newAgStackInstance();
      if (u == null) {
        console.warn("AG Grid: error processing tool panel component " + r + ". You need to specify 'toolPanel'");
        return;
      }
      u.then(this.setToolPanelComponent.bind(this)), n != null && this.resizeBar.setMinWidth(n), i != null && this.resizeBar.setMaxWidth(i);
    }, t.prototype.setToolPanelComponent = function(e) {
      var r = this;
      this.toolPanelCompInstance = e, this.appendChild(e.getGui()), this.addDestroyFunc(function() {
        r.destroyBean(e);
      }), this.width && (this.getGui().style.width = this.width + "px");
    }, t.prototype.getToolPanelInstance = function() {
      return this.toolPanelCompInstance;
    }, t.prototype.setResizerSizerSide = function(e) {
      var r = this.gridOptionsService.is("enableRtl"), n = e === "left", i = r ? n : !n;
      this.resizeBar.setInverted(i);
    }, t.prototype.refresh = function() {
      this.toolPanelCompInstance.refresh();
    }, t.TEMPLATE = '<div class="ag-tool-panel-wrapper" role="tabpanel"/>', ow([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), ow([
      V
    ], t.prototype, "setupResize", null), t;
  }(te)
), kH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), sp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, VH = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, BH = (
  /** @class */
  function(o) {
    kH(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.toolPanelWrappers = [], e;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.sideBarButtonsComp.addEventListener(tO.EVENT_SIDE_BAR_BUTTON_CLICKED, this.onToolPanelButtonClicked.bind(this)), this.setSideBarDef(), this.addManagedPropertyListener("sideBar", function() {
        e.clearDownUi(), e.setSideBarDef();
      }), this.gridApi.registerSideBarComp(this), this.createManagedBean(new Ai(this.getFocusableElement(), {
        onTabKeyDown: this.onTabKeyDown.bind(this),
        handleKeyDown: this.handleKeyDown.bind(this)
      }));
    }, t.prototype.onTabKeyDown = function(e) {
      if (!e.defaultPrevented) {
        var r = this, n = r.focusService, i = r.sideBarButtonsComp, a = this.getGui(), s = i.getGui(), l = this.gridOptionsService.getDocument(), u = l.activeElement, c = a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"), d = e.target;
        if (c) {
          if (s.contains(u)) {
            n.focusInto(c, e.shiftKey) && e.preventDefault();
            return;
          }
          if (e.shiftKey) {
            var p = null;
            c.contains(u) ? p = this.focusService.findNextFocusableElement(c, void 0, !0) : n.isTargetUnderManagedComponent(c, d) && e.shiftKey && (p = this.focusService.findFocusableElementBeforeTabGuard(c, d)), p || (p = s.querySelector(".ag-selected button")), p && (e.preventDefault(), p.focus());
          }
        }
      }
    }, t.prototype.handleKeyDown = function(e) {
      var r = this.gridOptionsService.getDocument();
      if (this.sideBarButtonsComp.getGui().contains(r.activeElement)) {
        var n = this.sideBarButtonsComp.getGui(), i = Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")), a = r.activeElement, s = i.findIndex(function(c) {
          return c.contains(a);
        }), l = null;
        switch (e.key) {
          case H.LEFT:
          case H.UP:
            l = Math.max(0, s - 1);
            break;
          case H.RIGHT:
          case H.DOWN:
            l = Math.min(s + 1, i.length - 1);
            break;
        }
        if (l !== null) {
          var u = i[l].querySelector("button");
          u && (u.focus(), e.preventDefault());
        }
      }
    }, t.prototype.onToolPanelButtonClicked = function(e) {
      var r = e.toolPanelId, n = this.openedItem();
      n === r ? this.openToolPanel(void 0, "sideBarButtonClicked") : this.openToolPanel(r, "sideBarButtonClicked");
    }, t.prototype.clearDownUi = function() {
      this.sideBarButtonsComp.clearButtons(), this.destroyToolPanelWrappers();
    }, t.prototype.setSideBarDef = function() {
      this.setDisplayed(!1);
      var e = this.gridOptionsService.get("sideBar");
      if (this.sideBar = LH.parse(e), this.sideBar && this.sideBar.toolPanels) {
        var r = !this.sideBar.hiddenByDefault;
        this.setDisplayed(r);
        var n = this.sideBar.toolPanels;
        this.createToolPanelsAndSideButtons(n), this.setSideBarPosition(this.sideBar.position), this.sideBar.hiddenByDefault || this.openToolPanel(this.sideBar.defaultToolPanel, "sideBarInitializing");
      }
    }, t.prototype.getDef = function() {
      return this.sideBar;
    }, t.prototype.setSideBarPosition = function(e) {
      e || (e = "right");
      var r = e === "left", n = r ? "right" : "left";
      return this.addOrRemoveCssClass("ag-side-bar-left", r), this.addOrRemoveCssClass("ag-side-bar-right", !r), this.toolPanelWrappers.forEach(function(i) {
        i.setResizerSizerSide(n);
      }), this;
    }, t.prototype.createToolPanelsAndSideButtons = function(e) {
      var r, n;
      try {
        for (var i = VH(e), a = i.next(); !a.done; a = i.next()) {
          var s = a.value;
          this.createToolPanelAndSideButton(s);
        }
      } catch (l) {
        r = { error: l };
      } finally {
        try {
          a && !a.done && (n = i.return) && n.call(i);
        } finally {
          if (r)
            throw r.error;
        }
      }
    }, t.prototype.validateDef = function(e) {
      if (e.id == null)
        return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"), !1;
      if (e.toolPanel === "agColumnsToolPanel") {
        var r = !de.__assertRegistered(Z.ColumnsToolPanelModule, "Column Tool Panel", this.context.getGridId());
        if (r)
          return !1;
      }
      if (e.toolPanel === "agFiltersToolPanel") {
        var r = !de.__assertRegistered(Z.FiltersToolPanelModule, "Filters Tool Panel", this.context.getGridId());
        if (r)
          return !1;
      }
      return !0;
    }, t.prototype.createToolPanelAndSideButton = function(e) {
      if (this.validateDef(e)) {
        var r = this.sideBarButtonsComp.addButtonComp(e), n = this.getContext().createBean(new GH());
        n.setToolPanelDef(e), n.setDisplayed(!1);
        var i = n.getGui();
        this.appendChild(i), this.toolPanelWrappers.push(n), T.setAriaControls(r.getButtonElement(), i);
      }
    }, t.prototype.refresh = function() {
      this.toolPanelWrappers.forEach(function(e) {
        return e.refresh();
      });
    }, t.prototype.openToolPanel = function(e, r) {
      r === void 0 && (r = "api");
      var n = this.openedItem();
      if (n !== e) {
        this.toolPanelWrappers.forEach(function(s) {
          var l = e === s.getToolPanelId();
          s.setDisplayed(l);
        });
        var i = this.openedItem(), a = n !== i;
        a && (this.sideBarButtonsComp.setActiveButton(e), this.raiseToolPanelVisibleEvent(e, n != null ? n : void 0, r));
      }
    }, t.prototype.getToolPanelInstance = function(e) {
      var r = this.toolPanelWrappers.filter(function(n) {
        return n.getToolPanelId() === e;
      })[0];
      if (!r) {
        console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: " + e);
        return;
      }
      return r.getToolPanelInstance();
    }, t.prototype.raiseToolPanelVisibleEvent = function(e, r, n) {
      var i = !!e && !!r;
      if (r) {
        var a = {
          type: R.EVENT_TOOL_PANEL_VISIBLE_CHANGED,
          source: n,
          key: r,
          visible: !1,
          switchingToolPanel: i
        };
        this.eventService.dispatchEvent(a);
      }
      if (e) {
        var s = {
          type: R.EVENT_TOOL_PANEL_VISIBLE_CHANGED,
          source: n,
          key: e,
          visible: !0,
          switchingToolPanel: i
        };
        this.eventService.dispatchEvent(s);
      }
    }, t.prototype.close = function(e) {
      e === void 0 && (e = "api"), this.openToolPanel(void 0, e);
    }, t.prototype.isToolPanelShowing = function() {
      return !!this.openedItem();
    }, t.prototype.openedItem = function() {
      var e = null;
      return this.toolPanelWrappers.forEach(function(r) {
        r.isDisplayed() && (e = r.getToolPanelId());
      }), e;
    }, t.prototype.destroyToolPanelWrappers = function() {
      var e = this;
      this.toolPanelWrappers.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      }), this.toolPanelWrappers.length = 0;
    }, t.prototype.destroy = function() {
      this.destroyToolPanelWrappers(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`, sp([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), sp([
      w("focusService")
    ], t.prototype, "focusService", void 0), sp([
      G("sideBarButtons")
    ], t.prototype, "sideBarButtonsComp", void 0), sp([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), HH = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), aw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, jH = (
  /** @class */
  function(o) {
    HH(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.isColGroupDef = function(r) {
        return r && typeof r.children != "undefined";
      }, e.getId = function(r) {
        return e.isColGroupDef(r) ? r.groupId : r.colId;
      }, e;
    }
    return t.prototype.createColumnTree = function(e) {
      var r = this, n = [], i = function(s, l) {
        if (r.isColGroupDef(s)) {
          var u = s, c = typeof u.groupId != "undefined" ? u.groupId : u.headerName, d = new qe(u, c, !1, l), p = [];
          return u.children.forEach(function(g) {
            var y = i(g, l + 1);
            y && p.push(y);
          }), d.setChildren(p), d;
        } else {
          var h = s, f = h.colId ? h.colId : h.field, v = r.columnModel.getPrimaryColumn(f);
          return v || n.push(h), v;
        }
      }, a = [];
      return e.forEach(function(s) {
        var l = i(s, 0);
        l && a.push(l);
      }), n.length > 0 && console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):", n), a;
    }, t.prototype.syncLayoutWithGrid = function(e) {
      var r = this.getLeafPathTrees(), n = this.mergeLeafPathTrees(r);
      e(n);
    }, t.prototype.getLeafPathTrees = function() {
      var e = function(i, a) {
        var s;
        if (i instanceof qe)
          if (i.isPadding())
            s = a;
          else {
            var l = Object.assign({}, i.getColGroupDef());
            l.groupId = i.getGroupId(), l.children = [a], s = l;
          }
        else {
          var u = Object.assign({}, i.getColDef());
          u.colId = i.getColId(), s = u;
        }
        var c = i.getOriginalParent();
        return c ? e(c, s) : s;
      }, r = this.columnModel.getAllGridColumns(), n = r.filter(function(i) {
        var a = i.getColDef();
        return i.isPrimary() && !a.showRowGroup;
      });
      return n.map(function(i) {
        return e(i, i.getColDef());
      });
    }, t.prototype.mergeLeafPathTrees = function(e) {
      for (var r = this, n = function(c, d) {
        var p = r.isColGroupDef(c) && r.isColGroupDef(d);
        return p && r.getId(c) === r.getId(d);
      }, i = function(c, d) {
        if (!r.isColGroupDef(d))
          return c;
        var p = c, h = d;
        if (h.children && h.groupId) {
          var f = r.addChildrenToGroup(p, h.groupId, h.children[0]);
          if (f)
            return p;
        }
        return h.children.forEach(function(v) {
          return i(p, v);
        }), p;
      }, a = [], s = 1; s <= e.length; s++) {
        var l = e[s - 1], u = e[s];
        n(l, u) ? e[s] = i(l, u) : a.push(l);
      }
      return a;
    }, t.prototype.addChildrenToGroup = function(e, r, n) {
      var i = this, a = function(d, p) {
        var h = d.children.map(i.getId), f = T.includes(h, i.getId(p)), v = T.last(d.children), g = v && i.getId(v) !== i.getId(p);
        return f && g;
      };
      if (!this.isColGroupDef(e))
        return !0;
      var s = e, l = n;
      if (a(s, l))
        return s.children.push(l), !0;
      if (s.groupId === r) {
        var u = s.children.map(this.getId), c = T.includes(u, this.getId(l));
        if (!c)
          return s.children.push(l), !0;
      }
      return s.children.forEach(function(d) {
        return i.addChildrenToGroup(d, r, n);
      }), !1;
    }, aw([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = aw([
      q("toolPanelColDefService")
    ], t), t;
  }(W)
), WH = "30.0.6", Qm = {
  version: WH,
  moduleName: Z.SideBarModule,
  beans: [jH],
  agStackComponents: [
    { componentName: "AgHorizontalResize", componentClass: eO },
    { componentName: "AgSideBar", componentClass: BH },
    { componentName: "AgSideBarButtons", componentClass: tO }
  ],
  dependantModules: [
    cr
  ]
}, Wu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $H = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.selectAllChildren = function(t, e, r) {
      var n = this.extractAllLeafColumns(t);
      this.setAllColumns(n, e, r);
    }, o.prototype.setColumn = function(t, e, r) {
      this.setAllColumns([t], e, r);
    }, o.prototype.setAllColumns = function(t, e, r) {
      this.columnModel.isPivotMode() ? this.setAllPivot(t, e, r) : this.setAllVisible(t, e, r);
    }, o.prototype.extractAllLeafColumns = function(t) {
      var e = [], r = function(n) {
        n.forEach(function(i) {
          i.isPassesFilter() && (i.isGroup() ? r(i.getChildren()) : e.push(i.getColumn()));
        });
      };
      return r(t), e;
    }, o.prototype.setAllVisible = function(t, e, r) {
      var n = [];
      t.forEach(function(i) {
        i.getColDef().lockVisible || i.isVisible() != e && n.push({
          colId: i.getId(),
          hide: !e
        });
      }), n.length > 0 && this.columnModel.applyColumnState({ state: n }, r);
    }, o.prototype.setAllPivot = function(t, e, r) {
      this.gridOptionsService.is("functionsPassive") ? this.setAllPivotPassive(t, e) : this.setAllPivotActive(t, e, r);
    }, o.prototype.setAllPivotPassive = function(t, e) {
      var r = this.columnModel.getPivotColumns().slice(), n = this.columnModel.getValueColumns().slice(), i = this.columnModel.getRowGroupColumns().slice(), a = !1, s = !1, l = !1, u = function(v) {
        v.isAnyFunctionActive() || (v.isAllowValue() ? (n.push(v), s = !0) : v.isAllowRowGroup() ? (i.push(v), a = !0) : v.isAllowPivot() && (r.push(v), l = !0));
      }, c = function(v) {
        v.isAnyFunctionActive() && (r.indexOf(v) >= 0 && (T.removeFromArray(r, v), a = !0), n.indexOf(v) >= 0 && (T.removeFromArray(n, v), s = !0), i.indexOf(v) >= 0 && (T.removeFromArray(i, v), l = !0));
      }, d = e ? u : c;
      if (t.forEach(d), a) {
        var p = {
          type: R.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,
          columns: r
        };
        this.eventService.dispatchEvent(p);
      }
      if (l) {
        var h = {
          type: R.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,
          columns: i
        };
        this.eventService.dispatchEvent(h);
      }
      if (s) {
        var f = {
          type: R.EVENT_COLUMN_VALUE_CHANGE_REQUEST,
          columns: i
        };
        this.eventService.dispatchEvent(f);
      }
    }, o.prototype.setAllPivotActive = function(t, e, r) {
      var n = this, i = [], a = function(u) {
        if (!u.isAnyFunctionActive())
          if (u.isAllowValue()) {
            var c = typeof u.getAggFunc() == "string" ? u.getAggFunc() : n.aggFuncService.getDefaultAggFunc(u);
            i.push({
              colId: u.getId(),
              aggFunc: c
            });
          } else
            u.isAllowRowGroup() ? i.push({
              colId: u.getId(),
              rowGroup: !0
            }) : u.isAllowPivot() && i.push({
              colId: u.getId(),
              pivot: !0
            });
      }, s = function(u) {
        var c = u.isPivotActive() || u.isRowGroupActive() || u.isValueActive();
        c && i.push({
          colId: u.getId(),
          pivot: !1,
          rowGroup: !1,
          aggFunc: null
        });
      }, l = e ? a : s;
      t.forEach(l), i.length > 0 && this.columnModel.applyColumnState({ state: i }, r);
    }, o.prototype.updateColumns = function(t) {
      var e = this, r = t.columns, n = t.visibleState, i = t.pivotState, a = t.eventType, s = r.map(function(l) {
        var u = l.getColId();
        if (e.columnModel.isPivotMode()) {
          var c = i == null ? void 0 : i[u];
          return {
            colId: u,
            pivot: c == null ? void 0 : c.pivot,
            rowGroup: c == null ? void 0 : c.rowGroup,
            aggFunc: c == null ? void 0 : c.aggFunc
          };
        } else
          return {
            colId: u,
            hide: !(n != null && n[u])
          };
      });
      this.columnModel.applyColumnState({ state: s }, a);
    }, o.prototype.createPivotState = function(t) {
      return {
        pivot: t.isPivotActive(),
        rowGroup: t.isRowGroupActive(),
        aggFunc: t.isValueActive() ? t.getAggFunc() : void 0
      };
    }, Wu([
      w("aggFuncService")
    ], o.prototype, "aggFuncService", void 0), Wu([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), Wu([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), Wu([
      w("eventService")
    ], o.prototype, "eventService", void 0), o = Wu([
      q("modelItemUtils")
    ], o), o;
  }()
), UH = "30.0.6", zH = {
  version: UH,
  moduleName: Z.ColumnsToolPanelModule,
  beans: [$H],
  agStackComponents: [
    { componentName: "AgPrimaryColsHeader", componentClass: kB },
    { componentName: "AgPrimaryColsList", componentClass: ZB },
    { componentName: "AgPrimaryCols", componentClass: Zm }
  ],
  userComponents: [
    { componentName: "agColumnsToolPanel", componentClass: AH }
  ],
  dependantModules: [
    cr,
    JE,
    Qm
  ]
}, KH = {
  getTemplate: function() {
    return {
      name: "Workbook",
      properties: {
        prefixedAttributes: [{
          prefix: "xmlns:",
          map: {
            o: "urn:schemas-microsoft-com:office:office",
            x: "urn:schemas-microsoft-com:office:excel",
            ss: "urn:schemas-microsoft-com:office:spreadsheet",
            html: "http://www.w3.org/TR/REC-html40"
          }
        }],
        rawMap: {
          xmlns: "urn:schemas-microsoft-com:office:spreadsheet"
        }
      }
    };
  }
}, YH = {
  getTemplate: function() {
    return {
      name: "ExcelWorkbook",
      properties: {
        rawMap: {
          xmlns: "urn:schemas-microsoft-com:office:excel"
        }
      },
      children: [{
        name: "WindowHeight",
        textNode: "8130"
      }, {
        name: "WindowWidth",
        textNode: "15135"
      }, {
        name: "WindowHeight",
        textNode: "8130"
      }, {
        name: "WindowTopX",
        textNode: "120"
      }, {
        name: "WindowTopY",
        textNode: "45"
      }, {
        name: "ProtectStructure",
        textNode: "False"
      }, {
        name: "ProtectWindow",
        textNode: "False"
      }]
    };
  }
}, XH = {
  getTemplate: function(o) {
    var t = o.width;
    return {
      name: "Column",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Width: t
          }
        }]
      }
    };
  }
}, qH = {
  getTemplate: function(o) {
    var t = o.mergeAcross, e = o.styleId, r = o.data, n = {};
    return t && (n.MergeAcross = t), e && (n.StyleID = e), {
      name: "Cell",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: n
        }]
      },
      children: [{
        name: "Data",
        properties: {
          prefixedAttributes: [{
            prefix: "ss:",
            map: {
              Type: r == null ? void 0 : r.type
            }
          }]
        },
        textNode: r == null ? void 0 : r.value
      }]
    };
  }
}, ZH = {
  getTemplate: function(o) {
    var t = o.cells;
    return {
      name: "Row",
      children: t.map(function(e) {
        return qH.getTemplate(e);
      })
    };
  }
}, QH = {
  getTemplate: function(o) {
    var t = o.table, e = o.name, r = t.columns, n = t.rows, i = r.map(function(s) {
      return XH.getTemplate(s);
    }), a = n.map(function(s) {
      return ZH.getTemplate(s);
    });
    return {
      name: "Worksheet",
      children: [{
        name: "Table",
        children: i.concat(a)
      }],
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Name: e
          }
        }]
      }
    };
  }
}, JH = {
  getTemplate: function() {
    return {
      name: "DocumentProperties",
      properties: {
        rawMap: {
          xmlns: "urn:schemas-microsoft-com:office:office"
        }
      },
      children: [{
        name: "Version",
        textNode: "12.00"
      }]
    };
  }
}, ej = {
  getTemplate: function(o) {
    var t = o.alignment, e = t.vertical, r = t.horizontal, n = t.indent, i = t.readingOrder, a = t.rotate, s = t.shrinkToFit, l = t.verticalText, u = t.wrapText;
    return {
      name: "Alignment",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Vertical: e,
            Horizontal: r,
            Indent: n,
            ReadingOrder: i,
            Rotate: a,
            ShrinkToFit: s,
            VerticalText: l,
            WrapText: u
          }
        }]
      }
    };
  }
}, tj = {
  getTemplate: function(o) {
    var t = o.borders, e = t.borderBottom, r = t.borderLeft, n = t.borderRight, i = t.borderTop;
    return {
      name: "Borders",
      children: [e, r, n, i].map(function(a, s) {
        var l = s == 0 ? "Bottom" : s == 1 ? "Left" : s == 2 ? "Right" : "Top";
        return {
          name: "Border",
          properties: {
            prefixedAttributes: [{
              prefix: "ss:",
              map: {
                Position: l,
                LineStyle: a.lineStyle,
                Weight: a.weight,
                Color: a.color
              }
            }]
          }
        };
      })
    };
  }
}, rj = {
  getTemplate: function(o) {
    var t = o.font, e = t.bold, r = t.fontName, n = t.italic, i = t.color, a = t.outline, s = t.shadow, l = t.size, u = t.strikeThrough, c = t.underline, d = t.verticalAlign, p = t.charSet, h = t.family;
    return {
      name: "Font",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Bold: e,
            FontName: r,
            Italic: n,
            Color: i,
            Outline: a,
            Shadow: s,
            Size: l,
            StrikeThrough: u,
            Underline: c,
            VerticalAlign: d
          }
        }, {
          prefix: "x:",
          map: {
            CharSet: p,
            Family: h
          }
        }]
      }
    };
  }
}, nj = {
  getTemplate: function(o) {
    var t = o.interior, e = t.color, r = t.pattern, n = t.patternColor;
    return {
      name: "Interior",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Color: e,
            Pattern: r,
            PatternColor: n
          }
        }]
      }
    };
  }
}, ij = {
  getTemplate: function(o) {
    return {
      name: "Protection",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Protected: o.protection.protected,
            HideFormula: o.protection.hideFormula
          }
        }]
      }
    };
  }
}, oj = {
  getTemplate: function(o) {
    var t = o.numberFormat.format;
    return {
      name: "NumberFormat",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            Format: t
          }
        }]
      }
    };
  }
}, aj = {
  getTemplate: function(o) {
    var t = o.id, e = o.name;
    return {
      name: "Style",
      properties: {
        prefixedAttributes: [{
          prefix: "ss:",
          map: {
            ID: t,
            Name: e || t
          }
        }]
      }
    };
  }
}, Cy = (
  /** @class */
  function() {
    function o() {
    }
    return o.createExcel = function(t, e) {
      var r = this.excelXmlHeader(), n = JH.getTemplate(), i = YH.getTemplate(), a = this.workbook(n, i, t, e);
      return "" + r + vy.createXml(a, function(s) {
        return s ? "1" : "0";
      });
    }, o.workbook = function(t, e, r, n) {
      var i = [
        t,
        e,
        this.stylesXmlElement(r)
      ].concat(QH.getTemplate(n));
      return Object.assign({}, KH.getTemplate(), { children: i });
    }, o.excelXmlHeader = function() {
      return `<?xml version="1.0" ?>
        <?mso-application progid="Excel.Sheet" ?>
        `;
    }, o.stylesXmlElement = function(t) {
      var e = this;
      return {
        name: "Styles",
        children: t ? t.map(function(r) {
          return e.styleXmlElement(r);
        }) : []
      };
    }, o.styleXmlElement = function(t) {
      var e = T.compose(this.addProperty("alignment", t), this.addProperty("borders", t), this.addProperty("font", t), this.addProperty("interior", t), this.addProperty("protection", t), this.addProperty("numberFormat", t))([]);
      return Object.assign({}, aj.getTemplate(t), { children: e });
    }, o.addProperty = function(t, e) {
      return function(r) {
        if (!e[t])
          return r;
        var n = {
          alignment: ej,
          borders: tj,
          font: rj,
          interior: nj,
          numberFormat: oj,
          protection: ij
        };
        return r.concat(n[t].getTemplate(e));
      };
    }, o.factoryMode = is.SINGLE_SHEET, o;
  }()
), sj = 9525, sw = {
  0: 1,
  "0.00": 2,
  "#,##0": 3,
  "#,##0.00": 4,
  "0%": 9,
  "0.00%": 10,
  "0.00E+00": 11,
  "# ?/?": 12,
  "# ??/??": 13,
  "mm-dd-yy": 14,
  "d-mmm-yy": 15,
  "d-mmm": 16,
  "mmm-yy": 17,
  "h:mm AM/PM": 18,
  "h:mm:ss AM/PM": 19,
  "h:mm": 20,
  "h:mm:ss": 21,
  "m/d/yy h:mm": 22,
  "#,##0 ;(#,##0)": 37,
  "#,##0 ;[Red](#,##0)": 38,
  "#,##0.00;(#,##0.00)": 39,
  "#,##0.00;[Red](#,##0.00)": 40,
  "mm:ss": 45,
  "[h]:mm:ss": 46,
  "mmss.0": 47,
  "##0.0E+0": 48,
  "@": 49
}, lj = function(o) {
  return Math.round(o * 72 / 96);
}, uj = function(o) {
  return Math.round(o * 96 / 72);
}, Ps = function(o) {
  return Math.ceil(o * sj);
}, cj = function(o) {
  if (o !== void 0) {
    var t = ["Automatic", "Roman", "Swiss", "Modern", "Script", "Decorative"], e = t.indexOf(o || "Automatic");
    return Math.max(e, 0);
  }
}, zp = function(o, t) {
  if (t) {
    var e;
    if (typeof t == "number")
      e = t;
    else {
      var r = t;
      e = r({ rowIndex: o });
    }
    return lj(e);
  }
}, dj = function(o, t) {
  var e = o.position, r = e.colSpan, n = e.column;
  if (o.width)
    if (r)
      for (var i = t.slice(n - 1, n + r - 1), a = 0, s = 0; s < i.length; s++) {
        var l = i[s].getActualWidth();
        if (o.width < a + l) {
          o.position.colSpan = s + 1, o.totalWidth = o.width, o.width = o.totalWidth - a;
          break;
        }
        a += l;
      }
    else
      o.totalWidth = o.width;
}, pj = function(o, t) {
  var e = o.position, r = e.rowSpan, n = e.row;
  if (o.height)
    if (r)
      for (var i = 0, a = 0, s = n; s < n + r; s++) {
        var l = uj(zp(s, t) || 20);
        if (o.height < i + l) {
          o.position.rowSpan = a + 1, o.totalHeight = o.height, o.height = o.totalHeight - i;
          break;
        }
        i += l, a++;
      }
    else
      o.totalHeight = o.height;
}, an = function(o) {
  var t = vy.createHeader({
    encoding: "UTF-8",
    standalone: "yes"
  }), e = vy.createXml(o);
  return "" + t + e;
}, Uc = function(o) {
  var t = 65, e = 26, r = String.fromCharCode, n = Math.floor(o / e), i = o % e;
  return !n || o === e ? r(t + o - 1) : i ? n < e ? r(t + n - 1) + r(t + i - 1) : Uc(n) + r(t + i - 1) : Uc(n - 1) + "Z";
}, hj = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ch = function() {
  return Ch = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ch.apply(this, arguments);
}, lw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, uw = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, rO = (
  /** @class */
  function(o) {
    hj(t, o);
    function t(e) {
      var r = o.call(this, e) || this;
      return r.mixedStyles = {}, r.mixedStyleCounter = 0, r.rows = [], r.config = Object.assign({}, e), r.stylesByIds = {}, r.config.baseExcelStyles.forEach(function(n) {
        r.stylesByIds[n.id] = n;
      }), r.excelStyles = uw([], lw(r.config.baseExcelStyles)), r;
    }
    return t.prototype.addCustomContent = function(e) {
      var r = this;
      e.forEach(function(n) {
        var i = r.rows.length + 1, a;
        !r.config.suppressRowOutline && n.outlineLevel != null && (a = n.outlineLevel);
        var s = {
          height: zp(i, n.height || r.config.rowHeight),
          cells: (n.cells || []).map(function(l, u) {
            var c, d, p, h = r.addImage(i, r.columnsToExport[u], (c = l.data) === null || c === void 0 ? void 0 : c.value), f = null;
            l.styleId && (f = typeof l.styleId == "string" ? [l.styleId] : l.styleId);
            var v = r.getStyleId(f);
            if (h)
              return r.createCell(v, r.getDataTypeForValue(h.value), h.value == null ? "" : h.value);
            var g = (p = (d = l.data) === null || d === void 0 ? void 0 : d.value) !== null && p !== void 0 ? p : "", y = r.getDataTypeForValue(g);
            return l.mergeAcross ? r.createMergedCell(v, y, g, l.mergeAcross) : r.createCell(v, y, g);
          }),
          outlineLevel: a
        };
        n.collapsed != null && (s.collapsed = n.collapsed), n.hidden != null && (s.hidden = n.hidden), r.rows.push(s);
      });
    }, t.prototype.onNewHeaderGroupingRow = function() {
      var e = this, r = [];
      return this.rows.push({
        cells: r,
        height: zp(this.rows.length + 1, this.config.headerRowHeight)
      }), {
        onColumn: function(n, i, a, s, l) {
          var u = e.config.styleLinker({ rowType: es.HEADER_GROUPING, rowIndex: 1, value: "grouping-" + i, columnGroup: n });
          r.push(Ch(Ch({}, e.createMergedCell(e.getStyleId(u), e.getDataTypeForValue("string"), i, s)), { collapsibleRanges: l }));
        }
      };
    }, t.prototype.onNewHeaderRow = function() {
      return this.onNewRow(this.onNewHeaderColumn, this.config.headerRowHeight);
    }, t.prototype.onNewBodyRow = function(e) {
      var r = this.onNewRow(this.onNewBodyColumn, this.config.rowHeight);
      return e && this.addRowOutlineIfNecessary(e), r;
    }, t.prototype.addRowOutlineIfNecessary = function(e) {
      var r = this.config, n = r.gridOptionsService, i = r.suppressRowOutline, a = r.rowGroupExpandState, s = a === void 0 ? "expanded" : a, l = n.is("groupHideOpenParents");
      if (!(l || i || e.level == null)) {
        var u = e.footer ? 1 : 0, c = T.last(this.rows);
        if (c.outlineLevel = e.level + u, s !== "expanded") {
          var d = s === "collapsed";
          if (e.isExpandable()) {
            var p = !d && e.expanded;
            c.collapsed = !p;
          }
          c.hidden = // always show the node if there is no parent to be expanded
          !!e.parent && // or if it is a child of the root node
          e.parent.level !== -1 && (d || this.isAnyParentCollapsed(e.parent));
        }
      }
    }, t.prototype.isAnyParentCollapsed = function(e) {
      for (; e && e.level !== -1; ) {
        if (!e.expanded)
          return !0;
        e = e.parent;
      }
      return !1;
    }, t.prototype.prepare = function(e) {
      var r = this;
      o.prototype.prepare.call(this, e), this.columnsToExport = uw([], lw(e)), this.cols = e.map(function(n, i) {
        return r.convertColumnToExcel(n, i);
      });
    }, t.prototype.parse = function() {
      for (var e = this.rows.reduce(function(n, i) {
        return Math.max(n, i.cells.length);
      }, 0); this.cols.length < e; )
        this.cols.push(this.convertColumnToExcel(null, this.cols.length + 1));
      var r = {
        name: this.config.sheetName,
        table: {
          columns: this.cols,
          rows: this.rows
        }
      };
      return this.createExcel(r);
    }, t.prototype.isFormula = function(e) {
      return e == null ? !1 : this.config.autoConvertFormulas && e.toString().startsWith("=");
    }, t.prototype.isNumerical = function(e) {
      return typeof e == "bigint" ? !0 : isFinite(e) && e !== "" && !isNaN(parseFloat(e));
    }, t.prototype.getStyleById = function(e) {
      return e == null ? null : this.stylesByIds[e] || null;
    }, t.prototype.convertColumnToExcel = function(e, r) {
      var n = this.config.columnWidth;
      if (n)
        return typeof n == "number" ? { width: n } : { width: n({ column: e, index: r }) };
      if (e) {
        var i = 75;
        return { width: Math.max(e.getActualWidth(), i) };
      }
      return {};
    }, t.prototype.onNewHeaderColumn = function(e, r) {
      var n = this;
      return function(i, a) {
        var s = n.extractHeaderValue(i), l = n.config.styleLinker({ rowType: es.HEADER, rowIndex: e, value: s, column: i });
        r.push(n.createCell(n.getStyleId(l), n.getDataTypeForValue("string"), s));
      };
    }, t.prototype.onNewRow = function(e, r) {
      var n = [];
      return this.rows.push({
        cells: n,
        height: zp(this.rows.length + 1, r)
      }), {
        onColumn: e.bind(this, this.rows.length, n)()
      };
    }, t.prototype.onNewBodyColumn = function(e, r) {
      var n = this, i = 0;
      return function(a, s, l) {
        if (i > 0) {
          i -= 1;
          return;
        }
        var u = n.extractRowCellValue(a, s, e, "excel", l), c = u.value, d = u.valueFormatted, p = n.config.styleLinker({ rowType: es.BODY, rowIndex: e, value: c, column: a, node: l }), h = n.getStyleId(p), f = a.getColSpan(l), v = n.addImage(e, a, c);
        v ? r.push(n.createCell(h, n.getDataTypeForValue(v.value), v.value == null ? "" : v.value)) : f > 1 ? (i = f - 1, r.push(n.createMergedCell(h, n.getDataTypeForValue(c), c, f - 1))) : r.push(n.createCell(h, n.getDataTypeForValue(c), c, d));
      };
    }, t.prototype.getStyleId = function(e) {
      if (!e || !e.length)
        return null;
      if (e.length === 1)
        return e[0];
      var r = e.join("-");
      return this.mixedStyles[r] || this.addNewMixedStyle(e), this.mixedStyles[r].excelID;
    }, t.prototype.addNewMixedStyle = function(e) {
      var r = this;
      this.mixedStyleCounter += 1;
      var n = "mixedStyle" + this.mixedStyleCounter, i = {};
      e.forEach(function(s) {
        r.excelStyles.forEach(function(l) {
          l.id === s && T.mergeDeep(i, T.deepCloneObject(l));
        });
      }), i.id = n, i.name = n;
      var a = e.join("-");
      this.mixedStyles[a] = {
        excelID: n,
        key: a,
        result: i
      }, this.excelStyles.push(i), this.stylesByIds[n] = i;
    }, t;
  }(KE)
), fj = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), vj = (
  /** @class */
  function(o) {
    fj(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createExcel = function(e) {
      return Cy.createExcel(this.excelStyles, e);
    }, t.prototype.getDataTypeForValue = function(e) {
      return this.isNumerical(e) ? "Number" : "String";
    }, t.prototype.getType = function(e, r, n) {
      if (this.isFormula(n))
        return "Formula";
      if (r && r.dataType)
        switch (r.dataType.toLocaleLowerCase()) {
          case "string":
            return "Formula";
          case "number":
            return "Number";
          case "datetime":
            return "DateTime";
          case "error":
            return "Error";
          case "boolean":
            return "Boolean";
          default:
            console.warn("AG Grid: Unrecognized data type for excel export [" + r.id + ".dataType=" + r.dataType + "]");
        }
      return e;
    }, t.prototype.addImage = function() {
    }, t.prototype.createCell = function(e, r, n, i) {
      var a = this.getStyleById(e);
      !(a != null && a.dataType) && r === "String" && i && (n = i);
      var s = this.getType(r, a, n) || r;
      return {
        styleId: a ? e : void 0,
        data: {
          type: s,
          value: this.getValueTransformed(s, n)
        }
      };
    }, t.prototype.getValueTransformed = function(e, r) {
      var n = this, i = function(s) {
        if (n.config.suppressTextAsCDATA)
          return T.escapeString(s);
        var l = "<![CDATA[", u = "]]>", c = new RegExp(u, "g");
        return l + String(s).replace(c, "]]" + u + l + ">") + u;
      }, a = function(s) {
        return !s || s === "0" || s === "false" ? "0" : "1";
      };
      switch (e) {
        case "String":
          return i(r);
        case "Number":
          return Number(r).valueOf() + "";
        case "Boolean":
          return a(r);
        default:
          return r;
      }
    }, t.prototype.createMergedCell = function(e, r, n, i) {
      return {
        styleId: this.getStyleById(e) ? e : void 0,
        data: {
          type: r,
          value: n
        },
        mergeAcross: i
      };
    }, t;
  }(rO)
), gj = {
  getTemplate: function(o) {
    var t = /* @__PURE__ */ new Date(), e = t.toJSON();
    return {
      name: "cp:coreProperties",
      properties: {
        prefixedAttributes: [{
          prefix: "xmlns:",
          map: {
            cp: "http://schemas.openxmlformats.org/package/2006/metadata/core-properties",
            dc: "http://purl.org/dc/elements/1.1/",
            dcterms: "http://purl.org/dc/terms/",
            dcmitype: "http://purl.org/dc/dcmitype/",
            xsi: "http://www.w3.org/2001/XMLSchema-instance"
          }
        }]
      },
      children: [{
        name: "dc:creator",
        textNode: o
      }, {
        name: "dc:title",
        textNode: "Workbook"
      }, {
        name: "dcterms:created",
        properties: {
          rawMap: {
            "xsi:type": "dcterms:W3CDTF"
          }
        },
        textNode: e
      }, {
        name: "dcterms:modified",
        properties: {
          rawMap: {
            "xsi:type": "dcterms:W3CDTF"
          }
        },
        textNode: e
      }]
    };
  }
}, yj = {
  getTemplate: function(o) {
    var t = o.name, e = o.ContentType, r = o.Extension, n = o.PartName;
    return {
      name: t,
      properties: {
        rawMap: {
          Extension: r,
          PartName: n,
          ContentType: e
        }
      }
    };
  }
}, eg = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, As = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, mj = {
  getTemplate: function(o) {
    var t = new Array(o).fill(void 0).map(function(s, l) {
      return {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",
        PartName: "/xl/worksheets/sheet" + (l + 1) + ".xml"
      };
    }), e = nt.worksheetImages.size, r = {};
    nt.workbookImageIds.forEach(function(s) {
      r[s.type] = !0;
    });
    var n = new Array(e).fill(void 0).map(function(s, l) {
      return {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.drawing+xml",
        PartName: "/xl/drawings/drawing" + (l + 1) + ".xml"
      };
    }), i = Object.keys(r).map(function(s) {
      return {
        name: "Default",
        ContentType: "image/" + s,
        Extension: s
      };
    }), a = As(As(As(As(As(As([], eg(i)), [
      {
        name: "Default",
        Extension: "rels",
        ContentType: "application/vnd.openxmlformats-package.relationships+xml"
      },
      {
        name: "Default",
        ContentType: "application/xml",
        Extension: "xml"
      },
      {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",
        PartName: "/xl/workbook.xml"
      }
    ]), eg(t)), [
      {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.theme+xml",
        PartName: "/xl/theme/theme1.xml"
      },
      {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",
        PartName: "/xl/styles.xml"
      },
      {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",
        PartName: "/xl/sharedStrings.xml"
      }
    ]), eg(n)), [
      {
        name: "Override",
        ContentType: "application/vnd.openxmlformats-package.core-properties+xml",
        PartName: "/docProps/core.xml"
      }
    ]).map(function(s) {
      return yj.getTemplate(s);
    });
    return {
      name: "Types",
      properties: {
        rawMap: {
          xmlns: "http://schemas.openxmlformats.org/package/2006/content-types"
        }
      },
      children: a
    };
  }
}, cw = function(o, t) {
  return {
    name: "xdr:" + o,
    children: [{
      name: "xdr:col",
      textNode: t.col.toString()
    }, {
      name: "xdr:colOff",
      textNode: t.offsetX.toString()
    }, {
      name: "xdr:row",
      textNode: t.row.toString()
    }, {
      name: "xdr:rowOff",
      textNode: t.offsetY.toString()
    }]
  };
}, Cj = function(o) {
  var t = [{
    name: "a:ext",
    properties: {
      rawMap: {
        uri: "{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"
      }
    },
    children: [{
      name: "a16:creationId",
      properties: {
        rawMap: {
          id: "{822E6D20-D7BC-2841-A643-D49A6EF008A2}",
          "xmlns:a16": "http://schemas.microsoft.com/office/drawing/2014/main"
        }
      }
    }]
  }], e = o.recolor && o.recolor.toLowerCase();
  switch (e) {
    case "grayscale":
    case "sepia":
    case "washout":
      t.push({
        name: "a:ext",
        properties: {
          rawMap: {
            uri: "{C183D7F6-B498-43B3-948B-1728B52AA6E4}"
          }
        },
        children: [{
          name: "adec:decorative",
          properties: {
            rawMap: {
              val: "0",
              "xmlns:adec": "http://schemas.microsoft.com/office/drawing/2017/decorative"
            }
          }
        }]
      });
  }
  return {
    name: "a:extLst",
    children: t
  };
}, Sj = function(o, t) {
  return {
    name: "xdr:nvPicPr",
    children: [{
      name: "xdr:cNvPr",
      properties: {
        rawMap: {
          id: t,
          name: o.id,
          descr: o.altText != null ? o.altText : void 0
        }
      },
      children: [Cj(o)]
    }, {
      name: "xdr:cNvPicPr",
      properties: {
        rawMap: {
          preferRelativeResize: "0"
        }
      },
      children: [{
        name: "a:picLocks"
      }]
    }]
  };
}, dw = function(o) {
  if (!(!o.saturation && !o.tint)) {
    var t = [];
    return o.saturation && t.push({
      name: "a:satMod",
      properties: {
        rawMap: {
          val: o.saturation * 1e3
        }
      }
    }), o.tint && t.push({
      name: "a:tint",
      properties: {
        rawMap: {
          val: o.tint * 1e3
        }
      }
    }), t;
  }
}, wj = function(o, t) {
  return {
    name: "a:duotone",
    children: [{
      name: "a:prstClr",
      properties: {
        rawMap: {
          val: o.color
        }
      },
      children: dw(o)
    }, {
      name: "a:srgbClr",
      properties: {
        rawMap: {
          val: t.color
        }
      },
      children: dw(t)
    }]
  };
}, _j = function(o, t) {
  var e;
  if (o.transparency) {
    var r = Math.min(Math.max(o.transparency, 0), 100);
    e = [{
      name: "a:alphaModFix",
      properties: {
        rawMap: {
          amt: 1e5 - Math.round(r * 1e3)
        }
      }
    }];
  }
  if (o.recolor)
    switch (e || (e = []), o.recolor.toLocaleLowerCase()) {
      case "grayscale":
        e.push({ name: "a:grayscl" });
        break;
      case "sepia":
        e.push(wj({ color: "black" }, { color: "D9C3A5", tint: 50, saturation: 180 }));
        break;
      case "washout":
        e.push({
          name: "a:lum",
          properties: {
            rawMap: {
              bright: "70000",
              contrast: "-70000"
            }
          }
        });
        break;
    }
  return {
    name: "xdr:blipFill",
    children: [{
      name: "a:blip",
      properties: {
        rawMap: {
          cstate: "print",
          "r:embed": "rId" + t,
          "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships"
        }
      },
      children: e
    }, {
      name: "a:stretch",
      children: [{
        name: "a:fillRect"
      }]
    }]
  };
}, bj = function(o, t) {
  var e = {
    name: "a:xfrm",
    children: [{
      name: "a:off",
      properties: {
        rawMap: {
          x: 0,
          y: 0
        }
      }
    }, {
      name: "a:ext",
      properties: {
        rawMap: {
          cx: t.width,
          cy: t.height
        }
      }
    }]
  };
  if (o.rotation) {
    var r = o.rotation;
    e.properties = {
      rawMap: {
        rot: Math.min(Math.max(r, 0), 360) * 6e4
      }
    };
  }
  var n = {
    name: "a:prstGeom",
    properties: {
      rawMap: {
        prst: "rect"
      }
    },
    children: [{ name: "a:avLst" }]
  }, i = {
    name: "xdr:spPr",
    children: [e, n]
  };
  return i;
}, Ej = function(o) {
  o.fitCell = !!o.fitCell || !o.width || !o.height;
  var t = o.position, e = t === void 0 ? {} : t, r = o.fitCell, n = o.width, i = n === void 0 ? 0 : n, a = o.height, s = a === void 0 ? 0 : a, l = o.totalHeight, u = o.totalWidth, c = e.offsetX, d = c === void 0 ? 0 : c, p = e.offsetY, h = p === void 0 ? 0 : p, f = e.row, v = f === void 0 ? 1 : f, g = e.rowSpan, y = g === void 0 ? 1 : g, m = e.column, C = m === void 0 ? 1 : m, S = e.colSpan, b = S === void 0 ? 1 : S;
  return {
    from: {
      row: v - 1,
      col: C - 1,
      offsetX: Ps(d),
      offsetY: Ps(h)
    },
    to: {
      row: v - 1 + (r ? 1 : y - 1),
      col: C - 1 + (r ? 1 : b - 1),
      offsetX: Ps(i + d),
      offsetY: Ps(s + h)
    },
    height: Ps(l || s),
    width: Ps(u || i)
  };
}, Oj = function(o, t, e, r) {
  return {
    name: "xdr:pic",
    children: [
      Sj(o, t + 1),
      _j(o, e + 1),
      bj(o, r)
    ]
  };
}, xj = {
  getTemplate: function(o) {
    var t = o.sheetIndex, e = nt.worksheetImages.get(t), r = nt.worksheetImageIds.get(t), n = e.map(function(i, a) {
      var s = Ej(i);
      return {
        name: "xdr:twoCellAnchor",
        properties: {
          rawMap: {
            editAs: "absolute"
          }
        },
        children: [
          cw("from", s.from),
          cw("to", s.to),
          Oj(i, a, r.get(i.id).index, s),
          { name: "xdr:clientData" }
        ]
      };
    });
    return {
      name: "xdr:wsDr",
      properties: {
        rawMap: {
          "xmlns:a": "http://schemas.openxmlformats.org/drawingml/2006/main",
          "xmlns:xdr": "http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"
        }
      },
      children: n
    };
  }
}, Tj = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, sn = function(o) {
  var t = Tj(o, 4), e = t[0], r = t[1], n = t[2], i = t[3];
  return {
    name: "a:" + e,
    children: [{
      name: "a:" + r,
      properties: {
        rawMap: {
          val: n,
          lastClr: i
        }
      }
    }]
  };
}, Rj = {
  getTemplate: function() {
    return {
      name: "a:clrScheme",
      properties: {
        rawMap: {
          name: "Office"
        }
      },
      children: [
        sn(["dk1", "sysClr", "windowText", "000000"]),
        sn(["lt1", "sysClr", "window", "FFFFFF"]),
        sn(["dk2", "srgbClr", "44546A"]),
        sn(["lt2", "srgbClr", "E7E6E6"]),
        sn(["accent1", "srgbClr", "4472C4"]),
        sn(["accent2", "srgbClr", "ED7D31"]),
        sn(["accent3", "srgbClr", "A5A5A5"]),
        sn(["accent4", "srgbClr", "FFC000"]),
        sn(["accent5", "srgbClr", "5B9BD5"]),
        sn(["accent6", "srgbClr", "70AD47"]),
        sn(["hlink", "srgbClr", "0563C1"]),
        sn(["folHlink", "srgbClr", "954F72"])
      ]
    };
  }
}, Dj = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, re = function(o) {
  var t = Dj(o, 4), e = t[0], r = t[1], n = t[2], i = t[3];
  return {
    name: "a:" + e,
    properties: {
      rawMap: {
        script: n,
        typeface: r,
        panose: i
      }
    }
  };
}, Pj = {
  getTemplate: function() {
    var o = T.utf8_encode;
    return {
      name: "a:fontScheme",
      properties: {
        rawMap: {
          name: "Office"
        }
      },
      children: [{
        name: "a:majorFont",
        children: [
          re(["latin", "Calibri Light", void 0, "020F0302020204030204"]),
          re(["ea", ""]),
          re(["cs", ""]),
          re(["font", o("游ゴシック Light"), "Jpan"]),
          re(["font", o("맑은 고딕"), "Hang"]),
          re(["font", o("等线 Light"), "Hans"]),
          re(["font", o("新細明體"), "Hant"]),
          re(["font", "Times New Roman", "Arab"]),
          re(["font", "Times New Roman", "Hebr"]),
          re(["font", "Tahoma", "Thai"]),
          re(["font", "Nyala", "Ethi"]),
          re(["font", "Vrinda", "Beng"]),
          re(["font", "Shruti", "Gujr"]),
          re(["font", "MoolBoran", "Khmr"]),
          re(["font", "Tunga", "Knda"]),
          re(["font", "Raavi", "Guru"]),
          re(["font", "Euphemia", "Cans"]),
          re(["font", "Plantagenet Cherokee", "Cher"]),
          re(["font", "Microsoft Yi Baiti", "Yiii"]),
          re(["font", "Microsoft Himalaya", "Tibt"]),
          re(["font", "MV Boli", "Thaa"]),
          re(["font", "Mangal", "Deva"]),
          re(["font", "Gautami", "Telu"]),
          re(["font", "Latha", "Taml"]),
          re(["font", "Estrangelo Edessa", "Syrc"]),
          re(["font", "Kalinga", "Orya"]),
          re(["font", "Kartika", "Mlym"]),
          re(["font", "DokChampa", "Laoo"]),
          re(["font", "Iskoola Pota", "Sinh"]),
          re(["font", "Mongolian Baiti", "Mong"]),
          re(["font", "Times New Roman", "Viet"]),
          re(["font", "Microsoft Uighur", "Uigh"]),
          re(["font", "Sylfaen", "Geor"]),
          re(["font", "Arial", "Armn"]),
          re(["font", "Leelawadee UI", "Bugi"]),
          re(["font", "Microsoft JhengHei", "Bopo"]),
          re(["font", "Javanese Text", "Java"]),
          re(["font", "Segoe UI", "Lisu"]),
          re(["font", "Myanmar Text", "Mymr"]),
          re(["font", "Ebrima", "Nkoo"]),
          re(["font", "Nirmala UI", "Olck"]),
          re(["font", "Ebrima", "Osma"]),
          re(["font", "Phagspa", "Phag"]),
          re(["font", "Estrangelo Edessa", "Syrn"]),
          re(["font", "Estrangelo Edessa", "Syrj"]),
          re(["font", "Estrangelo Edessa", "Syre"]),
          re(["font", "Nirmala UI", "Sora"]),
          re(["font", "Microsoft Tai Le", "Tale"]),
          re(["font", "Microsoft New Tai Lue", "Talu"]),
          re(["font", "Ebrima", "Tfng"])
        ]
      }, {
        name: "a:minorFont",
        children: [
          re(["latin", "Calibri", void 0, "020F0502020204030204"]),
          re(["ea", ""]),
          re(["cs", ""]),
          re(["font", o("游ゴシック"), "Jpan"]),
          re(["font", o("맑은 고딕"), "Hang"]),
          re(["font", o("等线"), "Hans"]),
          re(["font", o("新細明體"), "Hant"]),
          re(["font", "Arial", "Arab"]),
          re(["font", "Arial", "Hebr"]),
          re(["font", "Tahoma", "Thai"]),
          re(["font", "Nyala", "Ethi"]),
          re(["font", "Vrinda", "Beng"]),
          re(["font", "Shruti", "Gujr"]),
          re(["font", "DaunPenh", "Khmr"]),
          re(["font", "Tunga", "Knda"]),
          re(["font", "Raavi", "Guru"]),
          re(["font", "Euphemia", "Cans"]),
          re(["font", "Plantagenet Cherokee", "Cher"]),
          re(["font", "Microsoft Yi Baiti", "Yiii"]),
          re(["font", "Microsoft Himalaya", "Tibt"]),
          re(["font", "MV Boli", "Thaa"]),
          re(["font", "Mangal", "Deva"]),
          re(["font", "Gautami", "Telu"]),
          re(["font", "Latha", "Taml"]),
          re(["font", "Estrangelo Edessa", "Syrc"]),
          re(["font", "Kalinga", "Orya"]),
          re(["font", "Kartika", "Mlym"]),
          re(["font", "DokChampa", "Laoo"]),
          re(["font", "Iskoola Pota", "Sinh"]),
          re(["font", "Mongolian Baiti", "Mong"]),
          re(["font", "Arial", "Viet"]),
          re(["font", "Microsoft Uighur", "Uigh"]),
          re(["font", "Sylfaen", "Geor"]),
          re(["font", "Arial", "Armn"]),
          re(["font", "Leelawadee UI", "Bugi"]),
          re(["font", "Microsoft JhengHei", "Bopo"]),
          re(["font", "Javanese Text", "Java"]),
          re(["font", "Segoe UI", "Lisu"]),
          re(["font", "Myanmar Text", "Mymr"]),
          re(["font", "Ebrima", "Nkoo"]),
          re(["font", "Nirmala UI", "Olck"]),
          re(["font", "Ebrima", "Osma"]),
          re(["font", "Phagspa", "Phag"]),
          re(["font", "Estrangelo Edessa", "Syrn"]),
          re(["font", "Estrangelo Edessa", "Syrj"]),
          re(["font", "Estrangelo Edessa", "Syre"]),
          re(["font", "Nirmala UI", "Sora"]),
          re(["font", "Microsoft Tai Le", "Tale"]),
          re(["font", "Microsoft New Tai Lue", "Talu"]),
          re(["font", "Ebrima", "Tfng"])
        ]
      }]
    };
  }
}, zc = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Si = function(o, t, e) {
  return {
    name: "a:" + o,
    properties: {
      rawMap: {
        val: t
      }
    },
    children: e
  };
}, tg = function(o) {
  var t = zc(o, 6), e = t[0], r = t[1], n = t[2], i = t[3], a = t[4], s = t[5], l = [];
  return l.push(Si("satMod", n)), i && l.push(Si("lumMod", i)), a && l.push(Si("tint", a)), s && l.push(Si("shade", s)), {
    name: "a:gs",
    properties: {
      rawMap: {
        pos: e
      }
    },
    children: [{
      name: "a:schemeClr",
      properties: {
        rawMap: {
          val: r
        }
      },
      children: l
    }]
  };
}, Sh = function(o, t) {
  return {
    name: "a:solidFill",
    children: [Si("schemeClr", o, t)]
  };
}, Sy = function(o) {
  var t = zc(o, 5), e = t[0], r = t[1], n = t[2], i = t[3], a = t[4], s = zc(a, 2), l = s[0], u = s[1];
  return {
    name: "a:gradFill",
    properties: {
      rawMap: {
        rotWithShape: e
      }
    },
    children: [{
      name: "a:gsLst",
      children: [
        tg(r),
        tg(n),
        tg(i)
      ]
    }, {
      name: "a:lin",
      properties: {
        rawMap: {
          ang: l,
          scaled: u
        }
      }
    }]
  };
}, rg = function(o) {
  var t = zc(o, 4), e = t[0], r = t[1], n = t[2], i = t[3];
  return {
    name: "a:ln",
    properties: {
      rawMap: { w: e, cap: r, cmpd: n, algn: i }
    },
    children: [
      Sh("phClr"),
      Si("prstDash", "solid"),
      {
        name: "a:miter",
        properties: {
          rawMap: {
            lim: "800000"
          }
        }
      }
    ]
  };
}, ng = function(o) {
  var t = [];
  if (o) {
    var e = zc(o, 5), r = e[0], n = e[1], i = e[2], a = e[3], s = e[4];
    t.push({
      name: "a:outerShdw",
      properties: {
        rawMap: { blurRad: r, dist: n, dir: i, algn: a, rotWithShape: s }
      },
      children: [
        Si("srgbClr", "000000", [Si("alpha", "63000")])
      ]
    });
  }
  return {
    name: "a:effectStyle",
    children: [Object.assign({}, {
      name: "a:effectLst"
    }, t.length ? { children: t } : {})]
  };
}, Aj = function() {
  return {
    name: "a:fillStyleLst",
    children: [
      Sh("phClr"),
      Sy([
        "1",
        ["0", "phClr", "105000", "110000", "67000"],
        ["50000", "phClr", "103000", "105000", "73000"],
        ["100000", "phClr", "109000", "105000", "81000"],
        ["5400000", "0"]
      ]),
      Sy([
        "1",
        ["0", "phClr", "103000", "102000", "94000"],
        ["50000", "phClr", "110000", "100000", void 0, "100000"],
        ["100000", "phClr", "120000", "99000", void 0, "78000"],
        ["5400000", "0"]
      ])
    ]
  };
}, Mj = function() {
  return {
    name: "a:lnStyleLst",
    children: [
      rg(["6350", "flat", "sng", "ctr"]),
      rg(["12700", "flat", "sng", "ctr"]),
      rg(["19050", "flat", "sng", "ctr"])
    ]
  };
}, Ij = function() {
  return {
    name: "a:effectStyleLst",
    children: [
      ng(),
      ng(),
      ng(["57150", "19050", "5400000", "ctr", "0"])
    ]
  };
}, Fj = function() {
  return {
    name: "a:bgFillStyleLst",
    children: [
      Sh("phClr"),
      Sh("phClr", [
        Si("tint", "95000"),
        Si("satMod", "170000")
      ]),
      Sy([
        "1",
        ["0", "phClr", "150000", "102000", "93000", "98000"],
        ["50000", "phClr", "130000", "103000", "98000", "90000"],
        ["100000", "phClr", "120000", void 0, void 0, "63000"],
        ["5400000", "0"]
      ])
    ]
  };
}, Lj = {
  getTemplate: function() {
    return {
      name: "a:fmtScheme",
      properties: {
        rawMap: {
          name: "Office"
        }
      },
      children: [
        Aj(),
        Mj(),
        Ij(),
        Fj()
      ]
    };
  }
}, Nj = {
  getTemplate: function() {
    return {
      name: "a:themeElements",
      children: [
        Rj.getTemplate(),
        Pj.getTemplate(),
        Lj.getTemplate()
      ]
    };
  }
}, Gj = {
  getTemplate: function() {
    return {
      name: "a:theme",
      properties: {
        prefixedAttributes: [{
          prefix: "xmlns:",
          map: {
            a: "http://schemas.openxmlformats.org/drawingml/2006/main"
          }
        }],
        rawMap: {
          name: "Office Theme"
        }
      },
      children: [
        Nj.getTemplate(),
        {
          name: "a:objectDefaults"
        },
        {
          name: "a:extraClrSchemeLst"
        }
      ]
    };
  }
}, kj = function(o) {
  var t = [];
  return o.forEach(function(e, r) {
    var n = r.toString(), i = {
      name: "t",
      textNode: T.utf8_encode(T.escapeString(n))
    }, a = n.trim().length !== n.length;
    a && (i.properties = {
      rawMap: {
        "xml:space": "preserve"
      }
    }), t.push({
      name: "si",
      children: [i]
    });
  }), t;
}, Vj = {
  getTemplate: function(o) {
    return {
      name: "sst",
      properties: {
        rawMap: {
          xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main",
          count: o.size,
          uniqueCount: o.size
        }
      },
      children: kj(o)
    };
  }
};
function Bj(o) {
  for (var t = o.split(/(\[[^\]]*\])/), e = 0; e < t.length; e++) {
    var r = t[e];
    r.length && (r.startsWith("[") || (r = r.replace(/\$/g, '"$"')), t[e] = T.escapeString(r));
  }
  return t.join("");
}
var Hj = {
  getTemplate: function(o) {
    var t = o.formatCode, e = o.numFmtId;
    return t.length && (t = Bj(t)), {
      name: "numFmt",
      properties: {
        rawMap: {
          formatCode: t,
          numFmtId: e
        }
      }
    };
  }
}, jj = {
  getTemplate: function(o) {
    return {
      name: "numFmts",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return Hj.getTemplate(t);
      })
    };
  }
}, Wj = {
  getTemplate: function(o) {
    var t = o.size, e = o.colorTheme, r = o.color, n = r === void 0 ? "FF000000" : r, i = o.fontName, a = i === void 0 ? "Calibri" : i, s = o.family, l = o.scheme, u = o.italic, c = o.bold, d = o.strikeThrough, p = o.outline, h = o.shadow, f = o.underline, v = o.verticalAlign, g = [
      { name: "sz", properties: { rawMap: { val: t } } },
      { name: "color", properties: { rawMap: { theme: e, rgb: n } } },
      { name: "name", properties: { rawMap: { val: a } } }
    ];
    return s && g.push({ name: "family", properties: { rawMap: { val: s } } }), l && g.push({ name: "scheme", properties: { rawMap: { val: l } } }), u && g.push({ name: "i" }), c && g.push({ name: "b" }), d && g.push({ name: "strike" }), p && g.push({ name: "outline" }), h && g.push({ name: "shadow" }), f && g.push({ name: "u", properties: { rawMap: { val: f } } }), v && g.push({ name: "vertAlign", properties: { rawMap: { val: v } } }), { name: "font", children: g };
  }
}, $j = {
  getTemplate: function(o) {
    return {
      name: "fonts",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return Wj.getTemplate(t);
      })
    };
  }
}, Uj = {
  getTemplate: function(o) {
    var t = o.patternType, e = o.fgTheme, r = o.fgTint, n = o.fgRgb, i = o.bgRgb, a = o.bgIndexed, s = {
      name: "patternFill",
      properties: {
        rawMap: {
          patternType: t
        }
      }
    };
    return (e || r || n) && (s.children = [{
      name: "fgColor",
      properties: {
        rawMap: {
          theme: e,
          tint: r,
          rgb: n
        }
      }
    }]), (a || i) && (s.children || (s.children = []), s.children.push({
      name: "bgColor",
      properties: {
        rawMap: {
          indexed: a,
          rgb: i
        }
      }
    })), {
      name: "fill",
      children: [s]
    };
  }
}, zj = {
  getTemplate: function(o) {
    return {
      name: "fills",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return Uj.getTemplate(t);
      })
    };
  }
}, Kj = function(o) {
  switch (o) {
    case 1:
      return "thin";
    case 2:
      return "medium";
    case 3:
      return "thick";
    default:
      return "hair";
  }
}, Yj = {
  None: "None",
  Dot: "Dotted",
  Dash: "Dashed",
  Double: "Double",
  DashDot: "DashDot",
  DashDotDot: "DashDotDot",
  SlantDashDot: "SlantDashDot"
}, Xj = ["Dashed", "DashDot", "DashDotDot"], qj = {
  None: "none",
  Solid: "solid",
  Gray50: "mediumGray",
  Gray75: "darkGray",
  Gray25: "lightGray",
  HorzStripe: "darkHorizontal",
  VertStripe: "darkVertical",
  ReverseDiagStripe: "darkDown",
  DiagStripe: "darkUp",
  DiagCross: "darkGrid",
  ThickDiagCross: "darkTrellis",
  ThinHorzStripe: "lightHorizontal",
  ThinVertStripe: "lightVertical",
  ThinReverseDiagStripe: "lightDown",
  ThinDiagStripe: "lightUp",
  ThinHorzCross: "lightGrid",
  ThinDiagCross: "lightTrellis",
  Gray125: "gray125",
  Gray0625: "gray0625"
}, Zj = {
  Automatic: "general",
  Left: "left",
  Center: "center",
  Right: "right",
  Fill: "fill",
  Justify: "justify",
  CenterAcrossSelection: "centerContinuous",
  Distributed: "distributed",
  JustifyDistributed: "justify"
}, Qj = {
  Automatic: void 0,
  Top: "top",
  Bottom: "bottom",
  Center: "center",
  Justify: "justify",
  Distributed: "distributed",
  JustifyDistributed: "justify"
}, Jj = function(o) {
  return o ? qj[o] || o : "none";
}, Ho = function(o) {
  return o == null ? o : (o.charAt(0) === "#" && (o = o.substr(1)), o.length === 6 ? "FF" + o : o);
}, lp = function(o, t) {
  if (!o)
    return "thin";
  var e = Kj(t), r = Yj[o];
  return o === "Continuous" ? e : e === "medium" && Xj.indexOf(r) !== -1 ? "medium" + r : r.charAt(0).toLowerCase() + r.substr(1);
}, eW = function(o) {
  return Zj[o] || "general";
}, tW = function(o) {
  return Qj[o] || void 0;
}, $u = function(o) {
  return {
    name: "color",
    properties: {
      rawMap: {
        rgb: Ho(o || "#000000")
      }
    }
  };
}, rW = {
  getTemplate: function(o) {
    var t = o.left, e = o.right, r = o.top, n = o.bottom, i = o.diagonal, a = t ? [$u(t.color)] : void 0, s = e ? [$u(e.color)] : void 0, l = r ? [$u(r.color)] : void 0, u = n ? [$u(n.color)] : void 0, c = i ? [$u(i.color)] : void 0;
    return {
      name: "border",
      children: [{
        name: "left",
        properties: { rawMap: { style: t && t.style } },
        children: a
      }, {
        name: "right",
        properties: { rawMap: { style: e && e.style } },
        children: s
      }, {
        name: "top",
        properties: { rawMap: { style: r && r.style } },
        children: l
      }, {
        name: "bottom",
        properties: { rawMap: { style: n && n.style } },
        children: u
      }, {
        name: "diagonal",
        properties: { rawMap: { style: i && i.style } },
        children: c
      }]
    };
  }
}, nW = {
  getTemplate: function(o) {
    return {
      name: "borders",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return rW.getTemplate(t);
      })
    };
  }
}, iW = function(o) {
  var t = ["Context", "LeftToRight", "RightToLeft"], e = t.indexOf(o);
  return Math.max(e, 0);
}, oW = {
  getTemplate: function(o) {
    var t = o.horizontal, e = o.indent, r = o.readingOrder, n = o.rotate, i = o.shrinkToFit, a = o.vertical, s = o.wrapText;
    return {
      name: "alignment",
      properties: {
        rawMap: {
          horizontal: t && eW(t),
          indent: e,
          readingOrder: r && iW(r),
          textRotation: n,
          shrinkToFit: i,
          vertical: a && tW(a),
          wrapText: s
        }
      }
    };
  }
}, aW = {
  getTemplate: function(o) {
    var t = o.protected === !1 ? 0 : 1, e = o.hideFormula === !0 ? 1 : 0;
    return {
      name: "protection",
      properties: {
        rawMap: {
          hidden: e,
          locked: t
        }
      }
    };
  }
}, nO = {
  getTemplate: function(o) {
    var t = o.alignment, e = o.borderId, r = o.fillId, n = o.fontId, i = o.numFmtId, a = o.protection, s = o.xfId, l = [];
    return t && l.push(oW.getTemplate(t)), a && l.push(aW.getTemplate(a)), {
      name: "xf",
      properties: {
        rawMap: {
          applyAlignment: t ? 1 : void 0,
          applyProtection: a ? 1 : void 0,
          applyBorder: e ? 1 : void 0,
          applyFill: r ? 1 : void 0,
          borderId: e,
          fillId: r,
          applyFont: n ? 1 : void 0,
          fontId: n,
          applyNumberFormat: i ? 1 : void 0,
          numFmtId: i,
          xfId: s
        }
      },
      children: l.length ? l : void 0
    };
  }
}, sW = {
  getTemplate: function(o) {
    return {
      name: "cellStyleXfs",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return nO.getTemplate(t);
      })
    };
  }
}, lW = {
  getTemplate: function(o) {
    return {
      name: "cellXfs",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return nO.getTemplate(t);
      })
    };
  }
}, uW = {
  getTemplate: function(o) {
    var t = o.builtinId, e = o.name, r = o.xfId;
    return {
      name: "cellStyle",
      properties: {
        rawMap: {
          builtinId: t,
          name: e,
          xfId: r
        }
      }
    };
  }
}, cW = {
  getTemplate: function(o) {
    return {
      name: "cellStyles",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(t) {
        return uW.getTemplate(t);
      })
    };
  }
}, wh = function() {
  return wh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, wh.apply(this, arguments);
}, _h, _l, Oc, xc, Tc, iO, bh, oO, wy, aO = function(o, t) {
  return o.indexOf("mixedStyle") !== -1 && t > 1 && (o += "_" + t), o;
}, sO = function() {
  _h = { base: 0 }, _l = [], Oc = [{ fontName: "Calibri", colorTheme: "1", family: "2", scheme: "minor" }], xc = [{ patternType: "none" }, { patternType: "gray125" }], Tc = [{ left: void 0, right: void 0, top: void 0, bottom: void 0, diagonal: void 0 }], iO = [{ borderId: 0, fillId: 0, fontId: 0, numFmtId: 0 }], bh = [{ borderId: 0, fillId: 0, fontId: 0, numFmtId: 0, xfId: 0 }], oO = [{ builtinId: 0, name: "Normal", xfId: 0 }];
}, dW = function(o) {
  var t = Jj(o.pattern), e = Ho(o.color), r = Ho(o.patternColor), n = xc.findIndex(function(i) {
    var a = i.patternType, s = i.fgRgb, l = i.bgRgb;
    return !(a != t || s != e || l != r);
  });
  return n === -1 && (n = xc.length, xc.push({ patternType: t, fgRgb: e, bgRgb: r })), n;
}, pW = function(o) {
  if (o = T.utf8_encode(o), sw[o])
    return sw[o];
  var t = _l.findIndex(function(e) {
    return e.formatCode === o;
  });
  return t === -1 ? (t = _l.length + 164, _l.push({ formatCode: o, numFmtId: t })) : t = _l[t].numFmtId, t;
}, hW = function(o) {
  var t = o.borderBottom, e = o.borderTop, r = o.borderLeft, n = o.borderRight, i, a, s, l, u, c, d, p;
  r && (s = lp(r.lineStyle, r.weight), d = Ho(r.color)), n && (l = lp(n.lineStyle, n.weight), p = Ho(n.color)), t && (i = lp(t.lineStyle, t.weight), u = Ho(t.color)), e && (a = lp(e.lineStyle, e.weight), c = Ho(e.color));
  var h = Tc.findIndex(function(f) {
    var v = f.left, g = f.right, y = f.top, m = f.bottom;
    if (!v && (s || d) || !g && (l || p) || !y && (a || c) || !m && (i || u))
      return !1;
    var C = v || {}, S = C.style, b = C.color, _ = g || {}, O = _.style, E = _.color, D = y || {}, x = D.style, P = D.color, M = m || {}, F = M.style, I = M.color;
    return !(S != s || b != d || O != l || E != p || x != a || P != c || F != i || I != u);
  });
  return h === -1 && (h = Tc.length, Tc.push({
    left: {
      style: s,
      color: d
    },
    right: {
      style: l,
      color: p
    },
    top: {
      style: a,
      color: c
    },
    bottom: {
      style: i,
      color: u
    },
    diagonal: {
      style: void 0,
      color: void 0
    }
  })), h;
}, fW = function(o) {
  var t = o.fontName, e = t === void 0 ? "Calibri" : t, r = o.color, n = o.size, i = o.bold, a = o.italic, s = o.outline, l = o.shadow, u = o.strikeThrough, c = o.underline, d = o.family, p = o.verticalAlign, h = e && T.utf8_encode(e), f = Ho(r), v = cj(d), g = c ? c.toLocaleLowerCase() : void 0, y = p ? p.toLocaleLowerCase() : void 0, m = Oc.findIndex(function(C) {
    return !(C.fontName != h || C.color != f || C.size != n || C.bold != i || C.italic != a || C.outline != s || C.shadow != l || C.strikeThrough != u || C.underline != g || C.verticalAlign != y || // @ts-ignore
    C.family != v);
  });
  return m === -1 && (m = Oc.length, Oc.push({
    fontName: h,
    color: f,
    size: n,
    bold: i,
    italic: a,
    outline: s,
    shadow: l,
    strikeThrough: u,
    underline: g,
    verticalAlign: y,
    family: v != null ? v.toString() : void 0
  })), m;
}, vW = function(o) {
  var t = o.alignment, e = o.borders, r = o.font, n = o.interior, i = o.numberFormat, a = o.protection, s = o.id, l = 0, u = 0, c = 0, d = 0;
  s && (s = aO(s, wy), _h[s] == null && (n && (l = dW(n)), e && (u = hW(e)), r && (c = fW(r)), i && (d = pW(i.format)), _h[s] = bh.length, bh.push({
    alignment: t,
    borderId: u || 0,
    fillId: l || 0,
    fontId: c || 0,
    numFmtId: d || 0,
    protection: a,
    xfId: 0
  })));
}, gW = {
  getTemplate: function(o) {
    var t = jj.getTemplate(_l), e = $j.getTemplate(Oc.map(function(l) {
      return wh(wh({}, l), { size: l.size != null ? l.size : o });
    })), r = zj.getTemplate(xc), n = nW.getTemplate(Tc), i = sW.getTemplate(iO), a = lW.getTemplate(bh), s = cW.getTemplate(oO);
    return sO(), {
      name: "styleSheet",
      properties: {
        rawMap: {
          "mc:Ignorable": "x14ac x16r2 xr",
          xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main",
          "xmlns:mc": "http://schemas.openxmlformats.org/markup-compatibility/2006",
          "xmlns:x14ac": "http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac",
          "xmlns:x16r2": "http://schemas.microsoft.com/office/spreadsheetml/2015/02/main",
          "xmlns:xr": "http://schemas.microsoft.com/office/spreadsheetml/2014/revision"
        }
      },
      children: [
        t,
        e,
        r,
        n,
        i,
        a,
        s,
        {
          name: "tableStyles",
          properties: {
            rawMap: {
              count: 0,
              defaultPivotStyle: "PivotStyleLight16",
              defaultTableStyle: "TableStyleMedium2"
            }
          }
        }
      ]
    };
  }
}, yW = function(o, t) {
  return _h[aO(o, t)] || 0;
}, mW = function(o, t) {
  wy = t, wy === 1 && sO(), o.forEach(vW);
}, CW = {
  getTemplate: function(o, t) {
    var e = (t + 1).toString();
    return {
      name: "sheet",
      properties: {
        rawMap: {
          name: o,
          sheetId: e,
          "r:id": "rId" + e
        }
      }
    };
  }
}, SW = {
  getTemplate: function(o) {
    return {
      name: "sheets",
      children: o.map(function(t, e) {
        return CW.getTemplate(t, e);
      })
    };
  }
}, wW = {
  getTemplate: function(o) {
    return {
      name: "workbook",
      properties: {
        prefixedAttributes: [{
          prefix: "xmlns:",
          map: {
            r: "http://schemas.openxmlformats.org/officeDocument/2006/relationships"
          }
        }],
        rawMap: {
          xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main"
        }
      },
      children: [SW.getTemplate(o)]
    };
  }
}, _W = function(o) {
  return Math.ceil((o - 12) / 7 + 1);
}, bW = {
  getTemplate: function(o) {
    var t = o.min, e = o.max, r = o.outlineLevel, n = o.s, i = o.width, a = o.hidden, s = o.bestFit, l = 1, u = "0";
    return i > 1 && (l = _W(i), u = "1"), {
      name: "col",
      properties: {
        rawMap: {
          min: t,
          max: e,
          outlineLevel: r != null ? r : void 0,
          width: l,
          style: n,
          hidden: a ? "1" : "0",
          bestFit: s ? "1" : "0",
          customWidth: u
        }
      }
    };
  }
}, EW = function(o) {
  var t = o.charAt(0).toLowerCase();
  return t === "s" ? "inlineStr" : t;
}, OW = {
  getTemplate: function(o, t, e) {
    var r = o.ref, n = o.data, i = o.styleId, a = n || { type: "empty", value: null }, s = a.type, l = a.value, u = s;
    s === "f" ? u = "str" : s.charAt(0) === s.charAt(0).toUpperCase() && (u = EW(s));
    var c = {
      name: "c",
      properties: {
        rawMap: {
          r,
          t: u === "empty" ? void 0 : u,
          s: i ? yW(i, e) : void 0
        }
      }
    };
    if (u === "empty")
      return c;
    var d;
    return u === "str" && s === "f" ? d = [{
      name: "f",
      textNode: T.escapeString(T.utf8_encode(l))
    }] : u === "inlineStr" ? d = [{
      name: "is",
      children: [{
        name: "t",
        textNode: T.escapeString(T.utf8_encode(l))
      }]
    }] : d = [{
      name: "v",
      textNode: l
    }], Object.assign({}, c, { children: d });
  }
}, xW = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, TW = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, RW = function(o, t) {
  for (var e = [], r = 0, n = 0; n < o.length; n++) {
    var i = o[n];
    i.mergeAcross && (e.push({
      pos: n,
      excelPos: r
    }), r += i.mergeAcross), r++;
  }
  if (e.length)
    for (var n = e.length - 1; n >= 0; n--) {
      for (var a = [], i = o[e[n].pos], s = 1; s <= i.mergeAcross; s++)
        a.push({
          ref: "" + Uc(e[n].excelPos + 1 + s) + (t + 1),
          styleId: i.styleId,
          data: { type: "empty", value: null }
        });
      a.length && o.splice.apply(o, TW([e[n].pos + 1, 0], xW(a)));
    }
}, DW = function(o) {
  var t;
  return ((t = o.data) === null || t === void 0 ? void 0 : t.value) !== "" || o.styleId !== void 0;
}, PW = {
  getTemplate: function(o, t, e) {
    var r = o.collapsed, n = o.hidden, i = o.height, a = o.outlineLevel, s = o.cells, l = s === void 0 ? [] : s;
    RW(l, t);
    var u = l.filter(DW).map(function(c, d) {
      return OW.getTemplate(c, d, e);
    });
    return {
      name: "row",
      properties: {
        rawMap: {
          r: t + 1,
          collapsed: r ? "1" : "0",
          hidden: n ? "1" : "0",
          ht: i,
          customHeight: i != null ? "1" : "0",
          spans: "1:1",
          outlineLevel: a || void 0
        }
      },
      children: u
    };
  }
}, AW = {
  getTemplate: function(o) {
    return {
      name: "mergeCell",
      properties: {
        rawMap: {
          ref: o
        }
      }
    };
  }
}, MW = function(o, t, e) {
  var r = [], n = [];
  o.forEach(function(s, l) {
    var u = s.cells, c = 0, d;
    u.forEach(function(p, h) {
      var f = h + c + 1, v = Uc(f), g = l + 1;
      if (p.mergeAcross) {
        c += p.mergeAcross;
        var y = Uc(h + c + 1);
        r.push("" + v + g + ":" + y + g);
      }
      t[f - 1] || (t[f - 1] = {});
      var m = p.collapsibleRanges;
      m && m.forEach(function(C) {
        n.push([f + C[0], f + C[1]]);
      }), d = t[f - 1], d.min = f, d.max = f, p.ref = "" + v + g;
    });
  }), n.sort(function(s, l) {
    return s[0] !== l[0] ? s[0] - l[0] : l[1] - s[1];
  });
  var i = /* @__PURE__ */ new Map(), a = /* @__PURE__ */ new Map();
  return n.filter(function(s) {
    var l = s.toString(), u = i.get(l);
    return u ? !1 : (i.set(l, !0), !0);
  }).forEach(function(s) {
    var l = t.find(function(c) {
      return c.min == s[0] && c.max == s[1];
    }), u = a.get(s[0]);
    t.push({
      min: s[0],
      max: s[1],
      outlineLevel: e ? void 0 : u || 1,
      width: (l || { width: 100 }).width
    }), a.set(s[0], (u || 0) + 1);
  }), r;
}, IW = function(o) {
  return !o || o !== "Portrait" && o !== "Landscape" ? "portrait" : o.toLocaleLowerCase();
}, FW = function(o) {
  if (o == null)
    return 1;
  var t = ["Letter", "Letter Small", "Tabloid", "Ledger", "Legal", "Statement", "Executive", "A3", "A4", "A4 Small", "A5", "A6", "B4", "B5", "Folio", "Envelope", "Envelope DL", "Envelope C5", "Envelope B5", "Envelope C3", "Envelope C4", "Envelope C6", "Envelope Monarch", "Japanese Postcard", "Japanese Double Postcard"], e = t.indexOf(o);
  return e === -1 ? 1 : e + 1;
}, LW = function(o) {
  return function(t) {
    return o.length && t.push({
      name: "cols",
      children: o.map(function(e) {
        return bW.getTemplate(e);
      })
    }), t;
  };
}, NW = function(o, t) {
  return function(e) {
    return o.length && e.push({
      name: "sheetData",
      children: o.map(function(r, n) {
        return PW.getTemplate(r, n, t);
      })
    }), e;
  };
}, GW = function(o) {
  return function(t) {
    return o.length && t.push({
      name: "mergeCells",
      properties: {
        rawMap: {
          count: o.length
        }
      },
      children: o.map(function(e) {
        return AW.getTemplate(e);
      })
    }), t;
  };
}, kW = function(o) {
  return function(t) {
    var e = o.top, r = e === void 0 ? 0.75 : e, n = o.right, i = n === void 0 ? 0.7 : n, a = o.bottom, s = a === void 0 ? 0.75 : a, l = o.left, u = l === void 0 ? 0.7 : l, c = o.header, d = c === void 0 ? 0.3 : c, p = o.footer, h = p === void 0 ? 0.3 : p;
    return t.push({
      name: "pageMargins",
      properties: {
        rawMap: { bottom: s, footer: h, header: d, left: u, right: i, top: r }
      }
    }), t;
  };
}, VW = function(o) {
  return function(t) {
    return o && t.push({
      name: "pageSetup",
      properties: {
        rawMap: {
          horizontalDpi: 0,
          verticalDpi: 0,
          orientation: IW(o.orientation),
          paperSize: FW(o.pageSize)
        }
      }
    }), t;
  };
}, BW = function(o) {
  var t = {
    "&[Page]": "&P",
    "&[Pages]": "&N",
    "&[Date]": "&D",
    "&[Time]": "&T",
    "&[Tab]": "&A",
    "&[Path]": "&Z",
    "&[File]": "&F"
  };
  return T.iterateObject(t, function(e, r) {
    o = o.replace(e, r);
  }), o;
}, HW = function(o) {
  return o === "Center" ? "C" : o === "Right" ? "R" : "L";
}, jW = function(o, t) {
  return t && (o += "&amp;&quot;", o += t.fontName || "Calibri", t.bold !== t.italic ? o += t.bold ? ",Bold" : ",Italic" : t.bold ? o += ",Bold Italic" : o += ",Regular", o += "&quot;", t.size && (o += "&amp;" + t.size), t.strikeThrough && (o += "&amp;S"), t.underline && (o += "&amp;" + (t.underline === "Double" ? "E" : "U")), t.color && (o += "&amp;K" + t.color.replace("#", "").toUpperCase())), o;
}, WW = function(o) {
  return o.reduce(function(t, e) {
    var r = HW(e.position), n = jW(t + "&amp;" + r, e.font);
    return "" + n + T.escapeString(BW(e.value));
  }, "");
}, $W = function(o) {
  var t = ["all", "first", "even"], e = [];
  return t.forEach(function(r) {
    var n = o[r], i = r === "all" ? "odd" : r;
    !n || !n.header && !n.footer || T.iterateObject(n, function(a, s) {
      var l = "" + a.charAt(0).toUpperCase() + a.slice(1);
      s && e.push({
        name: "" + i + l,
        properties: {
          rawMap: {
            "xml:space": "preserve"
          }
        },
        textNode: WW(s)
      });
    });
  }), e;
}, UW = function(o) {
  return function(t) {
    if (!o)
      return t;
    var e = o.first != null ? 1 : 0, r = o.even != null ? 1 : 0;
    return t.push({
      name: "headerFooter",
      properties: {
        rawMap: {
          differentFirst: e,
          differentOddEven: r
        }
      },
      children: $W(o)
    }), t;
  };
}, zW = function(o) {
  return function(t) {
    return nt.worksheetImages.get(o) && t.push({
      name: "drawing",
      properties: {
        rawMap: {
          "r:id": "rId1"
        }
      }
    }), t;
  };
}, KW = function() {
  return function(o) {
    return o.push({
      name: "sheetPr",
      children: [{
        name: "outlinePr",
        properties: {
          rawMap: {
            summaryBelow: 0
          }
        }
      }]
    }), o;
  };
}, YW = function(o) {
  return function(t) {
    var e = o.reduce(function(r, n) {
      return n.outlineLevel && n.outlineLevel > r ? n.outlineLevel : r;
    }, 0);
    return t.push({
      name: "sheetFormatPr",
      properties: {
        rawMap: {
          baseColWidth: 10,
          defaultRowHeight: 16,
          outlineLevelRow: e || void 0
        }
      }
    }), t;
  };
}, XW = {
  getTemplate: function(o) {
    var t = o.worksheet, e = o.currentSheet, r = o.config, n = r.margins, i = n === void 0 ? {} : n, a = r.pageSetup, s = r.headerFooterConfig, l = r.suppressColumnOutline, u = t.table, c = u.rows, d = u.columns, p = d && d.length ? MW(c, d, !!l) : [], h = T.compose(KW(), YW(c), LW(d), NW(c, e + 1), GW(p), kW(i), VW(a), UW(s), zW(e)), f = h([]);
    return {
      name: "worksheet",
      properties: {
        prefixedAttributes: [{
          prefix: "xmlns:",
          map: {
            r: "http://schemas.openxmlformats.org/officeDocument/2006/relationships"
          }
        }],
        rawMap: {
          xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main"
        }
      },
      children: f
    };
  }
}, qW = {
  getTemplate: function(o) {
    var t = o.Id, e = o.Type, r = o.Target;
    return {
      name: "Relationship",
      properties: {
        rawMap: {
          Id: t,
          Type: e,
          Target: r
        }
      }
    };
  }
}, up = {
  getTemplate: function(o) {
    var t = o.map(function(e) {
      return qW.getTemplate(e);
    });
    return {
      name: "Relationships",
      properties: {
        rawMap: {
          xmlns: "http://schemas.openxmlformats.org/package/2006/relationships"
        }
      },
      children: t
    };
  }
}, ZW = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, pw = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, nt = (
  /** @class */
  function() {
    function o() {
    }
    return o.createExcel = function(t, e, r) {
      return this.addSheetName(e), mW(t, this.sheetNames.length), this.createWorksheet(e, r);
    }, o.buildImageMap = function(t, e, r, n, i) {
      var a = this.sheetNames.length, s = this.images.get(t.id);
      (!t.position || !t.position.row || !t.position.column) && (t.position || (t.position = {}), t.position = Object.assign({}, t.position, {
        row: e,
        column: n.indexOf(r) + 1
      }));
      var l = t;
      if (dj(l, n), pj(l, i), s) {
        var u = s.find(function(c) {
          return c.sheetId === a;
        });
        u ? u.image.push(l) : s.push({
          sheetId: a,
          image: [l]
        });
      } else
        this.images.set(l.id, [{ sheetId: a, image: [l] }]), this.workbookImageIds.set(l.id, { type: l.imageType, index: this.workbookImageIds.size });
      this.buildSheetImageMap(a, l);
    }, o.buildSheetImageMap = function(t, e) {
      var r = this.worksheetImageIds.get(t);
      r || (r = /* @__PURE__ */ new Map(), this.worksheetImageIds.set(t, r));
      var n = this.worksheetImages.get(t);
      n ? (n.push(e), r.get(e.id) || r.set(e.id, { index: r.size, type: e.imageType })) : (this.worksheetImages.set(t, [e]), r.set(e.id, { index: 0, type: e.imageType }));
    }, o.addSheetName = function(t) {
      for (var e = T.escapeString(t.name) || "", r = ""; this.sheetNames.indexOf("" + e + r) !== -1; )
        if (r === "")
          r = "_1";
        else {
          var n = parseInt(r.slice(1), 10);
          r = "_" + (n + 1);
        }
      t.name = "" + e + r, this.sheetNames.push(t.name);
    }, o.getStringPosition = function(t) {
      return this.sharedStrings.has(t) ? this.sharedStrings.get(t) : (this.sharedStrings.set(t, this.sharedStrings.size), this.sharedStrings.size - 1);
    }, o.resetFactory = function() {
      this.sharedStrings = /* @__PURE__ */ new Map(), this.images = /* @__PURE__ */ new Map(), this.worksheetImages = /* @__PURE__ */ new Map(), this.workbookImageIds = /* @__PURE__ */ new Map(), this.worksheetImageIds = /* @__PURE__ */ new Map(), this.sheetNames = [], this.factoryMode = is.SINGLE_SHEET;
    }, o.createWorkbook = function() {
      return an(wW.getTemplate(this.sheetNames));
    }, o.createStylesheet = function(t) {
      return an(gW.getTemplate(t));
    }, o.createSharedStrings = function() {
      return an(Vj.getTemplate(this.sharedStrings));
    }, o.createCore = function(t) {
      return an(gj.getTemplate(t));
    }, o.createContentTypes = function(t) {
      return an(mj.getTemplate(t));
    }, o.createRels = function() {
      var t = up.getTemplate([{
        Id: "rId1",
        Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",
        Target: "xl/workbook.xml"
      }, {
        Id: "rId2",
        Type: "http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",
        Target: "docProps/core.xml"
      }]);
      return an(t);
    }, o.createTheme = function() {
      return an(Gj.getTemplate());
    }, o.createWorkbookRels = function(t) {
      var e = new Array(t).fill(void 0).map(function(n, i) {
        return {
          Id: "rId" + (i + 1),
          Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",
          Target: "worksheets/sheet" + (i + 1) + ".xml"
        };
      }), r = up.getTemplate(pw(pw([], ZW(e)), [
        {
          Id: "rId" + (t + 1),
          Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",
          Target: "theme/theme1.xml"
        },
        {
          Id: "rId" + (t + 2),
          Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",
          Target: "styles.xml"
        },
        {
          Id: "rId" + (t + 3),
          Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",
          Target: "sharedStrings.xml"
        }
      ]));
      return an(r);
    }, o.createDrawing = function(t) {
      return an(xj.getTemplate({ sheetIndex: t }));
    }, o.createDrawingRel = function(t) {
      var e = this, r = this.worksheetImageIds.get(t), n = [];
      return r.forEach(function(i, a) {
        n.push({
          Id: "rId" + (i.index + 1),
          Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",
          Target: "../media/image" + (e.workbookImageIds.get(a).index + 1) + "." + i.type
        });
      }), an(up.getTemplate(n));
    }, o.createWorksheetDrawingRel = function(t) {
      var e = up.getTemplate([{
        Id: "rId1",
        Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",
        Target: "../drawings/drawing" + (t + 1) + ".xml"
      }]);
      return an(e);
    }, o.createWorksheet = function(t, e) {
      return an(XW.getTemplate({
        worksheet: t,
        currentSheet: this.sheetNames.length - 1,
        config: e
      }));
    }, o.sharedStrings = /* @__PURE__ */ new Map(), o.sheetNames = [], o.images = /* @__PURE__ */ new Map(), o.worksheetImages = /* @__PURE__ */ new Map(), o.workbookImageIds = /* @__PURE__ */ new Map(), o.worksheetImageIds = /* @__PURE__ */ new Map(), o.factoryMode = is.SINGLE_SHEET, o;
  }()
), QW = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), JW = (
  /** @class */
  function(o) {
    QW(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createExcel = function(e) {
      var r = this, n = r.excelStyles, i = r.config;
      return nt.createExcel(n, e, i);
    }, t.prototype.getDataTypeForValue = function(e) {
      return e === void 0 ? "empty" : this.isNumerical(e) ? "n" : "s";
    }, t.prototype.getType = function(e, r, n) {
      if (this.isFormula(n))
        return "f";
      if (r && r.dataType)
        switch (r.dataType.toLocaleLowerCase()) {
          case "formula":
            return "f";
          case "string":
            return "s";
          case "number":
            return "n";
          case "datetime":
            return "d";
          case "error":
            return "e";
          case "boolean":
            return "b";
          default:
            console.warn("AG Grid: Unrecognized data type for excel export [" + r.id + ".dataType=" + r.dataType + "]");
        }
      return e;
    }, t.prototype.addImage = function(e, r, n) {
      if (this.config.addImageToCell) {
        var i = this.config.addImageToCell(e, r, n);
        if (i)
          return nt.buildImageMap(i.image, e, r, this.columnsToExport, this.config.rowHeight), i;
      }
    }, t.prototype.createCell = function(e, r, n, i) {
      var a = this.getStyleById(e);
      !(a != null && a.dataType) && r === "s" && i && (n = i);
      var s = this.getType(r, a, n) || r;
      return {
        styleId: a ? e : void 0,
        data: {
          type: s,
          value: this.getCellValue(s, n)
        }
      };
    }, t.prototype.createMergedCell = function(e, r, n, i) {
      var a = n == null ? "" : n;
      return {
        styleId: this.getStyleById(e) ? e : void 0,
        data: {
          type: r,
          value: r === "s" ? nt.getStringPosition(a).toString() : n
        },
        mergeAcross: i
      };
    }, t.prototype.getCellValue = function(e, r) {
      if (r == null)
        return nt.getStringPosition("").toString();
      switch (e) {
        case "s":
          return r === "" ? "" : nt.getStringPosition(r).toString();
        case "f":
          return r.slice(1);
        case "n":
          return Number(r).toString();
        default:
          return r;
      }
    }, t;
  }(rO)
), e3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Eh = function() {
  return Eh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Eh.apply(this, arguments);
}, Ni = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, _y = function(o) {
  var t = o.data, e = o.fontSize, r = e === void 0 ? 11 : e, n = o.author, i = n === void 0 ? "AG Grid" : n, a = nt.images.size > 0;
  if (hr.addFolders([
    "_rels/",
    "docProps/",
    "xl/",
    "xl/theme/",
    "xl/_rels/",
    "xl/worksheets/"
  ]), a) {
    hr.addFolders([
      "xl/worksheets/_rels",
      "xl/drawings/",
      "xl/drawings/_rels",
      "xl/media/"
    ]);
    var s = 0;
    nt.images.forEach(function(d) {
      var p = d[0].image[0], h = p.imageType;
      hr.addFile("xl/media/image" + ++s + "." + h, p.base64, !0);
    });
  }
  if (!t || t.length === 0) {
    console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."), nt.resetFactory();
    return;
  }
  var l = t.length, u = 0;
  t.forEach(function(d, p) {
    hr.addFile("xl/worksheets/sheet" + (p + 1) + ".xml", d), a && nt.worksheetImages.get(p) && r3(p, u++);
  }), hr.addFile("xl/workbook.xml", nt.createWorkbook()), hr.addFile("xl/styles.xml", nt.createStylesheet(r)), hr.addFile("xl/sharedStrings.xml", nt.createSharedStrings()), hr.addFile("xl/theme/theme1.xml", nt.createTheme()), hr.addFile("xl/_rels/workbook.xml.rels", nt.createWorkbookRels(l)), hr.addFile("docProps/core.xml", nt.createCore(i)), hr.addFile("[Content_Types].xml", nt.createContentTypes(l)), hr.addFile("_rels/.rels", nt.createRels()), nt.resetFactory();
  var c = o.mimeType || "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";
  return hr.getContent(c);
}, t3 = function(o) {
  var t = o.fileName, e = t === void 0 ? "export.xlsx" : t, r = _y(o);
  r && Ym.download(e, r);
}, r3 = function(o, t) {
  var e = "xl/drawings", r = e + "/drawing" + (t + 1) + ".xml", n = e + "/_rels/drawing" + (t + 1) + ".xml.rels", i = "xl/worksheets/_rels/sheet" + (o + 1) + ".xml.rels";
  hr.addFile(n, nt.createDrawingRel(o)), hr.addFile(r, nt.createDrawing(o)), hr.addFile(i, nt.createWorksheetDrawingRel(t));
}, n3 = (
  /** @class */
  function(o) {
    e3(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.exportMode = "xlsx", e;
    }
    return t.prototype.postConstruct = function() {
      this.setBeans({
        gridSerializer: this.gridSerializer,
        gridOptionsService: this.gridOptionsService
      });
    }, t.prototype.getMergedParams = function(e) {
      var r = this.gridOptionsService.get("defaultExcelExportParams");
      return Object.assign({}, r, e);
    }, t.prototype.getData = function(e) {
      return this.setExportMode(e.exportMode || "xlsx"), o.prototype.getData.call(this, e);
    }, t.prototype.export = function(e) {
      if (this.isExportSuppressed())
        return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."), "";
      var r = this.getMergedParams(e), n = this.getData(r), i = {
        data: [n],
        fontSize: r.fontSize,
        author: r.author,
        mimeType: r.mimeType
      }, a = this.packageFile(i);
      return a && Ym.download(this.getFileName(r.fileName), a), n;
    }, t.prototype.exportDataAsExcel = function(e) {
      return this.export(e);
    }, t.prototype.getDataAsExcel = function(e) {
      var r = this.getMergedParams(e), n = this.getData(r);
      if (e && e.exportMode === "xml")
        return n;
      var i = {
        data: [n],
        fontSize: r.fontSize,
        author: r.author,
        mimeType: r.mimeType
      };
      return this.packageFile(i);
    }, t.prototype.setFactoryMode = function(e, r) {
      r === void 0 && (r = "xlsx");
      var n = r === "xlsx" ? nt : Cy;
      n.factoryMode = e;
    }, t.prototype.getFactoryMode = function(e) {
      var r = e === "xlsx" ? nt : Cy;
      return r.factoryMode;
    }, t.prototype.getSheetDataForExcel = function(e) {
      var r = this.getMergedParams(e), n = this.getData(r);
      return n;
    }, t.prototype.getMultipleSheetsAsExcel = function(e) {
      return _y(e);
    }, t.prototype.exportMultipleSheetsAsExcel = function(e) {
      return t3(e);
    }, t.prototype.getDefaultFileName = function() {
      return "export." + this.getExportMode();
    }, t.prototype.getDefaultFileExtension = function() {
      return this.getExportMode();
    }, t.prototype.createSerializingSession = function(e) {
      var r = this, n = r.columnModel, i = r.valueService, a = r.gridOptionsService, s = r.valueFormatterService, l = r.valueParserService, u = this.getExportMode() === "xlsx", c = "ag-grid";
      e.sheetName != null && (c = T.utf8_encode(e.sheetName.toString().substr(0, 31)));
      var d = Eh(Eh({}, e), { sheetName: c, columnModel: n, valueService: i, gridOptionsService: a, valueFormatterService: s, valueParserService: l, headerRowHeight: e.headerRowHeight || e.rowHeight, baseExcelStyles: this.gridOptionsService.get("excelStyles") || [], styleLinker: this.styleLinker.bind(this) });
      return new (u ? JW : vj)(d);
    }, t.prototype.styleLinker = function(e) {
      var r = e.rowType, n = e.rowIndex, i = e.value, a = e.column, s = e.columnGroup, l = e.node, u = r === es.HEADER, c = r === es.HEADER_GROUPING, d = u ? a : s, p = [];
      if (u || c)
        return p.push("header"), c && p.push("headerGroup"), d && (p = p.concat(ud.getHeaderClassesFromColDef(d.getDefinition(), this.gridOptionsService, a || null, s || null))), p;
      var h = this.gridOptionsService.get("excelStyles"), f = ["cell"];
      if (!h || !h.length)
        return f;
      var v = h.map(function(g) {
        return g.id;
      });
      return this.stylingService.processAllCellClasses(a.getDefinition(), {
        value: i,
        data: l.data,
        node: l,
        colDef: a.getDefinition(),
        column: a,
        rowIndex: n,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context
      }, function(g) {
        v.indexOf(g) > -1 && f.push(g);
      }), f.sort(function(g, y) {
        return v.indexOf(g) < v.indexOf(y) ? -1 : 1;
      });
    }, t.prototype.isExportSuppressed = function() {
      return this.gridOptionsService.is("suppressExcelExport");
    }, t.prototype.setExportMode = function(e) {
      this.exportMode = e;
    }, t.prototype.getExportMode = function() {
      return this.exportMode;
    }, t.prototype.packageFile = function(e) {
      if (this.getExportMode() === "xml") {
        var r = e.mimeType || "application/vnd.ms-excel";
        return new Blob(["\uFEFF", e.data[0]], { type: r });
      }
      return _y(e);
    }, Ni([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ni([
      w("valueService")
    ], t.prototype, "valueService", void 0), Ni([
      w("stylingService")
    ], t.prototype, "stylingService", void 0), Ni([
      w("gridSerializer")
    ], t.prototype, "gridSerializer", void 0), Ni([
      w("gridOptionsService")
    ], t.prototype, "gridOptionsService", void 0), Ni([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), Ni([
      w("valueParserService")
    ], t.prototype, "valueParserService", void 0), Ni([
      V
    ], t.prototype, "postConstruct", null), t = Ni([
      q("excelCreator")
    ], t), t;
  }(zE)
), i3 = "30.0.6", o3 = {
  version: i3,
  moduleName: Z.ExcelExportModule,
  beans: [
    // beans in this module
    n3,
    // these beans are part of CSV Export module
    XE,
    YE
  ],
  dependantModules: [
    Xm,
    cr
  ]
}, a3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Uu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, gi;
(function(o) {
  o[o.EXPANDED = 0] = "EXPANDED", o[o.COLLAPSED = 1] = "COLLAPSED", o[o.INDETERMINATE = 2] = "INDETERMINATE";
})(gi || (gi = {}));
var s3 = (
  /** @class */
  function(o) {
    a3(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.preConstruct = function() {
      this.setTemplate(
        /* html */
        `<div class="ag-filter-toolpanel-search" role="presentation">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>
            </div>`
      );
    }, t.prototype.postConstruct = function() {
      var e = this.localeService.getLocaleTextFunc();
      this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)), this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput", "Filter Columns Input")), this.createExpandIcons(), this.setExpandState(gi.EXPANDED), this.addManagedListener(this.eExpand, "click", this.onExpandClicked.bind(this)), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.showOrHideOptions.bind(this));
    }, t.prototype.init = function(e) {
      this.params = e, this.columnModel.isReady() && this.showOrHideOptions();
    }, t.prototype.createExpandIcons = function() {
      this.eExpand.appendChild(this.eExpandChecked = T.createIconNoSpan("columnSelectOpen", this.gridOptionsService)), this.eExpand.appendChild(this.eExpandUnchecked = T.createIconNoSpan("columnSelectClosed", this.gridOptionsService)), this.eExpand.appendChild(this.eExpandIndeterminate = T.createIconNoSpan("columnSelectIndeterminate", this.gridOptionsService));
    }, t.prototype.showOrHideOptions = function() {
      var e = !this.params.suppressFilterSearch, r = !this.params.suppressExpandAll, n = this.localeService.getLocaleTextFunc();
      this.eFilterTextField.setInputPlaceholder(n("searchOoo", "Search..."));
      var i = function(s) {
        return s.getOriginalParent() && s.isFilterAllowed();
      }, a = this.columnModel.getAllGridColumns().some(i);
      T.setDisplayed(this.eFilterTextField.getGui(), e), T.setDisplayed(this.eExpand, r && a);
    }, t.prototype.onSearchTextChanged = function() {
      var e = this;
      this.onSearchTextChangedDebounced || (this.onSearchTextChangedDebounced = T.debounce(function() {
        e.dispatchEvent({ type: "searchChanged", searchText: e.eFilterTextField.getValue() });
      }, 300)), this.onSearchTextChangedDebounced();
    }, t.prototype.onExpandClicked = function() {
      var e = this.currentExpandState === gi.EXPANDED ? { type: "collapseAll" } : { type: "expandAll" };
      this.dispatchEvent(e);
    }, t.prototype.setExpandState = function(e) {
      this.currentExpandState = e, T.setDisplayed(this.eExpandChecked, this.currentExpandState === gi.EXPANDED), T.setDisplayed(this.eExpandUnchecked, this.currentExpandState === gi.COLLAPSED), T.setDisplayed(this.eExpandIndeterminate, this.currentExpandState === gi.INDETERMINATE);
    }, Uu([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Uu([
      G("eExpand")
    ], t.prototype, "eExpand", void 0), Uu([
      G("eFilterTextField")
    ], t.prototype, "eFilterTextField", void 0), Uu([
      jl
    ], t.prototype, "preConstruct", null), Uu([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), l3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Oo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, lO = (
  /** @class */
  function(o) {
    l3(t, o);
    function t(e) {
      e === void 0 && (e = !1);
      var r = o.call(this, t.TEMPLATE) || this;
      return r.expanded = !1, r.hideHeader = e, r;
    }
    return t.prototype.postConstruct = function() {
      this.eExpandChecked = T.createIconNoSpan("columnSelectOpen", this.gridOptionsService), this.eExpandUnchecked = T.createIconNoSpan("columnSelectClosed", this.gridOptionsService), this.eExpand.appendChild(this.eExpandChecked), this.eExpand.appendChild(this.eExpandUnchecked);
    }, t.prototype.setColumn = function(e) {
      var r = this;
      this.column = e, this.eFilterName.innerText = this.columnModel.getDisplayNameForColumn(this.column, "filterToolPanel", !1) || "", this.addManagedListener(this.eFilterToolPanelHeader, "click", this.toggleExpanded.bind(this)), this.addManagedListener(this.eFilterToolPanelHeader, "keydown", function(n) {
        n.key === H.ENTER && r.toggleExpanded();
      }), this.addManagedListener(this.eventService, R.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this)), this.addInIcon("filter", this.eFilterIcon, this.column), T.setDisplayed(this.eFilterIcon, this.isFilterActive(), { skipAriaHidden: !0 }), T.setDisplayed(this.eExpandChecked, !1), this.hideHeader ? (T.setDisplayed(this.eFilterToolPanelHeader, !1), this.eFilterToolPanelHeader.removeAttribute("tabindex")) : this.eFilterToolPanelHeader.setAttribute("tabindex", "0"), this.addManagedListener(this.column, Me.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_FILTER_DESTROYED, this.onFilterDestroyed.bind(this));
    }, t.prototype.getColumn = function() {
      return this.column;
    }, t.prototype.getColumnFilterName = function() {
      return this.columnModel.getDisplayNameForColumn(this.column, "filterToolPanel", !1);
    }, t.prototype.addCssClassToTitleBar = function(e) {
      this.eFilterToolPanelHeader.classList.add(e);
    }, t.prototype.addInIcon = function(e, r, n) {
      if (r != null) {
        var i = T.createIconNoSpan(e, this.gridOptionsService, n);
        r.appendChild(i);
      }
    }, t.prototype.isFilterActive = function() {
      return this.filterManager.isFilterActive(this.column);
    }, t.prototype.onFilterChanged = function() {
      T.setDisplayed(this.eFilterIcon, this.isFilterActive(), { skipAriaHidden: !0 }), this.dispatchEvent({ type: Me.EVENT_FILTER_CHANGED });
    }, t.prototype.onFilterDestroyed = function(e) {
      this.expanded && e.source === "api" && e.column.getId() === this.column.getId() && this.columnModel.getPrimaryColumn(this.column) && (this.removeFilterElement(), this.addFilterElement());
    }, t.prototype.toggleExpanded = function() {
      this.expanded ? this.collapse() : this.expand();
    }, t.prototype.expand = function() {
      this.expanded || (this.expanded = !0, T.setAriaExpanded(this.eFilterToolPanelHeader, !0), T.setDisplayed(this.eExpandChecked, !0), T.setDisplayed(this.eExpandUnchecked, !1), this.addFilterElement());
    }, t.prototype.addFilterElement = function() {
      var e = this, r = T.loadTemplate(
        /* html */
        '<div class="ag-filter-toolpanel-instance-filter"></div>'
      ), n = this.filterManager.getOrCreateFilterWrapper(this.column, "TOOLBAR");
      if (n) {
        var i = n.filterPromise, a = n.guiPromise;
        i == null || i.then(function(s) {
          e.underlyingFilter = s, s && a.then(function(l) {
            l && r.appendChild(l), e.agFilterToolPanelBody.appendChild(r), s.afterGuiAttached && s.afterGuiAttached({ container: "toolPanel" });
          });
        });
      }
    }, t.prototype.collapse = function() {
      var e, r;
      this.expanded && (this.expanded = !1, T.setAriaExpanded(this.eFilterToolPanelHeader, !1), this.removeFilterElement(), T.setDisplayed(this.eExpandChecked, !1), T.setDisplayed(this.eExpandUnchecked, !0), (r = (e = this.underlyingFilter) === null || e === void 0 ? void 0 : e.afterGuiDetached) === null || r === void 0 || r.call(e));
    }, t.prototype.removeFilterElement = function() {
      T.clearElement(this.agFilterToolPanelBody);
    }, t.prototype.isExpanded = function() {
      return this.expanded;
    }, t.prototype.refreshFilter = function(e) {
      var r;
      if (this.expanded) {
        var n = this.underlyingFilter;
        n && (e ? typeof n.refreshVirtualList == "function" && n.refreshVirtualList() : (r = n.afterGuiDetached) === null || r === void 0 || r.call(n));
      }
    }, t.prototype.onFilterOpened = function(e) {
      e.source === "COLUMN_MENU" && e.column === this.column && this.expanded && this.collapse();
    }, t.TEMPLATE = `
        <div class="ag-filter-toolpanel-instance">
            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <span ref="eFilterName" class="ag-header-cell-text"></span>
                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>
            </div>
            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>
        </div>`, Oo([
      G("eFilterToolPanelHeader")
    ], t.prototype, "eFilterToolPanelHeader", void 0), Oo([
      G("eFilterName")
    ], t.prototype, "eFilterName", void 0), Oo([
      G("agFilterToolPanelBody")
    ], t.prototype, "agFilterToolPanelBody", void 0), Oo([
      G("eFilterIcon")
    ], t.prototype, "eFilterIcon", void 0), Oo([
      G("eExpand")
    ], t.prototype, "eExpand", void 0), Oo([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Oo([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Oo([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), u3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), cp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Sa = (
  /** @class */
  function(o) {
    u3(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this) || this;
      return s.columnGroup = e, s.childFilterComps = r, s.depth = i, s.expandedCallback = n, s.showingColumn = a, s;
    }
    return t.prototype.preConstruct = function() {
      var e = {
        cssIdentifier: "filter-toolpanel",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { filterGroupComp: e });
    }, t.prototype.init = function() {
      var e = this;
      this.setGroupTitle(), this.filterGroupComp.setAlignItems("stretch"), this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-" + this.depth), this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-" + this.depth + "-header"), this.childFilterComps.forEach(function(r) {
        e.filterGroupComp.addItem(r), r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-" + (e.depth + 1) + "-header");
      }), this.refreshFilterClass(), this.addExpandCollapseListeners(), this.addFilterChangedListeners(), this.setupTooltip();
    }, t.prototype.setupTooltip = function() {
      var e = this;
      if (this.showingColumn) {
        var r = function() {
          var n = e.columnGroup.getColDef().headerTooltip;
          e.setTooltip(n);
        };
        r(), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, r);
      }
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "filterToolPanelColumnGroup", e;
    }, t.prototype.addCssClassToTitleBar = function(e) {
      this.filterGroupComp.addCssClassToTitleBar(e);
    }, t.prototype.refreshFilters = function(e) {
      this.childFilterComps.forEach(function(r) {
        r instanceof t ? r.refreshFilters(e) : r.refreshFilter(e);
      });
    }, t.prototype.isColumnGroup = function() {
      return this.columnGroup instanceof qe;
    }, t.prototype.isExpanded = function() {
      return this.filterGroupComp.isExpanded();
    }, t.prototype.getChildren = function() {
      return this.childFilterComps;
    }, t.prototype.getFilterGroupName = function() {
      return this.filterGroupName ? this.filterGroupName : "";
    }, t.prototype.getFilterGroupId = function() {
      return this.columnGroup.getId();
    }, t.prototype.hideGroupItem = function(e, r) {
      this.filterGroupComp.hideItem(e, r);
    }, t.prototype.hideGroup = function(e) {
      this.setDisplayed(!e);
    }, t.prototype.forEachToolPanelFilterChild = function(e) {
      this.childFilterComps.forEach(function(r) {
        r instanceof lO && e(r);
      });
    }, t.prototype.addExpandCollapseListeners = function() {
      var e = this, r = this.isColumnGroup() ? function() {
        return e.expandedCallback();
      } : function() {
        return e.forEachToolPanelFilterChild(function(i) {
          return i.expand();
        });
      }, n = this.isColumnGroup() ? function() {
        return e.expandedCallback();
      } : function() {
        return e.forEachToolPanelFilterChild(function(i) {
          return i.collapse();
        });
      };
      this.addManagedListener(this.filterGroupComp, Ci.EVENT_EXPANDED, r), this.addManagedListener(this.filterGroupComp, Ci.EVENT_COLLAPSED, n);
    }, t.prototype.getColumns = function() {
      return this.columnGroup instanceof qe ? this.columnGroup.getLeafColumns() : [this.columnGroup];
    }, t.prototype.addFilterChangedListeners = function() {
      var e = this;
      this.getColumns().forEach(function(r) {
        e.addManagedListener(r, Me.EVENT_FILTER_CHANGED, function() {
          return e.refreshFilterClass();
        });
      }), this.columnGroup instanceof qe || this.addManagedListener(this.eventService, R.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this));
    }, t.prototype.refreshFilterClass = function() {
      var e = this.getColumns(), r = function() {
        return e.some(function(n) {
          return n.isFilterActive();
        });
      };
      this.filterGroupComp.addOrRemoveCssClass("ag-has-filter", r());
    }, t.prototype.onFilterOpened = function(e) {
      e.source === "COLUMN_MENU" && e.column === this.columnGroup && this.isExpanded() && this.collapse();
    }, t.prototype.expand = function() {
      this.filterGroupComp.toggleGroupExpand(!0);
    }, t.prototype.collapse = function() {
      this.filterGroupComp.toggleGroupExpand(!1);
    }, t.prototype.setGroupTitle = function() {
      this.filterGroupName = this.columnGroup instanceof qe ? this.getColumnGroupName(this.columnGroup) : this.getColumnName(this.columnGroup), this.filterGroupComp.setTitle(this.filterGroupName || "");
    }, t.prototype.getColumnGroupName = function(e) {
      return this.columnModel.getDisplayNameForProvidedColumnGroup(null, e, "filterToolPanel");
    }, t.prototype.getColumnName = function(e) {
      return this.columnModel.getDisplayNameForColumn(e, "filterToolPanel", !1);
    }, t.prototype.destroyFilters = function() {
      this.childFilterComps = this.destroyBeans(this.childFilterComps), T.clearElement(this.getGui());
    }, t.prototype.destroy = function() {
      this.destroyFilters(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-filter-toolpanel-group-wrapper">
            <ag-group-component ref="filterGroupComp"></ag-group-component>
        </div>`, cp([
      G("filterGroupComp")
    ], t.prototype, "filterGroupComp", void 0), cp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), cp([
      jl
    ], t.prototype, "preConstruct", null), cp([
      V
    ], t.prototype, "init", null), t;
  }(te)
), c3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, d3 = (
  /** @class */
  function(o) {
    c3(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.initialised = !1, e.filterGroupComps = [], e;
    }
    return t.prototype.init = function(e) {
      var r = this;
      this.initialised = !0;
      var n = {
        suppressExpandAll: !1,
        suppressFilterSearch: !1,
        suppressSyncLayoutWithGrid: !1,
        api: this.gridApi,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context
      };
      T.mergeDeep(n, e), this.params = n, this.params.suppressSyncLayoutWithGrid || this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, function() {
        return r.onColumnsChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, function() {
        return r.onColumnsChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_TOOL_PANEL_VISIBLE_CHANGED, function(i) {
        i.key === "filters" && r.refreshFilters(i.visible);
      }), this.columnModel.isReady() && this.onColumnsChanged();
    }, t.prototype.onColumnsChanged = function() {
      var e = this.columnModel.isPivotMode(), r = !this.params.suppressSyncLayoutWithGrid && !e;
      r ? this.syncFilterLayout() : this.buildTreeFromProvidedColumnDefs();
    }, t.prototype.syncFilterLayout = function() {
      this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this));
    }, t.prototype.buildTreeFromProvidedColumnDefs = function() {
      var e = this.columnModel.getPrimaryColumnTree();
      this.recreateFilters(e);
    }, t.prototype.setFiltersLayout = function(e) {
      var r = this.toolPanelColDefService.createColumnTree(e);
      this.recreateFilters(r);
    }, t.prototype.recreateFilters = function(e) {
      var r = this, n = this.gridOptionsService.getDocument().activeElement, i = this.getExpansionState();
      this.destroyFilters(), this.filterGroupComps = this.recursivelyAddComps(e, 0, i);
      var a = this.filterGroupComps.length;
      a && (this.filterGroupComps.forEach(function(s) {
        return r.appendChild(s);
      }), this.setFirstAndLastVisible(0, a - 1)), T.exists(this.searchFilterText) && this.searchFilters(this.searchFilterText), this.fireExpandedEvent(), this.getGui().contains(n) && n.focus();
    }, t.prototype.recursivelyAddComps = function(e, r, n) {
      var i = this;
      return T.flatten(e.map(function(a) {
        if (a instanceof qe)
          return T.flatten(i.recursivelyAddFilterGroupComps(a, r, n));
        var s = a;
        if (!i.shouldDisplayFilter(s))
          return [];
        var l = r === 0, u = new lO(l);
        if (i.createBean(u), u.setColumn(s), n.get(s.getId()) && u.expand(), r > 0)
          return u;
        var c = i.createBean(new Sa(s, [u], i.onGroupExpanded.bind(i), r, !0));
        return c.addCssClassToTitleBar("ag-filter-toolpanel-header"), n.get(c.getFilterGroupId()) || c.collapse(), c;
      }));
    }, t.prototype.recursivelyAddFilterGroupComps = function(e, r, n) {
      if (this.filtersExistInChildren(e.getChildren())) {
        var i = e.getColGroupDef();
        if (i && i.suppressFiltersToolPanel)
          return [];
        var a = e.isPadding() ? r : r + 1, s = T.flatten(this.recursivelyAddComps(e.getChildren(), a, n));
        if (e.isPadding())
          return s;
        var l = new Sa(e, s, this.onGroupExpanded.bind(this), r, !1);
        return this.createBean(l), l.addCssClassToTitleBar("ag-filter-toolpanel-header"), n.get(l.getFilterGroupId()) === !1 && l.collapse(), [l];
      }
    }, t.prototype.filtersExistInChildren = function(e) {
      var r = this;
      return e.some(function(n) {
        return n instanceof qe ? r.filtersExistInChildren(n.getChildren()) : r.shouldDisplayFilter(n);
      });
    }, t.prototype.shouldDisplayFilter = function(e) {
      var r = e.getColDef() && e.getColDef().suppressFiltersToolPanel;
      return e.isFilterAllowed() && !r;
    }, t.prototype.getExpansionState = function() {
      var e = /* @__PURE__ */ new Map(), r = function(n) {
        e.set(n.getFilterGroupId(), n.isExpanded()), n.getChildren().forEach(function(i) {
          i instanceof Sa ? r(i) : e.set(i.getColumn().getId(), i.isExpanded());
        });
      };
      return this.filterGroupComps.forEach(r), e;
    }, t.prototype.refresh = function() {
    }, t.prototype.setVisible = function(e) {
      o.prototype.setDisplayed.call(this, e), e && !this.initialised && this.init(this.params);
    }, t.prototype.expandFilterGroups = function(e, r) {
      var n = [], i = function(s) {
        var l = s.getFilterGroupId(), u = !r || T.includes(r, l);
        u && (e && s.isColumnGroup() ? s.expand() : s.collapse(), n.push(l)), s.getChildren().forEach(function(c) {
          c instanceof Sa && i(c);
        });
      };
      if (this.filterGroupComps.forEach(i), this.onGroupExpanded(), r) {
        var a = r.filter(function(s) {
          return n.indexOf(s) < 0;
        });
        a.length > 0 && console.warn("AG Grid: unable to find groups for these supplied groupIds:", a);
      }
    }, t.prototype.expandFilters = function(e, r) {
      var n = [], i = function(s) {
        if (s instanceof Sa) {
          var l = !1;
          return s.getChildren().forEach(function(d) {
            var p = i(d);
            p && (e ? (s.expand(), l = !0) : s.isColumnGroup() || s.collapse());
          }), l;
        }
        var u = s.getColumn().getColId(), c = !r || T.includes(r, u);
        return c && (e ? s.expand() : s.collapse(), n.push(u)), c;
      };
      if (this.filterGroupComps.forEach(i), this.onGroupExpanded(), r) {
        var a = r.filter(function(s) {
          return n.indexOf(s) < 0;
        });
        a.length > 0 && console.warn("AG Grid: unable to find columns for these supplied colIds:", a);
      }
    }, t.prototype.onGroupExpanded = function() {
      this.fireExpandedEvent();
    }, t.prototype.fireExpandedEvent = function() {
      var e = 0, r = 0, n = function(a) {
        a.isColumnGroup() && (a.isExpanded() ? e++ : r++, a.getChildren().forEach(function(s) {
          s instanceof Sa && n(s);
        }));
      };
      this.filterGroupComps.forEach(n);
      var i;
      e > 0 && r > 0 ? i = gi.INDETERMINATE : r > 0 ? i = gi.COLLAPSED : i = gi.EXPANDED, this.dispatchEvent({ type: "groupExpanded", state: i });
    }, t.prototype.performFilterSearch = function(e) {
      this.searchFilterText = T.exists(e) ? e.toLowerCase() : null, this.searchFilters(this.searchFilterText);
    }, t.prototype.searchFilters = function(e) {
      var r = function(s) {
        return !T.exists(e) || s.toLowerCase().indexOf(e) !== -1;
      }, n = function(s, l) {
        if (!(s instanceof Sa))
          return r(s.getColumnFilterName() || "");
        var u = s.getChildren(), c = r(s.getFilterGroupName()), d = l || c;
        if (d) {
          s.hideGroup(!1);
          for (var p = 0; p < u.length; p++)
            n(u[p], d), s.hideGroupItem(!1, p);
          return !0;
        }
        var h = !1;
        return u.forEach(function(f, v) {
          var g = n(f, l);
          s.hideGroupItem(!g, v), g && (h = !0);
        }), s.hideGroup(!h), h;
      }, i, a;
      this.filterGroupComps.forEach(function(s, l) {
        n(s, !1), i === void 0 ? s.containsCssClass("ag-hidden") || (i = l, a = l) : !s.containsCssClass("ag-hidden") && a !== l && (a = l);
      }), this.setFirstAndLastVisible(i, a);
    }, t.prototype.setFirstAndLastVisible = function(e, r) {
      this.filterGroupComps.forEach(function(n, i) {
        n.removeCssClass("ag-first-group-visible"), n.removeCssClass("ag-last-group-visible"), i === e && n.addCssClass("ag-first-group-visible"), i === r && n.addCssClass("ag-last-group-visible");
      });
    }, t.prototype.refreshFilters = function(e) {
      this.filterGroupComps.forEach(function(r) {
        return r.refreshFilters(e);
      });
    }, t.prototype.destroyFilters = function() {
      this.filterGroupComps = this.destroyBeans(this.filterGroupComps), T.clearElement(this.getGui());
    }, t.prototype.destroy = function() {
      this.destroyFilters(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = '<div class="ag-filter-list-panel"></div>', dp([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), dp([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), dp([
      w("toolPanelColDefService")
    ], t.prototype, "toolPanelColDefService", void 0), dp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t;
  }(te)
), p3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Rc = function() {
  return Rc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Rc.apply(this, arguments);
}, pp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, h3 = (
  /** @class */
  function(o) {
    p3(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.initialised = !1, e.listenerDestroyFuncs = [], e;
    }
    return t.prototype.init = function(e) {
      this.initialised && (this.listenerDestroyFuncs.forEach(function(a) {
        return a();
      }), this.listenerDestroyFuncs = []), this.initialised = !0;
      var r = {
        suppressExpandAll: !1,
        suppressFilterSearch: !1,
        suppressSyncLayoutWithGrid: !1,
        api: this.gridApi,
        columnApi: this.columnApi
      };
      this.params = Rc(Rc(Rc({}, r), e), { context: this.gridOptionsService.context }), this.filtersToolPanelHeaderPanel.init(this.params), this.filtersToolPanelListPanel.init(this.params);
      var n = this.params.suppressExpandAll, i = this.params.suppressFilterSearch;
      n && i && this.filtersToolPanelHeaderPanel.setDisplayed(!1), this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel, "expandAll", this.onExpandAll.bind(this)), this.addManagedListener(this.filtersToolPanelHeaderPanel, "collapseAll", this.onCollapseAll.bind(this)), this.addManagedListener(this.filtersToolPanelHeaderPanel, "searchChanged", this.onSearchChanged.bind(this)), this.addManagedListener(this.filtersToolPanelListPanel, "groupExpanded", this.onGroupExpanded.bind(this)));
    }, t.prototype.setVisible = function(e) {
      o.prototype.setDisplayed.call(this, e), e && !this.initialised && this.init(this.params);
    }, t.prototype.onExpandAll = function() {
      this.filtersToolPanelListPanel.expandFilterGroups(!0);
    }, t.prototype.onCollapseAll = function() {
      this.filtersToolPanelListPanel.expandFilterGroups(!1);
    }, t.prototype.onSearchChanged = function(e) {
      this.filtersToolPanelListPanel.performFilterSearch(e.searchText);
    }, t.prototype.setFilterLayout = function(e) {
      this.filtersToolPanelListPanel.setFiltersLayout(e);
    }, t.prototype.onGroupExpanded = function(e) {
      this.filtersToolPanelHeaderPanel.setExpandState(e.state);
    }, t.prototype.expandFilterGroups = function(e) {
      this.filtersToolPanelListPanel.expandFilterGroups(!0, e);
    }, t.prototype.collapseFilterGroups = function(e) {
      this.filtersToolPanelListPanel.expandFilterGroups(!1, e);
    }, t.prototype.expandFilters = function(e) {
      this.filtersToolPanelListPanel.expandFilters(!0, e);
    }, t.prototype.collapseFilters = function(e) {
      this.filtersToolPanelListPanel.expandFilters(!1, e);
    }, t.prototype.syncLayoutWithGrid = function() {
      this.filtersToolPanelListPanel.syncFilterLayout();
    }, t.prototype.refresh = function() {
      this.init(this.params);
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-filter-toolpanel">
            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>
            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>
         </div>`, pp([
      G("filtersToolPanelHeaderPanel")
    ], t.prototype, "filtersToolPanelHeaderPanel", void 0), pp([
      G("filtersToolPanelListPanel")
    ], t.prototype, "filtersToolPanelListPanel", void 0), pp([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), pp([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), t;
  }(te)
), f3 = "30.0.6", v3 = {
  version: f3,
  moduleName: Z.FiltersToolPanelModule,
  beans: [],
  agStackComponents: [
    { componentName: "AgFiltersToolPanelHeader", componentClass: s3 },
    { componentName: "AgFiltersToolPanelList", componentClass: d3 }
  ],
  userComponents: [
    { componentName: "agFiltersToolPanel", componentClass: h3 }
  ],
  dependantModules: [
    Qm,
    cr
  ]
}, g3 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yl = (
  /** @class */
  function() {
    function o(t, e, r) {
      this._encode = t, this._decode = e, this._rangeCallback = r;
    }
    return o.prototype.floor = function(t) {
      var e = new Date(t), r = this._encode(e);
      return this._decode(r);
    }, o.prototype.ceil = function(t) {
      var e = new Date(Number(t) - 1), r = this._encode(e);
      return this._decode(r + 1);
    }, o.prototype.range = function(t, e, r) {
      var n, i = (n = this._rangeCallback) === null || n === void 0 ? void 0 : n.call(this, t, e), a = this._encode(r ? this.floor(t) : this.ceil(t)), s = this._encode(r ? this.ceil(e) : this.floor(e));
      if (s < a)
        return [];
      for (var l = [], u = a; u <= s; u++) {
        var c = this._decode(u);
        l.push(c);
      }
      return i == null || i(), l;
    }, o;
  }()
), tn = (
  /** @class */
  function(o) {
    g3(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getOffset = function(e, r) {
      var n = typeof e == "number" || e instanceof Date ? this._encode(new Date(e)) : 0;
      return Math.floor(n) % r;
    }, t.prototype.every = function(e, r) {
      var n = this, i = 0, a, s = (r != null ? r : {}).snapTo, l = s === void 0 ? "start" : s;
      if (typeof l == "string") {
        var u = i;
        a = function(h, f) {
          var v = l === "start" ? h : f;
          return i = n.getOffset(v, e), function() {
            return i = u;
          };
        };
      } else
        typeof l == "number" ? i = this.getOffset(new Date(l), e) : l instanceof Date && (i = this.getOffset(l, e));
      var c = function(h) {
        var f = n._encode(h);
        return Math.floor((f - i) / e);
      }, d = function(h) {
        return n._decode(h * e + i);
      }, p = new Yl(c, d, a);
      return p;
    }, t;
  }(Yl)
);
function y3(o) {
  return o.getTime();
}
function m3(o) {
  return new Date(o);
}
var C3 = new tn(y3, m3);
(/* @__PURE__ */ new Date(0)).getFullYear();
var Ua = 1e3, Xr = Ua * 60, yi = Xr * 60, Yo = yi * 24, gc = Yo * 7, zu = Yo * 30, hp = Yo * 365, uO = (/* @__PURE__ */ new Date()).getTimezoneOffset() * Xr;
function S3(o) {
  return Math.floor((o.getTime() - uO) / Ua);
}
function w3(o) {
  return new Date(uO + o * Ua);
}
var _3 = new tn(S3, w3), cO = (/* @__PURE__ */ new Date()).getTimezoneOffset() * Xr;
function b3(o) {
  return Math.floor((o.getTime() - cO) / Xr);
}
function E3(o) {
  return new Date(cO + o * Xr);
}
var O3 = new tn(b3, E3), dO = (/* @__PURE__ */ new Date()).getTimezoneOffset() * Xr;
function x3(o) {
  return Math.floor((o.getTime() - dO) / yi);
}
function T3(o) {
  return new Date(dO + o * yi);
}
var R3 = new tn(x3, T3);
function D3(o) {
  var t = o.getTimezoneOffset() * 6e4;
  return Math.floor((o.getTime() - t) / Yo);
}
function P3(o) {
  var t = new Date(1970, 0, 1);
  return t.setDate(t.getDate() + o), t;
}
var A3 = new tn(D3, P3);
function hs(o) {
  var t = new Date(2023, 0, 1 + o).getTime();
  function e(n) {
    var i = n.getTime();
    return Math.floor((i - t) / gc);
  }
  function r(n) {
    var i = new Date(t);
    return i.setDate(i.getDate() + n * 7), i;
  }
  return new tn(e, r);
}
var M3 = hs(0);
hs(1);
hs(2);
hs(3);
hs(4);
hs(5);
hs(6);
function I3(o) {
  return o.getFullYear() * 12 + o.getMonth();
}
function F3(o) {
  var t = Math.floor(o / 12), e = o - t * 12;
  return new Date(t, e, 1);
}
var L3 = new tn(I3, F3);
function N3(o) {
  return o.getFullYear();
}
function G3(o) {
  var t = /* @__PURE__ */ new Date();
  return t.setFullYear(o), t.setMonth(0, 1), t.setHours(0, 0, 0, 0), t;
}
var k3 = new tn(N3, G3);
function V3(o) {
  return Math.floor(o.getTime() / Xr);
}
function B3(o) {
  return new Date(o * Xr);
}
new tn(V3, B3);
function H3(o) {
  return Math.floor(o.getTime() / yi);
}
function j3(o) {
  return new Date(o * yi);
}
new tn(H3, j3);
function W3(o) {
  return Math.floor(o.getTime() / Yo);
}
function $3(o) {
  var t = /* @__PURE__ */ new Date(0);
  return t.setUTCDate(t.getUTCDate() + o), t.setUTCHours(0, 0, 0, 0), t;
}
new tn(W3, $3);
function U3(o) {
  return o.getUTCFullYear() * 12 + o.getUTCMonth();
}
function z3(o) {
  var t = Math.floor(o / 12), e = o - t * 12;
  return new Date(Date.UTC(t, e, 1));
}
new tn(U3, z3);
function K3(o) {
  return o.getUTCFullYear();
}
function Y3(o) {
  var t = /* @__PURE__ */ new Date();
  return t.setUTCFullYear(o), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0), t;
}
new tn(K3, Y3);
var X3 = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];
function pO() {
  var o = navigator.userAgent;
  return !X3.some(function(t) {
    return t.test(o);
  });
}
var wt = (
  /** @class */
  function() {
    function o(t) {
      var e = t.document, r = e === void 0 ? window.document : e, n = t.width, i = n === void 0 ? 600 : n, a = t.height, s = a === void 0 ? 300 : a, l = t.domLayer, u = l === void 0 ? !1 : l, c = t.zIndex, d = c === void 0 ? 0 : c, p = t.name, h = p === void 0 ? void 0 : p, f = t.overrideDevicePixelRatio, v = f === void 0 ? void 0 : f;
      this._container = void 0, this._enabled = !0, this._pixelRatio = NaN, this._width = 0, this._height = 0, this.document = r, this.element = r.createElement("canvas"), this.element.width = i, this.element.height = s, this.context = this.element.getContext("2d"), this.imageSource = this.context.canvas;
      var g = this.element.style;
      g.userSelect = "none", g.display = "block", u && (g.position = "absolute", g.zIndex = String(d), g.top = "0", g.left = "0", g.pointerEvents = "none", g.opacity = "1", h && (this.element.id = h)), this.setPixelRatio(v), this.resize(i, s);
    }
    return Object.defineProperty(o.prototype, "container", {
      get: function() {
        return this._container;
      },
      set: function(t) {
        this._container !== t && (this.remove(), t && t.appendChild(this.element), this._container = t);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "enabled", {
      get: function() {
        return this._enabled;
      },
      set: function(t) {
        this.element.style.display = t ? "block" : "none", this._enabled = !!t;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.remove = function() {
      var t = this.element.parentNode;
      t != null && t.removeChild(this.element);
    }, o.prototype.destroy = function() {
      this.element.remove(), this.element.width = 0, this.element.height = 0, this.context.clearRect(0, 0, 0, 0), Object.freeze(this);
    }, o.prototype.snapshot = function() {
    }, o.prototype.clear = function() {
      this.context.save(), this.context.resetTransform(), this.context.clearRect(0, 0, this.width, this.height), this.context.restore();
    }, o.prototype.toImage = function() {
      var t = this.document.createElement("img");
      return t.src = this.getDataURL(), t;
    }, o.prototype.getDataURL = function(t) {
      return this.element.toDataURL(t);
    }, o.prototype.download = function(t, e) {
      e === void 0 && (e = "image/png"), t = (t != null ? t : "").trim() || "image";
      var r = this.getDataURL(e), n = this.document, i = n.createElement("a");
      i.href = r, i.download = t, i.style.display = "none", n.body.appendChild(i), i.click(), n.body.removeChild(i);
    }, Object.defineProperty(o.prototype, "pixelRatio", {
      get: function() {
        return this._pixelRatio;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.setPixelRatio = function(t) {
      var e = t != null ? t : window.devicePixelRatio;
      pO() || (e = 1), o.overrideScale(this.context, e), this._pixelRatio = e;
    }, Object.defineProperty(o.prototype, "pixelated", {
      get: function() {
        return this.element.style.imageRendering === "pixelated";
      },
      set: function(t) {
        this.element.style.imageRendering = t ? "pixelated" : "auto";
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "width", {
      get: function() {
        return this._width;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "height", {
      get: function() {
        return this._height;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.resize = function(t, e) {
      if (t > 0 && e > 0) {
        var r = this, n = r.element, i = r.context, a = r.pixelRatio;
        n.width = Math.round(t * a), n.height = Math.round(e * a), n.style.width = t + "px", n.style.height = e + "px", i.resetTransform(), this._width = t, this._height = e;
      }
    }, Object.defineProperty(o, "textMeasuringContext", {
      get: function() {
        if (this._textMeasuringContext)
          return this._textMeasuringContext;
        var t = document.createElement("canvas");
        return this._textMeasuringContext = t.getContext("2d"), this._textMeasuringContext;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o, "svgText", {
      get: function() {
        if (this._svgText)
          return this._svgText;
        var t = "http://www.w3.org/2000/svg", e = document.createElementNS(t, "svg");
        e.setAttribute("width", "100"), e.setAttribute("height", "100"), e.classList ? e.classList.add("text-measuring-svg") : e.setAttribute("class", "text-measuring-svg"), e.style.position = "absolute", e.style.top = "-1000px", e.style.visibility = "hidden";
        var r = document.createElementNS(t, "text");
        return r.setAttribute("x", "0"), r.setAttribute("y", "30"), r.setAttribute("text", "black"), e.appendChild(r), document.body.appendChild(e), this._svgText = r, r;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o, "has", {
      get: function() {
        if (this._has)
          return this._has;
        var t = navigator.userAgent.indexOf("Chrome") > -1, e = navigator.userAgent.indexOf("Firefox") > -1, r = !t && navigator.userAgent.indexOf("Safari") > -1;
        return this._has = Object.freeze({
          textMetrics: this.textMeasuringContext.measureText("test").actualBoundingBoxDescent !== void 0 && // Firefox implemented advanced TextMetrics object in v74:
          // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584
          // but it's buggy, so we'll keep using the SVG for text measurement in Firefox for now.
          !e && !r,
          getTransform: this.textMeasuringContext.getTransform !== void 0
        }), this._has;
      },
      enumerable: !1,
      configurable: !0
    }), o.measureText = function(t, e, r, n) {
      var i = this.textMeasuringContext;
      return i.font = e, i.textBaseline = r, i.textAlign = n, i.measureText(t);
    }, o.getTextSize = function(t, e) {
      if (this.has.textMetrics) {
        var r = this.textMeasuringContext;
        r.font = e;
        var n = r.measureText(t);
        return {
          width: n.width,
          height: n.actualBoundingBoxAscent + n.actualBoundingBoxDescent
        };
      } else
        return this.measureSvgText(t, e);
    }, o.measureSvgText = function(t, e) {
      var r = this.textSizeCache, n = r[e];
      if (n) {
        var i = n[t];
        if (i)
          return i;
      } else
        r[e] = {};
      var a = this.svgText;
      a.style.font = e, a.textContent = t;
      var s = a.getBBox(), l = {
        width: s.width,
        height: s.height
      };
      return r[e][t] = l, l;
    }, o.overrideScale = function(t, e) {
      var r = 0, n = {
        save: function() {
          this.$save(), r++;
        },
        restore: function() {
          if (r > 0)
            this.$restore(), r--;
          else
            throw new Error("AG Charts - Unable to restore() past depth 0");
        },
        setTransform: function(a, s, l, u, c, d) {
          typeof a == "object" ? this.$setTransform(a) : this.$setTransform(a * e, s * e, l * e, u * e, c * e, d * e);
        },
        resetTransform: function() {
          this.$setTransform(e, 0, 0, e, 0, 0);
        },
        verifyDepthZero: function() {
          if (r !== 0)
            throw new Error("AG Charts - Save/restore depth is non-zero: " + r);
        }
      };
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (t["$" + i] || (t["$" + i] = t[i]), t[i] = n[i]);
    }, o.textSizeCache = {}, o;
  }()
), by = function() {
  return by = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, by.apply(this, arguments);
}, q3 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Ye = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.x = t, this.y = e, this.width = r, this.height = n;
    }
    return o.prototype.clone = function() {
      var t = this, e = t.x, r = t.y, n = t.width, i = t.height;
      return new o(e, r, n, i);
    }, o.prototype.equals = function(t) {
      return this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height;
    }, o.prototype.containsPoint = function(t, e) {
      return t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height;
    }, o.prototype.collidesBBox = function(t) {
      return this.x < t.x + t.width && this.x + this.width > t.x && this.y < t.y + t.height && this.y + this.height > t.y;
    }, o.prototype.isInfinite = function() {
      return Math.abs(this.x) === 1 / 0 || Math.abs(this.y) === 1 / 0 || Math.abs(this.width) === 1 / 0 || Math.abs(this.height) === 1 / 0;
    }, o.prototype.shrink = function(t, e) {
      var r = this, n = function(i, a) {
        switch (i) {
          case "top":
            r.y += a;
          case "bottom":
            r.height -= a;
            break;
          case "left":
            r.x += a;
          case "right":
            r.width -= a;
            break;
          case "vertical":
            r.y += a, r.height -= a * 2;
            break;
          case "horizontal":
            r.x += a, r.width -= a * 2;
            break;
          default:
            r.x += a, r.width -= a * 2, r.y += a, r.height -= a * 2;
        }
      };
      return typeof t == "number" ? n(e, t) : Object.entries(t).forEach(function(i) {
        var a = q3(i, 2), s = a[0], l = a[1];
        return n(s, l);
      }), this;
    }, o.prototype.grow = function(t, e) {
      if (typeof t == "number")
        this.shrink(-t, e);
      else {
        var r = by({}, t);
        for (var n in r)
          r[n] *= -1;
        this.shrink(r);
      }
      return this;
    }, o.merge = function(t) {
      var e = 1 / 0, r = 1 / 0, n = -1 / 0, i = -1 / 0;
      return t.forEach(function(a) {
        a.x < e && (e = a.x), a.y < r && (r = a.y), a.x + a.width > n && (n = a.x + a.width), a.y + a.height > i && (i = a.y + a.height);
      }), new o(e, r, n - e, i - r);
    }, o;
  }()
), hw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Z3 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Ba = (
  /** @class */
  function() {
    function o(t) {
      t === void 0 && (t = [1, 0, 0, 1, 0, 0]), this.elements = t;
    }
    return Object.defineProperty(o.prototype, "e", {
      get: function() {
        return Z3([], hw(this.elements));
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.setElements = function(t) {
      var e = this.elements;
      return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], this;
    }, Object.defineProperty(o.prototype, "identity", {
      get: function() {
        var t = this.elements;
        return t[0] === 1 && t[1] === 0 && t[2] === 0 && t[3] === 1 && t[4] === 0 && t[5] === 0;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.AxB = function(t, e, r) {
      var n = t[0] * e[0] + t[2] * e[1], i = t[1] * e[0] + t[3] * e[1], a = t[0] * e[2] + t[2] * e[3], s = t[1] * e[2] + t[3] * e[3], l = t[0] * e[4] + t[2] * e[5] + t[4], u = t[1] * e[4] + t[3] * e[5] + t[5];
      r = r != null ? r : t, r[0] = n, r[1] = i, r[2] = a, r[3] = s, r[4] = l, r[5] = u;
    }, o.prototype.multiplySelf = function(t) {
      return this.AxB(this.elements, t.elements), this;
    }, o.prototype.multiply = function(t) {
      var e = new Array(6);
      return this.AxB(this.elements, t.elements, e), new o(e);
    }, o.prototype.preMultiplySelf = function(t) {
      return this.AxB(t.elements, this.elements, this.elements), this;
    }, o.prototype.inverse = function() {
      var t = this.elements, e = t[0], r = t[1], n = t[2], i = t[3], a = t[4], s = t[5], l = 1 / (e * i - r * n);
      return e *= l, r *= l, n *= l, i *= l, new o([i, -r, -n, e, n * s - i * a, r * a - e * s]);
    }, o.prototype.inverseTo = function(t) {
      var e = this.elements, r = e[0], n = e[1], i = e[2], a = e[3], s = e[4], l = e[5], u = 1 / (r * a - n * i);
      return r *= u, n *= u, i *= u, a *= u, t.setElements([a, -n, -i, r, i * l - a * s, n * s - r * l]), this;
    }, o.prototype.invertSelf = function() {
      var t = this.elements, e = t[0], r = t[1], n = t[2], i = t[3], a = t[4], s = t[5], l = 1 / (e * i - r * n);
      return e *= l, r *= l, n *= l, i *= l, t[0] = i, t[1] = -r, t[2] = -n, t[3] = e, t[4] = n * s - i * a, t[5] = r * a - e * s, this;
    }, o.prototype.transformPoint = function(t, e) {
      var r = this.elements;
      return {
        x: t * r[0] + e * r[2] + r[4],
        y: t * r[1] + e * r[3] + r[5]
      };
    }, o.prototype.transformBBox = function(t, e) {
      var r = this.elements, n = r[0], i = r[1], a = r[2], s = r[3], l = t.width * 0.5, u = t.height * 0.5, c = t.x + l, d = t.y + u, p = Math.abs(l * n) + Math.abs(u * a), h = Math.abs(l * i) + Math.abs(u * s);
      return e || (e = new Ye(0, 0, 0, 0)), e.x = c * n + d * a + r[4] - p, e.y = c * i + d * s + r[5] - h, e.width = p + p, e.height = h + h, e;
    }, o.prototype.toContext = function(t) {
      if (!this.identity) {
        var e = this.elements;
        t.transform(e[0], e[1], e[2], e[3], e[4], e[5]);
      }
    }, o.flyweight = function(t) {
      return o.instance.setElements(t.elements);
    }, o.updateTransformMatrix = function(t, e, r, n, i, a, s) {
      var l = hw([0, 0], 2), u = l[0], c = l[1], d = e, p = r, h, f;
      d === 1 && p === 1 ? (h = 0, f = 0) : (h = (s == null ? void 0 : s.scalingCenterX) == null ? u : s == null ? void 0 : s.scalingCenterX, f = (s == null ? void 0 : s.scalingCenterY) == null ? c : s == null ? void 0 : s.scalingCenterY);
      var v = n, g = Math.cos(v), y = Math.sin(v), m, C;
      v === 0 ? (m = 0, C = 0) : (m = (s == null ? void 0 : s.rotationCenterX) == null ? u : s == null ? void 0 : s.rotationCenterX, C = (s == null ? void 0 : s.rotationCenterY) == null ? c : s == null ? void 0 : s.rotationCenterY);
      var S = i, b = a, _ = h * (1 - d) - m, O = f * (1 - p) - C;
      return t.setElements([
        g * d,
        y * d,
        -y * p,
        g * p,
        g * _ - y * O + m + S,
        y * _ + g * O + C + b
      ]), t;
    }, o.fromContext = function(t) {
      var e = t.getTransform();
      return new o([e.a, e.b, e.c, e.d, e.e, e.f]);
    }, o.instance = new o(), o;
  }()
), fw = {};
function lo(o) {
  var t, e = o.constructor, r = Object.prototype.hasOwnProperty.call(e, "className") ? e.className : e.name;
  if (!r)
    throw new Error("The " + e + " is missing the 'className' property.");
  var n = ((t = fw[r]) !== null && t !== void 0 ? t : 0) + 1;
  return fw[r] = n, r + "-" + n;
}
var oe;
(function(o) {
  o[o.NONE = 0] = "NONE", o[o.TRIVIAL = 1] = "TRIVIAL", o[o.MINOR = 2] = "MINOR", o[o.MAJOR = 3] = "MAJOR";
})(oe || (oe = {}));
function Q3() {
  try {
    return new Function("return true"), !0;
  } catch (o) {
    return !1;
  }
}
var J3 = Q3();
function ve(o) {
  var t = o != null ? o : {}, e = t.changeCb, r = t.convertor;
  return function(n, i) {
    var a = "__" + i;
    n[i] || (J3 && e == null && r == null ? e2(n, i, a, o) : t2(n, i, a, o));
  };
}
function e2(o, t, e, r) {
  var n = r != null ? r : {}, i = n.redraw, a = i === void 0 ? oe.TRIVIAL : i, s = n.type, l = s === void 0 ? "normal" : s, u = n.checkDirtyOnAssignment, c = u === void 0 ? !1 : u, d = new Function("value", `
        const oldValue = this.` + e + `;
        if (value !== oldValue) {
            this.` + e + ` = value;
            ` + (l === "normal" ? "this.markDirty(this, " + a + ");" : "") + `
            ` + (l === "transform" ? "this.markDirtyTransform(" + a + ");" : "") + `
            ` + (l === "path" ? "if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, " + a + "); }" : "") + `
            ` + (l === "font" ? "if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, " + a + "); }" : "") + `
        }
        ` + (c ? "if (value != null && value._dirty > " + oe.NONE + ") { this.markDirty(value, value._dirty); }" : "") + `
`), p = new Function("return this." + e + ";");
  Object.defineProperty(o, t, {
    set: d,
    get: p,
    enumerable: !0,
    configurable: !0
  });
}
function t2(o, t, e, r) {
  var n = r != null ? r : {}, i = n.redraw, a = i === void 0 ? oe.TRIVIAL : i, s = n.type, l = s === void 0 ? "normal" : s, u = n.changeCb, c = n.convertor, d = n.checkDirtyOnAssignment, p = d === void 0 ? !1 : d, h = function(v) {
    var g = this[e];
    v = c ? c(v) : v, v !== g && (this[e] = v, l === "normal" && this.markDirty(this, a), l === "transform" && this.markDirtyTransform(a), l === "path" && !this._dirtyPath && (this._dirtyPath = !0, this.markDirty(this, a)), l === "font" && !this._dirtyFont && (this._dirtyFont = !0, this.markDirty(this, a)), u && u(this)), p && v != null && v._dirty > oe.NONE && this.markDirty(v, v._dirty);
  }, f = function() {
    return this[e];
  };
  Object.defineProperty(o, t, {
    set: h,
    get: f,
    enumerable: !0,
    configurable: !0
  });
}
var Jm = (
  /** @class */
  function() {
    function o() {
      this._dirty = oe.MAJOR;
    }
    return o.prototype.markDirty = function(t, e) {
      e === void 0 && (e = oe.TRIVIAL), !(this._dirty > e) && (this._dirty = e);
    }, o.prototype.markClean = function(t) {
      this._dirty = oe.NONE;
    }, o.prototype.isDirty = function() {
      return this._dirty > oe.NONE;
    }, o;
  }()
), r2 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ln = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Gi = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, ig = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, og = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, yr;
(function(o) {
  o[o.All = 0] = "All", o[o.None = 1] = "None";
})(yr || (yr = {}));
var vw = function(o) {
  o.parent && (o.parent.dirtyZIndex = !0), o.zIndexChanged();
}, Rf = (
  /** @class */
  function(o) {
    r2(t, o);
    function t(e) {
      var r = e === void 0 ? {} : e, n = r.isVirtual, i = o.call(this) || this;
      return i.serialNumber = t._nextSerialNumber++, i.id = lo(i), i.tag = NaN, i.isContainerNode = !1, i._virtualChildren = [], i._children = [], i.childSet = {}, i.matrix = new Ba(), i.inverseMatrix = new Ba(), i.dirtyTransform = !1, i.scalingX = 1, i.scalingY = 1, i.scalingCenterX = null, i.scalingCenterY = null, i.rotationCenterX = null, i.rotationCenterY = null, i.rotation = 0, i.translationX = 0, i.translationY = 0, i.visible = !0, i.dirtyZIndex = !1, i.zIndex = 0, i.zIndexSubOrder = void 0, i.pointerEvents = yr.All, i.isVirtual = n != null ? n : !1, i;
    }
    return Object.defineProperty(t.prototype, "datum", {
      /**
       * Some arbitrary data bound to the node.
       */
      get: function() {
        var e;
        return this._datum !== void 0 ? this._datum : (e = this._parent) === null || e === void 0 ? void 0 : e.datum;
      },
      set: function(e) {
        this._datum = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype._setLayerManager = function(e) {
      var r, n, i, a;
      this._layerManager = e, this._debug = e == null ? void 0 : e.debug;
      try {
        for (var s = Gi(this._children), l = s.next(); !l.done; l = s.next()) {
          var u = l.value;
          u._setLayerManager(e);
        }
      } catch (p) {
        r = { error: p };
      } finally {
        try {
          l && !l.done && (n = s.return) && n.call(s);
        } finally {
          if (r)
            throw r.error;
        }
      }
      try {
        for (var c = Gi(this._virtualChildren), d = c.next(); !d.done; d = c.next()) {
          var u = d.value;
          u._setLayerManager(e);
        }
      } catch (p) {
        i = { error: p };
      } finally {
        try {
          d && !d.done && (a = c.return) && a.call(c);
        } finally {
          if (i)
            throw i.error;
        }
      }
    }, Object.defineProperty(t.prototype, "layerManager", {
      get: function() {
        return this._layerManager;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "parent", {
      get: function() {
        return this._parent;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "children", {
      get: function() {
        var e, r;
        if (this._virtualChildren.length === 0)
          return this._children;
        var n = og([], ig(this._children));
        try {
          for (var i = Gi(this._virtualChildren), a = i.next(); !a.done; a = i.next()) {
            var s = a.value;
            n.push.apply(n, og([], ig(s.children)));
          }
        } catch (l) {
          e = { error: l };
        } finally {
          try {
            a && !a.done && (r = i.return) && r.call(i);
          } finally {
            if (e)
              throw e.error;
          }
        }
        return n;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "virtualChildren", {
      get: function() {
        return this._virtualChildren;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.hasVirtualChildren = function() {
      return this._virtualChildren.length > 0;
    }, t.prototype.append = function(e) {
      var r, n;
      Array.isArray(e) || (e = [e]);
      try {
        for (var i = Gi(e), a = i.next(); !a.done; a = i.next()) {
          var s = a.value;
          if (s.parent)
            throw new Error(s + " already belongs to another parent: " + s.parent + ".");
          if (s.layerManager)
            throw new Error(s + " already belongs to a scene: " + s.layerManager + ".");
          if (this.childSet[s.id])
            throw new Error("Duplicate " + s.constructor.name + " node: " + s);
          s.isVirtual ? this._virtualChildren.push(s) : this._children.push(s), this.childSet[s.id] = !0, s._parent = this, s._setLayerManager(this.layerManager);
        }
      } catch (l) {
        r = { error: l };
      } finally {
        try {
          a && !a.done && (n = i.return) && n.call(i);
        } finally {
          if (r)
            throw r.error;
        }
      }
      this.dirtyZIndex = !0, this.markDirty(this, oe.MAJOR);
    }, t.prototype.appendChild = function(e) {
      return this.append(e), e;
    }, t.prototype.removeChild = function(e) {
      var r = function() {
        throw new Error("The node to be removed is not a child of this node.");
      };
      if (e.parent !== this && r(), e.isVirtual) {
        var n = this._virtualChildren.indexOf(e);
        n < 0 && r(), this._virtualChildren.splice(n, 1);
      } else {
        var n = this._children.indexOf(e);
        n < 0 && r(), this._children.splice(n, 1);
      }
      return delete this.childSet[e.id], e._parent = void 0, e._setLayerManager(), this.dirtyZIndex = !0, this.markDirty(e, oe.MAJOR), e;
    }, t.prototype.calculateCumulativeMatrix = function() {
      this.computeTransformMatrix();
      for (var e = Ba.flyweight(this.matrix), r = this.parent; r; )
        r.computeTransformMatrix(), e.preMultiplySelf(r.matrix), r = r.parent;
      return e;
    }, t.prototype.transformPoint = function(e, r) {
      var n = this.calculateCumulativeMatrix();
      return n.invertSelf().transformPoint(e, r);
    }, t.prototype.inverseTransformPoint = function(e, r) {
      var n = this.calculateCumulativeMatrix();
      return n.transformPoint(e, r);
    }, t.prototype.transformBBox = function(e) {
      var r = this.calculateCumulativeMatrix();
      return r.invertSelf().transformBBox(e);
    }, t.prototype.inverseTransformBBox = function(e) {
      var r = this.calculateCumulativeMatrix();
      return r.transformBBox(e);
    }, t.prototype.markDirtyTransform = function() {
      this.dirtyTransform = !0, this.markDirty(this, oe.MAJOR);
    }, t.prototype.containsPoint = function(e, r) {
      return !1;
    }, t.prototype.pickNode = function(e, r) {
      var n;
      if (!(!this.visible || this.pointerEvents === yr.None || !this.containsPoint(e, r))) {
        var i = this.children;
        if (i.length > 1e3)
          for (var a = i.length - 1; a >= 0; a--) {
            var s = i[a], l = (n = s.computeTransformedBBox()) === null || n === void 0 ? void 0 : n.containsPoint(e, r), u = l ? s.pickNode(e, r) : void 0;
            if (u)
              return u;
          }
        else if (i.length)
          for (var a = i.length - 1; a >= 0; a--) {
            var u = i[a].pickNode(e, r);
            if (u)
              return u;
          }
        else if (!this.isContainerNode)
          return this;
      }
    }, t.prototype.findNodes = function(e) {
      var r, n, i = e(this) ? [this] : [];
      try {
        for (var a = Gi(this.children), s = a.next(); !s.done; s = a.next()) {
          var l = s.value, u = l.findNodes(e);
          u && i.push.apply(i, og([], ig(u)));
        }
      } catch (c) {
        r = { error: c };
      } finally {
        try {
          s && !s.done && (n = a.return) && n.call(a);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return i;
    }, t.prototype.computeBBox = function() {
    }, t.prototype.computeTransformedBBox = function() {
      var e = this.computeBBox();
      if (e) {
        this.computeTransformMatrix();
        for (var r = Ba.flyweight(this.matrix), n = this.parent; n; )
          n.computeTransformMatrix(), r.preMultiplySelf(n.matrix), n = n.parent;
        return r.transformBBox(e, e), e;
      }
    }, t.prototype.computeTransformMatrix = function() {
      if (this.dirtyTransform) {
        var e = this, r = e.matrix, n = e.scalingX, i = e.scalingY, a = e.rotation, s = e.translationX, l = e.translationY, u = e.scalingCenterX, c = e.scalingCenterY, d = e.rotationCenterX, p = e.rotationCenterY;
        Ba.updateTransformMatrix(r, n, i, a, s, l, {
          scalingCenterX: u,
          scalingCenterY: c,
          rotationCenterX: d,
          rotationCenterY: p
        }), r.inverseTo(this.inverseMatrix), this.dirtyTransform = !1;
      }
    }, t.prototype.render = function(e) {
      var r = e.stats;
      this._dirty = oe.NONE, r && r.nodesRendered++;
    }, t.prototype.clearBBox = function(e) {
      var r = this.computeBBox();
      if (r != null) {
        var n = r.x, i = r.y, a = r.width, s = r.height, l = this.transformPoint(n, i), u = this.transformPoint(n + a, i + s);
        e.clearRect(l.x, l.y, u.x - l.x, u.y - l.y);
      }
    }, t.prototype.markDirty = function(e, r, n) {
      r === void 0 && (r = oe.TRIVIAL), n === void 0 && (n = r), !(this._dirty > r) && (this._dirty === r && r === n || (this._dirty = r, this.parent ? this.parent.markDirty(this, n) : this.layerManager && this.layerManager.markDirty()));
    }, Object.defineProperty(t.prototype, "dirty", {
      get: function() {
        return this._dirty;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.markClean = function(e) {
      var r, n, i, a, s = e != null ? e : {}, l = s.force, u = l === void 0 ? !1 : l, c = s.recursive, d = c === void 0 ? !0 : c;
      if (!(this._dirty === oe.NONE && !u)) {
        if (this._dirty = oe.NONE, d !== !1)
          try {
            for (var p = Gi(this._virtualChildren), h = p.next(); !h.done; h = p.next()) {
              var f = h.value;
              f.markClean({ force: u });
            }
          } catch (y) {
            r = { error: y };
          } finally {
            try {
              h && !h.done && (n = p.return) && n.call(p);
            } finally {
              if (r)
                throw r.error;
            }
          }
        if (d === !0)
          try {
            for (var v = Gi(this._children), g = v.next(); !g.done; g = v.next()) {
              var f = g.value;
              f.markClean({ force: u });
            }
          } catch (y) {
            i = { error: y };
          } finally {
            try {
              g && !g.done && (a = v.return) && a.call(v);
            } finally {
              if (i)
                throw i.error;
            }
          }
      }
    }, t.prototype.visibilityChanged = function() {
    }, Object.defineProperty(t.prototype, "nodeCount", {
      get: function() {
        var e, r, n, i, a = 1, s = this._dirty >= oe.NONE || this.dirtyTransform ? 1 : 0, l = this.visible ? 1 : 0, u = function(v) {
          var g = v.nodeCount, y = g.count, m = g.visibleCount, C = g.dirtyCount;
          a += y, l += m, s += C;
        };
        try {
          for (var c = Gi(this._children), d = c.next(); !d.done; d = c.next()) {
            var p = d.value;
            u(p);
          }
        } catch (v) {
          e = { error: v };
        } finally {
          try {
            d && !d.done && (r = c.return) && r.call(c);
          } finally {
            if (e)
              throw e.error;
          }
        }
        try {
          for (var h = Gi(this._virtualChildren), f = h.next(); !f.done; f = h.next()) {
            var p = f.value;
            u(p);
          }
        } catch (v) {
          n = { error: v };
        } finally {
          try {
            f && !f.done && (i = h.return) && i.call(h);
          } finally {
            if (n)
              throw n.error;
          }
        }
        return { count: a, visibleCount: l, dirtyCount: s };
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.zIndexChanged = function() {
    }, t._nextSerialNumber = 0, ln([
      ve({ type: "transform" })
    ], t.prototype, "scalingX", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "scalingY", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "scalingCenterX", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "scalingCenterY", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "rotationCenterX", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "rotationCenterY", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "rotation", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "translationX", void 0), ln([
      ve({ type: "transform" })
    ], t.prototype, "translationY", void 0), ln([
      ve({ redraw: oe.MAJOR, changeCb: function(e) {
        return e.visibilityChanged();
      } })
    ], t.prototype, "visible", void 0), ln([
      ve({
        redraw: oe.TRIVIAL,
        changeCb: vw
      })
    ], t.prototype, "zIndex", void 0), ln([
      ve({
        redraw: oe.TRIVIAL,
        changeCb: vw
      })
    ], t.prototype, "zIndexSubOrder", void 0), t;
  }(Jm)
);
function hO(o, t) {
  var e = 0;
  return typeof o == "number" && typeof t == "number" ? e = o - t : typeof o == "string" && typeof t == "string" ? e = o.localeCompare(t) : o == null && t == null || (o == null ? e = -1 : t == null ? e = 1 : e = String(o).localeCompare(String(t))), e;
}
function fO(o, t, e) {
  var r = function(a) {
    return typeof a == "function" ? a() : a;
  };
  for (var n in o) {
    var i = e(r(o[n]), r(t[n]));
    if (i !== 0)
      return i;
  }
  return 0;
}
var gw = {};
function yw(o, t) {
  gw[t] || (o(), gw[t] = !0);
}
var Ms = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Is = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, pe = {
  debug: function() {
    for (var o = [], t = 0; t < arguments.length; t++)
      o[t] = arguments[t];
    console.log.apply(console, Is([], Ms(o)));
  },
  warn: function(o) {
    for (var t = [], e = 1; e < arguments.length; e++)
      t[e - 1] = arguments[e];
    console.warn.apply(console, Is(["AG Charts - " + o], Ms(t)));
  },
  error: function(o) {
    for (var t = [], e = 1; e < arguments.length; e++)
      t[e - 1] = arguments[e];
    typeof o == "object" ? console.error.apply(console, Is(["AG Charts error", o], Ms(t))) : console.error.apply(console, Is(["AG Charts - " + o], Ms(t)));
  },
  warnOnce: function(o) {
    for (var t = [], e = 1; e < arguments.length; e++)
      t[e - 1] = arguments[e];
    yw(function() {
      return pe.warn.apply(pe, Is([o], Ms(t)));
    }, "Logger.warn: " + o);
  },
  errorOnce: function(o) {
    for (var t = [], e = 1; e < arguments.length; e++)
      t[e - 1] = arguments[e];
    yw(function() {
      return pe.error.apply(pe, Is([o], Ms(t)));
    }, "Logger.warn: " + o);
  }
}, n2 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Oh = function() {
  return Oh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Oh.apply(this, arguments);
}, i2 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, ag = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, mw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, fp = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Se = (
  /** @class */
  function(o) {
    n2(t, o);
    function t(e) {
      var r, n = o.call(this, { isVirtual: e == null ? void 0 : e.isVirtual }) || this;
      n.opts = e, n.opacity = 1, n.lastBBox = void 0;
      var i = e != null ? e : {}, a = i.zIndex, s = i.zIndexSubOrder;
      return n.isContainerNode = !0, a !== void 0 && (n.zIndex = a), s !== void 0 && (n.zIndexSubOrder = s), n.name = (r = n.opts) === null || r === void 0 ? void 0 : r.name, n;
    }
    return t.prototype.zIndexChanged = function() {
      var e;
      this.layer && ((e = this._layerManager) === null || e === void 0 || e.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder));
    }, t.prototype.isLayer = function() {
      return this.layer != null;
    }, t.prototype._setLayerManager = function(e) {
      var r = this, n, i;
      if (this._layerManager && this.layer && (this._layerManager.removeLayer(this.layer), this.layer = void 0), this.layer)
        throw new Error("AG Charts - unable to deregister scene rendering layer!");
      if (o.prototype._setLayerManager.call(this, e), e && (!((n = this.opts) === null || n === void 0) && n.layer)) {
        var a = (i = this.opts) !== null && i !== void 0 ? i : {}, s = a.zIndex, l = a.zIndexSubOrder, u = a.name, c = function() {
          return r.getComputedOpacity();
        }, d = function() {
          return r.getVisibility();
        };
        this.layer = e.addLayer({ zIndex: s, zIndexSubOrder: l, name: u, getComputedOpacity: c, getVisibility: d });
      }
    }, t.prototype.getComputedOpacity = function() {
      var e = 1, r = this;
      do
        r instanceof t && (e *= r.opacity);
      while (r = r.parent);
      return e;
    }, t.prototype.getVisibility = function() {
      for (var e = this, r = this.visible; e = e.parent; )
        e.visible || (r = e.visible);
      return r;
    }, t.prototype.visibilityChanged = function() {
      this.layer && (this.layer.enabled = this.visible);
    }, t.prototype.markDirty = function(e, r) {
      if (r === void 0 && (r = oe.TRIVIAL), this.isVirtual) {
        o.prototype.markDirty.call(this, e, r);
        return;
      }
      var n = r;
      (r < oe.MINOR || this.layer != null) && (n = oe.TRIVIAL), o.prototype.markDirty.call(this, e, r, n);
    }, t.prototype.containsPoint = function(e, r) {
      return !0;
    }, t.prototype.computeBBox = function() {
      return this.computeTransformMatrix(), t.computeBBox(this.children);
    }, t.prototype.computeTransformedBBox = function() {
      return this.computeBBox();
    }, t.prototype.render = function(e) {
      var r, n, i, a, s, l, u, c, d = this.opts, p = d === void 0 ? {} : d, h = p.name, f = h === void 0 ? void 0 : h, v = this._debug, g = v === void 0 ? {} : v, y = g.consoleLog, m = y === void 0 ? !1 : y, C = this, S = C.dirty, b = C.dirtyZIndex, _ = C.layer, O = C.children, E = C.clipRect, D = C.dirtyTransform, x = e.ctx, P = e.forceRender, M = e.clipBBox, F = e.resized, I = e.stats, N = x.getTransform(), k = S >= oe.MINOR || b || F, L = k, B = !1;
      try {
        for (var j = ag(O), J = j.next(); !J.done; J = j.next()) {
          var U = J.value;
          if (L || (L = U.layerManager == null && U.dirty >= oe.TRIVIAL), B || (B = U.layerManager != null && U.dirty >= oe.TRIVIAL), L)
            break;
        }
      } catch (De) {
        r = { error: De };
      } finally {
        try {
          J && !J.done && (n = j.return) && n.call(j);
        } finally {
          if (r)
            throw r.error;
        }
      }
      if (f && m && pe.debug({ name: f, group: this, isDirty: k, isChildDirty: L, dirtyTransform: D, renderCtx: e, forceRender: P }), D)
        P = "dirtyTransform";
      else if (_) {
        var Y = this.computeBBox();
        (this.lastBBox === void 0 || !this.lastBBox.equals(Y)) && (P = "dirtyTransform", this.lastBBox = Y);
      }
      if (!k && !L && !B && !P) {
        if (f && m && I) {
          var X = this.nodeCount;
          pe.debug({ name: f, result: "skipping", renderCtx: e, counts: X, group: this });
        }
        _ && I && (I.layersSkipped++, I.nodesSkipped += this.nodeCount.count), this.markClean({ recursive: !1 });
        return;
      }
      var ne = this.visible;
      if (_) {
        if (x = _.context, x.save(), x.resetTransform(), P !== "dirtyTransform" && (P = L || b), P && _.clear(), M) {
          var K = M.width, ee = M.height, ie = M.x, le = M.y;
          m && pe.debug({ name: f, clipBBox: M, ctxTransform: x.getTransform(), renderCtx: e, group: this }), this.clipCtx(x, ie, le, K, ee);
        }
        x.setTransform(N);
      } else
        x.globalAlpha *= this.opacity;
      if (this.computeTransformMatrix(), this.matrix.toContext(x), E) {
        var ie = E.x, le = E.y, K = E.width, ee = E.height;
        x.save(), m && pe.debug({ name: f, clipRect: E, ctxTransform: x.getTransform(), renderCtx: e, group: this }), this.clipCtx(x, ie, le, K, ee), M = this.matrix.transformBBox(E);
      }
      var Ce = this.hasVirtualChildren();
      b ? (this.sortChildren(O), P !== "dirtyTransform" && (P = !0)) : Ce && this.sortChildren(O);
      var ye = P !== e.forceRender || M !== e.clipBBox || x !== e.ctx, He = ye ? Oh(Oh({}, e), { ctx: x, forceRender: P, clipBBox: M }) : e, $e = 0;
      try {
        for (var Ne = ag(O), ke = Ne.next(); !ke.done; ke = Ne.next()) {
          var U = ke.value;
          if (!U.visible || !ne) {
            U.markClean(), I && ($e += U.nodeCount.count);
            continue;
          }
          if (!P && U.dirty === oe.NONE) {
            I && ($e += U.nodeCount.count);
            continue;
          }
          x.save(), U.render(He), x.restore();
        }
      } catch (De) {
        i = { error: De };
      } finally {
        try {
          ke && !ke.done && (a = Ne.return) && a.call(Ne);
        } finally {
          if (i)
            throw i.error;
        }
      }
      if (I && (I.nodesSkipped += $e), o.prototype.render.call(this, e), E && x.restore(), Ce)
        try {
          for (var Q = ag(this.virtualChildren), fe = Q.next(); !fe.done; fe = Q.next()) {
            var U = fe.value;
            U.markClean({ recursive: "virtual" });
          }
        } catch (De) {
          s = { error: De };
        } finally {
          try {
            fe && !fe.done && (l = Q.return) && l.call(Q);
          } finally {
            if (s)
              throw s.error;
          }
        }
      if (_ && (I && I.layersRendered++, x.restore(), P && _.snapshot(), (c = (u = _.context).verifyDepthZero) === null || c === void 0 || c.call(u)), f && m && I) {
        var X = this.nodeCount;
        pe.debug({ name: f, result: "rendered", skipped: $e, renderCtx: e, counts: X, group: this });
      }
    }, t.prototype.sortChildren = function(e) {
      this.dirtyZIndex = !1, e.sort(function(r, n) {
        var i, a;
        return fO(fp(fp([r.zIndex], mw((i = r.zIndexSubOrder) !== null && i !== void 0 ? i : [void 0, void 0])), [r.serialNumber]), fp(fp([n.zIndex], mw((a = n.zIndexSubOrder) !== null && a !== void 0 ? a : [void 0, void 0])), [n.serialNumber]), hO);
      });
    }, t.prototype.clipCtx = function(e, r, n, i, a) {
      e.beginPath(), e.moveTo(r, n), e.lineTo(r + i, n), e.lineTo(r + i, n + a), e.lineTo(r, n + a), e.closePath(), e.clip();
    }, t.computeBBox = function(e) {
      var r = 1 / 0, n = -1 / 0, i = 1 / 0, a = -1 / 0;
      return e.forEach(function(s) {
        if (s.visible) {
          var l = s.computeTransformedBBox();
          if (l) {
            var u = l.x, c = l.y;
            u < r && (r = u), c < i && (i = c), u + l.width > n && (n = u + l.width), c + l.height > a && (a = c + l.height);
          }
        }
      }), new Ye(r, i, n - r, a - i);
    }, t.prototype.setClipRectInGroupCoordinateSpace = function(e) {
      this.clipRect = e ? this.transformBBox(e) : void 0;
    }, t.className = "Group", i2([
      ve({
        redraw: oe.MAJOR,
        convertor: function(e) {
          return Math.min(1, Math.max(0, e));
        }
      })
    ], t.prototype, "opacity", void 0), t;
  }(Rf)
), Cw = (
  /** @class */
  function() {
    function o(t) {
      var e = t.width, r = e === void 0 ? 600 : e, n = t.height, i = n === void 0 ? 300 : n, a = t.overrideDevicePixelRatio, s = a === void 0 ? void 0 : a;
      this.enabled = !0, this._pixelRatio = NaN, this._width = 0, this._height = 0, this.canvas = new OffscreenCanvas(r, i), this.context = this.canvas.getContext("2d"), this.imageSource = this.canvas.transferToImageBitmap(), this.setPixelRatio(s), this.resize(r, i);
    }
    return o.isSupported = function() {
      return window.OffscreenCanvas != null;
    }, o.prototype.snapshot = function() {
      this.imageSource.close(), this.imageSource = this.canvas.transferToImageBitmap();
    }, o.prototype.destroy = function() {
      this.imageSource.close(), this.canvas.width = 0, this.canvas.height = 0, this.context.clearRect(0, 0, 0, 0);
    }, o.prototype.clear = function() {
      this.context.save(), this.context.resetTransform(), this.context.clearRect(0, 0, this.width, this.height), this.context.restore();
    }, Object.defineProperty(o.prototype, "pixelRatio", {
      get: function() {
        return this._pixelRatio;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.setPixelRatio = function(t) {
      var e = t != null ? t : window.devicePixelRatio;
      pO() || (e = 1), wt.overrideScale(this.context, e), this._pixelRatio = e;
    }, Object.defineProperty(o.prototype, "width", {
      get: function() {
        return this._width;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "height", {
      get: function() {
        return this._height;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.resize = function(t, e) {
      if (t > 0 && e > 0) {
        var r = this, n = r.canvas, i = r.context, a = r.pixelRatio;
        n.width = Math.round(t * a), n.height = Math.round(e * a), i.resetTransform(), this._width = t, this._height = e;
      }
    }, o;
  }()
);
function jn(o) {
  var t = typeof window != "undefined" ? window : (
    // typeof global !== 'undefined' ? (global as any) :
    void 0
  );
  return t == null ? void 0 : t[o];
}
var bl;
(function(o) {
  o[o.SUMMARY = 0] = "SUMMARY", o[o.DETAILED = 1] = "DETAILED";
})(bl || (bl = {}));
var Ha = function() {
  return Ha = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ha.apply(this, arguments);
}, o2 = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, a2 = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, un = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, ki = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Ku = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function s2() {
  var o, t = (o = jn("agChartsSceneDebug")) !== null && o !== void 0 ? o : [];
  typeof t == "string" && (t = [t]);
  var e = [];
  return t.forEach(function(r) {
    r === "layout" ? e.push("seriesRoot", "legend", "root", /.*Axis-\d+-axis.*/) : e.push(r);
  }), e;
}
var eC = (
  /** @class */
  function() {
    function o(t) {
      var e, r, n;
      this.id = lo(this), this.layers = [], this._nextZIndex = 0, this._nextLayerId = 0, this._dirty = !1, this._root = null, this.debug = {
        dirtyTree: !1,
        stats: !1,
        renderBoundingBoxes: !1,
        consoleLog: !1,
        level: bl.SUMMARY,
        sceneNodeHighlight: []
      };
      var i = t.document, a = i === void 0 ? window.document : i, s = t.mode, l = s === void 0 ? (e = jn("agChartsSceneRenderModel")) !== null && e !== void 0 ? e : "adv-composite" : s, u = t.width, c = t.height, d = t.overrideDevicePixelRatio, p = d === void 0 ? void 0 : d;
      this.overrideDevicePixelRatio = p, this.opts = { document: a, mode: l }, this.debug.consoleLog = [!0, "scene"].includes(jn("agChartsDebug")), this.debug.level = ["scene"].includes(jn("agChartsDebug")) ? bl.DETAILED : bl.SUMMARY, this.debug.stats = (r = jn("agChartsSceneStats")) !== null && r !== void 0 ? r : !1, this.debug.dirtyTree = (n = jn("agChartsSceneDirtyTree")) !== null && n !== void 0 ? n : !1, this.debug.sceneNodeHighlight = s2(), this.canvas = new wt({ document: a, width: u, height: c, overrideDevicePixelRatio: p });
    }
    return Object.defineProperty(o.prototype, "container", {
      get: function() {
        return this.canvas.container;
      },
      set: function(t) {
        this.canvas.container = t;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.download = function(t, e) {
      this.canvas.download(t, e);
    }, o.prototype.getDataURL = function(t) {
      return this.canvas.getDataURL(t);
    }, Object.defineProperty(o.prototype, "width", {
      get: function() {
        return this.pendingSize ? this.pendingSize[0] : this.canvas.width;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "height", {
      get: function() {
        return this.pendingSize ? this.pendingSize[1] : this.canvas.height;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.resize = function(t, e) {
      t = Math.round(t), e = Math.round(e);
      var r = t <= 0 || e <= 0, n = isNaN(t) || isNaN(e), i = t === this.width && e === this.height;
      return i || n || r ? !1 : (this.pendingSize = [t, e], this.markDirty(), !0);
    }, o.prototype.addLayer = function(t) {
      var e, r = this.opts.mode, n = ["composite", "dom-composite", "adv-composite"];
      if (n.includes(r)) {
        var i = t.zIndex, a = i === void 0 ? this._nextZIndex++ : i, s = t.name, l = t.zIndexSubOrder, u = t.getComputedOpacity, c = t.getVisibility, d = this, p = d.width, h = d.height, f = d.overrideDevicePixelRatio, v = r === "dom-composite", g = r === "adv-composite", y = !g || !Cw.isSupported() ? new wt({
          document: this.opts.document,
          width: p,
          height: h,
          domLayer: v,
          zIndex: a,
          name: s,
          overrideDevicePixelRatio: f
        }) : new Cw({
          width: p,
          height: h,
          overrideDevicePixelRatio: f
        }), m = {
          id: this._nextLayerId++,
          name: s,
          zIndex: a,
          zIndexSubOrder: l,
          canvas: y,
          getComputedOpacity: u,
          getVisibility: c
        };
        if (a >= this._nextZIndex && (this._nextZIndex = a + 1), this.layers.push(m), this.sortLayers(), v) {
          var C = this.layers.map(function(_) {
            return _.canvas;
          }).filter(function(_) {
            return _ instanceof wt;
          }), S = C.findIndex(function(_) {
            return _ === y;
          }), b = (e = C[S - 1]) !== null && e !== void 0 ? e : this.canvas;
          b.element.insertAdjacentElement("afterend", y.element);
        }
        return this.debug.consoleLog && pe.debug("Scene.addLayer() - layers", this.layers), m.canvas;
      }
    }, o.prototype.removeLayer = function(t) {
      var e = this.layers.findIndex(function(r) {
        return r.canvas === t;
      });
      e >= 0 && (this.layers.splice(e, 1), t.destroy(), this.markDirty(), this.debug.consoleLog && pe.debug("Scene.removeLayer() -  layers", this.layers));
    }, o.prototype.moveLayer = function(t, e, r) {
      var n = this.layers.find(function(i) {
        return i.canvas === t;
      });
      n && (n.zIndex = e, n.zIndexSubOrder = r, this.sortLayers(), this.markDirty(), this.debug.consoleLog && pe.debug("Scene.moveLayer() -  layers", this.layers));
    }, o.prototype.sortLayers = function() {
      this.layers.sort(function(t, e) {
        var r, n;
        return fO(ki(ki([t.zIndex], un((r = t.zIndexSubOrder) !== null && r !== void 0 ? r : [void 0, void 0])), [t.id]), ki(ki([e.zIndex], un((n = e.zIndexSubOrder) !== null && n !== void 0 ? n : [void 0, void 0])), [e.id]), hO);
      });
    }, o.prototype.markDirty = function() {
      this._dirty = !0;
    }, Object.defineProperty(o.prototype, "dirty", {
      get: function() {
        return this._dirty;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "root", {
      get: function() {
        return this._root;
      },
      set: function(t) {
        var e = this;
        t !== this._root && (this._root && this._root._setLayerManager(), this._root = t, t && (t.parent === null && t.layerManager && t.layerManager !== this && (t.layerManager.root = null), t._setLayerManager({
          addLayer: function(r) {
            return e.addLayer(r);
          },
          moveLayer: function() {
            for (var r = [], n = 0; n < arguments.length; n++)
              r[n] = arguments[n];
            return e.moveLayer.apply(e, ki([], un(r)));
          },
          removeLayer: function() {
            for (var r = [], n = 0; n < arguments.length; n++)
              r[n] = arguments[n];
            return e.removeLayer.apply(e, ki([], un(r)));
          },
          markDirty: function() {
            return e.markDirty();
          },
          canvas: this.canvas,
          debug: Ha(Ha({}, this.debug), { consoleLog: this.debug.level >= bl.DETAILED })
        })), this.markDirty());
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.strip = function() {
      var t, e, r = this.layers;
      try {
        for (var n = Ku(r), i = n.next(); !i.done; i = n.next()) {
          var a = i.value;
          a.canvas.destroy(), delete a.canvas;
        }
      } catch (s) {
        t = { error: s };
      } finally {
        try {
          i && !i.done && (e = n.return) && e.call(n);
        } finally {
          if (t)
            throw t.error;
        }
      }
      r.splice(0, r.length), this.root = null, this._dirty = !1, this.canvas.context.resetTransform();
    }, o.prototype.destroy = function() {
      this.container = void 0, this.strip(), this.canvas.destroy(), Object.assign(this, { canvas: void 0, ctx: void 0 });
    }, o.prototype.render = function(t) {
      var e;
      return o2(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S;
        return a2(this, function(b) {
          return r = t != null ? t : {}, n = r.debugSplitTimes, i = n === void 0 ? [performance.now()] : n, a = r.extraDebugStats, s = a === void 0 ? {} : a, l = this, u = l.canvas, c = l.canvas.context, d = l.root, p = l.layers, h = l.pendingSize, f = l.opts.mode, h && ((S = this.canvas).resize.apply(S, ki([], un(h))), this.layers.forEach(function(_) {
            var O;
            return (O = _.canvas).resize.apply(O, ki([], un(h)));
          }), this.pendingSize = void 0), d && !d.visible ? (this._dirty = !1, [
            2
            /*return*/
          ]) : d && !this.dirty ? (this.debug.consoleLog && pe.debug("Scene.render() - no-op", {
            redrawType: oe[d.dirty],
            tree: this.buildTree(d)
          }), this.debugStats(i, c, void 0, s), [
            2
            /*return*/
          ]) : (v = {
            ctx: c,
            forceRender: !0,
            resized: !!h,
            debugNodes: {}
          }, this.debug.stats === "detailed" && (v.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 }), g = !1, (!d || d.dirty >= oe.TRIVIAL) && (g = !0, u.clear()), d && this.debug.dirtyTree && (y = this.buildDirtyTree(d), m = y.dirtyTree, C = y.paths, pe.debug("Scene.render() - dirtyTree", { dirtyTree: m, paths: C })), d && g && (this.debug.consoleLog && pe.debug("Scene.render() - before", {
            redrawType: oe[d.dirty],
            canvasCleared: g,
            tree: this.buildTree(d)
          }), d.visible && (c.save(), d.render(v), c.restore())), f !== "dom-composite" && p.length > 0 && g && (this.sortLayers(), c.save(), c.setTransform(1 / u.pixelRatio, 0, 0, 1 / u.pixelRatio, 0, 0), p.forEach(function(_) {
            var O = _.canvas, E = O.imageSource, D = O.enabled, x = _.getComputedOpacity, P = _.getVisibility;
            !D || !P() || (c.globalAlpha = x(), c.drawImage(E, 0, 0));
          }), c.restore()), (e = c.verifyDepthZero) === null || e === void 0 || e.call(c), this._dirty = !1, this.debugStats(i, c, v.stats, s), this.debugSceneNodeHighlight(c, this.debug.sceneNodeHighlight, v.debugNodes), d && this.debug.consoleLog && pe.debug("Scene.render() - after", {
            redrawType: oe[d.dirty],
            canvasCleared: g,
            tree: this.buildTree(d)
          }), [
            2
            /*return*/
          ]);
        });
      });
    }, o.prototype.debugStats = function(t, e, r, n) {
      var i, a;
      n === void 0 && (n = {});
      var s = performance.now();
      if (this.debug.stats) {
        var l = t[0];
        t.push(s);
        var u = function(k, L) {
          var B = k + L;
          return k + " / " + B + " (" + Math.round(100 * k / B) + "%)";
        }, c = function(k, L) {
          return Math.round((L - k) * 100) / 100 + "ms";
        }, d = r != null ? r : {}, p = d.layersRendered, h = p === void 0 ? 0 : p, f = d.layersSkipped, v = f === void 0 ? 0 : f, g = d.nodesRendered, y = g === void 0 ? 0 : g, m = d.nodesSkipped, C = m === void 0 ? 0 : m, S = t.map(function(k, L) {
          return L > 0 ? c(t[L - 1], k) : null;
        }).filter(function(k) {
          return k != null;
        }).join(" + "), b = Object.entries(n).map(function(k) {
          var L = un(k, 2), B = L[0], j = L[1];
          return B + ": " + j;
        }).join(" ; "), _ = [
          c(l, s) + " (" + S + ")",
          "" + b,
          this.debug.stats === "detailed" ? "Layers: " + u(h, v) : null,
          this.debug.stats === "detailed" ? "Nodes: " + u(y, C) : null
        ].filter(function(k) {
          return k != null;
        }), O = _.map(function(k) {
          return [k, wt.getTextSize(k, e.font)];
        }), E = Math.max.apply(Math, ki([], un(O.map(function(k) {
          var L = un(k, 2), B = L[1].width;
          return B;
        })))), D = O.reduce(function(k, L) {
          var B = un(L, 2), j = B[1].height;
          return k + j;
        }, 0);
        e.save(), e.fillStyle = "white", e.fillRect(0, 0, E, D), e.fillStyle = "black";
        var x = 0;
        try {
          for (var P = Ku(O), M = P.next(); !M.done; M = P.next()) {
            var F = un(M.value, 2), I = F[0], N = F[1];
            x += N.height, e.fillText(I, 2, x);
          }
        } catch (k) {
          i = { error: k };
        } finally {
          try {
            M && !M.done && (a = P.return) && a.call(P);
          } finally {
            if (i)
              throw i.error;
          }
        }
        e.restore();
      }
    }, o.prototype.debugSceneNodeHighlight = function(t, e, r) {
      var n, i, a, s, l, u, c, d = function(x) {
        return function(P) {
          return x.test(P.id) ? !0 : P instanceof Se && P.name != null && x.test(P.name);
        };
      }, p = function(x) {
        return function(P) {
          return x === P.id ? !0 : P instanceof Se && P.name != null && x === P.name;
        };
      };
      try {
        for (var h = Ku(e), f = h.next(); !f.done; f = h.next()) {
          var v = f.value;
          if (!(typeof v == "string" && r[v] != null)) {
            var g = typeof v == "string" ? p(v) : d(v), y = (c = this.root) === null || c === void 0 ? void 0 : c.findNodes(g);
            if (!y || y.length === 0) {
              pe.debug("Scene.render() - no debugging node with id [" + v + "] in scene graph.");
              continue;
            }
            try {
              for (var m = (a = void 0, Ku(y)), C = m.next(); !C.done; C = m.next()) {
                var S = C.value;
                S instanceof Se && S.name ? r[S.name] = S : r[S.id] = S;
              }
            } catch (x) {
              a = { error: x };
            } finally {
              try {
                C && !C.done && (s = m.return) && s.call(m);
              } finally {
                if (a)
                  throw a.error;
              }
            }
          }
        }
      } catch (x) {
        n = { error: x };
      } finally {
        try {
          f && !f.done && (i = h.return) && i.call(h);
        } finally {
          if (n)
            throw n.error;
        }
      }
      t.save();
      try {
        for (var b = Ku(Object.entries(r)), _ = b.next(); !_.done; _ = b.next()) {
          var O = un(_.value, 2), E = O[0], S = O[1], D = S.computeTransformedBBox();
          if (!D) {
            pe.debug("Scene.render() - no bbox for debugged node [" + E + "].");
            continue;
          }
          t.globalAlpha = 0.8, t.strokeStyle = "red", t.lineWidth = 1, t.strokeRect(D.x, D.y, D.width, D.height), t.fillStyle = "red", t.strokeStyle = "white", t.font = "16px sans-serif", t.textBaseline = "top", t.textAlign = "left", t.lineWidth = 2, t.strokeText(E, D.x, D.y, D.width), t.fillText(E, D.x, D.y, D.width);
        }
      } catch (x) {
        l = { error: x };
      } finally {
        try {
          _ && !_.done && (u = b.return) && u.call(b);
        } finally {
          if (l)
            throw l.error;
        }
      }
      t.restore();
    }, o.prototype.buildTree = function(t) {
      var e = this, r, n, i = (r = t instanceof Se ? t.name : null) !== null && r !== void 0 ? r : t.id;
      return Ha(Ha({ name: i, node: t, dirty: oe[t.dirty] }, !((n = t.parent) === null || n === void 0) && n.isVirtual ? {
        virtualParentDirty: oe[t.parent.dirty],
        virtualParent: t.parent
      } : {}), t.children.map(function(a) {
        return e.buildTree(a);
      }).reduce(function(a, s) {
        var l = s.name, u = s.node, c = u.visible, d = u.opacity, p = u.zIndex, h = u.zIndexSubOrder, f = s.node, v = s.virtualParent;
        (!c || d <= 0) && (l = "(" + l + ")"), f instanceof Se && f.isLayer() && (l = "*" + l + "*");
        for (var g = [
          "" + (l != null ? l : "<unknown>"),
          "z: " + p,
          h && "zo: " + h.map(function(C) {
            return typeof C == "function" ? C() + " (fn)" : C;
          }).join(" / "),
          v && "(virtual parent)"
        ].filter(function(C) {
          return !!C;
        }).join(" "), y = g, m = 1; a[y] != null && m < 100; )
          y = g + " (" + m++ + ")";
        return a[y] = s, a;
      }, {}));
    }, o.prototype.buildDirtyTree = function(t) {
      var e = this, r;
      if (t.dirty === oe.NONE)
        return { dirtyTree: {}, paths: [] };
      var n = t.children.map(function(s) {
        return e.buildDirtyTree(s);
      }).filter(function(s) {
        return s.paths.length > 0;
      }), i = (r = t instanceof Se ? t.name : null) !== null && r !== void 0 ? r : t.id, a = n.length === 0 ? [i] : n.map(function(s) {
        return s.paths;
      }).reduce(function(s, l) {
        return s.concat(l);
      }, []).map(function(s) {
        return i + "." + s;
      });
      return {
        dirtyTree: Ha({ name: i, node: t, dirty: oe[t.dirty] }, n.map(function(s) {
          return s.dirtyTree;
        }).filter(function(s) {
          return s.dirty !== void 0;
        }).reduce(function(s, l) {
          var u;
          return s[(u = l.name) !== null && u !== void 0 ? u : "<unknown>"] = l, s;
        }, {})),
        paths: a
      };
    }, o.className = "Scene", o;
  }()
), l2 = (
  /** @class */
  function() {
    function o() {
      this.stops = [];
    }
    return o;
  }()
), kl = Math.PI * 2;
function Or(o) {
  return o %= kl, o += kl, o %= kl, o;
}
function u2(o) {
  return o %= kl, o < -Math.PI ? o += kl : o >= Math.PI && (o -= kl), o;
}
function mn(o) {
  return o / 180 * Math.PI;
}
var c2 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), d2 = (
  /** @class */
  function(o) {
    c2(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.angle = 0, e;
    }
    return t.prototype.createGradient = function(e, r) {
      var n = 90, i = this, a = i.stops, s = i.angle, l = Or(mn(s + n)), u = Math.cos(l), c = Math.sin(l), d = r.width, p = r.height, h = r.x + d * 0.5, f = r.y + p * 0.5;
      if (d > 0 && p > 0) {
        var v = Math.sqrt(p * p + d * d) / 2, g = Math.atan2(p, d), y = void 0;
        l < Math.PI / 2 ? y = l : l < Math.PI ? y = Math.PI - l : l < 3 * Math.PI / 2 ? y = l - Math.PI : y = 2 * Math.PI - l;
        var m = v * Math.abs(Math.cos(y - g)), C = e.createLinearGradient(h + u * m, f + c * m, h - u * m, f - c * m);
        return a.forEach(function(S) {
          C.addColorStop(S.offset, S.color);
        }), C;
      }
      return "black";
    }, t;
  }(l2)
), p2 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Mn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, h2 = /^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i, xi = (
  /** @class */
  function(o) {
    p2(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.lastInstanceId = 0, e.fillOpacity = 1, e.strokeOpacity = 1, e.fill = t.defaultStyles.fill, e.stroke = t.defaultStyles.stroke, e.strokeWidth = t.defaultStyles.strokeWidth, e.lineDash = t.defaultStyles.lineDash, e.lineDashOffset = t.defaultStyles.lineDashOffset, e.lineCap = t.defaultStyles.lineCap, e.lineJoin = t.defaultStyles.lineJoin, e.opacity = t.defaultStyles.opacity, e.fillShadow = t.defaultStyles.fillShadow, e;
    }
    return t.createInstance = function(e) {
      var r = Object.create(e);
      return r._setParent(void 0), r.id = e.id + "-Instance-" + String(++e.lastInstanceId), r;
    }, t.prototype.restoreOwnStyles = function() {
      for (var e = this.constructor.defaultStyles, r = Object.getOwnPropertyNames(e), n = 0, i = r.length; n < i; n++) {
        var a = r[n];
        this[a] = e[a];
      }
    }, t.prototype.restoreAllStyles = function() {
      var e = this.constructor.defaultStyles;
      for (var r in e)
        this[r] = e[r];
    }, t.prototype.restoreOverriddenStyles = function() {
      var e = this.constructor.defaultStyles, r = Object.getPrototypeOf(e);
      for (var n in e)
        Object.prototype.hasOwnProperty.call(e, n) && Object.prototype.hasOwnProperty.call(r, n) && (this[n] = e[n]);
    }, t.prototype.updateGradient = function() {
      var e = this.fill, r;
      if (e != null && e.startsWith("linear-gradient") && (r = h2.exec(e))) {
        for (var n = parseFloat(r[1]), i = [], a = r[2], s = /(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi, l = void 0; l = s.exec(a); )
          i.push(l[0]);
        this.gradient = new d2(), this.gradient.angle = n, this.gradient.stops = i.map(function(u, c) {
          var d = c / (i.length - 1);
          return { offset: d, color: u };
        });
      } else
        this.gradient = void 0;
    }, t.prototype.align = function(e, r) {
      var n, i, a, s = (a = (i = (n = this.layerManager) === null || n === void 0 ? void 0 : n.canvas) === null || i === void 0 ? void 0 : i.pixelRatio) !== null && a !== void 0 ? a : 1, l = Math.round(e * s) / s;
      return r == null ? l : r === 0 ? 0 : r < 1 ? Math.ceil(r * s) / s : Math.round((r + e) * s) / s - l;
    }, t.prototype.fillStroke = function(e) {
      this.renderFill(e), this.renderStroke(e);
    }, t.prototype.renderFill = function(e) {
      if (this.fill) {
        var r = e.globalAlpha;
        this.applyFill(e), this.applyFillAlpha(e), this.applyShadow(e), e.fill(), e.globalAlpha = r;
      }
      e.shadowColor = "rgba(0, 0, 0, 0)";
    }, t.prototype.applyFill = function(e) {
      this.gradient ? e.fillStyle = this.gradient.createGradient(e, this.computeBBox()) : e.fillStyle = this.fill;
    }, t.prototype.applyFillAlpha = function(e) {
      var r = e.globalAlpha;
      e.globalAlpha = r * this.opacity * this.fillOpacity;
    }, t.prototype.applyShadow = function(e) {
      var r, n, i = (n = (r = this.layerManager) === null || r === void 0 ? void 0 : r.canvas.pixelRatio) !== null && n !== void 0 ? n : 1, a = this.fillShadow;
      a != null && a.enabled && (e.shadowColor = a.color, e.shadowOffsetX = a.xOffset * i, e.shadowOffsetY = a.yOffset * i, e.shadowBlur = a.blur * i);
    }, t.prototype.renderStroke = function(e) {
      if (this.stroke && this.strokeWidth) {
        var r = e.globalAlpha;
        e.strokeStyle = this.stroke, e.globalAlpha = r * this.opacity * this.strokeOpacity, e.lineWidth = this.strokeWidth, this.lineDash && e.setLineDash(this.lineDash), this.lineDashOffset && (e.lineDashOffset = this.lineDashOffset), this.lineCap && (e.lineCap = this.lineCap), this.lineJoin && (e.lineJoin = this.lineJoin), e.stroke(), e.globalAlpha = r;
      }
    }, t.prototype.containsPoint = function(e, r) {
      return this.isPointInPath(e, r);
    }, t.defaultStyles = Object.assign({}, {
      fill: "black",
      stroke: void 0,
      strokeWidth: 0,
      lineDash: void 0,
      lineDashOffset: 0,
      lineCap: void 0,
      lineJoin: void 0,
      opacity: 1,
      fillShadow: void 0
    }), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "fillOpacity", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "strokeOpacity", void 0), Mn([
      ve({ redraw: oe.MINOR, changeCb: function(e) {
        return e.updateGradient();
      } })
    ], t.prototype, "fill", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "stroke", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "strokeWidth", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "lineDash", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "lineDashOffset", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "lineCap", void 0), Mn([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "lineJoin", void 0), Mn([
      ve({
        redraw: oe.MINOR,
        convertor: function(e) {
          return Math.min(1, Math.max(0, e));
        }
      })
    ], t.prototype, "opacity", void 0), Mn([
      ve({ redraw: oe.MINOR, checkDirtyOnAssignment: !0 })
    ], t.prototype, "fillShadow", void 0), t;
  }(Rf)
), f2 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Jn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sg = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, lg = "…";
function vp(o) {
  var t = o != null ? o : {}, e = t.redraw, r = e === void 0 ? oe.MAJOR : e, n = t.changeCb;
  return ve({ redraw: r, type: "font", changeCb: n });
}
var ot = (
  /** @class */
  function(o) {
    f2(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.x = 0, e.y = 0, e.lines = [], e.text = void 0, e._dirtyFont = !0, e.fontSize = 10, e.fontFamily = "sans-serif", e.textAlign = t.defaultStyles.textAlign, e.textBaseline = t.defaultStyles.textBaseline, e.lineHeight = void 0, e;
    }
    return t.prototype._setLines = function() {
      this.lines = mO(this.text);
    }, Object.defineProperty(t.prototype, "font", {
      get: function() {
        return (this._font == null || this._dirtyFont) && (this._dirtyFont = !1, this._font = os(this)), this._font;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.computeBBox = function() {
      return wt.has.textMetrics ? vO(this.lines, this.x, this.y, this) : gO(this.lines, this.x, this.y, this);
    }, t.prototype.getLineHeight = function(e) {
      var r, n;
      if (this.lineHeight)
        return this.lineHeight;
      if (wt.has.textMetrics) {
        var i = wt.measureText(e, this.font, this.textBaseline, this.textAlign);
        return ((r = i.fontBoundingBoxAscent) !== null && r !== void 0 ? r : i.emHeightAscent) + ((n = i.fontBoundingBoxDescent) !== null && n !== void 0 ? n : i.emHeightDescent);
      }
      return wt.getTextSize(e, this.font).height;
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.transformPoint(e, r), i = this.computeBBox();
      return i ? i.containsPoint(n.x, n.y) : !1;
    }, t.prototype.render = function(e) {
      var r = e.ctx, n = e.forceRender, i = e.stats;
      if (this.dirty === oe.NONE && !n) {
        i && (i.nodesSkipped += this.nodeCount.count);
        return;
      }
      if (!this.lines.length || !this.layerManager) {
        i && (i.nodesSkipped += this.nodeCount.count);
        return;
      }
      this.computeTransformMatrix(), this.matrix.toContext(r);
      var a = this, s = a.fill, l = a.stroke, u = a.strokeWidth;
      r.font = this.font, r.textAlign = this.textAlign, r.textBaseline = this.textBaseline;
      var c = this.layerManager.canvas.pixelRatio || 1, d = r.globalAlpha;
      if (s) {
        r.fillStyle = s, r.globalAlpha = d * this.opacity * this.fillOpacity;
        var p = this.fillShadow;
        p != null && p.enabled && (r.shadowColor = p.color, r.shadowOffsetX = p.xOffset * c, r.shadowOffsetY = p.yOffset * c, r.shadowBlur = p.blur * c), this.renderLines(function(m, C, S) {
          return r.fillText(m, C, S);
        });
      }
      if (l && u) {
        r.strokeStyle = l, r.lineWidth = u, r.globalAlpha = d * this.opacity * this.strokeOpacity;
        var h = this, f = h.lineDash, v = h.lineDashOffset, g = h.lineCap, y = h.lineJoin;
        f && r.setLineDash(f), v && (r.lineDashOffset = v), g && (r.lineCap = g), y && (r.lineJoin = y), this.renderLines(function(m, C, S) {
          return r.strokeText(m, C, S);
        });
      }
      o.prototype.render.call(this, e);
    }, t.prototype.renderLines = function(e) {
      for (var r = this, n = this, i = n.lines, a = n.x, s = n.y, l = this.lines.map(function(p) {
        return r.getLineHeight(p);
      }), u = l.reduce(function(p, h) {
        return p + h;
      }, 0), c = -(u - l[0]) * yO(this.textBaseline), d = 0; d < i.length; d++)
        e(i[d], a, s + c), c += l[d];
    }, t.wrap = function(e, r, n, i, a) {
      var s, l, u = os(i), c = v2(u), d = e.split(/\r?\n/g);
      if (d.length === 0)
        return "";
      if (a === "never")
        return t.truncateLine(d[0], r, c, !1);
      var p = [], h = 0;
      try {
        for (var f = sg(d), v = f.next(); !v.done; v = f.next()) {
          var g = v.value, y = t.wrapLine(g, r, n, c, i, a, h);
          if (p.push(y.result), h = y.cumulativeHeight, y.truncated)
            break;
        }
      } catch (m) {
        s = { error: m };
      } finally {
        try {
          v && !v.done && (l = f.return) && l.call(f);
        } finally {
          if (s)
            throw s.error;
        }
      }
      return p.join(`
`).trim();
    }, t.wrapLine = function(e, r, n, i, a, s, l) {
      if (e = e.trim(), !e)
        return { result: "", truncated: !1, cumulativeHeight: l };
      var u = i.size(e);
      if (u.width <= r)
        return { result: e, truncated: !1, cumulativeHeight: l + u.height };
      if (u.height > n || i.width("W") > r)
        return { result: "", truncated: !0, cumulativeHeight: l };
      var c = e.split(/\s+/g), d = t.wrapLineSequentially(c, r, n, i, a, s, l);
      l = d.cumulativeHeight;
      var p = d.lines;
      if (!(d.wordsBrokenOrTruncated || d.linesTruncated)) {
        var h = d.lines.length, f = t.wrapLineBalanced(c, r, i, h);
        f.length === p.length && (p = f);
      }
      var v = p.map(function(g) {
        return g.join(" ");
      }).join(`
`);
      return { result: v, truncated: d.linesTruncated, cumulativeHeight: l };
    }, t.breakWord = function(e, r, n, i, a) {
      for (var s, l, u = function(E) {
        return t.punctuationMarks.includes(e[E]);
      }, c = i ? a.width("-") : 0, d = [], p = 0, h = 0, f = 0; f < e.length; f++) {
        var v = e[f], g = a.width(v), y = h === 0 ? r : n;
        p + g + c > y && (d.push(f), p = 0, h++), p += g;
      }
      var m = [], C = 0;
      try {
        for (var S = sg(d), b = S.next(); !b.done; b = S.next()) {
          var _ = b.value, O = e.substring(C, _);
          i && O.length > 0 && !u(_ - 1) && !u(_) && (O += "-"), m.push(O), C = _;
        }
      } catch (E) {
        s = { error: E };
      } finally {
        try {
          b && !b.done && (l = S.return) && l.call(S);
        } finally {
          if (s)
            throw s.error;
        }
      }
      return m.push(e.substring(C)), m;
    }, t.truncateLine = function(e, r, n, i) {
      var a = n.width(e);
      if (a < r && !i)
        return e;
      var s = n.width(lg);
      if (a + s <= r)
        return "" + e + lg;
      var l = Math.floor(e.length * r / a) + 1, u, c;
      do
        u = e.substring(0, l), c = n.width(u);
      while (--l >= 0 && c + s > r);
      return "" + u + lg;
    }, t.wrapLineSequentially = function(e, r, n, i, a, s, l) {
      var u = a.fontSize, c = a.lineHeight, d = c === void 0 ? u * t.defaultLineHeightRatio : c, p = s === "always" || s === "hyphenate", h = s === "hyphenate", f = i.width(" "), v = !1, g = !1, y = [], m = [], C = 0, S = function() {
        var k = l + d;
        if (k >= n) {
          var L = m.join(" "), B = t.truncateLine(L, r, i, !0);
          return m.splice(0, m.length, B), g = !0, !1;
        }
        return m = [], C = 0, l = k, y.push(m), !0;
      };
      if (!S())
        return { lines: y, linesTruncated: !0, wordsBrokenOrTruncated: v, cumulativeHeight: l };
      for (var b = 0; b < e.length; b++) {
        var _ = e[b], O = i.width(_), E = m.length === 0 ? 0 : f, D = C + E + O;
        if (D <= r) {
          m.push(_), C = D;
          continue;
        }
        if (O <= r) {
          if (!S())
            break;
          m.push(_), C = O;
          continue;
        }
        if (v = !0, p) {
          for (var x = r - C - E, P = t.breakWord(_, x, r, h, i), M = !1, F = 0; F < P.length; F++) {
            var I = P[F];
            if (I && m.push(I), F === P.length - 1)
              C = i.width(I);
            else if (!S()) {
              M = !0;
              break;
            }
          }
          if (M)
            break;
        } else {
          if (!S())
            break;
          var N = t.truncateLine(_, r, i, !0);
          m.push(N), b < e.length - 1 && (g = !0);
          break;
        }
      }
      return { lines: y, linesTruncated: g, wordsBrokenOrTruncated: v, cumulativeHeight: l };
    }, t.wrapLineBalanced = function(e, r, n, i) {
      var a, s, l = e.reduce(function(b, _) {
        return b + n.width(_);
      }, 0), u = n.width(" "), c = u * (e.length - i - 2), d = (l + c) / i, p = [], h = [], f = n.width(e[0]), v = !0;
      try {
        for (var g = sg(e), y = g.next(); !y.done; y = g.next()) {
          var m = y.value, C = n.width(m);
          if (v) {
            h = [], h.push(m), f = C, v = !1, p.push(h);
            continue;
          }
          var S = f + u + C;
          S <= d ? (h.push(m), f = S) : S <= r ? (h.push(m), v = !0) : (h = [m], f = C, p.push(h));
        }
      } catch (b) {
        a = { error: b };
      } finally {
        try {
          y && !y.done && (s = g.return) && s.call(g);
        } finally {
          if (a)
            throw a.error;
        }
      }
      return p;
    }, t.prototype.setFont = function(e) {
      this.fontFamily = e.fontFamily, this.fontSize = e.fontSize, this.fontStyle = e.fontStyle, this.fontWeight = e.fontWeight;
    }, t.prototype.setAlign = function(e) {
      this.textAlign = e.textAlign, this.textBaseline = e.textBaseline;
    }, t.className = "Text", t.defaultLineHeightRatio = 1.15, t.defaultStyles = Object.assign({}, xi.defaultStyles, {
      textAlign: "start",
      fontStyle: void 0,
      fontWeight: void 0,
      fontSize: 10,
      fontFamily: "sans-serif",
      textBaseline: "alphabetic"
    }), t.punctuationMarks = [".", ",", "-", ":", ";", "!", "?", "'", '"', "(", ")"], Jn([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "x", void 0), Jn([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "y", void 0), Jn([
      ve({ redraw: oe.MAJOR, changeCb: function(e) {
        return e._setLines();
      } })
    ], t.prototype, "text", void 0), Jn([
      vp()
    ], t.prototype, "fontStyle", void 0), Jn([
      vp()
    ], t.prototype, "fontWeight", void 0), Jn([
      vp()
    ], t.prototype, "fontSize", void 0), Jn([
      vp()
    ], t.prototype, "fontFamily", void 0), Jn([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "textAlign", void 0), Jn([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "textBaseline", void 0), Jn([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "lineHeight", void 0), t;
  }(xi)
);
function v2(o) {
  var t = /* @__PURE__ */ new Map(), e = function(n) {
    return wt.getTextSize(n, o);
  }, r = function(n) {
    if (t.has(n))
      return t.get(n);
    var i = e(n).width;
    return t.set(n, i), i;
  };
  return { size: e, width: r };
}
function os(o) {
  var t = o.fontFamily, e = o.fontSize, r = o.fontStyle, n = o.fontWeight;
  return [r != null ? r : "", n != null ? n : "", e + "px", t].join(" ").trim();
}
function g2(o, t, e, r) {
  return wt.has.textMetrics ? vO(o, t, e, r) : gO(o, t, e, r);
}
function vO(o, t, e, r) {
  for (var n, i, a = 0, s = 0, l = 0, u = 0, c = 0, d = os(r), p = r.lineHeight, h = r.textBaseline, f = h === void 0 ? ot.defaultStyles.textBaseline : h, v = r.textAlign, g = v === void 0 ? ot.defaultStyles.textAlign : v, y = 0; y < o.length; y++) {
    var m = wt.measureText(o[y], d, f, g);
    a = Math.max(a, m.actualBoundingBoxLeft), l = Math.max(l, m.width), y == 0 ? (s += m.actualBoundingBoxAscent, u += m.actualBoundingBoxAscent) : c += (n = m.fontBoundingBoxAscent) !== null && n !== void 0 ? n : m.emHeightAscent, y == o.length - 1 ? u += m.actualBoundingBoxDescent : c += (i = m.fontBoundingBoxDescent) !== null && i !== void 0 ? i : m.emHeightDescent;
  }
  return p !== void 0 && (c = (o.length - 1) * p), u += c, s += c * yO(f), new Ye(t - a, e - s, l, u);
}
function gO(o, t, e, r) {
  var n = 0, i = 0, a = 0, s = os(r), l = r.lineHeight, u = r.textBaseline, c = u === void 0 ? ot.defaultStyles.textBaseline : u, d = r.textAlign, p = d === void 0 ? ot.defaultStyles.textAlign : d;
  if (o.length > 0) {
    var h = wt.getTextSize(o[0], s);
    n = h.width, i = h.height;
  }
  for (var f = 1; f < o.length; f++) {
    var h = wt.getTextSize(o[f], s);
    n = Math.max(n, h.width), a += l != null ? l : h.height;
  }
  switch (p) {
    case "end":
    case "right":
      t -= n;
      break;
    case "center":
      t -= n / 2;
  }
  switch (c) {
    case "alphabetic":
      e -= i * 0.7 + a * 0.5;
      break;
    case "middle":
      e -= i * 0.45 + a * 0.5;
      break;
    case "ideographic":
      e -= i + a;
      break;
    case "hanging":
      e -= i * 0.2 + a * 0.5;
      break;
    case "bottom":
      e -= i + a;
      break;
  }
  return new Ye(t, e, n, i + a);
}
function yO(o) {
  switch (o) {
    case "top":
    case "hanging":
      return 0;
    case "bottom":
    case "alphabetic":
    case "ideographic":
      return 1;
    case "middle":
      return 0.5;
  }
}
function mO(o) {
  return typeof o == "string" ? o.split(/\r?\n/g) : [];
}
var CO = (
  /** @class */
  function() {
    function o() {
      this.allEventListeners = /* @__PURE__ */ new Map();
    }
    return o.prototype.addEventListener = function(t, e) {
      if (typeof e != "function")
        throw new Error("AG Charts - listener must be a Function");
      var r = this.allEventListeners, n = r.get(t);
      n || (n = /* @__PURE__ */ new Set(), r.set(t, n)), n.has(e) || n.add(e);
    }, o.prototype.removeEventListener = function(t, e) {
      var r = this.allEventListeners, n = r.get(t);
      n && (n.delete(e), n.size === 0 && r.delete(t));
    }, o.prototype.hasEventListener = function(t) {
      return this.allEventListeners.has(t);
    }, o.prototype.clearEventListeners = function() {
      this.allEventListeners.clear();
    }, o.prototype.fireEvent = function(t) {
      var e = this.allEventListeners.get(t.type);
      e == null || e.forEach(function(r) {
        return r(t);
      });
    }, o;
  }()
), tC = function(o) {
  return typeof o == "string";
}, SO = function(o) {
  return !!o && Object.prototype.hasOwnProperty.call(o, "toString") && tC(o.toString());
}, y2 = function(o) {
  return o instanceof Date && !isNaN(+o);
};
function Ey(o) {
  return tC(o) || SO(o);
}
function xh(o) {
  var t = function(r) {
    return !!r && Object.prototype.hasOwnProperty.call(r, "valueOf") && mr(r.valueOf());
  }, e = function(r) {
    return r instanceof Date && !isNaN(+r);
  };
  return mr(o) || t(o) || e(o);
}
function Th(o, t) {
  if (t && xh(o))
    return o;
  if (!t)
    return Ey(o) ? o : String(o);
}
var mr = function(o) {
  return typeof o == "number" && Number.isFinite(o);
}, Sw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Nt = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      n === void 0 && (n = 1), this.r = Math.min(1, Math.max(0, t || 0)), this.g = Math.min(1, Math.max(0, e || 0)), this.b = Math.min(1, Math.max(0, r || 0)), this.a = Math.min(1, Math.max(0, n || 0));
    }
    return o.validColorString = function(t) {
      return t.indexOf("#") >= 0 ? !!o.parseHex(t) : t.indexOf("rgb") >= 0 ? !!o.stringToRgba(t) : !!o.nameToHex[t.toLowerCase()];
    }, o.fromString = function(t) {
      if (t.indexOf("#") >= 0)
        return o.fromHexString(t);
      var e = o.nameToHex[t.toLowerCase()];
      if (e)
        return o.fromHexString(e);
      if (t.indexOf("rgb") >= 0)
        return o.fromRgbaString(t);
      throw new Error("Invalid color string: '" + t + "'");
    }, o.tryParseFromString = function(t) {
      try {
        return o.fromString(t);
      } catch (e) {
        return pe.warnOnce("invalid color string: '" + t + "'."), o.fromArray([0, 0, 0]);
      }
    }, o.parseHex = function(t) {
      t = t.replace(/ /g, "").slice(1);
      var e;
      switch (t.length) {
        case 6:
        case 8:
          e = [];
          for (var r = 0; r < t.length; r += 2)
            e.push(parseInt("" + t[r] + t[r + 1], 16));
          break;
        case 3:
        case 4:
          e = t.split("").map(function(n) {
            return parseInt(n, 16);
          }).map(function(n) {
            return n + n * 16;
          });
          break;
      }
      if ((e == null ? void 0 : e.length) >= 3 && e.every(function(n) {
        return n >= 0;
      }))
        return e.length === 3 && e.push(255), e;
    }, o.fromHexString = function(t) {
      var e = o.parseHex(t);
      if (e) {
        var r = Sw(e, 4), n = r[0], i = r[1], a = r[2], s = r[3];
        return new o(n / 255, i / 255, a / 255, s / 255);
      }
      throw new Error("Malformed hexadecimal color string: '" + t + "'");
    }, o.stringToRgba = function(t) {
      for (var e = Sw([NaN, NaN], 2), r = e[0], n = e[1], i = 0; i < t.length; i++) {
        var a = t[i];
        if (!r && a === "(")
          r = i;
        else if (a === ")") {
          n = i;
          break;
        }
      }
      var s = r && n && t.substring(r + 1, n);
      if (s) {
        for (var l = s.split(","), u = [], i = 0; i < l.length; i++) {
          var c = l[i], d = parseFloat(c);
          if (isNaN(d))
            return;
          c.indexOf("%") >= 0 ? (d = Math.max(0, Math.min(100, d)), d /= 100) : i === 3 ? d = Math.max(0, Math.min(1, d)) : (d = Math.max(0, Math.min(255, d)), d /= 255), u.push(d);
        }
        return u;
      }
    }, o.fromRgbaString = function(t) {
      var e = o.stringToRgba(t);
      if (e) {
        if (e.length === 3)
          return new o(e[0], e[1], e[2]);
        if (e.length === 4)
          return new o(e[0], e[1], e[2], e[3]);
      }
      throw new Error("Malformed rgb/rgba color string: '" + t + "'");
    }, o.fromArray = function(t) {
      if (t.length === 4)
        return new o(t[0], t[1], t[2], t[3]);
      if (t.length === 3)
        return new o(t[0], t[1], t[2]);
      throw new Error("The given array should contain 3 or 4 color components (numbers).");
    }, o.fromHSB = function(t, e, r, n) {
      n === void 0 && (n = 1);
      var i = o.HSBtoRGB(t, e, r);
      return new o(i[0], i[1], i[2], n);
    }, o.padHex = function(t) {
      return t.length === 1 ? "0" + t : t;
    }, o.prototype.toHexString = function() {
      var t = "#" + o.padHex(Math.round(this.r * 255).toString(16)) + o.padHex(Math.round(this.g * 255).toString(16)) + o.padHex(Math.round(this.b * 255).toString(16));
      return this.a < 1 && (t += o.padHex(Math.round(this.a * 255).toString(16))), t;
    }, o.prototype.toRgbaString = function(t) {
      t === void 0 && (t = 3);
      var e = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)], r = Math.pow(10, t);
      return this.a !== 1 ? (e.push(Math.round(this.a * r) / r), "rgba(" + e.join(", ") + ")") : "rgb(" + e.join(", ") + ")";
    }, o.prototype.toString = function() {
      return this.a === 1 ? this.toHexString() : this.toRgbaString();
    }, o.prototype.toHSB = function() {
      return o.RGBtoHSB(this.r, this.g, this.b);
    }, o.RGBtoHSB = function(t, e, r) {
      var n = Math.min(t, e, r), i = Math.max(t, e, r), a = i !== 0 ? (i - n) / i : 0, s = NaN;
      if (n !== i) {
        var l = i - n, u = (i - t) / l, c = (i - e) / l, d = (i - r) / l;
        t === i ? s = d - c : e === i ? s = 2 + u - d : s = 4 + c - u, s /= 6, s < 0 && (s = s + 1);
      }
      return [s * 360, a, i];
    }, o.HSBtoRGB = function(t, e, r) {
      isNaN(t) && (t = 0), t = (t % 360 + 360) % 360 / 360;
      var n = 0, i = 0, a = 0;
      if (e === 0)
        n = i = a = r;
      else {
        var s = (t - Math.floor(t)) * 6, l = s - Math.floor(s), u = r * (1 - e), c = r * (1 - e * l), d = r * (1 - e * (1 - l));
        switch (s >> 0) {
          case 0:
            n = r, i = d, a = u;
            break;
          case 1:
            n = c, i = r, a = u;
            break;
          case 2:
            n = u, i = r, a = d;
            break;
          case 3:
            n = u, i = c, a = r;
            break;
          case 4:
            n = d, i = u, a = r;
            break;
          case 5:
            n = r, i = u, a = c;
            break;
        }
      }
      return [n, i, a];
    }, o.prototype.derive = function(t, e, r, n) {
      var i = o.RGBtoHSB(this.r, this.g, this.b), a = i[2];
      a == 0 && r > 1 && (a = 0.05);
      var s = ((i[0] + t) % 360 + 360) % 360, l = Math.max(Math.min(i[1] * e, 1), 0);
      a = Math.max(Math.min(a * r, 1), 0);
      var u = Math.max(Math.min(this.a * n, 1), 0), c = o.HSBtoRGB(s, l, a);
      return c.push(u), o.fromArray(c);
    }, o.prototype.brighter = function() {
      return this.derive(0, 1, 1 / 0.7, 1);
    }, o.prototype.darker = function() {
      return this.derive(0, 1, 0.7, 1);
    }, o.interpolate = function(t, e) {
      var r = o.tryParseFromString(t), n = o.tryParseFromString(e);
      return function(i) {
        var a = function(l, u) {
          return l * (1 - i) + u * i;
        }, s = new o(a(r.r, n.r), a(r.g, n.g), a(r.b, n.b), a(r.a, n.a));
        return s.toString();
      };
    }, o.nameToHex = Object.freeze({
      aliceblue: "#F0F8FF",
      antiquewhite: "#FAEBD7",
      aqua: "#00FFFF",
      aquamarine: "#7FFFD4",
      azure: "#F0FFFF",
      beige: "#F5F5DC",
      bisque: "#FFE4C4",
      black: "#000000",
      blanchedalmond: "#FFEBCD",
      blue: "#0000FF",
      blueviolet: "#8A2BE2",
      brown: "#A52A2A",
      burlywood: "#DEB887",
      cadetblue: "#5F9EA0",
      chartreuse: "#7FFF00",
      chocolate: "#D2691E",
      coral: "#FF7F50",
      cornflowerblue: "#6495ED",
      cornsilk: "#FFF8DC",
      crimson: "#DC143C",
      cyan: "#00FFFF",
      darkblue: "#00008B",
      darkcyan: "#008B8B",
      darkgoldenrod: "#B8860B",
      darkgray: "#A9A9A9",
      darkgreen: "#006400",
      darkgrey: "#A9A9A9",
      darkkhaki: "#BDB76B",
      darkmagenta: "#8B008B",
      darkolivegreen: "#556B2F",
      darkorange: "#FF8C00",
      darkorchid: "#9932CC",
      darkred: "#8B0000",
      darksalmon: "#E9967A",
      darkseagreen: "#8FBC8F",
      darkslateblue: "#483D8B",
      darkslategray: "#2F4F4F",
      darkslategrey: "#2F4F4F",
      darkturquoise: "#00CED1",
      darkviolet: "#9400D3",
      deeppink: "#FF1493",
      deepskyblue: "#00BFFF",
      dimgray: "#696969",
      dimgrey: "#696969",
      dodgerblue: "#1E90FF",
      firebrick: "#B22222",
      floralwhite: "#FFFAF0",
      forestgreen: "#228B22",
      fuchsia: "#FF00FF",
      gainsboro: "#DCDCDC",
      ghostwhite: "#F8F8FF",
      gold: "#FFD700",
      goldenrod: "#DAA520",
      gray: "#808080",
      green: "#008000",
      greenyellow: "#ADFF2F",
      grey: "#808080",
      honeydew: "#F0FFF0",
      hotpink: "#FF69B4",
      indianred: "#CD5C5C",
      indigo: "#4B0082",
      ivory: "#FFFFF0",
      khaki: "#F0E68C",
      lavender: "#E6E6FA",
      lavenderblush: "#FFF0F5",
      lawngreen: "#7CFC00",
      lemonchiffon: "#FFFACD",
      lightblue: "#ADD8E6",
      lightcoral: "#F08080",
      lightcyan: "#E0FFFF",
      lightgoldenrodyellow: "#FAFAD2",
      lightgray: "#D3D3D3",
      lightgreen: "#90EE90",
      lightgrey: "#D3D3D3",
      lightpink: "#FFB6C1",
      lightsalmon: "#FFA07A",
      lightseagreen: "#20B2AA",
      lightskyblue: "#87CEFA",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      lightsteelblue: "#B0C4DE",
      lightyellow: "#FFFFE0",
      lime: "#00FF00",
      limegreen: "#32CD32",
      linen: "#FAF0E6",
      magenta: "#FF00FF",
      maroon: "#800000",
      mediumaquamarine: "#66CDAA",
      mediumblue: "#0000CD",
      mediumorchid: "#BA55D3",
      mediumpurple: "#9370DB",
      mediumseagreen: "#3CB371",
      mediumslateblue: "#7B68EE",
      mediumspringgreen: "#00FA9A",
      mediumturquoise: "#48D1CC",
      mediumvioletred: "#C71585",
      midnightblue: "#191970",
      mintcream: "#F5FFFA",
      mistyrose: "#FFE4E1",
      moccasin: "#FFE4B5",
      navajowhite: "#FFDEAD",
      navy: "#000080",
      oldlace: "#FDF5E6",
      olive: "#808000",
      olivedrab: "#6B8E23",
      orange: "#FFA500",
      orangered: "#FF4500",
      orchid: "#DA70D6",
      palegoldenrod: "#EEE8AA",
      palegreen: "#98FB98",
      paleturquoise: "#AFEEEE",
      palevioletred: "#DB7093",
      papayawhip: "#FFEFD5",
      peachpuff: "#FFDAB9",
      peru: "#CD853F",
      pink: "#FFC0CB",
      plum: "#DDA0DD",
      powderblue: "#B0E0E6",
      purple: "#800080",
      rebeccapurple: "#663399",
      red: "#FF0000",
      rosybrown: "#BC8F8F",
      royalblue: "#4169E1",
      saddlebrown: "#8B4513",
      salmon: "#FA8072",
      sandybrown: "#F4A460",
      seagreen: "#2E8B57",
      seashell: "#FFF5EE",
      sienna: "#A0522D",
      silver: "#C0C0C0",
      skyblue: "#87CEEB",
      slateblue: "#6A5ACD",
      slategray: "#708090",
      slategrey: "#708090",
      snow: "#FFFAFA",
      springgreen: "#00FF7F",
      steelblue: "#4682B4",
      tan: "#D2B48C",
      teal: "#008080",
      thistle: "#D8BFD8",
      tomato: "#FF6347",
      transparent: "#00000000",
      turquoise: "#40E0D0",
      violet: "#EE82EE",
      wheat: "#F5DEB3",
      white: "#FFFFFF",
      whitesmoke: "#F5F5F5",
      yellow: "#FFFF00",
      yellowgreen: "#9ACD32"
    }), o;
  }()
), ww = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Rh = Symbol("BREAK"), ug = "__decorator_config";
function m2(o, t, e, r) {
  Object.getOwnPropertyDescriptor(o, ug) == null && Object.defineProperty(o, ug, { value: {} });
  var n = o[ug];
  if (n[e] != null)
    return n[e];
  n[e] = { setters: [], getters: [] };
  var i = Object.getOwnPropertyDescriptor(o, t), a = i == null ? void 0 : i.set, s = i == null ? void 0 : i.get, l = function() {
    var c, d, p, h, f = s ? s.call(this) : this[r];
    try {
      for (var v = ww((h = (p = n[e]) === null || p === void 0 ? void 0 : p.getters) !== null && h !== void 0 ? h : []), g = v.next(); !g.done; g = v.next()) {
        var y = g.value;
        if (f = y(this, t, f), f === Rh)
          return;
      }
    } catch (m) {
      c = { error: m };
    } finally {
      try {
        g && !g.done && (d = v.return) && d.call(v);
      } finally {
        if (c)
          throw c.error;
      }
    }
    return f;
  }, u = function(c) {
    var d, p, h, f, v = (f = (h = n[e]) === null || h === void 0 ? void 0 : h.setters) !== null && f !== void 0 ? f : [], g;
    v.some(function(S) {
      return S.length > 2;
    }) && (g = s ? s.call(this) : this[r]);
    try {
      for (var y = ww(v), m = y.next(); !m.done; m = y.next()) {
        var C = m.value;
        if (c = C(this, t, c, g), c === Rh)
          return;
      }
    } catch (S) {
      d = { error: S };
    } finally {
      try {
        m && !m.done && (p = y.return) && p.call(y);
      } finally {
        if (d)
          throw d.error;
      }
    }
    a ? a.call(this, c) : this[r] = c;
  };
  return Object.defineProperty(o, t, {
    set: u,
    get: l,
    enumerable: !0,
    configurable: !1
  }), n[e];
}
function au(o, t) {
  return function(e, r) {
    var n = r.toString(), i = "__" + n, a = m2(e, r, n, i), s = a.getters, l = a.setters;
    l.push(o), t && s.splice(0, 0, t);
  };
}
function A(o) {
  return au(function(t, e, r) {
    var n, i, a;
    if (o(r, { target: t }))
      return r;
    var s = e.toString().replace(/^_*/, ""), l = (i = (n = t.constructor) === null || n === void 0 ? void 0 : n.className) !== null && i !== void 0 ? i : (a = t.constructor) === null || a === void 0 ? void 0 : a.name;
    (l == null ? void 0 : l.length) < 3 && (l = null);
    var u = l ? "of [" + l + "] " : "";
    return o.message ? pe.warn("Property [" + s + "] " + u + "cannot be set to [" + JSON.stringify(r) + "]; " + o.message + ", ignoring.") : pe.warn("Property [" + s + "] " + u + "cannot be set to [" + JSON.stringify(r) + "], ignoring."), Rh;
  });
}
function we(o, t) {
  return o.message = t, o;
}
var yt = function(o, t, e) {
  return o === void 0 || e(o, t);
}, aa = function(o, t) {
  return we(function(e, r) {
    return Array.isArray(e) && (o ? e.length === o : !0) && (t ? e.every(function(n) {
      return t(n, r);
    }) : !0);
  }, "expecting an Array");
}, rC = function(o) {
  return we(function(t, e) {
    return yt(t, e, aa(o));
  }, "expecting an optional Array");
}, ao = function() {
  for (var o = [], t = 0; t < arguments.length; t++)
    o[t] = arguments[t];
  return we(function(e, r) {
    return o.every(function(n) {
      return n(e, r);
    });
  }, o.map(function(e) {
    return e.message;
  }).filter(function(e) {
    return e != null;
  }).join(" AND "));
}, C2 = function() {
  for (var o = [], t = 0; t < arguments.length; t++)
    o[t] = arguments[t];
  return we(function(e, r) {
    return o.some(function(n) {
      return n(e, r);
    });
  }, o.map(function(e) {
    return e.message;
  }).filter(function(e) {
    return e != null;
  }).join(" OR "));
}, Dh = function(o) {
  return o != null && !isNaN(o);
}, Df = function(o) {
  return we(function(t, e) {
    return !Dh(t) || !Dh(e.target[o]) || t < e.target[o];
  }, "expected to be less than " + o);
}, cd = function(o) {
  return we(function(t, e) {
    return !Dh(t) || !Dh(e.target[o]) || t > e.target[o];
  }, "expected to be greater than " + o);
}, S2 = we(function(o) {
  return typeof o == "function";
}, "expecting a Function"), mt = we(function(o, t) {
  return yt(o, t, S2);
}, "expecting an optional Function"), at = we(function(o) {
  return o === !0 || o === !1;
}, "expecting a Boolean"), Ti = we(function(o, t) {
  return yt(o, t, at);
}, "expecting an optional Boolean"), lr = we(function(o) {
  return typeof o == "string";
}, "expecting a String"), Oe = we(function(o, t) {
  return yt(o, t, lr);
}, "expecting an optional String"), wO = we(function(o) {
  return o instanceof Date && !isNaN(+o);
}, "expecting a Date object"), w2 = we(function(o, t) {
  return yt(o, t, wO);
}, "expecting an optional Date");
we(aa(void 0, wO), "expecting an Array of Date objects");
var _2 = ae(0), b2 = we(function(o, t) {
  return yt(o, t, _2);
}, "expecting an optional number"), _w = C2(w2, b2), Pf = "A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc", en = we(function(o) {
  return typeof o != "string" ? !1 : Nt.validColorString(o);
}, "expecting a color String. " + Pf), ct = we(function(o, t) {
  return yt(o, t, en);
}, "expecting an optional color String. " + Pf), Kc = we(aa(void 0, en), "expecting an Array of color strings. " + Pf), E2 = we(function(o, t) {
  return yt(o, t, Kc);
}, "expecting an optional Array of color strings. " + Pf);
function ae(o, t) {
  var e = "expecting a finite Number" + ((o !== void 0 ? ", more than or equal to " + o : "") + (t !== void 0 ? ", less than or equal to " + t : ""));
  return we(function(r) {
    return typeof r == "number" && Number.isFinite(r) && (o !== void 0 ? r >= o : !0) && (t !== void 0 ? r <= t : !0);
  }, e);
}
function tt(o, t) {
  var e = "expecting an optional finite Number" + ((o !== void 0 ? ", more than or equal to " + o : "") + (t !== void 0 ? ", less than or equal to " + t : ""));
  return we(function(r, n) {
    return yt(r, n, ae(o, t));
  }, e);
}
function Qo(o, t) {
  var e = "expecting a finite Number" + ((o !== void 0 ? ", more than or equal to " + o : "") + (t !== void 0 ? ", less than or equal to " + t : ""));
  return we(function(r) {
    return typeof r == "number" && (isNaN(r) || Number.isFinite(r) && (o !== void 0 ? r >= o : !0) && (t !== void 0 ? r <= t : !0));
  }, e);
}
var _O = we(aa(void 0, ae()), "expecting an Array of numbers"), bO = we(function(o, t) {
  return yt(o, t, _O);
}, "expecting an optional Array of numbers"), EO = we(aa(void 0, lr), "expecting an Array of strings");
we(function(o, t) {
  return yt(o, t, EO);
}, "expecting an optional Array of strings");
function OO() {
  for (var o = [], t = 0; t < arguments.length; t++)
    o[t] = arguments[t];
  var e = "expecting one of: " + o.join(", ");
  return we(function(r) {
    return typeof r == "string" && o.indexOf(r) >= 0;
  }, e);
}
var O2 = we(aa(void 0, at), "expecting an Array of boolean values");
we(function(o, t) {
  return yt(o, t, O2);
}, "expecting an optional Array of boolean values");
var x2 = [
  "normal",
  "bold",
  "bolder",
  "lighter",
  "100",
  "200",
  "300",
  "400",
  "500",
  "600",
  "700",
  "800",
  "900"
], T2 = we(function(o) {
  return o === "normal" || o === "italic" || o === "oblique";
}, "expecting a font style keyword such as 'normal', 'italic' or 'oblique'"), fs = we(function(o, t) {
  return yt(o, t, T2);
}, "expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"), R2 = we(function(o) {
  return x2.includes(o);
}, "expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"), vs = we(function(o, t) {
  return yt(o, t, R2);
}, "expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"), D2 = we(aa(void 0, ae(0)), "expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."), su = we(function(o, t) {
  return yt(o, t, D2);
}, "expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."), P2 = ["butt", "round", "square"], nC = we(function(o) {
  return P2.includes(o);
}, "expecting a line cap keyword such as 'butt', 'round' or 'square'");
we(function(o, t) {
  return yt(o, t, nC);
}, "expecting an optional line cap keyword such as 'butt', 'round' or 'square'");
var A2 = ["round", "bevel", "miter"], M2 = we(function(o) {
  return A2.includes(o);
}, "expecting a line join keyword such as 'round', 'bevel' or 'miter'");
we(function(o, t) {
  return yt(o, t, M2);
}, "expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");
var I2 = ["top", "right", "bottom", "left"], xO = we(function(o) {
  return I2.includes(o);
}, "expecting a position keyword such as 'top', 'right', 'bottom' or 'left"), F2 = ["exact", "nearest"], TO = we(function(o) {
  return typeof o == "number" && Number.isFinite(o) || F2.includes(o);
}, "expecting an interaction range of 'exact', 'nearest' or a number"), L2 = ["never", "always", "hyphenate", "on-space"], iC = we(function(o) {
  return L2.includes(o);
}, "expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'"), bt;
(function(o) {
  o[o.SERIES_BACKGROUND_ZINDEX = -10] = "SERIES_BACKGROUND_ZINDEX", o[o.AXIS_GRID_ZINDEX = 0] = "AXIS_GRID_ZINDEX", o[o.AXIS_ZINDEX = 20] = "AXIS_ZINDEX", o[o.SERIES_CROSSLINE_RANGE_ZINDEX = 30] = "SERIES_CROSSLINE_RANGE_ZINDEX", o[o.SERIES_LAYER_ZINDEX = 500] = "SERIES_LAYER_ZINDEX", o[o.SERIES_CROSSHAIR_ZINDEX = 1e3] = "SERIES_CROSSHAIR_ZINDEX", o[o.SERIES_LABEL_ZINDEX = 1500] = "SERIES_LABEL_ZINDEX", o[o.SERIES_CROSSLINE_LINE_ZINDEX = 2500] = "SERIES_CROSSLINE_LINE_ZINDEX", o[o.LEGEND_ZINDEX = 3e3] = "LEGEND_ZINDEX";
})(bt || (bt = {}));
var ue;
(function(o) {
  o.X = "x", o.Y = "y";
})(ue || (ue = {}));
var cg = (
  /** @class */
  function() {
    function o(t) {
      this.type = t, this.continuousDomain = [1 / 0, -1 / 0], this.discreteDomain = /* @__PURE__ */ new Set();
    }
    return o.prototype.extend = function(t) {
      this.type === "discrete" ? this.discreteDomain.add(t) : this.type === "continuous" && (this.continuousDomain[0] > t && (this.continuousDomain[0] = t), this.continuousDomain[1] < t && (this.continuousDomain[1] = t));
    }, o.prototype.getDomain = function() {
      if (this.type === "discrete")
        return this.discreteDomain;
      if (this.type === "continuous")
        return this.continuousDomain;
      throw new Error("AG Charts - Unsupported data domain type: " + this.type);
    }, o;
  }()
), N2 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function gp(o, t) {
  var e, r;
  t === void 0 && (t = [1 / 0, -1 / 0]);
  try {
    for (var n = N2(o), i = n.next(); !i.done; i = n.next()) {
      var a = i.value;
      typeof a == "number" && (a < t[0] && (t[0] = a), a > t[1] && (t[1] = a));
    }
  } catch (s) {
    e = { error: s };
  } finally {
    try {
      i && !i.done && (r = n.return) && r.call(n);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return t;
}
var _t = function() {
  return _t = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, _t.apply(this, arguments);
}, vt = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Ke = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Rt = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
};
function G2(o) {
  return o.map(function(t) {
    return t == null || typeof t == "number" || typeof t == "string" || typeof t == "boolean" ? t : typeof t == "object" ? JSON.stringify(t) : t;
  }).join("-");
}
function k2(o) {
  var t = 1e4;
  return Number.isInteger(o) ? o : Math.abs(o) > t ? Math.trunc(o) : Math.round(o * t) / t;
}
function Kp(o) {
  if (o === void 0)
    return [];
  var t = vt(o, 2), e = t[0], r = t[1];
  return e = +e, r = +r, e === 0 && r === 0 ? [0, 1] : e === 1 / 0 && r === -1 / 0 ? [] : (e === 1 / 0 && (e = 0), r === -1 / 0 && (r = 0), mr(e) && mr(r) ? [e, r] : []);
}
var Fs = Symbol("invalid"), V2 = (
  /** @class */
  function() {
    function o(t) {
      var e, r, n, i, a, s, l = this, u = t.props, c = !0;
      try {
        for (var d = Ke(u), p = d.next(); !p.done; p = d.next()) {
          var h = p.value;
          if (h.type === "key" && !c)
            throw new Error("AG Charts - internal config error: keys must come before values.");
          h.type === "value" && c && (c = !1);
        }
      } catch (_) {
        e = { error: _ };
      } finally {
        try {
          p && !p.done && (r = d.return) && r.call(d);
        } finally {
          if (e)
            throw e.error;
        }
      }
      this.opts = _t({ dataVisible: !0 }, t), this.keys = u.filter(function(_) {
        return _.type === "key";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O, missing: 0 });
      }), this.values = u.filter(function(_) {
        return _.type === "value";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O, missing: 0 });
      }), this.aggregates = u.filter(function(_) {
        return _.type === "aggregate";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O });
      }), this.groupProcessors = u.filter(function(_) {
        return _.type === "group-value-processor";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O });
      }), this.propertyProcessors = u.filter(function(_) {
        return _.type === "property-value-processor";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O });
      }), this.reducers = u.filter(function(_) {
        return _.type === "reducer";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O });
      }), this.processors = u.filter(function(_) {
        return _.type === "processor";
      }).map(function(_, O) {
        return _t(_t({}, _), { index: O });
      });
      try {
        for (var f = Ke(this.values), v = f.next(); !v.done; v = f.next()) {
          var g = v.value;
          if (g.property == null)
            throw new Error("AG Charts - internal config error: no properties specified for value definitions: " + JSON.stringify(g));
        }
      } catch (_) {
        n = { error: _ };
      } finally {
        try {
          v && !v.done && (i = f.return) && i.call(f);
        } finally {
          if (n)
            throw n.error;
        }
      }
      var y = function(_) {
        var O, E, D = _.matchGroupIds, x = function(I) {
          if (!l.values.some(function(N) {
            return N.groupId === I;
          }))
            throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (" + I + ").");
        };
        try {
          for (var P = Ke(D != null ? D : []), M = P.next(); !M.done; M = P.next()) {
            var F = M.value;
            x(F);
          }
        } catch (I) {
          O = { error: I };
        } finally {
          try {
            M && !M.done && (E = P.return) && E.call(P);
          } finally {
            if (O)
              throw O.error;
          }
        }
      }, m = function(_) {
        var O, E, D = _.matchScopes, x = function(I) {
          if (!l.values.some(function(N) {
            var k;
            return (k = N.scopes) === null || k === void 0 ? void 0 : k.includes(I);
          }))
            throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (" + I + ").");
        };
        try {
          for (var P = Ke(D != null ? D : []), M = P.next(); !M.done; M = P.next()) {
            var F = M.value;
            x(F);
          }
        } catch (I) {
          O = { error: I };
        } finally {
          try {
            M && !M.done && (E = P.return) && E.call(P);
          } finally {
            if (O)
              throw O.error;
          }
        }
      }, C = function(_) {
        var O, E, D = _.matchIds, x = function(I) {
          if (!l.values.some(function(N) {
            return N.id === I;
          }))
            throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (" + I + ").");
        };
        try {
          for (var P = Ke(D != null ? D : []), M = P.next(); !M.done; M = P.next()) {
            var F = M.value;
            x(F);
          }
        } catch (I) {
          O = { error: I };
        } finally {
          try {
            M && !M.done && (E = P.return) && E.call(P);
          } finally {
            if (O)
              throw O.error;
          }
        }
      };
      try {
        for (var S = Ke(Rt(Rt([], vt(this.groupProcessors)), vt(this.aggregates))), b = S.next(); !b.done; b = S.next()) {
          var g = b.value;
          C(g), y(g), m(g);
        }
      } catch (_) {
        a = { error: _ };
      } finally {
        try {
          b && !b.done && (s = S.return) && s.call(S);
        } finally {
          if (a)
            throw a.error;
        }
      }
    }
    return o.prototype.resolveProcessedDataIndexById = function(t, e, r) {
      var n;
      r === void 0 && (r = "value");
      var i = (n = this.resolveProcessedDataDefById(t, e, r)) !== null && n !== void 0 ? n : {}, a = i.index, s = i.def;
      return { type: r, index: a, def: s };
    }, o.prototype.resolveProcessedDataIndicesById = function(t, e, r) {
      return r === void 0 && (r = "value"), this.resolveProcessedDataDefsById(t, e, r).map(function(n) {
        var i = n.index, a = n.def;
        return { type: r, index: i, def: a };
      });
    }, o.prototype.resolveProcessedDataDefById = function(t, e, r) {
      return r === void 0 && (r = "value"), this.resolveProcessedDataDefsById(t, e, r)[0];
    }, o.prototype.resolveProcessedDataDefsById = function(t, e, r) {
      var n, i;
      r === void 0 && (r = "value");
      var a = this, s = a.keys, l = a.values, u = a.aggregates, c = a.groupProcessors, d = a.reducers, p = function(m) {
        var C = m.id, S = m.scopes;
        return C == null || t != null && !(S != null && S.includes(t.id)) ? !1 : typeof e == "string" ? C === e : e.test(C);
      }, h = [
        s,
        l,
        u,
        c,
        d
      ], f = [];
      try {
        for (var v = Ke(h), g = v.next(); !g.done; g = v.next()) {
          var y = g.value;
          f.push.apply(f, Rt([], vt(y.filter(p).map(function(m) {
            return { index: m.index, def: m };
          }))));
        }
      } catch (m) {
        n = { error: m };
      } finally {
        try {
          g && !g.done && (i = v.return) && i.call(v);
        } finally {
          if (n)
            throw n.error;
        }
      }
      if (f.length > 0)
        return f;
      throw new Error("AG Charts - didn't find property definition for [" + e + ", " + t.id + ", " + r + "]");
    }, o.prototype.getDomain = function(t, e, r, n) {
      var i, a, s, l, u, c;
      r === void 0 && (r = "value");
      var d;
      try {
        d = this.resolveProcessedDataIndicesById(t, e, r);
      } catch (m) {
        if (typeof e != "string" && /didn't find property definition/.test(m.message))
          return [];
        throw m;
      }
      var p;
      switch (r) {
        case "key":
          p = "keys";
          break;
        case "value":
          p = "values";
          break;
        case "aggregate":
          p = "aggValues";
          break;
        case "group-value-processor":
          p = "groups";
          break;
        default:
          return [];
      }
      var h = (l = (s = n.domain[p]) === null || s === void 0 ? void 0 : s[d[0].index]) !== null && l !== void 0 ? l : [];
      if (d.length === 1)
        return h;
      var f = Rt([], vt(h));
      try {
        for (var v = Ke(d.slice(1)), g = v.next(); !g.done; g = v.next()) {
          var y = g.value;
          gp((c = (u = n.domain[p]) === null || u === void 0 ? void 0 : u[y.index]) !== null && c !== void 0 ? c : [], f);
        }
      } catch (m) {
        i = { error: m };
      } finally {
        try {
          g && !g.done && (a = v.return) && a.call(v);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return f;
    }, o.prototype.processData = function(t) {
      var e, r, n, i, a = this, s = a.opts, l = s.groupByKeys, u = s.groupByFn, c = a.aggregates, d = a.groupProcessors, p = a.reducers, h = a.processors, f = a.propertyProcessors, v = performance.now();
      try {
        for (var g = Ke(Rt(Rt([], vt(this.keys)), vt(this.values))), y = g.next(); !y.done; y = g.next()) {
          var m = y.value;
          m.missing = 0;
        }
      } catch (O) {
        e = { error: O };
      } finally {
        try {
          y && !y.done && (r = g.return) && r.call(g);
        } finally {
          if (e)
            throw e.error;
        }
      }
      if (!(l && this.keys.length === 0)) {
        var C = this.extractData(t);
        l ? C = this.groupData(C) : u && (C = this.groupData(C, u(C))), d.length > 0 && this.postProcessGroups(C), c.length > 0 && this.aggregateData(C), f.length > 0 && this.postProcessProperties(C), p.length > 0 && this.reduceData(C), h.length > 0 && this.postProcessData(C);
        try {
          for (var S = Ke(Rt(Rt([], vt(this.keys)), vt(this.values))), b = S.next(); !b.done; b = S.next()) {
            var m = b.value;
            t.length > 0 && m.missing >= t.length && pe.warnOnce("the key '" + m.property + "' was not found in any data element.");
          }
        } catch (O) {
          n = { error: O };
        } finally {
          try {
            b && !b.done && (i = S.return) && i.call(S);
          } finally {
            if (n)
              throw n.error;
          }
        }
        var _ = performance.now();
        return C.time = _ - v, o.DEBUG() && B2(C), C;
      }
    }, o.prototype.valueGroupIdxLookup = function(t) {
      var e = t.matchGroupIds, r = t.matchIds, n = t.matchScopes;
      return this.values.map(function(i, a) {
        return { def: i, index: a };
      }).filter(function(i) {
        var a = i.def;
        return !(e && (a.groupId == null || !e.includes(a.groupId)) || r && (a.id == null || !r.includes(a.id)) || n && (a.scopes == null || !n.some(function(s) {
          var l;
          return (l = a.scopes) === null || l === void 0 ? void 0 : l.includes(s);
        })));
      }).map(function(i) {
        var a = i.index;
        return a;
      });
    }, o.prototype.valueIdxLookup = function(t, e) {
      var r, n = t == null || t.length === 0, i = function(a) {
        var s = a == null;
        if (s)
          return !0;
        var l = a == null || a.length === 0;
        return n === l ? !0 : a == null ? void 0 : a.some(function(u) {
          return t.includes(u);
        });
      };
      if (typeof e == "string" ? r = this.values.findIndex(function(a) {
        return i(a.scopes) && a.property === e;
      }) : r = this.values.findIndex(function(a) {
        return i(a.scopes) && a.id === e.id;
      }), r >= 0)
        return r;
      throw new Error("AG Charts - configuration error, unknown property " + JSON.stringify(e) + " in scope(s) " + JSON.stringify(t));
    }, o.prototype.extractData = function(t) {
      var e, r, n, i, a, s, l, u, c, d = this, p = d.keys, h = d.values, f = d.opts.dataVisible, v = this.initDataDomainProcessor(), g = v.dataDomain, y = v.processValue, m = v.scopes, C = v.allScopesHaveSameDefs, S = new Array(f ? t.length : 0), b = 0, _ = 0;
      try {
        for (var O = Ke(t), E = O.next(); !E.done; E = O.next()) {
          var D = E.value, x = m.size > 0 ? new Set(m) : void 0, P = f ? new Array(p.length) : void 0, M = 0, F = void 0;
          try {
            for (var I = (n = void 0, Ke(p)), N = I.next(); !N.done; N = I.next()) {
              var k = N.value;
              if (F = y(k, D, F), F === Fs)
                break;
              P && (P[M++] = F);
            }
          } catch (ie) {
            n = { error: ie };
          } finally {
            try {
              N && !N.done && (i = I.return) && i.call(I);
            } finally {
              if (n)
                throw n.error;
            }
          }
          if (F !== Fs) {
            var L = f && h.length > 0 ? new Array(h.length) : void 0, B = 0, j = void 0;
            try {
              for (var J = (a = void 0, Ke(h)), U = J.next(); !U.done; U = J.next()) {
                var k = U.value;
                if (j = y(k, D, j), j === Fs) {
                  if (C)
                    break;
                  try {
                    for (var Y = (l = void 0, Ke((c = k.scopes) !== null && c !== void 0 ? c : m)), X = Y.next(); !X.done; X = Y.next()) {
                      var ne = X.value;
                      x == null || x.delete(ne);
                    }
                  } catch (le) {
                    l = { error: le };
                  } finally {
                    try {
                      X && !X.done && (u = Y.return) && u.call(Y);
                    } finally {
                      if (l)
                        throw l.error;
                    }
                  }
                  if (B++, (x == null ? void 0 : x.size) === 0)
                    break;
                } else
                  L && (L[B++] = j);
              }
            } catch (ie) {
              a = { error: ie };
            } finally {
              try {
                U && !U.done && (s = J.return) && s.call(J);
              } finally {
                if (a)
                  throw a.error;
              }
            }
            if (!(j === Fs && C) && (x == null ? void 0 : x.size) !== 0 && f) {
              var K = {
                datum: D,
                keys: P,
                values: L
              };
              !C && x && x.size < m.size && (_++, K.validScopes = Rt([], vt(x))), S[b++] = K;
            }
          }
        }
      } catch (ie) {
        e = { error: ie };
      } finally {
        try {
          E && !E.done && (r = O.return) && r.call(O);
        } finally {
          if (e)
            throw e.error;
        }
      }
      S.length = b;
      var ee = function(ie) {
        var le = g.get(ie).getDomain();
        return Array.isArray(le) && le[0] > le[1] ? [] : Rt([], vt(le));
      };
      return {
        type: "ungrouped",
        data: S,
        domain: {
          keys: p.map(function(ie) {
            return ee(ie);
          }),
          values: h.map(function(ie) {
            return ee(ie);
          })
        },
        defs: {
          allScopesHaveSameDefs: C,
          keys: p,
          values: h
        },
        partialValidDataCount: _,
        time: 0
      };
    }, o.prototype.groupData = function(t, e) {
      var r, n, i, a, s, l, u, c, d = /* @__PURE__ */ new Map();
      try {
        for (var p = Ke(t.data), h = p.next(); !h.done; h = p.next()) {
          var f = h.value, v = f.keys, g = f.values, y = f.datum, m = f.validScopes, C = e ? e(f) : v, S = G2(C);
          if (d.has(S)) {
            var b = d.get(S);
            if (b.values.push(g), b.datum.push(y), m != null)
              for (var _ = function(N) {
                var k = (u = b.validScopes) === null || u === void 0 ? void 0 : u[N];
                if (m.some(function(L) {
                  return L === k;
                }))
                  return "continue";
                (c = b.validScopes) === null || c === void 0 || c.splice(N, 1);
              }, O = 0; O < ((l = (s = b.validScopes) === null || s === void 0 ? void 0 : s.length) !== null && l !== void 0 ? l : 0); O++)
                _(O);
          } else
            d.set(S, { keys: C, values: [g], datum: [y], validScopes: m });
        }
      } catch (N) {
        r = { error: N };
      } finally {
        try {
          h && !h.done && (n = p.return) && n.call(p);
        } finally {
          if (r)
            throw r.error;
        }
      }
      var E = new Array(d.size), D = new Array(d.size), x = 0;
      try {
        for (var P = Ke(d.entries()), M = P.next(); !M.done; M = P.next()) {
          var F = vt(M.value, 2), I = F[1], v = I.keys, g = I.values, y = I.datum, m = I.validScopes;
          (m == null ? void 0 : m.length) !== 0 && (D[x] = v, E[x++] = {
            keys: v,
            values: g,
            datum: y,
            validScopes: m
          });
        }
      } catch (N) {
        i = { error: N };
      } finally {
        try {
          M && !M.done && (a = P.return) && a.call(P);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return _t(_t({}, t), { type: "grouped", data: E, domain: _t(_t({}, t.domain), { groups: D }) });
    }, o.prototype.aggregateData = function(t) {
      var e, r, n = this, i, a, s, l, u, c, d, p, h = this.aggregates;
      if (h) {
        var f = h.map(function() {
          return [1 / 0, -1 / 0];
        }), v = h.map(function(O) {
          return n.valueGroupIdxLookup(O);
        }), g = h.map(function(O) {
          return O.aggregateFunction;
        }), y = h.map(function(O) {
          return O.groupAggregateFunction;
        }), m = h.map(function(O) {
          return O.finalFunction;
        }), C = function(O) {
          var E, D, x, P, M = O.values, F = O.validScopes;
          (i = O.aggValues) !== null && i !== void 0 || (O.aggValues = new Array(v.length)), t.type === "ungrouped" && (M = [M]);
          var I = 0;
          try {
            for (var N = (E = void 0, Ke(v)), k = N.next(); !k.done; k = N.next()) {
              var L = k.value, B = (a = F == null ? void 0 : F.some(function(K) {
                var ee;
                return (ee = h[I].matchScopes) === null || ee === void 0 ? void 0 : ee.some(function(ie) {
                  return K === ie;
                });
              })) !== null && a !== void 0 ? a : !0;
              if (!B) {
                I++;
                continue;
              }
              var j = (l = (s = y[I]) === null || s === void 0 ? void 0 : s.call(y)) !== null && l !== void 0 ? l : gp([]), J = function(K) {
                var ee = L.map(function(le) {
                  return K[le];
                }), ie = g[I](ee, O.keys);
                ie && (j = (c = (u = y[I]) === null || u === void 0 ? void 0 : u.call(y, ie, j)) !== null && c !== void 0 ? c : gp(ie, j));
              };
              try {
                for (var U = (x = void 0, Ke(M)), Y = U.next(); !Y.done; Y = U.next()) {
                  var X = Y.value;
                  J(X);
                }
              } catch (K) {
                x = { error: K };
              } finally {
                try {
                  Y && !Y.done && (P = U.return) && P.call(U);
                } finally {
                  if (x)
                    throw x.error;
                }
              }
              var ne = ((p = (d = m[I]) === null || d === void 0 ? void 0 : d.call(m, j)) !== null && p !== void 0 ? p : j).map(function(K) {
                return k2(K);
              });
              gp(ne, f[I]), O.aggValues[I++] = ne;
            }
          } catch (K) {
            E = { error: K };
          } finally {
            try {
              k && !k.done && (D = N.return) && D.call(N);
            } finally {
              if (E)
                throw E.error;
            }
          }
        };
        try {
          for (var S = Ke(t.data), b = S.next(); !b.done; b = S.next()) {
            var _ = b.value;
            C(_);
          }
        } catch (O) {
          e = { error: O };
        } finally {
          try {
            b && !b.done && (r = S.return) && r.call(S);
          } finally {
            if (e)
              throw e.error;
          }
        }
        t.domain.aggValues = f;
      }
    }, o.prototype.postProcessGroups = function(t) {
      var e, r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C = this.groupProcessors;
      if (C) {
        var S = /* @__PURE__ */ new Set(), b = /* @__PURE__ */ new Map(), _ = /* @__PURE__ */ new Map(), O = /* @__PURE__ */ new Map();
        try {
          for (var E = Ke(C), D = E.next(); !D.done; D = E.next()) {
            var x = D.value, P = this.valueGroupIdxLookup(x);
            _.set(x, P), O.set(x, x.adjust());
            try {
              for (var M = (n = void 0, Ke(P)), F = M.next(); !F.done; F = M.next()) {
                var I = F.value, N = this.values[I];
                S.add(I), b.set(I, new cg(N.valueType === "category" ? "discrete" : "continuous"));
              }
            } catch (ye) {
              n = { error: ye };
            } finally {
              try {
                F && !F.done && (i = M.return) && i.call(M);
              } finally {
                if (n)
                  throw n.error;
              }
            }
          }
        } catch (ye) {
          e = { error: ye };
        } finally {
          try {
            D && !D.done && (r = E.return) && r.call(E);
          } finally {
            if (e)
              throw e.error;
          }
        }
        var k = function(ye) {
          var He, $e, Ne;
          try {
            for (var ke = Ke(S), Q = ke.next(); !Q.done; Q = ke.next()) {
              var fe = Q.value;
              (Ne = b.get(fe)) === null || Ne === void 0 || Ne.extend(ye[fe]);
            }
          } catch (De) {
            He = { error: De };
          } finally {
            try {
              Q && !Q.done && ($e = ke.return) && $e.call(ke);
            } finally {
              if (He)
                throw He.error;
            }
          }
        };
        try {
          for (var L = Ke(t.data), B = L.next(); !B.done; B = L.next()) {
            var j = B.value, J = function(ye) {
              var He, $e, Ne = (v = (f = j.validScopes) === null || f === void 0 ? void 0 : f.some(function(Ct) {
                var zt;
                return (zt = ye.matchScopes) === null || zt === void 0 ? void 0 : zt.some(function(Rn) {
                  return Ct === Rn;
                });
              })) !== null && v !== void 0 ? v : !0;
              if (!Ne)
                return "continue";
              var ke = (g = _.get(ye)) !== null && g !== void 0 ? g : [], Q = (m = (y = O.get(ye)) === null || y === void 0 ? void 0 : y()) !== null && m !== void 0 ? m : function() {
              };
              if (t.type === "grouped") {
                try {
                  for (var fe = (He = void 0, Ke(j.values)), De = fe.next(); !De.done; De = fe.next()) {
                    var Ve = De.value;
                    Ve && Q(Ve, ke);
                  }
                } catch (Ct) {
                  He = { error: Ct };
                } finally {
                  try {
                    De && !De.done && ($e = fe.return) && $e.call(fe);
                  } finally {
                    if (He)
                      throw He.error;
                  }
                }
                return "continue";
              }
              j.values && Q(j.values, ke);
            };
            try {
              for (var U = (l = void 0, Ke(C)), Y = U.next(); !Y.done; Y = U.next()) {
                var x = Y.value;
                J(x);
              }
            } catch (ye) {
              l = { error: ye };
            } finally {
              try {
                Y && !Y.done && (u = U.return) && u.call(U);
              } finally {
                if (l)
                  throw l.error;
              }
            }
            if (t.type === "grouped")
              try {
                for (var X = (c = void 0, Ke(j.values)), ne = X.next(); !ne.done; ne = X.next()) {
                  var K = ne.value;
                  k(K);
                }
              } catch (ye) {
                c = { error: ye };
              } finally {
                try {
                  ne && !ne.done && (d = X.return) && d.call(X);
                } finally {
                  if (c)
                    throw c.error;
                }
              }
            else
              k(j.values);
          }
        } catch (ye) {
          a = { error: ye };
        } finally {
          try {
            B && !B.done && (s = L.return) && s.call(L);
          } finally {
            if (a)
              throw a.error;
          }
        }
        try {
          for (var ee = Ke(b), ie = ee.next(); !ie.done; ie = ee.next()) {
            var le = vt(ie.value, 2), I = le[0], Ce = le[1];
            t.domain.values[I] = Rt([], vt(Ce.getDomain()));
          }
        } catch (ye) {
          p = { error: ye };
        } finally {
          try {
            ie && !ie.done && (h = ee.return) && h.call(ee);
          } finally {
            if (p)
              throw p.error;
          }
        }
      }
    }, o.prototype.postProcessProperties = function(t) {
      var e, r, n = this.propertyProcessors;
      if (n)
        try {
          for (var i = Ke(n), a = i.next(); !a.done; a = i.next()) {
            var s = a.value, l = s.adjust, u = s.property, c = s.scopes;
            l()(t, this.valueIdxLookup(c != null ? c : [], u));
          }
        } catch (d) {
          e = { error: d };
        } finally {
          try {
            a && !a.done && (r = i.return) && r.call(i);
          } finally {
            if (e)
              throw e.error;
          }
        }
    }, o.prototype.reduceData = function(t) {
      var e, r, n, i, a, s = this.reducers, l = s.map(function(g) {
        return g.scopes;
      }), u = s.map(function(g) {
        return g.reducer();
      }), c = s.map(function(g) {
        return g.initialValue;
      }), d = function(g) {
        var y, m, C = 0;
        try {
          for (var S = (y = void 0, Ke(u)), b = S.next(); !b.done; b = S.next()) {
            var _ = b.value, O = (i = (n = g.validScopes) === null || n === void 0 ? void 0 : n.some(function(E) {
              var D;
              return (D = l[C]) === null || D === void 0 ? void 0 : D.some(function(x) {
                return E === x;
              });
            })) !== null && i !== void 0 ? i : !0;
            if (!O) {
              C++;
              continue;
            }
            c[C] = _(c[C], g), C++;
          }
        } catch (E) {
          y = { error: E };
        } finally {
          try {
            b && !b.done && (m = S.return) && m.call(S);
          } finally {
            if (y)
              throw y.error;
          }
        }
      };
      try {
        for (var p = Ke(t.data), h = p.next(); !h.done; h = p.next()) {
          var f = h.value;
          d(f);
        }
      } catch (g) {
        e = { error: g };
      } finally {
        try {
          h && !h.done && (r = p.return) && r.call(p);
        } finally {
          if (e)
            throw e.error;
        }
      }
      for (var v = 0; v < c.length; v++)
        (a = t.reduced) !== null && a !== void 0 || (t.reduced = {}), t.reduced[s[v].property] = c[v];
    }, o.prototype.postProcessData = function(t) {
      var e, r, n, i = this.processors;
      try {
        for (var a = Ke(i), s = a.next(); !s.done; s = a.next()) {
          var l = s.value;
          (n = t.reduced) !== null && n !== void 0 || (t.reduced = {}), t.reduced[l.property] = l.calculate(t);
        }
      } catch (u) {
        e = { error: u };
      } finally {
        try {
          s && !s.done && (r = a.return) && r.call(a);
        } finally {
          if (e)
            throw e.error;
        }
      }
    }, o.prototype.initDataDomainProcessor = function() {
      var t, e, r, n, i, a = this, s = a.keys, l = a.values, u = /* @__PURE__ */ new Set();
      try {
        for (var c = Ke(l), d = c.next(); !d.done; d = c.next()) {
          var p = d.value;
          try {
            for (var h = (r = void 0, Ke((i = p.scopes) !== null && i !== void 0 ? i : [])), f = h.next(); !f.done; f = h.next()) {
              var v = f.value;
              u.add(v);
            }
          } catch (E) {
            r = { error: E };
          } finally {
            try {
              f && !f.done && (n = h.return) && n.call(h);
            } finally {
              if (r)
                throw r.error;
            }
          }
        }
      } catch (E) {
        t = { error: E };
      } finally {
        try {
          d && !d.done && (e = c.return) && e.call(c);
        } finally {
          if (t)
            throw t.error;
        }
      }
      var g = u.size, y = /* @__PURE__ */ new Map(), m = /* @__PURE__ */ new Map(), C = !0, S = function(E, D, x) {
        var P;
        x === void 0 && (x = y), D === "category" ? x.set(E, new cg("discrete")) : (x.set(E, new cg("continuous")), C && (C = ((P = E.scopes) !== null && P !== void 0 ? P : []).length === g));
      }, b = function() {
        s.forEach(function(E) {
          return S(E, E.valueType);
        }), l.forEach(function(E) {
          return S(E, E.valueType);
        });
      };
      b();
      var _ = this.buildAccessors.apply(this, Rt(Rt([], vt(s)), vt(l))), O = function(E, D, x) {
        var P, M, F, I, N = E.property in _, k = !1, L;
        if (N) {
          try {
            L = _[E.property](D);
          } catch (J) {
          }
          k = L !== void 0;
        } else
          k = E.property in D, L = k ? D[E.property] : E.missingValue;
        var B = "missingValue" in E;
        if (!k && !B && E.missing++, y.has(E) || b(), k) {
          var j = (M = (P = E.validation) === null || P === void 0 ? void 0 : P.call(E, L, D)) !== null && M !== void 0 ? M : !0;
          if (!j)
            if ("invalidValue" in E)
              L = E.invalidValue;
            else
              return Fs;
        }
        return E.processor && (m.has(E) || m.set(E, E.processor()), L = (F = m.get(E)) === null || F === void 0 ? void 0 : F(L, x !== Fs ? x : void 0)), (I = y.get(E)) === null || I === void 0 || I.extend(L), L;
      };
      return { dataDomain: y, processValue: O, initDataDomain: b, scopes: u, allScopesHaveSameDefs: C };
    }, o.prototype.buildAccessors = function() {
      for (var t, e, r = [], n = 0; n < arguments.length; n++)
        r[n] = arguments[n];
      var i = {};
      try {
        for (var a = Ke(r), s = a.next(); !s.done; s = a.next()) {
          var l = s.value, u = l.property.indexOf(".") >= 0 || l.property.indexOf("[") >= 0;
          if (u) {
            var c = void 0;
            l.property.startsWith("[") ? c = "return datum" + l.property + ";" : c = "return datum." + l.property + ";", i[l.property] = new Function("datum", c);
          }
        }
      } catch (d) {
        t = { error: d };
      } finally {
        try {
          s && !s.done && (e = a.return) && e.call(a);
        } finally {
          if (t)
            throw t.error;
        }
      }
      return i;
    }, o.DEBUG = function() {
      var t;
      return (t = [!0, "data-model"].includes(jn("agChartsDebug"))) !== null && t !== void 0 ? t : !1;
    }, o;
  }()
);
function B2(o) {
  var t, e, r = function(i, a) {
    a.length > 0 && (console.log("DataModel.processData() - " + i), console.table(a));
  };
  if (console.log("DataModel.processData() - processedData", o), r("Key Domains", o.domain.keys), r("Group Domains", (t = o.domain.groups) !== null && t !== void 0 ? t : []), r("Value Domains", o.domain.values), r("Aggregate Domains", (e = o.domain.aggValues) !== null && e !== void 0 ? e : []), o.type === "grouped") {
    var n = o.data.reduce(function(i, a) {
      var s, l, u = (s = a.keys) !== null && s !== void 0 ? s : [], c = (l = a.aggValues) !== null && l !== void 0 ? l : [], d = a.keys.map(function() {
      }), p = c == null ? void 0 : c.map(function() {
      });
      return i.push.apply(i, Rt([], vt(a.values.map(function(h, f) {
        return Rt(Rt(Rt([], vt(f === 0 ? u : d)), vt(h != null ? h : [])), vt(f == 0 ? c : p));
      })))), i;
    }, []);
    r("Values", n);
  } else {
    var n = o.data.reduce(function(a, s) {
      var l, u = (l = s.aggValues) !== null && l !== void 0 ? l : [];
      return a.push(Rt(Rt(Rt([], vt(s.keys)), vt(s.values)), vt(u))), a;
    }, []);
    r("Values", n);
  }
}
function RO() {
  return function(o, t) {
    var e = ["Property [" + o + "] is deprecated.", t].filter(function(r) {
      return r != null;
    }).join(" ");
    pe.warnOnce(e);
  };
}
function H2(o, t) {
  var e = t == null ? void 0 : t.default, r = RO();
  return au(function(n, i, a) {
    return a !== e && r(i.toString(), o), a;
  });
}
function j2(o, t) {
  var e = RO();
  return au(function(r, n, i) {
    return i !== r[o] && (e(n.toString(), "Use [" + o + "] instead."), r[o] = t ? t(i) : i), Rh;
  }, function(r, n) {
    return e(n.toString(), "Use [" + o + "] instead."), r[o];
  });
}
var Xi = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, W2 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, _r = "ag-chart-tooltip", $2 = `
.` + _r + ` {
    transition: transform 0.1s ease;
    display: table;
    position: fixed;
    left: 0px;
    top: 0px;
    white-space: nowrap;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: black;
    background: rgb(244, 244, 244);
    border-radius: 5px;
    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);
}

.` + _r + `-no-interaction {
    pointer-events: none;
    user-select: none;
}

.` + _r + `-no-animation {
    transition: none !important;
}

.` + _r + `-hidden {
    visibility: hidden;
}

.` + _r + `-title {
    font-weight: bold;
    padding: 7px;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    color: white;
    background-color: #888888;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
}

.` + _r + `-content {
    padding: 7px;
    line-height: 1.7em;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
    overflow: hidden;
}

.` + _r + `-content:empty {
    padding: 0;
    height: 7px;
}

.` + _r + `-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 6px solid #989898;

    border-left-color: transparent;
    border-right-color: transparent;
    border-top-color: #989898;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.` + _r + `-arrow::after {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid black;

    border-left-color: transparent;
    border-right-color: transparent;
    border-top-color: rgb(244, 244, 244);
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;
function ur(o, t) {
  var e, r, n, i;
  if (typeof o == "string")
    return o;
  t = t != null ? t : {};
  var a = o.content, s = a === void 0 ? (e = t.content) !== null && e !== void 0 ? e : "" : a, l = o.title, u = l === void 0 ? (r = t.title) !== null && r !== void 0 ? r : void 0 : l, c = o.color, d = c === void 0 ? (n = t.color) !== null && n !== void 0 ? n : "white" : c, p = o.backgroundColor, h = p === void 0 ? (i = t.backgroundColor) !== null && i !== void 0 ? i : "#888" : p, f = u ? '<div class="' + _r + `-title"
        style="color: ` + d + "; background-color: " + h + '">' + u + "</div>" : "";
  return f + '<div class="' + _r + '-content">' + s + "</div>";
}
var U2 = ["pointer", "node"], z2 = we(function(o) {
  return U2.includes(o);
}, "expecting a position type keyword such as 'pointer' or 'node'"), DO = (
  /** @class */
  function() {
    function o() {
      this.type = "pointer", this.xOffset = 0, this.yOffset = 0;
    }
    return Xi([
      A(z2)
    ], o.prototype, "type", void 0), Xi([
      A(ae())
    ], o.prototype, "xOffset", void 0), Xi([
      A(ae())
    ], o.prototype, "yOffset", void 0), o;
  }()
), K2 = (
  /** @class */
  function() {
    function o(t, e, r) {
      var n = this;
      this.enableInteraction = !1, this.enabled = !0, this.showArrow = void 0, this.class = void 0, this.lastClass = void 0, this.delay = 0, this.range = "nearest", this.position = new DO(), this.showTimeout = 0, this._showArrow = !0, this.tooltipRoot = r;
      var i = e.createElement("div");
      if (this.element = this.tooltipRoot.appendChild(i), this.element.classList.add(_r), this.canvasElement = t, window.IntersectionObserver) {
        var a = new IntersectionObserver(function(l) {
          var u, c;
          try {
            for (var d = W2(l), p = d.next(); !p.done; p = d.next()) {
              var h = p.value;
              h.target === n.canvasElement && h.intersectionRatio === 0 && n.toggle(!1);
            }
          } catch (f) {
            u = { error: f };
          } finally {
            try {
              p && !p.done && (c = d.return) && c.call(d);
            } finally {
              if (u)
                throw u.error;
            }
          }
        }, { root: this.tooltipRoot });
        a.observe(this.canvasElement), this.observer = a;
      }
      if (o.tooltipDocuments.indexOf(e) < 0) {
        var s = e.createElement("style");
        s.innerHTML = $2, e.head.insertBefore(s, e.head.querySelector("style")), o.tooltipDocuments.push(e);
      }
    }
    return o.prototype.destroy = function() {
      var t = this.element.parentNode;
      t && t.removeChild(this.element), this.observer && this.observer.unobserve(this.canvasElement);
    }, o.prototype.isVisible = function() {
      var t = this.element;
      return !t.classList.contains(_r + "-hidden");
    }, o.prototype.updateClass = function(t, e) {
      var r = this, n = r.element, i = r.class, a = r.lastClass, s = r.enableInteraction, l = this.isVisible(), u = function(c, d) {
        var p = _r + "-" + c;
        d ? n.classList.add(p) : n.classList.remove(p);
      };
      u("no-animation", !l && !!t), u("no-interaction", !s), u("hidden", !t), u("arrow", !!e), i !== a && (a && n.classList.remove(a), i && n.classList.add(i), this.lastClass = i);
    }, o.prototype.show = function(t, e, r) {
      var n = this, i, a, s, l, u, c, d;
      r === void 0 && (r = !1);
      var p = this, h = p.element, f = p.canvasElement;
      if (e !== void 0)
        h.innerHTML = e;
      else if (!h.innerHTML) {
        this.toggle(!1);
        return;
      }
      var v = function(F, I, N) {
        return Math.max(Math.min(I, N), F);
      }, g = (a = (i = t.position) === null || i === void 0 ? void 0 : i.xOffset) !== null && a !== void 0 ? a : 0, y = (l = (s = t.position) === null || s === void 0 ? void 0 : s.yOffset) !== null && l !== void 0 ? l : 0, m = f.getBoundingClientRect(), C = m.left + t.offsetX - h.clientWidth / 2 + g, S = m.top + t.offsetY - h.clientHeight - 8 + y, b = this.getWindowBoundingBox(), _ = b.x + b.width - h.clientWidth - 1, O = b.y + b.height - h.clientHeight, E = v(b.x, C, _), D = v(b.y, S, O), x = E !== C || D !== S, P = !x && !g && !y, M = (c = (u = t.showArrow) !== null && u !== void 0 ? u : this.showArrow) !== null && c !== void 0 ? c : P;
      if (this.updateShowArrow(M), h.style.transform = "translate(" + Math.round(E) + "px, " + Math.round(D) + "px)", this.enableInteraction = (d = t.enableInteraction) !== null && d !== void 0 ? d : !1, this.delay > 0 && !r) {
        this.toggle(!1), this.showTimeout = window.setTimeout(function() {
          n.toggle(!0);
        }, this.delay);
        return;
      }
      this.toggle(!0);
    }, o.prototype.getWindowBoundingBox = function() {
      return new Ye(0, 0, window.innerWidth, window.innerHeight);
    }, o.prototype.toggle = function(t) {
      t || window.clearTimeout(this.showTimeout), this.updateClass(t, this._showArrow);
    }, o.prototype.pointerLeftOntoTooltip = function(t) {
      var e;
      if (!this.enableInteraction)
        return !1;
      var r = (e = t.sourceEvent.relatedTarget) === null || e === void 0 ? void 0 : e.classList, n = ["", "-title", "-content"], i = !!n.filter(function(a) {
        return r == null ? void 0 : r.contains("" + _r + a);
      });
      return r !== void 0 && i;
    }, o.prototype.updateShowArrow = function(t) {
      this._showArrow = t;
    }, o.tooltipDocuments = [], Xi([
      A(at)
    ], o.prototype, "enabled", void 0), Xi([
      A(Ti)
    ], o.prototype, "showArrow", void 0), Xi([
      A(Oe)
    ], o.prototype, "class", void 0), Xi([
      A(ae(0))
    ], o.prototype, "delay", void 0), Xi([
      j2("range", function(t) {
        return t ? "nearest" : "exact";
      })
    ], o.prototype, "tracking", void 0), Xi([
      A(TO)
    ], o.prototype, "range", void 0), o;
  }()
), Y2 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function PO(o, t) {
  var e, r;
  t === void 0 && (t = [0, 0]);
  try {
    for (var n = Y2(o), i = n.next(); !i.done; i = n.next()) {
      var a = i.value;
      typeof a == "number" && (a < 0 && (t[0] += a), a > 0 && (t[1] += a));
    }
  } catch (s) {
    e = { error: s };
  } finally {
    try {
      i && !i.done && (r = n.return) && r.call(n);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return t;
}
function X2(o, t, e) {
  return {
    id: t,
    scopes: [o.id],
    type: "aggregate",
    matchGroupIds: e ? [e] : void 0,
    aggregateFunction: function(r) {
      return PO(r);
    },
    groupAggregateFunction: function(r, n) {
      var i, a;
      return n === void 0 && (n = [0, 0]), n[0] += (i = r == null ? void 0 : r[0]) !== null && i !== void 0 ? i : 0, n[1] += (a = r == null ? void 0 : r[1]) !== null && a !== void 0 ? a : 0, n;
    }
  };
}
function bw(o, t) {
  return {
    id: t,
    scopes: [o.id],
    type: "aggregate",
    aggregateFunction: function() {
      return [0, 1];
    },
    groupAggregateFunction: function(e, r) {
      var n, i;
      return r === void 0 && (r = [0, 0]), r[0] += (n = e == null ? void 0 : e[0]) !== null && n !== void 0 ? n : 0, r[1] += (i = e == null ? void 0 : e[1]) !== null && i !== void 0 ? i : 0, r;
    }
  };
}
function q2(o, t, e) {
  var r = {
    id: t,
    scopes: [o.id],
    matchGroupIds: e ? [e] : void 0,
    type: "aggregate",
    aggregateFunction: function(n) {
      return PO(n);
    },
    groupAggregateFunction: function(n, i) {
      var a, s;
      return i === void 0 && (i = [0, 0, -1]), i[0] += (a = n == null ? void 0 : n[0]) !== null && a !== void 0 ? a : 0, i[1] += (s = n == null ? void 0 : n[1]) !== null && s !== void 0 ? s : 0, i[2]++, i;
    },
    finalFunction: function(n) {
      n === void 0 && (n = [0, 0, 0]);
      var i = n[0] + n[1];
      return i >= 0 ? [0, i / n[2]] : [i / n[2], 0];
    }
  };
  return r;
}
function Ew(o, t, e, r) {
  var n = {
    id: t,
    scopes: [o.id],
    matchGroupIds: r ? [r] : void 0,
    type: "aggregate",
    aggregateFunction: function(i, a) {
      a === void 0 && (a = []);
      var s = a[1] - a[0];
      return e.aggregateFunction(i).map(function(l) {
        return l / s;
      });
    }
  };
  return e.groupAggregateFunction && (n.groupAggregateFunction = e.groupAggregateFunction), n;
}
function Z2() {
  return function() {
    var o = 0;
    return function(t) {
      return typeof t != "number" || isNaN(t) ? t : (o += t, o);
    };
  };
}
var Yu = /* @__PURE__ */ new Map();
function Ph(o, t) {
  var e, r, n, i = JSON.stringify(o, null, 0);
  return Yu.has(t) || Yu.set(t, /* @__PURE__ */ new Map()), !((e = Yu.get(t)) === null || e === void 0) && e.has(i) || (r = Yu.get(t)) === null || r === void 0 || r.set(i, t(o)), (n = Yu.get(t)) === null || n === void 0 ? void 0 : n.get(i);
}
var AO = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Q2 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Xl = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, dg = {
  type: "reducer",
  property: "smallestKeyInterval",
  initialValue: 1 / 0,
  reducer: function() {
    var o = NaN;
    return function(t, e) {
      var r = e.keys[0], n = Math.abs(r - o);
      return o = r, !isNaN(n) && n > 0 && n < t ? n : t;
    };
  }
}, J2 = {
  type: "processor",
  property: "sortedGroupDomain",
  calculate: function(o) {
    var t = o.domain.groups;
    if (t != null)
      return Q2([], AO(t)).sort(function(e, r) {
        for (var n = 0; n < e.length; n++) {
          var i = e[n] - r[n];
          if (i !== 0)
            return i;
        }
        return 0;
      });
  }
};
function e$(o) {
  var t = o.normaliseTo, e = o.mode, r = function(n, i) {
    var a = n * t / i;
    return a >= 0 ? Math.min(t, a) : Math.max(-t, a);
  };
  return function() {
    return function() {
      return function(n, i) {
        var a, s, l, u, c = [0, 0];
        try {
          for (var d = Xl(i), p = d.next(); !p.done; p = d.next()) {
            var h = p.value, f = n[h], v = f < 0 ? 0 : 1;
            e === "sum" ? c[v] += f : v === 0 ? c[v] = Math.min(c[v], f) : c[v] = Math.max(c[v], f);
          }
        } catch (C) {
          a = { error: C };
        } finally {
          try {
            p && !p.done && (s = d.return) && s.call(d);
          } finally {
            if (a)
              throw a.error;
          }
        }
        var g = Math.max(Math.abs(c[0]), c[1]);
        try {
          for (var y = Xl(i), m = y.next(); !m.done; m = y.next()) {
            var h = m.value;
            n[h] = r(n[h], g);
          }
        } catch (C) {
          l = { error: C };
        } finally {
          try {
            m && !m.done && (u = y.return) && u.call(y);
          } finally {
            if (l)
              throw l.error;
          }
        }
      };
    };
  };
}
function Oy(o, t, e, r) {
  return r === void 0 && (r = "sum"), {
    scopes: [o.id],
    type: "group-value-processor",
    matchGroupIds: t,
    adjust: Ph({ normaliseTo: e, mode: r }, e$)
  };
}
function t$(o) {
  var t = o.normaliseTo, e = o.rangeMin, r = o.rangeMax, n = t[1] - t[0], i = function(a, s, l) {
    var u = t[0] + (a - s) / l * n;
    return l === 0 || u >= t[1] ? t[1] : u < t[0] ? t[0] : u;
  };
  return function() {
    return function(a, s) {
      var l, u, c, d, p = AO(a.domain.values[s], 2), h = p[0], f = p[1];
      e != null && (h = e), r != null && (f = r);
      var v = f - h;
      a.domain.values[s] = [t[0], t[1]];
      try {
        for (var g = Xl(a.data), y = g.next(); !y.done; y = g.next()) {
          var m = y.value, C = m.values;
          a.type === "ungrouped" && (C = [C]);
          try {
            for (var S = (c = void 0, Xl(C)), b = S.next(); !b.done; b = S.next()) {
              var _ = b.value;
              _[s] = i(_[s], h, v);
            }
          } catch (O) {
            c = { error: O };
          } finally {
            try {
              b && !b.done && (d = S.return) && d.call(S);
            } finally {
              if (c)
                throw c.error;
            }
          }
        }
      } catch (O) {
        l = { error: O };
      } finally {
        try {
          y && !y.done && (u = g.return) && u.call(g);
        } finally {
          if (l)
            throw l.error;
        }
      }
    };
  };
}
function Ow(o, t, e, r, n) {
  return {
    scopes: [o.id],
    type: "property-value-processor",
    property: t,
    adjust: Ph({ normaliseTo: e, rangeMin: r, rangeMax: n }, t$)
  };
}
function r$(o) {
  return function() {
    return function() {
      return function(t, e) {
        var r, n, i = 0;
        try {
          for (var a = Xl(e), s = a.next(); !s.done; s = a.next()) {
            var l = s.value, u = t[l];
            typeof u != "number" || isNaN(u) || (o === "normal" && (i += u), t[l] = i, o === "trailing" && (i += u));
          }
        } catch (c) {
          r = { error: c };
        } finally {
          try {
            s && !s.done && (n = a.return) && n.call(a);
          } finally {
            if (r)
              throw r.error;
          }
        }
      };
    };
  };
}
function n$(o) {
  var t = o.mode, e = o.sum;
  return function() {
    var r = [], n = !0;
    return function() {
      return function(i, a) {
        var s, l, u = 0;
        try {
          for (var c = Xl(a), d = c.next(); !d.done; d = c.next()) {
            var p = d.value, h = i[p], f = n && e === "current" ? 0 : r[p];
            r[p] = h;
            var v = e === "current" ? h : f;
            if (typeof h != "number" || isNaN(h)) {
              i[p] = v;
              continue;
            }
            if (typeof f != "number" || isNaN(f)) {
              i[p] = v;
              continue;
            }
            t === "normal" && (u += v), i[p] = u, t === "trailing" && (u += v);
          }
        } catch (g) {
          s = { error: g };
        } finally {
          try {
            d && !d.done && (l = c.return) && l.call(c);
          } finally {
            if (s)
              throw s.error;
          }
        }
        n = !1;
      };
    };
  };
}
function i$(o, t, e, r) {
  var n;
  if (e.startsWith("window")) {
    var i = e.endsWith("-trailing") ? "trailing" : "normal";
    n = Ph({ mode: i, sum: r }, n$);
  } else
    n = Ph(e, r$);
  return {
    scopes: [o.id],
    type: "group-value-processor",
    matchGroupIds: [t],
    adjust: n
  };
}
function MO(o, t) {
  return t === void 0 && (t = !0), {
    type: "processor",
    property: "diff",
    calculate: function(e) {
      for (var r = {
        changed: !1,
        added: [],
        updated: [],
        removed: []
      }, n = /* @__PURE__ */ new Map(), i = /* @__PURE__ */ new Map(), a = /* @__PURE__ */ new Map(), s = "___", l = 0; l < Math.max(o.data.length, e.data.length); l++) {
        var u = o.data[l], c = e.data[l], d = u == null ? void 0 : u.keys.join(s), p = c == null ? void 0 : c.keys.join(s);
        if (d === p) {
          Yp(u.values, c.values) || i.set(p, c);
          continue;
        }
        a.has(p) ? ((t || !Yp(a.get(p).values, c.values)) && i.set(p, c), a.delete(p)) : c && n.set(p, c), n.has(d) ? ((t || !Yp(n.get(d).values, u.values)) && i.set(d, u), n.delete(d)) : u && a.set(d, u);
      }
      return r.added = Array.from(n.values()).map(function(h) {
        return h.keys;
      }), r.updated = Array.from(i.values()).map(function(h) {
        return h.keys;
      }), r.removed = Array.from(a.values()).map(function(h) {
        return h.keys;
      }), r.changed = r.added.length > 0 || r.updated.length > 0 || r.removed.length > 0, r;
    }
  };
}
function Yp(o, t) {
  if (o == null || t == null || o.length !== t.length)
    return !1;
  for (var e = 0; e < o.length; e++) {
    if (Array.isArray(o[e]) && Array.isArray(t[e]))
      return Yp(o[e], t[e]);
    if (o[e] !== t[e])
      return !1;
  }
  return !0;
}
function Ft(o, t) {
  return au(function(e, r, n) {
    return e[o][t != null ? t : r] = n, n;
  });
}
function si(o) {
  var t = o.newValue, e = o.oldValue, r = o.changeValue;
  return au(function(n, i, a, s) {
    return a !== s && (s !== void 0 && (e == null || e.call(n, s)), a !== void 0 && (t == null || t.call(n, a)), r == null || r.call(n, a, s)), a;
  });
}
var oC = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), as = function() {
  return as = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, as.apply(this, arguments);
}, rr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, o$ = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, xw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, pg = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, a$ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Lt;
(function(o) {
  o[o.EXACT_SHAPE_MATCH = 0] = "EXACT_SHAPE_MATCH", o[o.NEAREST_BY_MAIN_AXIS_FIRST = 1] = "NEAREST_BY_MAIN_AXIS_FIRST", o[o.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST = 2] = "NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST", o[o.NEAREST_NODE = 3] = "NEAREST_NODE";
})(Lt || (Lt = {}));
function aC(o) {
  return Th(o, !0) != null;
}
function IO(o) {
  return Th(o, !1) != null;
}
function sC(o, t, e, r) {
  r === void 0 && (r = {});
  var n = as({ scopes: [o.id], property: t, type: "key", valueType: e ? "range" : "category", validation: e ? aC : IO }, r);
  return n;
}
function or(o, t, e, r) {
  r === void 0 && (r = {});
  var n = as({ scopes: [o.id], property: t, type: "value", valueType: e ? "range" : "category", validation: e ? aC : IO }, r);
  return n;
}
function s$(o, t, e) {
  e === void 0 && (e = {});
  var r = e.min, n = r === void 0 ? -1 / 0 : r, i = e.max, a = i === void 0 ? 1 / 0 : i, s = o$(e, ["min", "max"]);
  return as({ scopes: [o.id], type: "value", property: t, valueType: "range", validation: aC, processor: function() {
    return function(l) {
      return typeof l != "number" || isNaN(l) ? l : Math.min(Math.max(l, n), a);
    };
  } }, s);
}
function l$(o, t, e, r) {
  r === void 0 && (r = {});
  var n = as(as({}, or(o, t, e, r)), { processor: Z2() });
  return n;
}
function ja(o, t, e, r, n, i) {
  return n === void 0 && (n = "current"), [or(o, t, e, i), i$(o, i.groupId, r, n)];
}
var dd = (
  /** @class */
  function() {
    function o(t, e, r) {
      this.type = "nodeClick", this.event = t, this.datum = e.datum, this.seriesId = r.id;
    }
    return o;
  }()
), u$ = (
  /** @class */
  function(o) {
    oC(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t;
  }(dd)
), c$ = (
  /** @class */
  function(o) {
    oC(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeDoubleClick", e;
    }
    return t;
  }(dd)
), d$ = (
  /** @class */
  function() {
    function o() {
      this.fill = "yellow", this.fillOpacity = void 0, this.stroke = void 0, this.strokeWidth = void 0;
    }
    return rr([
      A(ct)
    ], o.prototype, "fill", void 0), rr([
      A(tt(0, 1))
    ], o.prototype, "fillOpacity", void 0), rr([
      A(ct)
    ], o.prototype, "stroke", void 0), rr([
      A(tt(0))
    ], o.prototype, "strokeWidth", void 0), o;
  }()
), p$ = (
  /** @class */
  function() {
    function o() {
      this.strokeWidth = void 0, this.dimOpacity = void 0, this.enabled = void 0;
    }
    return rr([
      A(tt(0))
    ], o.prototype, "strokeWidth", void 0), rr([
      A(tt(0, 1))
    ], o.prototype, "dimOpacity", void 0), rr([
      A(Ti)
    ], o.prototype, "enabled", void 0), o;
  }()
), h$ = (
  /** @class */
  function() {
    function o() {
      this.color = "black";
    }
    return rr([
      A(ct)
    ], o.prototype, "color", void 0), o;
  }()
), lC = (
  /** @class */
  function() {
    function o() {
      this.item = new d$(), this.series = new p$(), this.text = new h$();
    }
    return o;
  }()
), gs = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.showArrow = void 0, this.interaction = new f$(), this.position = new DO();
    }
    return rr([
      A(at)
    ], o.prototype, "enabled", void 0), rr([
      A(Ti)
    ], o.prototype, "showArrow", void 0), o;
  }()
), f$ = (
  /** @class */
  function() {
    function o() {
      this.enabled = !1;
    }
    return rr([
      A(at)
    ], o.prototype, "enabled", void 0), o;
  }()
), Af = (
  /** @class */
  function(o) {
    oC(t, o);
    function t(e) {
      var r, n = o.call(this) || this;
      n.id = lo(n), n.rootGroup = new Se({ name: "seriesRoot", isVirtual: !0 }), n.axes = (r = {}, r[ue.X] = void 0, r[ue.Y] = void 0, r), n.directions = [ue.X, ue.Y], n.nodeDataRefresh = !0, n._data = void 0, n._visible = !0, n.showInLegend = !0, n.cursor = "default", n.nodeClickRange = "exact", n.seriesGrouping = void 0, n._declarationOrder = -1, n.highlightStyle = new lC(), n.ctx = e.moduleCtx;
      var i = e.useLabelLayer, a = i === void 0 ? !1 : i, s = e.pickModes, l = s === void 0 ? [Lt.NEAREST_BY_MAIN_AXIS_FIRST] : s, u = e.directionKeys, c = u === void 0 ? {} : u, d = e.directionNames, p = d === void 0 ? {} : d, h = e.contentGroupVirtual, f = h === void 0 ? !0 : h, v = n.rootGroup;
      return n.directionKeys = c, n.directionNames = p, n.contentGroup = v.appendChild(new Se({
        name: n.id + "-content",
        layer: !f,
        isVirtual: f,
        zIndex: bt.SERIES_LAYER_ZINDEX,
        zIndexSubOrder: n.getGroupZIndexSubOrder("data")
      })), n.highlightGroup = v.appendChild(new Se({
        name: n.id + "-highlight",
        layer: !0,
        zIndex: bt.SERIES_LAYER_ZINDEX,
        zIndexSubOrder: n.getGroupZIndexSubOrder("highlight")
      })), n.highlightNode = n.highlightGroup.appendChild(new Se({ name: "highlightNode" })), n.highlightLabel = n.highlightGroup.appendChild(new Se({ name: "highlightLabel" })), n.highlightNode.zIndex = 0, n.highlightLabel.zIndex = 10, n.pickModes = l, a && (n.labelGroup = v.appendChild(new Se({
        name: n.id + "-series-labels",
        layer: !0,
        zIndex: bt.SERIES_LABEL_ZINDEX
      }))), n;
    }
    return Object.defineProperty(t.prototype, "type", {
      get: function() {
        var e;
        return (e = this.constructor.type) !== null && e !== void 0 ? e : "";
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "data", {
      get: function() {
        return this._data;
      },
      set: function(e) {
        this._data = e, this.nodeDataRefresh = !0;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.hasData = function() {
      var e = this.data;
      return e && (!Array.isArray(e) || e.length > 0);
    }, Object.defineProperty(t.prototype, "visible", {
      get: function() {
        return this._visible;
      },
      set: function(e) {
        this._visible = e, this.visibleChanged();
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.onSeriesGroupingChange = function(e, r) {
      var n = this, i = this, a = i.id, s = i.type, l = i.visible, u = i.rootGroup;
      e && this.ctx.seriesStateManager.deregisterSeries({ id: a, type: s }), r && this.ctx.seriesStateManager.registerSeries({ id: a, type: s, visible: l, seriesGrouping: r }), this.ctx.seriesLayerManager.changeGroup({
        id: a,
        type: s,
        rootGroup: u,
        getGroupZIndexSubOrder: function(c) {
          return n.getGroupZIndexSubOrder(c);
        },
        seriesGrouping: r,
        oldGrouping: e
      });
    }, t.prototype.getBandScalePadding = function() {
      return { inner: 1, outer: 0 };
    }, t.prototype.getGroupZIndexSubOrder = function(e, r) {
      var n = this;
      r === void 0 && (r = 0);
      var i = 0;
      switch (e) {
        case "data":
        case "paths":
          break;
        case "labels":
          i += 2e4;
          break;
        case "marker":
          i += 1e4;
          break;
        case "highlight":
          r += 15e3;
          break;
      }
      var a = function() {
        return n._declarationOrder + i;
      };
      return [a, r];
    }, t.prototype.addChartEventListeners = function() {
    }, t.prototype.destroy = function() {
      this.ctx.seriesStateManager.deregisterSeries(this), this.ctx.seriesLayerManager.releaseGroup(this);
    }, t.prototype.getDirectionValues = function(e, r) {
      var n = this, i = this.resolveKeyDirection(e), a = r == null ? void 0 : r[i], s = [], l = function() {
        for (var c, d, p = [], h = 0; h < arguments.length; h++)
          p[h] = arguments[h];
        try {
          for (var f = xw(p), v = f.next(); !v.done; v = f.next()) {
            var g = v.value;
            u(g);
          }
        } catch (y) {
          c = { error: y };
        } finally {
          try {
            v && !v.done && (d = f.return) && d.call(f);
          } finally {
            if (c)
              throw c.error;
          }
        }
      }, u = function(c) {
        Array.isArray(c) ? l.apply(void 0, a$([], pg(c))) : typeof c == "object" ? l(Object.values(c)) : s.push(c);
      };
      return a && a.forEach(function(c) {
        var d = n[c];
        u(d);
      }), s;
    }, t.prototype.getKeys = function(e) {
      return this.getDirectionValues(e, this.directionKeys);
    }, t.prototype.getNames = function(e) {
      return this.getDirectionValues(e, this.directionNames);
    }, t.prototype.resolveKeyDirection = function(e) {
      return e;
    }, t.prototype.markNodeDataDirty = function() {
      this.nodeDataRefresh = !0;
    }, t.prototype.visibleChanged = function() {
      this.ctx.seriesStateManager.registerSeries(this);
    }, t.prototype.getOpacity = function(e) {
      var r = this.highlightStyle.series, n = r.dimOpacity, i = n === void 0 ? 1 : n, a = r.enabled, s = a === void 0 ? !0 : a, l = 1;
      if (s === !1 || i === l)
        return l;
      switch (this.isItemIdHighlighted(e)) {
        case "no-highlight":
        case "highlighted":
          return l;
        case "peer-highlighted":
        case "other-highlighted":
          return i;
      }
    }, t.prototype.getStrokeWidth = function(e, r) {
      var n = this.highlightStyle.series, i = n.strokeWidth, a = n.enabled, s = a === void 0 ? !0 : a;
      if (s === !1 || i === void 0)
        return e;
      switch (this.isItemIdHighlighted(r)) {
        case "highlighted":
          return i;
        case "no-highlight":
        case "other-highlighted":
        case "peer-highlighted":
          return e;
      }
    }, t.prototype.isItemIdHighlighted = function(e) {
      var r, n = (r = this.ctx.highlightManager) === null || r === void 0 ? void 0 : r.getActiveHighlight(), i = n != null ? n : {}, a = i.series, s = i.itemId, l = a != null;
      return l ? a !== this ? "other-highlighted" : s === void 0 ? "highlighted" : e && n !== e && s !== e.itemId ? "peer-highlighted" : "highlighted" : "no-highlight";
    }, t.prototype.pickNode = function(e, r) {
      var n, i, a = this, s = a.pickModes, l = a.visible, u = a.rootGroup;
      if (!(!l || !u.visible))
        try {
          for (var c = xw(s), d = c.next(); !d.done; d = c.next()) {
            var p = d.value;
            if (!(r && !r.includes(p))) {
              var h = void 0;
              switch (p) {
                case Lt.EXACT_SHAPE_MATCH:
                  h = this.pickNodeExactShape(e);
                  break;
                case Lt.NEAREST_BY_MAIN_AXIS_FIRST:
                case Lt.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:
                  h = this.pickNodeMainAxisFirst(e, p === Lt.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);
                  break;
                case Lt.NEAREST_NODE:
                  h = this.pickNodeClosestDatum(e);
                  break;
              }
              if (h)
                return { pickMode: p, match: h.datum, distance: h.distance };
            }
          }
        } catch (f) {
          n = { error: f };
        } finally {
          try {
            d && !d.done && (i = c.return) && i.call(c);
          } finally {
            if (n)
              throw n.error;
          }
        }
    }, t.prototype.pickNodeExactShape = function(e) {
      var r = this.contentGroup.pickNode(e.x, e.y);
      if (r)
        return {
          datum: r.datum,
          distance: 0
        };
    }, t.prototype.pickNodeClosestDatum = function(e) {
      throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented");
    }, t.prototype.pickNodeMainAxisFirst = function(e, r) {
      throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented");
    }, t.prototype.fireNodeClickEvent = function(e, r) {
      var n = this.getNodeClickEvent(e, r);
      this.fireEvent(n);
    }, t.prototype.fireNodeDoubleClickEvent = function(e, r) {
      var n = this.getNodeDoubleClickEvent(e, r);
      this.fireEvent(n);
    }, t.prototype.getNodeClickEvent = function(e, r) {
      return new u$(e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      return new c$(e, r, this);
    }, t.prototype.toggleSeriesItem = function(e, r) {
      this.visible = r, this.nodeDataRefresh = !0;
    }, t.prototype.isEnabled = function() {
      return this.visible;
    }, t.prototype.fixNumericExtent = function(e, r) {
      var n, i = Kp(e);
      if (i.length === 0)
        return i;
      var a = pg(i, 2), s = a[0], l = a[1];
      if (s === l) {
        var u = pg((n = r == null ? void 0 : r.calculatePadding(s, l)) !== null && n !== void 0 ? n : [1, 1], 2), c = u[0], d = u[1];
        s -= c, l += d;
      }
      return [s, l];
    }, t.highlightedZIndex = 1e12, rr([
      A(lr)
    ], t.prototype, "id", void 0), rr([
      A(at)
    ], t.prototype, "_visible", void 0), rr([
      A(at)
    ], t.prototype, "showInLegend", void 0), rr([
      A(lr)
    ], t.prototype, "cursor", void 0), rr([
      A(TO)
    ], t.prototype, "nodeClickRange", void 0), rr([
      si({
        changeValue: function(e, r) {
          this.onSeriesGroupingChange(r, e);
        }
      })
    ], t.prototype, "seriesGrouping", void 0), t;
  }(CO)
), yp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ah = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      t === void 0 && (t = 0), e === void 0 && (e = t), r === void 0 && (r = t), n === void 0 && (n = e), this.top = t, this.right = e, this.bottom = r, this.left = n;
    }
    return o.prototype.clear = function() {
      this.top = this.right = this.bottom = this.left = 0;
    }, yp([
      A(ae(0))
    ], o.prototype, "top", void 0), yp([
      A(ae(0))
    ], o.prototype, "right", void 0), yp([
      A(ae(0))
    ], o.prototype, "bottom", void 0), yp([
      A(ae(0))
    ], o.prototype, "left", void 0), o;
  }()
), v$ = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Tw = (
  /** @class */
  function() {
    function o() {
    }
    return o.init = function() {
      var t = this, e = window.ResizeObserver;
      if (e)
        this.resizeObserver = new e(function(n) {
          var i, a;
          try {
            for (var s = v$(n), l = s.next(); !l.done; l = s.next()) {
              var u = l.value, c = u.contentRect, d = c.width, p = c.height;
              t.checkSize(t.elements.get(u.target), u.target, d, p);
            }
          } catch (h) {
            i = { error: h };
          } finally {
            try {
              l && !l.done && (a = s.return) && a.call(s);
            } finally {
              if (i)
                throw i.error;
            }
          }
        });
      else {
        var r = function() {
          t.elements.forEach(function(n, i) {
            t.checkClientSize(i, n);
          });
        };
        this.pollerHandler = window.setInterval(r, 100);
      }
      this.ready = !0;
    }, o.destroy = function() {
      var t;
      this.pollerHandler != null && (clearInterval(this.pollerHandler), this.pollerHandler = void 0), (t = this.resizeObserver) === null || t === void 0 || t.disconnect(), this.resizeObserver = void 0, this.ready = !1;
    }, o.checkSize = function(t, e, r, n) {
      t && (!t.size || r !== t.size.width || n !== t.size.height) && (t.size = { width: r, height: n }, t.cb(t.size, e));
    }, o.observe = function(t, e) {
      this.ready || this.init(), this.unobserve(t, !1), this.resizeObserver && this.resizeObserver.observe(t), this.elements.set(t, { cb: e }), this.checkClientSize(t, { cb: e });
    }, o.unobserve = function(t, e) {
      e === void 0 && (e = !0), this.resizeObserver && this.resizeObserver.unobserve(t), this.elements.delete(t), e && this.elements.size === 0 && this.destroy();
    }, o.checkClientSize = function(t, e) {
      var r = t.clientWidth ? t.clientWidth : 0, n = t.clientHeight ? t.clientHeight : 0;
      this.checkSize(e, t, r, n);
    }, o.elements = /* @__PURE__ */ new Map(), o.ready = !1, o;
  }()
);
function g$(o, t, e, r, n) {
  var i = o.x;
  o.x < t ? i = t : o.x > t + r && (i = t + r);
  var a = o.y;
  o.y < e ? a = e : o.y > e + n && (a = e + n);
  var s = o.x - i, l = o.y - a, u = Math.sqrt(s * s + l * l);
  return u <= o.size * 0.5;
}
function FO(o, t, e, r, n) {
  var i = o.x + o.width > t && o.x < t + r, a = o.y + o.height > e && o.y < e + n;
  return i && a;
}
function y$(o, t, e, r, n) {
  return t + r < o.x + o.width && t > o.x && e > o.y && e + n < o.y + o.height;
}
function m$(o) {
  return o != null && typeof o.point == "object" && typeof o.label == "object";
}
function C$(o, t, e) {
  e === void 0 && (e = 5);
  var r = [];
  o = o.map(function(c) {
    return c.slice().sort(function(d, p) {
      return p.point.size - d.point.size;
    });
  });
  for (var n = 0; n < o.length; n++) {
    var i = r[n] = [], a = o[n];
    if (a != null && a.length && a[0].label)
      for (var s = function(c, d) {
        var p = a[c], h = p.label, f = p.point.size * 0.5, v = p.point.x - h.width * 0.5, g = p.point.y - f - h.height - e, y = h.width, m = h.height, C = !t || y$(t, v, g, y, m);
        if (!C)
          return "continue";
        var S = o.some(function(_) {
          return _.some(function(O) {
            return g$(O.point, v, g, y, m);
          });
        });
        if (S)
          return "continue";
        var b = r.some(function(_) {
          return _.some(function(O) {
            return FO(O, v, g, y, m);
          });
        });
        if (b)
          return "continue";
        i.push({
          index: c,
          text: h.text,
          x: v,
          y: g,
          width: y,
          height: m,
          datum: p
        });
      }, l = 0, u = a.length; l < u; l++)
        s(l, u);
  }
  return r;
}
function S$(o, t) {
  for (var e = [], r = function(a) {
    var s = o[a], l = s.point, u = l.x, c = l.y, d = s.label.text, p = s.label, h = p.width, f = p.height;
    h += t != null ? t : 0, f += t != null ? t : 0;
    var v = e.some(function(g) {
      var y = FO(g, u, c, h, f);
      return y;
    });
    if (v)
      return { value: !0 };
    e.push({
      index: a,
      text: d,
      x: u,
      y: c,
      width: h,
      height: f,
      datum: s
    });
  }, n = 0; n < o.length; n++) {
    var i = r(n);
    if (typeof i == "object")
      return i.value;
  }
  return !1;
}
var w$ = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, _$ = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
};
function b$(o) {
  return LO(function(t, e) {
    return requestAnimationFrame(t);
  }, o);
}
function E$(o) {
  return LO(function(t, e) {
    return e === void 0 && (e = 0), setTimeout(t, e);
  }, o);
}
function LO(o, t) {
  var e = 0, r = !1, n, i, a = function() {
    return r;
  }, s = function() {
    r = !1, i == null || i(), i = void 0, n = void 0, e > 0 && o(l);
  }, l = function() {
    var u = e;
    e = 0, r = !0;
    var c = t({ count: u });
    if (!c) {
      s();
      return;
    }
    c.then(s).catch(s);
  };
  return {
    schedule: function(u) {
      e === 0 && !a() && o(l, u), e++;
    },
    await: function() {
      return w$(this, void 0, void 0, function() {
        return _$(this, function(u) {
          switch (u.label) {
            case 0:
              if (!a())
                return [
                  2
                  /*return*/
                ];
              n == null && (n = new Promise(function(c) {
                i = c;
              })), u.label = 1;
            case 1:
              return a() ? [4, n] : [3, 3];
            case 2:
              return u.sent(), [3, 1];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    }
  };
}
function Rw(o) {
  return new Promise(function(t) {
    setTimeout(function() {
      return t(void 0);
    }, o);
  });
}
var Dw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, O$ = (
  /** @class */
  function() {
    function o(t, e) {
      this.renderer = void 0, this.text = void 0, this.className = t, this.parentElement = e;
    }
    return o.prototype.show = function(t) {
      var e, r, n = this.element;
      if (n || (n = document.createElement("div"), n.className = this.className, this.element = n), n.style.position = "absolute", n.style.left = t.x + "px", n.style.top = t.y + "px", n.style.width = t.width + "px", n.style.height = t.height + "px", this.renderer)
        n.innerHTML = this.renderer();
      else {
        var i = document.createElement("div");
        i.style.alignItems = "center", i.style.boxSizing = "border-box", i.style.display = "flex", i.style.justifyContent = "center", i.style.margin = "8px", i.style.height = "100%", i.style.font = "12px Verdana, sans-serif", i.innerText = (e = this.text) !== null && e !== void 0 ? e : "No data to display", n.append(i);
      }
      (r = this.parentElement) === null || r === void 0 || r.append(n);
    }, o.prototype.hide = function() {
      var t;
      (t = this.element) === null || t === void 0 || t.remove(), this.element = void 0;
    }, Dw([
      A(mt)
    ], o.prototype, "renderer", void 0), Dw([
      A(Oe)
    ], o.prototype, "text", void 0), o;
  }()
), x$ = (
  /** @class */
  function() {
    function o(t) {
      this.noData = new O$("ag-chart-no-data-overlay", t);
    }
    return o;
  }()
), qi = function() {
  return qi = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, qi.apply(this, arguments);
}, jo = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Wo = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, NO = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function ss(o, t) {
  var e, r, n = Cn(o), i = Cn(t);
  if (i === "array") {
    var a = t;
    return n !== "array" || o.length !== a.length ? Wo([], jo(a)) : a.some(function(g, y) {
      var m;
      return ss((m = o) === null || m === void 0 ? void 0 : m[y], g) != null;
    }) ? Wo([], jo(a)) : null;
  }
  if (i === "primitive")
    return n !== "primitive" ? qi({}, t) : o !== t ? t : null;
  var s = o || {}, l = t || {}, u = new Set(Wo(Wo([], jo(Object.keys(s))), jo(Object.keys(l)))), c = 0, d = {}, p = function(g) {
    if (s[g] === l[g])
      return "continue";
    var y = function(b) {
      d[g] = b, c++;
    }, m = Cn(s[g]), C = Cn(l[g]);
    if (m !== C || C === "primitive" || C === null || C === "array" && s[g].length !== l[g].length || C === "class-instance" || C === "function" && s[g] !== l[g])
      return y(l[g]), "continue";
    var S = ss(s[g], l[g]);
    S !== null && y(S);
  };
  try {
    for (var h = NO(u), f = h.next(); !f.done; f = h.next()) {
      var v = f.value;
      p(v);
    }
  } catch (g) {
    e = { error: g };
  } finally {
    try {
      f && !f.done && (r = h.return) && r.call(h);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return c === 0 ? null : d;
}
var Wn = Symbol("<delete-property>"), Pw = Symbol("<unspecified-property>");
function xt(o, t) {
  var e, r, n, i = (n = t == null ? void 0 : t.avoidDeepClone) !== null && n !== void 0 ? n : [], a = o.map(function(f) {
    return Cn(f);
  });
  if (a.some(function(f) {
    return f === "array";
  })) {
    var s = o[o.length - 1];
    return s instanceof Array ? s.map(function(f) {
      var v = Cn(f);
      return v === "array" ? xt([[], f], t) : v === "object" ? xt([{}, f], t) : f;
    }) : s;
  }
  var l = {}, u = new Set(o.map(function(f) {
    return f != null ? Object.keys(f) : [];
  }).reduce(function(f, v) {
    return f.concat(v);
  }, [])), c = function(f) {
    var v = o.map(function(C) {
      return C != null && typeof C == "object" && f in C ? C[f] : Pw;
    }).filter(function(C) {
      return C !== Pw;
    });
    if (v.length === 0)
      return "continue";
    var g = v[v.length - 1];
    if (g === Wn)
      return "continue";
    var y = v.map(function(C) {
      return Cn(C);
    }), m = y[0];
    if (y.some(function(C) {
      return C !== m;
    }))
      return l[f] = g, "continue";
    (m === "array" || m === "object") && !i.includes(f) ? l[f] = xt(v, t) : m === "array" ? l[f] = Wo([], jo(g)) : l[f] = g;
  };
  try {
    for (var d = NO(u), p = d.next(); !p.done; p = d.next()) {
      var h = p.value;
      c(h);
    }
  } catch (f) {
    e = { error: f };
  } finally {
    try {
      p && !p.done && (r = d.return) && r.call(d);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return l;
}
function Dc(o, t, e) {
  var r, n, i;
  e === void 0 && (e = {});
  var a = e.path, s = a === void 0 ? void 0 : a, l = e.matcherPath, u = l === void 0 ? s ? s.replace(/(\[[0-9+]+\])/i, "[]") : void 0 : l, c = e.skip, d = c === void 0 ? [] : c, p = e.constructors, h = p === void 0 ? {} : p, f = e.constructedArrays, v = f === void 0 ? /* @__PURE__ */ new WeakMap() : f, g = e.allowedTypes, y = g === void 0 ? {} : g, m = e.idx;
  if (o == null)
    throw new Error("AG Charts - target is uninitialised: " + (s != null ? s : "<root>"));
  if (t == null)
    return o;
  var C = o;
  m != null && "_declarationOrder" in C && (C._declarationOrder = m);
  var S = Cn(o), b = function(O) {
    var E = (u ? u + "." : "") + O;
    if (d.indexOf(E) >= 0)
      return "continue";
    var D = t[O], x = (s ? s + "." : "") + O, P = C.constructor, M = C[O], F = (r = h[E]) !== null && r !== void 0 ? r : h[O];
    try {
      var I = Cn(M), N = Cn(D);
      if (S === "class-instance" && !(O in o || Object.prototype.hasOwnProperty.call(C, O)))
        return pe.warn("unable to set [" + x + "] in " + (P == null ? void 0 : P.name) + " - property is unknown"), "continue";
      var k = (n = y[E]) !== null && n !== void 0 ? n : [I];
      if (!(I === "class-instance" && N === "object")) {
        if (I != null && N != null && !k.includes(N))
          return pe.warn("unable to set [" + x + "] in " + (P == null ? void 0 : P.name) + " - can't apply type of [" + N + "], allowed types are: [" + k + "]"), "continue";
      }
      if (N === "array")
        if (F = (i = F != null ? F : v.get(M)) !== null && i !== void 0 ? i : h[E + "[]"], F != null) {
          var L = D;
          C[O] = L.map(function(B, j) {
            return Dc(new F(), B, qi(qi({}, e), { path: x, matcherPath: E + "[]", idx: j }));
          });
        } else
          C[O] = D;
      else
        N === "class-instance" ? C[O] = D : N === "object" ? M != null ? Dc(M, D, qi(qi({}, e), { path: x, matcherPath: E, idx: void 0 })) : F != null ? C[O] = Dc(new F(), D, qi(qi({}, e), { path: x, matcherPath: E, idx: void 0 })) : C[O] = D : C[O] = D;
    } catch (B) {
      return pe.warn("unable to set [" + x + "] in [" + (P == null ? void 0 : P.name) + "]; nested error is: " + B.message), "continue";
    }
  };
  for (var _ in t)
    b(_);
  return o;
}
function ql(o, t, e) {
  for (var r, n = [], i = 3; i < arguments.length; i++)
    n[i - 3] = arguments[i];
  var a = Cn(o), s = (r = e.skip) !== null && r !== void 0 ? r : [];
  if (a === "array") {
    o.forEach(function(c, d) {
      ql.apply(void 0, Wo([c, t, e], jo((n != null ? n : []).map(function(p) {
        return p == null ? void 0 : p[d];
      }))));
    });
    return;
  } else if (a !== "object")
    return;
  t.apply(void 0, Wo([a, o], jo(n)));
  var l = function(c) {
    if (s.indexOf(c) >= 0)
      return "continue";
    var d = o[c], p = n == null ? void 0 : n.map(function(f) {
      return f == null ? void 0 : f[c];
    }), h = Cn(d);
    (h === "object" || h === "array") && ql.apply(void 0, Wo([d, t, e], jo(p)));
  };
  for (var u in o)
    l(u);
}
var T$ = typeof window != "undefined";
function Cn(o) {
  return o == null ? null : T$ && o instanceof HTMLElement ? "primitive" : o instanceof Array ? "array" : o instanceof Date ? "primitive" : typeof o == "object" && o.constructor === Object ? "object" : typeof o == "function" ? "function" : typeof o == "object" && o.constructor != null ? "class-instance" : "primitive";
}
var hg = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, mp = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Cp = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, xy = (
  /** @class */
  function() {
    function o() {
      this.registeredListeners = {};
    }
    return o.prototype.addListener = function(t, e) {
      var r, n = Symbol(t);
      return this.registeredListeners[t] || (this.registeredListeners[t] = []), (r = this.registeredListeners[t]) === null || r === void 0 || r.push({ symbol: n, handler: e }), n;
    }, o.prototype.dispatch = function(t) {
      for (var e, r, n, i = [], a = 1; a < arguments.length; a++)
        i[a - 1] = arguments[a];
      var s = (n = this.registeredListeners[t]) !== null && n !== void 0 ? n : [], l = [];
      try {
        for (var u = hg(s), c = u.next(); !c.done; c = u.next()) {
          var d = c.value;
          try {
            l.push(d.handler.apply(d, Cp([], mp(i))));
          } catch (p) {
            pe.errorOnce(p), l.push(void 0);
          }
        }
      } catch (p) {
        e = { error: p };
      } finally {
        try {
          c && !c.done && (r = u.return) && r.call(u);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return l;
    }, o.prototype.cancellableDispatch = function(t, e) {
      for (var r, n, i, a = [], s = 2; s < arguments.length; s++)
        a[s - 2] = arguments[s];
      var l = (i = this.registeredListeners[t]) !== null && i !== void 0 ? i : [], u = [];
      try {
        for (var c = hg(l), d = c.next(); !d.done; d = c.next()) {
          var p = d.value;
          if (e())
            break;
          u.push(p.handler.apply(p, Cp([], mp(a))));
        }
      } catch (h) {
        r = { error: h };
      } finally {
        try {
          d && !d.done && (n = c.return) && n.call(c);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return u;
    }, o.prototype.reduceDispatch = function(t, e) {
      for (var r, n, i, a = [], s = 2; s < arguments.length; s++)
        a[s - 2] = arguments[s];
      var l = (i = this.registeredListeners[t]) !== null && i !== void 0 ? i : [], u = void 0;
      try {
        for (var c = hg(l), d = c.next(); !d.done; d = c.next()) {
          var p = d.value;
          u = p.handler.apply(p, Cp([], mp(a))), a = e.apply(void 0, Cp([u], mp(a)));
        }
      } catch (h) {
        r = { error: h };
      } finally {
        try {
          d && !d.done && (n = c.return) && n.call(c);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return u;
    }, o.prototype.removeListener = function(t) {
      for (var e in this.registeredListeners) {
        var r = this.registeredListeners[e], n = r == null ? void 0 : r.findIndex(function(i) {
          return i.symbol === t;
        });
        n != null && n >= 0 && (r == null || r.splice(n, 1)), n != null && (r == null ? void 0 : r.length) === 0 && delete this.registeredListeners[e];
      }
    }, o;
  }()
), pd = (
  /** @class */
  function() {
    function o() {
      this.listeners = new xy();
    }
    return o.prototype.addListener = function(t, e) {
      return this.listeners.addListener(t, e);
    }, o.prototype.removeListener = function(t) {
      this.listeners.removeListener(t);
    }, o;
  }()
);
function yc(o, t) {
  return o = +o, t = +t, function(e) {
    return o * (1 - e) + t * e;
  };
}
function GO(o, t) {
  if (typeof o == "string")
    try {
      o = Nt.fromString(o);
    } catch (a) {
      o = Nt.fromArray([0, 0, 0]);
    }
  if (typeof t == "string")
    try {
      t = Nt.fromString(t);
    } catch (a) {
      t = Nt.fromArray([0, 0, 0]);
    }
  var e = yc(o.r, t.r), r = yc(o.g, t.g), n = yc(o.b, t.b), i = yc(o.a, t.a);
  return function(a) {
    return Nt.fromArray([e(a), r(a), n(a), i(a)]).toRgbaString();
  };
}
function kO(o, t) {
  var e = typeof t, r;
  if (e === "number")
    return yc(o, t);
  if (e === "string")
    try {
      return r = Nt.fromString(t), t = r, GO(o, t);
    } catch (n) {
    }
  throw new Error("Unable to interpolate values");
}
function R$(o) {
  return function(t) {
    var e = t.from, r = t.to, n = kO(e, r);
    return function(i) {
      return n(o(i));
    };
  };
}
function VO(o) {
  var t = o.from, e = o.to;
  return kO(t, e);
}
var Zl = R$(function(o) {
  return Math.sin(o * Math.PI / 2);
}), Mh = function() {
  return Mh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Mh.apply(this, arguments);
}, Ih;
(function(o) {
  o.Loop = "loop", o.Reverse = "reverse";
})(Ih || (Ih = {}));
function BO(o) {
  var t = o.driver, e = o.duration, r = o.from, n = o.to, i = o.autoplay, a = i === void 0 ? !0 : i, s = o.delay, l = s === void 0 ? 0 : s, u = o.ease, c = u === void 0 ? VO : u, d = o.repeat, p = d === void 0 ? 0 : d, h = o.repeatType, f = h === void 0 ? Ih.Loop : h, v = o.onComplete, g = o.onPlay, y = o.onRepeat, m = o.onStop, C = o.onUpdate, S, b = 0, _ = 0, O = 0, E = !0, D = !1, x = c({ from: r, to: n }), P = { isPlaying: !1, play: F, pause: I, stop: N, reset: k }, M = t(j);
  function F() {
    return P.isPlaying = !0, M.start(), g == null || g(), P;
  }
  function I() {
    return P.isPlaying = !1, P;
  }
  function N() {
    return P.isPlaying = !1, M.stop(), m == null || m(), P;
  }
  function k() {
    return D = !1, _ = 0, O = 0, M.reset(), P;
  }
  function L() {
    O++, f === Ih.Reverse ? (E = O % 2 === 0, _ = E ? _ % e : e - _ % e) : _ = _ % e, D = !1, y == null || y();
  }
  function B() {
    N(), v == null || v();
  }
  function j(J) {
    if (E || (J = -J), b >= l)
      _ += J;
    else {
      b += J;
      return;
    }
    D || (S = x(Math.min(1, Math.max(0, _ / e))), D = E ? _ >= e : _ <= 0), C == null || C(S), D && (O < p ? L() : B());
  }
  return a && F(), P;
}
function D$(o) {
  var t, e = Mh(Mh({}, o), { autoplay: !1, onUpdate: function(i) {
    t == null || t(i);
  } }), r = BO(e), n = {
    start: function(i) {
      return r.stop(), r.reset(), r.play(), t = i, n;
    },
    stop: function() {
      return r.stop(), n;
    }
  };
  return n;
}
var P$ = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hn = function() {
  return hn = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, hn.apply(this, arguments);
}, A$ = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, M$ = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Aw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, I$ = (
  /** @class */
  function(o) {
    P$(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.controllers = {}, r.throttles = {}, r.throttleGroups = /* @__PURE__ */ new Set(), r.updaters = [], r.isPlaying = !1, r.readyToPlay = !1, r.defaultOptions = {}, r.skipAnimations = !1, r.debug = !1, r.interactionManager = e, window.addEventListener("DOMContentLoaded", function() {
        r.readyToPlay = !0;
      }), setTimeout(function() {
        r.readyToPlay = !0;
      }, 10), r;
    }
    return t.prototype.play = function() {
      if (!this.isPlaying) {
        this.isPlaying = !0, this.debug && pe.debug("AnimationManager.play()");
        for (var e in this.controllers)
          this.controllers[e].play();
        this.startAnimationCycle();
      }
    }, t.prototype.pause = function() {
      if (this.isPlaying) {
        this.isPlaying = !1, this.cancelAnimationFrame(), this.debug && pe.debug("AnimationManager.pause()");
        for (var e in this.controllers)
          this.controllers[e].pause();
      }
    }, t.prototype.stop = function() {
      this.isPlaying = !1, this.cancelAnimationFrame(), this.debug && pe.debug("AnimationManager.stop()");
      for (var e in this.controllers)
        this.controllers[e].stop();
    }, t.prototype.reset = function() {
      this.isPlaying ? (this.stop(), this.play()) : this.stop();
    }, t.prototype.animate = function(e, r) {
      var n, i, a = r.disableInteractions, s = a === void 0 ? !0 : a, l = A$(r, ["disableInteractions"]);
      if (this.skipAnimations) {
        (n = l.onUpdate) === null || n === void 0 || n.call(l, l.to);
        return;
      }
      var u = hn(hn({}, l), { autoplay: this.isPlaying ? l.autoplay : !1, driver: this.createDriver(e, s) });
      this.controllers[e] && this.controllers[e].stop();
      var c = BO(u);
      return this.controllers[e] = c, (i = l.onUpdate) === null || i === void 0 || i.call(l, l.from), c;
    }, t.prototype.animateMany = function(e, r, n) {
      var i, a, s;
      if (this.skipAnimations) {
        var l = r.map(function(O) {
          return O.to;
        });
        n.onUpdate(l), (s = n.onComplete) === null || s === void 0 || s.call(n);
        return;
      }
      var u = r.map(function(O) {
        return O.from;
      }), c = 0, d = 0, p = 0, h = 0, f = function(O) {
        return function(E) {
          var D;
          u[O] = E, ++p >= r.length && ((D = n.onUpdate) === null || D === void 0 || D.call(n, u), p = 0);
        };
      }, v = function() {
        var O;
        ++c >= r.length && ((O = n.onPlay) === null || O === void 0 || O.call(n));
      }, g = function() {
        var O;
        ++d >= r.length && ((O = n.onStop) === null || O === void 0 || O.call(n));
      }, y = function() {
        var O;
        ++h >= r.length && ((O = n.onComplete) === null || O === void 0 || O.call(n));
      }, m = 0;
      try {
        for (var C = M$(r), S = C.next(); !S.done; S = C.next()) {
          var b = S.value, _ = e + "-" + m;
          this.animate(_, hn(hn(hn({}, n), b), { onUpdate: f(m), onPlay: v, onStop: g, onComplete: y })), m++;
        }
      } catch (O) {
        i = { error: O };
      } finally {
        try {
          S && !S.done && (a = C.return) && a.call(C);
        } finally {
          if (i)
            throw i.error;
        }
      }
    }, t.prototype.animateWithThrottle = function(e, r) {
      var n, i = (n = r.throttleId) !== null && n !== void 0 ? n : e;
      this.throttles[i] && r.duration && Date.now() - this.throttles[i] < r.duration && (r.delay = 0, r.duration = 1), this.throttles[e] = Date.now(), this.animate(e, hn({}, r));
    }, t.prototype.animateManyWithThrottle = function(e, r, n) {
      var i = this, a, s = n.throttleGroup, l = (a = n.throttleId) !== null && a !== void 0 ? a : e, u = Date.now(), c = this.throttles[l] && n.duration && u - this.throttles[l] < n.duration, d = s && this.throttleGroups.has(s);
      c && !d && (n.delay = 0, n.duration = 1), !c && s && this.throttleGroups.add(s);
      var p = function() {
        var h;
        s && i.throttleGroups.delete(s), (h = n.onStop) === null || h === void 0 || h.call(n);
      };
      return this.throttles[l] = u, this.animateMany(e, r, hn(hn({}, n), { onStop: p }));
    }, t.prototype.tween = function(e) {
      var r = "tween-" + btoa(JSON.stringify(e)), n = hn(hn({}, e), { driver: this.createDriver(r) });
      return D$(n);
    }, t.prototype.createDriver = function(e, r) {
      var n = this;
      return function(i) {
        return {
          start: function() {
            n.updaters.push([e, i]), n.requestId == null && n.startAnimationCycle(), r && n.interactionManager.pause("animation_" + e);
          },
          stop: function() {
            delete n.controllers[e], n.updaters = n.updaters.filter(function(a) {
              var s = Aw(a, 1), l = s[0];
              return l !== e;
            }), n.updaters.length <= 0 && n.cancelAnimationFrame(), r && n.interactionManager.resume("animation_" + e);
          },
          reset: function() {
          }
        };
      };
    }, t.prototype.startAnimationCycle = function() {
      var e = this;
      if (this.updaters.length !== 0) {
        var r = function(n) {
          if (e.requestId = requestAnimationFrame(r), !!e.readyToPlay) {
            e.lastTime === void 0 && (e.lastTime = n);
            var i = n - e.lastTime;
            e.lastTime = n, e.debug && pe.debug("AnimationManager - frame()", { updaterCount: e.updaters.length }), e.updaters.forEach(function(a) {
              var s = Aw(a, 2);
              s[0];
              var l = s[1];
              return l(i);
            }), e.listeners.dispatch("animation-frame", { type: "animation-frame", deltaMs: i });
          }
        };
        this.requestId = requestAnimationFrame(r);
      }
    }, t.prototype.cancelAnimationFrame = function() {
      this.requestId && (cancelAnimationFrame(this.requestId), this.requestId = void 0, this.lastTime = void 0);
    }, t;
  }(pd)
), F$ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, L$ = (
  /** @class */
  function() {
    function o(t) {
      this.states = {}, this.element = t;
    }
    return o.prototype.updateCursor = function(t, e) {
      delete this.states[t], e != null && (this.states[t] = { style: e }), this.applyStates();
    }, o.prototype.applyStates = function() {
      var t = "default";
      Object.entries(this.states).reverse().slice(0, 1).forEach(function(e) {
        var r = F$(e, 2);
        r[0];
        var n = r[1].style;
        return t = n;
      }), this.element.style.cursor = t;
    }, o;
  }()
), N$ = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), G$ = (
  /** @class */
  function(o) {
    N$(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.legendItemClick = function(e, r, n, i) {
      var a = {
        type: "legend-item-click",
        series: e,
        itemId: r,
        enabled: n,
        legendItemName: i
      };
      this.listeners.dispatch("legend-item-click", a);
    }, t.prototype.legendItemDoubleClick = function(e, r, n, i, a) {
      var s = {
        type: "legend-item-double-click",
        series: e,
        itemId: r,
        enabled: n,
        legendItemName: a,
        numVisibleItems: i
      };
      this.listeners.dispatch("legend-item-double-click", s);
    }, t.prototype.axisHover = function(e, r) {
      var n = {
        type: "axis-hover",
        axisId: e,
        direction: r
      };
      this.listeners.dispatch("axis-hover", n);
    }, t;
  }(pd)
), k$ = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), V$ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
};
function B$(o, t) {
  return o === t ? !0 : !((o == null ? void 0 : o.series) !== (t == null ? void 0 : t.series) || (o == null ? void 0 : o.itemId) !== (t == null ? void 0 : t.itemId) || (o == null ? void 0 : o.datum) !== (t == null ? void 0 : t.datum));
}
var H$ = (
  /** @class */
  function(o) {
    k$(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.states = {}, e.activeHighlight = void 0, e;
    }
    return t.prototype.updateHighlight = function(e, r) {
      delete this.states[e], r != null && (this.states[e] = { highlightedDatum: r }), this.applyStates();
    }, t.prototype.getActiveHighlight = function() {
      return this.activeHighlight;
    }, t.prototype.applyStates = function() {
      var e = this.activeHighlight, r = void 0;
      Object.entries(this.states).reverse().slice(0, 1).forEach(function(a) {
        var s = V$(a, 2);
        s[0];
        var l = s[1].highlightedDatum;
        return r = l;
      }), this.activeHighlight = r;
      var n = !B$(e, this.activeHighlight);
      if (n) {
        var i = {
          type: "highlight-change",
          previousHighlight: e,
          currentHighlight: this.activeHighlight
        };
        this.listeners.dispatch("highlight-change", i);
      }
    }, t;
  }(pd)
), j$ = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), El = function() {
  return El = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, El.apply(this, arguments);
}, W$ = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, $$ = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Xu = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Mw = ["pagehide", "mousemove", "mouseup", "wheel"], Iw = [
  "click",
  "dblclick",
  "contextmenu",
  "mousedown",
  "mouseout",
  "mouseenter",
  "touchstart",
  "touchmove",
  "touchend",
  "touchcancel"
], U$ = `
.ag-chart-wrapper {
    touch-action: none;
}
`, z$ = (
  /** @class */
  function(o) {
    j$(t, o);
    function t(e, r) {
      var n, i, a, s;
      r === void 0 && (r = document);
      var l = o.call(this) || this;
      l.eventHandler = function(v) {
        return l.processEvent(v);
      }, l.mouseDown = !1, l.touchDown = !1, l.enabled = !0, l.pausers = [], l.rootElement = r.body, l.element = e;
      try {
        for (var u = Xu(Iw), c = u.next(); !c.done; c = u.next()) {
          var d = c.value;
          d.startsWith("touch") ? e.addEventListener(d, l.eventHandler, { passive: !0 }) : e.addEventListener(d, l.eventHandler);
        }
      } catch (v) {
        n = { error: v };
      } finally {
        try {
          c && !c.done && (i = u.return) && i.call(u);
        } finally {
          if (n)
            throw n.error;
        }
      }
      try {
        for (var p = Xu(Mw), h = p.next(); !h.done; h = p.next()) {
          var d = h.value;
          d === "wheel" ? window.addEventListener(d, l.eventHandler, { passive: !1 }) : window.addEventListener(d, l.eventHandler);
        }
      } catch (v) {
        a = { error: v };
      } finally {
        try {
          h && !h.done && (s = p.return) && s.call(p);
        } finally {
          if (a)
            throw a.error;
        }
      }
      if (t.interactionDocuments.indexOf(r) < 0) {
        var f = document.createElement("style");
        f.innerHTML = U$, document.head.insertBefore(f, document.head.querySelector("style")), t.interactionDocuments.push(r);
      }
      return l;
    }
    return t.prototype.destroy = function() {
      var e, r, n, i;
      try {
        for (var a = Xu(Mw), s = a.next(); !s.done; s = a.next()) {
          var l = s.value;
          window.removeEventListener(l, this.eventHandler);
        }
      } catch (d) {
        e = { error: d };
      } finally {
        try {
          s && !s.done && (r = a.return) && r.call(a);
        } finally {
          if (e)
            throw e.error;
        }
      }
      try {
        for (var u = Xu(Iw), c = u.next(); !c.done; c = u.next()) {
          var l = c.value;
          this.element.removeEventListener(l, this.eventHandler);
        }
      } catch (d) {
        n = { error: d };
      } finally {
        try {
          c && !c.done && (i = u.return) && i.call(u);
        } finally {
          if (n)
            throw n.error;
        }
      }
    }, t.prototype.resume = function(e) {
      return this.pausers = this.pausers.filter(function(r) {
        return r !== e;
      }), this.enabled = this.pausers.length <= 0, this.enabled;
    }, t.prototype.pause = function(e) {
      this.enabled = !1, this.pausers.push(e);
    }, t.prototype.processEvent = function(e) {
      var r = this.decideInteractionEventTypes(e);
      r.length > 0 && this.enabled && this.dispatchEvent(e, r).catch(function(n) {
        return pe.errorOnce(n);
      });
    }, t.prototype.dispatchEvent = function(e, r) {
      return W$(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d;
        return $$(this, function(p) {
          if (n = this.calculateCoordinates(e), n == null)
            return [
              2
              /*return*/
            ];
          i = function(h) {
            var f = a.buildEvent(El(El({ event: e }, n), { type: h }));
            a.listeners.cancellableDispatch(h, function() {
              return f.consumed;
            }, f);
          }, a = this;
          try {
            for (s = Xu(r), l = s.next(); !l.done; l = s.next())
              u = l.value, i(u);
          } catch (h) {
            c = { error: h };
          } finally {
            try {
              l && !l.done && (d = s.return) && d.call(s);
            } finally {
              if (c)
                throw c.error;
            }
          }
          return [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.decideInteractionEventTypes = function(e) {
      switch (e.type) {
        case "click":
          return ["click"];
        case "dblclick":
          return ["dblclick"];
        case "contextmenu":
          return ["contextmenu"];
        case "mousedown":
          return this.mouseDown = !0, this.dragStartElement = e.target, ["drag-start"];
        case "touchstart":
          return this.touchDown = !0, this.dragStartElement = e.target, ["drag-start"];
        case "touchmove":
        case "mousemove":
          return !this.mouseDown && !this.touchDown && !this.isEventOverElement(e) ? [] : this.mouseDown || this.touchDown ? ["drag"] : ["hover"];
        case "mouseup":
          return !this.mouseDown && !this.isEventOverElement(e) ? [] : (this.mouseDown = !1, this.dragStartElement = void 0, ["drag-end"]);
        case "touchend":
          return !this.touchDown && !this.isEventOverElement(e) ? [] : (this.touchDown = !1, this.dragStartElement = void 0, ["drag-end"]);
        case "mouseout":
        case "touchcancel":
          return ["leave"];
        case "mouseenter":
          var r = e instanceof MouseEvent && (e.buttons & 1) === 1;
          return this.mouseDown !== r ? (this.mouseDown = r, [r ? "drag-start" : "drag-end"]) : [];
        case "pagehide":
          return ["page-left"];
        case "wheel":
          return ["wheel"];
      }
      return [];
    }, t.prototype.isEventOverElement = function(e) {
      var r;
      return e.target === this.element || ((r = e.target) === null || r === void 0 ? void 0 : r.parentElement) === this.element;
    }, t.prototype.calculateCoordinates = function(e) {
      var r;
      if (e instanceof MouseEvent) {
        var n = e.clientX, i = e.clientY, a = e.pageX, s = e.pageY, l = e.offsetX, u = e.offsetY;
        return this.fixOffsets(e, { clientX: n, clientY: i, pageX: a, pageY: s, offsetX: l, offsetY: u });
      } else if (typeof TouchEvent != "undefined" && e instanceof TouchEvent) {
        var c = (r = e.touches[0]) !== null && r !== void 0 ? r : e.changedTouches[0], n = c.clientX, i = c.clientY, a = c.pageX, s = c.pageY;
        return El(El({}, t.NULL_COORDS), { clientX: n, clientY: i, pageX: a, pageY: s });
      } else if (e instanceof PageTransitionEvent)
        return e.persisted ? void 0 : t.NULL_COORDS;
    }, t.prototype.fixOffsets = function(e, r) {
      var n = function(s) {
        for (var l = 0, u = 0; s; )
          l += s.offsetLeft, u += s.offsetTop, s = s.offsetParent;
        return { x: l, y: u };
      };
      if (this.dragStartElement != null && e.target !== this.dragStartElement) {
        var i = n(this.dragStartElement), a = n(e.target);
        r.offsetX -= i.x - a.x, r.offsetY -= i.y - a.y;
      }
      return r;
    }, t.prototype.buildEvent = function(e) {
      var r = e.type, n = e.event, i = e.clientX, a = e.clientY, s = e.offsetX, l = e.offsetY, u = e.pageX, c = e.pageY;
      if (!mr(s) || !mr(l)) {
        var d = this.element.getBoundingClientRect();
        s = i - d.left, l = a - d.top;
      }
      if (!mr(u) || !mr(c)) {
        var p = this.rootElement.getBoundingClientRect();
        u = i - p.left, c = a - p.top;
      }
      var h = {
        type: r,
        offsetX: s,
        offsetY: l,
        pageX: u,
        pageY: c,
        sourceEvent: n,
        consumed: !1,
        consume: function() {
          return h.consumed = !0;
        }
      };
      return h;
    }, t.interactionDocuments = [], t.NULL_COORDS = {
      clientX: -1 / 0,
      clientY: -1 / 0,
      pageX: -1 / 0,
      pageY: -1 / 0,
      offsetX: -1 / 0,
      offsetY: -1 / 0
    }, t;
  }(pd)
), Fw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, K$ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Y$ = (
  /** @class */
  function() {
    function o(t, e) {
      var r = this;
      this.states = {}, this.exclusiveAreas = {}, this.destroyFns = [], this.tooltip = t;
      var n = e.addListener("hover", function(i) {
        return r.checkExclusiveRects(i);
      });
      this.destroyFns.push(function() {
        return e.removeListener(n);
      });
    }
    return o.prototype.updateTooltip = function(t, e, r) {
      var n;
      r == null && (r = (n = this.states[t]) === null || n === void 0 ? void 0 : n.content), this.states[t] = { content: r, meta: e }, this.applyStates();
    }, o.prototype.updateExclusiveRect = function(t, e) {
      e ? this.exclusiveAreas[t] = e : delete this.exclusiveAreas[t];
    }, o.prototype.removeTooltip = function(t) {
      delete this.states[t], this.applyStates();
    }, o.prototype.getTooltipMeta = function(t) {
      var e;
      return (e = this.states[t]) === null || e === void 0 ? void 0 : e.meta;
    }, o.prototype.destroy = function() {
      var t, e;
      try {
        for (var r = Fw(this.destroyFns), n = r.next(); !n.done; n = r.next()) {
          var i = n.value;
          i();
        }
      } catch (a) {
        t = { error: a };
      } finally {
        try {
          n && !n.done && (e = r.return) && e.call(r);
        } finally {
          if (t)
            throw t.error;
        }
      }
    }, o.prototype.checkExclusiveRects = function(t) {
      var e, r, n;
      try {
        for (var i = Fw(Object.entries(this.exclusiveAreas)), a = i.next(); !a.done; a = i.next()) {
          var s = K$(a.value, 2), l = s[0], u = s[1];
          if (u.containsPoint(t.offsetX, t.offsetY)) {
            n = l;
            break;
          }
        }
      } catch (c) {
        e = { error: c };
      } finally {
        try {
          a && !a.done && (r = i.return) && r.call(i);
        } finally {
          if (e)
            throw e.error;
        }
      }
      n !== this.appliedExclusiveArea && (this.appliedExclusiveArea = n, this.applyStates());
    }, o.prototype.applyStates = function() {
      var t = this, e, r = this.appliedExclusiveArea ? [this.appliedExclusiveArea] : Object.keys(this.states), n = void 0, i = void 0;
      if (r.reverse(), r.slice(0, 1).forEach(function(s) {
        var l, u = (l = t.states[s]) !== null && l !== void 0 ? l : {}, c = u.content, d = u.meta;
        n = c, i = d;
      }), i === void 0 || n === void 0) {
        this.appliedState = void 0, this.tooltip.toggle(!1);
        return;
      }
      if (((e = this.appliedState) === null || e === void 0 ? void 0 : e.content) === n) {
        var a = this.tooltip.isVisible();
        this.tooltip.show(i, void 0, a);
      } else
        this.tooltip.show(i, n);
      this.appliedState = { content: n, meta: i };
    }, o;
  }()
), X$ = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ql = function() {
  return Ql = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ql.apply(this, arguments);
}, Lw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Nw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, q$ = (
  /** @class */
  function(o) {
    X$(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.axes = {}, e;
    }
    return t.prototype.updateAxes = function(e) {
      var r = this, n = new Set(Object.keys(this.axes));
      e.forEach(function(i) {
        var a, s, l;
        n.delete(i.id), (a = (s = r.axes)[l = i.id]) !== null && a !== void 0 || (s[l] = new Z$(i));
      }), n.forEach(function(i) {
        delete r.axes[i];
      }), this.initialZoom && (this.updateZoom(this.initialZoom.callerId, this.initialZoom.newZoom), this.initialZoom = void 0);
    }, t.prototype.updateZoom = function(e, r) {
      if (Object.keys(this.axes).length === 0) {
        this.initialZoom = { callerId: e, newZoom: r };
        return;
      }
      Object.values(this.axes).forEach(function(n) {
        n.updateZoom(e, r == null ? void 0 : r[n.getDirection()]);
      }), this.applyStates();
    }, t.prototype.updateAxisZoom = function(e, r, n) {
      var i;
      (i = this.axes[r]) === null || i === void 0 || i.updateZoom(e, n), this.applyStates();
    }, t.prototype.getZoom = function() {
      var e, r;
      if (Object.values(this.axes).forEach(function(n) {
        n.getDirection() === ue.X ? e = n.getZoom() : n.getDirection() === ue.Y && (r = n.getZoom());
      }), e || r)
        return { x: e, y: r };
    }, t.prototype.getAxisZoom = function(e) {
      var r;
      return (r = this.axes[e]) === null || r === void 0 ? void 0 : r.getZoom();
    }, t.prototype.getAxisZooms = function() {
      var e, r, n = {};
      try {
        for (var i = Lw(Object.entries(this.axes)), a = i.next(); !a.done; a = i.next()) {
          var s = Nw(a.value, 2), l = s[0], u = s[1];
          n[l] = {
            direction: u.getDirection(),
            zoom: u.getZoom()
          };
        }
      } catch (c) {
        e = { error: c };
      } finally {
        try {
          a && !a.done && (r = i.return) && r.call(i);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return n;
    }, t.prototype.applyStates = function() {
      var e, r, n = Object.values(this.axes).map(function(h) {
        return h.applyStates();
      }).some(Boolean);
      if (n) {
        var i = this.getZoom(), a = {};
        try {
          for (var s = Lw(Object.entries(this.axes)), l = s.next(); !l.done; l = s.next()) {
            var u = Nw(l.value, 2), c = u[0], d = u[1];
            a[c] = d.getZoom();
          }
        } catch (h) {
          e = { error: h };
        } finally {
          try {
            l && !l.done && (r = s.return) && r.call(s);
          } finally {
            if (e)
              throw e.error;
          }
        }
        var p = Ql(Ql({ type: "zoom-change" }, i != null ? i : {}), { axes: a });
        this.listeners.dispatch("zoom-change", p);
      }
    }, t;
  }(pd)
), Z$ = (
  /** @class */
  function() {
    function o(t) {
      this.states = {}, this.currentZoom = void 0, this.axis = t;
    }
    return o.prototype.getDirection = function() {
      return this.axis.direction;
    }, o.prototype.updateZoom = function(t, e) {
      delete this.states[t], e != null && (this.states[t] = Ql({}, e));
    }, o.prototype.getZoom = function() {
      return this.currentZoom;
    }, o.prototype.applyStates = function() {
      var t, e, r = this.currentZoom, n = Object.keys(this.states)[Object.keys(this.states).length - 1];
      this.currentZoom = Ql({}, this.states[n]);
      var i = (r == null ? void 0 : r.min) !== ((t = this.currentZoom) === null || t === void 0 ? void 0 : t.min) || (r == null ? void 0 : r.max) !== ((e = this.currentZoom) === null || e === void 0 ? void 0 : e.max);
      return i;
    }, o;
  }()
), Fh = function() {
  return Fh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Fh.apply(this, arguments);
};
function Q$(o) {
  return o !== "layout-complete";
}
function J$(o) {
  return o === "layout-complete";
}
var eU = (
  /** @class */
  function() {
    function o() {
      this.layoutProcessors = new xy(), this.listeners = new xy();
    }
    return o.prototype.addListener = function(t, e) {
      if (Q$(t))
        return this.layoutProcessors.addListener(t, e);
      if (J$(t))
        return this.listeners.addListener(t, e);
      throw new Error("AG Charts - unsupported listener type: " + t);
    }, o.prototype.removeListener = function(t) {
      this.listeners.removeListener(t), this.layoutProcessors.removeListener(t);
    }, o.prototype.dispatchPerformLayout = function(t, e) {
      var r = this.layoutProcessors.reduceDispatch(t, function(n, i) {
        var a = n.shrinkRect;
        return [Fh(Fh({}, i), { shrinkRect: a })];
      }, e);
      return r != null ? r : e;
    }, o.prototype.dispatchLayoutComplete = function(t) {
      this.listeners.dispatch("layout-complete", t);
    }, o;
  }()
), tU = (
  /** @class */
  function() {
    function o(t) {
      this.getSeries = t;
    }
    return o;
  }()
), je;
(function(o) {
  o[o.FULL = 0] = "FULL", o[o.PROCESS_DATA = 1] = "PROCESS_DATA", o[o.PERFORM_LAYOUT = 2] = "PERFORM_LAYOUT", o[o.SERIES_UPDATE = 3] = "SERIES_UPDATE", o[o.TOOLTIP_RECALCULATION = 4] = "TOOLTIP_RECALCULATION", o[o.SCENE_RENDER = 5] = "SCENE_RENDER", o[o.NONE = 6] = "NONE";
})(je || (je = {}));
var rU = (
  /** @class */
  function() {
    function o(t) {
      this.updateCallback = t;
    }
    return o.prototype.update = function(t, e) {
      t === void 0 && (t = je.FULL);
      var r = e === void 0 ? {} : e, n = r.forceNodeDataRefresh, i = n === void 0 ? !1 : n;
      this.updateCallback(t, { forceNodeDataRefresh: i });
    }, o;
  }()
), nU = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iU = (
  /** @class */
  function() {
    function o() {
      this.range = "tooltip";
    }
    return nU([
      A(OO("tooltip", "node"))
    ], o.prototype, "range", void 0), o;
  }()
), Gw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, kw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, ft = (
  /** @class */
  function() {
    function o(t, e, r) {
      r === void 0 && (r = !0), this._nodes = [], this._data = [], this._datumNodeIndices = /* @__PURE__ */ new Map(), this._garbage = [], this._garbageCollection = !0, this._parent = t, this._factory = Object.prototype.isPrototypeOf.call(Rf, e) ? function() {
        return new e();
      } : e, this._garbageCollection = r;
    }
    return o.select = function(t, e, r) {
      return r === void 0 && (r = !0), new o(t, e, r);
    }, o.prototype.each = function(t) {
      return this._nodes.forEach(function(e, r) {
        return t(e, e.datum, r);
      }), this;
    }, o.prototype.update = function(t, e, r) {
      var n, i, a = this, s = this._data, l = this._parent, u = this._factory, c = /* @__PURE__ */ new Map();
      if (r ? t.forEach(function(m, C) {
        var S = r(m);
        if (c.set(S, C), !a._datumNodeIndices.has(S)) {
          var b = u(m);
          b.datum = m, e == null || e(b), l.appendChild(b), a._nodes.push(b), a._datumNodeIndices.set(S, a._nodes.length - 1);
        }
      }) : t.length > s.length ? t.slice(s.length).forEach(function(m) {
        var C = u(m);
        C.datum = m, e == null || e(C), l.appendChild(C), a._nodes.push(C);
      }) : t.length < s.length && this._nodes.splice(t.length).forEach(function(m) {
        l.removeChild(m);
      }), this._data = t.slice(0), r) {
        try {
          for (var d = Gw(this._datumNodeIndices), p = d.next(); !p.done; p = d.next()) {
            var h = kw(p.value, 2), f = h[0], v = h[1], g = c.get(f);
            g !== void 0 ? this._nodes[v].datum = t[g] : this._garbage.push(f);
          }
        } catch (m) {
          n = { error: m };
        } finally {
          try {
            p && !p.done && (i = d.return) && i.call(d);
          } finally {
            if (n)
              throw n.error;
          }
        }
        this._garbageCollection && this.cleanup();
      } else
        for (var y = 0; y < t.length; y++)
          this._nodes[y].datum = this._data[y];
      return this;
    }, o.prototype.clear = function() {
      return this.update([]), this;
    }, o.prototype.cleanup = function() {
      var t, e, r = this;
      if (this._garbage.length !== 0) {
        this._garbage.forEach(function(p) {
          var h = r._datumNodeIndices.get(p);
          if (h !== void 0) {
            var f = r._nodes[h];
            delete r._nodes[h], r._datumNodeIndices.delete(p), f && r._parent.removeChild(f);
          }
        });
        var n = 0, i = this._datumNodeIndices.entries(), a = /* @__PURE__ */ new Map();
        try {
          for (var s = Gw(i), l = s.next(); !l.done; l = s.next()) {
            var u = kw(l.value, 2), c = u[0], d = u[1];
            a.set(d, c);
          }
        } catch (p) {
          t = { error: p };
        } finally {
          try {
            l && !l.done && (e = s.return) && e.call(s);
          } finally {
            if (t)
              throw t.error;
          }
        }
        this._nodes = this._nodes.filter(function(p, h) {
          if (p === void 0)
            return !1;
          var f = a.get(h);
          return r._datumNodeIndices.set(f, n), n++, !0;
        }), this._garbage = [];
      }
    }, o.selectAll = function(t, e) {
      var r = [], n = function(i) {
        e(i) && r.push(i), i.children.forEach(n);
      };
      return n(t), r;
    }, o.selectByClass = function(t, e) {
      return o.selectAll(t, function(r) {
        return r instanceof e;
      });
    }, o.selectByTag = function(t, e) {
      return o.selectAll(t, function(r) {
        return r.tag === e;
      });
    }, o.prototype.select = function(t) {
      return o.selectAll(this._parent, t);
    }, o.prototype.selectByClass = function(t) {
      return this.select(function(e) {
        return e instanceof t;
      });
    }, o.prototype.selectByTag = function(t) {
      return this.select(function(e) {
        return e.tag === t;
      });
    }, o.prototype.nodes = function() {
      return this._nodes;
    }, o;
  }()
);
function oU(o, t) {
  var e = -t / o;
  return o !== 0 && e >= 0 && e <= 1 ? [e] : [];
}
function aU(o, t, e) {
  if (o === 0)
    return oU(t, e);
  var r = t * t - 4 * o * e, n = [];
  if (r === 0) {
    var i = -t / (2 * o);
    i >= 0 && i <= 1 && n.push(i);
  } else if (r > 0) {
    var a = Math.sqrt(r), s = (-t - a) / (2 * o), l = (-t + a) / (2 * o);
    s >= 0 && s <= 1 && n.push(s), l >= 0 && l <= 1 && n.push(l);
  }
  return n;
}
function sU(o, t, e, r) {
  if (o === 0)
    return aU(t, e, r);
  var n = t / o, i = e / o, a = r / o, s = (3 * i - n * n) / 9, l = (9 * n * i - 27 * a - 2 * n * n * n) / 54, u = s * s * s + l * l, c = 1 / 3, d = [];
  if (u >= 0) {
    var p = Math.sqrt(u), h = Math.sign(l + p) * Math.pow(Math.abs(l + p), c), f = Math.sign(l - p) * Math.pow(Math.abs(l - p), c), v = Math.abs(Math.sqrt(3) * (h - f) / 2), g = -c * n + (h + f);
    if (g >= 0 && g <= 1 && d.push(g), v === 0) {
      var y = -c * n - (h + f) / 2;
      y >= 0 && y <= 1 && d.push(y);
    }
  } else {
    var m = Math.acos(l / Math.sqrt(-s * s * s)), C = c * n, S = 2 * Math.sqrt(-s), b = S * Math.cos(c * m) - C, _ = S * Math.cos(c * (m + 2 * Math.PI)) - C, O = S * Math.cos(c * (m + 4 * Math.PI)) - C;
    b >= 0 && b <= 1 && d.push(b), _ >= 0 && _ <= 1 && d.push(_), O >= 0 && O <= 1 && d.push(O);
  }
  return d;
}
var lU = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function Pc(o, t, e, r, n, i, a, s) {
  var l = (e - o) * (s - i) - (r - t) * (a - n);
  if (l === 0)
    return null;
  var u = ((a - n) * (t - i) - (o - n) * (s - i)) / l, c = ((e - o) * (t - i) - (r - t) * (o - n)) / l;
  return u >= 0 && u <= 1 && c >= 0 && c <= 1 ? {
    x: o + u * (e - o),
    y: t + u * (r - t)
  } : null;
}
function uU(o, t, e, r, n, i, a, s, l, u, c, d) {
  var p, h, f = [], v = u - d, g = c - l, y = l * (d - u) - u * (c - l), m = Vw(o, e, n, a), C = Vw(t, r, i, s), S = v * m[0] + g * C[0], b = v * m[1] + g * C[1], _ = v * m[2] + g * C[2], O = v * m[3] + g * C[3] + y, E = sU(S, b, _, O);
  try {
    for (var D = lU(E), x = D.next(); !x.done; x = D.next()) {
      var P = x.value, M = P * P, F = P * M, I = m[0] * F + m[1] * M + m[2] * P + m[3], N = C[0] * F + C[1] * M + C[2] * P + C[3], k = void 0;
      l !== c ? k = (I - l) / (c - l) : k = (N - u) / (d - u), k >= 0 && k <= 1 && f.push({ x: I, y: N });
    }
  } catch (L) {
    p = { error: L };
  } finally {
    try {
      x && !x.done && (h = D.return) && h.call(D);
    } finally {
      if (p)
        throw p.error;
    }
  }
  return f;
}
function Vw(o, t, e, r) {
  return [
    // Bézier expressed as matrix operations:
    -o + 3 * t - 3 * e + r,
    3 * o - 6 * t + 3 * e,
    -3 * o + 3 * t,
    o
    //                 | 1  0  0  0| |P4|
  ];
}
function HO(o, t, e, r, n, i, a, s, l, u) {
  var c = (u - s) / (l - a), d = s - c * a, p = Math.pow(c, 2) + 1, h = 2 * (c * (d - t) - o), f = Math.pow(o, 2) + Math.pow(d - t, 2) - Math.pow(e, 2), v = Math.pow(h, 2) - 4 * p * f;
  if (v < 0)
    return [];
  var g = (-h + Math.sqrt(v)) / 2 / p, y = (-h - Math.sqrt(v)) / 2 / p, m = [];
  return [g, y].forEach(function(C) {
    var S = C >= Math.min(a, l) && C <= Math.max(a, l);
    if (S) {
      var b = c * C, _ = Or(i ? n : r), O = Or(i ? r : n), E = Or(Math.atan2(b, C));
      O <= _ && (O += 2 * Math.PI), E < _ && (E += 2 * Math.PI), E >= _ && E <= O && m.push({ x: C, y: b });
    }
  }), m;
}
var cU = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, qt;
(function(o) {
  o[o.Move = 0] = "Move", o[o.Line = 1] = "Line", o[o.Arc = 2] = "Arc", o[o.Curve = 3] = "Curve", o[o.ClosePath = 4] = "ClosePath";
})(qt || (qt = {}));
var Ty = (
  /** @class */
  function() {
    function o() {
      this.previousCommands = [], this.previousParams = [], this.previousClosedPath = !1, this.commands = [], this.params = [], this._closedPath = !1;
    }
    return o.prototype.isDirty = function() {
      if (this._closedPath !== this.previousClosedPath || this.previousCommands.length !== this.commands.length || this.previousParams.length !== this.params.length)
        return !0;
      for (var t = 0; t < this.commands.length; t++)
        if (this.commands[t] !== this.previousCommands[t])
          return !0;
      for (var t = 0; t < this.params.length; t++)
        if (this.params[t] !== this.previousParams[t])
          return !0;
      return !1;
    }, o.prototype.draw = function(t) {
      var e, r, n = this.commands, i = this.params, a = 0;
      t.beginPath();
      try {
        for (var s = cU(n), l = s.next(); !l.done; l = s.next()) {
          var u = l.value;
          switch (u) {
            case qt.Move:
              t.moveTo(i[a++], i[a++]);
              break;
            case qt.Line:
              t.lineTo(i[a++], i[a++]);
              break;
            case qt.Curve:
              t.bezierCurveTo(i[a++], i[a++], i[a++], i[a++], i[a++], i[a++]);
              break;
            case qt.Arc:
              t.arc(i[a++], i[a++], i[a++], i[a++], i[a++], i[a++] === 1);
              break;
            case qt.ClosePath:
              t.closePath();
              break;
          }
        }
      } catch (c) {
        e = { error: c };
      } finally {
        try {
          l && !l.done && (r = s.return) && r.call(s);
        } finally {
          if (e)
            throw e.error;
        }
      }
      n.length === 0 && t.closePath();
    }, o.prototype.moveTo = function(t, e) {
      this.xy ? (this.xy[0] = t, this.xy[1] = e) : this.xy = [t, e], this.commands.push(qt.Move), this.params.push(t, e);
    }, o.prototype.lineTo = function(t, e) {
      this.xy ? (this.commands.push(qt.Line), this.params.push(t, e), this.xy[0] = t, this.xy[1] = e) : this.moveTo(t, e);
    }, o.prototype.rect = function(t, e, r, n) {
      this.moveTo(t, e), this.lineTo(t + r, e), this.lineTo(t + r, e + n), this.lineTo(t, e + n), this.closePath();
    }, o.prototype.arc = function(t, e, r, n, i, a) {
      a === void 0 && (a = !1);
      var s = t + r * Math.cos(i), l = e + r * Math.sin(i);
      this.xy ? (this.xy[0] = s, this.xy[1] = l) : this.xy = [s, l], this.commands.push(qt.Arc), this.params.push(t, e, r, n, i, a ? 1 : 0);
    }, o.prototype.cubicCurveTo = function(t, e, r, n, i, a) {
      this.xy || this.moveTo(t, e), this.commands.push(qt.Curve), this.params.push(t, e, r, n, i, a), this.xy && (this.xy[0] = i, this.xy[1] = a);
    }, Object.defineProperty(o.prototype, "closedPath", {
      get: function() {
        return this._closedPath;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.closePath = function() {
      this.xy && (this.xy = void 0, this.commands.push(qt.ClosePath), this._closedPath = !0);
    }, o.prototype.clear = function(t) {
      var e = t === void 0 ? { trackChanges: !1 } : t, r = e.trackChanges;
      r ? (this.previousCommands = this.commands, this.previousParams = this.params, this.previousClosedPath = this._closedPath, this.commands = [], this.params = []) : (this.commands.length = 0, this.params.length = 0), this.xy = void 0, this._closedPath = !1;
    }, o.prototype.isPointInPath = function(t, e) {
      for (var r = this.commands, n = this.params, i = r.length, a = -1e4, s = -1e4, l = NaN, u = NaN, c = 0, d = 0, p = 0, h = 0, f = 0; h < i; h++)
        switch (r[h]) {
          case qt.Move:
            isNaN(l) || Pc(l, u, c, d, a, s, t, e) && p++, c = n[f++], l = c, d = n[f++], u = d;
            break;
          case qt.Line:
            Pc(c, d, n[f++], n[f++], a, s, t, e) && p++, c = n[f - 2], d = n[f - 1];
            break;
          case qt.Curve:
            p += uU(c, d, n[f++], n[f++], n[f++], n[f++], n[f++], n[f++], a, s, t, e).length, c = n[f - 2], d = n[f - 1];
            break;
          case qt.Arc:
            p += HO(n[f++], n[f++], n[f++], n[f++], n[f++], !!n[f++], a, s, t, e).length, c = n[f - 2], d = n[f - 1];
            break;
          case qt.ClosePath:
            isNaN(l) || Pc(l, u, c, d, a, s, t, e) && p++;
            break;
        }
      return p % 2 === 1;
    }, o;
  }()
), dU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bw = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
function lt(o) {
  var t = o != null ? o : {}, e = t.redraw, r = e === void 0 ? oe.MAJOR : e, n = t.changeCb, i = t.convertor;
  return ve({ redraw: r, type: "path", convertor: i, changeCb: n });
}
var xr = (
  /** @class */
  function(o) {
    dU(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.path = new Ty(), e._dirtyPath = !0, e;
    }
    return Object.defineProperty(t.prototype, "dirtyPath", {
      get: function() {
        return this._dirtyPath;
      },
      set: function(e) {
        this._dirtyPath !== e && (this._dirtyPath = e, e && this.markDirty(this, oe.MAJOR));
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.checkPathDirty = function() {
      var e, r;
      this._dirtyPath || (this.dirtyPath = this.path.isDirty() || ((r = (e = this.fillShadow) === null || e === void 0 ? void 0 : e.isDirty()) !== null && r !== void 0 ? r : !1));
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.transformPoint(e, r);
      return this.path.closedPath && this.path.isPointInPath(n.x, n.y);
    }, t.prototype.isDirtyPath = function() {
      return !1;
    }, t.prototype.updatePath = function() {
    }, t.prototype.render = function(e) {
      var r, n, i = e.ctx, a = e.forceRender, s = e.stats;
      if (this.dirty === oe.NONE && !a) {
        s && (s.nodesSkipped += this.nodeCount.count);
        return;
      }
      if (this.computeTransformMatrix(), this.matrix.toContext(i), (this.dirtyPath || this.isDirtyPath()) && (this.updatePath(), this.dirtyPath = !1), this.clipPath) {
        if (i.save(), this.clipMode === "normal" && (this.clipPath.draw(i), i.clip()), this.path.draw(i), this.fillStroke(i), this.clipMode === "punch-out") {
          this.clipPath.draw(i), i.clip();
          var l = (r = this.computeBBox()) !== null && r !== void 0 ? r : {}, u = l.x, c = u === void 0 ? -1e4 : u, d = l.y, p = d === void 0 ? -1e4 : d, h = l.width, f = h === void 0 ? 2e4 : h, v = l.height, g = v === void 0 ? 2e4 : v;
          i.clearRect(c, p, f, g);
        }
        i.restore();
      } else
        this.path.draw(i), this.fillStroke(i);
      (n = this.fillShadow) === null || n === void 0 || n.markClean(), o.prototype.render.call(this, e);
    }, t.className = "Path", Bw([
      lt()
    ], t.prototype, "clipPath", void 0), Bw([
      lt()
    ], t.prototype, "clipMode", void 0), t;
  }(xi)
), pU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hU = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, sa = (
  /** @class */
  function(o) {
    pU(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.x = 0, e.y = 0, e.size = 12, e;
    }
    return t.prototype.computeBBox = function() {
      var e = this, r = e.x, n = e.y, i = e.size, a = i / 2;
      return new Ye(r - a, n - a, i, i);
    }, t.prototype.applyPath = function(e, r) {
      var n, i, a = this.path, s = this, l = s.x, u = s.y;
      a.clear();
      try {
        for (var c = hU(r), d = c.next(); !d.done; d = c.next()) {
          var p = d.value, h = p.x, f = p.y, v = p.t;
          l += h * e, u += f * e, v === "move" ? a.moveTo(l, u) : a.lineTo(l, u);
        }
      } catch (g) {
        n = { error: g };
      } finally {
        try {
          d && !d.done && (i = c.return) && i.call(c);
        } finally {
          if (n)
            throw n.error;
        }
      }
      a.closePath();
    }, fg([
      lt()
    ], t.prototype, "x", void 0), fg([
      lt()
    ], t.prototype, "y", void 0), fg([
      lt({ convertor: Math.abs })
    ], t.prototype, "size", void 0), t;
  }(xr)
), fU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ac = (
  /** @class */
  function(o) {
    fU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this, r = e.path, n = e.x, i = e.y, a = this.size / 2;
      r.clear(), r.moveTo(this.align(n - a), this.align(i - a)), r.lineTo(this.align(n + a), this.align(i - a)), r.lineTo(this.align(n + a), this.align(i + a)), r.lineTo(this.align(n - a), this.align(i + a)), r.closePath();
    }, t.className = "Square", t;
  }(sa)
), vU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), In = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Hw = (
  /** @class */
  function(o) {
    vU(t, o);
    function t() {
      var e = o.call(this, { name: "markerLabelGroup" }) || this;
      e.label = new ot(), e._marker = new Ac(), e._markerSize = 15, e._spacing = 8;
      var r = e.label;
      return r.textBaseline = "middle", r.fontSize = 12, r.fontFamily = "Verdana, sans-serif", r.fill = "black", r.y = wt.has.textMetrics ? 1 : 0, e.append([e.marker, r]), e.update(), e;
    }
    return Object.defineProperty(t.prototype, "marker", {
      get: function() {
        return this._marker;
      },
      set: function(e) {
        this._marker !== e && (this.removeChild(this._marker), this._marker = e, this.appendChild(e), this.update());
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "markerSize", {
      get: function() {
        return this._markerSize;
      },
      set: function(e) {
        this._markerSize !== e && (this._markerSize = e, this.update());
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "spacing", {
      get: function() {
        return this._spacing;
      },
      set: function(e) {
        this._spacing !== e && (this._spacing = e, this.update());
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.update = function() {
      var e = this.marker, r = this.markerSize;
      e.size = r, this.label.x = r / 2 + this.spacing;
    }, t.prototype.render = function(e) {
      this.marker.opacity = this.opacity, this.label.opacity = this.opacity, o.prototype.render.call(this, e);
    }, t.className = "MarkerLabel", In([
      Ft("label")
    ], t.prototype, "text", void 0), In([
      Ft("label")
    ], t.prototype, "fontStyle", void 0), In([
      Ft("label")
    ], t.prototype, "fontWeight", void 0), In([
      Ft("label")
    ], t.prototype, "fontSize", void 0), In([
      Ft("label")
    ], t.prototype, "fontFamily", void 0), In([
      Ft("label", "fill")
    ], t.prototype, "color", void 0), In([
      Ft("marker", "fill")
    ], t.prototype, "markerFill", void 0), In([
      Ft("marker", "stroke")
    ], t.prototype, "markerStroke", void 0), In([
      Ft("marker", "strokeWidth")
    ], t.prototype, "markerStrokeWidth", void 0), In([
      Ft("marker", "fillOpacity")
    ], t.prototype, "markerFillOpacity", void 0), In([
      Ft("marker", "strokeOpacity")
    ], t.prototype, "markerStrokeOpacity", void 0), t;
  }(Se)
), gU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Yc = (
  /** @class */
  function(o) {
    gU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this, r = e.x, n = e.y, i = e.path, a = e.size, s = a / 2;
      i.clear(), i.arc(r, n, s, 0, Math.PI * 2), i.closePath();
    }, t.className = "Circle", t;
  }(sa)
), yU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), mU = (
  /** @class */
  function(o) {
    yU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this.size / 4.2;
      o.prototype.applyPath.call(this, e, t.moves);
    }, t.className = "Cross", t.moves = [
      { x: -1, y: 0, t: "move" },
      { x: -1, y: -1 },
      { x: 1, y: -1 },
      { x: 1, y: 1 },
      { x: 1, y: -1 },
      { x: 1, y: 1 },
      { x: -1, y: 1 },
      { x: 1, y: 1 },
      { x: -1, y: 1 },
      { x: -1, y: -1 },
      { x: -1, y: 1 },
      { x: -1, y: -1 }
    ], t;
  }(sa)
), CU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jO = (
  /** @class */
  function(o) {
    CU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this.size / 2;
      o.prototype.applyPath.call(this, e, t.moves);
    }, t.className = "Diamond", t.moves = [
      { x: 0, y: -1, t: "move" },
      { x: 1, y: 1 },
      { x: -1, y: 1 },
      { x: -1, y: -1 },
      { x: 1, y: -1 }
    ], t;
  }(sa)
), SU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wU = (
  /** @class */
  function(o) {
    SU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.rad = function(e) {
      return e / 180 * Math.PI;
    }, t.prototype.updatePath = function() {
      var e = this, r = e.x, n = e.path, i = e.size, a = e.rad, s = i / 4, l = this.y + s / 2;
      n.clear(), n.arc(r - s, l - s, s, a(130), a(330)), n.arc(r + s, l - s, s, a(220), a(50)), n.lineTo(r, l + s), n.closePath();
    }, t.className = "Heart", t;
  }(sa)
), _U = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), bU = (
  /** @class */
  function(o) {
    _U(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this.size / 3;
      o.prototype.applyPath.call(this, e, t.moves);
    }, t.className = "Plus", t.moves = [
      { x: -0.5, y: -0.5, t: "move" },
      { x: 0, y: -1 },
      { x: 1, y: 0 },
      { x: 0, y: 1 },
      { x: 1, y: 0 },
      { x: 0, y: 1 },
      { x: -1, y: 0 },
      { x: 0, y: 1 },
      { x: -1, y: 0 },
      { x: 0, y: -1 },
      { x: -1, y: 0 },
      { x: 0, y: -1 }
    ], t;
  }(sa)
), EU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Mc = (
  /** @class */
  function(o) {
    EU(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updatePath = function() {
      var e = this.size * 1.1;
      o.prototype.applyPath.call(this, e, t.moves);
    }, t.className = "Triangle", t.moves = [
      { x: 0, y: -0.48, t: "move" },
      { x: 0.5, y: 0.87 },
      { x: -1, y: 0 }
    ], t;
  }(sa)
);
function lu(o) {
  if (o === void 0 && (o = Ac), typeof o == "string")
    switch (o) {
      case "circle":
        return Yc;
      case "cross":
        return mU;
      case "diamond":
        return jO;
      case "heart":
        return wU;
      case "plus":
        return bU;
      case "triangle":
        return Mc;
      default:
        return Ac;
    }
  return typeof o == "function" ? o : Ac;
}
var OU = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function xU(o) {
  for (var t = o.orientation, e = o.bboxes, r = o.maxHeight, n = o.maxWidth, i = o.itemPaddingY, a = i === void 0 ? 0 : i, s = o.itemPaddingX, l = s === void 0 ? 0 : s, u = o.forceResult, c = u === void 0 ? !1 : u, d = t === "horizontal", p = {
    max: d ? n : r,
    fn: d ? function(m) {
      return m.width;
    } : function(m) {
      return m.height;
    },
    padding: d ? l : a
  }, h = {
    max: d ? r : n,
    fn: d ? function(m) {
      return m.height;
    } : function(m) {
      return m.width;
    },
    padding: d ? a : l
  }, f = 0, v = []; f < e.length; ) {
    var g = e.slice(f), y = TU(g, f, p, h, c);
    if (!y)
      return;
    f += y.processedBBoxCount, v.push(y.pageIndices);
  }
  return DU(v, t, e, a, l);
}
function TU(o, t, e, r, n) {
  var i = 1, a = AU(o, e);
  if (a < i) {
    if (!n)
      return;
    a = i;
  }
  for (var s = a; s >= i; s--) {
    var l = RU(o, t, s, e, r, n);
    if (l == null && s <= i)
      return;
    if (l != null) {
      if (typeof l == "number") {
        if (l <= i)
          return;
        s = l < s && l > i ? l : s;
        continue;
      }
      var u = l.length * l[0].length;
      return { processedBBoxCount: u, pageIndices: l };
    }
  }
}
function RU(o, t, e, r, n, i) {
  for (var a, s = [], l = 0, u = 0, c = [], d = [], p = 0; p < o.length; p++) {
    var h = (p + e) % e;
    h === 0 && (l += u, u = 0, c.length > 0 && s.push(c), c = []);
    var f = r.fn(o[p]) + r.padding;
    d[h] = Math.max((a = d[h]) !== null && a !== void 0 ? a : 0, f), u = Math.max(u, n.fn(o[p]) + n.padding);
    var v = l + u, g = !i || s.length > 0;
    if (v > n.max && g) {
      c = [];
      break;
    }
    var y = d.reduce(function(m, C) {
      return m + C;
    }, 0);
    if (y > r.max && !i)
      return d.length < e ? d.length : void 0;
    c.push(p + t);
  }
  return c.length > 0 && s.push(c), s.length > 0 ? s : void 0;
}
function DU(o, t, e, r, n) {
  var i = 0, a = 0, s = o.map(function(l) {
    t === "horizontal" && (l = PU(l));
    var u = 0, c = l.map(function(h) {
      var f = h.map(function(y) {
        return u = Math.max(y, u), e[y];
      }), v = 0, g = 0;
      return f.forEach(function(y) {
        v += y.height + r, g = Math.max(g, y.width + n);
      }), {
        indices: h,
        bboxes: f,
        columnHeight: v,
        columnWidth: g
      };
    }), d = 0, p = 0;
    return c.forEach(function(h) {
      d += h.columnWidth, p = Math.max(p, h.columnHeight);
    }), i = Math.max(d, i), a = Math.max(p, a), {
      columns: c,
      startIndex: l[0][0],
      endIndex: u,
      pageWidth: d,
      pageHeight: p
    };
  });
  return { pages: s, maxPageWidth: i, maxPageHeight: a };
}
function PU(o) {
  var t, e, r = [];
  try {
    for (var n = OU(o[0]), i = n.next(); !i.done; i = n.next()) {
      var a = i.value;
      r.push([]);
    }
  } catch (s) {
    t = { error: s };
  } finally {
    try {
      i && !i.done && (e = n.return) && e.call(n);
    } finally {
      if (t)
        throw t.error;
    }
  }
  return o.forEach(function(s, l) {
    s.forEach(function(u, c) {
      r[c][l] = u;
    });
  }), r;
}
function AU(o, t) {
  for (var e = o.length, r = 0, n = 0; n < e; n++)
    if (r += t.fn(o[n]) + t.padding, r > t.max) {
      var i = e / n;
      return i < 2 ? Math.ceil(e / 2) : n;
    }
  return e;
}
var zr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, MU = (
  /** @class */
  function() {
    function o() {
      this.color = "black", this.fontStyle = void 0, this.fontWeight = void 0, this.fontSize = 12, this.fontFamily = "Verdana, sans-serif";
    }
    return zr([
      A(en)
    ], o.prototype, "color", void 0), zr([
      A(fs)
    ], o.prototype, "fontStyle", void 0), zr([
      A(vs)
    ], o.prototype, "fontWeight", void 0), zr([
      A(ae(0))
    ], o.prototype, "fontSize", void 0), zr([
      A(lr)
    ], o.prototype, "fontFamily", void 0), o;
  }()
), vg = (
  /** @class */
  function() {
    function o() {
      this.size = 15, this.fill = void 0, this.fillOpacity = void 0, this.stroke = void 0, this.strokeWidth = 1, this.strokeOpacity = 1;
    }
    return zr([
      A(ae(0))
    ], o.prototype, "size", void 0), zr([
      A(ct)
    ], o.prototype, "fill", void 0), zr([
      A(tt(0, 1))
    ], o.prototype, "fillOpacity", void 0), zr([
      A(ct)
    ], o.prototype, "stroke", void 0), zr([
      A(ae(0))
    ], o.prototype, "strokeWidth", void 0), zr([
      A(ae(0, 1))
    ], o.prototype, "strokeOpacity", void 0), o;
  }()
), IU = (
  /** @class */
  function() {
    function o() {
      this.size = 15, this._shape = Mc, this.padding = 8;
    }
    return Object.defineProperty(o.prototype, "shape", {
      get: function() {
        return this._shape;
      },
      set: function(t) {
        var e;
        this._shape = t, (e = this.parent) === null || e === void 0 || e.onMarkerShapeChange();
      },
      enumerable: !1,
      configurable: !0
    }), zr([
      A(ae(0))
    ], o.prototype, "size", void 0), zr([
      A(ae(0))
    ], o.prototype, "padding", void 0), o;
  }()
), FU = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      var i = this;
      this.chartUpdateCallback = t, this.pageUpdateCallback = e, this.interactionManager = r, this.cursorManager = n, this.id = lo(this), this.group = new Se({ name: "pagination" }), this.labelNode = new ot(), this.marker = new IU(), this.activeStyle = new vg(), this.inactiveStyle = new vg(), this.highlightStyle = new vg(), this.label = new MU(), this.totalPages = 0, this.currentPage = 0, this.translationX = 0, this.translationY = 0, this.nextButtonDisabled = !1, this.previousButtonDisabled = !1, this._visible = !0, this._enabled = !0, this._orientation = "vertical", this._nextButton = new Mc(), this._previousButton = new Mc();
      var a = this.labelNode;
      a.textBaseline = "middle", a.fontSize = 12, a.fontFamily = "Verdana, sans-serif", a.fill = "black", a.y = wt.has.textMetrics ? 1 : 0, this.group.append([this.nextButton, this.previousButton, a]), this.interactionManager.addListener("click", function(s) {
        return i.onPaginationClick(s);
      }), this.interactionManager.addListener("hover", function(s) {
        return i.onPaginationMouseMove(s);
      }), this.marker.parent = this, this.update(), this.updateMarkers();
    }
    return Object.defineProperty(o.prototype, "visible", {
      get: function() {
        return this._visible;
      },
      set: function(t) {
        this._visible = t, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "enabled", {
      get: function() {
        return this._enabled;
      },
      set: function(t) {
        this._enabled = t, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.updateGroupVisibility = function() {
      this.group.visible = this.enabled && this.visible;
    }, Object.defineProperty(o.prototype, "orientation", {
      get: function() {
        return this._orientation;
      },
      set: function(t) {
        switch (this._orientation = t, t) {
          case "horizontal": {
            this.previousButton.rotation = -Math.PI / 2, this.nextButton.rotation = Math.PI / 2;
            break;
          }
          case "vertical":
          default:
            this.previousButton.rotation = 0, this.nextButton.rotation = Math.PI;
        }
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "nextButton", {
      get: function() {
        return this._nextButton;
      },
      set: function(t) {
        this._nextButton !== t && (this.group.removeChild(this._nextButton), this._nextButton = t, this.group.appendChild(t));
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "previousButton", {
      get: function() {
        return this._previousButton;
      },
      set: function(t) {
        this._previousButton !== t && (this.group.removeChild(this._previousButton), this._previousButton = t, this.group.appendChild(t));
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.update = function() {
      this.updateLabel(), this.updatePositions(), this.enableOrDisableButtons();
    }, o.prototype.updatePositions = function() {
      this.group.translationX = this.translationX, this.group.translationY = this.translationY, this.updateLabelPosition(), this.updateNextButtonPosition();
    }, o.prototype.updateLabelPosition = function() {
      var t = this.marker, e = t.size, r = t.padding;
      this.nextButton.size = e, this.previousButton.size = e, this.labelNode.x = e / 2 + r;
    }, o.prototype.updateNextButtonPosition = function() {
      var t = this.labelNode.computeBBox();
      this.nextButton.translationX = t.x + t.width + this.marker.size / 2 + this.marker.padding;
    }, o.prototype.updateLabel = function() {
      var t = this, e = t.currentPage, r = t.totalPages, n = t.labelNode, i = t.label, a = i.color, s = i.fontStyle, l = i.fontWeight, u = i.fontSize, c = i.fontFamily;
      n.text = e + 1 + " / " + r, n.fill = a, n.fontStyle = s, n.fontWeight = l, n.fontSize = u, n.fontFamily = c;
    }, o.prototype.updateMarkers = function() {
      var t = this, e = t.nextButton, r = t.previousButton, n = t.nextButtonDisabled, i = t.previousButtonDisabled, a = t.activeStyle, s = t.inactiveStyle, l = t.highlightStyle, u = t.highlightActive, c = function(d, p) {
        return p ? s : d === u ? l : a;
      };
      this.updateMarker(e, c("next", n)), this.updateMarker(r, c("previous", i));
    }, o.prototype.updateMarker = function(t, e) {
      var r, n = this.marker.size;
      t.size = n, t.fill = e.fill, t.fillOpacity = (r = e.fillOpacity) !== null && r !== void 0 ? r : 1, t.stroke = e.stroke, t.strokeWidth = e.strokeWidth, t.strokeOpacity = e.strokeOpacity;
    }, o.prototype.enableOrDisableButtons = function() {
      var t = this, e = t.currentPage, r = t.totalPages, n = r === 0, i = e === r - 1, a = e === 0;
      this.nextButtonDisabled = i || n, this.previousButtonDisabled = a || n;
    }, o.prototype.nextButtonContainsPoint = function(t, e) {
      return !this.nextButtonDisabled && this.nextButton.containsPoint(t, e);
    }, o.prototype.previousButtonContainsPoint = function(t, e) {
      return !this.previousButtonDisabled && this.previousButton.containsPoint(t, e);
    }, o.prototype.onPaginationClick = function(t) {
      var e = t.offsetX, r = t.offsetY;
      this.nextButtonContainsPoint(e, r) ? (this.incrementPage(), this.onPaginationChanged(), t.consume()) : this.previousButtonContainsPoint(e, r) && (this.decrementPage(), this.onPaginationChanged(), t.consume());
    }, o.prototype.onPaginationMouseMove = function(t) {
      var e = t.offsetX, r = t.offsetY;
      this.nextButtonContainsPoint(e, r) ? (this.cursorManager.updateCursor(this.id, "pointer"), this.highlightActive = "next") : this.previousButtonContainsPoint(e, r) ? (this.cursorManager.updateCursor(this.id, "pointer"), this.highlightActive = "previous") : (this.cursorManager.updateCursor(this.id), this.highlightActive = void 0), this.updateMarkers(), this.chartUpdateCallback(je.SCENE_RENDER);
    }, o.prototype.onPaginationChanged = function() {
      this.pageUpdateCallback(this.currentPage);
    }, o.prototype.incrementPage = function() {
      this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);
    }, o.prototype.decrementPage = function() {
      this.currentPage = Math.max(this.currentPage - 1, 0);
    }, o.prototype.onMarkerShapeChange = function() {
      var t = lu(this.marker.shape || Mc);
      this.previousButton = new t(), this.nextButton = new t(), this.updatePositions(), this.updateMarkers(), this.chartUpdateCallback(je.SCENE_RENDER);
    }, o.prototype.attachPagination = function(t) {
      t.append(this.group);
    }, o.prototype.computeBBox = function() {
      return this.group.computeBBox();
    }, o.className = "Pagination", o;
  }()
), St = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, wa = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Ls = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, jw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, LU = ["horizontal", "vertical"], NU = we(function(o, t) {
  return yt(o, t, function(e) {
    return LU.includes(e);
  });
}, "expecting an orientation keyword such as 'horizontal' or 'vertical'"), GU = (
  /** @class */
  function() {
    function o() {
      this.maxLength = void 0, this.color = "black", this.fontStyle = void 0, this.fontWeight = void 0, this.fontSize = 12, this.fontFamily = "Verdana, sans-serif", this.formatter = void 0;
    }
    return St([
      A(tt(0))
    ], o.prototype, "maxLength", void 0), St([
      A(en)
    ], o.prototype, "color", void 0), St([
      A(fs)
    ], o.prototype, "fontStyle", void 0), St([
      A(vs)
    ], o.prototype, "fontWeight", void 0), St([
      A(ae(0))
    ], o.prototype, "fontSize", void 0), St([
      A(lr)
    ], o.prototype, "fontFamily", void 0), St([
      A(mt)
    ], o.prototype, "formatter", void 0), o;
  }()
), kU = (
  /** @class */
  function() {
    function o() {
      this.size = 15, this._shape = void 0, this.padding = 8, this.strokeWidth = 1;
    }
    return Object.defineProperty(o.prototype, "shape", {
      get: function() {
        return this._shape;
      },
      set: function(t) {
        var e;
        this._shape = t, (e = this.parent) === null || e === void 0 || e.onMarkerShapeChange();
      },
      enumerable: !1,
      configurable: !0
    }), St([
      A(ae(0))
    ], o.prototype, "size", void 0), St([
      A(ae(0))
    ], o.prototype, "padding", void 0), St([
      A(ae(0))
    ], o.prototype, "strokeWidth", void 0), o;
  }()
), VU = (
  /** @class */
  function() {
    function o() {
      this.marker = new kU(), this.label = new GU(), this.maxWidth = void 0, this.paddingX = 16, this.paddingY = 8, this.toggleSeriesVisible = !0;
    }
    return St([
      A(tt(0))
    ], o.prototype, "maxWidth", void 0), St([
      A(ae(0))
    ], o.prototype, "paddingX", void 0), St([
      A(ae(0))
    ], o.prototype, "paddingY", void 0), St([
      A(at)
    ], o.prototype, "toggleSeriesVisible", void 0), o;
  }()
), BU = (
  /** @class */
  function() {
    function o() {
      this.legendItemClick = void 0, this.legendItemDoubleClick = void 0;
    }
    return St([
      A(mt)
    ], o.prototype, "legendItemClick", void 0), o;
  }()
), HU = (
  /** @class */
  function() {
    function o(t) {
      var e, r = this;
      this.ctx = t, this.id = lo(this), this.group = new Se({ name: "legend", layer: !0, zIndex: bt.LEGEND_ZINDEX }), this.itemSelection = ft.select(this.group, Hw), this.oldSize = [0, 0], this.pages = [], this.maxPageSize = [0, 0], this.paginationTrackingIndex = 0, this.item = new VU(), this.listeners = new BU(), this.truncatedItems = /* @__PURE__ */ new Set(), this._data = [], this._enabled = !0, this.position = "bottom", this.maxWidth = void 0, this.maxHeight = void 0, this.reverseOrder = void 0, this.destroyFns = [], this.spacing = 20, this.characterWidths = /* @__PURE__ */ new Map(), this.size = [0, 0], this._visible = !0, this.item.marker.parent = this, this.pagination = new FU(function(a) {
        return t.updateService.update(a);
      }, function(a) {
        return r.updatePageNumber(a);
      }, t.interactionManager, t.cursorManager), this.pagination.attachPagination(this.group), this.item.marker.parent = this;
      var n = [
        t.interactionManager.addListener("click", function(a) {
          return r.checkLegendClick(a);
        }),
        t.interactionManager.addListener("dblclick", function(a) {
          return r.checkLegendDoubleClick(a);
        }),
        t.interactionManager.addListener("hover", function(a) {
          return r.handleLegendMouseMove(a);
        })
      ], i = [
        t.layoutService.addListener("start-layout", function(a) {
          return r.positionLegend(a.shrinkRect);
        })
      ];
      (e = this.destroyFns).push.apply(e, Ls(Ls(Ls([], wa(n.map(function(a) {
        return function() {
          return t.interactionManager.removeListener(a);
        };
      }))), wa(i.map(function(a) {
        return function() {
          return t.layoutService.removeListener(a);
        };
      }))), [function() {
        return r.detachLegend();
      }]));
    }
    return Object.defineProperty(o.prototype, "data", {
      get: function() {
        return this._data;
      },
      set: function(t) {
        this._data = t, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "enabled", {
      get: function() {
        return this._enabled;
      },
      set: function(t) {
        this._enabled = t, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.getOrientation = function() {
      if (this.orientation !== void 0)
        return this.orientation;
      switch (this.position) {
        case "right":
        case "left":
          return "vertical";
        case "bottom":
        case "top":
          return "horizontal";
      }
    }, o.prototype.destroy = function() {
      this.destroyFns.forEach(function(t) {
        return t();
      });
    }, o.prototype.onMarkerShapeChange = function() {
      this.itemSelection.clear(), this.group.markDirty(this.group, oe.MINOR);
    }, o.prototype.getCharacterWidths = function(t) {
      var e = this.characterWidths;
      if (e.has(t))
        return e.get(t);
      var r = {
        "...": wt.getTextSize("...", t).width
      };
      return e.set(t, r), r;
    }, Object.defineProperty(o.prototype, "visible", {
      get: function() {
        return this._visible;
      },
      set: function(t) {
        this._visible = t, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.updateGroupVisibility = function() {
      this.group.visible = this.enabled && this.visible && this.data.length > 0;
    }, o.prototype.attachLegend = function(t) {
      t.append(this.group);
    }, o.prototype.detachLegend = function() {
      var t;
      (t = this.group.parent) === null || t === void 0 || t.removeChild(this.group);
    }, o.prototype.getItemLabel = function(t) {
      var e = this.ctx.callbackCache, r = this.item.label.formatter;
      return r ? e.call(r, {
        itemId: t.itemId,
        value: t.label.text,
        seriesId: t.seriesId
      }) : t.label.text;
    }, o.prototype.performLayout = function(t, e) {
      var r = this, n = this.item, i = n.paddingX, a = n.paddingY, s = n.label, l = n.maxWidth, u = n.marker, c = u.size, d = u.padding, p = u.shape, h = n.label, f = h.maxLength, v = f === void 0 ? 1 / 0 : f, g = h.fontStyle, y = h.fontWeight, m = h.fontSize, C = h.fontFamily, S = Ls([], wa(this.data));
      this.reverseOrder && S.reverse(), this.itemSelection.update(S);
      var b = [], _ = os(s), O = 0.8, E = l != null ? l : t * O, D = c + d + i;
      if (this.itemSelection.each(function(B, j) {
        var J, U = lu(p != null ? p : j.marker.shape);
        B.marker && B.marker instanceof U || (B.marker = new U()), B.markerSize = c, B.spacing = d, B.fontStyle = g, B.fontWeight = y, B.fontSize = m, B.fontFamily = C;
        var Y = (J = j.itemId) !== null && J !== void 0 ? J : j.id, X = r.getItemLabel(j), ne = (X != null ? X : "<unknown>").replace(/\r?\n/g, " ");
        B.text = r.truncate(ne, v, E, D, _, Y), b.push(B.computeBBox());
      }), t = Math.max(1, t), e = Math.max(1, e), !isFinite(t))
        return !1;
      var x = this.size, P = this.oldSize;
      x[0] = t, x[1] = e, (x[0] !== P[0] || x[1] !== P[1]) && (P[0] = x[0], P[1] = x[1]);
      var M = this.updatePagination(b, t, e), F = M.pages, I = M.maxPageHeight, N = M.maxPageWidth;
      this.pages = F, this.maxPageSize = [N - i, I - a];
      var k = this.pagination.currentPage, L = this.pages[k];
      if (this.pages.length < 1 || !L) {
        this.visible = !1;
        return;
      }
      this.visible = !0, this.updatePositions(k), this.update();
    }, o.prototype.truncate = function(t, e, r, n, i, a) {
      var s, l, u = "...", c = t.split(""), d = !1;
      t.length > e && (t = "" + t.substring(0, e), d = !0);
      var p = Math.floor(n + wt.getTextSize(t, i).width);
      if (p > r) {
        var h = "", f = this.getCharacterWidths(i), v = n + f[u];
        try {
          for (var g = jw(c), y = g.next(); !y.done; y = g.next()) {
            var m = y.value;
            if (f[m] || (f[m] = wt.getTextSize(m, i).width), v += f[m], v > r)
              break;
            h += m;
          }
        } catch (C) {
          s = { error: C };
        } finally {
          try {
            y && !y.done && (l = g.return) && l.call(g);
          } finally {
            if (s)
              throw s.error;
          }
        }
        t = h, d = !0;
      }
      return d ? (t += u, this.truncatedItems.add(a)) : this.truncatedItems.delete(a), t;
    }, o.prototype.updatePagination = function(t, e, r) {
      var n = this.getOrientation(), i = Math.min(this.paginationTrackingIndex, t.length);
      this.pagination.orientation = n, this.pagination.translationX = 0, this.pagination.translationY = 0;
      var a = this.calculatePagination(t, e, r), s = a.pages, l = a.maxPageHeight, u = a.maxPageWidth, c = a.paginationBBox, d = a.paginationVertical, p = s.findIndex(function(b) {
        return b.endIndex >= i;
      });
      this.pagination.currentPage = Math.min(Math.max(p, 0), s.length - 1);
      var h = this.item, f = h.paddingX, v = h.paddingY, g = 8, y = u - f, m = l - v, C = 0, S = -c.y - this.item.marker.size / 2;
      return d ? S += m + g : (C += -c.x + y + g, S += (m - c.height) / 2), this.pagination.translationX = C, this.pagination.translationY = S, this.pagination.update(), this.pagination.updateMarkers(), {
        maxPageHeight: l,
        maxPageWidth: u,
        pages: s
      };
    }, o.prototype.calculatePagination = function(t, e, r) {
      var n, i, a, s = this.item, l = s.paddingX, u = s.paddingY, c = this.getOrientation(), d = ["left", "right"].includes(this.position), p = this.pagination.computeBBox(), h = new Ye(0, 0, 0, 0), f = [], v = 0, g = 0, y = 0, m = function(E) {
        var D = E.width, x = E.height;
        return D === p.width && x === p.height;
      }, C = this.maxWidth !== void 0 || this.maxHeight !== void 0;
      do {
        if (y++ > 10) {
          pe.warn("unable to find stable legend layout.");
          break;
        }
        p = h;
        var S = e - (d ? 0 : p.width), b = r - (d ? p.height : 0), _ = xU({
          orientation: c,
          bboxes: t,
          maxHeight: b,
          maxWidth: S,
          itemPaddingY: u,
          itemPaddingX: l,
          forceResult: C
        });
        f = (n = _ == null ? void 0 : _.pages) !== null && n !== void 0 ? n : [], v = (i = _ == null ? void 0 : _.maxPageWidth) !== null && i !== void 0 ? i : 0, g = (a = _ == null ? void 0 : _.maxPageHeight) !== null && a !== void 0 ? a : 0;
        var O = f.length;
        if (this.pagination.visible = O > 1, this.pagination.totalPages = O, this.pagination.update(), h = this.pagination.computeBBox(), !this.pagination.visible)
          break;
      } while (!m(h));
      return { maxPageWidth: v, maxPageHeight: g, pages: f, paginationBBox: p, paginationVertical: d };
    }, o.prototype.updatePositions = function(t) {
      t === void 0 && (t = 0);
      var e = this, r = e.item.paddingY, n = e.itemSelection, i = e.pages;
      if (!(i.length < 1 || !i[t])) {
        var a = i[t], s = a.columns, l = a.startIndex, u = a.endIndex, c = 0, d = 0, p = s.length, h = s[0].indices.length, f = this.getOrientation() === "horizontal", v = s[0].bboxes[0].height + r, g = [];
        n.each(function(y, m, C) {
          var S, b;
          if (C < l || C > u) {
            y.visible = !1;
            return;
          }
          var _ = C - l, O = 0, E = 0;
          f ? (O = _ % p, E = Math.floor(_ / p)) : (O = Math.floor(_ / h), E = _ % h), y.visible = !0;
          var D = s[O];
          D && (d = v * E, c = (S = g[E]) !== null && S !== void 0 ? S : 0, g[E] = ((b = g[E]) !== null && b !== void 0 ? b : 0) + D.columnWidth, y.translationX = Math.floor(c), y.translationY = Math.floor(d));
        });
      }
    }, o.prototype.updatePageNumber = function(t) {
      var e = this.pages, r = e[t], n = r.startIndex, i = r.endIndex;
      n === 0 ? this.paginationTrackingIndex = 0 : t === e.length - 1 ? this.paginationTrackingIndex = i : this.paginationTrackingIndex = Math.floor((n + i) / 2), this.pagination.update(), this.pagination.updateMarkers(), this.updatePositions(t), this.ctx.updateService.update(je.SCENE_RENDER);
    }, o.prototype.update = function() {
      var t = this.item, e = t.marker.strokeWidth, r = t.label.color;
      this.itemSelection.each(function(n, i) {
        var a = i.marker;
        n.markerFill = a.fill, n.markerStroke = a.stroke, n.markerStrokeWidth = e, n.markerFillOpacity = a.fillOpacity, n.markerStrokeOpacity = a.strokeOpacity, n.opacity = i.enabled ? 1 : 0.5, n.color = r;
      });
    }, o.prototype.getDatumForPoint = function(t, e) {
      var r, n, i = [], a = { dist: 1 / 0, datum: void 0 };
      try {
        for (var s = jw(this.group.children), l = s.next(); !l.done; l = s.next()) {
          var u = l.value;
          if (u.visible && u instanceof Hw) {
            var c = u.computeBBox();
            if (c.grow(this.item.paddingX / 2, "horizontal"), c.grow(this.item.paddingY / 2, "vertical"), c.containsPoint(t, e))
              return u.datum;
            var d = t - c.x - this.item.paddingX / 2, p = e - c.y - this.item.paddingY / 2, h = Math.pow(d, 2) + Math.pow(p, 2), f = d >= 0 && p >= 0;
            f && h < a.dist && (a.dist = h, a.datum = u.datum), i.push(c);
          }
        }
      } catch (g) {
        r = { error: g };
      } finally {
        try {
          l && !l.done && (n = s.return) && n.call(s);
        } finally {
          if (r)
            throw r.error;
        }
      }
      var v = Ye.merge(i);
      if (v.containsPoint(t, e))
        return a.datum;
    }, o.prototype.computeBBox = function() {
      return this.group.computeBBox();
    }, o.prototype.computePagedBBox = function() {
      var t = this.group.computeBBox();
      if (this.pages.length <= 1)
        return t;
      var e = wa(this.maxPageSize, 2), r = e[0], n = e[1];
      return t.height = Math.max(n, t.height), t.width = Math.max(r, t.width), t;
    }, o.prototype.checkLegendClick = function(t) {
      var e = this, r = e.listeners.legendItemClick, n = e.ctx, i = n.dataService, a = n.highlightManager, s = e.item.toggleSeriesVisible, l = t.offsetX, u = t.offsetY, c = this.computeBBox(), d = this.group.visible && c.containsPoint(l, u), p = this.getDatumForPoint(l, u);
      if (!(!d || !p)) {
        var h = p.id, f = p.itemId, v = p.enabled, g = i.getSeries(), y = g.find(function(C) {
          return C.id === h;
        });
        if (y) {
          t.consume();
          var m = v;
          s && (m = !v, this.ctx.chartEventManager.legendItemClick(y, f, m, p.legendItemName)), m ? a.updateHighlight(this.id, {
            series: y,
            itemId: f,
            datum: void 0
          }) : a.updateHighlight(this.id), this.ctx.updateService.update(je.PROCESS_DATA, { forceNodeDataRefresh: !0 }), r == null || r({ type: "click", enabled: m, itemId: f, seriesId: y.id });
        }
      }
    }, o.prototype.checkLegendDoubleClick = function(t) {
      var e, r = this, n = r.listeners.legendItemDoubleClick, i = r.ctx.dataService, a = r.item.toggleSeriesVisible, s = t.offsetX, l = t.offsetY;
      if (this.ctx.mode !== "integrated") {
        var u = this.computeBBox(), c = this.group.visible && u.containsPoint(s, l), d = this.getDatumForPoint(s, l);
        if (!(!c || !d)) {
          var p = d.id, h = d.itemId, f = d.seriesId, v = i.getSeries(), g = v.find(function(S) {
            return S.id === p;
          });
          if (g) {
            if (t.consume(), a) {
              var y = v.reduce(function(S, b) {
                return Ls(Ls([], wa(S)), wa(b.getLegendData().filter(function(_) {
                  return _.legendType === "category";
                })));
              }, []), m = {};
              y.forEach(function(S) {
                var b, _;
                (b = m[_ = S.seriesId]) !== null && b !== void 0 || (m[_] = 0), S.enabled && m[S.seriesId]++;
              });
              var C = y.find(function(S) {
                return S.itemId === h && S.seriesId === f;
              });
              this.ctx.chartEventManager.legendItemDoubleClick(g, h, (e = C == null ? void 0 : C.enabled) !== null && e !== void 0 ? e : !1, m, C == null ? void 0 : C.legendItemName);
            }
            this.ctx.updateService.update(je.PROCESS_DATA, { forceNodeDataRefresh: !0 }), n == null || n({ type: "dblclick", enabled: !0, itemId: h, seriesId: g.id });
          }
        }
      }
    }, o.prototype.handleLegendMouseMove = function(t) {
      var e, r = this, n = r.enabled, i = r.item.toggleSeriesVisible, a = r.listeners;
      if (n) {
        var s = this.computeBBox(), l = t.pageX, u = t.pageY, c = t.offsetX, d = t.offsetY, p = this.group.visible && s.containsPoint(c, d);
        if (!p) {
          this.ctx.cursorManager.updateCursor(this.id), this.ctx.highlightManager.updateHighlight(this.id), this.ctx.tooltipManager.removeTooltip(this.id);
          return;
        }
        t.consume();
        var h = this.getDatumForPoint(c, d), f = p && h !== void 0;
        if (!f) {
          this.ctx.cursorManager.updateCursor(this.id), this.ctx.highlightManager.updateHighlight(this.id);
          return;
        }
        var v = h ? this.ctx.dataService.getSeries().find(function(y) {
          return y.id === (h == null ? void 0 : h.id);
        }) : void 0;
        if (h && this.truncatedItems.has((e = h.itemId) !== null && e !== void 0 ? e : h.id)) {
          var g = this.getItemLabel(h);
          this.ctx.tooltipManager.updateTooltip(this.id, { pageX: l, pageY: u, offsetX: c, offsetY: d, event: t, showArrow: !1 }, ur({ content: g }));
        } else
          this.ctx.tooltipManager.removeTooltip(this.id);
        (i || a.legendItemClick != null || a.legendItemDoubleClick != null) && this.ctx.cursorManager.updateCursor(this.id, "pointer"), h != null && h.enabled && v ? this.ctx.highlightManager.updateHighlight(this.id, {
          series: v,
          itemId: h == null ? void 0 : h.itemId,
          datum: void 0
        }) : this.ctx.highlightManager.updateHighlight(this.id);
      }
    }, o.prototype.positionLegend = function(t) {
      var e = this, r = t.clone();
      if (!this.enabled || !this.data.length)
        return { shrinkRect: r };
      var n = wa(this.calculateLegendDimensions(t), 2), i = n[0], a = n[1];
      this.group.translationX = 0, this.group.translationY = 0, this.performLayout(i, a);
      var s = this.computePagedBBox(), l = function() {
        switch (e.position) {
          case "top":
            return 0;
          case "bottom":
            return t.height - s.height;
          case "left":
            return 0;
          case "right":
          default:
            return t.width - s.width;
        }
      };
      if (this.visible) {
        var u = void 0, c = void 0;
        switch (this.position) {
          case "top":
          case "bottom":
            u = (t.width - s.width) / 2, c = l(), r.shrink(s.height, this.position);
            break;
          case "left":
          case "right":
          default:
            u = l(), c = (t.height - s.height) / 2, r.shrink(s.width, this.position);
        }
        this.group.translationX = Math.floor(-s.x + t.x + u), this.group.translationY = Math.floor(-s.y + t.y + c);
      }
      if (this.visible && this.enabled && this.data.length) {
        var d = this.spacing;
        r.shrink(d, this.position);
        var p = s.clone();
        p.x += this.group.translationX, p.y += this.group.translationY, this.ctx.tooltipManager.updateExclusiveRect(this.id, p);
      } else
        this.ctx.tooltipManager.updateExclusiveRect(this.id);
      return { shrinkRect: r };
    }, o.prototype.calculateLegendDimensions = function(t) {
      var e = t.width, r = t.height, n = e / r, i = 0.5, a = 0.2, s = 0.25, l = 0, u = 0;
      switch (this.position) {
        case "top":
        case "bottom":
          var c = n < 1 ? Math.min(i, a * (1 / n)) : a;
          l = this.maxWidth ? Math.min(this.maxWidth, e) : e, u = this.maxHeight ? Math.min(this.maxHeight, r) : Math.round(r * c);
          break;
        case "left":
        case "right":
        default:
          var d = n > 1 ? Math.min(i, s * n) : s;
          l = this.maxWidth ? Math.min(this.maxWidth, e) : Math.round(e * d), u = this.maxHeight ? Math.min(this.maxHeight, r) : r;
      }
      return [l, u];
    }, o.className = "Legend", St([
      A(at)
    ], o.prototype, "_enabled", void 0), St([
      A(xO)
    ], o.prototype, "position", void 0), St([
      A(tt(0))
    ], o.prototype, "maxWidth", void 0), St([
      A(tt(0))
    ], o.prototype, "maxHeight", void 0), St([
      A(Ti)
    ], o.prototype, "reverseOrder", void 0), St([
      A(NU)
    ], o.prototype, "orientation", void 0), St([
      A(ae(0))
    ], o.prototype, "spacing", void 0), o;
  }()
), Lh = {
  category: HU
};
function jU(o, t) {
  if (Lh[o])
    throw new Error("AG Charts - already registered legend type: " + o);
  Lh[o] = t;
}
function WU(o, t) {
  if (Lh[o])
    return new Lh[o](t);
  throw new Error("AG Charts - unknown legend type: " + o);
}
var $U = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, UU = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, zU = (
  /** @class */
  function() {
    function o() {
      this.cache = /* @__PURE__ */ new Map();
    }
    return o.prototype.call = function(t) {
      for (var e = [], r = 1; r < arguments.length; r++)
        e[r - 1] = arguments[r];
      var n, i = this.cache.get(t), a = function() {
        try {
          var s = t.apply(void 0, UU([], $U(e)));
          return i && n != null && i.set(n, s), s;
        } catch (l) {
          pe.warnOnce("User callback errored, ignoring", l);
          return;
        }
      };
      try {
        n = JSON.stringify(e);
      } catch (s) {
        return a();
      }
      return i == null && (i = /* @__PURE__ */ new Map(), this.cache.set(t, i)), i.has(n) ? i.get(n) : a();
    }, o.prototype.invalidateCache = function() {
      this.cache = /* @__PURE__ */ new Map();
    }, o;
  }()
), Ol = function() {
  return Ol = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ol.apply(this, arguments);
}, Ww = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, $w = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, gg = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Uw = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, zw = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, KU = (
  /** @class */
  function() {
    function o() {
      this.requested = [], this.status = "setup";
    }
    return o.prototype.request = function(t, e, r) {
      return Ww(this, void 0, void 0, function() {
        var n = this;
        return $w(this, function(i) {
          if (this.status !== "setup")
            throw new Error("AG Charts - data request after data setup phase.");
          return [2, new Promise(function(a, s) {
            n.requested.push({
              id: t,
              opts: r,
              data: e,
              resultCb: a,
              reject: s
            });
          })];
        });
      });
    }, o.prototype.execute = function() {
      return Ww(this, void 0, void 0, function() {
        var t, e, r, n, i, a, s, l, u, c, d, p, h;
        return $w(this, function(f) {
          if (this.status !== "setup")
            throw new Error("AG Charts - data request after data setup phase.");
          this.status = "executed", o.DEBUG() && pe.debug("DataController.execute() - requested", this.requested), t = this.mergeRequested(), o.DEBUG() && pe.debug("DataController.execute() - merged", t), e = function(v, g, y, m, C) {
            try {
              var S = new V2(v), b = S.processData(g);
              b && b.partialValidDataCount === 0 ? y.forEach(function(_) {
                return _({ dataModel: S, processedData: b });
              }) : b ? r.splitResult(S, b, C, y) : m.forEach(function(_) {
                return _(new Error("AG Charts - no processed data generated"));
              });
            } catch (_) {
              m.forEach(function(O) {
                return O(_);
              });
            }
          }, r = this;
          try {
            for (n = gg(t), i = n.next(); !i.done; i = n.next())
              a = i.value, s = a.opts, l = a.data, u = a.resultCbs, c = a.rejects, d = a.ids, e(s, l, u, c, d);
          } catch (v) {
            p = { error: v };
          } finally {
            try {
              i && !i.done && (h = n.return) && h.call(n);
            } finally {
              if (p)
                throw p.error;
            }
          }
          return [
            2
            /*return*/
          ];
        });
      });
    }, o.prototype.mergeRequested = function() {
      var t, e, r = [], n = function(h) {
        return h.filter(function(f) {
          return f.type === "key";
        }).map(function(f) {
          return f.property;
        }).join(";");
      }, i = function(h) {
        var f = h.opts, v = h.data;
        return function(g) {
          return g[0].data === v && g[0].opts.groupByKeys === f.groupByKeys && g[0].opts.dataVisible === f.dataVisible && g[0].opts.groupByFn === f.groupByFn && n(g[0].opts.props) === n(f.props);
        };
      }, a = function(h) {
        return function(f) {
          var v;
          if (f.type !== h.type || f.id !== h.id)
            return !1;
          var g = (v = ss(f, h)) !== null && v !== void 0 ? v : {};
          return delete g.scopes, Object.keys(g).length === 0;
        };
      }, s = function(h) {
        return Ol(Ol({}, h[0]), { props: h.reduce(function(f, v) {
          var g, y, m, C, S, b;
          try {
            for (var _ = gg(v.props), O = _.next(); !O.done; O = _.next()) {
              var E = O.value, D = f.find(a(E));
              if (D) {
                (C = D.scopes) !== null && C !== void 0 || (D.scopes = []), (m = D.scopes).push.apply(m, zw(zw([], Uw((S = E.scopes) !== null && S !== void 0 ? S : [])), Uw((b = v.scopes) !== null && b !== void 0 ? b : [])));
                continue;
              }
              f.push(E);
            }
          } catch (x) {
            g = { error: x };
          } finally {
            try {
              O && !O.done && (y = _.return) && y.call(_);
            } finally {
              if (g)
                throw g.error;
            }
          }
          return f;
        }, []) });
      }, l = function(h) {
        return {
          ids: h.map(function(f) {
            var v = f.id;
            return v;
          }),
          resultCbs: h.map(function(f) {
            var v = f.resultCb;
            return v;
          }),
          rejects: h.map(function(f) {
            var v = f.reject;
            return v;
          }),
          data: h[0].data,
          opts: s(h.map(function(f) {
            var v = f.opts;
            return v;
          }))
        };
      };
      try {
        for (var u = gg(this.requested), c = u.next(); !c.done; c = u.next()) {
          var d = c.value, p = r.find(i(d));
          p ? p.push(d) : r.push([d]);
        }
      } catch (h) {
        t = { error: h };
      } finally {
        try {
          c && !c.done && (e = u.return) && e.call(u);
        } finally {
          if (t)
            throw t.error;
        }
      }
      return r.map(l);
    }, o.prototype.splitResult = function(t, e, r, n) {
      for (var i = function(s) {
        var l = r[s], u = n[s];
        u({
          dataModel: t,
          processedData: Ol(Ol({}, e), { data: e.data.filter(function(c) {
            var d = c.validScopes;
            return d == null || d.some(function(p) {
              return p === l;
            });
          }) })
        });
      }, a = 0; a < r.length; a++)
        i(a);
    }, o.DEBUG = function() {
      var t;
      return (t = [!0, "data-model"].includes(jn("agChartsDebug"))) !== null && t !== void 0 ? t : !1;
    }, o;
  }()
), yg = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, YU = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, XU = (
  /** @class */
  function() {
    function o() {
      this.groups = {};
    }
    return o.prototype.registerSeries = function(t) {
      var e, r, n = t.id, i = t.seriesGrouping, a = t.visible, s = t.type;
      i && ((e = (r = this.groups)[s]) !== null && e !== void 0 || (r[s] = {}), this.groups[s][n] = { grouping: i, visible: a });
    }, o.prototype.deregisterSeries = function(t) {
      var e = t.id, r = t.type;
      this.groups[r] && delete this.groups[r][e], this.groups[r] && Object.keys(this.groups[r]).length === 0 && delete this.groups[r];
    }, o.prototype.getVisiblePeerGroupIndex = function(t) {
      var e, r = t.type, n = t.seriesGrouping;
      if (!n)
        return { visibleGroupCount: 1, index: 0 };
      var i = YU([], yg(Object.entries((e = this.groups[r]) !== null && e !== void 0 ? e : {}).filter(function(a) {
        var s = yg(a, 2);
        s[0];
        var l = s[1];
        return l.visible;
      }).reduce(function(a, s) {
        var l = yg(s, 2);
        l[0];
        var u = l[1];
        return u.visible && a.add(u.grouping.groupIndex), a;
      }, /* @__PURE__ */ new Set()).values()));
      return i.sort(function(a, s) {
        return a - s;
      }), { visibleGroupCount: i.length, index: i.indexOf(n.groupIndex) };
    }, o;
  }()
), Kw = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, qU = (
  /** @class */
  function() {
    function o(t) {
      this.groups = {}, this.series = {}, this.rootGroup = t;
    }
    return o.prototype.requestGroup = function(t) {
      var e, r, n, i, a = t.id, s = t.type, l = t.rootGroup, u = t.seriesGrouping, c = (u != null ? u : {}).groupIndex, d = c === void 0 ? a : c;
      if (this.series[a] != null)
        throw new Error("AG Charts - series already has an allocated layer: " + this.series[a]);
      (e = (n = this.groups)[s]) !== null && e !== void 0 || (n[s] = {});
      var p = this.groups[s][d];
      return p || (p = (r = (i = this.groups[s])[d]) !== null && r !== void 0 ? r : i[d] = {
        seriesIds: [],
        group: this.rootGroup.appendChild(new Se({
          name: s + "-content",
          layer: !0,
          zIndex: bt.SERIES_LAYER_ZINDEX,
          zIndexSubOrder: t.getGroupZIndexSubOrder("data")
        }))
      }), this.series[a] = { layerState: p, seriesConfig: t }, p.seriesIds.push(a), p.group.appendChild(l), p.group;
    }, o.prototype.changeGroup = function(t) {
      var e, r, n = t.id, i = t.seriesGrouping, a = t.type, s = t.rootGroup, l = t.oldGrouping, u = (i != null ? i : {}).groupIndex, c = u === void 0 ? n : u;
      !((r = (e = this.groups[a]) === null || e === void 0 ? void 0 : e[c]) === null || r === void 0) && r.seriesIds.includes(n) || (this.series[n] != null && this.releaseGroup({ id: n, seriesGrouping: l, type: a, rootGroup: s }), this.requestGroup(t));
    }, o.prototype.releaseGroup = function(t) {
      var e, r, n, i, a, s = t.id, l = t.seriesGrouping, u = t.rootGroup, c = t.type, d = (l != null ? l : {}).groupIndex, p = d === void 0 ? s : d;
      if (this.series[s] == null)
        throw new Error("AG Charts - series doesn't have an allocated layer: " + s);
      var h = (r = (e = this.groups[c]) === null || e === void 0 ? void 0 : e[p]) !== null && r !== void 0 ? r : (n = this.series[s]) === null || n === void 0 ? void 0 : n.layerState;
      if (h && (h.seriesIds = h.seriesIds.filter(function(v) {
        return v !== s;
      }), h.group.removeChild(u)), (h == null ? void 0 : h.seriesIds.length) === 0)
        this.rootGroup.removeChild(h.group), delete this.groups[c][p], delete this.groups[c][s];
      else if ((h == null ? void 0 : h.seriesIds.length) > 0) {
        var f = (a = this.series[(i = h == null ? void 0 : h.seriesIds) === null || i === void 0 ? void 0 : i[0]]) === null || a === void 0 ? void 0 : a.seriesConfig;
        h.group.zIndexSubOrder = f == null ? void 0 : f.getGroupZIndexSubOrder("data");
      }
      delete this.series[s];
    }, o.prototype.destroy = function() {
      var t, e, r, n;
      try {
        for (var i = Kw(Object.values(this.groups)), a = i.next(); !a.done; a = i.next()) {
          var s = a.value;
          try {
            for (var l = (r = void 0, Kw(Object.values(s))), u = l.next(); !u.done; u = l.next()) {
              var c = u.value;
              this.rootGroup.removeChild(c.group);
            }
          } catch (d) {
            r = { error: d };
          } finally {
            try {
              u && !u.done && (n = l.return) && n.call(l);
            } finally {
              if (r)
                throw r.error;
            }
          }
        }
      } catch (d) {
        t = { error: d };
      } finally {
        try {
          a && !a.done && (e = i.return) && e.call(i);
        } finally {
          if (t)
            throw t.error;
        }
      }
      this.groups = {}, this.series = {};
    }, o;
  }()
), ZU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fo = function() {
  return Fo = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Fo.apply(this, arguments);
}, ei = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, xo = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, To = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Ns = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Gs = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Sp = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, uC = (
  /** @class */
  function(o) {
    ZU(t, o);
    function t(e, r, n) {
      e === void 0 && (e = window.document);
      var i, a = o.call(this) || this;
      a.id = lo(a), a.processedOptions = {}, a.userOptions = {}, a.queuedUserOptions = [], a.seriesRoot = new Se({ name: a.id + "-Series-root" }), a.extraDebugStats = {}, a.container = void 0, a.data = [], a.padding = new Ah(20), a.seriesAreaPadding = new Ah(0), a.title = void 0, a.subtitle = void 0, a.footnote = void 0, a.mode = "standalone", a._destroyed = !1, a.modules = {}, a.legendModules = {}, a._pendingFactoryUpdates = [], a._performUpdateNoRenderCount = 0, a._performUpdateType = je.NONE, a.seriesToUpdate = /* @__PURE__ */ new Set(), a.performUpdateTrigger = E$(function(d) {
        var p = d.count;
        return xo(a, void 0, void 0, function() {
          var h;
          return To(this, function(f) {
            switch (f.label) {
              case 0:
                if (this._destroyed)
                  return [
                    2
                    /*return*/
                  ];
                f.label = 1;
              case 1:
                return f.trys.push([1, 3, , 4]), [4, this.performUpdate(p)];
              case 2:
                return f.sent(), [3, 4];
              case 3:
                return h = f.sent(), this._lastPerformUpdateError = h, pe.error("update error", h), [3, 4];
              case 4:
                return [
                  2
                  /*return*/
                ];
            }
          });
        });
      }), a._axes = [], a._series = [], a.applyLegendOptions = void 0, a.lastInteractionEvent = void 0, a.pointerScheduler = b$(function() {
        a.lastInteractionEvent && a.handlePointer(a.lastInteractionEvent), a.lastInteractionEvent = void 0;
      }), a.onSeriesNodeClick = function(d) {
        var p = Fo(Fo({}, d), { type: "seriesNodeClick" });
        Object.defineProperty(p, "series", {
          enumerable: !1,
          // Should display the deprecation warning
          get: function() {
            return d.series;
          }
        }), a.fireEvent(p);
      }, a.onSeriesNodeDoubleClick = function(d) {
        var p = Fo(Fo({}, d), { type: "seriesNodeDoubleClick" });
        a.fireEvent(p);
      };
      var s = n == null ? void 0 : n.scene, l = (i = n == null ? void 0 : n.element) !== null && i !== void 0 ? i : e.createElement("div"), u = n == null ? void 0 : n.container, c = new Se({ name: "root" });
      return c.visible = !1, c.append(a.seriesRoot), a.axisGroup = new Se({ name: "Axes", layer: !0, zIndex: bt.AXIS_ZINDEX }), c.appendChild(a.axisGroup), a.element = l, l.classList.add("ag-chart-wrapper"), l.style.position = "relative", a.scene = s != null ? s : new eC({ document: e, overrideDevicePixelRatio: r }), a.scene.debug.consoleLog = !1, a.scene.root = c, a.scene.container = l, a.autoSize = !0, a.chartEventManager = new G$(), a.cursorManager = new L$(l), a.highlightManager = new H$(), a.interactionManager = new z$(l), a.zoomManager = new q$(), a.dataService = new tU(function() {
        return a.series;
      }), a.layoutService = new eU(), a.updateService = new rU(function(d, p) {
        d === void 0 && (d = je.FULL);
        var h = p.forceNodeDataRefresh;
        return a.update(d, { forceNodeDataRefresh: h });
      }), a.seriesStateManager = new XU(), a.seriesLayerManager = new qU(a.seriesRoot), a.callbackCache = new zU(), a.animationManager = new I$(a.interactionManager), a.animationManager.skipAnimations = !0, a.animationManager.play(), a.tooltip = new K2(a.scene.canvas.element, e, e.body), a.tooltipManager = new Y$(a.tooltip, a.interactionManager), a.overlays = new x$(a.element), a.highlight = new iU(), a.container = u, a.debug = !1, Tw.observe(a.element, function(d) {
        var p, h = d.width, f = d.height;
        if (a.autoSize && !(h === 0 && f === 0)) {
          var v = Ns((p = a._lastAutoSize) !== null && p !== void 0 ? p : [], 2), g = v[0], y = g === void 0 ? 0 : g, m = v[1], C = m === void 0 ? 0 : m;
          y === h && C === f || (a._lastAutoSize = [h, f], a.resize());
        }
      }), a.layoutService.addListener("start-layout", function(d) {
        return a.positionPadding(d.shrinkRect);
      }), a.layoutService.addListener("start-layout", function(d) {
        return a.positionCaptions(d.shrinkRect);
      }), a.interactionManager.addListener("click", function(d) {
        return a.onClick(d);
      }), a.interactionManager.addListener("dblclick", function(d) {
        return a.onDoubleClick(d);
      }), a.interactionManager.addListener("hover", function(d) {
        return a.onMouseMove(d);
      }), a.interactionManager.addListener("leave", function(d) {
        return a.onLeave(d);
      }), a.interactionManager.addListener("page-left", function() {
        return a.destroy();
      }), a.interactionManager.addListener("wheel", function() {
        return a.disablePointer();
      }), a.animationManager.addListener("animation-frame", function(d) {
        a.update(je.SCENE_RENDER);
      }), a.highlightManager.addListener("highlight-change", function(d) {
        return a.changeHighlightDatum(d);
      }), a.zoomManager.addListener("zoom-change", function(d) {
        return a.update(je.PROCESS_DATA, { forceNodeDataRefresh: !0 });
      }), a.attachLegend("category"), a;
    }
    return t.prototype.getOptions = function() {
      var e, r = this.queuedUserOptions, n = (e = r[r.length - 1]) !== null && e !== void 0 ? e : this.userOptions;
      return xt([n]);
    }, t.prototype.autoSizeChanged = function(e) {
      var r = this.element.style;
      if (e) {
        if (r.display = "block", r.width = "100%", r.height = "100%", !this._lastAutoSize)
          return;
        this.resize();
      } else
        r.display = "inline-block", r.width = "auto", r.height = "auto";
    }, t.prototype.download = function(e, r) {
      this.scene.download(e, r);
    }, Object.defineProperty(t.prototype, "destroyed", {
      get: function() {
        return this._destroyed;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.addModule = function(e) {
      if (this.modules[e.optionsKey] != null)
        throw new Error("AG Charts - module already initialised: " + e.optionsKey);
      var r = new e.instanceConstructor(this.getModuleContext());
      this.modules[e.optionsKey] = { instance: r }, this[e.optionsKey] = r;
    }, t.prototype.removeModule = function(e) {
      var r, n;
      (n = (r = this.modules[e.optionsKey]) === null || r === void 0 ? void 0 : r.instance) === null || n === void 0 || n.destroy(), delete this.modules[e.optionsKey], delete this[e.optionsKey];
    }, t.prototype.isModuleEnabled = function(e) {
      return this.modules[e.optionsKey] != null;
    }, t.prototype.getModuleContext = function() {
      var e = this, r = e.scene, n = e.animationManager, i = e.chartEventManager, a = e.cursorManager, s = e.highlightManager, l = e.interactionManager, u = e.tooltipManager, c = e.zoomManager, d = e.dataService, p = e.layoutService, h = e.updateService, f = e.seriesStateManager, v = e.seriesLayerManager, g = e.mode, y = e.callbackCache;
      return {
        scene: r,
        animationManager: n,
        chartEventManager: i,
        cursorManager: a,
        highlightManager: s,
        interactionManager: l,
        tooltipManager: u,
        zoomManager: c,
        dataService: d,
        layoutService: p,
        updateService: h,
        mode: g,
        seriesStateManager: f,
        seriesLayerManager: v,
        callbackCache: y
      };
    }, t.prototype.destroy = function(e) {
      var r, n, i;
      if (!this._destroyed) {
        var a = e == null ? void 0 : e.keepTransferableResources, s = void 0;
        this._performUpdateType = je.NONE, this._pendingFactoryUpdates.splice(0), this.tooltipManager.destroy(), this.tooltip.destroy(), (i = this.legend) === null || i === void 0 || i.destroy(), this.overlays.noData.hide(), Tw.unobserve(this.element);
        try {
          for (var l = Gs(Object.entries(this.modules)), u = l.next(); !u.done; u = l.next()) {
            var c = Ns(u.value, 2), d = c[0], p = c[1];
            p.instance.destroy(), delete this.modules[d], delete this[d];
          }
        } catch (h) {
          r = { error: h };
        } finally {
          try {
            u && !u.done && (n = l.return) && n.call(l);
          } finally {
            if (r)
              throw r.error;
          }
        }
        return this.interactionManager.destroy(), this.animationManager.stop(), a ? (this.scene.strip(), s = { container: this.container, scene: this.scene, element: this.element }) : (this.scene.destroy(), this.container = void 0), this.removeAllSeries(), this.seriesLayerManager.destroy(), this.axes.forEach(function(h) {
          return h.destroy();
        }), this.axes = [], this.callbackCache.invalidateCache(), this._destroyed = !0, s;
      }
    }, t.prototype.log = function() {
      for (var e = [], r = 0; r < arguments.length; r++)
        e[r] = arguments[r];
      this.debug && pe.debug.apply(pe, Sp([], Ns(e)));
    }, t.prototype.disablePointer = function(e) {
      e === void 0 && (e = !1), e || this.tooltipManager.removeTooltip(this.id), this.highlightManager.updateHighlight(this.id), this.lastInteractionEvent && (this.lastInteractionEvent = void 0);
    }, t.prototype.requestFactoryUpdate = function(e) {
      var r = this._pendingFactoryUpdates, n = r.length;
      n === 0 ? (r.push(e), this._processCallbacks().catch(function(i) {
        return pe.errorOnce(i);
      })) : r.splice(1, n - 1, e);
    }, t.prototype._processCallbacks = function() {
      return xo(this, void 0, void 0, function() {
        var e, r;
        return To(this, function(n) {
          switch (n.label) {
            case 0:
              e = this._pendingFactoryUpdates, n.label = 1;
            case 1:
              return e.length > 0 ? this.updatePending ? [4, Rw(1)] : [3, 3] : [3, 7];
            case 2:
              return n.sent(), [3, 1];
            case 3:
              return n.trys.push([3, 5, , 6]), [4, e[0]()];
            case 4:
              return n.sent(), this.callbackCache.invalidateCache(), [3, 6];
            case 5:
              return r = n.sent(), pe.error("update error", r), [3, 6];
            case 6:
              return e.shift(), [3, 1];
            case 7:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    }, Object.defineProperty(t.prototype, "performUpdateType", {
      get: function() {
        return this._performUpdateType;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "updatePending", {
      get: function() {
        return this._performUpdateType !== je.NONE || this.lastInteractionEvent != null;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "lastPerformUpdateError", {
      get: function() {
        return this._lastPerformUpdateError;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.awaitUpdateCompletion = function() {
      return xo(this, void 0, void 0, function() {
        return To(this, function(e) {
          switch (e.label) {
            case 0:
              return [4, this.performUpdateTrigger.await()];
            case 1:
              return e.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.update = function(e, r) {
      var n, i;
      e === void 0 && (e = je.FULL);
      var a = r != null ? r : {}, s = a.forceNodeDataRefresh, l = s === void 0 ? !1 : s, u = a.seriesToUpdate, c = u === void 0 ? this.series : u;
      l && this.series.forEach(function(f) {
        return f.markNodeDataDirty();
      });
      try {
        for (var d = Gs(c), p = d.next(); !p.done; p = d.next()) {
          var h = p.value;
          this.seriesToUpdate.add(h);
        }
      } catch (f) {
        n = { error: f };
      } finally {
        try {
          p && !p.done && (i = d.return) && i.call(d);
        } finally {
          if (n)
            throw n.error;
        }
      }
      e < this._performUpdateType && (this._performUpdateType = e, this.performUpdateTrigger.schedule());
    }, t.prototype.performUpdate = function(e) {
      var r;
      return xo(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, p;
        return To(this, function(h) {
          switch (h.label) {
            case 0:
              switch (n = this, i = n._performUpdateType, a = n.extraDebugStats, this.log("Chart.performUpdate() - start", je[i]), s = [performance.now()], l = i, l) {
                case je.FULL:
                  return [3, 1];
                case je.PROCESS_DATA:
                  return [3, 1];
                case je.PERFORM_LAYOUT:
                  return [3, 3];
                case je.SERIES_UPDATE:
                  return [3, 5];
                case je.TOOLTIP_RECALCULATION:
                  return [3, 7];
                case je.SCENE_RENDER:
                  return [3, 8];
                case je.NONE:
                  return [3, 10];
              }
              return [3, 11];
            case 1:
              return [4, this.processData()];
            case 2:
              h.sent(), this.disablePointer(!0), s.push(performance.now()), h.label = 3;
            case 3:
              return this.checkFirstAutoSize() ? [4, this.performLayout()] : [3, 11];
            case 4:
              h.sent(), this.handleOverlays(), this.log("Chart.performUpdate() - seriesRect", this.seriesRect), s.push(performance.now()), h.label = 5;
            case 5:
              return u = this.seriesRect, c = Sp([], Ns(this.seriesToUpdate)).map(function(f) {
                return f.update({ seriesRect: u });
              }), this.seriesToUpdate.clear(), [4, Promise.all(c)];
            case 6:
              h.sent(), s.push(performance.now()), h.label = 7;
            case 7:
              d = this.tooltipManager.getTooltipMeta(this.id), i < je.SERIES_UPDATE && ((r = d == null ? void 0 : d.event) === null || r === void 0 ? void 0 : r.type) === "hover" && this.handlePointer(d.event), h.label = 8;
            case 8:
              return [4, this.scene.render({ debugSplitTimes: s, extraDebugStats: a })];
            case 9:
              h.sent(), this.extraDebugStats = {}, h.label = 10;
            case 10:
              this._performUpdateType = je.NONE, h.label = 11;
            case 11:
              return p = performance.now(), this.log("Chart.performUpdate() - end", {
                chart: this,
                durationMs: Math.round((p - s[0]) * 100) / 100,
                count: e,
                performUpdateType: je[i]
              }), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.checkFirstAutoSize = function() {
      if (this.autoSize && !this._lastAutoSize) {
        var e = this._performUpdateNoRenderCount++, r = (e ^ 2) * 10;
        if (e < 5)
          return this._performUpdateType = je.PERFORM_LAYOUT, this.performUpdateTrigger.schedule(r), this.log("Chart.checkFirstAutoSize() - backing off until first size update", r), !1;
        this.log("Chart.checkFirstAutoSize() - timeout for first size update.");
      }
      return this._performUpdateNoRenderCount = 0, !0;
    }, Object.defineProperty(t.prototype, "axes", {
      get: function() {
        return this._axes;
      },
      set: function(e) {
        var r = this, n = /* @__PURE__ */ new Set();
        this._axes.forEach(function(i) {
          i.detachAxis(r.axisGroup), n.add(i);
        }), this._axes = e.filter(function(i) {
          return !i.linkedTo;
        }).concat(e.filter(function(i) {
          return i.linkedTo;
        })), this._axes.forEach(function(i) {
          i.attachAxis(r.axisGroup), n.delete(i);
        }), this.zoomManager.updateAxes(this._axes), n.forEach(function(i) {
          return i.destroy();
        });
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "series", {
      get: function() {
        return this._series;
      },
      set: function(e) {
        var r = this;
        this.removeAllSeries(), e.forEach(function(n) {
          return r.addSeries(n);
        });
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.addSeries = function(e) {
      var r = this.series, n = r.indexOf(e) < 0;
      return n ? (r.push(e), e.rootGroup.parent == null && this.seriesLayerManager.requestGroup(e), this.initSeries(e), !0) : !1;
    }, t.prototype.initSeries = function(e) {
      e.chart = this, e.data || (e.data = this.data), this.addSeriesListeners(e), e.addChartEventListeners();
    }, t.prototype.removeAllSeries = function() {
      var e = this;
      this.series.forEach(function(r) {
        r.removeEventListener("nodeClick", e.onSeriesNodeClick), r.removeEventListener("nodeDoubleClick", e.onSeriesNodeDoubleClick), r.destroy(), r.chart = void 0;
      }), this._series = [];
    }, t.prototype.addSeriesListeners = function(e) {
      this.hasEventListener("seriesNodeClick") && e.addEventListener("nodeClick", this.onSeriesNodeClick), this.hasEventListener("seriesNodeDoubleClick") && e.addEventListener("nodeDoubleClick", this.onSeriesNodeDoubleClick);
    }, t.prototype.updateAllSeriesListeners = function() {
      var e = this;
      this.series.forEach(function(r) {
        r.removeEventListener("nodeClick", e.onSeriesNodeClick), r.removeEventListener("nodeDoubleClick", e.onSeriesNodeDoubleClick), e.addSeriesListeners(r);
      });
    }, t.prototype.assignSeriesToAxes = function() {
      var e = this;
      this.axes.forEach(function(r) {
        r.boundSeries = e.series.filter(function(n) {
          var i = n.axes[r.direction];
          return i === r;
        });
      });
    }, t.prototype.assignAxesToSeries = function() {
      var e = this, r = {};
      this.axes.forEach(function(n) {
        var i, a = n.direction, s = (i = r[a]) !== null && i !== void 0 ? i : r[a] = [];
        s.push(n);
      }), this.series.forEach(function(n) {
        n.directions.forEach(function(i) {
          var a = r[i];
          if (!a) {
            pe.warn("no available axis for direction [" + i + "]; check series and axes configuration.");
            return;
          }
          var s = n.getKeys(i), l = e.findMatchingAxis(a, n.getKeys(i));
          if (!l) {
            pe.warn("no matching axis for direction [" + i + "] and keys [" + s + "]; check series and axes configuration.");
            return;
          }
          n.axes[i] = l;
        });
      });
    }, t.prototype.findMatchingAxis = function(e, r) {
      var n, i, a, s;
      try {
        for (var l = Gs(e), u = l.next(); !u.done; u = l.next()) {
          var c = u.value, d = c.keys;
          if (!d.length)
            return c;
          if (r)
            try {
              for (var p = (a = void 0, Gs(r)), h = p.next(); !h.done; h = p.next()) {
                var f = h.value;
                if (d.indexOf(f) >= 0)
                  return c;
              }
            } catch (v) {
              a = { error: v };
            } finally {
              try {
                h && !h.done && (s = p.return) && s.call(p);
              } finally {
                if (a)
                  throw a.error;
              }
            }
        }
      } catch (v) {
        n = { error: v };
      } finally {
        try {
          u && !u.done && (i = l.return) && i.call(l);
        } finally {
          if (n)
            throw n.error;
        }
      }
    }, t.prototype.resize = function(e, r) {
      var n, i, a, s;
      e != null || (e = (n = this.width) !== null && n !== void 0 ? n : this.autoSize ? (i = this._lastAutoSize) === null || i === void 0 ? void 0 : i[0] : this.scene.canvas.width), r != null || (r = (a = this.height) !== null && a !== void 0 ? a : this.autoSize ? (s = this._lastAutoSize) === null || s === void 0 ? void 0 : s[1] : this.scene.canvas.height), this.log("Chart.resize()", { width: e, height: r }), !(!e || !r || !Number.isFinite(e) || !Number.isFinite(r)) && this.scene.resize(e, r) && (this.disablePointer(), this.update(je.PERFORM_LAYOUT, { forceNodeDataRefresh: !0 }));
    }, t.prototype.processData = function() {
      return xo(this, void 0, void 0, function() {
        var e, r;
        return To(this, function(n) {
          switch (n.label) {
            case 0:
              return this.axes.length > 0 && (this.assignAxesToSeries(), this.assignSeriesToAxes()), e = new KU(), r = this.series.map(function(i) {
                return i.processData(e);
              }), [4, e.execute()];
            case 1:
              return n.sent(), [4, Promise.all(r)];
            case 2:
              return n.sent(), [4, this.updateLegend()];
            case 3:
              return n.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.placeLabels = function() {
      var e, r, n = [], i = [];
      try {
        for (var a = Gs(this.series), s = a.next(); !s.done; s = a.next()) {
          var l = s.value;
          if (l.visible) {
            var u = l.getLabelData();
            u && m$(u[0]) && (i.push(u), n.push(l));
          }
        }
      } catch (p) {
        e = { error: p };
      } finally {
        try {
          s && !s.done && (r = a.return) && r.call(a);
        } finally {
          if (e)
            throw e.error;
        }
      }
      var c = this.seriesRect, d = c && i.length > 0 ? C$(i, { x: 0, y: 0, width: c.width, height: c.height }) : [];
      return new Map(d.map(function(p, h) {
        return [n[h], p];
      }));
    }, t.prototype.attachLegend = function(e) {
      var r;
      if (this.legendType === e && this.legend)
        return this.legend;
      (r = this.legend) === null || r === void 0 || r.destroy(), this.legend = void 0;
      var n = this.getModuleContext(), i = WU(e, n);
      return i.attachLegend(this.scene.root), this.legend = i, this.legendType = e, i;
    }, t.prototype.setLegendInit = function(e) {
      this.applyLegendOptions = e;
    }, t.prototype.updateLegend = function() {
      var e;
      return xo(this, void 0, void 0, function() {
        var r, n, i;
        return To(this, function(a) {
          return r = [], this.series.filter(function(s) {
            return s.showInLegend;
          }).forEach(function(s) {
            var l = s.getLegendData();
            r.push.apply(r, Sp([], Ns(l)));
          }), n = r.length > 0 ? r[0].legendType : "category", i = this.attachLegend(n), (e = this.applyLegendOptions) === null || e === void 0 || e.call(this, i), n === "category" && this.validateLegendData(r), i.data = r, [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.validateLegendData = function(e) {
      var r = this, n = {};
      e.forEach(function(i) {
        var a, s, l, u, c, d, p = (s = r.series.find(function(f) {
          return f.id === i.seriesId;
        })) === null || s === void 0 ? void 0 : s.type;
        if (p) {
          var h = i;
          (l = n[p]) !== null && l !== void 0 || (n[p] = (a = {}, a[h.label.text] = /* @__PURE__ */ new Set(), a)), (u = (c = n[p])[d = h.label.text]) !== null && u !== void 0 || (c[d] = /* @__PURE__ */ new Set()), h.marker.fill != null && n[p][h.label.text].add(h.marker.fill);
        }
      }), Object.keys(n).forEach(function(i) {
        Object.keys(n[i]).forEach(function(a) {
          var s = n[i][a];
          s.size > 1 && pe.warnOnce("legend item '" + a + "' has multiple fill colors, this may cause unexpected behaviour.");
        });
      });
    }, t.prototype.performLayout = function() {
      return xo(this, void 0, void 0, function() {
        var e, r, n, i;
        return To(this, function(a) {
          return this.scene.root != null && (this.scene.root.visible = !0), e = this.scene, r = e.width, n = e.height, i = new Ye(0, 0, r, n), i = this.layoutService.dispatchPerformLayout("start-layout", { shrinkRect: i }).shrinkRect, i = this.layoutService.dispatchPerformLayout("before-series", { shrinkRect: i }).shrinkRect, [2, i];
        });
      });
    }, t.prototype.positionPadding = function(e) {
      var r = this.padding;
      return e.shrink(r.left, "left"), e.shrink(r.top, "top"), e.shrink(r.right, "right"), e.shrink(r.bottom, "bottom"), { shrinkRect: e };
    }, t.prototype.positionCaptions = function(e) {
      var r, n = this, i = n.title, a = n.subtitle, s = n.footnote, l = e.clone(), u = function(p) {
        var h, f = e.height / 10, v = (h = p.lineHeight) !== null && h !== void 0 ? h : p.fontSize * ot.defaultLineHeightRatio, g = e.width, y = Math.max(v, f);
        p.computeTextWrap(g, y);
      }, c = function(p) {
        var h, f = l.y;
        p.node.x = l.x + l.width / 2, p.node.y = f, p.node.textBaseline = "top", u(p);
        var v = p.node.computeBBox(), g = Math.ceil(v.y - f + v.height + ((h = p.spacing) !== null && h !== void 0 ? h : 0));
        l.shrink(g, "top");
      }, d = function(p) {
        var h, f = l.y + l.height;
        p.node.x = l.x + l.width / 2, p.node.y = f, p.node.textBaseline = "bottom", u(p);
        var v = p.node.computeBBox(), g = Math.ceil(f - v.y + ((h = p.spacing) !== null && h !== void 0 ? h : 0));
        l.shrink(g, "bottom");
      };
      return i && (i.node.visible = i.enabled, i.node.visible && c(i)), a && (a.node.visible = (r = (i == null ? void 0 : i.enabled) && a.enabled) !== null && r !== void 0 ? r : !1, a.node.visible && c(a)), s && (s.node.visible = s.enabled, s.node.visible && d(s)), { shrinkRect: l };
    }, t.prototype.getSeriesRect = function() {
      return this.seriesRect;
    }, t.prototype.pickSeriesNode = function(e, r, n) {
      var i, a, s, l, u = performance.now(), c = r ? [Lt.EXACT_SHAPE_MATCH] : void 0, d = Sp([], Ns(this.series)).reverse(), p = void 0;
      try {
        for (var h = Gs(d), f = h.next(); !f.done; f = h.next()) {
          var v = f.value;
          if (!(!v.visible || !v.rootGroup.visible)) {
            var g = (s = v.pickNode(e, c)) !== null && s !== void 0 ? s : {}, y = g.match, m = g.distance;
            if (!(!y || m == null) && ((!p || p.distance > m) && m <= (n != null ? n : 1 / 0) && (p = { series: v, distance: m, datum: y }), m === 0))
              break;
          }
        }
      } catch (C) {
        i = { error: C };
      } finally {
        try {
          f && !f.done && (a = h.return) && a.call(h);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return this.extraDebugStats.pickSeriesNode = Math.round(((l = this.extraDebugStats.pickSeriesNode) !== null && l !== void 0 ? l : 0) + (performance.now() - u)), p;
    }, t.prototype.onMouseMove = function(e) {
      this.lastInteractionEvent = e, this.pointerScheduler.schedule(), this.extraDebugStats.mouseX = e.offsetX, this.extraDebugStats.mouseY = e.offsetY, this.update(je.SCENE_RENDER);
    }, t.prototype.onLeave = function(e) {
      this.tooltip.pointerLeftOntoTooltip(e) || this.disablePointer();
    }, t.prototype.handlePointer = function(e) {
      var r = this, n = this, i = n.lastPick, a = n.hoverRect, s = e.offsetX, l = e.offsetY, u = function(c) {
        c === void 0 && (c = !1), i && r.disablePointer(c);
      };
      if (!(a != null && a.containsPoint(s, l))) {
        u();
        return;
      }
      this.handlePointerTooltip(e, u), this.handlePointerNode(e);
    }, t.prototype.handlePointerTooltip = function(e, r) {
      var n, i, a = this, s = a.lastPick, l = a.tooltip, u = l.range, c = e.pageX, d = e.pageY, p = e.offsetX, h = e.offsetY, f;
      typeof u == "number" && Number.isFinite(u) && (f = u);
      var v = this.pickSeriesNode({ x: p, y: h }, u === "exact", f);
      if (!v) {
        this.tooltipManager.updateTooltip(this.id), this.highlight.range === "tooltip" && r(!0);
        return;
      }
      var g = this.highlight.range === "node" || !s || s.datum !== v.datum, y;
      g ? (y = v.series.getTooltipHtml(v.datum), this.highlight.range === "tooltip" && this.highlightManager.updateHighlight(this.id, v.datum)) : s && (s.event = e.sourceEvent);
      var m = f != null, C = this.tooltip.enabled && v.series.tooltip.enabled, S = u === "exact" && v.distance === 0, b = u === "nearest" || m || S, _ = C && b && (!g || y !== void 0), O = {
        xOffset: v.datum.series.tooltip.position.xOffset,
        yOffset: v.datum.series.tooltip.position.yOffset
      }, E = this.mergePointerDatum({ pageX: c, pageY: d, offsetX: p, offsetY: h, event: e, showArrow: v.series.tooltip.showArrow, position: O }, v.datum);
      E.enableInteraction = (i = (n = v.series.tooltip.interaction) === null || n === void 0 ? void 0 : n.enabled) !== null && i !== void 0 ? i : !1, _ && this.tooltipManager.updateTooltip(this.id, E, y);
    }, t.prototype.handlePointerNode = function(e) {
      var r = this, n = this.checkSeriesNodeRange(e, function(i, a) {
        (i.hasEventListener("nodeClick") || i.hasEventListener("nodeDoubleClick")) && r.cursorManager.updateCursor("chart", "pointer"), r.highlight.range === "node" && r.highlightManager.updateHighlight(r.id, a);
      });
      n || (this.cursorManager.updateCursor("chart"), this.highlight.range === "node" && this.highlightManager.updateHighlight(this.id));
    }, t.prototype.onClick = function(e) {
      if (this.checkSeriesNodeClick(e)) {
        this.update(je.SERIES_UPDATE);
        return;
      }
      this.fireEvent({
        type: "click",
        event: e.sourceEvent
      });
    }, t.prototype.onDoubleClick = function(e) {
      if (this.checkSeriesNodeDoubleClick(e)) {
        this.update(je.SERIES_UPDATE);
        return;
      }
      this.fireEvent({
        type: "doubleClick",
        event: e.sourceEvent
      });
    }, t.prototype.checkSeriesNodeClick = function(e) {
      return this.checkSeriesNodeRange(e, function(r, n) {
        return r.fireNodeClickEvent(e.sourceEvent, n);
      });
    }, t.prototype.checkSeriesNodeDoubleClick = function(e) {
      return this.checkSeriesNodeRange(e, function(r, n) {
        return r.fireNodeDoubleClickEvent(e.sourceEvent, n);
      });
    }, t.prototype.checkSeriesNodeRange = function(e, r) {
      var n = this.pickSeriesNode({ x: e.offsetX, y: e.offsetY }, !1), i = n == null ? void 0 : n.datum, a = i == null ? void 0 : i.series.nodeClickRange;
      if (i && a === "nearest")
        return r(i.series, i), !0;
      var s;
      typeof a == "number" && Number.isFinite(a) && (s = a);
      var l = this.pickSeriesNode({ x: e.offsetX, y: e.offsetY }, a === "exact", s);
      if (!l)
        return !1;
      var u = s != null, c = a === "exact" && l.distance === 0;
      return u || c ? (r(l.series, l.datum), !0) : !1;
    }, t.prototype.mergePointerDatum = function(e, r) {
      var n = r.series.tooltip.position.type;
      if (n === "node" && r.nodeMidPoint) {
        var i = r.nodeMidPoint, a = i.x, s = i.y, l = this.scene.canvas, u = r.series.contentGroup.inverseTransformPoint(a, s), c = l.element.getBoundingClientRect();
        return Fo(Fo({}, e), { pageX: Math.round(c.left + window.scrollX + u.x), pageY: Math.round(c.top + window.scrollY + u.y), offsetX: Math.round(u.x), offsetY: Math.round(u.y) });
      }
      return e;
    }, t.prototype.changeHighlightDatum = function(e) {
      var r, n, i = /* @__PURE__ */ new Set(), a = (r = e.currentHighlight) !== null && r !== void 0 ? r : {}, s = a.series, l = s === void 0 ? void 0 : s, u = a.datum, c = (n = e.previousHighlight) !== null && n !== void 0 ? n : {}, d = c.series, p = d === void 0 ? void 0 : d, h = c.datum;
      p && i.add(p), l && i.add(l), p != null && p.cursor && h && this.cursorManager.updateCursor(p.id), l != null && l.cursor && u && this.cursorManager.updateCursor(l.id, l.cursor), this.lastPick = e.currentHighlight ? { datum: e.currentHighlight } : void 0;
      var f = l == null || p == null;
      f ? this.update(je.SERIES_UPDATE) : this.update(je.SERIES_UPDATE, { seriesToUpdate: i });
    }, t.prototype.waitForUpdate = function(e) {
      return e === void 0 && (e = 5e3), xo(this, void 0, void 0, function() {
        var r;
        return To(this, function(n) {
          switch (n.label) {
            case 0:
              r = performance.now(), n.label = 1;
            case 1:
              if (!(this._pendingFactoryUpdates.length > 0 || this.updatePending))
                return [3, 3];
              if (performance.now() - r > e)
                throw new Error("waitForUpdate() timeout reached.");
              return [4, Rw(5)];
            case 2:
              return n.sent(), [3, 1];
            case 3:
              return [4, this.awaitUpdateCompletion()];
            case 4:
              return n.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.handleOverlays = function() {
      this.handleNoDataOverlay();
    }, t.prototype.handleNoDataOverlay = function() {
      var e = !this.series.some(function(n) {
        return n.hasData();
      }), r = this.getSeriesRect();
      e && r ? this.overlays.noData.show(r) : this.overlays.noData.hide();
    }, ei([
      si({
        newValue: function(e) {
          this.scene.debug.consoleLog = e, this.animationManager && (this.animationManager.debug = e);
        }
      })
    ], t.prototype, "debug", void 0), ei([
      si({
        newValue: function(e) {
          this.destroyed || e.appendChild(this.element);
        },
        oldValue: function(e) {
          e.removeChild(this.element);
        }
      })
    ], t.prototype, "container", void 0), ei([
      si({
        newValue: function(e) {
          var r;
          (r = this.series) === null || r === void 0 || r.forEach(function(n) {
            return n.data = e;
          });
        }
      })
    ], t.prototype, "data", void 0), ei([
      si({
        newValue: function(e) {
          this.resize(e);
        }
      })
    ], t.prototype, "width", void 0), ei([
      si({
        newValue: function(e) {
          this.resize(void 0, e);
        }
      })
    ], t.prototype, "height", void 0), ei([
      si({
        changeValue: function(e) {
          this.autoSizeChanged(e);
        }
      }),
      A(at)
    ], t.prototype, "autoSize", void 0), ei([
      si({
        newValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.appendChild(e.node);
        },
        oldValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.removeChild(e.node);
        }
      })
    ], t.prototype, "title", void 0), ei([
      si({
        newValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.appendChild(e.node);
        },
        oldValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.removeChild(e.node);
        }
      })
    ], t.prototype, "subtitle", void 0), ei([
      si({
        newValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.appendChild(e.node);
        },
        oldValue: function(e) {
          var r;
          (r = this.scene.root) === null || r === void 0 || r.removeChild(e.node);
        }
      })
    ], t.prototype, "footnote", void 0), ei([
      A(OO("standalone", "integrated"))
    ], t.prototype, "mode", void 0), t;
  }(CO)
), QU = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
};
function mg(o, t, e) {
  return Math.max(t, Math.min(e, o));
}
var Tr = (
  /** @class */
  function() {
    function o() {
      this.type = "band", this.cache = null, this.cacheProps = ["_domain", "range", "_paddingInner", "_paddingOuter", "round", "interval"], this.index = /* @__PURE__ */ new Map(), this.ordinalRange = [], this._domain = [], this.range = [0, 1], this._bandwidth = 1, this._rawBandwidth = 1, this._paddingInner = 0, this._paddingOuter = 0, this.round = !1;
    }
    return o.prototype.didChange = function() {
      var t = this, e = this.cache, r = !e || this.cacheProps.some(function(n) {
        return t[n] !== e[n];
      });
      return r ? (this.cache = {}, this.cacheProps.forEach(function(n) {
        return t.cache[n] = t[n];
      }), !0) : !1;
    }, o.prototype.refresh = function() {
      this.didChange() && this.update();
    }, Object.defineProperty(o.prototype, "domain", {
      get: function() {
        return this._domain;
      },
      set: function(t) {
        var e = [];
        this.index = /* @__PURE__ */ new Map();
        var r = this.index;
        t.forEach(function(n) {
          r.get(n) === void 0 && r.set(n, e.push(n) - 1);
        }), this._domain = e;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.ticks = function() {
      this.refresh();
      var t = this.interval, e = t === void 0 ? 1 : t, r = Math.abs(Math.round(e));
      return this._domain.filter(function(n, i) {
        return i % r === 0;
      });
    }, o.prototype.convert = function(t) {
      this.refresh();
      var e = this.index.get(t);
      if (e === void 0)
        return NaN;
      var r = this.ordinalRange[e];
      return r === void 0 ? NaN : r;
    }, o.prototype.invert = function(t) {
      this.refresh();
      var e = this.ordinalRange.findIndex(function(r) {
        return r === t;
      });
      return this.domain[e];
    }, Object.defineProperty(o.prototype, "bandwidth", {
      get: function() {
        return this.refresh(), this._bandwidth;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "rawBandwidth", {
      get: function() {
        return this.refresh(), this._rawBandwidth;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "padding", {
      get: function() {
        return this._paddingInner;
      },
      set: function(t) {
        t = mg(t, 0, 1), this._paddingInner = t, this._paddingOuter = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "paddingInner", {
      get: function() {
        return this._paddingInner;
      },
      set: function(t) {
        this._paddingInner = mg(t, 0, 1);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "paddingOuter", {
      get: function() {
        return this._paddingOuter;
      },
      set: function(t) {
        this._paddingOuter = mg(t, 0, 1);
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.update = function() {
      var t = this._domain.length;
      if (t !== 0) {
        for (var e = this.round, r = this._paddingInner, n = this._paddingOuter, i = QU(this.range, 2), a = i[0], s = i[1], l = s - a, u = l / Math.max(1, t + 2 * n - r), c = e ? Math.floor(u) : u, d = c * (t - r), p = a + (l - d) / 2, h = e ? Math.round(p) : p, f = c * (1 - r), v = e ? Math.round(f) : f, g = u * (1 - r), y = [], m = 0; m < t; m++)
          y.push(h + c * m);
        this._bandwidth = v, this._rawBandwidth = g, this.ordinalRange = y;
      }
    }, o;
  }()
), JU = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Gt = (
  /** @class */
  function(o) {
    JU(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.x1 = 0, e.y1 = 0, e.x2 = 0, e.y2 = 0, e.restoreOwnStyles(), e;
    }
    return t.prototype.computeBBox = function() {
      return new Ye(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);
    }, t.prototype.isPointInPath = function(e, r) {
      return !1;
    }, t.prototype.render = function(e) {
      var r, n = e.ctx, i = e.forceRender, a = e.stats;
      if (this.dirty === oe.NONE && !i) {
        a && (a.nodesSkipped += this.nodeCount.count);
        return;
      }
      this.computeTransformMatrix(), this.matrix.toContext(n);
      var s = this.x1, l = this.y1, u = this.x2, c = this.y2;
      if (s === u) {
        var d = Math.round(s) + Math.floor(this.strokeWidth) % 2 / 2;
        s = d, u = d;
      } else if (l === c) {
        var p = Math.round(l) + Math.floor(this.strokeWidth) % 2 / 2;
        l = p, c = p;
      }
      n.beginPath(), n.moveTo(s, l), n.lineTo(u, c), this.fillStroke(n), (r = this.fillShadow) === null || r === void 0 || r.markClean(), o.prototype.render.call(this, e);
    }, t.className = "Line", t.defaultStyles = Object.assign({}, xi.defaultStyles, {
      fill: void 0,
      strokeWidth: 1
    }), wp([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "x1", void 0), wp([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "y1", void 0), wp([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "x2", void 0), wp([
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "y2", void 0), t;
  }(xi)
), cn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Vl = (
  /** @class */
  function() {
    function o() {
      this.node = new ot(), this.enabled = !1, this.text = void 0, this.fontSize = 10, this.fontFamily = "sans-serif", this.spacing = o.PADDING, this.lineHeight = void 0, this.maxWidth = void 0, this.maxHeight = void 0, this.wrapping = "always";
      var t = this.node;
      t.textAlign = "center", t.pointerEvents = yr.None;
    }
    return o.prototype.computeTextWrap = function(t, e) {
      var r, n, i = this, a = i.text, s = i.wrapping, l = Math.min((r = this.maxWidth) !== null && r !== void 0 ? r : 1 / 0, t), u = (n = this.maxHeight) !== null && n !== void 0 ? n : e;
      if (!isFinite(l) && !isFinite(u)) {
        this.node.text = a;
        return;
      }
      var c = ot.wrap(a != null ? a : "", l, u, this, s);
      this.node.text = c;
    }, o.PADDING = 10, cn([
      A(at)
    ], o.prototype, "enabled", void 0), cn([
      A(Oe),
      Ft("node")
    ], o.prototype, "text", void 0), cn([
      A(fs),
      Ft("node")
    ], o.prototype, "fontStyle", void 0), cn([
      A(vs),
      Ft("node")
    ], o.prototype, "fontWeight", void 0), cn([
      A(ae(0)),
      Ft("node")
    ], o.prototype, "fontSize", void 0), cn([
      A(lr),
      Ft("node")
    ], o.prototype, "fontFamily", void 0), cn([
      A(ct),
      Ft("node", "fill")
    ], o.prototype, "color", void 0), cn([
      A(tt(0))
    ], o.prototype, "spacing", void 0), cn([
      A(tt(0))
    ], o.prototype, "lineHeight", void 0), cn([
      A(tt(0))
    ], o.prototype, "maxWidth", void 0), cn([
      A(tt(0))
    ], o.prototype, "maxHeight", void 0), cn([
      A(iC)
    ], o.prototype, "wrapping", void 0), o;
  }()
);
function ez(o, t) {
  return o.length === t.length && o.every(function(e, r) {
    return Number(e) === Number(t[r]);
  });
}
var _p = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, it = (
  /** @class */
  function() {
    function o(t, e) {
      this.domain = t, this.range = e, this.nice = !1, this.tickCount = o.defaultTickCount, this.minTickCount = 0, this.maxTickCount = 1 / 0, this.niceDomain = null, this.strictClampByDefault = !1, this.cache = null, this.cacheProps = ["domain", "range", "nice", "tickCount", "minTickCount", "maxTickCount"];
    }
    return o.prototype.transform = function(t) {
      return t;
    }, o.prototype.transformInvert = function(t) {
      return t;
    }, o.prototype.fromDomain = function(t) {
      return typeof t == "number" ? t : t instanceof Date ? t.getTime() : NaN;
    }, o.prototype.getDomain = function() {
      return this.nice && (this.refresh(), this.niceDomain) ? this.niceDomain : this.domain;
    }, o.prototype.convert = function(t, e) {
      var r = this, n;
      if (!this.domain || this.domain.length < 2)
        return NaN;
      this.refresh();
      var i = (n = e == null ? void 0 : e.strict) !== null && n !== void 0 ? n : this.strictClampByDefault, a = this.getDomain().map(function(f) {
        return r.transform(f);
      }), s = _p(a, 2), l = s[0], u = s[1], c = this.range, d = _p(c, 2), p = d[0], h = d[1];
      return t = this.transform(t), t < l ? i ? NaN : p : t > u ? i ? NaN : h : l === u ? (p + h) / 2 : t === l ? p : t === u ? h : p + (this.fromDomain(t) - this.fromDomain(l)) / (this.fromDomain(u) - this.fromDomain(l)) * (h - p);
    }, o.prototype.invert = function(t) {
      var e = this;
      this.refresh();
      var r = this.getDomain().map(function(v) {
        return e.transform(v);
      }), n = _p(r, 2), i = n[0], a = n[1], s = this.range, l = _p(s, 2), u = l[0], c = l[1], d = u > c, p = d ? c : u, h = d ? u : c, f;
      return t < p ? d ? a : i : t > h ? d ? i : a : (u === c ? f = this.toDomain((this.fromDomain(i) + this.fromDomain(a)) / 2) : f = this.toDomain(this.fromDomain(i) + (t - u) / (c - u) * (this.fromDomain(a) - this.fromDomain(i))), this.transformInvert(f));
    }, o.prototype.didChange = function() {
      var t = this, e = this.cache, r = !e || this.cacheProps.some(function(n) {
        return t[n] !== e[n];
      });
      return r ? (this.cache = {}, this.cacheProps.forEach(function(n) {
        return t.cache[n] = t[n];
      }), !0) : !1;
    }, o.prototype.refresh = function() {
      this.didChange() && this.update();
    }, o.prototype.isDenseInterval = function(t) {
      var e = t.start, r = t.stop, n = t.interval, i = t.count, a = this.range, s = r - e, l = Math.min(a[0], a[1]), u = Math.max(a[0], a[1]), c = u - l, d = typeof n == "number" ? n : 1;
      return i != null || (i = s / d), i >= c ? (pe.warn("the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."), !0) : !1;
    }, o.defaultTickCount = 5, o.defaultMaxTickCount = 6, o;
  }()
), tz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}();
function cC(o, t, e, r, n) {
  if (e < 2)
    return Nh(o, t, t - o);
  var i = Xc(o, t, e, r, n);
  return isNaN(i) ? new dC(0) : (o = Math.ceil(o / i) * i, t = Math.floor(t / i) * i, Nh(o, t, i));
}
var WO = [1, 2, 5, 10];
function Xc(o, t, e, r, n) {
  r === void 0 && (r = 0), n === void 0 && (n = 1 / 0);
  var i = (t - o) / e, a = Math.floor(Math.log10(i)), s = Math.pow(10, a), l = WO.map(function(u) {
    var c = u * s, d = Math.ceil((t - o) / c), p = d >= r && d <= n, h = Math.abs(d - e);
    return { multiplier: u, isWithinBounds: p, diffCount: h };
  }).sort(function(u, c) {
    return u.isWithinBounds !== c.isWithinBounds ? u.isWithinBounds ? -1 : 1 : u.diffCount - c.diffCount;
  })[0].multiplier;
  return !l || isNaN(l) ? NaN : l * s;
}
function rz(o, t) {
  var e = Math.floor(Math.log10(t - o)), r = Math.pow(10, e);
  return WO.map(function(n) {
    var i = n * r, a = Math.floor(o / i) * i, s = Math.ceil(t / i) * i, l = 1 - (t - o) / (s - a), u = [a, s];
    return { error: l, domain: u };
  }).sort(function(n, i) {
    return n.error - i.error;
  })[0].domain;
}
var dC = (
  /** @class */
  function(o) {
    tz(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      if (r)
        for (var i = 0, a = r.length; i < a; i++)
          n[i] = r[i];
      return n.fractionDigits = e, n;
    }
    return t;
  }(Array)
);
function Nh(o, t, e) {
  for (var r = function(c) {
    var d, p, h = c.split("e");
    return Math.max(((p = (d = h[0].split(".")[1]) === null || d === void 0 ? void 0 : d.length) !== null && p !== void 0 ? p : 0) - Number(h[1]), 0);
  }, n = r((e % 1).toExponential()), i = Math.pow(10, n), a = Math.ceil((t - o) / e), s = new dC(n), l = 0; l <= a; l++) {
    var u = o + e * l;
    s.push(Math.round(u * i) / i);
  }
  return s;
}
var bp = {
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
};
function pC(o, t) {
  t === void 0 && (t = new Date(o.getFullYear(), 0, 1));
  var e = o.getTimezoneOffset() - t.getTimezoneOffset(), r = o.getTime() - t.getTime() + e * 6e4, n = 36e5 * 24;
  return Math.floor(r / n);
}
function Yw(o, t) {
  var e = new Date(o.getFullYear(), 0, 1), r = e.getDay(), n = (t - r + 7) % 7, i = new Date(o.getFullYear(), 0, n + 1);
  return i <= o ? Math.floor(pC(o, i) / 7) + 1 : 0;
}
var nz = 0, $O = 1, Xw = 4;
function UO(o, t) {
  t === void 0 && (t = o.getFullYear());
  var e = new Date(t, 0, 1), r = e.getDay(), n = (Xw - r + 7) % 7, i = new Date(t, 0, n - (Xw - $O) + 1);
  return i <= o ? Math.floor(pC(o, i) / 7) + 1 : UO(o, t - 1);
}
function iz(o) {
  var t = o.getTimezoneOffset(), e = Math.abs(t), r = t > 0 ? "-" : "+";
  return "" + r + Zt(Math.floor(e / 60), 2, "0") + Zt(Math.floor(e % 60), 2, "0");
}
var oz = {
  a: function(o) {
    return bp.shortDays[o.getDay()];
  },
  A: function(o) {
    return bp.days[o.getDay()];
  },
  b: function(o) {
    return bp.shortMonths[o.getMonth()];
  },
  B: function(o) {
    return bp.months[o.getMonth()];
  },
  c: "%x, %X",
  d: function(o, t) {
    return Zt(o.getDate(), 2, t != null ? t : "0");
  },
  e: "%_d",
  f: function(o, t) {
    return Zt(o.getMilliseconds() * 1e3, 6, t != null ? t : "0");
  },
  H: function(o, t) {
    return Zt(o.getHours(), 2, t != null ? t : "0");
  },
  I: function(o, t) {
    var e = o.getHours() % 12;
    return e === 0 ? "12" : Zt(e, 2, t != null ? t : "0");
  },
  j: function(o, t) {
    return Zt(pC(o) + 1, 3, t != null ? t : "0");
  },
  m: function(o, t) {
    return Zt(o.getMonth() + 1, 2, t != null ? t : "0");
  },
  M: function(o, t) {
    return Zt(o.getMinutes(), 2, t != null ? t : "0");
  },
  L: function(o, t) {
    return Zt(o.getMilliseconds(), 3, t != null ? t : "0");
  },
  p: function(o) {
    return o.getHours() < 12 ? "AM" : "PM";
  },
  Q: function(o) {
    return String(o.getTime());
  },
  s: function(o) {
    return String(Math.floor(o.getTime() / 1e3));
  },
  S: function(o, t) {
    return Zt(o.getSeconds(), 2, t != null ? t : "0");
  },
  u: function(o) {
    var t = o.getDay();
    return t < 1 && (t += 7), String(t % 7);
  },
  U: function(o, t) {
    return Zt(Yw(o, nz), 2, t != null ? t : "0");
  },
  V: function(o, t) {
    return Zt(UO(o), 2, t != null ? t : "0");
  },
  w: function(o, t) {
    return Zt(o.getDay(), 2, t != null ? t : "0");
  },
  W: function(o, t) {
    return Zt(Yw(o, $O), 2, t != null ? t : "0");
  },
  x: "%-m/%-d/%Y",
  X: "%-I:%M:%S %p",
  y: function(o, t) {
    return Zt(o.getFullYear() % 100, 2, t != null ? t : "0");
  },
  Y: function(o, t) {
    return Zt(o.getFullYear(), 4, t != null ? t : "0");
  },
  Z: function(o) {
    return iz(o);
  },
  "%": function() {
    return "%";
  }
}, az = {
  _: " ",
  0: "0",
  "-": ""
};
function Zt(o, t, e) {
  var r = String(Math.floor(o));
  return r.length >= t ? r : "" + e.repeat(t - r.length) + r;
}
function Gh(o) {
  for (var t = []; o.length > 0; ) {
    var e = o.indexOf("%");
    if (e !== 0) {
      var r = e > 0 ? o.substring(0, e) : o;
      t.push(r);
    }
    if (e < 0)
      break;
    var n = o[e + 1], i = az[n];
    i != null && e++;
    var a = o[e + 1], s = oz[a];
    if (typeof s == "function")
      t.push([s, i]);
    else if (typeof s == "string") {
      var l = Gh(s);
      t.push([l, i]);
    } else
      t.push("" + (i != null ? i : "") + a);
    o = o.substring(e + 2);
  }
  return function(u) {
    var c = typeof u == "number" ? new Date(u) : u;
    return t.map(function(d) {
      return typeof d == "string" ? d : d[0](c, d[1]);
    }).join("");
  };
}
var sz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), lz = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, ti = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, _a = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Fn, Qe;
(function(o) {
  o[o.MILLISECOND = 0] = "MILLISECOND", o[o.SECOND = 1] = "SECOND", o[o.MINUTE = 2] = "MINUTE", o[o.HOUR = 3] = "HOUR", o[o.WEEK_DAY = 4] = "WEEK_DAY", o[o.SHORT_MONTH = 5] = "SHORT_MONTH", o[o.MONTH = 6] = "MONTH", o[o.SHORT_YEAR = 7] = "SHORT_YEAR", o[o.YEAR = 8] = "YEAR";
})(Qe || (Qe = {}));
var ba = (Fn = {}, Fn[Qe.MILLISECOND] = ".%L", Fn[Qe.SECOND] = ":%S", Fn[Qe.MINUTE] = "%I:%M", Fn[Qe.HOUR] = "%I %p", Fn[Qe.WEEK_DAY] = "%a", Fn[Qe.SHORT_MONTH] = "%b %d", Fn[Qe.MONTH] = "%B", Fn[Qe.SHORT_YEAR] = "%y", Fn[Qe.YEAR] = "%Y", Fn);
function Ln(o) {
  return o instanceof Date ? o.getTime() : o;
}
var hC = (
  /** @class */
  function(o) {
    sz(t, o);
    function t() {
      var e = o.call(this, [new Date(2022, 11, 7), new Date(2022, 11, 8)], [0, 1]) || this;
      return e.type = "time", e.cacheProps = [
        "domain",
        "range",
        "nice",
        "tickCount",
        "interval",
        "minTickCount",
        "maxTickCount"
      ], e.year = k3, e.month = L3, e.week = M3, e.day = A3, e.hour = R3, e.minute = O3, e.second = _3, e.millisecond = C3, e.tickIntervals = [
        [e.second, 1, Ua],
        [e.second, 5, 5 * Ua],
        [e.second, 15, 15 * Ua],
        [e.second, 30, 30 * Ua],
        [e.minute, 1, Xr],
        [e.minute, 5, 5 * Xr],
        [e.minute, 15, 15 * Xr],
        [e.minute, 30, 30 * Xr],
        [e.hour, 1, yi],
        [e.hour, 3, 3 * yi],
        [e.hour, 6, 6 * yi],
        [e.hour, 12, 12 * yi],
        [e.day, 1, Yo],
        [e.day, 2, 2 * Yo],
        [e.week, 1, gc],
        [e.week, 2, 2 * gc],
        [e.week, 3, 3 * gc],
        [e.month, 1, zu],
        [e.month, 2, 2 * zu],
        [e.month, 3, 3 * zu],
        [e.month, 4, 4 * zu],
        [e.month, 6, 6 * zu],
        [e.year, 1, hp]
      ], e;
    }
    return t.prototype.toDomain = function(e) {
      return new Date(e);
    }, t.prototype.calculateDefaultTickFormat = function(e) {
      var r, n;
      e === void 0 && (e = []);
      var i = Qe.YEAR, a = function(g) {
        g < i && (i = g);
      };
      try {
        for (var s = lz(e), l = s.next(); !l.done; l = s.next()) {
          var u = l.value, c = this.getLowestGranularityFormat(u);
          a(c);
        }
      } catch (g) {
        r = { error: g };
      } finally {
        try {
          l && !l.done && (n = s.return) && n.call(s);
        } finally {
          if (r)
            throw r.error;
        }
      }
      var d = Ln(e[0]), p = Ln(e[e.length - 1]), h = new Date(d).getFullYear(), f = new Date(p).getFullYear(), v = f - h > 0;
      return this.buildFormatString(i, v);
    }, t.prototype.buildFormatString = function(e, r) {
      var n = [ba[e]], i = 0, a = this.getDomain(), s = Math.min.apply(Math, _a([], ti(a.map(Ln)))), l = Math.max.apply(Math, _a([], ti(a.map(Ln)))), u = l - s;
      switch (e) {
        case Qe.SECOND:
          u / Xr > 1 && n.push(ba[Qe.MINUTE]);
        case Qe.MINUTE:
          u / yi > 1 && n.push(ba[Qe.HOUR]);
        case Qe.HOUR:
          i = n.length, u / Yo > 1 && n.push(ba[Qe.WEEK_DAY]);
        case Qe.WEEK_DAY:
          if (u / gc > 1 || r) {
            var c = n.indexOf(ba[Qe.WEEK_DAY]);
            c > -1 && n.splice(c, 1, ba[Qe.SHORT_MONTH]);
          }
        case Qe.SHORT_MONTH:
        case Qe.MONTH:
          (u / hp > 1 || r) && n.push(ba[Qe.YEAR]);
      }
      return i < n.length && (n = _a(_a([], ti(n.slice(0, i))), [
        n.slice(i).join(" ")
      ])), i > 0 && (n = _a(_a([], ti(n.slice(0, i).reverse())), ti(n.slice(i))), i < n.length && n.splice(i, 0, " ")), n.join("");
    }, t.prototype.getLowestGranularityFormat = function(e) {
      return this.second.floor(e) < e ? Qe.MILLISECOND : this.minute.floor(e) < e ? Qe.SECOND : this.hour.floor(e) < e ? Qe.MINUTE : this.day.floor(e) < e ? Qe.HOUR : this.month.floor(e) < e ? this.week.floor(e) < e ? Qe.WEEK_DAY : Qe.SHORT_MONTH : this.year.floor(e) < e ? Qe.MONTH : Qe.YEAR;
    }, t.prototype.defaultTickFormat = function(e) {
      var r = this.calculateDefaultTickFormat(e);
      return function(n) {
        return Gh(r)(n);
      };
    }, t.prototype.getTickInterval = function(e) {
      for (var r, n = e.start, i = e.stop, a = e.count, s = e.minCount, l = e.maxCount, u = this.tickIntervals, c, d, p = a != null ? a : it.defaultTickCount, h = Math.abs(i - n) / Math.max(p, 1), f = 0; f < u.length && h > u[f][2]; )
        f++;
      if (f === 0)
        d = Math.max(Xc(n, i, p, s, l), 1), c = this.millisecond;
      else if (f === u.length) {
        var v = n / hp, g = i / hp;
        d = Xc(v, g, p, s, l), c = this.year;
      } else {
        var y = h - u[f - 1][2], m = u[f][2] - h, C = y < m ? f - 1 : f;
        r = ti(u[C], 2), c = r[0], d = r[1];
      }
      return c.every(d);
    }, t.prototype.invert = function(e) {
      return new Date(o.prototype.invert.call(this, e));
    }, t.prototype.ticks = function() {
      if (!this.domain || this.domain.length < 2)
        return [];
      this.refresh();
      var e = ti(this.getDomain().map(Ln), 2), r = e[0], n = e[1];
      if (this.interval !== void 0)
        return this.getTicksForInterval({ start: r, stop: n });
      if (this.nice) {
        var i = this.tickCount;
        if (i === 2)
          return this.niceDomain;
        if (i === 1)
          return this.niceDomain.slice(0, 1);
      }
      return this.getDefaultTicks({ start: r, stop: n });
    }, t.prototype.getDefaultTicks = function(e) {
      var r = e.start, n = e.stop, i = this.getTickInterval({
        start: r,
        stop: n,
        count: this.tickCount,
        minCount: this.minTickCount,
        maxCount: this.maxTickCount
      });
      return i ? i.range(new Date(r), new Date(n)) : [];
    }, t.prototype.getTicksForInterval = function(e) {
      var r = e.start, n = e.stop, i = this, a = i.interval, s = i.tickIntervals;
      if (!a)
        return [];
      if (a instanceof Yl) {
        var l = a.range(new Date(r), new Date(n));
        return this.isDenseInterval({ start: r, stop: n, interval: a, count: l.length }) ? this.getDefaultTicks({ start: r, stop: n }) : l;
      }
      var u = Math.abs(a);
      if (this.isDenseInterval({ start: r, stop: n, interval: u }))
        return this.getDefaultTicks({ start: r, stop: n });
      var c = _a([], ti(s));
      c.reverse();
      var d = c.find(function(g) {
        return u % g[2] === 0;
      });
      if (d) {
        var p = d[0].every(u / (d[2] / d[1]));
        return p.range(new Date(r), new Date(n));
      }
      for (var h = new Date(r), f = new Date(n), v = []; h <= f; )
        v.push(h), h = new Date(h), h.setMilliseconds(h.getMilliseconds() + u);
      return v;
    }, t.prototype.tickFormat = function(e) {
      var r = e.ticks, n = e.specifier;
      return n == null ? this.defaultTickFormat(r) : Gh(n);
    }, t.prototype.update = function() {
      !this.domain || this.domain.length < 2 || this.nice && this.updateNiceDomain();
    }, t.prototype.updateNiceDomain = function() {
      for (var e = 4, r = ti(this.domain, 2), n = r[0], i = r[1], a = 0; a < e; a++) {
        this.updateNiceDomainIteration(n, i);
        var s = ti(this.niceDomain, 2), l = s[0], u = s[1];
        if (Ln(n) === Ln(l) && Ln(i) === Ln(u))
          break;
        n = l, i = u;
      }
    }, t.prototype.updateNiceDomainIteration = function(e, r) {
      var n = Ln(e), i = Ln(r), a = this.interval, s;
      if (a instanceof Yl)
        s = a;
      else {
        var l = typeof a == "number" ? (i - n) / Math.max(a, 1) : this.tickCount;
        s = this.getTickInterval({
          start: n,
          stop: i,
          count: l,
          minCount: this.minTickCount,
          maxCount: this.maxTickCount
        });
      }
      if (s) {
        var u = s.range(e, r, !0), c = u[0], d = u[u.length - 1];
        this.niceDomain = [c, d];
      }
    }, t;
  }(it)
), kh = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, qw = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, It, Bl = function(o) {
  return "(" + o + ")";
}, Ki = function(o) {
  return Bl(o) + "?";
}, Zw = function(o) {
  return Ki("?:" + o);
}, uz = function() {
  var o = ".", t = "[<>=^]", e = "[+\\-( ]", r = "[$€£¥₣₹#]", n = "0", i = "\\d+", a = ",", s = "\\d+", l = "~", u = "[%a-z]";
  return new RegExp([
    "^",
    Zw("" + Ki(o) + Bl(t)),
    Ki(e),
    Ki(r),
    Ki(n),
    Ki(i),
    Ki(a),
    Zw("\\." + Bl(s)),
    Ki(l),
    Ki(u),
    "$"
  ].join(""), "i");
}(), cz = function() {
  var o = ".*?", t = ".+?", e = ".*?";
  return new RegExp(["^", Bl(o), "#\\{" + Bl(t) + "\\}", Bl(e), "$"].join(""));
}();
function zO(o) {
  var t, e, r, n = cz.exec(o);
  n && (t = kh(n, 4), e = t[1], o = t[2], r = t[3]);
  var i = uz.exec(o);
  if (!i)
    throw new Error("The number formatter is invalid: " + o);
  var a = kh(i, 11), s = a[1], l = a[2], u = a[3], c = a[4], d = a[5], p = a[6], h = a[7], f = a[8], v = a[9], g = a[10];
  return {
    fill: s,
    align: l,
    sign: u,
    symbol: c,
    zero: d,
    width: parseInt(p),
    comma: h,
    precision: parseInt(f),
    trim: !!v,
    type: g,
    prefix: e,
    suffix: r
  };
}
function KO(o) {
  var t = typeof o == "string" ? zO(o) : o, e = t.fill, r = t.align, n = t.sign, i = n === void 0 ? "-" : n, a = t.symbol, s = t.zero, l = t.width, u = t.comma, c = t.type, d = t.prefix, p = d === void 0 ? "" : d, h = t.suffix, f = h === void 0 ? "" : h, v = t.precision, g = t.trim, y = v === void 0 || isNaN(v), m;
  if (!c)
    m = Ur.g, g = !0;
  else if (c in Ur && c in xl)
    m = y ? xl[c] : Ur[c];
  else if (c in Ur)
    m = Ur[c];
  else if (c in xl)
    m = xl[c];
  else
    throw new Error("The number formatter type is invalid: " + c);
  var C;
  return v == null || y ? C = c ? 6 : 12 : C = v, function(S) {
    var b = m(S, C);
    return g && (b = dz(b)), u && (b = pz(b, u)), b = gz(S, b, i), a && a !== "#" && (b = "" + a + b), a === "#" && c === "x" && (b = "0x" + b), c === "s" && (b = "" + b + hz(S)), (c === "%" || c === "p") && (b = b + "%"), l != null && !isNaN(l) && (b = yz(b, l, e != null ? e : s, r)), b = "" + p + b + f, b;
  };
}
var Ep = function(o) {
  return Math.floor(Math.abs(o));
}, xl = {
  b: function(o) {
    return Ep(o).toString(2);
  },
  c: function(o) {
    return String.fromCharCode(o);
  },
  d: function(o) {
    return Math.round(Math.abs(o)).toFixed(0);
  },
  o: function(o) {
    return Ep(o).toString(8);
  },
  x: function(o) {
    return Ep(o).toString(16);
  },
  X: function(o) {
    return xl.x(o).toUpperCase();
  },
  n: function(o) {
    return xl.d(o);
  },
  "%": function(o) {
    return "" + Ep(o * 100).toFixed(0);
  }
}, Ur = {
  e: function(o, t) {
    return Math.abs(o).toExponential(t);
  },
  E: function(o, t) {
    return Ur.e(o, t).toUpperCase();
  },
  f: function(o, t) {
    return Math.abs(o).toFixed(t);
  },
  F: function(o, t) {
    return Ur.f(o, t).toUpperCase();
  },
  g: function(o, t) {
    if (o === 0)
      return "0";
    var e = Math.abs(o), r = Math.floor(Math.log10(e));
    return r >= -4 && r < t ? e.toFixed(t - 1 - r) : e.toExponential(t - 1);
  },
  G: function(o, t) {
    return Ur.g(o, t).toUpperCase();
  },
  n: function(o, t) {
    return Ur.g(o, t);
  },
  p: function(o, t) {
    return Ur.r(o * 100, t);
  },
  r: function(o, t) {
    if (o === 0)
      return "0";
    var e = Math.abs(o), r = Math.floor(Math.log10(e)), n = r - (t - 1);
    if (n <= 0)
      return e.toFixed(-n);
    var i = Math.pow(10, n);
    return (Math.round(e / i) * i).toFixed();
  },
  s: function(o, t) {
    var e = YO(o);
    return Ur.r(o / Math.pow(10, e), t);
  },
  "%": function(o, t) {
    return Ur.f(o * 100, t);
  }
};
function dz(o) {
  return o.replace(/\.0+$/, "").replace(/(\.[1-9])0+$/, "$1");
}
function pz(o, t) {
  var e = o.indexOf(".");
  e < 0 && (e = o.length);
  for (var r = o.substring(0, e).split(""), n = o.substring(e), i = r.length - 3; i > 0; i -= 3)
    r.splice(i, 0, t);
  return "" + r.join("") + n;
}
function hz(o) {
  return fz[YO(o)];
}
function YO(o) {
  var t = Math.log10(Math.abs(o)), e = Math.floor(t / 3) * 3;
  return Math.max(XO, Math.min(qO, e));
}
var XO = -24, qO = 24, fz = (It = {}, It[XO] = "y", It[-21] = "z", It[-18] = "a", It[-15] = "f", It[-12] = "p", It[-9] = "n", It[-6] = "µ", It[-3] = "m", It[0] = "", It[3] = "k", It[6] = "M", It[9] = "G", It[12] = "T", It[15] = "P", It[18] = "E", It[21] = "Z", It[qO] = "Y", It), vz = "−";
function gz(o, t, e) {
  if (e === void 0 && (e = ""), e === "(")
    return o >= 0 ? t : "(" + t + ")";
  var r = e === "+" ? "+" : "";
  return "" + (o >= 0 ? r : vz) + t;
}
function yz(o, t, e, r) {
  e === void 0 && (e = " "), r === void 0 && (r = ">");
  var n = o;
  if (r === ">" || !r)
    n = n.padStart(t, e);
  else if (r === "<")
    n = n.padEnd(t, e);
  else if (r === "^") {
    var i = Math.max(0, t - n.length), a = Math.ceil(i / 2), s = Math.floor(i / 2);
    n = n.padStart(a + n.length, e), n = n.padEnd(s + n.length, e);
  }
  return n;
}
function mz(o, t) {
  var e = zO(t != null ? t : ",f"), r = e.precision;
  (r == null || isNaN(r)) && (e.type === "f" || e.type === "%" ? e.precision = Math.max.apply(Math, qw([], kh(o.map(function(i) {
    if (typeof i != "number" || i === 0)
      return 0;
    var a = Math.floor(Math.log10(Math.abs(i))), s = e.type ? 6 : 12, l = i.toExponential(s - 1).replace(/\.?0+e/, "e"), u = l.indexOf(".");
    if (u < 0)
      return a >= 0 ? 0 : -a;
    var c = l.indexOf("e") - u;
    return Math.max(0, c - a - 1);
  })))) : (!e.type || e.type in Ur) && (e.precision = Math.max.apply(Math, qw([], kh(o.map(function(i) {
    if (typeof i != "number")
      return 0;
    var a = i.toExponential((e.type ? 6 : 12) - 1).replace(/\.?0+e/, "e");
    return a.substring(0, a.indexOf("e")).replace(".", "").length;
  }))))));
  var n = KO(e);
  return function(i) {
    return n(Number(i));
  };
}
var Cz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Sz = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Op = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Qw = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Jw = function(o) {
  return o;
}, ZO = (
  /** @class */
  function(o) {
    Cz(t, o);
    function t() {
      var e = o.call(this, [1, 10], [0, 1]) || this;
      return e.type = "log", e.base = 10, e.cacheProps = ["domain", "range", "nice", "tickCount", "base"], e.baseLog = Jw, e.basePow = Jw, e.log = function(r) {
        return e.domain[0] >= 0 ? e.baseLog(r) : -e.baseLog(-r);
      }, e.pow = function(r) {
        return e.domain[0] >= 0 ? e.basePow(r) : -e.basePow(-r);
      }, e;
    }
    return t.prototype.toDomain = function(e) {
      return e;
    }, t.prototype.transform = function(e) {
      return this.domain[0] >= 0 ? Math.log(e) : -Math.log(-e);
    }, t.prototype.transformInvert = function(e) {
      return this.domain[0] >= 0 ? Math.exp(e) : -Math.exp(-e);
    }, t.prototype.update = function() {
      !this.domain || this.domain.length < 2 || (this.updateLogFn(), this.updatePowFn(), this.nice && this.updateNiceDomain());
    }, t.prototype.updateLogFn = function() {
      var e = this.base, r;
      if (e === 10)
        r = Math.log10;
      else if (e === Math.E)
        r = Math.log;
      else if (e === 2)
        r = Math.log2;
      else {
        var n = Math.log(e);
        r = function(i) {
          return Math.log(i) / n;
        };
      }
      this.baseLog = r;
    }, t.prototype.updatePowFn = function() {
      var e = this.base, r;
      e === 10 ? r = t.pow10 : e === Math.E ? r = Math.exp : r = function(n) {
        return Math.pow(e, n);
      }, this.basePow = r;
    }, t.prototype.updateNiceDomain = function() {
      var e = Op(this.domain, 2), r = e[0], n = e[1], i = this.pow(Math.floor(this.log(r))), a = this.pow(Math.ceil(this.log(n)));
      this.niceDomain = [i, a];
    }, t.pow10 = function(e) {
      return e >= 0 ? Math.pow(10, e) : 1 / Math.pow(10, -e);
    }, t.prototype.ticks = function() {
      var e = this, r, n = (r = this.tickCount) !== null && r !== void 0 ? r : 10;
      if (!this.domain || this.domain.length < 2 || n < 1)
        return [];
      this.refresh();
      var i = this.base, a = Op(this.getDomain(), 2), s = a[0], l = a[1], u = this.log(s), c = this.log(l);
      if (this.interval) {
        var d = Math.abs(this.interval), p = Math.abs(c - u), h = Nh(u, c, Math.min(p, d)).map(function(N) {
          return e.pow(N);
        }).filter(function(N) {
          return N >= s && N <= l;
        });
        if (!this.isDenseInterval({ start: s, stop: l, interval: d, count: h.length }))
          return h;
      }
      var f = i % 1 === 0, v = c - u >= n;
      if (!f || v)
        return cC(u, c, Math.min(c - u, n)).map(function(N) {
          return e.pow(N);
        });
      var g = [], y = s > 0;
      u = Math.floor(u) - 1, c = Math.round(c) + 1;
      for (var m = Math.min.apply(Math, Qw([], Op(this.range))), C = Math.max.apply(Math, Qw([], Op(this.range))), S = (C - m) / n, b = 1 / 0, _ = u; _ <= c; _++)
        for (var O = this.convert(this.pow(_ + 1)), E = 1; E < i; E++) {
          var D = y ? E : i - E + 1, x = this.pow(_) * D, P = this.convert(x), M = Math.abs(b - P), F = Math.abs(P - O), I = M >= S && F >= S;
          x >= s && x <= l && (E === 1 || I) && (g.push(x), b = P);
        }
      return g;
    }, t.prototype.tickFormat = function(e) {
      var r = e.count, n = e.ticks, i = e.specifier, a = this.base;
      return i == null && (i = a === 10 ? ".0e" : ","), typeof i == "string" && (i = KO(i)), r === 1 / 0 ? i : (n == null && this.ticks(), function(s) {
        return i(s);
      });
    }, Sz([
      A(ae(0))
    ], t.prototype, "base", void 0), t;
  }(it)
);
function rn(o) {
  var t = o.length;
  if (t !== 0) {
    for (var e = 1 / 0, r = -1 / 0, n = 0; n < t; n++) {
      var i = o[n];
      i instanceof Date && (i = i.getTime()), typeof i == "number" && (i < e && (e = i), i > r && (r = i));
    }
    var a = [e, r];
    if (!a.some(function(s) {
      return !isFinite(s);
    }))
      return a;
  }
}
function wz(o, t, e) {
  var r;
  return o.length > 2 && (o = (r = rn(o)) !== null && r !== void 0 ? r : [NaN, NaN]), isNaN(t) || (o = [t, o[1]]), isNaN(e) || (o = [o[0], e]), o[0] > o[1] && (o = []), o;
}
var ks = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Yn = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.fontSize = 12, this.fontFamily = "Verdana, sans-serif", this.fontStyle = void 0, this.fontWeight = void 0, this.color = "rgba(70, 70, 70, 1)";
    }
    return o.prototype.getFont = function() {
      return os(this);
    }, ks([
      A(at)
    ], o.prototype, "enabled", void 0), ks([
      A(ae(0))
    ], o.prototype, "fontSize", void 0), ks([
      A(lr)
    ], o.prototype, "fontFamily", void 0), ks([
      A(fs)
    ], o.prototype, "fontStyle", void 0), ks([
      A(vs)
    ], o.prototype, "fontWeight", void 0), ks([
      A(en)
    ], o.prototype, "color", void 0), o;
  }()
);
function fC(o) {
  var t = o.parallelFlipRotation, e = t === void 0 ? 0 : t, r = o.regularFlipRotation, n = r === void 0 ? 0 : r, i = o.rotation ? Or(mn(o.rotation)) : 0, a = !i && e >= 0 && e <= Math.PI ? -1 : 1, s = !i && n >= 0 && n <= Math.PI ? -1 : 1, l = 0;
  return o.parallel ? l = a * Math.PI / 2 : s === -1 && (l = Math.PI), { configuredRotation: i, defaultRotation: l, parallelFlipFlag: a, regularFlipFlag: s };
}
function _z(o, t) {
  return isNaN(o) ? t ? 0 : 10 : o;
}
function bz(o, t, e, r) {
  return o && !t ? e * r === -1 ? "hanging" : "bottom" : "middle";
}
function Cg(o, t, e, r, n) {
  var i = t > 0 && t <= Math.PI, a = e > 0 && e <= Math.PI, s = i || a ? -1 : 1;
  if (o)
    if (t || e) {
      if (r * s === -1)
        return "end";
    } else
      return "center";
  else if (r * n === -1)
    return "end";
  return "start";
}
function Ez(o, t, e, r, n) {
  var i = t.width, a = t.height, s = new Ye(e, r, 0, 0);
  n.transformBBox(s, t);
  var l = t.x, u = l === void 0 ? 0 : l, c = t.y, d = c === void 0 ? 0 : c;
  return t.width = i, t.height = a, {
    point: {
      x: u,
      y: d,
      size: 0
    },
    label: {
      width: i,
      height: a,
      text: o
    }
  };
}
function Jo(o, t) {
  return t === void 0 && (t = [void 0]), au(function(e, r, n) {
    return t.includes(n) ? o : n;
  });
}
var Bt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, QO = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.autoWrap = !1, this.maxWidth = void 0, this.maxHeight = void 0, this.fontStyle = void 0, this.fontWeight = void 0, this.fontSize = 12, this.fontFamily = "Verdana, sans-serif", this.padding = 5, this.minSpacing = NaN, this.color = "rgba(87, 87, 87, 1)", this.rotation = void 0, this.autoRotate = void 0, this.autoRotateAngle = 335, this.avoidCollisions = !0, this.mirrored = !1, this.parallel = !1, this.formatter = void 0, this.format = void 0;
    }
    return o.prototype.getSideFlag = function() {
      return this.mirrored ? 1 : -1;
    }, o.prototype.getFont = function() {
      return os(this);
    }, Bt([
      A(at)
    ], o.prototype, "enabled", void 0), Bt([
      A(Ti)
    ], o.prototype, "autoWrap", void 0), Bt([
      A(tt(0))
    ], o.prototype, "maxWidth", void 0), Bt([
      A(tt(0))
    ], o.prototype, "maxHeight", void 0), Bt([
      A(fs)
    ], o.prototype, "fontStyle", void 0), Bt([
      A(vs)
    ], o.prototype, "fontWeight", void 0), Bt([
      A(ae(1))
    ], o.prototype, "fontSize", void 0), Bt([
      A(lr)
    ], o.prototype, "fontFamily", void 0), Bt([
      A(ae(0))
    ], o.prototype, "padding", void 0), Bt([
      A(Qo()),
      Jo(NaN)
    ], o.prototype, "minSpacing", void 0), Bt([
      A(ct)
    ], o.prototype, "color", void 0), Bt([
      A(tt(-360, 360))
    ], o.prototype, "rotation", void 0), Bt([
      A(Ti)
    ], o.prototype, "autoRotate", void 0), Bt([
      A(ae(-360, 360))
    ], o.prototype, "autoRotateAngle", void 0), Bt([
      A(at)
    ], o.prototype, "avoidCollisions", void 0), Bt([
      A(at)
    ], o.prototype, "mirrored", void 0), Bt([
      A(at)
    ], o.prototype, "parallel", void 0), Bt([
      A(Oe)
    ], o.prototype, "format", void 0), o;
  }()
), e_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, JO = (
  /** @class */
  function() {
    function o() {
      this.width = 1, this.color = "rgba(195, 195, 195, 1)";
    }
    return e_([
      A(ae(0))
    ], o.prototype, "width", void 0), e_([
      A(ct)
    ], o.prototype, "color", void 0), o;
  }()
), Ro = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Oz = we(function(o, t) {
  return ae(0)(o, t) || o instanceof Yl;
}, "expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"), xz = we(function(o, t) {
  return yt(o, t, Oz);
}, "expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"), Tz = we(function(o, t) {
  return yt(o, t, function(e, r) {
    return e !== 0 && ae(0)(e, r) || e instanceof Yl;
  });
}, "expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"), vC = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.width = 1, this.size = 6, this.color = "rgba(195, 195, 195, 1)", this.count = void 0, this.interval = void 0, this.values = void 0, this.minSpacing = NaN;
    }
    return Ro([
      A(at)
    ], o.prototype, "enabled", void 0), Ro([
      A(ae(0))
    ], o.prototype, "width", void 0), Ro([
      A(ae(0))
    ], o.prototype, "size", void 0), Ro([
      A(ct)
    ], o.prototype, "color", void 0), Ro([
      A(xz),
      H2("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")
    ], o.prototype, "count", void 0), Ro([
      A(Tz)
    ], o.prototype, "interval", void 0), Ro([
      A(rC())
    ], o.prototype, "values", void 0), Ro([
      A(ao(Qo(1), Df("maxSpacing"))),
      Jo(NaN)
    ], o.prototype, "minSpacing", void 0), o;
  }()
), gC = (
  /** @class */
  function() {
    function o(t, e) {
      this.state = t, this.states = e, o.DEBUG() && pe.debug("%c" + this.constructor.name + " | init -> " + t, "color: green");
    }
    return o.prototype.transition = function(t, e) {
      var r, n, i, a, s, l = this.states[this.state], u = (r = l == null ? void 0 : l.on) === null || r === void 0 ? void 0 : r[t];
      if (!u) {
        o.DEBUG() && pe.debug("%c" + this.constructor.name + " | " + this.state + " -> " + t + " -> " + this.state, "color: grey");
        return;
      }
      var c = u.target, d = this.states[c];
      return o.DEBUG() && pe.debug("%c" + this.constructor.name + " | " + this.state + " -> " + t + " -> " + c, "color: green"), u.action(e), (i = (n = l == null ? void 0 : l.actions) === null || n === void 0 ? void 0 : n.onExit) === null || i === void 0 || i.call(n), (s = (a = d == null ? void 0 : d.actions) === null || a === void 0 ? void 0 : a.onEnter) === null || s === void 0 || s.call(a), this.state = c, this.state;
    }, o.DEBUG = function() {
      var t;
      return (t = [!0, "animation"].includes(jn("agChartsDebug"))) !== null && t !== void 0 ? t : !1;
    }, o;
  }()
), Rz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Wa = function() {
  return Wa = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Wa.apply(this, arguments);
}, Sg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Dz = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, xp = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Vi = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Vs = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Pz = ["stroke", "lineDash"], Az = we(aa(void 0, function(o) {
  for (var t in o)
    if (!Pz.includes(t))
      return !1;
  return !0;
}), "expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"), Ic;
(function(o) {
  o[o.TickLine = 0] = "TickLine", o[o.TickLabel = 1] = "TickLabel", o[o.GridLine = 2] = "GridLine", o[o.GridArc = 3] = "GridArc", o[o.AxisLine = 4] = "AxisLine";
})(Ic || (Ic = {}));
var Vn;
(function(o) {
  o[o.CREATE = 0] = "CREATE", o[o.CREATE_SECONDARY = 1] = "CREATE_SECONDARY", o[o.FILTER = 2] = "FILTER", o[o.VALUES = 3] = "VALUES";
})(Vn || (Vn = {}));
var Mz = (
  /** @class */
  function(o) {
    Rz(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t;
  }(gC)
), ex = (
  /** @class */
  function() {
    function o(t, e) {
      var r = this;
      this.moduleCtx = t, this.id = lo(this), this.nice = !0, this.dataDomain = [], this.keys = [], this.boundSeries = [], this.includeInvisibleDomains = !1, this.axisGroup = new Se({ name: this.id + "-axis", zIndex: bt.AXIS_ZINDEX }), this.lineNode = this.axisGroup.appendChild(new Gt()), this.tickLineGroup = this.axisGroup.appendChild(new Se({ name: this.id + "-Axis-tick-lines", zIndex: bt.AXIS_ZINDEX })), this.tickLabelGroup = this.axisGroup.appendChild(new Se({ name: this.id + "-Axis-tick-labels", zIndex: bt.AXIS_ZINDEX })), this.crossLineGroup = new Se({ name: this.id + "-CrossLines" }), this.gridGroup = new Se({ name: this.id + "-Axis-grid" }), this.gridLineGroup = this.gridGroup.appendChild(new Se({
        name: this.id + "-gridLines",
        zIndex: bt.AXIS_GRID_ZINDEX
      })), this.tickLineGroupSelection = ft.select(this.tickLineGroup, Gt, !1), this.tickLabelGroupSelection = ft.select(this.tickLabelGroup, ot, !1), this.gridLineGroupSelection = ft.select(this.gridLineGroup, Gt, !1), this.line = new JO(), this.tick = this.createTick(), this.label = new QO(), this.translation = { x: 0, y: 0 }, this.rotation = 0, this.layout = {
        label: {
          fractionDigits: 0,
          padding: this.label.padding,
          format: this.label.format
        }
      }, this.modules = {}, this.destroyFns = [], this.range = [0, 1], this.visibleRange = [0, 1], this.title = void 0, this._titleCaption = new Vl(), this._gridLength = 0, this.gridStyle = [
        {
          stroke: "rgba(219, 219, 219, 1)",
          lineDash: [4, 2]
        }
      ], this.fractionDigits = 0, this.gridPadding = 0, this.seriesAreaPadding = 0, this.maxThickness = 1 / 0, this._scale = e, this.refreshScale(), this._titleCaption.node.rotation = -Math.PI / 2, this.axisGroup.appendChild(this._titleCaption.node);
      var n = t.interactionManager.addListener("hover", function(i) {
        return r.checkAxisHover(i);
      });
      this.destroyFns.push(function() {
        return t.interactionManager.removeListener(n);
      }), this.animationManager = t.animationManager, this.animationState = new Mz("empty", {
        empty: {
          on: {
            update: {
              target: "align",
              action: function() {
                return r.resetSelectionNodes();
              }
            }
          }
        },
        align: {
          on: {
            update: {
              target: "ready",
              action: function() {
                return r.resetSelectionNodes();
              }
            }
          }
        },
        ready: {
          on: {
            update: {
              target: "ready",
              action: function(i) {
                return r.animateReadyUpdate(i);
              }
            }
          }
        }
      }), this._crossLines = [], this.assignCrossLineArrayConstructor(this._crossLines);
    }
    return Object.defineProperty(o.prototype, "scale", {
      get: function() {
        return this._scale;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "type", {
      get: function() {
        var t;
        return (t = this.constructor.type) !== null && t !== void 0 ? t : "";
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "crossLines", {
      get: function() {
        return this._crossLines;
      },
      set: function(t) {
        var e = this, r, n;
        (r = this._crossLines) === null || r === void 0 || r.forEach(function(i) {
          return e.detachCrossLine(i);
        }), t && this.assignCrossLineArrayConstructor(t), this._crossLines = t, (n = this._crossLines) === null || n === void 0 || n.forEach(function(i) {
          e.attachCrossLine(i), e.initCrossLine(i);
        });
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.attachCrossLine = function(t) {
      this.crossLineGroup.appendChild(t.group);
    }, o.prototype.detachCrossLine = function(t) {
      this.crossLineGroup.removeChild(t.group);
    }, o.prototype.destroy = function() {
      var t, e;
      try {
        for (var r = xp(Object.entries(this.modules)), n = r.next(); !n.done; n = r.next()) {
          var i = Vi(n.value, 2), a = i[0], s = i[1];
          s.instance.destroy(), delete this.modules[a], delete this[a];
        }
      } catch (l) {
        t = { error: l };
      } finally {
        try {
          n && !n.done && (e = r.return) && e.call(r);
        } finally {
          if (t)
            throw t.error;
        }
      }
      this.destroyFns.forEach(function(l) {
        return l();
      });
    }, o.prototype.refreshScale = function() {
      var t = this, e;
      this.range = this.scale.range.slice(), (e = this.crossLines) === null || e === void 0 || e.forEach(function(r) {
        t.initCrossLine(r);
      });
    }, o.prototype.updateRange = function() {
      var t, e = this, r = e.range, n = e.visibleRange, i = e.scale, a = (r[1] - r[0]) / (n[1] - n[0]), s = a * n[0], l = r[0] - s;
      i.range = [l, l + a], (t = this.crossLines) === null || t === void 0 || t.forEach(function(u) {
        u.clippedRange = [r[0], r[1]];
      });
    }, o.prototype.setCrossLinesVisible = function(t) {
      this.crossLineGroup.visible = t;
    }, o.prototype.attachAxis = function(t) {
      t.appendChild(this.gridGroup), t.appendChild(this.axisGroup), t.appendChild(this.crossLineGroup);
    }, o.prototype.detachAxis = function(t) {
      t.removeChild(this.gridGroup), t.removeChild(this.axisGroup), t.removeChild(this.crossLineGroup);
    }, o.prototype.inRange = function(t, e, r) {
      return e === void 0 && (e = 0), r === void 0 && (r = 0), this.inRangeEx(t, e, r) === 0;
    }, o.prototype.inRangeEx = function(t, e, r) {
      e === void 0 && (e = 0), r === void 0 && (r = 0);
      var n = this.range, i = Math.min(n[0], n[1]), a = Math.max(n[0], n[1]);
      return t + e < i - r ? -1 : t > a + r ? 1 : 0;
    }, o.prototype.onLabelFormatChange = function(t, e) {
      var r = this, n = r.scale, i = r.fractionDigits, a = n instanceof ZO, s = !a && i > 0 ? function(l) {
        return typeof l == "number" ? l.toFixed(i) : String(l);
      } : function(l) {
        return String(l);
      };
      if (e && n && n.tickFormat)
        try {
          this.labelFormatter = n.tickFormat({
            ticks: t,
            specifier: e
          });
        } catch (l) {
          this.labelFormatter = s, pe.warnOnce("the axis label format string " + e + " is invalid. No formatting will be applied");
        }
      else
        this.labelFormatter = s;
    }, o.prototype.setDomain = function() {
      var t, e = this, r = e.scale, n = e.dataDomain, i = e.tick.values;
      if (i && r instanceof it) {
        var a = Vi((t = rn(i)) !== null && t !== void 0 ? t : [1 / 0, -1 / 0], 2), s = a[0], l = a[1], u = Math.min(r.fromDomain(n[0]), s), c = Math.max(r.fromDomain(n[1]), l);
        r.domain = [r.toDomain(u), r.toDomain(c)];
      } else
        r.domain = n;
    }, o.prototype.setTickInterval = function(t) {
      var e;
      this.scale.interval = (e = this.tick.interval) !== null && e !== void 0 ? e : t;
    }, o.prototype.setTickCount = function(t, e, r) {
      var n = this.scale;
      if (t && n instanceof it) {
        if (typeof t == "number") {
          n.tickCount = t, n.minTickCount = e != null ? e : 0, n.maxTickCount = r != null ? r : 1 / 0;
          return;
        }
        n instanceof hC && this.setTickInterval(t);
      }
    }, Object.defineProperty(o.prototype, "gridLength", {
      get: function() {
        return this._gridLength;
      },
      set: function(t) {
        var e = this, r;
        (this._gridLength && !t || !this._gridLength && t) && (this.gridLineGroupSelection = this.gridLineGroupSelection.clear()), this._gridLength = t, (r = this.crossLines) === null || r === void 0 || r.forEach(function(n) {
          e.initCrossLine(n);
        });
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.createTick = function() {
      return new vC();
    }, o.prototype.checkAxisHover = function(t) {
      var e = this.computeBBox(), r = e.containsPoint(t.offsetX, t.offsetY);
      r && this.moduleCtx.chartEventManager.axisHover(this.id, this.direction);
    }, o.prototype.update = function(t) {
      var e = this.tickLabelGroupSelection.nodes().map(function(g) {
        return g.datum.tickId;
      }), r = this.calculateRotations(), n = r.rotation, i = r.parallelFlipRotation, a = r.regularFlipRotation, s = this.label.getSideFlag(), l = s * (this.tick.size + this.label.padding + this.seriesAreaPadding);
      this.updateScale(), this.updatePosition({ rotation: n, sideFlag: s }), this.updateLine();
      var u = this.generateTicks({
        primaryTickCount: t,
        parallelFlipRotation: i,
        regularFlipRotation: a,
        labelX: l,
        sideFlag: s
      }), c = u.tickData, d = u.combinedRotation, p = u.textBaseline, h = u.textAlign, f = Dz(u, ["tickData", "combinedRotation", "textBaseline", "textAlign"]);
      if (this.updateSelections(c.ticks), this.animationManager.skipAnimations)
        this.resetSelectionNodes();
      else {
        var v = this.calculateUpdateDiff(e, c);
        this.animationState.transition("update", v);
      }
      return this.updateLabels({
        tickLabelGroupSelection: this.tickLabelGroupSelection,
        combinedRotation: d,
        textBaseline: p,
        textAlign: h,
        labelX: l
      }), this.updateVisibility(), this.updateGridLines(s), this.updateTickLines(s), this.updateTitle({ anyTickVisible: c.ticks.length > 0, sideFlag: s }), this.updateCrossLines({ rotation: n, parallelFlipRotation: i, regularFlipRotation: a, sideFlag: s }), this.updateLayoutState(), t = f.primaryTickCount, t;
    }, o.prototype.updateLayoutState = function() {
      this.layout.label = {
        fractionDigits: this.fractionDigits,
        padding: this.label.padding,
        format: this.label.format
      };
    }, o.prototype.updateScale = function() {
      this.updateRange(), this.calculateDomain(), this.setDomain(), this.setTickInterval(this.tick.interval);
      var t = this, e = t.scale, r = t.nice;
      e instanceof it && (this.setTickCount(this.tick.count), e.nice = r, e.update());
    }, o.prototype.calculateRotations = function() {
      var t = mn(this.rotation), e = Or(t), r = Or(t - Math.PI / 2);
      return { rotation: t, parallelFlipRotation: e, regularFlipRotation: r };
    }, o.prototype.generateTicks = function(t) {
      for (var e, r, n, i, a = t.primaryTickCount, s = t.parallelFlipRotation, l = t.regularFlipRotation, u = t.labelX, c = t.sideFlag, d = this, p = d.scale, h = d.tick, f = d.label, v = f.parallel, g = f.rotation, y = f.fontFamily, m = f.fontSize, C = f.fontStyle, S = f.fontWeight, b = a !== void 0, _ = fC({
        rotation: g,
        parallel: v,
        regularFlipRotation: l,
        parallelFlipRotation: s
      }), O = _.defaultRotation, E = _.configuredRotation, D = _.parallelFlipFlag, x = _.regularFlipFlag, P = E + O, M = new Ba(), F = this.estimateTickCount({
        minSpacing: h.minSpacing,
        maxSpacing: (i = h.maxSpacing) !== null && i !== void 0 ? i : NaN
      }).maxTickCount, I = p instanceof it, N = h.count || !I || isNaN(F) ? 10 : F, k = Cg(v, E, 0, c, x), L = bz(v, E, c, D), B = {
        fontFamily: y,
        fontSize: m,
        fontStyle: C,
        fontWeight: S,
        textBaseline: L,
        textAlign: k
      }, j = {
        rawTicks: [],
        ticks: [],
        labelCount: 0
      }, J = 0, U = 0, Y = !0, X = !1; Y && J <= N && !X; ) {
        U = 0, k = Cg(v, E, 0, c, x);
        var ne = this.getTickStrategies({ secondaryAxis: b, index: J });
        try {
          for (var K = (e = void 0, xp(ne)), ee = K.next(); !ee.done; ee = K.next()) {
            var ie = ee.value;
            n = ie({
              index: J,
              tickData: j,
              textProps: B,
              labelOverlap: Y,
              terminate: X,
              primaryTickCount: a
            }), j = n.tickData, J = n.index, U = n.autoRotation, X = n.terminate;
            var le = j.ticks;
            k = Cg(v, E, U, c, x);
            var Ce = E !== 0 || U !== 0, ye = P + U;
            Y = this.checkLabelOverlap(ye, Ce, M, le, u, Wa(Wa({}, B), { textAlign: k }));
          }
        } catch ($e) {
          e = { error: $e };
        } finally {
          try {
            ee && !ee.done && (r = K.return) && r.call(K);
          } finally {
            if (e)
              throw e.error;
          }
        }
      }
      var He = O + E + U;
      return !b && j.rawTicks.length > 0 && (a = j.rawTicks.length), { tickData: j, primaryTickCount: a, combinedRotation: He, textBaseline: L, textAlign: k };
    }, o.prototype.getTickStrategies = function(t) {
      var e = this, r = t.index, n = t.secondaryAxis, i = this, a = i.scale, s = i.label, l = i.tick, u = a instanceof it, c = s.enabled && s.avoidCollisions, d = !(u && this.tick.count === void 0) && r !== 0 && c, p = s.autoRotate === !0 && s.rotation === void 0, h = [], f;
      this.tick.values ? f = Vn.VALUES : n ? f = Vn.CREATE_SECONDARY : d ? f = Vn.FILTER : f = Vn.CREATE;
      var v = function(C) {
        var S = C.index, b = C.tickData, _ = C.primaryTickCount, O = C.terminate;
        return e.createTickData(f, S, b, O, _);
      };
      if (h.push(v), !u && !isNaN(l.minSpacing)) {
        var g = function(C) {
          var S = C.index, b = C.tickData, _ = C.primaryTickCount, O = C.terminate;
          return e.createTickData(Vn.FILTER, S, b, O, _);
        };
        h.push(g);
      }
      if (!c)
        return h;
      if (s.autoWrap) {
        var y = function(C) {
          var S = C.index, b = C.tickData, _ = C.textProps;
          return e.wrapLabels(b, S, _);
        };
        h.push(y);
      } else if (p) {
        var m = function(C) {
          var S = C.index, b = C.tickData, _ = C.labelOverlap, O = C.terminate;
          return {
            index: S,
            tickData: b,
            autoRotation: e.getAutoRotation(_),
            terminate: O
          };
        };
        h.push(m);
      }
      return h;
    }, o.prototype.createTickData = function(t, e, r, n, i) {
      for (var a, s, l, u = this, c = u.scale, d = u.tick, p = this.estimateTickCount({
        minSpacing: d.minSpacing,
        maxSpacing: (a = d.maxSpacing) !== null && a !== void 0 ? a : NaN
      }), h = p.maxTickCount, f = p.minTickCount, v = p.defaultTickCount, g = c instanceof it, y = d.count || !g || isNaN(h) ? 10 : h, m = (s = d.count) !== null && s !== void 0 ? s : g ? Math.max(v - e, f) : h, C = d.interval === void 0 && d.values === void 0 && d.count === void 0 && m > f && (g || t === Vn.FILTER), S = !0; S && e <= y; ) {
        var b = r.rawTicks;
        m = (l = d.count) !== null && l !== void 0 ? l : g ? Math.max(v - e, f) : h;
        var _ = this.getTicks({
          tickGenerationType: t,
          previousTicks: b,
          tickCount: m,
          minTickCount: f,
          maxTickCount: h,
          primaryTickCount: i
        }), O = _.rawTicks, E = _.ticks, D = _.labelCount;
        r.rawTicks = O, r.ticks = E, r.labelCount = D, S = C ? ez(O, b) : !1, e++;
      }
      var x = d.interval !== void 0 || d.values !== void 0;
      return n || (n = x), { tickData: r, index: e, autoRotation: 0, terminate: n };
    }, o.prototype.checkLabelOverlap = function(t, e, r, n, i, a) {
      Ba.updateTransformMatrix(r, 1, 1, t, 0, 0);
      var s = this.createLabelData(n, i, a, r), l = _z(this.label.minSpacing, e);
      return S$(s, l);
    }, o.prototype.createLabelData = function(t, e, r, n) {
      var i, a, s = [];
      try {
        for (var l = xp(t), u = l.next(); !u.done; u = l.next()) {
          var c = u.value, d = c.tickLabel, p = c.translationY;
          if (!(d === "" || d == null)) {
            var h = mO(d), f = g2(h, e, p, r), v = f.width, g = f.height, y = new Ye(e, p, v, g), m = Ez(d, y, e, p, n);
            s.push(m);
          }
        }
      } catch (C) {
        i = { error: C };
      } finally {
        try {
          u && !u.done && (a = l.return) && a.call(l);
        } finally {
          if (i)
            throw i.error;
        }
      }
      return s;
    }, o.prototype.getAutoRotation = function(t) {
      return t ? Or(mn(this.label.autoRotateAngle)) : 0;
    }, o.prototype.getTicks = function(t) {
      var e, r = t.tickGenerationType, n = t.previousTicks, i = t.tickCount, a = t.minTickCount, s = t.maxTickCount, l = t.primaryTickCount, u = this.scale, c = [];
      switch (r) {
        case Vn.VALUES:
          c = this.tick.values;
          break;
        case Vn.CREATE_SECONDARY:
          c = this.updateSecondaryAxisTicks(l);
          break;
        case Vn.FILTER:
          c = this.filterTicks(n, i);
          break;
        default:
          c = this.createTicks(i, a, s);
          break;
      }
      this.onLabelFormatChange(c, this.label.format), this.fractionDigits = c.fractionDigits >= 0 ? c.fractionDigits : 0;
      for (var d = ((e = this.scale.bandwidth) !== null && e !== void 0 ? e : 0) / 2, p = [], h = 0, f = /* @__PURE__ */ new Map(), v = 0; v < c.length; v++) {
        var g = c[v], y = u.convert(g) + d, m = this.formatTick(g, v), C = m;
        if (f.has(C)) {
          var S = f.get(C);
          f.set(C, S + 1), C = C + "_" + S;
        } else
          f.set(C, 1);
        p.push({ tick: g, tickId: C, tickLabel: m, translationY: y }), !(m === "" || m == null) && h++;
      }
      return { rawTicks: c, ticks: p, labelCount: h };
    }, o.prototype.filterTicks = function(t, e) {
      var r, n = !isNaN(this.tick.minSpacing) || !isNaN((r = this.tick.maxSpacing) !== null && r !== void 0 ? r : NaN), i = n ? Math.ceil(t.length / e) : 2;
      return t.filter(function(a, s) {
        return s % i === 0;
      });
    }, o.prototype.createTicks = function(t, e, r) {
      var n, i, a;
      return this.setTickCount(t, e, r), (a = (i = (n = this.scale).ticks) === null || i === void 0 ? void 0 : i.call(n)) !== null && a !== void 0 ? a : [];
    }, o.prototype.estimateTickCount = function(t) {
      var e = t.minSpacing, r = t.maxSpacing, n = this.calculateAvailableRange(), i = Math.max(o.defaultTickMinSpacing, n / it.defaultMaxTickCount);
      isNaN(e) && isNaN(r) ? (e = i, r = n, e > r && (r = e)) : isNaN(e) ? (e = i, e > r && (e = r)) : isNaN(r) && (r = n, e > r && (r = e));
      var a = Math.max(1, Math.floor(n / e)), s = Math.min(a, Math.ceil(n / r)), l = it.defaultTickCount;
      return l > a ? l = a : l < s && (l = s), { minTickCount: s, maxTickCount: a, defaultTickCount: l };
    }, o.prototype.updateVisibility = function() {
      var t = this.range, e = Math.min.apply(Math, Vs([], Vi(t))), r = Math.max.apply(Math, Vs([], Vi(t))), n = function(u) {
        var c = Math.floor(e), d = Math.ceil(r);
        if (c === d) {
          u.visible = !1;
          return;
        }
        u.translationY >= c - 1 && u.translationY < c && (u.translationY = c), u.translationY > d && u.translationY <= d + 1 && (u.translationY = d);
        var p = u.translationY >= c && u.translationY <= d;
        u.visible = p;
      }, i = this, a = i.gridLineGroupSelection, s = i.tickLineGroupSelection, l = i.tickLabelGroupSelection;
      a.each(n), s.each(n), l.each(n), this.tickLineGroup.visible = this.tick.enabled, this.tickLabelGroup.visible = this.label.enabled;
    }, o.prototype.updateCrossLines = function(t) {
      var e = this, r, n = t.rotation, i = t.parallelFlipRotation, a = t.regularFlipRotation, s = t.sideFlag, l = this.isAnySeriesActive();
      (r = this.crossLines) === null || r === void 0 || r.forEach(function(u) {
        var c;
        u.sideFlag = -s, u.direction = n === -Math.PI / 2 ? ue.X : ue.Y, u.label.parallel = (c = u.label.parallel) !== null && c !== void 0 ? c : e.label.parallel, u.parallelFlipRotation = i, u.regularFlipRotation = a, u.update(l);
      });
    }, o.prototype.updateTickLines = function(t) {
      var e = this.tick;
      this.tickLineGroupSelection.each(function(r) {
        r.strokeWidth = e.width, r.stroke = e.color, r.x1 = t * e.size, r.x2 = 0, r.y1 = 0, r.y2 = 0;
      });
    }, o.prototype.calculateAvailableRange = function() {
      var t = this.range, e = Math.min.apply(Math, Vs([], Vi(t))), r = Math.max.apply(Math, Vs([], Vi(t)));
      return r - e;
    }, o.prototype.calculateDomain = function() {
      var t, e, r, n = this, i = n.direction, a = n.boundSeries, s = n.includeInvisibleDomains;
      if (this.linkedTo)
        this.dataDomain = this.linkedTo.dataDomain;
      else {
        var l = [], u = a.filter(function(f) {
          return s || f.isEnabled();
        });
        try {
          for (var c = xp(u), d = c.next(); !d.done; d = c.next()) {
            var p = d.value;
            l.push(p.getDomain(i));
          }
        } catch (f) {
          t = { error: f };
        } finally {
          try {
            d && !d.done && (e = c.return) && e.call(c);
          } finally {
            if (t)
              throw t.error;
          }
        }
        var h = (r = new Array()).concat.apply(r, Vs([], Vi(l)));
        this.dataDomain = this.normaliseDataDomain(h);
      }
    }, o.prototype.updatePosition = function(t) {
      var e = t.rotation, r = t.sideFlag, n = this, i = n.crossLineGroup, a = n.axisGroup, s = n.gridGroup, l = n.translation, u = n.gridLineGroupSelection, c = n.gridPadding, d = n.gridLength, p = Math.floor(l.x), h = Math.floor(l.y);
      i.translationX = p, i.translationY = h, i.rotation = e, a.translationX = p, a.translationY = h, a.rotation = e, s.translationX = p, s.translationY = h, s.rotation = e, u.each(function(f) {
        f.x1 = c, f.x2 = -r * d + c, f.y1 = 0, f.y2 = 0;
      });
    }, o.prototype.updateSecondaryAxisTicks = function(t) {
      throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.");
    }, o.prototype.updateSelections = function(t) {
      var e = this.gridLength ? t : [], r = this.gridLineGroupSelection.update(e, function(a) {
        var s = new Gt();
        s.tag = Ic.GridLine, a.append(s);
      }, function(a) {
        return a.tickId;
      }), n = this.tickLineGroupSelection.update(t, function(a) {
        var s = new Gt();
        s.tag = Ic.TickLine, a.appendChild(s);
      }, function(a) {
        return a.tickId;
      }), i = this.tickLabelGroupSelection.update(t, function(a) {
        var s = new ot();
        s.tag = Ic.TickLabel, a.appendChild(s);
      }, function(a) {
        return a.tickId;
      });
      this.tickLineGroupSelection = n, this.tickLabelGroupSelection = i, this.gridLineGroupSelection = r;
    }, o.prototype.updateGridLines = function(t) {
      var e = this, r = e.gridStyle, n = e.tick, i = e.gridPadding, a = e.gridLength;
      if (!(a === 0 || r.length === 0)) {
        var s = r.length;
        this.gridLineGroupSelection.each(function(l, u, c) {
          var d = r[c % s];
          l.x1 = i, l.x2 = -t * a + i, l.y1 = 0, l.y2 = 0, l.stroke = d.stroke, l.strokeWidth = n.width, l.lineDash = d.lineDash, l.fill = void 0;
        });
      }
    }, o.prototype.updateLabels = function(t) {
      var e = t.tickLabelGroupSelection, r = t.combinedRotation, n = t.textBaseline, i = t.textAlign, a = t.labelX, s = this, l = s.label, u = s.label.enabled;
      u && e.each(function(c, d) {
        var p = d.tickLabel;
        c.fontStyle = l.fontStyle, c.fontWeight = l.fontWeight, c.fontSize = l.fontSize, c.fontFamily = l.fontFamily, c.fill = l.color, c.text = p;
        var h = c.text === "" || c.text == null;
        if (h) {
          c.visible = !1;
          return;
        }
        c.textBaseline = n, c.textAlign = i, c.x = a, c.rotationCenterX = a, c.rotation = r, c.visible = !0;
      });
    }, o.prototype.wrapLabels = function(t, e, r) {
      var n = this.label, i = n.parallel, a = n.maxWidth, s = n.maxHeight, l = i ? Math.round(this.calculateAvailableRange() / t.labelCount) : this.maxThickness, u = a != null ? a : l, c = i ? this.maxThickness : Math.round(this.calculateAvailableRange() / t.labelCount), d = s != null ? s : c;
      return t.ticks.forEach(function(p) {
        var h = p.tickLabel, f = "hyphenate", v = ot.wrap(h, u, d, r, f);
        p.tickLabel = v;
      }), { tickData: t, index: e, autoRotation: 0, terminate: !0 };
    }, o.prototype.updateLine = function() {
      var t = this, e = t.lineNode, r = t.range;
      e.x1 = 0, e.x2 = 0, e.y1 = r[0], e.y2 = r[1], e.strokeWidth = this.line.width, e.stroke = this.line.color, e.visible = !0;
    }, o.prototype.updateTitle = function(t) {
      var e, r = t.anyTickVisible, n = t.sideFlag, i = function(D) {
        return D.defaultValue;
      }, a = this, s = a.rotation, l = a.title, u = a._titleCaption, c = a.lineNode, d = a.range, p = a.tickLineGroup, h = a.tickLabelGroup, f = a.moduleCtx.callbackCache, v = ((e = this.title) !== null && e !== void 0 ? e : {}).formatter, g = v === void 0 ? i : v;
      if (!l) {
        u.enabled = !1;
        return;
      }
      u.enabled = l.enabled, u.fontFamily = l.fontFamily, u.fontSize = l.fontSize, u.fontStyle = l.fontStyle, u.fontWeight = l.fontWeight, u.color = l.color, u.wrapping = l.wrapping;
      var y = !1, m = u.node;
      if (l.enabled && c.visible) {
        y = !0;
        var C = Or(s), S = Vl.PADDING, b = n === -1 && C > Math.PI && C < Math.PI * 2 ? -1 : 1;
        m.rotation = b * n * Math.PI / 2, m.x = Math.floor(b * n * (d[0] + d[1]) / 2);
        var _ = 0;
        if (r) {
          var O = Se.computeBBox([p, h]), E = s === 0 ? O.width : O.height;
          Math.abs(E) < 1 / 0 && (_ += E);
        }
        n === -1 ? m.y = Math.floor(b * (-S - _)) : m.y = Math.floor(-S - _), m.textBaseline = b === 1 ? "bottom" : "top", m.text = f.call(g, this.getTitleFormatterParams());
      }
      m.visible = y;
    }, o.prototype.formatTick = function(t, e) {
      var r, n, i = this, a = i.label, s = i.labelFormatter, l = i.fractionDigits, u = i.moduleCtx.callbackCache;
      if (a.formatter) {
        var c = l > 0 ? t : String(t);
        return (r = u.call(a.formatter, {
          value: c,
          index: e,
          fractionDigits: l,
          formatter: s
        })) !== null && r !== void 0 ? r : c;
      } else if (s)
        return (n = u.call(s, t)) !== null && n !== void 0 ? n : String(t);
      return String(t);
    }, o.prototype.formatDatum = function(t) {
      return String(t);
    }, o.prototype.computeBBox = function() {
      return this.axisGroup.computeBBox();
    }, o.prototype.initCrossLine = function(t) {
      t.scale = this.scale, t.gridLength = this.gridLength;
    }, o.prototype.isAnySeriesActive = function() {
      var t = this;
      return this.boundSeries.some(function(e) {
        return t.includeInvisibleDomains || e.isEnabled();
      });
    }, o.prototype.clipTickLines = function(t, e, r, n) {
      this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Ye(t, e, r, n));
    }, o.prototype.clipGrid = function(t, e, r, n) {
      this.gridGroup.setClipRectInGroupCoordinateSpace(new Ye(t, e, r, n));
    }, o.prototype.calculatePadding = function(t, e) {
      return [Math.abs(t * 0.01), Math.abs(t * 0.01)];
    }, o.prototype.getTitleFormatterParams = function() {
      var t = this, e, r = this.boundSeries.reduce(function(n, i) {
        for (var a = i.getKeys(t.direction), s = i.getNames(t.direction), l = 0; l < a.length; l++)
          n.push({
            key: a[l],
            name: s[l]
          });
        return n;
      }, []);
      return {
        direction: this.direction,
        boundSeries: r,
        defaultValue: (e = this.title) === null || e === void 0 ? void 0 : e.text
      };
    }, o.prototype.normaliseDataDomain = function(t) {
      return t;
    }, o.prototype.getLayoutState = function() {
      return Wa({ rect: this.computeBBox(), gridPadding: this.gridPadding, seriesAreaPadding: this.seriesAreaPadding, tickSize: this.tick.size }, this.layout);
    }, o.prototype.createAxisContext = function() {
      var t = this, e = function() {
        return t.boundSeries.map(function(r) {
          return r.getKeys(t.direction);
        }).reduce(function(r, n) {
          return r.push.apply(r, Vs([], Vi(n))), r;
        }, []);
      };
      return {
        axisId: this.id,
        direction: this.direction,
        continuous: this.scale instanceof it,
        keys: e,
        scaleValueFormatter: function(r) {
          var n, i, a;
          return (a = (i = (n = t.scale).tickFormat) === null || i === void 0 ? void 0 : i.call(n, { specifier: r })) !== null && a !== void 0 ? a : void 0;
        },
        scaleBandwidth: function() {
          var r;
          return (r = t.scale.bandwidth) !== null && r !== void 0 ? r : 0;
        },
        scaleConvert: function(r) {
          return t.scale.convert(r);
        },
        scaleInvert: function(r) {
          var n, i, a;
          return (a = (i = (n = t.scale).invert) === null || i === void 0 ? void 0 : i.call(n, r)) !== null && a !== void 0 ? a : void 0;
        }
      };
    }, o.prototype.addModule = function(t) {
      if (this.modules[t.optionsKey] != null)
        throw new Error("AG Charts - module already initialised: " + t.optionsKey);
      this.axisContext == null && (this.axisContext = this.createAxisContext());
      var e = new t.instanceConstructor(Wa(Wa({}, this.moduleCtx), { parent: this.axisContext }));
      this.modules[t.optionsKey] = { instance: e }, this[t.optionsKey] = e;
    }, o.prototype.removeModule = function(t) {
      var e, r;
      (r = (e = this.modules[t.optionsKey]) === null || e === void 0 ? void 0 : e.instance) === null || r === void 0 || r.destroy(), delete this.modules[t.optionsKey], delete this[t.optionsKey];
    }, o.prototype.isModuleEnabled = function(t) {
      return this.modules[t.optionsKey] != null;
    }, o.prototype.animateReadyUpdate = function(t) {
      var e = this, r, n;
      if (!t.changed) {
        this.resetSelectionNodes();
        return;
      }
      var i = this, a = i.gridLineGroupSelection, s = i.tickLineGroupSelection, l = i.tickLabelGroupSelection, u = Object.keys(t.added).length, c = Object.keys(t.removed).length;
      if (c === t.tickCount) {
        this.resetSelectionNodes();
        return;
      }
      var d = (n = (r = this.animationManager) === null || r === void 0 ? void 0 : r.defaultOptions.duration) !== null && n !== void 0 ? n : 1e3, p = Math.floor(d / 2);
      u > 0 && c > 0 && (p = Math.floor(d / 3));
      var h = {
        delay: c > 0 ? p : 0,
        duration: p
      }, f = this.id + "_" + Math.random();
      l.each(function(v, g) {
        e.animateSelectionNode(l, t, h, v, g, f);
      }), a.each(function(v, g) {
        e.animateSelectionNode(a, t, h, v, g, f);
      }), s.each(function(v, g) {
        e.animateSelectionNode(s, t, h, v, g, f);
      });
    }, o.prototype.animateSelectionNode = function(t, e, r, n, i, a) {
      var s = Math.round(i.translationY), l = { from: n.translationY, to: s }, u = { from: 1, to: 1 }, c = r.duration, d = r.delay, p = i.tickLabel;
      e.added[p] ? (l = { from: s, to: s }, u = { from: 0, to: 1 }, d += c) : e.removed[p] && (u = { from: 1, to: 0 }, d = 0);
      var h = [l, u];
      this.animationManager.animateManyWithThrottle(this.id + "_ready-update_" + n.id, h, {
        disableInteractions: !1,
        delay: d,
        duration: c,
        ease: Zl,
        throttleId: this.id,
        throttleGroup: a,
        onUpdate: function(f) {
          var v = Vi(f, 2), g = v[0], y = v[1];
          n.translationY = g, n.opacity = y;
        },
        onComplete: function() {
          t.cleanup();
        }
      });
    }, o.prototype.resetSelectionNodes = function() {
      var t = this, e = t.gridLineGroupSelection, r = t.tickLineGroupSelection, n = t.tickLabelGroupSelection;
      e.cleanup(), r.cleanup(), n.cleanup();
      var i = function(a) {
        a.translationY = Math.round(a.datum.translationY), a.opacity = 1;
      };
      e.each(i), r.each(i), n.each(i);
    }, o.prototype.calculateUpdateDiff = function(t, e) {
      for (var r, n = /* @__PURE__ */ new Set(), i = /* @__PURE__ */ new Set(), a = Math.max(t.length, e.ticks.length), s = 0; s < a; s++) {
        var l = t[s], u = (r = e.ticks[s]) === null || r === void 0 ? void 0 : r.tickId;
        l !== u && (i.has(u) ? i.delete(u) : u && n.add(u), n.has(l) ? n.delete(l) : l && i.add(l));
      }
      var c = {}, d = {};
      return n.forEach(function(p) {
        c[p] = !0;
      }), i.forEach(function(p) {
        d[p] = !0;
      }), {
        changed: n.size > 0 || i.size > 0,
        tickCount: a,
        added: c,
        removed: d
      };
    }, o.defaultTickMinSpacing = 50, Sg([
      A(at)
    ], o.prototype, "nice", void 0), Sg([
      A(EO)
    ], o.prototype, "keys", void 0), Sg([
      A(Az)
    ], o.prototype, "gridStyle", void 0), o;
  }()
), Bi = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Iz = (
  /** @class */
  function() {
    function o() {
      this.enabled = !1, this.text = void 0, this.fontStyle = void 0, this.fontWeight = void 0, this.fontSize = 10, this.fontFamily = "sans-serif", this.color = void 0, this.wrapping = "always", this.formatter = void 0;
    }
    return Bi([
      A(at)
    ], o.prototype, "enabled", void 0), Bi([
      A(Oe)
    ], o.prototype, "text", void 0), Bi([
      A(fs)
    ], o.prototype, "fontStyle", void 0), Bi([
      A(vs)
    ], o.prototype, "fontWeight", void 0), Bi([
      A(ae(0))
    ], o.prototype, "fontSize", void 0), Bi([
      A(lr)
    ], o.prototype, "fontFamily", void 0), Bi([
      A(ct)
    ], o.prototype, "color", void 0), Bi([
      A(iC)
    ], o.prototype, "wrapping", void 0), Bi([
      A(mt)
    ], o.prototype, "formatter", void 0), o;
  }()
), Fz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qu = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ry = (
  /** @class */
  function(o) {
    Fz(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.enabled = !0, e.color = "rgba(0, 0, 0, 0.5)", e.xOffset = 0, e.yOffset = 0, e.blur = 5, e;
    }
    return qu([
      A(at),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "enabled", void 0), qu([
      A(en),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "color", void 0), qu([
      A(ae()),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "xOffset", void 0), qu([
      A(ae()),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "yOffset", void 0), qu([
      A(ae(0)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "blur", void 0), t;
  }(Jm)
), Lz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), wg = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Vt = (
  /** @class */
  function(o) {
    Lz(t, o);
    function t() {
      var e = o.call(this, [0, 1], [0, 1]) || this;
      return e.type = "linear", e;
    }
    return t.prototype.toDomain = function(e) {
      return e;
    }, t.prototype.ticks = function() {
      var e, r = (e = this.tickCount) !== null && e !== void 0 ? e : it.defaultTickCount;
      if (!this.domain || this.domain.length < 2 || r < 1 || this.domain.some(function(u) {
        return !isFinite(u);
      }))
        return [];
      this.refresh();
      var n = wg(this.getDomain(), 2), i = n[0], a = n[1], s = this.interval;
      if (s) {
        var l = Math.abs(s);
        if (!this.isDenseInterval({ start: i, stop: a, interval: l }))
          return Nh(i, a, l);
      }
      return cC(i, a, r, this.minTickCount, this.maxTickCount);
    }, t.prototype.update = function() {
      !this.domain || this.domain.length < 2 || this.nice && this.updateNiceDomain();
    }, t.prototype.updateNiceDomain = function() {
      var e, r, n = (e = this.tickCount) !== null && e !== void 0 ? e : it.defaultTickCount, i = wg(this.domain, 2), a = i[0], s = i[1];
      if (n < 1) {
        this.niceDomain = [a, s];
        return;
      }
      if (n === 1) {
        this.niceDomain = rz(a, s);
        return;
      }
      for (var l = 4, u = a, c = s, d = 0; d < l; d++) {
        var p = (r = this.interval) !== null && r !== void 0 ? r : Xc(a, s, n, this.minTickCount, this.maxTickCount), h = wg(this.domain, 2), f = h[0], v = h[1];
        if (p >= 1)
          a = Math.floor(f / p) * p, s = Math.ceil(v / p) * p;
        else {
          var g = 1 / p;
          a = Math.floor(f * g) / g, s = Math.ceil(v * g) / g;
        }
        if (a === u && s === c)
          break;
        u = a, c = s;
      }
      this.niceDomain = [a, s];
    }, t.prototype.tickFormat = function(e) {
      var r = e.ticks, n = e.specifier;
      return mz(r != null ? r : this.ticks(), n);
    }, t;
  }(it)
);
function yC(o, t, e) {
  return e === void 0 && (e = 1e-10), Math.abs(o - t) < e;
}
function tx(o, t) {
  t === void 0 && (t = 2);
  var e = Math.floor(Math.log(Math.abs(o)) / Math.LN10);
  return e >= 0 || !isFinite(e) ? o.toFixed(t) : o.toFixed(Math.abs(e) - 1 + t);
}
function Nz(o, t) {
  return o >= 0 ? Math.floor(o % t) : Math.floor(o % t + t);
}
function rx(o, t, e) {
  var r = Math.sqrt(Math.pow(o, 2) + Math.pow(t, 2)), n = e.innerRadius, i = e.outerRadius;
  if (r < Math.min(n, i) || r > Math.max(n, i))
    return !1;
  var a = Math.atan2(t, o);
  a < -Math.PI / 2 && (a += 2 * Math.PI);
  var s = e.startAngle, l = e.endAngle;
  return l === -Math.PI / 2 ? a < s : s === 3 * Math.PI / 2 ? a > l : a <= l && a >= s;
}
function t_(o, t) {
  var e = t.startAngle, r = t.endAngle, n = t.innerRadius, i = t.outerRadius, a = { x: i * Math.cos(e), y: i * Math.sin(e) }, s = { x: i * Math.cos(r), y: i * Math.sin(r) }, l = n === 0 ? { x: 0, y: 0 } : { x: n * Math.cos(e), y: n * Math.sin(e) }, u = n === 0 ? { x: 0, y: 0 } : { x: n * Math.cos(r), y: n * Math.sin(r) };
  return Pc(o.start.x, o.start.y, o.end.x, o.end.y, a.x, a.y, l.x, l.y) != null || Pc(o.start.x, o.start.y, o.end.x, o.end.y, s.x, s.y, u.x, u.y) != null || HO(0, 0, i, e, r, !0, o.start.x, o.start.y, o.end.x, o.end.y).length > 0;
}
function Gz(o, t) {
  var e = { x: o.x, y: o.y }, r = { x: o.x + o.width, y: o.y }, n = { x: o.x, y: o.y + o.height }, i = { x: o.x + o.width, y: o.y + o.height };
  return t_({ start: e, end: r }, t) || t_({ start: n, end: i }, t);
}
var kz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ea = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, nx = (
  /** @class */
  function(o) {
    kz(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.centerX = 0, e.centerY = 0, e.innerRadius = 10, e.outerRadius = 20, e.startAngle = 0, e.endAngle = Math.PI * 2, e.angleOffset = 0, e;
    }
    return t.prototype.computeBBox = function() {
      var e = this.outerRadius;
      return new Ye(this.centerX - e, this.centerY - e, e * 2, e * 2);
    }, t.prototype.updatePath = function() {
      var e = this.path, r = this.angleOffset, n = this.startAngle + r, i = this.endAngle + r, a = Math.min(this.innerRadius, this.outerRadius), s = Math.max(this.innerRadius, this.outerRadius), l = yC(Or(this.startAngle), Or(this.endAngle)), u = this.centerX, c = this.centerY;
      e.clear(), l ? (e.arc(u, c, s, n, i), a > 0 && (e.moveTo(u + a * Math.cos(i), c + a * Math.sin(i)), e.arc(u, c, a, i, n, !0))) : (e.moveTo(u + a * Math.cos(n), c + a * Math.sin(n)), e.arc(u, c, s, n, i), a > 0 ? e.arc(u, c, a, i, n, !0) : e.lineTo(u, c)), e.closePath(), this.dirtyPath = !1;
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.angleOffset, i = this.startAngle + n, a = this.endAngle + n, s = Math.min(this.innerRadius, this.outerRadius), l = Math.max(this.innerRadius, this.outerRadius), u = this.transformPoint(e, r);
      return rx(u.x, u.y, { startAngle: i, endAngle: a, innerRadius: s, outerRadius: l });
    }, t.className = "Sector", Ea([
      lt()
    ], t.prototype, "centerX", void 0), Ea([
      lt()
    ], t.prototype, "centerY", void 0), Ea([
      lt()
    ], t.prototype, "innerRadius", void 0), Ea([
      lt()
    ], t.prototype, "outerRadius", void 0), Ea([
      lt()
    ], t.prototype, "startAngle", void 0), Ea([
      lt()
    ], t.prototype, "endAngle", void 0), Ea([
      lt()
    ], t.prototype, "angleOffset", void 0), t;
  }(xr)
), Vz = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ix = (
  /** @class */
  function(o) {
    Vz(t, o);
    function t(e) {
      var r, n, i = e.moduleCtx, a = e.useLabelLayer, s = a === void 0 ? !1 : a, l = e.pickModes, u = l === void 0 ? [Lt.EXACT_SHAPE_MATCH] : l, c = o.call(this, {
        moduleCtx: i,
        useLabelLayer: s,
        pickModes: u,
        contentGroupVirtual: !1,
        directionKeys: (r = {}, r[ue.X] = ["angleKey"], r[ue.Y] = ["radiusKey"], r),
        directionNames: (n = {}, n[ue.X] = ["angleName"], n[ue.Y] = ["radiusName"], n)
      }) || this;
      return c.centerX = 0, c.centerY = 0, c.radius = 0, c;
    }
    return t.prototype.getLabelData = function() {
      return [];
    }, t.prototype.computeLabelsBBox = function(e, r) {
      return null;
    }, t;
  }(Af)
), Mi = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pr = function() {
  return pr = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, pr.apply(this, arguments);
}, Ie = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Bs = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Hs = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Zu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, r_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, ox = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t(e, r, n, i, a, s, l) {
      var u = o.call(this, a, s, l) || this;
      return u.angleKey = e, u.calloutLabelKey = r, u.sectorLabelKey = n, u.radiusKey = i, u;
    }
    return t;
  }(dd)
), Bz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeClick", e;
    }
    return t;
  }(ox)
), Hz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeDoubleClick", e;
    }
    return t;
  }(ox)
), Bn;
(function(o) {
  o[o.Sector = 0] = "Sector", o[o.Callout = 1] = "Callout", o[o.Label = 2] = "Label";
})(Bn || (Bn = {}));
var jz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.offset = 3, e.minAngle = 0, e.formatter = void 0, e.minSpacing = 4, e.maxCollisionOffset = 50, e.avoidCollisions = !0, e;
    }
    return Ie([
      A(ae(0))
    ], t.prototype, "offset", void 0), Ie([
      A(ae(0))
    ], t.prototype, "minAngle", void 0), Ie([
      A(mt)
    ], t.prototype, "formatter", void 0), Ie([
      A(ae(0))
    ], t.prototype, "minSpacing", void 0), Ie([
      A(ae(0))
    ], t.prototype, "maxCollisionOffset", void 0), Ie([
      A(at)
    ], t.prototype, "avoidCollisions", void 0), t;
  }(Yn)
), Wz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.positionOffset = 0, e.positionRatio = 0.5, e.formatter = void 0, e;
    }
    return Ie([
      A(ae())
    ], t.prototype, "positionOffset", void 0), Ie([
      A(ae(0, 1))
    ], t.prototype, "positionRatio", void 0), Ie([
      A(mt)
    ], t.prototype, "formatter", void 0), t;
  }(Yn)
), $z = (
  /** @class */
  function() {
    function o() {
      this.colors = void 0, this.length = 10, this.strokeWidth = 1;
    }
    return Ie([
      A(E2)
    ], o.prototype, "colors", void 0), Ie([
      A(ae(0))
    ], o.prototype, "length", void 0), Ie([
      A(ae(0))
    ], o.prototype, "strokeWidth", void 0), o;
  }()
), Uz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e;
    }
    return Ie([
      A(mt)
    ], t.prototype, "renderer", void 0), t;
  }(gs)
), zz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.showInLegend = !1, e;
    }
    return Ie([
      A(at)
    ], t.prototype, "showInLegend", void 0), t;
  }(Vl)
), Kz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.text = "", e.margin = 2, e;
    }
    return Ie([
      A(lr)
    ], t.prototype, "text", void 0), Ie([
      A(ae())
    ], t.prototype, "margin", void 0), t;
  }(Yn)
), Yz = (
  /** @class */
  function() {
    function o() {
      this.fill = "transparent", this.fillOpacity = 1;
    }
    return Ie([
      A(en)
    ], o.prototype, "fill", void 0), Ie([
      A(tt(0, 1))
    ], o.prototype, "fillOpacity", void 0), o;
  }()
), Xz = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t;
  }(gC)
), ax = (
  /** @class */
  function(o) {
    Mi(t, o);
    function t(e) {
      var r, n, i, a = o.call(this, { moduleCtx: e, useLabelLayer: !0 }) || this;
      a.radiusScale = new Vt(), a.groupSelection = ft.select(a.contentGroup, Se), a.highlightSelection = ft.select(a.highlightGroup, Se), a.nodeData = [], a.seriesItemEnabled = [], a.title = void 0, a.calloutLabel = new jz(), a.sectorLabel = new Wz(), a.calloutLine = new $z(), a.tooltip = new Uz(), a.angleKey = "", a.angleName = "", a.innerLabels = [], a.innerCircle = void 0, a.radiusKey = void 0, a.radiusName = void 0, a.radiusMin = void 0, a.radiusMax = void 0, a.calloutLabelKey = void 0, a.calloutLabelName = void 0, a.sectorLabelKey = void 0, a.sectorLabelName = void 0, a.legendItemKey = void 0, a.fills = ["#c16068", "#a2bf8a", "#ebcc87", "#80a0c3", "#b58dae", "#85c0d1"], a.strokes = ["#874349", "#718661", "#a48f5f", "#5a7088", "#7f637a", "#5d8692"], a.fillOpacity = 1, a.strokeOpacity = 1, a.lineDash = [0], a.lineDashOffset = 0, a.formatter = void 0, a.rotation = 0, a.outerRadiusOffset = 0, a.outerRadiusRatio = 1, a.innerRadiusOffset = 0, a.innerRadiusRatio = 1, a.strokeWidth = 1, a.shadow = void 0, a.highlightStyle = new lC(), a.surroundingRadius = void 0, a.angleScale = new Vt(), a.angleScale.domain = [0, 1], a.angleScale.range = [-Math.PI, Math.PI].map(function(c) {
        return c + Math.PI / 2;
      }), a.backgroundGroup = a.rootGroup.appendChild(new Se({
        name: a.id + "-background",
        layer: !0,
        zIndex: bt.SERIES_BACKGROUND_ZINDEX
      }));
      var s = new Se({ name: "pieCalloutLabels" }), l = new Se({ name: "pieSectorLabels" }), u = new Se({ name: "innerLabels" });
      return (r = a.labelGroup) === null || r === void 0 || r.append(s), (n = a.labelGroup) === null || n === void 0 || n.append(l), (i = a.labelGroup) === null || i === void 0 || i.append(u), a.calloutLabelSelection = ft.select(s, Se), a.sectorLabelSelection = ft.select(l, ot), a.innerLabelsSelection = ft.select(u, ot), a.animationState = new Xz("empty", {
        empty: {
          on: {
            update: {
              target: "ready",
              action: function() {
                return a.animateEmptyUpdateReady();
              }
            }
          }
        },
        ready: {
          on: {
            update: {
              target: "ready",
              action: function() {
                return a.animateReadyUpdateReady();
              }
            }
          }
        }
      }), a;
    }
    return Object.defineProperty(t.prototype, "data", {
      get: function() {
        return this._data;
      },
      set: function(e) {
        this._data = e, this.processSeriesItemEnabled();
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.addChartEventListeners = function() {
      var e = this, r;
      (r = this.ctx.chartEventManager) === null || r === void 0 || r.addListener("legend-item-click", function(n) {
        return e.onLegendItemClick(n);
      });
    }, t.prototype.visibleChanged = function() {
      this.processSeriesItemEnabled();
    }, t.prototype.processSeriesItemEnabled = function() {
      var e, r = this, n = r.data, i = r.visible;
      this.seriesItemEnabled = (e = n == null ? void 0 : n.map(function() {
        return i;
      })) !== null && e !== void 0 ? e : [];
    }, t.prototype.getDomain = function(e) {
      return e === ue.X ? this.angleScale.domain : this.radiusScale.domain;
    }, t.prototype.processData = function(e) {
      var r, n;
      return Bs(this, void 0, void 0, function() {
        var i, a, s, l, u, c, d, p, h, f, v, g, y;
        return Hs(this, function(m) {
          switch (m.label) {
            case 0:
              return i = this.data, a = i === void 0 ? [] : i, s = this, l = s.angleKey, u = s.radiusKey, c = s.calloutLabelKey, d = s.sectorLabelKey, p = s.legendItemKey, h = s.seriesItemEnabled, l ? (f = [], u && (f.push(
                s$(this, u, {
                  id: "radiusValue",
                  min: (r = this.radiusMin) !== null && r !== void 0 ? r : 0,
                  max: this.radiusMax
                }),
                or(this, u, !0, { id: "radiusRaw" }),
                // Raw value pass-through.
                Ow(this, { id: "radiusValue" }, [0, 1], (n = this.radiusMin) !== null && n !== void 0 ? n : 0, this.radiusMax)
              ), f.push()), c && f.push(or(this, c, !1, { id: "calloutLabelValue" })), d && f.push(or(this, d, !1, { id: "sectorLabelValue" })), p && f.push(or(this, p, !1, { id: "legendItemValue" })), a = a.map(function(C, S) {
                var b;
                return h[S] ? C : pr(pr({}, C), (b = {}, b[l] = 0, b));
              }), [4, e.request(this.id, a, {
                props: r_([
                  l$(this, l, !0, { id: "angleValue" }),
                  or(this, l, !0, { id: "angleRaw" }),
                  Ow(this, { id: "angleValue" }, [0, 1], 0)
                ], Zu(f))
              })]) : [
                2
                /*return*/
              ];
            case 1:
              return v = m.sent(), g = v.dataModel, y = v.processedData, this.dataModel = g, this.processedData = y, [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.maybeRefreshNodeData = function() {
      if (this.nodeDataRefresh) {
        var e = Zu(this._createNodeData(), 1), r = e[0], n = r === void 0 ? {} : r, i = n.nodeData, a = i === void 0 ? [] : i;
        this.nodeData = a, this.nodeDataRefresh = !1;
      }
    }, t.prototype.createNodeData = function() {
      return Bs(this, void 0, void 0, function() {
        return Hs(this, function(e) {
          return [2, this._createNodeData()];
        });
      });
    }, t.prototype.getProcessedDataIndexes = function(e) {
      var r = e.resolveProcessedDataIndexById(this, "angleValue").index, n = this.radiusKey ? e.resolveProcessedDataIndexById(this, "radiusValue").index : -1, i = this.calloutLabelKey ? e.resolveProcessedDataIndexById(this, "calloutLabelValue").index : -1, a = this.sectorLabelKey ? e.resolveProcessedDataIndexById(this, "sectorLabelValue").index : -1, s = this.legendItemKey ? e.resolveProcessedDataIndexById(this, "legendItemValue").index : -1;
      return { angleIdx: r, radiusIdx: n, calloutLabelIdx: i, sectorLabelIdx: a, legendItemIdx: s };
    }, t.prototype._createNodeData = function() {
      var e = this, r = this, n = r.id, i = r.processedData, a = r.dataModel, s = r.rotation, l = r.angleScale;
      if (!i || !a || i.type !== "ungrouped")
        return [];
      var u = this.getProcessedDataIndexes(a), c = u.angleIdx, d = u.radiusIdx, p = u.calloutLabelIdx, h = u.sectorLabelIdx, f = u.legendItemIdx, v = 0, g = i.data.map(function(y, m) {
        var C, S = y.datum, b = y.values, _ = b[c], O = l.convert(v) + mn(s);
        v = _;
        var E = l.convert(v) + mn(s), D = Math.abs(E - O), x = O + D / 2, P = b[c + 1], M = d >= 0 && (C = b[d]) !== null && C !== void 0 ? C : 1, F = d >= 0 ? b[d + 1] : void 0, I = f >= 0 ? b[f] : void 0, N = e.getLabels(S, x, D, !0, _, F, b[p], b[h], I), k = e.getSectorFormat(S, m, m, !1);
        return pr({ itemId: m, series: e, datum: S, index: m, angleValue: P, midAngle: x, midCos: Math.cos(x), midSin: Math.sin(x), startAngle: O, endAngle: E, sectorFormat: k, radius: M, radiusValue: F, legendItemValue: I }, N);
      });
      return [
        {
          itemId: n,
          nodeData: g,
          labelData: g
        }
      ];
    }, t.prototype.getLabels = function(e, r, n, i, a, s, l, u, c) {
      var d = this, p = d.calloutLabel, h = d.sectorLabel, f = d.legendItemKey, v = d.ctx.callbackCache, g = !i || p.enabled ? this.calloutLabelKey : void 0, y = !i || h.enabled ? this.sectorLabelKey : void 0;
      if (!g && !y && !f)
        return {};
      var m = this.getLabelFormatterParams(e, a, s, l, u), C;
      if (g) {
        var S = mn(p.minAngle), b = n > S;
        b ? p.formatter ? C = v.call(p.formatter, m) : C = String(l) : C = void 0;
      }
      var _;
      return y && (h.formatter ? _ = v.call(h.formatter, m) : _ = String(u)), pr(pr(pr({}, C != null ? {
        calloutLabel: pr(pr({}, this.getTextAlignment(r)), { text: C, hidden: !1, collisionTextAlign: void 0, collisionOffsetY: 0, box: void 0 })
      } : {}), _ != null ? { sectorLabel: { text: _ } } : {}), f != null && c != null ? { legendItem: { key: f, text: c } } : {});
    }, t.prototype.getLabelFormatterParams = function(e, r, n, i, a) {
      var s = this, l = s.id, u = s.radiusKey, c = s.radiusName, d = s.angleKey, p = s.angleName, h = s.calloutLabelKey, f = s.calloutLabelName, v = s.sectorLabelKey, g = s.sectorLabelName;
      return {
        datum: e,
        angleKey: d,
        angleValue: r,
        angleName: p,
        radiusKey: u,
        radiusValue: n,
        radiusName: c,
        calloutLabelKey: h,
        calloutLabelValue: i,
        calloutLabelName: f,
        sectorLabelKey: v,
        sectorLabelValue: a,
        sectorLabelName: g,
        seriesId: l
      };
    }, t.prototype.getTextAlignment = function(e) {
      var r = [
        { textAlign: "center", textBaseline: "bottom" },
        { textAlign: "left", textBaseline: "middle" },
        { textAlign: "center", textBaseline: "hanging" },
        { textAlign: "right", textBaseline: "middle" }
      ], n = u2(e), i = -3 * Math.PI / 4, a = n - i, s = Math.floor(a / (Math.PI / 2)), l = Nz(s, r.length);
      return r[l];
    }, t.prototype.getSectorFormat = function(e, r, n, i) {
      var a, s, l, u, c, d, p, h, f = this, v = f.angleKey, g = f.radiusKey, y = f.fills, m = f.strokes, C = f.fillOpacity, S = f.formatter, b = f.id, _ = f.ctx, O = _.callbackCache, E = _.highlightManager, D = E == null ? void 0 : E.getActiveHighlight(), x = i && (D == null ? void 0 : D.series) === this && r === D.itemId, P = x ? this.highlightStyle.item : null, M = (a = P == null ? void 0 : P.fill) !== null && a !== void 0 ? a : y[n % y.length], F = (s = P == null ? void 0 : P.fillOpacity) !== null && s !== void 0 ? s : C, I = (l = P == null ? void 0 : P.stroke) !== null && l !== void 0 ? l : m[n % m.length], N = (u = P == null ? void 0 : P.strokeWidth) !== null && u !== void 0 ? u : this.getStrokeWidth(this.strokeWidth), k;
      return S && (k = O.call(S, {
        datum: e,
        angleKey: v,
        radiusKey: g,
        fill: M,
        stroke: I,
        strokeWidth: N,
        highlighted: x,
        seriesId: b
      })), {
        fill: (c = k == null ? void 0 : k.fill) !== null && c !== void 0 ? c : M,
        fillOpacity: (d = k == null ? void 0 : k.fillOpacity) !== null && d !== void 0 ? d : F,
        stroke: (p = k == null ? void 0 : k.stroke) !== null && p !== void 0 ? p : I,
        strokeWidth: (h = k == null ? void 0 : k.strokeWidth) !== null && h !== void 0 ? h : N
      };
    }, t.prototype.getInnerRadius = function() {
      var e = this, r = e.radius, n = e.innerRadiusRatio, i = e.innerRadiusOffset, a = r * (n != null ? n : 1) + (i || 0);
      return a === r || a < 0 ? 0 : a;
    }, t.prototype.getOuterRadius = function() {
      var e = this, r = e.radius, n = e.outerRadiusRatio, i = e.outerRadiusOffset, a = r * (n != null ? n : 1) + (i || 0);
      return a < 0 ? 0 : a;
    }, t.prototype.updateRadiusScale = function() {
      var e = this.getInnerRadius(), r = this.getOuterRadius();
      this.radiusScale.range = [e, r];
    }, t.prototype.getTitleTranslationY = function() {
      var e, r, n = Math.max(0, this.radiusScale.range[1]);
      if (n === 0)
        return NaN;
      var i = (r = (e = this.title) === null || e === void 0 ? void 0 : e.spacing) !== null && r !== void 0 ? r : 0, a = 2 + i, s = Math.max(0, -n);
      return -n - a - s;
    }, t.prototype.update = function(e) {
      var r = e.seriesRect;
      return Bs(this, void 0, void 0, function() {
        var n, i, a;
        return Hs(this, function(s) {
          switch (s.label) {
            case 0:
              return n = this.title, this.maybeRefreshNodeData(), this.updateTitleNodes(), this.updateRadiusScale(), this.updateInnerCircleNodes(), this.contentGroup.translationX = this.centerX, this.contentGroup.translationY = this.centerY, this.highlightGroup.translationX = this.centerX, this.highlightGroup.translationY = this.centerY, this.backgroundGroup.translationX = this.centerX, this.backgroundGroup.translationY = this.centerY, this.labelGroup && (this.labelGroup.translationX = this.centerX, this.labelGroup.translationY = this.centerY), n && (i = this.getTitleTranslationY(), a = n.node.computeBBox(), n.node.visible = n.enabled && isFinite(i) && !this.bboxIntersectsSurroundingSeries(a, 0, i), n.node.translationY = isFinite(i) ? i : 0), this.updateNodeMidPoint(), [4, this.updateSelections()];
            case 1:
              return s.sent(), [4, this.updateNodes(r)];
            case 2:
              return s.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateTitleNodes = function() {
      var e, r, n = this, i = n.title, a = n.oldTitle;
      a !== i && (a && ((e = this.labelGroup) === null || e === void 0 || e.removeChild(a.node)), i && (i.node.textBaseline = "bottom", (r = this.labelGroup) === null || r === void 0 || r.appendChild(i.node)), this.oldTitle = i);
    }, t.prototype.updateInnerCircleNodes = function() {
      var e, r = this, n = r.innerCircle, i = r.oldInnerCircle, a = r.innerCircleNode;
      if (i !== n) {
        var s = void 0;
        a && this.backgroundGroup.removeChild(a), n && (s = new Yc(), s.fill = n.fill, s.fillOpacity = (e = n.fillOpacity) !== null && e !== void 0 ? e : 1, this.backgroundGroup.appendChild(s)), this.oldInnerCircle = n, this.innerCircleNode = s;
      }
    }, t.prototype.updateNodeMidPoint = function() {
      var e = this;
      this.nodeData.forEach(function(r) {
        var n = e.radiusScale.convert(r.radius);
        r.nodeMidPoint = {
          x: r.midCos * Math.max(0, n / 2),
          y: r.midSin * Math.max(0, n / 2)
        };
      });
    }, t.prototype.updateSelections = function() {
      return Bs(this, void 0, void 0, function() {
        return Hs(this, function(e) {
          switch (e.label) {
            case 0:
              return [4, this.updateGroupSelection()];
            case 1:
              return e.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateGroupSelection = function() {
      return Bs(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u = this;
        return Hs(this, function(c) {
          return e = this, r = e.groupSelection, n = e.highlightSelection, i = e.calloutLabelSelection, a = e.sectorLabelSelection, s = e.innerLabelsSelection, l = function(d) {
            return d.update(u.nodeData, function(p) {
              var h = new nx();
              h.tag = Bn.Sector, p.appendChild(h);
            });
          }, this.groupSelection = l(r), this.highlightSelection = l(n), i.update(this.nodeData, function(d) {
            var p = new Gt();
            p.tag = Bn.Callout, p.pointerEvents = yr.None, d.appendChild(p);
            var h = new ot();
            h.tag = Bn.Label, h.pointerEvents = yr.None, d.appendChild(h);
          }), a.update(this.nodeData, function(d) {
            d.pointerEvents = yr.None;
          }), s.update(this.innerLabels, function(d) {
            d.pointerEvents = yr.None;
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateNodes = function(e) {
      var r;
      return Bs(this, void 0, void 0, function() {
        var n, i, a, s, l, u = this;
        return Hs(this, function(c) {
          return n = (r = this.ctx.highlightManager) === null || r === void 0 ? void 0 : r.getActiveHighlight(), i = this.seriesItemEnabled.indexOf(!0) >= 0, this.rootGroup.visible = i, this.backgroundGroup.visible = i, this.contentGroup.visible = i, this.highlightGroup.visible = i && (n == null ? void 0 : n.series) === this, this.labelGroup && (this.labelGroup.visible = i), this.contentGroup.opacity = this.getOpacity(), this.updateInnerCircle(), a = this.radiusScale, s = a.convert(0), l = function(d, p, h, f) {
            var v = a.convert(p.radius), g = d.parent, y = g == null ? void 0 : g.parent;
            f && g && y && (y.removeChild(g), y.appendChild(g)), d.innerRadius = Math.max(0, s), d.outerRadius = Math.max(0, v), f && (d.startAngle = p.startAngle, d.endAngle = p.endAngle);
            var m = u.getSectorFormat(p.datum, p.itemId, h, f);
            d.fill = m.fill, d.stroke = m.stroke, d.strokeWidth = m.strokeWidth, d.fillOpacity = m.fillOpacity, d.strokeOpacity = u.strokeOpacity, d.lineDash = u.lineDash, d.lineDashOffset = u.lineDashOffset, d.fillShadow = u.shadow, d.lineJoin = "round", d.visible = u.seriesItemEnabled[h];
          }, this.groupSelection.selectByTag(Bn.Sector).forEach(function(d, p) {
            return l(d, d.datum, p, !1);
          }), this.highlightSelection.selectByTag(Bn.Sector).forEach(function(d, p) {
            var h = (n == null ? void 0 : n.series) === u && d.datum.itemId === n.itemId;
            h ? l(d, d.datum, p, h) : d.visible = !1;
          }), this.animationState.transition("update"), this.updateCalloutLineNodes(), this.updateCalloutLabelNodes(e), this.updateSectorLabelNodes(), this.updateInnerLabelNodes(), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateCalloutLineNodes = function() {
      var e, r = this, n = r.radiusScale, i = r.calloutLine, a = i.length, s = i.strokeWidth, l = (e = i.colors) !== null && e !== void 0 ? e : this.strokes, u = this.calloutLabel.offset;
      this.calloutLabelSelection.selectByTag(Bn.Callout).forEach(function(c, d) {
        var p = c.datum, h = n.convert(p.radius), f = Math.max(0, h), v = p.calloutLabel;
        if (v != null && v.text && !v.hidden && f !== 0) {
          c.visible = !0, c.strokeWidth = s, c.stroke = l[d % l.length], c.fill = void 0;
          var g = p.midCos * f, y = p.midSin * f, m = p.midCos * (f + a), C = p.midSin * (f + a), S = v.collisionTextAlign || v.collisionOffsetY !== 0;
          if (S && v.box != null) {
            var b = v.box, _ = m, O = C;
            m < b.x ? _ = b.x : m > b.x + b.width && (_ = b.x + b.width), C < b.y ? O = b.y : C > b.y + b.height && (O = b.y + b.height);
            var E = _ - m, D = O - C, x = Math.sqrt(Math.pow(E, 2) + Math.pow(D, 2)), P = x - u;
            P > 0 && (m = m + E * P / x, C = C + D * P / x);
          }
          c.x1 = g, c.y1 = y, c.x2 = m, c.y2 = C;
        } else
          c.visible = !1;
      });
    }, t.prototype.getLabelOverflow = function(e, r, n) {
      var i = n.x - this.centerX, a = n.x + n.width - this.centerX, s = n.y - this.centerY, l = n.y + n.height - this.centerY, u = 1, c = 1;
      r.x + u < i ? c = (r.x + r.width - i) / r.width : r.x + r.width - u > a && (c = (a - r.x) / r.width);
      var d = r.y + u < s || r.y + r.height - u > l, p = c === 1 ? e.length : Math.floor(e.length * c) - 1, h = this.bboxIntersectsSurroundingSeries(r);
      return { textLength: p, hasVerticalOverflow: d, hasSurroundingSeriesOverflow: h };
    }, t.prototype.bboxIntersectsSurroundingSeries = function(e, r, n) {
      r === void 0 && (r = 0), n === void 0 && (n = 0);
      var i = this.surroundingRadius;
      if (i == null)
        return !1;
      var a = [
        { x: e.x + r, y: e.y + n },
        { x: e.x + e.width + r, y: e.y + n },
        { x: e.x + e.width + r, y: e.y + e.height + n },
        { x: e.x + r, y: e.y + e.height + n }
      ], s = Math.pow(i, 2);
      return a.some(function(l) {
        return Math.pow(l.x, 2) + Math.pow(l.y, 2) > s;
      });
    }, t.prototype.computeCalloutLabelCollisionOffsets = function() {
      var e = this, r = this, n = r.radiusScale, i = r.calloutLabel, a = r.calloutLine, s = i.offset, l = i.minSpacing, u = n.convert(0), c = function(_) {
        var O = _.calloutLabel, E = n.convert(_.radius), D = Math.max(0, E);
        return !O || D === 0;
      }, d = this.nodeData, p = this.nodeData.filter(function(_) {
        return !c(_);
      });
      if (p.forEach(function(_) {
        var O = _.calloutLabel;
        O != null && (O.hidden = !1, O.collisionTextAlign = void 0, O.collisionOffsetY = 0);
      }), !(p.length <= 1)) {
        var h = p.filter(function(_) {
          return _.midCos < 0;
        }).sort(function(_, O) {
          return _.midSin - O.midSin;
        }), f = p.filter(function(_) {
          return _.midCos >= 0;
        }).sort(function(_, O) {
          return _.midSin - O.midSin;
        }), v = p.filter(function(_) {
          var O;
          return _.midSin < 0 && ((O = _.calloutLabel) === null || O === void 0 ? void 0 : O.textAlign) === "center";
        }).sort(function(_, O) {
          return _.midCos - O.midCos;
        }), g = p.filter(function(_) {
          var O;
          return _.midSin >= 0 && ((O = _.calloutLabel) === null || O === void 0 ? void 0 : O.textAlign) === "center";
        }).sort(function(_, O) {
          return _.midCos - O.midCos;
        }), y = new ot(), m = function(_) {
          var O, E = _.calloutLabel;
          if (E == null)
            return new Ye(0, 0, 0, 0);
          var D = n.convert(_.radius), x = Math.max(0, D), P = x + a.length + s, M = _.midCos * P, F = _.midSin * P + E.collisionOffsetY;
          return y.text = E.text, y.x = M, y.y = F, y.setFont(e.calloutLabel), y.setAlign({
            textAlign: (O = E.collisionTextAlign) !== null && O !== void 0 ? O : E.textAlign,
            textBaseline: E.textBaseline
          }), y.computeBBox();
        }, C = function(_, O, E) {
          var D = m(_).grow(l / 2), x = m(O).grow(l / 2), P = D.x < x.x + x.width && D.x + D.width > x.x && (E === "to-top" ? D.y < x.y + x.height : D.y + D.height > x.y);
          if (P) {
            var M = E === "to-top" ? D.y - x.y - x.height : D.y + D.height - x.y;
            O.calloutLabel.collisionOffsetY = M;
          }
        }, S = function(_) {
          for (var O = _.slice().sort(function(M, F) {
            return Math.abs(M.midSin) - Math.abs(F.midSin);
          })[0], E = _.indexOf(O), D = E - 1; D >= 0; D--) {
            var x = _[D + 1], P = _[D];
            C(x, P, "to-top");
          }
          for (var D = E + 1; D < _.length; D++) {
            var x = _[D - 1], P = _[D];
            C(x, P, "to-bottom");
          }
        }, b = function(_) {
          for (var O = p.some(function(L) {
            return L.calloutLabel.collisionOffsetY !== 0;
          }), E = _.map(function(L) {
            return m(L);
          }), D = E.map(function(L) {
            return L.clone().grow(l / 2);
          }), x = !1, P = 0; P < D.length && !x; P++)
            for (var M = D[P], F = P + 1; F < _.length; F++) {
              var I = D[F];
              if (M.collidesBBox(I)) {
                x = !0;
                break;
              }
            }
          var N = d.map(function(L) {
            var B = L.startAngle, j = L.endAngle, J = n.convert(L.radius), U = Math.max(0, J);
            return { startAngle: B, endAngle: j, innerRadius: u, outerRadius: U };
          }), k = E.some(function(L) {
            return N.some(function(B) {
              return Gz(L, B);
            });
          });
          !x && !O && !k || _.filter(function(L) {
            return L.calloutLabel.textAlign === "center";
          }).forEach(function(L) {
            var B = L.calloutLabel;
            L.midCos < 0 ? B.collisionTextAlign = "right" : L.midCos > 0 ? B.collisionTextAlign = "left" : B.collisionTextAlign = "center";
          });
        };
        S(h), S(f), b(v), b(g);
      }
    }, t.prototype.updateCalloutLabelNodes = function(e) {
      var r = this, n = this, i = n.radiusScale, a = n.calloutLabel, s = n.calloutLine, l = s.length, u = a.offset, c = a.color, d = new ot();
      this.calloutLabelSelection.selectByTag(Bn.Label).forEach(function(p) {
        var h, f = p.datum, v = f.calloutLabel, g = i.convert(f.radius), y = Math.max(0, g);
        if (!(v != null && v.text) || y === 0 || v.hidden) {
          p.visible = !1;
          return;
        }
        var m = y + l + u, C = f.midCos * m, S = f.midSin * m + v.collisionOffsetY, b = { textAlign: (h = v.collisionTextAlign) !== null && h !== void 0 ? h : v.textAlign, textBaseline: v.textBaseline };
        d.text = v.text, d.x = C, d.y = S, d.setFont(r.calloutLabel), d.setAlign(b);
        var _ = d.computeBBox(), O = v.text, E = !0;
        if (a.avoidCollisions) {
          var D = r.getLabelOverflow(v.text, _, e), x = D.textLength, P = D.hasVerticalOverflow;
          O = v.text.length === x ? v.text : v.text.substring(0, x) + "…", E = !P;
        }
        p.text = O, p.x = C, p.y = S, p.setFont(r.calloutLabel), p.setAlign(b), p.fill = c, p.visible = E;
      });
    }, t.prototype.computeLabelsBBox = function(e, r) {
      var n = this, i, a = this, s = a.radiusScale, l = a.calloutLabel, u = a.calloutLine, c = u.length, d = l.offset, p = l.maxCollisionOffset, h = l.minSpacing;
      if (!l.avoidCollisions)
        return null;
      this.maybeRefreshNodeData(), this.updateRadiusScale(), this.computeCalloutLabelCollisionOffsets();
      var f = [], v = new ot(), g;
      if (!((i = this.title) === null || i === void 0) && i.text && this.title.enabled) {
        var y = this.getTitleTranslationY();
        isFinite(y) && (v.text = this.title.text, v.x = 0, v.y = y, v.setFont(this.title), v.setAlign({
          textBaseline: "bottom",
          textAlign: "center"
        }), g = v.computeBBox(), f.push(g));
      }
      return this.nodeData.forEach(function(m) {
        var C, S = m.calloutLabel, b = s.convert(m.radius), _ = Math.max(0, b);
        if (!S || _ === 0)
          return null;
        var O = _ + c + d, E = m.midCos * O, D = m.midSin * O + S.collisionOffsetY;
        v.text = S.text, v.x = E, v.y = D, v.setFont(n.calloutLabel), v.setAlign({ textAlign: (C = S.collisionTextAlign) !== null && C !== void 0 ? C : S.textAlign, textBaseline: S.textBaseline });
        var x = v.computeBBox();
        if (S.box = x, Math.abs(S.collisionOffsetY) > p) {
          S.hidden = !0;
          return;
        }
        if (g) {
          var P = r.y - n.centerY, M = new Ye(g.x - h, P, g.width + 2 * h, g.y + g.height + h - P);
          if (x.collidesBBox(M)) {
            S.hidden = !0;
            return;
          }
        }
        if (e.hideWhenNecessary) {
          var F = n.getLabelOverflow(S.text, x, r), I = F.textLength, N = F.hasVerticalOverflow, k = F.hasSurroundingSeriesOverflow, L = S.text.length > 2 && I < 2;
          if (N || L || k) {
            S.hidden = !0;
            return;
          }
        }
        S.hidden = !1, f.push(x);
      }), f.length === 0 ? null : Ye.merge(f);
    }, t.prototype.updateSectorLabelNodes = function() {
      var e = this.radiusScale, r = e.convert(0), n = this.sectorLabel, i = n.fontSize, a = n.fontStyle, s = n.fontWeight, l = n.fontFamily, u = n.positionOffset, c = n.positionRatio, d = n.color, p = r > 0, h = this.seriesItemEnabled.filter(Boolean).length === 1;
      this.sectorLabelSelection.each(function(f, v) {
        var g = v.sectorLabel, y = e.convert(v.radius), m = Math.max(0, y), C = !1;
        if (g && m !== 0) {
          var S = r * (1 - c) + y * c + u;
          f.fill = d, f.fontStyle = a, f.fontWeight = s, f.fontSize = i, f.fontFamily = l, f.text = g.text;
          var b = !p && h;
          b ? (f.x = 0, f.y = 0) : (f.x = v.midCos * S, f.y = v.midSin * S), f.textAlign = "center", f.textBaseline = "middle";
          var _ = f.computeBBox(), O = [
            [_.x, _.y],
            [_.x + _.width, _.y],
            [_.x + _.width, _.y + _.height],
            [_.x, _.y + _.height]
          ], E = v.startAngle, D = v.endAngle, x = { startAngle: E, endAngle: D, innerRadius: r, outerRadius: m };
          O.every(function(P) {
            var M = Zu(P, 2), F = M[0], I = M[1];
            return rx(F, I, x);
          }) && (C = !0);
        }
        f.visible = C;
      });
    }, t.prototype.updateInnerCircle = function() {
      var e = this.innerCircleNode;
      if (e) {
        var r = this.getInnerRadius();
        if (r === 0)
          e.size = 0;
        else {
          var n = Math.min(r, this.getOuterRadius()), i = 1;
          e.size = Math.ceil(n * 2 + i);
        }
      }
    }, t.prototype.updateInnerLabelNodes = function() {
      var e = [], r = [];
      this.innerLabelsSelection.each(function(g, y) {
        var m = y.fontStyle, C = y.fontWeight, S = y.fontSize, b = y.fontFamily, _ = y.color;
        g.fontStyle = m, g.fontWeight = C, g.fontSize = S, g.fontFamily = b, g.text = y.text, g.x = 0, g.y = 0, g.fill = _, g.textAlign = "center", g.textBaseline = "alphabetic", e.push(g.computeBBox()), r.push(y.margin);
      });
      for (var n = function(g) {
        return g === 0 ? 0 : r[g];
      }, i = function(g) {
        return g === r.length - 1 ? 0 : r[g];
      }, a = e.reduce(function(g, y, m) {
        return g + y.height + n(m) + i(m);
      }, 0), s = Math.max.apply(Math, r_([], Zu(e.map(function(g) {
        return g.width;
      })))), l = this.getInnerRadius(), u = Math.sqrt(Math.pow(s / 2, 2) + Math.pow(a / 2, 2)), c = u <= (l > 0 ? l : this.getOuterRadius()), d = [], p = 0, h = -a / 2; p < e.length; p++) {
        var f = e[p], v = f.height + h + n(p);
        d.push(v), h = v + i(p);
      }
      this.innerLabelsSelection.each(function(g, y, m) {
        g.y = d[m], g.visible = c;
      });
    }, t.prototype.getNodeClickEvent = function(e, r) {
      return new Bz(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      return new Hz(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, e, r, this);
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n = this.angleKey;
      if (!n)
        return "";
      var i = this, a = i.tooltip, s = i.angleName, l = i.radiusKey, u = i.radiusName, c = i.calloutLabelKey, d = i.sectorLabelKey, p = i.calloutLabelName, h = i.sectorLabelName, f = i.id, v = a.renderer, g = e.datum, y = e.angleValue, m = e.radiusValue, C = e.sectorFormat.fill, S = e.calloutLabel, b = S === void 0 ? {} : S, _ = b.text, O = _ === void 0 ? "" : _, E = typeof y == "number" ? tx(y) : String(y), D = (r = this.title) === null || r === void 0 ? void 0 : r.text, x = (O ? O + ": " : "") + E, P = {
        title: D,
        backgroundColor: C,
        content: x
      };
      return v ? ur(v({
        datum: g,
        angleKey: n,
        angleValue: y,
        angleName: s,
        radiusKey: l,
        radiusValue: m,
        radiusName: u,
        calloutLabelKey: c,
        calloutLabelName: p,
        sectorLabelKey: d,
        sectorLabelName: h,
        title: D,
        color: C,
        seriesId: f
      }), P) : ur(P);
    }, t.prototype.getLegendData = function() {
      var e, r, n, i = this, a = i.processedData, s = i.calloutLabelKey, l = i.legendItemKey, u = i.id, c = i.dataModel;
      if (!c || !a || a.data.length === 0)
        return [];
      if (!l && !s)
        return [];
      for (var d = this.getProcessedDataIndexes(c), p = d.angleIdx, h = d.radiusIdx, f = d.calloutLabelIdx, v = d.sectorLabelIdx, g = d.legendItemIdx, y = ((e = this.title) === null || e === void 0 ? void 0 : e.showInLegend) && this.title.text, m = [], C = 0; C < a.data.length; C++) {
        var S = a.data[C], b = S.datum, _ = S.values, O = [];
        y && O.push(y);
        var E = this.getLabels(b, 2 * Math.PI, 2 * Math.PI, !1, _[p], _[h], _[f], _[v], _[g]);
        if (l && E.legendItem !== void 0 ? O.push(E.legendItem.text) : s && ((r = E.calloutLabel) === null || r === void 0 ? void 0 : r.text) !== void 0 && O.push((n = E.calloutLabel) === null || n === void 0 ? void 0 : n.text), O.length !== 0) {
          var D = this.getSectorFormat(b, C, C, !1);
          m.push({
            legendType: "category",
            id: u,
            itemId: C,
            seriesId: u,
            enabled: this.seriesItemEnabled[C],
            label: {
              text: O.join(" - ")
            },
            marker: {
              fill: D.fill,
              stroke: D.stroke,
              fillOpacity: this.fillOpacity,
              strokeOpacity: this.strokeOpacity
            }
          });
        }
      }
      return m;
    }, t.prototype.onLegendItemClick = function(e) {
      var r = e.enabled, n = e.itemId, i = e.series;
      i.id === this.id ? this.toggleSeriesItem(n, r) : i.type === "pie" && this.toggleOtherSeriesItems(i, n, r);
    }, t.prototype.toggleSeriesItem = function(e, r) {
      this.seriesItemEnabled[e] = r, this.nodeDataRefresh = !0;
    }, t.prototype.toggleOtherSeriesItems = function(e, r, n) {
      var i = this, a, s, l = this, u = l.legendItemKey, c = l.dataModel;
      if (!(!u || !c)) {
        var d = e.legendItemKey && ((a = e.data) === null || a === void 0 ? void 0 : a.find(function(h, f) {
          return f === r;
        })[e.legendItemKey]);
        if (d) {
          var p = c.resolveProcessedDataIndexById(this, "legendItemValue").index;
          (s = this.processedData) === null || s === void 0 || s.data.forEach(function(h, f) {
            var v = h.values;
            v[p] === d && i.toggleSeriesItem(f, n);
          });
        }
      }
    }, t.prototype.animateEmptyUpdateReady = function() {
      var e = this, r, n, i = (n = (r = this.ctx.animationManager) === null || r === void 0 ? void 0 : r.defaultOptions.duration) !== null && n !== void 0 ? n : 1e3, a = 200, s = Math.PI / -2 + mn(this.rotation);
      this.groupSelection.selectByTag(Bn.Sector).forEach(function(u) {
        var c, d = u.datum;
        (c = e.ctx.animationManager) === null || c === void 0 || c.animateMany(e.id + "_empty-update-ready_" + u.id, [
          { from: s, to: d.startAngle },
          { from: s, to: d.endAngle }
        ], {
          duration: i,
          ease: Zl,
          onUpdate: function(p) {
            var h = Zu(p, 2), f = h[0], v = h[1];
            u.startAngle = f, u.endAngle = v;
          }
        });
      });
      var l = {
        from: 0,
        to: 1,
        delay: i,
        duration: a
      };
      this.calloutLabelSelection.each(function(u) {
        var c;
        (c = e.ctx.animationManager) === null || c === void 0 || c.animate(e.id + "_empty-update-ready_" + u.id, pr(pr({}, l), { onUpdate: function(d) {
          u.opacity = d;
        } }));
      }), this.sectorLabelSelection.each(function(u) {
        var c;
        (c = e.ctx.animationManager) === null || c === void 0 || c.animate(e.id + "_empty-update-ready_" + u.id, pr(pr({}, l), { onUpdate: function(d) {
          u.opacity = d;
        } }));
      }), this.innerLabelsSelection.each(function(u) {
        var c;
        (c = e.ctx.animationManager) === null || c === void 0 || c.animate(e.id + "_empty-update-ready_" + u.id, pr(pr({}, l), { onUpdate: function(d) {
          u.opacity = d;
        } }));
      });
    }, t.prototype.animateReadyUpdateReady = function() {
      this.groupSelection.selectByTag(Bn.Sector).forEach(function(e) {
        var r = e.datum;
        e.startAngle = r.startAngle, e.endAngle = r.endAngle;
      });
    }, t.className = "PieSeries", t.type = "pie", Ie([
      A(lr)
    ], t.prototype, "angleKey", void 0), Ie([
      A(lr)
    ], t.prototype, "angleName", void 0), Ie([
      A(Oe)
    ], t.prototype, "radiusKey", void 0), Ie([
      A(Oe)
    ], t.prototype, "radiusName", void 0), Ie([
      A(tt(0))
    ], t.prototype, "radiusMin", void 0), Ie([
      A(tt(0))
    ], t.prototype, "radiusMax", void 0), Ie([
      A(Oe)
    ], t.prototype, "calloutLabelKey", void 0), Ie([
      A(Oe)
    ], t.prototype, "calloutLabelName", void 0), Ie([
      A(Oe)
    ], t.prototype, "sectorLabelKey", void 0), Ie([
      A(Oe)
    ], t.prototype, "sectorLabelName", void 0), Ie([
      A(Oe)
    ], t.prototype, "legendItemKey", void 0), Ie([
      A(Kc)
    ], t.prototype, "fills", void 0), Ie([
      A(Kc)
    ], t.prototype, "strokes", void 0), Ie([
      A(ae(0, 1))
    ], t.prototype, "fillOpacity", void 0), Ie([
      A(ae(0, 1))
    ], t.prototype, "strokeOpacity", void 0), Ie([
      A(su)
    ], t.prototype, "lineDash", void 0), Ie([
      A(ae(0))
    ], t.prototype, "lineDashOffset", void 0), Ie([
      A(mt)
    ], t.prototype, "formatter", void 0), Ie([
      A(ae(-360, 360))
    ], t.prototype, "rotation", void 0), Ie([
      A(ae())
    ], t.prototype, "outerRadiusOffset", void 0), Ie([
      A(ae(0))
    ], t.prototype, "outerRadiusRatio", void 0), Ie([
      A(ae())
    ], t.prototype, "innerRadiusOffset", void 0), Ie([
      A(ae(0))
    ], t.prototype, "innerRadiusRatio", void 0), Ie([
      A(ae(0))
    ], t.prototype, "strokeWidth", void 0), t;
  }(ix)
), Fc = function() {
  return Fc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Fc.apply(this, arguments);
}, qc = {
  constructors: {},
  constructedArrays: /* @__PURE__ */ new WeakMap()
};
function qz(o, t) {
  var e;
  (e = qc.constructedArrays) === null || e === void 0 || e.set(o, t);
}
var n_ = {
  constructors: {
    title: Vl,
    subtitle: Vl,
    footnote: Vl,
    shadow: Ry,
    innerCircle: Yz,
    "axes[].title": Iz,
    "series[].innerLabels[]": Kz
  },
  allowedTypes: {
    "legend.pagination.marker.shape": ["primitive", "function"],
    "series[].marker.shape": ["primitive", "function"],
    "axis[].tick.count": ["primitive", "class-instance"]
  }
};
function sx() {
  return {
    constructors: Fc(Fc({}, n_.constructors), qc.constructors),
    constructedArrays: qc.constructedArrays,
    allowedTypes: Fc({}, n_.allowedTypes)
  };
}
var Zz = {
  top: { xTranslationDirection: 0, yTranslationDirection: -1 },
  bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },
  left: { xTranslationDirection: -1, yTranslationDirection: 0 },
  right: { xTranslationDirection: 1, yTranslationDirection: 0 },
  topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },
  topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },
  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },
  bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },
  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },
  insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },
  insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },
  insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },
  insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },
  insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },
  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },
  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },
  insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 }
}, Qz = {
  top: { xTranslationDirection: 1, yTranslationDirection: 0 },
  bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },
  left: { xTranslationDirection: 0, yTranslationDirection: -1 },
  right: { xTranslationDirection: 0, yTranslationDirection: 1 },
  topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },
  topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },
  bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },
  bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },
  inside: { xTranslationDirection: 0, yTranslationDirection: 0 },
  insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },
  insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },
  insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },
  insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },
  insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },
  insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },
  insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },
  insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 }
};
function Jz(o) {
  var t = o.yDirection, e = o.padding, r = e === void 0 ? 0 : e, n = o.position, i = n === void 0 ? "top" : n, a = o.bbox, s = t ? Zz : Qz, l = s[i], u = l.xTranslationDirection, c = l.yTranslationDirection, d = t ? a.width : a.height, p = t ? a.height : a.width, h = u * (r + d / 2), f = c * (r + p / 2), v = {
    xTranslation: h,
    yTranslation: f
  };
  return v;
}
function eK(o) {
  var t = o.yDirection, e = o.bbox, r = o.padding, n = r === void 0 ? 0 : r, i = o.position, a = i === void 0 ? "top" : i, s = {};
  return a.startsWith("inside") || (a === "top" && !t ? s.top = n + e.height : a === "bottom" && !t ? s.bottom = n + e.height : a === "left" && t ? s.left = n + e.width : a === "right" && t && (s.right = n + e.width)), s;
}
var Dy = function(o) {
  var t = o.yDirection, e = o.xEnd, r = o.yStart, n = o.yEnd;
  return t ? { x: e / 2, y: r } : { x: e, y: isNaN(n) ? r : (r + n) / 2 };
}, i_ = function(o) {
  var t = o.yDirection, e = o.xStart, r = o.xEnd, n = o.yStart, i = o.yEnd;
  return t ? { x: e, y: isNaN(i) ? n : (n + i) / 2 } : { x: r / 2, y: n };
}, o_ = function(o) {
  var t = o.yDirection, e = o.xEnd, r = o.yStart, n = o.yEnd;
  return t ? { x: e, y: isNaN(n) ? r : (r + n) / 2 } : { x: e / 2, y: isNaN(n) ? r : n };
}, a_ = function(o) {
  var t = o.yDirection, e = o.xStart, r = o.xEnd, n = o.yStart, i = o.yEnd;
  return t ? { x: r / 2, y: isNaN(i) ? n : i } : { x: e, y: isNaN(i) ? n : (n + i) / 2 };
}, tK = function(o) {
  var t = o.xEnd, e = o.yStart, r = o.yEnd;
  return { x: t / 2, y: isNaN(r) ? e : (e + r) / 2 };
}, s_ = function(o) {
  var t = o.yDirection, e = o.xStart, r = o.xEnd, n = o.yStart;
  return t ? { x: e / 2, y: n } : { x: r, y: n };
}, l_ = function(o) {
  var t = o.yDirection, e = o.xStart, r = o.yStart, n = o.yEnd;
  return t ? { x: e, y: isNaN(n) ? r : n } : { x: e, y: r };
}, u_ = function(o) {
  var t = o.yDirection, e = o.xEnd, r = o.yStart, n = o.yEnd;
  return t ? { x: e, y: r } : { x: e, y: isNaN(n) ? r : n };
}, c_ = function(o) {
  var t = o.yDirection, e = o.xStart, r = o.xEnd, n = o.yStart, i = o.yEnd;
  return t ? { x: r, y: isNaN(i) ? n : i } : { x: e, y: isNaN(i) ? n : i };
}, rK = {
  top: { c: Dy },
  bottom: { c: a_ },
  left: { c: i_ },
  right: { c: o_ },
  topLeft: { c: s_ },
  topRight: { c: u_ },
  bottomLeft: { c: l_ },
  bottomRight: { c: c_ },
  inside: { c: tK },
  insideLeft: { c: i_ },
  insideRight: { c: o_ },
  insideTop: { c: Dy },
  insideBottom: { c: a_ },
  insideTopLeft: { c: s_ },
  insideBottomLeft: { c: l_ },
  insideTopRight: { c: u_ },
  insideBottomRight: { c: c_ }
}, nK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Vh = function() {
  return Vh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Vh.apply(this, arguments);
}, Oa = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iK = (
  /** @class */
  function(o) {
    nK(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.x1 = 0, e.y1 = 0, e.x2 = 0, e.y2 = 0, e.startLine = !1, e.endLine = !1, e.isRange = !1, e.restoreOwnStyles(), e;
    }
    return t.prototype.computeBBox = function() {
      return new Ye(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);
    }, t.prototype.isPointInPath = function(e, r) {
      return !1;
    }, t.prototype.render = function(e) {
      var r, n = e.ctx, i = e.forceRender, a = e.stats;
      if (this.dirty === oe.NONE && !i) {
        a && (a.nodesSkipped += this.nodeCount.count);
        return;
      }
      this.computeTransformMatrix(), this.matrix.toContext(n);
      var s = this, l = s.x1, u = s.y1, c = s.x2, d = s.y2;
      l = this.align(l), u = this.align(u), c = this.align(c), d = this.align(d);
      var p = this, h = p.fill, f = p.opacity, v = p.isRange, g = !!(v && h);
      if (g) {
        var y = this.fillOpacity;
        n.fillStyle = h, n.globalAlpha = f * y, n.beginPath(), n.moveTo(l, u), n.lineTo(c, u), n.lineTo(c, d), n.lineTo(l, d), n.closePath(), n.fill();
      }
      var m = this, C = m.stroke, S = m.strokeWidth, b = m.startLine, _ = m.endLine, O = !!((b || _) && C && S);
      if (O) {
        var E = this, D = E.strokeOpacity, x = E.lineDash, P = E.lineDashOffset, M = E.lineCap, F = E.lineJoin;
        n.strokeStyle = C, n.globalAlpha = f * D, n.lineWidth = S, x && n.setLineDash(x), P && (n.lineDashOffset = P), M && (n.lineCap = M), F && (n.lineJoin = F), n.beginPath(), b && (n.moveTo(l, u), n.lineTo(c, u)), _ && (n.moveTo(c, d), n.lineTo(l, d)), n.stroke();
      }
      (r = this.fillShadow) === null || r === void 0 || r.markClean(), o.prototype.render.call(this, e);
    }, t.className = "Range", t.defaultStyles = Vh(Vh({}, xi.defaultStyles), { strokeWidth: 1 }), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "x1", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "y1", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "x2", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "y2", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "startLine", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "endLine", void 0), Oa([
      ve({ redraw: oe.MINOR })
    ], t.prototype, "isRange", void 0), t;
  }(xi)
), Dt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Hi = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, d_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, oK = [
  "top",
  "left",
  "right",
  "bottom",
  "topLeft",
  "topRight",
  "bottomLeft",
  "bottomRight",
  "inside",
  "insideLeft",
  "insideRight",
  "insideTop",
  "insideBottom",
  "insideTopLeft",
  "insideBottomLeft",
  "insideTopRight",
  "insideBottomRight"
], aK = we(function(o, t) {
  return yt(o, t, function(e) {
    return oK.includes(e);
  });
}, "expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"), sK = we(function(o, t) {
  return yt(o, t, function(e) {
    return e === "range" || e === "line";
  });
}, "expecting a crossLine type keyword such as 'range' or 'line'"), lK = (
  /** @class */
  function() {
    function o() {
      this.enabled = void 0, this.text = void 0, this.fontStyle = void 0, this.fontWeight = void 0, this.fontSize = 14, this.fontFamily = "Verdana, sans-serif", this.padding = 5, this.color = "rgba(87, 87, 87, 1)", this.position = void 0, this.rotation = void 0, this.parallel = void 0;
    }
    return Dt([
      A(Ti)
    ], o.prototype, "enabled", void 0), Dt([
      A(Oe)
    ], o.prototype, "text", void 0), Dt([
      A(fs)
    ], o.prototype, "fontStyle", void 0), Dt([
      A(vs)
    ], o.prototype, "fontWeight", void 0), Dt([
      A(ae(0))
    ], o.prototype, "fontSize", void 0), Dt([
      A(lr)
    ], o.prototype, "fontFamily", void 0), Dt([
      A(ae(0))
    ], o.prototype, "padding", void 0), Dt([
      A(ct)
    ], o.prototype, "color", void 0), Dt([
      A(aK)
    ], o.prototype, "position", void 0), Dt([
      A(tt(-360, 360))
    ], o.prototype, "rotation", void 0), Dt([
      A(Ti)
    ], o.prototype, "parallel", void 0), o;
  }()
), uK = (
  /** @class */
  function() {
    function o() {
      this.id = lo(this), this.enabled = void 0, this.type = void 0, this.range = void 0, this.value = void 0, this.fill = void 0, this.fillOpacity = void 0, this.stroke = void 0, this.strokeWidth = void 0, this.strokeOpacity = void 0, this.lineDash = void 0, this.label = new lK(), this.scale = void 0, this.clippedRange = [-1 / 0, 1 / 0], this.gridLength = 0, this.sideFlag = -1, this.parallelFlipRotation = 0, this.regularFlipRotation = 0, this.direction = ue.X, this.group = new Se({ name: "" + this.id, layer: !0, zIndex: o.LINE_LAYER_ZINDEX }), this.crossLineRange = new iK(), this.crossLineLabel = new ot(), this.labelPoint = void 0, this.data = [], this.startLine = !1, this.endLine = !1, this.isRange = !1;
      var t = this, e = t.group, r = t.crossLineRange, n = t.crossLineLabel;
      e.append([r, n]), r.pointerEvents = yr.None;
    }
    return o.prototype.update = function(t) {
      if (this.enabled && (this.group.visible = t, !!t)) {
        var e = this.createNodeData();
        if (!e) {
          this.group.visible = !1;
          return;
        }
        this.updateNodes(), this.group.zIndex = this.getZIndex(this.isRange);
      }
    }, o.prototype.updateNodes = function() {
      this.updateRangeNode(), this.label.enabled && (this.updateLabel(), this.positionLabel());
    }, o.prototype.createNodeData = function() {
      var t, e, r, n, i, a = this, s = a.scale, l = a.gridLength, u = a.sideFlag, c = a.direction, d = a.label.position, p = d === void 0 ? "top" : d, h = a.clippedRange, f = a.strokeWidth, v = f === void 0 ? 0 : f;
      if (!s)
        return !1;
      var g = (n = s.bandwidth) !== null && n !== void 0 ? n : 0, y = function(j) {
        return Math.max(Math.min.apply(Math, d_([], Hi(h))), Math.min(Math.max.apply(Math, d_([], Hi(h))), j));
      }, m = Hi([0, u * l], 2), C = m[0], S = m[1], b = Hi(this.getRange(), 2), _ = b[0], O = b[1], E = Hi([
        Number(s.convert(_, { strict: !1 })),
        s.convert(O, { strict: !1 }) + g
      ], 2), D = E[0], x = E[1];
      D = y(D), x = y(x), t = Hi([Number(s.convert(_)), s.convert(O) + g], 2), _ = t[0], O = t[1];
      var P = !isNaN(D) && !isNaN(x) && (_ === D || O === x || D !== x) && Math.abs(x - D) > 0;
      if (P) {
        var M = D !== Math.min(D, x);
        M && (e = Hi([
          Math.min(D, x),
          Math.max(D, x)
        ], 2), D = e[0], x = e[1], r = Hi([O, _], 2), _ = r[0], O = r[1]);
      }
      if (this.isRange = P, this.startLine = !isNaN(_) && v > 0 && _ === D, this.endLine = !isNaN(O) && v > 0 && O === x, !P && !this.startLine && !this.endLine)
        return !1;
      if (this.data = [D, x], this.label.enabled) {
        var F = c === ue.Y, I = ((i = rK[p]) !== null && i !== void 0 ? i : {}).c, N = I === void 0 ? Dy : I, k = N({ yDirection: F, xStart: C, xEnd: S, yStart: D, yEnd: x }), L = k.x, B = k.y;
        this.labelPoint = {
          x: L,
          y: B
        };
      }
      return !0;
    }, o.prototype.updateRangeNode = function() {
      var t, e = this, r = e.crossLineRange, n = e.sideFlag, i = e.gridLength, a = e.data, s = e.startLine, l = e.endLine, u = e.isRange, c = e.fill, d = e.fillOpacity, p = e.stroke, h = e.strokeWidth, f = e.lineDash;
      r.x1 = 0, r.x2 = n * i, r.y1 = a[0], r.y2 = a[1], r.startLine = s, r.endLine = l, r.isRange = u, r.fill = c, r.fillOpacity = d != null ? d : 1, r.stroke = p, r.strokeWidth = h != null ? h : 1, r.strokeOpacity = (t = this.strokeOpacity) !== null && t !== void 0 ? t : 1, r.lineDash = f;
    }, o.prototype.updateLabel = function() {
      var t = this, e = t.crossLineLabel, r = t.label;
      r.text && (e.fontStyle = r.fontStyle, e.fontWeight = r.fontWeight, e.fontSize = r.fontSize, e.fontFamily = r.fontFamily, e.fill = r.color, e.text = r.text);
    }, o.prototype.positionLabel = function() {
      var t = this, e = t.crossLineLabel, r = t.labelPoint, n = r === void 0 ? {} : r, i = n.x, a = i === void 0 ? void 0 : i, s = n.y, l = s === void 0 ? void 0 : s, u = t.label, c = u.parallel, d = u.rotation, p = u.position, h = p === void 0 ? "top" : p, f = u.padding, v = f === void 0 ? 0 : f, g = t.direction, y = t.parallelFlipRotation, m = t.regularFlipRotation;
      if (!(a === void 0 || l === void 0)) {
        var C = fC({
          rotation: d,
          parallel: c,
          regularFlipRotation: m,
          parallelFlipRotation: y
        }), S = C.defaultRotation, b = C.configuredRotation;
        e.rotation = S + b, e.textBaseline = "middle", e.textAlign = "center";
        var _ = this.computeLabelBBox();
        if (_) {
          var O = g === ue.Y, E = Jz({ yDirection: O, padding: v, position: h, bbox: _ }), D = E.xTranslation, x = E.yTranslation;
          e.translationX = a + D, e.translationY = l + x;
        }
      }
    }, o.prototype.getZIndex = function(t) {
      return t === void 0 && (t = !1), t ? o.RANGE_LAYER_ZINDEX : o.LINE_LAYER_ZINDEX;
    }, o.prototype.getRange = function() {
      var t = this, e = t.value, r = t.range, n = t.scale, i = n instanceof it, a = Hi(r != null ? r : [e, void 0], 2), s = a[0], l = a[1];
      return !i && l === void 0 && (l = s), s = Th(s, i) != null ? s : void 0, l = Th(l, i) != null ? l : void 0, i && s === l && (l = void 0), s === void 0 && l !== void 0 && (s = l, l = void 0), [s, l];
    }, o.prototype.computeLabelBBox = function() {
      return this.crossLineLabel.computeTransformedBBox();
    }, o.prototype.calculatePadding = function(t) {
      var e, r, n, i, a, s, l, u, c = this, d = c.isRange, p = c.startLine, h = c.endLine, f = c.direction, v = c.label, g = v.padding, y = g === void 0 ? 0 : g, m = v.position, C = m === void 0 ? "top" : m;
      if (!(!d && !p && !h)) {
        var S = this.computeLabelBBox(), b = S == null ? void 0 : S.x, _ = S == null ? void 0 : S.y;
        if (!(!S || b == null || _ == null)) {
          var O = eK({
            yDirection: f === ue.Y,
            padding: y,
            position: C,
            bbox: S
          });
          t.left = Math.max((e = t.left) !== null && e !== void 0 ? e : 0, (r = O.left) !== null && r !== void 0 ? r : 0), t.right = Math.max((n = t.right) !== null && n !== void 0 ? n : 0, (i = O.right) !== null && i !== void 0 ? i : 0), t.top = Math.max((a = t.top) !== null && a !== void 0 ? a : 0, (s = O.top) !== null && s !== void 0 ? s : 0), t.bottom = Math.max((l = t.bottom) !== null && l !== void 0 ? l : 0, (u = O.bottom) !== null && u !== void 0 ? u : 0);
        }
      }
    }, o.LINE_LAYER_ZINDEX = bt.SERIES_CROSSLINE_LINE_ZINDEX, o.RANGE_LAYER_ZINDEX = bt.SERIES_CROSSLINE_RANGE_ZINDEX, o.className = "CrossLine", Dt([
      A(Ti)
    ], o.prototype, "enabled", void 0), Dt([
      A(sK)
    ], o.prototype, "type", void 0), Dt([
      A(rC(2))
    ], o.prototype, "range", void 0), Dt([
      A(ct)
    ], o.prototype, "fill", void 0), Dt([
      A(tt(0, 1))
    ], o.prototype, "fillOpacity", void 0), Dt([
      A(ct)
    ], o.prototype, "stroke", void 0), Dt([
      A(tt())
    ], o.prototype, "strokeWidth", void 0), Dt([
      A(tt(0, 1))
    ], o.prototype, "strokeOpacity", void 0), Dt([
      A(su)
    ], o.prototype, "lineDash", void 0), o;
  }()
), cK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bh = function() {
  return Bh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Bh.apply(this, arguments);
}, p_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Mf = (
  /** @class */
  function(o) {
    cK(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.thickness = 0, e.position = "left", e;
    }
    return Object.defineProperty(t.prototype, "direction", {
      get: function() {
        return ["top", "bottom"].includes(this.position) ? ue.X : ue.Y;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.updateDirection = function() {
      switch (this.position) {
        case "top":
          this.rotation = -90, this.label.mirrored = !0, this.label.parallel = !0;
          break;
        case "right":
          this.rotation = 0, this.label.mirrored = !0, this.label.parallel = !1;
          break;
        case "bottom":
          this.rotation = -90, this.label.mirrored = !1, this.label.parallel = !0;
          break;
        case "left":
          this.rotation = 0, this.label.mirrored = !1, this.label.parallel = !1;
          break;
      }
      this.axisContext && (this.axisContext.position = this.position, this.axisContext.direction = this.direction);
    }, t.prototype.update = function(e) {
      return this.updateDirection(), o.prototype.update.call(this, e);
    }, t.prototype.createAxisContext = function() {
      return Bh(Bh({}, o.prototype.createAxisContext.call(this)), { position: this.position });
    }, t.prototype.assignCrossLineArrayConstructor = function(e) {
      qz(e, uK);
    }, p_([
      A(ae(0))
    ], t.prototype, "thickness", void 0), p_([
      A(xO)
    ], t.prototype, "position", void 0), t;
  }(ex)
), dK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pK = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hK = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, h_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, f_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Jl = (
  /** @class */
  function(o) {
    dK(t, o);
    function t(e) {
      var r = o.call(this, e, new Tr()) || this;
      return r._paddingOverrideEnabled = !1, r.groupPaddingInner = 0.1, r.includeInvisibleDomains = !0, r;
    }
    return Object.defineProperty(t.prototype, "paddingInner", {
      get: function() {
        return this._paddingOverrideEnabled = !0, this.scale.paddingInner;
      },
      set: function(e) {
        this._paddingOverrideEnabled = !0, this.scale.paddingInner = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "paddingOuter", {
      get: function() {
        return this.scale.paddingOuter;
      },
      set: function(e) {
        this.scale.paddingOuter = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.normaliseDataDomain = function(e) {
      var r, n, i, a, s = {};
      try {
        for (var l = hK(e), u = l.next(); !u.done; u = l.next()) {
          var c = u.value;
          (i = s[a = String(c)]) !== null && i !== void 0 || (s[a] = c);
        }
      } catch (d) {
        r = { error: d };
      } finally {
        try {
          u && !u.done && (n = l.return) && n.call(l);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return Object.values(s);
    }, t.prototype.calculateDomain = function() {
      if (!this._paddingOverrideEnabled) {
        var e = this.boundSeries, r = e.map(function(n) {
          var i;
          return (i = n.getBandScalePadding) === null || i === void 0 ? void 0 : i.call(n);
        }).filter(function(n) {
          return n != null;
        });
        r.length > 0 && (this.scale.paddingInner = Math.min.apply(Math, f_([], h_(r.map(function(n) {
          return n.inner;
        })))), this.scale.paddingOuter = Math.max.apply(Math, f_([], h_(r.map(function(n) {
          return n.outer;
        })))));
      }
      return o.prototype.calculateDomain.call(this);
    }, t.className = "CategoryAxis", t.type = "category", pK([
      A(ae(0, 1))
    ], t.prototype, "groupPaddingInner", void 0), t;
  }(Mf)
), lx = (
  /** @class */
  function() {
    function o(t, e, r) {
      t === void 0 && (t = ""), r === void 0 && (r = 0), this.x = 0, this.y = 0, this.subtreeLeft = NaN, this.subtreeRight = NaN, this.screenX = 0, this.screenY = 0, this.children = [], this.leafCount = 0, this.prelim = 0, this.mod = 0, this.ancestor = this, this.change = 0, this.shift = 0, this.label = t, this.parent = e, this.depth = e ? e.depth + 1 : 0, this.number = r;
    }
    return o.prototype.getLeftSibling = function() {
      return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : void 0;
    }, o.prototype.getLeftmostSibling = function() {
      return this.number > 0 && this.parent ? this.parent.children[0] : void 0;
    }, o.prototype.nextLeft = function() {
      return this.children ? this.children[0] : this.thread;
    }, o.prototype.nextRight = function() {
      return this.children ? this.children[this.children.length - 1] : this.thread;
    }, o.prototype.getSiblings = function() {
      var t = this;
      return this.parent ? this.parent.children.filter(function(e, r) {
        return r !== t.number;
      }) : [];
    }, o;
  }()
);
function fK(o, t) {
  t === void 0 && (t = !0);
  var e = new lx(), r = 0;
  return t && o.forEach(function(n) {
    return r = Math.max(r, n.labels.length);
  }), o.forEach(function(n) {
    if (t)
      for (; n.labels.length < r; )
        n.labels.unshift("");
    vK(e, n);
  }), e;
}
function vK(o, t) {
  var e = t.labels.slice().reverse(), r = e.length - 1;
  e.forEach(function(n, i) {
    var a = o.children, s = a.find(function(c) {
      return c.label === n;
    }), l = i !== r;
    if (s && l)
      o = s;
    else {
      var u = new lx(n, o);
      u.number = a.length, a.push(u), l && (o = u);
    }
  });
}
function gK(o, t, e) {
  var r = t.number - o.number, n = e / r;
  t.change -= n, t.shift += e, o.change += n, t.prelim += e, t.mod += e;
}
function yK(o, t, e) {
  return t.getSiblings().indexOf(o.ancestor) >= 0 ? o.ancestor : e;
}
function mK(o) {
  var t = o.children;
  if (t)
    for (var e = 0, r = 0, n = t.length - 1; n >= 0; n--) {
      var i = t[n];
      i.prelim += e, i.mod += e, r += i.change, e += i.shift + r;
    }
}
function CK(o, t, e) {
  var r = o.getLeftSibling();
  if (r) {
    for (var n = o, i = o, a = r, s = i.getLeftmostSibling(), l = i.mod, u = n.mod, c = a.mod, d = s.mod; a.nextRight() && i.nextLeft(); ) {
      a = a.nextRight(), i = i.nextLeft(), s = s.nextLeft(), n = n.nextRight(), n.ancestor = o;
      var p = a.prelim + c - (i.prelim + l) + e;
      p > 0 && (gK(yK(a, o, t), o, p), l += p, u += p), c += a.mod, l += i.mod, d += s.mod, u += n.mod;
    }
    a.nextRight() && !n.nextRight() ? (n.thread = a.nextRight(), n.mod += c - u) : (i.nextLeft() && !s.nextLeft() && (s.thread = i.nextLeft(), s.mod += l - d), t = o);
  }
  return t;
}
function ux(o, t) {
  var e = o.children;
  if (e.length) {
    var r = e[0];
    e.forEach(function(a) {
      ux(a, t), r = CK(a, r, t);
    }), mK(o);
    var n = (e[0].prelim + e[e.length - 1].prelim) / 2, i = o.getLeftSibling();
    i ? (o.prelim = i.prelim + t, o.mod = o.prelim - n) : o.prelim = n;
  } else {
    var i = o.getLeftSibling();
    o.prelim = i ? i.prelim + t : 0;
  }
}
var v_ = (
  /** @class */
  function() {
    function o() {
      this.top = 1 / 0, this.right = -1 / 0, this.bottom = -1 / 0, this.left = 1 / 0;
    }
    return o.prototype.update = function(t, e) {
      var r = e(t), n = r.x, i = r.y;
      n > this.right && (this.right = n), n < this.left && (this.left = n), i > this.bottom && (this.bottom = i), i < this.top && (this.top = i);
    }, o;
  }()
);
function cx(o, t, e) {
  o.x = o.prelim + t, o.y = o.depth, e.update(o), o.children.forEach(function(r) {
    return cx(r, t + o.mod, e);
  });
}
function dx(o) {
  var t = o.children, e = 0;
  t.forEach(function(r) {
    dx(r), r.children.length ? e += r.leafCount : e++;
  }), o.leafCount = e, t.length ? (o.subtreeLeft = t[0].subtreeLeft, o.subtreeRight = t[o.children.length - 1].subtreeRight, o.x = (o.subtreeLeft + o.subtreeRight) / 2) : (o.subtreeLeft = o.x, o.subtreeRight = o.x);
}
function SK(o) {
  var t = new wK();
  return ux(o, 1), cx(o, -o.prelim, t), dx(o), t;
}
var wK = (
  /** @class */
  function() {
    function o() {
      this.dimensions = new v_(), this.leafCount = 0, this.nodes = [], this.leafNodes = [], this.nonLeafNodes = [], this.depth = 0;
    }
    return o.prototype.update = function(t) {
      this.dimensions.update(t, function(e) {
        return { x: e.x, y: e.y };
      }), t.children.length ? this.nonLeafNodes.push(t) : (this.leafCount++, this.leafNodes.push(t)), t.depth > this.depth && (this.depth = t.depth), this.nodes.push(t);
    }, o.prototype.resize = function(t, e, r, n, i) {
      r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = !1);
      var a = this.leafCount - 1, s = this.depth, l = this.dimensions, u = 1, c = 1;
      if (t > 0 && a) {
        var d = (l.right - l.left) / a, p = t / a;
        u = p / d, i && (u = -u);
      }
      if (e > 0 && s) {
        var h = (l.bottom - l.top) / s, f = e / s;
        c = f / h;
      }
      var v = new v_();
      this.nodes.forEach(function(m) {
        m.screenX = m.x * u, m.screenY = m.y * c, v.update(m, function(C) {
          return { x: C.screenX, y: C.screenY };
        });
      });
      var g = -v.left, y = -v.top;
      this.nodes.forEach(function(m) {
        m.screenX += g + r, m.screenY += y + n;
      });
    }, o;
  }()
), px = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hx = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, _K = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, bK = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, EK = (
  /** @class */
  function(o) {
    px(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.grid = !1, e;
    }
    return hx([
      A(at)
    ], t.prototype, "grid", void 0), t;
  }(QO)
), Hh = (
  /** @class */
  function(o) {
    px(t, o);
    function t(e) {
      var r = o.call(this, e, new Tr()) || this;
      r.tickScale = new Tr(), r.translation = {
        x: 0,
        y: 0
      }, r.line = new JO(), r.label = new EK(), r.labelColor = "rgba(87, 87, 87, 1)", r.includeInvisibleDomains = !0;
      var n = r, i = n.tickLineGroup, a = n.tickLabelGroup, s = n.gridLineGroup, l = n.tickScale, u = n.scale;
      return u.paddingOuter = 0.1, u.paddingInner = u.paddingOuter * 2, r.range = u.range.slice(), r.refreshScale(), l.paddingInner = 1, l.paddingOuter = 0, r.gridLineSelection = ft.select(s, Gt), r.axisLineSelection = ft.select(i, Gt), r.separatorSelection = ft.select(i, Gt), r.labelSelection = ft.select(a, ot), r;
    }
    return t.prototype.updateRange = function() {
      var e = this, r = e.range, n = e.visibleRange, i = e.scale, a = (r[1] - r[0]) / (n[1] - n[0]), s = a * n[0], l = r[0] - s;
      this.tickScale.range = i.range = [l, l + a], this.resizeTickTree();
    }, t.prototype.resizeTickTree = function() {
      var e, r = this.scale, n = r.domain.length ? [r.convert(r.domain[0]), r.convert(r.domain[r.domain.length - 1])] : r.range, i = this.tickTreeLayout, a = this.lineHeight;
      i && i.resize(Math.abs(n[1] - n[0]), i.depth * a, (Math.min(n[0], n[1]) || 0) + ((e = r.bandwidth) !== null && e !== void 0 ? e : 0) / 2, -i.depth * a, n[1] - n[0] < 0);
    }, Object.defineProperty(t.prototype, "lineHeight", {
      get: function() {
        return this.label.fontSize * 1.5;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "gridLength", {
      get: function() {
        return this._gridLength;
      },
      /**
       * The length of the grid. The grid is only visible in case of a non-zero value.
       */
      set: function(e) {
        (this._gridLength && !e || !this._gridLength && e) && (this.gridLineSelection.clear(), this.labelSelection.clear()), this._gridLength = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.calculateDomain = function() {
      var e, r, n = this, i = n.direction, a = n.boundSeries, s = [], l = void 0;
      a.filter(function(d) {
        return d.visible;
      }).forEach(function(d) {
        if (i === ue.X)
          if (l === void 0) {
            var p = d.getDomain(i);
            s.push(p), l = typeof p[0] == "number";
          } else
            l && s.push(d.getDomain(i));
        else
          s.push(d.getDomain(i));
      });
      var u = (e = new Array()).concat.apply(e, bK([], _K(s))), c = (r = rn(u)) !== null && r !== void 0 ? r : u;
      this.dataDomain = this.normaliseDataDomain(c), this.scale.domain = this.dataDomain;
    }, t.prototype.normaliseDataDomain = function(e) {
      var r = e.filter(function(a, s, l) {
        return l.indexOf(a) === s;
      }), n = fK(r);
      this.tickTreeLayout = SK(n);
      var i = r.slice();
      return i.push(""), this.tickScale.domain = i, this.resizeTickTree(), r;
    }, t.prototype.update = function(e) {
      var r = this;
      this.updateDirection(), this.calculateDomain(), this.updateRange();
      var n = this, i = n.scale, a = n.label, s = n.label.parallel, l = n.moduleCtx.callbackCache, u = n.tickScale, c = n.range, d = n.title, p = n.title, h = p === void 0 ? {} : p, f = h.formatter, v = f === void 0 ? function(Q) {
        return Q.defaultValue;
      } : f, g = n._titleCaption, y = i.range[0], m = i.range[1], C = Math.abs(m - y), S = C / i.domain.length || 0, b = mn(this.rotation), _ = Math.abs(Math.cos(b)) < 1e-8, O = a.getSideFlag();
      this.updatePosition({ rotation: b, sideFlag: O }), g.node.visible = !1;
      var E = this.lineHeight, D = this.tickTreeLayout, x = i.ticks(), P = D ? D.nodes : [], M = D ? D.depth > 1 : !1, F = u.ticks(), I = fC({
        rotation: a.rotation,
        parallel: s,
        regularFlipRotation: Or(b - Math.PI / 2),
        parallelFlipRotation: Or(b)
      }), N = I.defaultRotation, k = I.configuredRotation, L = I.parallelFlipFlag, B = this.gridLineSelection.update(this.gridLength ? F : []), j = this.labelSelection.update(P), J = a.formatter, U = /* @__PURE__ */ new Map(), Y = 0;
      j.each(function(Q, fe, De) {
        var Ve;
        Q.fontStyle = a.fontStyle, Q.fontWeight = a.fontWeight, Q.fontSize = a.fontSize, Q.fontFamily = a.fontFamily, Q.fill = a.color, Q.textBaseline = L === -1 ? "bottom" : "hanging", Q.textAlign = "center", Q.translationX = fe.screenY - a.fontSize * 0.25, Q.translationY = fe.screenX, De === 0 ? d != null && d.enabled && x.length > 0 ? (Q.visible = !0, Q.text = l.call(v, r.getTitleFormatterParams()), Q.fontSize = d.fontSize, Q.fontStyle = d.fontStyle, Q.fontWeight = d.fontWeight, Q.fontFamily = d.fontFamily, Q.textBaseline = "hanging") : Q.visible = !1 : J ? (Q.text = (Ve = l.call(J, {
          value: String(fe.label),
          index: De
        })) !== null && Ve !== void 0 ? Ve : String(fe.label), Q.visible = fe.screenX >= c[0] && fe.screenX <= c[1]) : (Q.text = String(fe.label), Q.visible = fe.screenX >= c[0] && fe.screenX <= c[1]);
        var Ct = Q.computeBBox();
        U.set(Q.id, Ct), Ct.width > Y && (Y = Ct.width);
      });
      var X = O * a.padding, ne = this.label.grid, K = [];
      j.each(function(Q, fe, De) {
        if (Q.x = X, Q.rotationCenterX = X, fe.children.length) {
          Q.translationX -= Y - E + r.label.padding;
          var Ct = fe.leafCount * S, Ve = U.get(Q.id);
          Ve && Ve.width > Ct ? Q.visible = !1 : _ ? Q.rotation = N : Q.rotation = -Math.PI / 2;
        } else {
          Q.rotation = k, Q.textAlign = "end", Q.textBaseline = "middle";
          var Ve = U.get(Q.id);
          Ve && Ve.height > S && (Q.visible = !1);
        }
        if (fe.parent && M) {
          var zt = fe.children.length ? fe.screenX - fe.leafCount * S / 2 : fe.screenX - S / 2;
          if (!fe.children.length)
            (fe.number !== fe.children.length - 1 || ne) && K.push({
              y: zt,
              x1: 0,
              x2: -Y - r.label.padding * 2,
              toString: function() {
                return String(De);
              }
            });
          else {
            var Rn = -Y - r.label.padding * 2 + fe.screenY;
            K.push({
              y: zt,
              x1: Rn + E,
              x2: Rn,
              toString: function() {
                return String(De);
              }
            });
          }
        }
      });
      var ee = 0;
      K.forEach(function(Q) {
        return ee = Math.min(ee, Q.x2);
      }), K.push({
        y: Math.max(y, m),
        x1: 0,
        x2: ee,
        toString: function() {
          return String(K.length);
        }
      });
      var ie = this.separatorSelection.update(K), le = 1e-7;
      ie.each(function(Q, fe) {
        Q.x1 = fe.x1, Q.x2 = fe.x2, Q.y1 = fe.y, Q.y2 = fe.y, Q.visible = fe.y >= c[0] - le && fe.y <= c[1] + le, Q.stroke = r.tick.color, Q.fill = void 0, Q.strokeWidth = 1;
      }), this.gridLineSelection = B, this.labelSelection = j;
      for (var Ce = D ? D.depth + 1 : 1, ye = [], He = 0; He < Ce; He++)
        ye.push(He);
      var $e = this.axisLineSelection.update(ye);
      if ($e.each(function(Q, fe, De) {
        var Ve = De > 0 ? -Y - r.label.padding * 2 - (De - 1) * E : 0;
        Q.x1 = Ve, Q.x2 = Ve, Q.y1 = c[0], Q.y2 = c[1], Q.strokeWidth = r.line.width, Q.stroke = r.line.color, Q.visible = x.length > 0 && (De === 0 || ne && M);
      }), this.gridLength) {
        var Ne = this.gridStyle, ke = Ne.length;
        B.each(function(Q, fe, De) {
          var Ve = Math.round(u.convert(fe));
          Q.x1 = 0, Q.x2 = -O * r.gridLength, Q.y1 = Ve, Q.y2 = Ve, Q.visible = Ve >= c[0] && Ve <= c[1];
          var Ct = Ne[De % ke];
          Q.stroke = Ct.stroke, Q.strokeWidth = r.tick.width, Q.lineDash = Ct.lineDash, Q.fill = void 0;
        });
      }
      return e;
    }, t.className = "GroupedCategoryAxis", t.type = "groupedCategory", hx([
      A(ct)
    ], t.prototype, "labelColor", void 0), t;
  }(Mf)
), OK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Lc = function() {
  return Lc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Lc.apply(this, arguments);
}, xK = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, TK = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, g_ = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, _g = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, RK = ["top", "right", "bottom", "left"], fx = (
  /** @class */
  function(o) {
    OK(t, o);
    function t(e, r, n) {
      e === void 0 && (e = window.document);
      var i = o.call(this, e, r, n) || this;
      return i.paired = !0, i._lastAxisWidths = {
        top: 0,
        bottom: 0,
        left: 0,
        right: 0
      }, i._lastVisibility = {
        crossLines: !0,
        series: !0
      }, i;
    }
    return t.prototype.performLayout = function() {
      return xK(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d, p;
        return TK(this, function(h) {
          switch (h.label) {
            case 0:
              return [4, o.prototype.performLayout.call(this)];
            case 1:
              return e = h.sent(), r = this.updateAxes(e), n = r.seriesRect, i = r.visibility, a = r.clipSeries, this.seriesRoot.visible = i.series, this.seriesRect = n, this.seriesRoot.translationX = Math.floor(n.x), this.seriesRoot.translationY = Math.floor(n.y), s = this, l = s.seriesRoot, u = s.seriesAreaPadding, c = n.clone().grow({
                top: u.top,
                right: u.right,
                bottom: u.bottom,
                left: u.left
              }), d = 20, p = c.clone().grow(d), this.hoverRect = p, this.layoutService.dispatchLayoutComplete({
                type: "layout-complete",
                chart: { width: this.scene.width, height: this.scene.height },
                series: { rect: n, paddedRect: c, hoverRect: p, visible: i.series },
                axes: this.axes.map(function(f) {
                  return Lc({ id: f.id }, f.getLayoutState());
                })
              }), a ? l.setClipRectInGroupCoordinateSpace(n) : l.setClipRectInGroupCoordinateSpace(), [2, e];
          }
        });
      });
    }, t.prototype.updateAxes = function(e) {
      var r, n, i, a = Lc({}, this._lastAxisWidths), s = Lc({}, this._lastVisibility), l = new Set(this._axes.map(function(b) {
        return b.position;
      }));
      try {
        for (var u = g_(Object.keys(a)), c = u.next(); !c.done; c = u.next()) {
          var d = c.value;
          l.has(d) || delete a[d];
        }
      } catch (b) {
        r = { error: b };
      } finally {
        try {
          c && !c.done && (n = u.return) && n.call(u);
        } finally {
          if (r)
            throw r.error;
        }
      }
      var p = function(b, _) {
        return Object.keys(b).some(function(O) {
          return a[O] == null;
        }) ? !1 : s.crossLines === _.crossLines && s.series === _.series && // Check for existing axis positions and equality.
        Object.entries(a).every(function(O) {
          var E = _g(O, 2), D = E[0], x = E[1], P = b[D];
          return x != null || P != null ? x === P : !0;
        });
      }, h = function(b) {
        return Object.entries(b).reduce(function(_, O) {
          var E = _g(O, 2), D = E[0], x = E[1];
          return x && Math.abs(x) === 1 / 0 && (x = 0), _[D] = x != null ? Math.ceil(x) : x, _;
        }, {});
      }, f = {}, v = {}, g = !1, y = (i = this.seriesRect) === null || i === void 0 ? void 0 : i.clone(), m = 0;
      do {
        Object.assign(a, f), Object.assign(s, v);
        var C = this.updateAxesPass(a, e.clone(), y);
        if (f = h(C.axisWidths), v = C.visibility, g = C.clipSeries, y = C.seriesRect, m++ > 10) {
          pe.warn("unable to find stable axis layout.");
          break;
        }
      } while (!p(f, v));
      var S = 5;
      return this.axes.forEach(function(b) {
        if (b.setCrossLinesVisible(s.crossLines), !!y)
          switch (b.clipGrid(y.x, y.y, y.width + S, y.height + S), b.position) {
            case "left":
            case "right":
              b.clipTickLines(e.x, y.y, e.width + S, y.height + S);
              break;
            case "top":
            case "bottom":
              b.clipTickLines(y.x, e.y, y.width + S, e.height + S);
              break;
          }
      }), this._lastAxisWidths = a, this._lastVisibility = s, { seriesRect: y, visibility: s, clipSeries: g };
    }, t.prototype.updateAxesPass = function(e, r, n) {
      var i = this, a = this.axes, s = {}, l = {}, u = {
        series: !0,
        crossLines: !0
      }, c = !1, d = {}, p = this.applySeriesPadding(r), h = n ? this.buildCrossLinePadding(e) : {}, f = this.buildAxisBound(p, e, h, u), v = this.buildSeriesRect(f, e);
      return a.forEach(function(g) {
        var y, m, C = g.position, S = C === void 0 ? "left" : C, b = i.calculateAxisDimensions({
          axis: g,
          seriesRect: v,
          paddedBounds: p,
          axisWidths: e,
          newAxisWidths: l,
          primaryTickCounts: d,
          clipSeries: c,
          addInterAxisPadding: ((y = s[S]) !== null && y !== void 0 ? y : 0) > 0
        }), _ = b.clipSeries, O = b.axisThickness, E = b.axisOffset;
        s[S] = ((m = s[S]) !== null && m !== void 0 ? m : 0) + 1, c = c || _, i.positionAxis({
          axis: g,
          axisBound: f,
          axisOffset: E,
          axisThickness: O,
          axisWidths: e,
          primaryTickCounts: d,
          seriesRect: v
        });
      }), { clipSeries: c, seriesRect: v, axisWidths: l, visibility: u };
    }, t.prototype.buildCrossLinePadding = function(e) {
      var r, n, i, a = {};
      this.axes.forEach(function(h) {
        h.crossLines && h.crossLines.forEach(function(f) {
          f.calculatePadding(a);
        });
      });
      try {
        for (var s = g_(Object.entries(a)), l = s.next(); !l.done; l = s.next()) {
          var u = _g(l.value, 2), c = u[0], d = u[1], p = d === void 0 ? 0 : d;
          a[c] = Math.max(p - ((i = e[c]) !== null && i !== void 0 ? i : 0), 0);
        }
      } catch (h) {
        r = { error: h };
      } finally {
        try {
          l && !l.done && (n = s.return) && n.call(s);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return a;
    }, t.prototype.applySeriesPadding = function(e) {
      var r = this, n = e.clone(), i = this.axes.slice().reverse();
      return RK.forEach(function(a) {
        var s = r.seriesAreaPadding[a], l = i.find(function(u) {
          return u.position === a;
        });
        l ? l.seriesAreaPadding = s : n.shrink(s, a);
      }), n;
    }, t.prototype.buildAxisBound = function(e, r, n, i) {
      var a, s, l, u, c = e.clone(), d = n.top, p = d === void 0 ? 0 : d, h = n.right, f = h === void 0 ? 0 : h, v = n.bottom, g = v === void 0 ? 0 : v, y = n.left, m = y === void 0 ? 0 : y, C = m + f, S = p + g, b = ((a = r.left) !== null && a !== void 0 ? a : 0) + ((s = r.right) !== null && s !== void 0 ? s : 0) + C, _ = ((l = r.top) !== null && l !== void 0 ? l : 0) + ((u = r.bottom) !== null && u !== void 0 ? u : 0) + S;
      return c.width <= b || c.height <= _ ? (i.crossLines = !1, i.series = !1, c) : (c.x += m, c.y += p, c.width -= C, c.height -= S, c);
    }, t.prototype.buildSeriesRect = function(e, r) {
      var n = e.clone(), i = r.top, a = r.bottom, s = r.left, l = r.right;
      return n.x += s != null ? s : 0, n.y += i != null ? i : 0, n.width -= (s != null ? s : 0) + (l != null ? l : 0), n.height -= (i != null ? i : 0) + (a != null ? a : 0), n.width = Math.max(0, n.width), n.height = Math.max(0, n.height), n;
    }, t.prototype.clampToOutsideSeriesRect = function(e, r, n, i) {
      var a = e.x, s = e.y, l = e.width, u = e.height, c = [a, s, a + l, s + u], d = i === 1 ? Math.min : Math.max, p = c[(n === "x" ? 0 : 1) + (i === 1 ? 0 : 2)];
      return d(r, p);
    }, t.prototype.calculateAxisDimensions = function(e) {
      var r, n, i, a, s, l = e.axis, u = e.seriesRect, c = e.paddedBounds, d = e.axisWidths, p = e.newAxisWidths, h = e.primaryTickCounts, f = e.addInterAxisPadding, v = e.clipSeries, g = l.position, y = g === void 0 ? "left" : g, m = l.direction, C = function(k) {
        return k instanceof Jl || k instanceof Hh ? [0, u.height] : [u.height, 0];
      }, S = (r = p[y]) !== null && r !== void 0 ? r : 0;
      switch (y) {
        case "top":
        case "bottom":
          l.range = [0, u.width], l.gridLength = u.height;
          break;
        case "right":
        case "left":
          l.range = C(l), l.gridLength = u.width;
          break;
      }
      var b = this.zoomManager.getAxisZoom(l.id), _ = b != null ? b : {}, O = _.min, E = O === void 0 ? 0 : O, D = _.max, x = D === void 0 ? 1 : D;
      l.visibleRange = [E, x], !v && (l.visibleRange[0] > 0 || l.visibleRange[1] < 1) && (v = !0);
      var P = l.nice ? h[m] : void 0, M = 0.3;
      l.thickness != null && l.thickness > 0 ? l.maxThickness = l.thickness : m === ue.Y ? l.maxThickness = c.width * M : l.maxThickness = c.height * M, P = l.update(P), h[m] = (n = h[m]) !== null && n !== void 0 ? n : P;
      var F = 0;
      if (l.thickness != null && l.thickness > 0)
        F = l.thickness;
      else {
        var I = l.computeBBox();
        F = m === ue.X ? I.height : I.width;
      }
      var N = 15;
      return f && (F += N), F = Math.ceil(F), p[y] = ((i = p[y]) !== null && i !== void 0 ? i : 0) + F, l.gridPadding = ((a = d[y]) !== null && a !== void 0 ? a : 0) - ((s = p[y]) !== null && s !== void 0 ? s : 0), { clipSeries: v, axisThickness: F, axisOffset: S };
    }, t.prototype.positionAxis = function(e) {
      var r, n, i, a, s = e.axis, l = e.axisBound, u = e.axisWidths, c = e.seriesRect, d = e.axisOffset, p = e.axisThickness, h = s.position;
      switch (h) {
        case "top":
          s.translation.x = l.x + ((r = u.left) !== null && r !== void 0 ? r : 0), s.translation.y = this.clampToOutsideSeriesRect(c, l.y + 1 + d + p, "y", 1);
          break;
        case "bottom":
          s.translation.x = l.x + ((n = u.left) !== null && n !== void 0 ? n : 0), s.translation.y = this.clampToOutsideSeriesRect(c, l.y + l.height + 1 - p - d, "y", -1);
          break;
        case "left":
          s.translation.y = l.y + ((i = u.top) !== null && i !== void 0 ? i : 0), s.translation.x = this.clampToOutsideSeriesRect(c, l.x + d + p, "x", 1);
          break;
        case "right":
          s.translation.y = l.y + ((a = u.top) !== null && a !== void 0 ? a : 0), s.translation.x = this.clampToOutsideSeriesRect(c, l.x + l.width - p - d, "x", -1);
          break;
      }
      s.updatePosition({ rotation: mn(s.rotation), sideFlag: s.label.getSideFlag() });
    }, t.className = "CartesianChart", t.type = "cartesian", t;
  }(uC)
), DK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), y_ = (
  /** @class */
  function(o) {
    DK(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.shape = "polygon", e;
    }
    return t.prototype.computeLabelsBBox = function(e, r) {
      return null;
    }, t;
  }(ex)
), PK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), AK = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, MK = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, m_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, C_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, IK = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, vx = (
  /** @class */
  function(o) {
    PK(t, o);
    function t(e, r, n) {
      e === void 0 && (e = window.document);
      var i = o.call(this, e, r, n) || this;
      return i.padding = new Ah(40), i;
    }
    return t.prototype.performLayout = function() {
      return AK(this, void 0, void 0, function() {
        var e, r, n, i;
        return MK(this, function(a) {
          switch (a.label) {
            case 0:
              return [4, o.prototype.performLayout.call(this)];
            case 1:
              return e = a.sent(), r = e.clone(), this.computeSeriesRect(e), this.computeCircle(e), this.axes.forEach(function(s) {
                return s.update();
              }), n = 20, i = e.clone().grow(n), this.hoverRect = i, this.layoutService.dispatchLayoutComplete({
                type: "layout-complete",
                chart: { width: this.scene.width, height: this.scene.height },
                series: { rect: r, paddedRect: e, hoverRect: i, visible: !0 },
                axes: []
              }), [2, e];
          }
        });
      });
    }, t.prototype.updateAxes = function(e, r, n) {
      var i;
      this.axes.forEach(function(u) {
        var c;
        if (u.direction === ue.X) {
          var d = mn((c = u.rotation) !== null && c !== void 0 ? c : 0);
          u.range = [-Math.PI / 2 + d, 3 * Math.PI / 2 + d], u.gridLength = n, u.translation.x = e, u.translation.y = r;
        } else
          u.direction === ue.Y && (u.range = [n, 0], u.translation.x = e, u.translation.y = r - n);
        u.updateScale();
      });
      var a = this.axes.find(function(u) {
        return u.direction === ue.X;
      }), s = a == null ? void 0 : a.scale, l = (i = s == null ? void 0 : s.ticks) === null || i === void 0 ? void 0 : i.call(s).map(function(u) {
        return s.convert(u);
      });
      this.axes.filter(function(u) {
        return u instanceof y_;
      }).forEach(function(u) {
        return u.gridAngles = l;
      });
    }, t.prototype.computeSeriesRect = function(e) {
      var r = this.seriesAreaPadding;
      e.shrink(r.left, "left"), e.shrink(r.top, "top"), e.shrink(r.right, "right"), e.shrink(r.bottom, "bottom"), this.seriesRect = e;
    }, t.prototype.computeCircle = function(e) {
      var r = this, n = this.series.filter(function(p) {
        return p instanceof ix;
      }), i = this.axes.filter(function(p) {
        return p instanceof y_;
      }), a = function(p, h, f) {
        r.updateAxes(p, h, f), n.forEach(function(m) {
          m.centerX = p, m.centerY = h, m.radius = f;
        });
        var v = n.filter(function(m) {
          return m instanceof ax;
        });
        if (v.length > 1) {
          var g = v.map(function(m) {
            var C = m.getInnerRadius();
            return { series: m, innerRadius: C };
          }).sort(function(m, C) {
            return m.innerRadius - C.innerRadius;
          });
          g[g.length - 1].series.surroundingRadius = void 0;
          for (var y = 0; y < g.length - 1; y++)
            g[y].series.surroundingRadius = g[y + 1].innerRadius;
        }
      }, s = e.x + e.width / 2, l = e.y + e.height / 2, u = Math.max(0, Math.min(e.width, e.height) / 2), c = u;
      a(s, l, c);
      var d = function(p) {
        var h, f, v = p === void 0 ? {} : p, g = v.hideWhenNecessary, y = g === void 0 ? !1 : g, m = [];
        try {
          for (var C = IK(C_(C_([], m_(i)), m_(n))), S = C.next(); !S.done; S = C.next()) {
            var b = S.value, _ = b.computeLabelsBBox({ hideWhenNecessary: y }, e);
            _ && m.push(_);
          }
        } catch (D) {
          h = { error: D };
        } finally {
          try {
            S && !S.done && (f = C.return) && f.call(C);
          } finally {
            if (h)
              throw h.error;
          }
        }
        if (m.length === 0) {
          a(s, l, u);
          return;
        }
        var O = Ye.merge(m), E = r.refineCircle(O, c, e);
        a(E.centerX, E.centerY, E.radius), E.radius !== c && (c = E.radius);
      };
      return d(), d(), d(), d({ hideWhenNecessary: !0 }), d({ hideWhenNecessary: !0 }), { radius: c, centerX: s, centerY: l };
    }, t.prototype.refineCircle = function(e, r, n) {
      var i = 0.5, a = -r, s = -r, l = r, u = r, c = Math.max(0, a - e.x), d = Math.max(0, s - e.y), p = Math.max(0, e.x + e.width - l), h = Math.max(0, e.y + e.height - u), f = n.width - c - p, v = n.height - d - h, g = Math.min(f, v) / 2, y = i * n.width / 2, m = i * n.height / 2, C = Math.min(y, m);
      if (g < C) {
        g = C;
        var S = c + p, b = d + h;
        if (2 * g + b > n.height) {
          var _ = n.height - 2 * g;
          Math.min(d, h) * 2 > _ ? (d = _ / 2, h = _ / 2) : d > h ? d = _ - h : h = _ - d;
        }
        if (2 * g + S > n.width) {
          var O = n.width - 2 * g;
          Math.min(c, p) * 2 > O ? (c = O / 2, p = O / 2) : c > p ? c = O - p : p = O - c;
        }
      }
      var E = c + 2 * g + p, D = d + 2 * g + h;
      return {
        centerX: n.x + (n.width - E) / 2 + c + g,
        centerY: n.y + (n.height - D) / 2 + d + g,
        radius: g
      };
    }, t.className = "PolarChart", t.type = "polar", t;
  }(uC)
), FK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), S_ = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, w_ = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, gx = (
  /** @class */
  function(o) {
    FK(t, o);
    function t(e, r, n) {
      e === void 0 && (e = window.document);
      var i = o.call(this, e, r, n) || this;
      return i._data = {}, i;
    }
    return t.prototype.performLayout = function() {
      return S_(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l = this;
        return w_(this, function(u) {
          switch (u.label) {
            case 0:
              return [4, o.prototype.performLayout.call(this)];
            case 1:
              return e = u.sent(), r = this.seriesAreaPadding, n = e.clone(), e.shrink(r.left, "left"), e.shrink(r.top, "top"), e.shrink(r.right, "right"), e.shrink(r.bottom, "bottom"), this.seriesRect = e, i = 20, a = e.clone().grow(i), this.hoverRect = a, this.seriesRoot.translationX = Math.floor(e.x), this.seriesRoot.translationY = Math.floor(e.y), [4, Promise.all(this.series.map(function(c) {
                return S_(l, void 0, void 0, function() {
                  return w_(this, function(d) {
                    switch (d.label) {
                      case 0:
                        return [4, c.update({ seriesRect: e })];
                      case 1:
                        return d.sent(), [
                          2
                          /*return*/
                        ];
                    }
                  });
                });
              }))];
            case 2:
              return u.sent(), s = this.seriesRoot, s.setClipRectInGroupCoordinateSpace(new Ye(e.x, e.y, e.width, e.height)), this.layoutService.dispatchLayoutComplete({
                type: "layout-complete",
                chart: { width: this.scene.width, height: this.scene.height },
                series: { rect: n, paddedRect: e, hoverRect: a, visible: !0 },
                axes: []
              }), [2, e];
          }
        });
      });
    }, t.className = "HierarchyChart", t.type = "hierarchy", t;
  }(uC)
);
function LK(o, t) {
  var e = Math.floor(o[0]), r = o[1];
  e = NK(e, r, t);
  var n = kK(e, r, t), i = t - 1;
  r = e + i * n;
  var a = [e, r], s = GK(e, n, t);
  return [a, s];
}
function NK(o, t, e) {
  var r = Math.abs(t - o) / (e - 1), n = Math.floor(Math.log10(r)), i = Math.pow(10, n);
  return Math.floor(o / i) * i;
}
function GK(o, t, e) {
  for (var r = Math.floor(Math.log10(t)), n = t > 0 && t < 1 ? Math.abs(r) : 0, i = Math.pow(10, n), a = new dC(n), s = 0; s < e; s++) {
    var l = o + t * s;
    a[s] = Math.round(l * i) / i;
  }
  return a;
}
function kK(o, t, e) {
  var r = e - 1, n = (t - o) / r;
  return VK(n);
}
function VK(o) {
  var t = Math.floor(Math.log10(o)), e = Math.pow(10, t), r = o / e * 10;
  return r > 0 && r <= 1 ? e / 10 : r > 1 && r <= 2 ? 2 * e / 10 : r > 1 && r <= 5 ? 5 * e / 10 : r > 5 && r <= 10 ? 10 * e / 10 : r > 10 && r <= 20 ? 20 * e / 10 : r > 20 && r <= 40 ? 40 * e / 10 : r > 40 && r <= 50 ? 50 * e / 10 : r > 50 && r <= 100 ? 100 * e / 10 : r;
}
var yx = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Py = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, BK = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, HK = (
  /** @class */
  function(o) {
    yx(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.maxSpacing = NaN, e;
    }
    return Py([
      A(ao(Qo(1), cd("minSpacing"))),
      Jo(NaN)
    ], t.prototype, "maxSpacing", void 0), t;
  }(vC)
), jh = (
  /** @class */
  function(o) {
    yx(t, o);
    function t(e, r) {
      r === void 0 && (r = new Vt());
      var n = o.call(this, e, r) || this;
      return n.min = NaN, n.max = NaN, r.strictClampByDefault = !0, n;
    }
    return t.prototype.normaliseDataDomain = function(e) {
      var r = this, n = r.min, i = r.max;
      return wz(e, n, i);
    }, t.prototype.formatDatum = function(e) {
      return typeof e == "number" ? e.toFixed(2) : (pe.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."), String(e));
    }, t.prototype.createTick = function() {
      return new HK();
    }, t.prototype.updateSecondaryAxisTicks = function(e) {
      if (this.dataDomain == null)
        throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");
      var r = BK(LK(this.dataDomain, e != null ? e : 0), 2), n = r[0], i = r[1];
      return this.scale.nice = !1, this.scale.domain = n, this.scale.update(), i;
    }, t.className = "NumberAxis", t.type = "number", Py([
      A(ao(Qo(), Df("max"))),
      Jo(NaN)
    ], t.prototype, "min", void 0), Py([
      A(ao(Qo(), cd("min"))),
      Jo(NaN)
    ], t.prototype, "max", void 0), t;
  }(Mf)
), jK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), __ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
function b_() {
  var o = "expecting a non-zero Number";
  return we(function(t) {
    return typeof t == "number" && t !== 0;
  }, o);
}
var Wh = (
  /** @class */
  function(o) {
    jK(t, o);
    function t(e) {
      var r = o.call(this, e, new ZO()) || this;
      return r.min = NaN, r.max = NaN, r.scale.strictClampByDefault = !0, r;
    }
    return t.prototype.normaliseDataDomain = function(e) {
      var r, n = this, i = n.min, a = n.max;
      e.length > 2 && (e = (r = rn(e)) !== null && r !== void 0 ? r : [NaN, NaN]), isNaN(i) || (e = [i, e[1]]), isNaN(a) || (e = [e[0], a]);
      var s = e[0] > e[1], l = e[0] < 0 && e[1] > 0, u = e[0] === 0 && e[1] === 0, c = s || l || u;
      return c && (e = [], l ? pe.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.") : u && pe.warn("the data domain has 0 extent, no data is rendered.")), e[0] === 0 && (e[0] = 1), e[1] === 0 && (e[1] = -1), e;
    }, Object.defineProperty(t.prototype, "base", {
      get: function() {
        return this.scale.base;
      },
      set: function(e) {
        this.scale.base = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.className = "LogAxis", t.type = "log", __([
      A(ao(Qo(), Df("max"), b_())),
      Jo(NaN)
    ], t.prototype, "min", void 0), __([
      A(ao(Qo(), cd("min"), b_())),
      Jo(NaN)
    ], t.prototype, "max", void 0), t;
  }(jh)
), mx = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ay = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, WK = (
  /** @class */
  function(o) {
    mx(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.maxSpacing = NaN, e;
    }
    return Ay([
      A(ao(Qo(1), cd("minSpacing"))),
      Jo(NaN)
    ], t.prototype, "maxSpacing", void 0), t;
  }(vC)
), My = (
  /** @class */
  function(o) {
    mx(t, o);
    function t(e) {
      var r = o.call(this, e, new hC()) || this;
      r.datumFormat = "%m/%d/%y, %H:%M:%S", r.min = void 0, r.max = void 0;
      var n = r.scale;
      return n.strictClampByDefault = !0, r.refreshScale(), r.datumFormatter = n.tickFormat({
        specifier: r.datumFormat
      }), r;
    }
    return t.prototype.normaliseDataDomain = function(e) {
      var r, n = this, i = n.min, a = n.max;
      return typeof i == "number" && (i = new Date(i)), typeof a == "number" && (a = new Date(a)), e.length > 2 && (e = ((r = rn(e)) !== null && r !== void 0 ? r : [0, 1e3]).map(function(s) {
        return new Date(s);
      })), i instanceof Date && (e = [i, e[1]]), a instanceof Date && (e = [e[0], a]), e[0] > e[1] && (e = []), e;
    }, t.prototype.createTick = function() {
      return new WK();
    }, t.prototype.onLabelFormatChange = function(e, r) {
      r ? o.prototype.onLabelFormatChange.call(this, e, r) : this.labelFormatter = this.scale.tickFormat({ ticks: e });
    }, t.prototype.formatDatum = function(e) {
      var r;
      return (r = this.moduleCtx.callbackCache.call(this.datumFormatter, e)) !== null && r !== void 0 ? r : String(e);
    }, t.prototype.calculatePadding = function(e, r) {
      return [0, 1];
    }, t.className = "TimeAxis", t.type = "time", Ay([
      A(ao(_w, Df("max")))
    ], t.prototype, "min", void 0), Ay([
      A(ao(_w, cd("min")))
    ], t.prototype, "max", void 0), t;
  }(Mf)
), xa, $h = (xa = {}, xa[jh.type] = jh, xa[Jl.type] = Jl, xa[My.type] = My, xa[Hh.type] = Hh, xa[Wh.type] = Wh, xa);
function $K(o, t) {
  $h[o] = t;
}
function UK(o, t) {
  var e = $h[o];
  if (e)
    return new e(t);
  throw new Error("AG Charts - unknown axis type: " + o);
}
var mC = {
  has: function(o) {
    return Object.prototype.hasOwnProperty.call($h, o);
  },
  get axesTypes() {
    return Object.keys($h);
  }
}, Cx = {};
function E_(o, t) {
  Cx[o] = t;
}
function zK(o) {
  var t;
  return (t = Cx[o]) !== null && t !== void 0 ? t : {};
}
var KK = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ri = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YK = ["circle", "cross", "diamond", "heart", "plus", "square", "triangle"], XK = we(function(o) {
  return YK.includes(o) || Object.getPrototypeOf(o) === sa;
}, "expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"), qK = (
  /** @class */
  function(o) {
    KK(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.enabled = !0, e.shape = Yc, e.size = 6, e.maxSize = 30, e.domain = void 0, e.fill = void 0, e.stroke = void 0, e.strokeWidth = 1, e.fillOpacity = void 0, e.strokeOpacity = void 0, e;
    }
    return ri([
      A(at),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "enabled", void 0), ri([
      A(XK),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "shape", void 0), ri([
      A(ae(0)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "size", void 0), ri([
      A(ae(0)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "maxSize", void 0), ri([
      A(bO),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "domain", void 0), ri([
      A(ct),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "fill", void 0), ri([
      A(ct),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "stroke", void 0), ri([
      A(tt(0)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "strokeWidth", void 0), ri([
      A(tt(0, 1)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "fillOpacity", void 0), ri([
      A(tt(0, 1)),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "strokeOpacity", void 0), t;
  }(Jm)
), uu = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Uh = function() {
  return Uh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Uh.apply(this, arguments);
}, Sx = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Vr = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Br = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Do = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, ZK = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Tp, Rp, QK = (Tp = {}, Tp[ue.X] = ["xKey"], Tp[ue.Y] = ["yKey"], Tp), JK = (Rp = {}, Rp[ue.X] = ["xName"], Rp[ue.Y] = ["yName"], Rp), CC = (
  /** @class */
  function(o) {
    uu(t, o);
    function t(e, r, n, i, a) {
      var s = o.call(this, n, i, a) || this;
      return s.xKey = e, s.yKey = r, s;
    }
    return t;
  }(dd)
), If = (
  /** @class */
  function(o) {
    uu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeClick", e;
    }
    return t;
  }(CC)
), Ff = (
  /** @class */
  function(o) {
    uu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeDoubleClick", e;
    }
    return t;
  }(CC)
), e4 = (
  /** @class */
  function(o) {
    uu(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t;
  }(gC)
), hd = (
  /** @class */
  function(o) {
    uu(t, o);
    function t(e) {
      var r = o.call(this, Uh(Uh({}, e), { useSeriesGroupLayer: !0, directionKeys: QK, directionNames: JK })) || this;
      r.legendItemName = void 0, r._contextNodeData = [], r.nodeDataDependencies = {}, r.highlightSelection = ft.select(r.highlightNode, function() {
        return r.opts.hasMarkers ? r.markerFactory() : r.nodeFactory();
      }), r.highlightLabelSelection = ft.select(r.highlightLabel, ot), r.subGroups = [], r.subGroupId = 0, r.datumSelectionGarbageCollection = !0;
      var n = e.pathsPerSeries, i = n === void 0 ? 1 : n, a = e.hasMarkers, s = a === void 0 ? !1 : a, l = e.hasHighlightedLabels, u = l === void 0 ? !1 : l, c = e.pathsZIndexSubOrderOffset, d = c === void 0 ? [] : c;
      return r.opts = { pathsPerSeries: i, hasMarkers: s, hasHighlightedLabels: u, pathsZIndexSubOrderOffset: d }, r.animationState = new e4("empty", {
        empty: {
          on: {
            update: {
              target: "ready",
              action: function(p) {
                return r.animateEmptyUpdateReady(p);
              }
            }
          }
        },
        ready: {
          on: {
            updateData: {
              target: "waiting",
              action: function() {
              }
            },
            update: {
              target: "ready",
              action: function(p) {
                return r.animateReadyUpdate(p);
              }
            },
            highlight: {
              target: "ready",
              action: function(p) {
                return r.animateReadyHighlight(p);
              }
            },
            highlightMarkers: {
              target: "ready",
              action: function(p) {
                return r.animateReadyHighlightMarkers(p);
              }
            },
            resize: {
              target: "ready",
              action: function(p) {
                return r.animateReadyResize(p);
              }
            }
          }
        },
        waiting: {
          on: {
            update: {
              target: "ready",
              action: function(p) {
                return r.animateWaitingUpdateReady(p);
              }
            }
          }
        }
      }), r;
    }
    return Object.defineProperty(t.prototype, "contextNodeData", {
      get: function() {
        var e;
        return (e = this._contextNodeData) === null || e === void 0 ? void 0 : e.slice();
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.addChartEventListeners = function() {
      var e = this, r, n;
      (r = this.ctx.chartEventManager) === null || r === void 0 || r.addListener("legend-item-click", function(i) {
        return e.onLegendItemClick(i);
      }), (n = this.ctx.chartEventManager) === null || n === void 0 || n.addListener("legend-item-double-click", function(i) {
        return e.onLegendItemDoubleClick(i);
      });
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this._contextNodeData.splice(0, this._contextNodeData.length), this.subGroups.splice(0, this.subGroups.length);
    }, t.prototype.checkDomainXY = function(e, r, n, i) {
      var a = (n && xh(e) || !n && Ey(e)) && (i && xh(r) || !i && Ey(r));
      return a ? [e, r] : void 0;
    }, t.prototype.checkRangeXY = function(e, r, n, i) {
      return !isNaN(e) && !isNaN(r) && n.inRange(e) && i.inRange(r);
    }, t.prototype.update = function(e) {
      var r, n, i = e.seriesRect;
      return Vr(this, void 0, void 0, function() {
        var a, s, l, u, c;
        return Br(this, function(d) {
          switch (d.label) {
            case 0:
              return a = this.visible, s = ((n = (r = this.ctx.highlightManager) === null || r === void 0 ? void 0 : r.getActiveHighlight()) !== null && n !== void 0 ? n : {}).series, l = s ? s === this : void 0, u = {
                seriesRectWidth: i == null ? void 0 : i.width,
                seriesRectHeight: i == null ? void 0 : i.height
              }, c = ss(this.nodeDataDependencies, u) != null, c && (this.nodeDataDependencies = u, this.markNodeDataDirty()), [4, this.updateSelections(l, a)];
            case 1:
              return d.sent(), [4, this.updateNodes(l, a)];
            case 2:
              return d.sent(), c && this.animationState.transition("resize", {
                datumSelections: this.subGroups.map(function(p) {
                  var h = p.datumSelection;
                  return h;
                }),
                markerSelections: this.subGroups.map(function(p) {
                  var h = p.markerSelection;
                  return h;
                }),
                contextData: this._contextNodeData,
                paths: this.subGroups.map(function(p) {
                  var h = p.paths;
                  return h;
                })
              }), this.animationState.transition("update", {
                datumSelections: this.subGroups.map(function(p) {
                  var h = p.datumSelection;
                  return h;
                }),
                markerSelections: this.subGroups.map(function(p) {
                  var h = p.markerSelection;
                  return h;
                }),
                labelSelections: this.subGroups.map(function(p) {
                  var h = p.labelSelection;
                  return h;
                }),
                contextData: this._contextNodeData,
                paths: this.subGroups.map(function(p) {
                  var h = p.paths;
                  return h;
                }),
                seriesRect: i
              }), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateSelections = function(e, r) {
      var n;
      return Vr(this, void 0, void 0, function() {
        var i, a = this;
        return Br(this, function(s) {
          switch (s.label) {
            case 0:
              return [4, this.updateHighlightSelection(e)];
            case 1:
              return s.sent(), r ? !this.nodeDataRefresh && !this.isPathOrSelectionDirty() ? [
                2
                /*return*/
              ] : this.nodeDataRefresh ? (this.nodeDataRefresh = !1, !((n = this.chart) === null || n === void 0) && n.debug && pe.debug("CartesianSeries.updateSelections() - calling createNodeData() for", this.id), i = this, [4, this.createNodeData()]) : [3, 4] : [
                2
                /*return*/
              ];
            case 2:
              return i._contextNodeData = s.sent(), [4, this.updateSeriesGroups()];
            case 3:
              s.sent(), s.label = 4;
            case 4:
              return [4, Promise.all(this.subGroups.map(function(l, u) {
                return a.updateSeriesGroupSelections(l, u);
              }))];
            case 5:
              return s.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateSeriesGroupSelections = function(e, r) {
      return Vr(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, p;
        return Br(this, function(h) {
          switch (h.label) {
            case 0:
              return n = e.datumSelection, i = e.labelSelection, a = e.markerSelection, s = this._contextNodeData[r], l = s.nodeData, u = s.labelData, c = e, [4, this.updateDatumSelection({ nodeData: l, datumSelection: n, seriesIdx: r })];
            case 1:
              return c.datumSelection = h.sent(), d = e, [4, this.updateLabelSelection({ labelData: u, labelSelection: i, seriesIdx: r })];
            case 2:
              return d.labelSelection = h.sent(), a ? (p = e, [4, this.updateMarkerSelection({
                nodeData: l,
                markerSelection: a,
                seriesIdx: r
              })]) : [3, 4];
            case 3:
              p.markerSelection = h.sent(), h.label = 4;
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.nodeFactory = function() {
      return new Se();
    }, t.prototype.markerFactory = function() {
      var e = lu();
      return new e();
    }, t.prototype.updateSeriesGroups = function() {
      return Vr(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d, p, h, f, v, g, y = this;
        return Br(this, function(m) {
          if (e = this, r = e._contextNodeData, n = e.contentGroup, i = e.subGroups, a = e.opts, s = a.pathsPerSeries, l = a.hasMarkers, r.length === i.length)
            return [
              2
              /*return*/
            ];
          for (r.length < i.length && i.splice(r.length).forEach(function(C) {
            var S, b, _ = C.dataNodeGroup, O = C.markerGroup, E = C.labelGroup, D = C.paths;
            n.removeChild(_), O && n.removeChild(O), E && n.removeChild(E);
            try {
              for (var x = Do(D), P = x.next(); !P.done; P = x.next()) {
                var M = P.value;
                n.removeChild(M);
              }
            } catch (F) {
              S = { error: F };
            } finally {
              try {
                P && !P.done && (b = x.return) && b.call(x);
              } finally {
                if (S)
                  throw S.error;
              }
            }
          }), u = r.length; u > i.length; ) {
            for (c = !1, d = this.subGroupId++, p = new Se({
              name: this.id + "-series-sub" + d + "-dataNodes",
              layer: c,
              zIndex: bt.SERIES_LAYER_ZINDEX,
              zIndexSubOrder: this.getGroupZIndexSubOrder("data", d)
            }), h = l ? new Se({
              name: this.id + "-series-sub" + this.subGroupId++ + "-markers",
              layer: c,
              zIndex: bt.SERIES_LAYER_ZINDEX,
              zIndexSubOrder: this.getGroupZIndexSubOrder("marker", d)
            }) : void 0, f = new Se({
              name: this.id + "-series-sub" + this.subGroupId++ + "-labels",
              layer: c,
              zIndex: bt.SERIES_LABEL_ZINDEX,
              zIndexSubOrder: this.getGroupZIndexSubOrder("labels", d)
            }), n.appendChild(p), n.appendChild(f), h && n.appendChild(h), v = [], g = 0; g < s; g++)
              v[g] = new xr(), v[g].zIndex = bt.SERIES_LAYER_ZINDEX, v[g].zIndexSubOrder = this.getGroupZIndexSubOrder("paths", g), n.appendChild(v[g]);
            i.push({
              paths: v,
              dataNodeGroup: p,
              markerGroup: h,
              labelGroup: f,
              labelSelection: ft.select(f, ot),
              datumSelection: ft.select(p, function() {
                return y.nodeFactory();
              }, this.datumSelectionGarbageCollection),
              markerSelection: h ? ft.select(h, function() {
                return y.markerFactory();
              }) : void 0
            });
          }
          return [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getGroupZIndexSubOrder = function(e, r) {
      var n;
      r === void 0 && (r = 0);
      var i = o.prototype.getGroupZIndexSubOrder.call(this, e, r);
      if (e === "paths") {
        var a = (n = this.opts.pathsZIndexSubOrderOffset[r]) !== null && n !== void 0 ? n : 0, s = i[0];
        typeof s == "function" ? i[0] = function() {
          return +s() + a;
        } : i[0] = +s + a;
      }
      return i;
    }, t.prototype.updateNodes = function(e, r) {
      var n;
      return Vr(this, void 0, void 0, function() {
        var i, a, s, l, u, c, d, p, h, f = this;
        return Br(this, function(v) {
          switch (v.label) {
            case 0:
              return i = this, a = i.highlightSelection, s = i.highlightLabelSelection, l = i._contextNodeData, u = i.opts, c = u.hasMarkers, d = u.hasHighlightedLabels, p = this.visible && ((n = this._contextNodeData) === null || n === void 0 ? void 0 : n.length) > 0 && r, this.rootGroup.visible = p, this.contentGroup.visible = p, this.highlightGroup.visible = p && !!e, h = this.subGroups.map(function(g, y) {
                var m = l[y].itemId;
                return f.getOpacity({ itemId: m });
              }), c ? [4, this.updateMarkerNodes({
                markerSelection: a,
                isHighlight: !0,
                seriesIdx: -1
              })] : [3, 2];
            case 1:
              return v.sent(), this.animationState.transition("highlightMarkers", a), [3, 4];
            case 2:
              return [4, this.updateDatumNodes({ datumSelection: a, isHighlight: !0, seriesIdx: -1 })];
            case 3:
              v.sent(), this.animationState.transition("highlight", a), v.label = 4;
            case 4:
              return d ? [4, this.updateLabelNodes({ labelSelection: s, seriesIdx: -1 })] : [3, 6];
            case 5:
              v.sent(), v.label = 6;
            case 6:
              return [4, Promise.all(this.subGroups.map(function(g, y) {
                return Vr(f, void 0, void 0, function() {
                  var m, C, S, b, _, O, E, D, x, P, M, F, I, N;
                  return Br(this, function(k) {
                    switch (k.label) {
                      case 0:
                        m = g.dataNodeGroup, C = g.markerGroup, S = g.datumSelection, b = g.labelSelection, _ = g.markerSelection, O = g.paths, E = g.labelGroup, D = p, x = h[y], m.opacity = x, m.visible = D, E.visible = D, C && (C.opacity = x, C.zIndex = m.zIndex >= bt.SERIES_LAYER_ZINDEX ? m.zIndex : m.zIndex + 1, C.visible = D), E && (E.opacity = x);
                        try {
                          for (P = Do(O), M = P.next(); !M.done; M = P.next())
                            F = M.value, F.opacity = x, F.visible = D;
                        } catch (L) {
                          I = { error: L };
                        } finally {
                          try {
                            M && !M.done && (N = P.return) && N.call(P);
                          } finally {
                            if (I)
                              throw I.error;
                          }
                        }
                        return m.visible ? [4, this.updateDatumNodes({ datumSelection: S, isHighlight: !1, seriesIdx: y })] : [
                          2
                          /*return*/
                        ];
                      case 1:
                        return k.sent(), [4, this.updateLabelNodes({ labelSelection: b, seriesIdx: y })];
                      case 2:
                        return k.sent(), c && _ ? [4, this.updateMarkerNodes({ markerSelection: _, isHighlight: !1, seriesIdx: y })] : [3, 4];
                      case 3:
                        k.sent(), k.label = 4;
                      case 4:
                        return [
                          2
                          /*return*/
                        ];
                    }
                  });
                });
              }))];
            case 7:
              return v.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateHighlightSelection = function(e) {
      var r;
      return Vr(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C;
        return Br(this, function(S) {
          switch (S.label) {
            case 0:
              return n = this, i = n.highlightSelection, a = n.highlightLabelSelection, s = n._contextNodeData, l = (r = this.ctx.highlightManager) === null || r === void 0 ? void 0 : r.getActiveHighlight(), u = e && (l != null && l.datum) ? l : void 0, c = this, [4, this.updateHighlightSelectionItem({ item: u, highlightSelection: i })];
            case 1:
              if (c.highlightSelection = S.sent(), this.isLabelEnabled() && u != null) {
                p = u.itemId, h = p === void 0 ? void 0 : p;
                try {
                  for (f = Do(s), v = f.next(); !v.done && (g = v.value.labelData, d = g.find(function(b) {
                    return b.datum === u.datum && b.itemId === h;
                  }), d == null); v = f.next())
                    ;
                } catch (b) {
                  m = { error: b };
                } finally {
                  try {
                    v && !v.done && (C = f.return) && C.call(f);
                  } finally {
                    if (m)
                      throw m.error;
                  }
                }
              }
              return y = this, [4, this.updateHighlightSelectionLabel({
                item: d,
                highlightLabelSelection: a
              })];
            case 2:
              return y.highlightLabelSelection = S.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.pickNodeExactShape = function(e) {
      var r, n, i = o.prototype.pickNodeExactShape.call(this, e);
      if (i)
        return i;
      var a = e.x, s = e.y, l = this.opts.hasMarkers;
      try {
        for (var u = Do(this.subGroups), c = u.next(); !c.done; c = u.next()) {
          var d = c.value, p = d.dataNodeGroup, h = d.markerGroup, f = p.pickNode(a, s);
          if (!f && l && (f = h == null ? void 0 : h.pickNode(a, s)), f)
            return { datum: f.datum, distance: 0 };
        }
      } catch (v) {
        r = { error: v };
      } finally {
        try {
          c && !c.done && (n = u.return) && n.call(u);
        } finally {
          if (r)
            throw r.error;
        }
      }
    }, t.prototype.pickNodeClosestDatum = function(e) {
      var r, n, i, a, s, l, u = e.x, c = e.y, d = this, p = d.axes, h = d.rootGroup, f = d._contextNodeData, v = p[ue.X], g = p[ue.Y], y = h.transformPoint(u, c), m = 1 / 0, C;
      try {
        for (var S = Do(f), b = S.next(); !b.done; b = S.next()) {
          var _ = b.value;
          try {
            for (var O = (i = void 0, Do(_.nodeData)), E = O.next(); !E.done; E = O.next()) {
              var D = E.value, x = D.point, P = x === void 0 ? {} : x, M = P.x, F = M === void 0 ? NaN : M, I = P.y, N = I === void 0 ? NaN : I;
              if (!(isNaN(F) || isNaN(N))) {
                var k = (v == null ? void 0 : v.inRange(F)) && (g == null ? void 0 : g.inRange(N));
                if (k) {
                  var L = Math.max(Math.pow(y.x - F, 2) + Math.pow(y.y - N, 2), 0);
                  L < m && (m = L, C = D);
                }
              }
            }
          } catch (B) {
            i = { error: B };
          } finally {
            try {
              E && !E.done && (a = O.return) && a.call(O);
            } finally {
              if (i)
                throw i.error;
            }
          }
        }
      } catch (B) {
        r = { error: B };
      } finally {
        try {
          b && !b.done && (n = S.return) && n.call(S);
        } finally {
          if (r)
            throw r.error;
        }
      }
      if (C) {
        var L = Math.max(Math.sqrt(m) - ((l = (s = C.point) === null || s === void 0 ? void 0 : s.size) !== null && l !== void 0 ? l : 0), 0);
        return { datum: C, distance: L };
      }
    }, t.prototype.pickNodeMainAxisFirst = function(e, r) {
      var n, i, a, s, l, u, c = e.x, d = e.y, p = this, h = p.axes, f = p.rootGroup, v = p._contextNodeData, g = h[ue.X], y = h[ue.Y], m = [g, y].filter(function(le) {
        return le instanceof Jl;
      }).map(function(le) {
        return le.direction;
      });
      if (!(r && m.length === 0)) {
        var C = ZK(m, 1), S = C[0], b = S === void 0 ? ue.X : S, _ = f.transformPoint(c, d), O = b === ue.X ? [_.x, _.y] : [_.y, _.x], E = [1 / 0, 1 / 0], D = void 0;
        try {
          for (var x = Do(v), P = x.next(); !P.done; P = x.next()) {
            var M = P.value;
            try {
              for (var F = (a = void 0, Do(M.nodeData)), I = F.next(); !I.done; I = F.next()) {
                var N = I.value, k = N.point, L = k === void 0 ? {} : k, B = L.x, j = B === void 0 ? NaN : B, J = L.y, U = J === void 0 ? NaN : J;
                if (!(isNaN(j) || isNaN(U))) {
                  var Y = (g == null ? void 0 : g.inRange(j)) && (y == null ? void 0 : y.inRange(U));
                  if (Y) {
                    for (var X = b === ue.X ? [j, U] : [U, j], ne = !0, K = 0; K < X.length; K++) {
                      var ee = Math.abs(X[K] - O[K]);
                      if (ee > E[K]) {
                        ne = !1;
                        break;
                      }
                      ee < E[K] && (E[K] = ee, E.fill(1 / 0, K + 1, E.length));
                    }
                    ne && (D = N);
                  }
                }
              }
            } catch (le) {
              a = { error: le };
            } finally {
              try {
                I && !I.done && (s = F.return) && s.call(F);
              } finally {
                if (a)
                  throw a.error;
              }
            }
          }
        } catch (le) {
          n = { error: le };
        } finally {
          try {
            P && !P.done && (i = x.return) && i.call(x);
          } finally {
            if (n)
              throw n.error;
          }
        }
        if (D) {
          var ie = Math.max(Math.sqrt(Math.pow(E[0], 2) + Math.pow(E[1], 2)) - ((u = (l = D.point) === null || l === void 0 ? void 0 : l.size) !== null && u !== void 0 ? u : 0), 0);
          return { datum: D, distance: ie };
        }
      }
    }, t.prototype.onLegendItemClick = function(e) {
      var r = e.enabled, n = e.itemId, i = e.series, a = e.legendItemName, s = this.legendItemName != null && this.legendItemName === a;
      i.id === this.id ? this.toggleSeriesItem(n, r) : s && this.toggleSeriesItem(n, r);
    }, t.prototype.onLegendItemDoubleClick = function(e) {
      var r = e.enabled, n = e.itemId, i = e.series, a = e.numVisibleItems, s = e.legendItemName, l = Object.values(a).reduce(function(c, d) {
        return c + d;
      }, 0), u = this.legendItemName != null && this.legendItemName === s;
      i.id === this.id || u ? this.toggleSeriesItem(n, !0) : r && l === 1 ? this.toggleSeriesItem(n, !0) : this.toggleSeriesItem(n, !1);
    }, t.prototype.isPathOrSelectionDirty = function() {
      return !1;
    }, t.prototype.getLabelData = function() {
      return [];
    }, t.prototype.updateHighlightSelectionItem = function(e) {
      return Vr(this, void 0, void 0, function() {
        var r, n, i, a, s;
        return Br(this, function(l) {
          return r = this.opts.hasMarkers, n = e.item, i = e.highlightSelection, a = n ? [n] : [], r ? (s = i, [2, this.updateMarkerSelection({ nodeData: a, markerSelection: s, seriesIdx: -1 })]) : [2, this.updateDatumSelection({ nodeData: a, datumSelection: i, seriesIdx: -1 })];
        });
      });
    }, t.prototype.updateHighlightSelectionLabel = function(e) {
      return Vr(this, void 0, void 0, function() {
        var r, n, i;
        return Br(this, function(a) {
          return r = e.item, n = e.highlightLabelSelection, i = r ? [r] : [], [2, this.updateLabelSelection({ labelData: i, labelSelection: n, seriesIdx: -1 })];
        });
      });
    }, t.prototype.updateDatumSelection = function(e) {
      return Vr(this, void 0, void 0, function() {
        return Br(this, function(r) {
          return [2, e.datumSelection];
        });
      });
    }, t.prototype.updateDatumNodes = function(e) {
      return Vr(this, void 0, void 0, function() {
        return Br(this, function(r) {
          return [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateMarkerSelection = function(e) {
      return Vr(this, void 0, void 0, function() {
        return Br(this, function(r) {
          return [2, e.markerSelection];
        });
      });
    }, t.prototype.updateMarkerNodes = function(e) {
      return Vr(this, void 0, void 0, function() {
        return Br(this, function(r) {
          return [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.animateEmptyUpdateReady = function(e) {
    }, t.prototype.animateReadyUpdate = function(e) {
    }, t.prototype.animateWaitingUpdateReady = function(e) {
    }, t.prototype.animateReadyHighlight = function(e) {
    }, t.prototype.animateReadyHighlightMarkers = function(e) {
    }, t.prototype.animateReadyResize = function(e) {
    }, Sx([
      A(Oe)
    ], t.prototype, "legendItemName", void 0), t;
  }(Af)
), SC = (
  /** @class */
  function(o) {
    uu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e;
    }
    return Sx([
      A(mt),
      ve({ redraw: oe.MAJOR })
    ], t.prototype, "formatter", void 0), t;
  }(qK)
), t4 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, r4 = /(#\{(.*?)\})/g;
function wx(o, t, e) {
  return o.replace(r4, function() {
    for (var r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    var i = r[2], a = t4(i.split(":"), 2), s = a[0], l = a[1], u = t[s];
    if (typeof u == "number") {
      var c = l && e && e[l];
      if (c) {
        var d = c, p = d.locales, h = d.options;
        return u.toLocaleString(p, h);
      }
      return String(u);
    }
    if (u instanceof Date) {
      var c = l && e && e[l];
      if (typeof c == "string") {
        var f = Gh(c);
        return f(u);
      }
      return u.toDateString();
    }
    return typeof u == "string" || u != null && u.toString ? String(u) : "";
  });
}
var js = null;
function er(o) {
  return js = js != null ? js : document.createElement("div"), o ? (js.textContent = o, js.innerHTML) : "";
}
var wC = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Lo = function() {
  return Lo = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Lo.apply(this, arguments);
}, wr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ws = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, $s = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, ji = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Us = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, n4 = (
  /** @class */
  function(o) {
    wC(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e;
    }
    return wr([
      A(mt)
    ], t.prototype, "formatter", void 0), t;
  }(Yn)
), i4 = (
  /** @class */
  function(o) {
    wC(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e.format = void 0, e;
    }
    return wr([
      A(mt)
    ], t.prototype, "renderer", void 0), wr([
      A(Oe)
    ], t.prototype, "format", void 0), t;
  }(gs)
), Tl;
(function(o) {
  o[o.Fill = 0] = "Fill", o[o.Stroke = 1] = "Stroke", o[o.Marker = 2] = "Marker", o[o.Label = 3] = "Label";
})(Tl || (Tl = {}));
var o4 = (
  /** @class */
  function(o) {
    wC(t, o);
    function t(e) {
      var r = o.call(this, {
        moduleCtx: e,
        pathsPerSeries: 2,
        pathsZIndexSubOrderOffset: [0, 1e3],
        hasMarkers: !0
      }) || this;
      r.tooltip = new i4(), r.marker = new SC(), r.label = new n4(), r.fill = "#c16068", r.stroke = "#874349", r.fillOpacity = 1, r.strokeOpacity = 1, r.lineDash = [0], r.lineDashOffset = 0, r.xKey = void 0, r.xName = void 0, r.strokeWidth = 2, r.shadow = void 0;
      var n = r, i = n.marker, a = n.label;
      return i.enabled = !1, a.enabled = !1, r;
    }
    return t.prototype.processData = function(e) {
      return Ws(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O;
        return $s(this, function(E) {
          switch (E.label) {
            case 0:
              return r = this, n = r.xKey, i = r.yKey, a = r.axes, s = r.normalizedTo, l = r.data, u = r.visible, c = r.seriesGrouping, d = c === void 0 ? {} : c, p = d.groupIndex, h = p === void 0 ? this.id : p, !n || !i || !l ? [
                2
                /*return*/
              ] : (f = a[ue.X], v = a[ue.Y], g = (f == null ? void 0 : f.scale) instanceof it, y = (v == null ? void 0 : v.scale) instanceof it, m = [
                "area-stack-" + h + "-yValues",
                "area-stack-" + h + "-yValues-trailing",
                "area-stack-" + h + "-yValues-prev",
                "area-stack-" + h + "-yValues-trailing-prev",
                "area-stack-" + h + "-yValues-marker"
              ], C = [], S = s && isFinite(s) ? s : void 0, S && (C.push(Oy(this, [m[0], m[1], m[4]], S, "range")), C.push(Oy(this, [m[2], m[3]], S, "range"))), [4, e.request(this.id, l, {
                props: Us(Us(Us(Us(Us(Us([
                  sC(this, n, g, { id: "xValue" }),
                  or(this, i, y, { id: "yValue-raw", invalidValue: null })
                ], ji(ja(this, i, y, "window", "current", {
                  id: "yValue-end",
                  invalidValue: null,
                  groupId: m[0]
                }))), ji(ja(this, i, y, "window-trailing", "current", {
                  id: "yValue-start",
                  invalidValue: null,
                  groupId: m[1]
                }))), ji(ja(this, i, y, "window", "last", {
                  id: "yValue-previous-end",
                  invalidValue: null,
                  groupId: m[2]
                }))), ji(ja(this, i, y, "window-trailing", "last", {
                  id: "yValue-previous-start",
                  invalidValue: null,
                  groupId: m[3]
                }))), ji(ja(this, i, y, "normal", "current", {
                  id: "yValue-cumulative",
                  invalidValue: null,
                  groupId: m[4]
                }))), ji(C)),
                groupByKeys: !0,
                dataVisible: u
              })]);
            case 1:
              return b = E.sent(), _ = b.dataModel, O = b.processedData, this.dataModel = _, this.processedData = O, [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.getDomain = function(e) {
      var r = this, n = r.processedData, i = r.dataModel, a = r.axes;
      if (!n || !i)
        return [];
      var s = a[ue.X], l = a[ue.Y], u = i.resolveProcessedDataDefById(this, "xValue"), c = i.getDomain(this, "xValue", "key", n), d = i.getDomain(this, /yValue-(previous-)?end/, "value", n);
      if (e === ue.X)
        return (u == null ? void 0 : u.def.type) === "key" && u.def.valueType === "category" ? c : this.fixNumericExtent(rn(c), s);
      if (l instanceof Wh || l instanceof My)
        return this.fixNumericExtent(d, l);
      var p = [d[0] > 0 ? 0 : d[0], d[1] < 0 ? 0 : d[1]];
      return this.fixNumericExtent(p, l);
    }, t.prototype.createNodeData = function() {
      var e;
      return Ws(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F, I, N, k, L, B, j, J, U, Y, X, ne, K, ee, ie, le, Ce, ye, He = this;
        return $s(this, function($e) {
          if (r = this, n = r.axes, i = r.data, a = r.processedData, s = a === void 0 ? {} : a, l = s.data, u = r.dataModel, c = r.ctx.callbackCache, d = n[ue.X], p = n[ue.Y], !d || !p || !i || !u)
            return [2, []];
          for (h = this, f = h.yKey, v = f === void 0 ? "" : f, g = h.xKey, y = g === void 0 ? "" : g, m = h.marker, C = h.label, S = h.fill, b = h.stroke, _ = h.id, O = d.scale, E = p.scale, D = E instanceof it, x = ((e = O.bandwidth) !== null && e !== void 0 ? e : 0) / 2, P = u.resolveProcessedDataIndexById(this, "yValue-start").index, M = u.resolveProcessedDataIndexById(this, "yValue-end").index, F = u.resolveProcessedDataIndexById(this, "yValue-raw").index, I = u.resolveProcessedDataIndexById(this, "yValue-previous-start").index, N = u.resolveProcessedDataIndexById(this, "yValue-previous-end").index, k = u.resolveProcessedDataIndexById(this, "yValue-cumulative").index, L = function(Ne, ke, Q) {
            var fe = O.convert(Ne) + x, De = E.convert(ke, { strict: !1 }), Ve = E.convert(Q, { strict: !1 });
            return [
              { x: fe, y: Ve, size: m.size },
              { x: fe, y: De, size: m.size }
            ];
          }, B = function(Ne, ke, Q) {
            var fe, De = He.normalizedTo && isFinite(He.normalizedTo), Ve = De && D && xh(Q), Ct = !De && !isNaN(Q) || Ve;
            Ct && (fe = ke);
            var zt = O.convert(Ne) + x, Rn = E.convert(fe, { strict: !1 });
            return { x: zt, y: Rn, size: m.size };
          }, j = [], J = [], U = { itemId: v, points: [], yValues: [] }, Y = { itemId: v, points: [] }, X = {
            itemId: v,
            fillSelectionData: Y,
            labelData: j,
            nodeData: J,
            strokeSelectionData: U
          }, ne = Y.points, K = [], ee = U.points, ie = U.yValues, le = -1, l == null || l.forEach(function(Ne) {
            var ke = ji(Ne.keys, 1), Q = ke[0], fe = Ne.datum, De = Ne.values;
            De.forEach(function(Ve, Ct) {
              var zt;
              le++;
              var Rn = fe[Ct], Dn = Ve[F], Bf = Ve[P], ms = Ve[M], Hf = Ve[I], Ii = Ve[N], md = Ve[k], Cd = Dn != null, Cs = B(Q, +md, Dn);
              if (Cd && m && J.push({
                index: le,
                series: He,
                itemId: v,
                datum: Rn,
                nodeMidPoint: { x: Cs.x, y: Cs.y },
                cumulativeValue: ms,
                yValue: Dn,
                xValue: Q,
                yKey: v,
                xKey: y,
                point: Cs,
                fill: S,
                stroke: b
              }), Cd && C) {
                var Ss = void 0;
                C.formatter ? Ss = (zt = c.call(C.formatter, { value: Dn, seriesId: _ })) !== null && zt !== void 0 ? zt : "" : Ss = mr(Dn) ? Number(Dn).toFixed(2) : String(Dn), j.push({
                  index: le,
                  itemId: v,
                  point: Cs,
                  label: Ss ? {
                    text: Ss,
                    fontStyle: C.fontStyle,
                    fontWeight: C.fontWeight,
                    fontSize: C.fontSize,
                    fontFamily: C.fontFamily,
                    textAlign: "center",
                    textBaseline: "bottom",
                    fill: C.color
                  } : void 0
                });
              }
              var jf = [Ce, Q], uo = [Hf, Bf], fu = [Ii, ms];
              if (jf.some(function(vu) {
                return vu == null;
              })) {
                Ce = Q;
                return;
              }
              uo.some(function(vu) {
                return vu == null;
              }) && (uo[0] = 0, uo[1] = 0), fu.some(function(vu) {
                return vu == null;
              }) && (fu[0] = 0, fu[1] = 0);
              var Wf = L(Ce, +uo[0], +fu[0]);
              ne.push(Wf[0]), K.push(Wf[1]);
              var $f = L(Q, +uo[1], +fu[1]);
              ne.push($f[0]), K.push($f[1]), ee.push({ x: NaN, y: NaN }), ie.push(void 0), Ii != null && (ee.push(Wf[0]), ie.push(Ii)), ms != null && (ee.push($f[0]), ie.push(ms)), Ce = Q;
            });
          }), ye = K.length - 1; ye >= 0; ye--)
            ne.push(K[ye]);
          return [2, [X]];
        });
      });
    }, t.prototype.isPathOrSelectionDirty = function() {
      return this.marker.isDirty();
    }, t.prototype.markerFactory = function() {
      var e = this.marker.shape, r = lu(e);
      return new r();
    }, t.prototype.updateMarkerSelection = function(e) {
      return Ws(this, void 0, void 0, function() {
        var r, n, i, a;
        return $s(this, function(s) {
          return r = e.nodeData, n = e.markerSelection, i = this.marker.enabled, a = i && r ? r : [], this.marker.isDirty() && n.clear(), [2, n.update(a, function(l) {
            l.tag = Tl.Marker;
          })];
        });
      });
    }, t.prototype.updateMarkerNodes = function(e) {
      var r;
      return Ws(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M;
        return $s(this, function(F) {
          return n = e.markerSelection, i = e.isHighlight, a = this, s = a.id, l = a.xKey, u = l === void 0 ? "" : l, c = a.marker, d = a.fill, p = a.stroke, h = a.fillOpacity, f = a.marker.fillOpacity, v = f === void 0 ? h : f, g = a.strokeOpacity, y = a.highlightStyle.item, m = y.fill, C = y.fillOpacity, S = C === void 0 ? v : C, b = y.stroke, _ = y.strokeWidth, O = a.visible, E = a.ctx.callbackCache, D = c.size, x = c.formatter, P = (r = c.strokeWidth) !== null && r !== void 0 ? r : this.strokeWidth, M = typeof c.shape == "function", n.each(function(I, N) {
            var k, L, B, j, J, U, Y, X, ne = i && m !== void 0 ? m : (k = c.fill) !== null && k !== void 0 ? k : d, K = i ? S : v, ee = i && b !== void 0 ? b : (L = c.stroke) !== null && L !== void 0 ? L : p, ie = i && _ !== void 0 ? _ : P, le = void 0;
            x && (le = E.call(x, {
              datum: N.datum,
              xKey: u,
              yKey: N.yKey,
              fill: ne,
              stroke: ee,
              strokeWidth: ie,
              size: D,
              highlighted: i,
              seriesId: s
            })), I.fill = (B = le == null ? void 0 : le.fill) !== null && B !== void 0 ? B : ne, I.stroke = (j = le == null ? void 0 : le.stroke) !== null && j !== void 0 ? j : ee, I.strokeWidth = (J = le == null ? void 0 : le.strokeWidth) !== null && J !== void 0 ? J : ie, I.fillOpacity = K != null ? K : 1, I.strokeOpacity = (Y = (U = c.strokeOpacity) !== null && U !== void 0 ? U : g) !== null && Y !== void 0 ? Y : 1, I.size = (X = le == null ? void 0 : le.size) !== null && X !== void 0 ? X : D, I.translationX = N.point.x, I.translationY = N.point.y, I.visible = I.size > 0 && O && !isNaN(N.point.x) && !isNaN(N.point.y), !(!M || I.dirtyPath) && (I.path.clear({ trackChanges: !0 }), I.updatePath(), I.checkPathDirty());
          }), i || this.marker.markClean(), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateLabelSelection = function(e) {
      return Ws(this, void 0, void 0, function() {
        var r, n;
        return $s(this, function(i) {
          return r = e.labelData, n = e.labelSelection, [2, n.update(r, function(a) {
            a.tag = Tl.Label;
          })];
        });
      });
    }, t.prototype.updateLabelNodes = function(e) {
      return Ws(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c;
        return $s(this, function(d) {
          return r = e.labelSelection, n = this.label, i = n.enabled, a = n.fontStyle, s = n.fontWeight, l = n.fontSize, u = n.fontFamily, c = n.color, r.each(function(p, h) {
            var f = h.point, v = h.label;
            v && i ? (p.fontStyle = a, p.fontWeight = s, p.fontSize = l, p.fontFamily = u, p.textAlign = v.textAlign, p.textBaseline = v.textBaseline, p.text = v.text, p.x = f.x, p.y = f.y - 10, p.fill = c, p.visible = !0) : p.visible = !1;
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getNodeClickEvent = function(e, r) {
      var n;
      return new If((n = this.xKey) !== null && n !== void 0 ? n : "", r.yKey, e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      var n;
      return new Ff((n = this.xKey) !== null && n !== void 0 ? n : "", r.yKey, e, r, this);
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i, a = this, s = a.xKey, l = a.id, u = a.axes, c = a.xName, d = a.yName, p = a.fill, h = a.stroke, f = a.tooltip, v = a.marker, g = a.dataModel, y = e.yKey, m = e.xValue, C = e.yValue, S = e.datum, b = u[ue.X], _ = u[ue.Y];
      if (!(s && y) || !(b && _ && mr(C)) || !g)
        return "";
      var O = g.resolveProcessedDataIndexById(this, "yValue-raw").index, E = v.size, D = v.formatter, x = v.strokeWidth, P = v.fill, M = v.stroke, F = b.formatDatum(m), I = _.formatDatum(C), N = (n = (r = this.processedData) === null || r === void 0 ? void 0 : r.data[e.index]) === null || n === void 0 ? void 0 : n.values[0][O], k = er(d), L = er(F + ": " + I), B = x != null ? x : this.strokeWidth, j = P != null ? P : p, J = M != null ? M : h, U = void 0;
      D && (U = D({
        datum: S,
        xKey: s,
        yKey: y,
        fill: j,
        stroke: J,
        strokeWidth: B,
        size: E,
        highlighted: !1,
        seriesId: l
      }));
      var Y = (i = U == null ? void 0 : U.fill) !== null && i !== void 0 ? i : j, X = {
        title: k,
        backgroundColor: Y,
        content: L
      }, ne = f.renderer, K = f.format;
      if (K || ne) {
        var ee = {
          datum: S,
          xKey: s,
          xName: c,
          xValue: m,
          yKey: y,
          yValue: C,
          processedYValue: N,
          yName: d,
          color: Y,
          title: k,
          seriesId: l
        };
        if (K)
          return ur({
            content: wx(K, ee)
          }, X);
        if (ne)
          return ur(ne(ee), X);
      }
      return ur(X);
    }, t.prototype.getLegendData = function() {
      var e, r, n, i, a = this, s = a.data, l = a.id, u = a.xKey, c = a.yKey, d = a.yName, p = a.marker, h = a.fill, f = a.stroke, v = a.fillOpacity, g = a.strokeOpacity, y = a.visible;
      return !(s != null && s.length) || !u || !c ? [] : [
        {
          legendType: "category",
          id: l,
          itemId: c,
          seriesId: l,
          enabled: y,
          label: {
            text: d != null ? d : c
          },
          marker: {
            shape: p.shape,
            fill: (e = p.fill) !== null && e !== void 0 ? e : h,
            stroke: (r = p.stroke) !== null && r !== void 0 ? r : f,
            fillOpacity: (n = p.fillOpacity) !== null && n !== void 0 ? n : v,
            strokeOpacity: (i = p.strokeOpacity) !== null && i !== void 0 ? i : g
          }
        }
      ];
    }, t.prototype.animateEmptyUpdateReady = function(e) {
      var r = this, n = e.markerSelections, i = e.labelSelections, a = e.contextData, s = e.paths, l = e.seriesRect, u = this, c = u.stroke, d = u.fill, p = u.fillOpacity, h = u.lineDash, f = u.lineDashOffset, v = u.strokeOpacity, g = u.strokeWidth, y = u.shadow;
      a.forEach(function(m, C) {
        var S, b, _, O, E, D = m.fillSelectionData, x = m.strokeSelectionData, P = m.itemId, M = ji(s[C], 2), F = M[0], I = M[1], N = (b = (S = r.ctx.animationManager) === null || S === void 0 ? void 0 : S.defaultOptions.duration) !== null && b !== void 0 ? b : 1e3, k = 200, L = {
          from: 0,
          to: (_ = l == null ? void 0 : l.width) !== null && _ !== void 0 ? _ : 0,
          duration: N
        };
        {
          var B = x.points, j = x.yValues;
          I.tag = Tl.Stroke, I.fill = void 0, I.lineJoin = I.lineCap = "round", I.pointerEvents = yr.None, I.stroke = c, I.strokeWidth = r.getStrokeWidth(r.strokeWidth, { itemId: P }), I.strokeOpacity = v, I.lineDash = h, I.lineDashOffset = f, (O = r.ctx.animationManager) === null || O === void 0 || O.animate(r.id + "_empty-update-ready_stroke_" + C, Lo(Lo({}, L), { onUpdate: function(X) {
            I.path.clear({ trackChanges: !0 });
            var ne = !0;
            B.forEach(function(K, ee) {
              if (j[ee] === void 0 || isNaN(K.x) || isNaN(K.y))
                ne = !0;
              else if (K.x <= X)
                ne ? (I.path.moveTo(K.x, K.y), ne = !1) : I.path.lineTo(K.x, K.y);
              else if (ee > 0 && j[ee] !== void 0 && j[ee - 1] !== void 0 && B[ee - 1].x <= X) {
                var ie = B[ee - 1], le = K, Ce = X, ye = ie.y + (Ce - ie.x) * (le.y - ie.y) / (le.x - ie.x);
                I.path.lineTo(Ce, ye);
              }
            }), I.checkPathDirty();
          } }));
        }
        {
          var J = D.points, U = J.slice(0, J.length / 2), Y = J.slice(J.length / 2);
          F.tag = Tl.Fill, F.stroke = void 0, F.lineJoin = "round", F.pointerEvents = yr.None, F.fill = d, F.fillOpacity = p, F.strokeOpacity = v, F.strokeWidth = g, F.lineDash = h, F.lineDashOffset = f, F.fillShadow = y, (E = r.ctx.animationManager) === null || E === void 0 || E.animate(r.id + "_empty-update-ready_fill_" + C, Lo(Lo({}, L), { onUpdate: function(X) {
            F.path.clear({ trackChanges: !0 });
            var ne = 0, K = 0;
            U.forEach(function(ee, ie) {
              if (ee.x <= X)
                ne = ee.x, K = ee.y, F.path.lineTo(ee.x, ee.y);
              else if (ie > 0 && U[ie - 1].x < X) {
                var le = U[ie - 1], Ce = ee;
                ne = X, K = le.y + (ne - le.x) * (Ce.y - le.y) / (Ce.x - le.x), F.path.lineTo(ne, K);
              }
            }), Y.forEach(function(ee, ie) {
              var le = Y.length - ie - 1;
              if (ee.x <= X)
                F.path.lineTo(ee.x, ee.y);
              else if (le > 0 && U[le - 1].x < X) {
                var Ce = ee, ye = Y[ie + 1], He = Ce.y + (ne - Ce.x) * (ye.y - Ce.y) / (ye.x - Ce.x);
                F.path.lineTo(ne, He);
              }
            }), Y.length > 0 && F.path.lineTo(Y[Y.length - 1].x, Y[Y.length - 1].y), F.path.closePath(), F.checkPathDirty();
          } }));
        }
        n[C].each(function(X, ne) {
          var K, ee, ie, le, Ce = l != null && l.width ? ne.point.x / l.width * N : 0, ye = r.animateFormatter(ne), He = (ee = (K = ne.point) === null || K === void 0 ? void 0 : K.size) !== null && ee !== void 0 ? ee : 0;
          (ie = r.ctx.animationManager) === null || ie === void 0 || ie.animate(r.id + "_empty-update-ready_" + X.id, Lo(Lo({}, L), { to: (le = ye == null ? void 0 : ye.size) !== null && le !== void 0 ? le : He, delay: Ce, duration: k, onUpdate: function($e) {
            X.size = $e;
          } }));
        }), i[C].each(function(X, ne) {
          var K, ee = l != null && l.width ? ne.point.x / l.width * N : 0;
          (K = r.ctx.animationManager) === null || K === void 0 || K.animate(r.id + "_empty-update-ready_" + X.id, {
            from: 0,
            to: 1,
            delay: ee,
            duration: k,
            onUpdate: function(ie) {
              X.opacity = ie;
            }
          });
        });
      });
    }, t.prototype.animateReadyUpdate = function(e) {
      var r = this, n = e.contextData, i = e.paths, a = this, s = a.stroke, l = a.fill, u = a.fillOpacity, c = a.lineDash, d = a.lineDashOffset, p = a.strokeOpacity, h = a.strokeWidth, f = a.shadow;
      n.forEach(function(v, g) {
        var y = v.strokeSelectionData, m = v.fillSelectionData, C = v.itemId, S = ji(i[g], 2), b = S[0], _ = S[1];
        _.stroke = s, _.strokeWidth = r.getStrokeWidth(r.strokeWidth, { itemId: C }), _.strokeOpacity = p, _.lineDash = c, _.lineDashOffset = d, _.path.clear({ trackChanges: !0 });
        var O = !0;
        y.points.forEach(function(E, D) {
          y.yValues[D] === void 0 || isNaN(E.x) || isNaN(E.y) ? O = !0 : O ? (_.path.moveTo(E.x, E.y), O = !1) : _.path.lineTo(E.x, E.y);
        }), _.checkPathDirty(), b.fill = l, b.fillOpacity = u, b.strokeOpacity = p, b.strokeWidth = h, b.lineDash = c, b.lineDashOffset = d, b.fillShadow = f, b.path.clear({ trackChanges: !0 }), m.points.forEach(function(E) {
          b.path.lineTo(E.x, E.y);
        }), b.path.closePath(), b.checkPathDirty();
      });
    }, t.prototype.animateFormatter = function(e) {
      var r, n, i, a = this, s = a.marker, l = a.fill, u = a.stroke, c = a.xKey, d = c === void 0 ? "" : c, p = a.id, h = a.ctx.callbackCache, f = s.size, v = s.formatter, g = (r = s.fill) !== null && r !== void 0 ? r : l, y = (n = s.stroke) !== null && n !== void 0 ? n : u, m = (i = s.strokeWidth) !== null && i !== void 0 ? i : this.strokeWidth, C = void 0;
      return v && (C = h.call(v, {
        datum: e.datum,
        xKey: d,
        yKey: e.yKey,
        fill: g,
        stroke: y,
        strokeWidth: m,
        size: f,
        highlighted: !1,
        seriesId: p
      })), C;
    }, t.prototype.isLabelEnabled = function() {
      return this.label.enabled;
    }, t.className = "AreaSeries", t.type = "area", wr([
      A(en)
    ], t.prototype, "fill", void 0), wr([
      A(en)
    ], t.prototype, "stroke", void 0), wr([
      A(ae(0, 1))
    ], t.prototype, "fillOpacity", void 0), wr([
      A(ae(0, 1))
    ], t.prototype, "strokeOpacity", void 0), wr([
      A(su)
    ], t.prototype, "lineDash", void 0), wr([
      A(ae(0))
    ], t.prototype, "lineDashOffset", void 0), wr([
      A(Oe)
    ], t.prototype, "xKey", void 0), wr([
      A(Oe)
    ], t.prototype, "xName", void 0), wr([
      A(Oe)
    ], t.prototype, "yKey", void 0), wr([
      A(Oe)
    ], t.prototype, "yName", void 0), wr([
      A(tt(0))
    ], t.prototype, "normalizedTo", void 0), wr([
      A(ae(0))
    ], t.prototype, "strokeWidth", void 0), t;
  }(hd)
), a4 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zs = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Un = (
  /** @class */
  function(o) {
    a4(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.borderPath = new Ty(), e.x = 0, e.y = 0, e.width = 10, e.height = 10, e.radius = 0, e.crisp = !1, e.lastUpdatePathStrokeWidth = xi.defaultStyles.strokeWidth, e.effectiveStrokeWidth = xi.defaultStyles.strokeWidth, e.microPixelEffectOpacity = 1, e;
    }
    return t.prototype.isDirtyPath = function() {
      var e;
      return !!(this.lastUpdatePathStrokeWidth !== this.strokeWidth || this.path.isDirty() || this.borderPath.isDirty() || !((e = this.clipPath) === null || e === void 0) && e.isDirty());
    }, t.prototype.updatePath = function() {
      var e, r, n, i = this, a = i.path, s = i.borderPath, l = i.crisp, u = this, c = u.x, d = u.y, p = u.width, h = u.height, f = u.strokeWidth, v = (r = (e = this.layerManager) === null || e === void 0 ? void 0 : e.canvas.pixelRatio) !== null && r !== void 0 ? r : 1, g = 1 / v, y = 1;
      if (a.clear({ trackChanges: !0 }), s.clear({ trackChanges: !0 }), l && (p <= g && (y *= p / g), h <= g && (y *= h / g), p = this.align(c, p), h = this.align(d, h), c = this.align(c), d = this.align(d)), f)
        if (p < g) {
          var m = c + g / 2;
          s.moveTo(m, d), s.lineTo(m, d + h), f = g, this.borderClipPath = void 0;
        } else if (h < g) {
          var C = d + g / 2;
          s.moveTo(c, C), s.lineTo(c + p, C), f = g, this.borderClipPath = void 0;
        } else if (f < p && f < h) {
          var S = f / 2;
          c += S, d += S, p -= f, h -= f, this.borderClipPath = void 0, a.rect(c, d, p, h), s.rect(c, d, p, h);
        } else
          this.borderClipPath = (n = this.borderClipPath) !== null && n !== void 0 ? n : new Ty(), this.borderClipPath.clear({ trackChanges: !0 }), this.borderClipPath.rect(c, d, p, h), s.rect(c, d, p, h);
      else
        this.borderClipPath = void 0, a.rect(c, d, p, h);
      this.effectiveStrokeWidth = f, this.lastUpdatePathStrokeWidth = f, this.microPixelEffectOpacity = y;
    }, t.prototype.computeBBox = function() {
      var e = this, r = e.x, n = e.y, i = e.width, a = e.height;
      return new Ye(r, n, i, a);
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.transformPoint(e, r), i = this.computeBBox();
      return i.containsPoint(n.x, n.y);
    }, t.prototype.applyFillAlpha = function(e) {
      var r = this, n = r.fillOpacity, i = r.microPixelEffectOpacity, a = r.opacity, s = e.globalAlpha;
      e.globalAlpha = s * a * n * i;
    }, t.prototype.renderStroke = function(e) {
      var r = this, n = r.stroke, i = r.effectiveStrokeWidth, a = r.borderPath, s = r.borderClipPath, l = r.opacity, u = r.microPixelEffectOpacity, c = !!n && !!i;
      if (c) {
        var d = this, p = d.strokeOpacity, h = d.lineDash, f = d.lineDashOffset, v = d.lineCap, g = d.lineJoin;
        s && (s.draw(e), e.clip()), a.draw(e);
        var y = e.globalAlpha;
        e.strokeStyle = n, e.globalAlpha = y * l * p * u, e.lineWidth = i, h && e.setLineDash(h), f && (e.lineDashOffset = f), v && (e.lineCap = v), g && (e.lineJoin = g), e.stroke(), e.globalAlpha = y;
      }
    }, t.className = "Rect", zs([
      lt()
    ], t.prototype, "x", void 0), zs([
      lt()
    ], t.prototype, "y", void 0), zs([
      lt()
    ], t.prototype, "width", void 0), zs([
      lt()
    ], t.prototype, "height", void 0), zs([
      lt()
    ], t.prototype, "radius", void 0), zs([
      lt()
    ], t.prototype, "crisp", void 0), t;
  }(xr)
), Iy = function() {
  return Iy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Iy.apply(this, arguments);
}, s4 = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, l4 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
};
function u4(o) {
  var t = o.value, e = o.rect, r = o.placement, n = o.seriesId, i = o.padding, a = i === void 0 ? 0 : i, s = o.formatter, l = o.barAlongX, u = o.ctx.callbackCache, c;
  s && (c = u.call(s, {
    value: mr(t) ? t : void 0,
    seriesId: n
  })), c === void 0 && (c = mr(t) ? t.toFixed(2) : "");
  var d = e.x + e.width / 2, p = e.y + e.height / 2, h = "center", f = "middle", v = t >= 0;
  switch (r) {
    case "start": {
      l ? (d = v ? e.x - a : e.x + e.width + a, h = v ? "start" : "end") : (p = v ? e.y + e.height + a : e.y - a, f = v ? "top" : "bottom");
      break;
    }
    case "outside":
    case "end": {
      l ? (d = v ? e.x + e.width + a : e.x - a, h = v ? "start" : "end") : (p = v ? e.y - a : e.y + e.height + a, f = v ? "bottom" : "top");
      break;
    }
    case "inside":
    default: {
      f = "middle";
      break;
    }
  }
  return {
    text: c,
    textAlign: h,
    textBaseline: f,
    x: d,
    y: p
  };
}
function c4(o) {
  var t = o.rect, e = o.config, r = e.crisp, n = r === void 0 ? !0 : r, i = e.fill, a = e.stroke, s = e.strokeWidth, l = e.fillOpacity, u = e.strokeOpacity, c = e.lineDash, d = e.lineDashOffset, p = e.fillShadow, h = e.visible, f = h === void 0 ? !0 : h;
  t.crisp = n, t.fill = i, t.stroke = a, t.strokeWidth = s, t.fillOpacity = l, t.strokeOpacity = u, t.lineDash = c, t.lineDashOffset = d, t.fillShadow = p, t.visible = f;
}
function d4(o) {
  var t, e, r, n, i, a, s, l = o.datum, u = o.isHighlighted, c = o.style, d = o.highlightStyle, p = o.formatter, h = o.seriesId, f = o.stackGroup, v = o.ctx.callbackCache, g = s4(o, ["datum", "isHighlighted", "style", "highlightStyle", "formatter", "seriesId", "stackGroup", "ctx"]), y = u && (t = d.fill) !== null && t !== void 0 ? t : c.fill, m = u && (e = d.stroke) !== null && e !== void 0 ? e : c.stroke, C = u && (r = d.strokeWidth) !== null && r !== void 0 ? r : c.strokeWidth, S = u && (n = d.fillOpacity) !== null && n !== void 0 ? n : c.fillOpacity, b = c.strokeOpacity, _ = c.fillShadow, O = c.lineDash, E = c.lineDashOffset, D = void 0;
  return p && (D = v.call(p, Iy({ datum: l.datum, xKey: l.xKey, yKey: l.yKey, fill: y, stroke: m, strokeWidth: C, highlighted: u, seriesId: h, stackGroup: f }, g))), {
    fill: (i = D == null ? void 0 : D.fill) !== null && i !== void 0 ? i : y,
    stroke: (a = D == null ? void 0 : D.stroke) !== null && a !== void 0 ? a : m,
    strokeWidth: (s = D == null ? void 0 : D.strokeWidth) !== null && s !== void 0 ? s : C,
    fillOpacity: S,
    strokeOpacity: b,
    lineDash: O,
    lineDashOffset: E,
    fillShadow: _
  };
}
function p4(o) {
  o === void 0 && (o = []);
  var t = l4(o, 2), e = t[0], r = t[1], n = e !== 0 || r !== 1, i = !n;
  return i;
}
function h4(o) {
  var t = o.labelNode, e = o.labelDatum, r = o.config, n = o.visible;
  if (e && r && r.enabled) {
    var i = e.x, a = e.y, s = e.text, l = e.textAlign, u = e.textBaseline, c = r.fontStyle, d = r.fontWeight, p = r.fontSize, h = r.fontFamily, f = r.color;
    t.fontStyle = c, t.fontWeight = d, t.fontSize = p, t.fontFamily = h, t.textAlign = l, t.textBaseline = u, t.text = s, t.x = i, t.y = a, t.fill = f, t.visible = n;
  } else
    t.visible = !1;
}
var Lf = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Jt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ks = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Ys = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Xs = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Dp = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, f4 = ["inside", "outside"], v4 = function(o, t) {
  return yt(o, t, function(e) {
    return f4.includes(e);
  });
}, zh;
(function(o) {
  o[o.Bar = 0] = "Bar", o[o.Label = 1] = "Label";
})(zh || (zh = {}));
var g4 = (
  /** @class */
  function(o) {
    Lf(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e.placement = "inside", e;
    }
    return Jt([
      A(mt)
    ], t.prototype, "formatter", void 0), Jt([
      A(v4)
    ], t.prototype, "placement", void 0), t;
  }(Yn)
), y4 = (
  /** @class */
  function(o) {
    Lf(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e;
    }
    return Jt([
      A(mt)
    ], t.prototype, "renderer", void 0), t;
  }(gs)
), _x = (
  /** @class */
  function(o) {
    Lf(t, o);
    function t(e) {
      var r = o.call(this, {
        moduleCtx: e,
        pickModes: [Lt.EXACT_SHAPE_MATCH],
        pathsPerSeries: 0,
        hasHighlightedLabels: !0
      }) || this;
      return r.label = new g4(), r.tooltip = new y4(), r.fill = "#c16068", r.stroke = "#874349", r.fillOpacity = 1, r.strokeOpacity = 1, r.lineDash = [0], r.lineDashOffset = 0, r.formatter = void 0, r.xKey = void 0, r.xName = void 0, r.yKey = void 0, r.yName = void 0, r.groupScale = new Tr(), r.stackGroup = void 0, r.strokeWidth = 1, r.shadow = void 0, r.smallestDataInterval = void 0, r.datumSelectionGarbageCollection = !1, r.label.enabled = !1, r;
    }
    return t.prototype.resolveKeyDirection = function(e) {
      return this.getBarDirection() === ue.X ? e === ue.X ? ue.Y : ue.X : e;
    }, t.prototype.processData = function(e) {
      var r, n, i, a, s;
      return Ks(this, void 0, void 0, function() {
        var l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P;
        return Ys(this, function(M) {
          switch (M.label) {
            case 0:
              return l = this, u = l.xKey, c = l.yKey, d = l.normalizedTo, p = l.seriesGrouping, h = p === void 0 ? {} : p, f = h.groupIndex, v = f === void 0 ? this.id : f, g = l.data, y = g === void 0 ? [] : g, m = Math.abs(d != null ? d : NaN), C = ((r = this.getCategoryAxis()) === null || r === void 0 ? void 0 : r.scale) instanceof it, S = ((n = this.getValueAxis()) === null || n === void 0 ? void 0 : n.scale) instanceof it, b = "bar-stack-" + v + "-yValues", _ = b + "-trailing", O = m && isFinite(m) ? m : void 0, E = [], O && E.push(Oy(this, [b, _], O, "range")), !(!((i = this.ctx.animationManager) === null || i === void 0) && i.skipAnimations) && this.processedData && E.push(MO(this.processedData)), [4, e.request(this.id, y, {
                props: Dp(Dp(Dp(Dp([
                  sC(this, u, C, { id: "xValue" }),
                  or(this, c, S, { id: "yValue-raw", invalidValue: null })
                ], Xs(ja(this, c, S, "normal", "current", {
                  id: "yValue-end",
                  invalidValue: null,
                  groupId: b
                }))), Xs(ja(this, c, S, "trailing", "current", {
                  id: "yValue-start",
                  invalidValue: null,
                  groupId: _
                }))), Xs(C ? [dg] : [])), Xs(E)),
                groupByKeys: !0,
                dataVisible: this.visible
              })];
            case 1:
              return D = M.sent(), x = D.dataModel, P = D.processedData, this.dataModel = x, this.processedData = P, this.smallestDataInterval = {
                x: (s = (a = P.reduced) === null || a === void 0 ? void 0 : a[dg.property]) !== null && s !== void 0 ? s : 1 / 0,
                y: 1 / 0
              }, this.animationState.transition("updateData"), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.getDomain = function(e) {
      var r, n = this, i = n.processedData, a = n.dataModel;
      if (!i || !a)
        return [];
      var s = i, l = s.reduced, u = l === void 0 ? {} : l, c = dg.property, d = u[c], p = this.getCategoryAxis(), h = this.getValueAxis(), f = a.resolveProcessedDataDefById(this, "xValue"), v = a.getDomain(this, "xValue", "key", i), g = a.getDomain(this, "yValue-end", "value", i);
      if (e === this.getCategoryDirection()) {
        if ((f == null ? void 0 : f.def.type) === "key" && (f == null ? void 0 : f.def.valueType) === "category")
          return v;
        var y = isFinite(d) ? d : 0, m = (r = rn(v)) !== null && r !== void 0 ? r : [NaN, NaN];
        return e === ue.Y ? this.fixNumericExtent([m[0] + -y, m[1]], p) : this.fixNumericExtent([m[0], m[1] + y], p);
      } else {
        if (this.getValueAxis() instanceof Wh)
          return this.fixNumericExtent(g, h);
        var C = [g[0] > 0 ? 0 : g[0], g[1] < 0 ? 0 : g[1]];
        return this.fixNumericExtent(C, h);
      }
    }, t.prototype.getNodeClickEvent = function(e, r) {
      var n;
      return new If((n = this.xKey) !== null && n !== void 0 ? n : "", r.yKey, e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      var n;
      return new Ff((n = this.xKey) !== null && n !== void 0 ? n : "", r.yKey, e, r, this);
    }, t.prototype.getCategoryAxis = function() {
      var e = this.getCategoryDirection();
      return this.axes[e];
    }, t.prototype.getValueAxis = function() {
      var e = this.getBarDirection();
      return this.axes[e];
    }, t.prototype.calculateStep = function(e) {
      var r, n = this.smallestDataInterval, i = this.getCategoryAxis();
      if (i) {
        var a = i.dataDomain[1] - i.dataDomain[0], s = a / ((r = n == null ? void 0 : n.x) !== null && r !== void 0 ? r : 1) + 1, l = Math.floor(e), u = Math.min(s, l), c = e / Math.max(1, u);
        return c;
      }
    }, t.prototype.createNodeData = function() {
      return Ks(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F, I, N, k, L, B, j, J, U = this;
        return Ys(this, function(Y) {
          if (e = this, r = e.visible, n = e.dataModel, i = this.getCategoryAxis(), a = this.getValueAxis(), !(n && r && i && a))
            return [2, []];
          for (s = i.scale, l = a.scale, u = this, c = u.groupScale, d = u.yKey, p = d === void 0 ? "" : d, h = u.xKey, f = h === void 0 ? "" : h, v = u.fill, g = u.stroke, y = u.strokeWidth, m = u.label, C = u.id, S = u.processedData, b = u.ctx, _ = u.ctx.seriesStateManager, O = s.bandwidth, s instanceof it && (E = Math.max(i.range[0], i.range[1]), D = this.calculateStep(E), O = D), x = [], P = _.getVisiblePeerGroupIndex(this), M = P.index, F = P.visibleGroupCount, I = 0; I < F; I++)
            x.push(String(I));
          return c.domain = x, c.range = [0, O != null ? O : 0], i instanceof Jl ? c.padding = i.groupPaddingInner : i instanceof Hh ? c.padding = 0.1 : c.padding = 0, c.padding === 0 ? c.round = !1 : c.round = !0, N = c.bandwidth >= 1 ? (
            // Pixel-rounded value for low-volume bar charts.
            c.bandwidth
          ) : (
            // Handle high-volume bar charts gracefully.
            c.rawBandwidth
          ), k = n.resolveProcessedDataIndexById(this, "xValue", "key").index, L = n.resolveProcessedDataIndexById(this, "yValue-raw").index, B = n.resolveProcessedDataIndexById(this, "yValue-start").index, j = n.resolveProcessedDataIndexById(this, "yValue-end").index, J = {
            itemId: p,
            nodeData: [],
            labelData: []
          }, S == null || S.data.forEach(function(X, ne) {
            var K = X.keys, ee = X.datum, ie = X.values, le = K[k], Ce = s.convert(le), ye = +ie[0][j], He = +ie[0][B], $e = ie[0][L], Ne = Ce + c.convert(String(M));
            if (i.inRange(Ne, N) && !isNaN(ye)) {
              var ke = l.convert(ye, { strict: !1 }), Q = l.convert(He, { strict: !1 }), fe = U.getBarDirection() === ue.X, De = {
                x: fe ? Math.min(ke, Q) : Ne,
                y: fe ? Ne : Math.min(ke, Q),
                width: fe ? Math.abs(Q - ke) : N,
                height: fe ? N : Math.abs(Q - ke)
              }, Ve = {
                x: De.x + De.width / 2,
                y: De.y + De.height / 2
              }, Ct = m.fontStyle, zt = m.fontWeight, Rn = m.fontSize, Dn = m.fontFamily, Bf = m.color, ms = m.formatter, Hf = m.placement, Ii = u4({ value: $e, rect: De, formatter: ms, placement: Hf, seriesId: C, barAlongX: fe, ctx: b }), md = Ii.text, Cd = Ii.textAlign, Cs = Ii.textBaseline, Ss = Ii.x, jf = Ii.y, uo = {
                index: ne,
                series: U,
                itemId: p,
                datum: ee[0],
                cumulativeValue: He + ye,
                xValue: le,
                yValue: $e,
                yKey: p,
                xKey: f,
                x: De.x,
                y: De.y,
                width: De.width,
                height: De.height,
                nodeMidPoint: Ve,
                fill: v,
                stroke: g,
                strokeWidth: y,
                label: md ? {
                  text: md,
                  fontStyle: Ct,
                  fontWeight: zt,
                  fontSize: Rn,
                  fontFamily: Dn,
                  textAlign: Cd,
                  textBaseline: Cs,
                  fill: Bf,
                  x: Ss,
                  y: jf
                } : void 0
              };
              J.nodeData.push(uo), J.labelData.push(uo);
            }
          }), [2, [J]];
        });
      });
    }, t.prototype.nodeFactory = function() {
      return new Un();
    }, t.prototype.updateDatumSelection = function(e) {
      return Ks(this, void 0, void 0, function() {
        var r, n, i;
        return Ys(this, function(a) {
          return r = e.nodeData, n = e.datumSelection, i = function(s) {
            return s.xValue;
          }, [2, n.update(r, function(s) {
            return s.tag = zh.Bar;
          }, i)];
        });
      });
    }, t.prototype.updateDatumNodes = function(e) {
      return Ks(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b = this;
        return Ys(this, function(_) {
          return r = e.datumSelection, n = e.isHighlight, i = this, a = i.fill, s = i.stroke, l = i.fillOpacity, u = i.strokeOpacity, c = i.lineDash, d = i.lineDashOffset, p = i.shadow, h = i.formatter, f = i.id, v = i.highlightStyle.item, g = i.ctx, y = i.stackGroup, m = this.axes[ue.X], C = p4(m == null ? void 0 : m.visibleRange), S = this.getCategoryDirection() === ue.X, r.each(function(O, E) {
            var D = {
              fill: a,
              stroke: s,
              fillOpacity: l,
              strokeOpacity: u,
              lineDash: c,
              lineDashOffset: d,
              fillShadow: p,
              strokeWidth: b.getStrokeWidth(b.strokeWidth, E)
            }, x = S ? E.width > 0 : E.height > 0, P = d4({
              datum: E,
              isHighlighted: n,
              style: D,
              highlightStyle: v,
              formatter: h,
              seriesId: f,
              stackGroup: y,
              ctx: g
            });
            P.crisp = C, P.visible = x, c4({ rect: O, config: P });
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateLabelSelection = function(e) {
      return Ks(this, void 0, void 0, function() {
        var r, n, i, a;
        return Ys(this, function(s) {
          return r = e.labelData, n = e.labelSelection, i = this.label.enabled, a = i ? r : [], [2, n.update(a, function(l) {
            l.tag = zh.Label, l.pointerEvents = yr.None;
          })];
        });
      });
    }, t.prototype.updateLabelNodes = function(e) {
      return Ks(this, void 0, void 0, function() {
        var r, n = this;
        return Ys(this, function(i) {
          return r = e.labelSelection, r.each(function(a, s) {
            var l = s.label;
            h4({ labelNode: a, labelDatum: l, config: n.label, visible: !0 });
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n = this, i = n.xKey, a = n.yKey, s = n.processedData, l = n.ctx.callbackCache, u = this.getCategoryAxis(), c = this.getValueAxis(), d = e.xValue, p = e.yValue, h = e.datum;
      if (!s || !i || !a || !u || !c)
        return "";
      var f = this, v = f.xName, g = f.yName, y = f.fill, m = f.stroke, C = f.tooltip, S = f.formatter, b = f.id, _ = f.stackGroup, O = C.renderer, E = this.getStrokeWidth(this.strokeWidth), D = er(u.formatDatum(d)), x = er(c.formatDatum(p)), P = er(g), M = D + ": " + x, F = void 0;
      S && (F = l.call(S, {
        datum: h,
        fill: y,
        stroke: m,
        strokeWidth: E,
        highlighted: !1,
        xKey: i,
        yKey: a,
        seriesId: b,
        stackGroup: _
      }));
      var I = (r = F == null ? void 0 : F.fill) !== null && r !== void 0 ? r : y, N = {
        title: P,
        backgroundColor: I,
        content: M
      };
      return O ? ur(O({
        datum: h,
        xKey: i,
        xValue: d,
        xName: v,
        yKey: a,
        yValue: p,
        yName: g,
        color: I,
        title: P,
        seriesId: b,
        stackGroup: _
      }), N) : ur(N);
    }, t.prototype.getLegendData = function() {
      var e, r = this, n = r.id, i = r.data, a = r.xKey, s = r.yKey, l = r.yName, u = r.legendItemName, c = r.fill, d = r.stroke, p = r.fillOpacity, h = r.strokeOpacity, f = r.visible, v = r.showInLegend;
      if (!v || !(i != null && i.length) || !a || !s)
        return [];
      var g = [];
      return g.push({
        legendType: "category",
        id: n,
        itemId: s,
        seriesId: n,
        enabled: f,
        label: {
          text: (e = u != null ? u : l) !== null && e !== void 0 ? e : s
        },
        legendItemName: u,
        marker: {
          fill: c,
          stroke: d,
          fillOpacity: p,
          strokeOpacity: h
        }
      }), g;
    }, t.prototype.animateEmptyUpdateReady = function(e) {
      var r = this, n, i, a = e.datumSelections, s = e.labelSelections, l = (i = (n = this.ctx.animationManager) === null || n === void 0 ? void 0 : n.defaultOptions.duration) !== null && i !== void 0 ? i : 1e3, u = 200, c = this.getDirectionStartingValues(a), d = c.startingX, p = c.startingY;
      a.forEach(function(h) {
        h.each(function(f, v) {
          var g, y = d, m = 0, C = v.y, S = v.height;
          r.getBarDirection() === ue.Y && (y = v.x, m = v.width, C = p, S = 0);
          var b = [
            { from: y, to: v.x },
            { from: m, to: v.width },
            { from: C, to: v.y },
            { from: S, to: v.height }
          ];
          (g = r.ctx.animationManager) === null || g === void 0 || g.animateMany(r.id + "_empty-update-ready_" + f.id, b, {
            duration: l,
            ease: Zl,
            onUpdate: function(_) {
              var O = Xs(_, 4), E = O[0], D = O[1], x = O[2], P = O[3];
              f.x = E, f.width = D, f.y = x, f.height = P;
            }
          });
        });
      }), s.forEach(function(h) {
        h.each(function(f) {
          var v;
          (v = r.ctx.animationManager) === null || v === void 0 || v.animate(r.id + "_empty-update-ready_" + f.id, {
            from: 0,
            to: 1,
            delay: l,
            duration: u,
            onUpdate: function(g) {
              f.opacity = g;
            }
          });
        });
      });
    }, t.prototype.animateReadyHighlight = function(e) {
      this.resetSelectionRects(e);
    }, t.prototype.animateReadyResize = function(e) {
      var r = this, n, i = e.datumSelections;
      (n = this.ctx.animationManager) === null || n === void 0 || n.reset(), i.forEach(function(a) {
        r.resetSelectionRects(a);
      });
    }, t.prototype.animateWaitingUpdateReady = function(e) {
      var r = this, n, i, a, s, l, u = e.datumSelections, c = e.labelSelections, d = this.processedData, p = (n = d == null ? void 0 : d.reduced) === null || n === void 0 ? void 0 : n.diff;
      if (!(p != null && p.changed)) {
        u.forEach(function(E) {
          r.resetSelectionRects(E);
        });
        return;
      }
      var h = (a = (i = this.ctx.animationManager) === null || i === void 0 ? void 0 : i.defaultOptions.duration) !== null && a !== void 0 ? a : 1e3, f = 200, v = h;
      (p.added.length > 0 || p.removed.length > 0) && (v = Math.floor(h / 2));
      var g = this.getDirectionStartingValues(u), y = g.startingX, m = g.startingY, C = (l = (s = this.processedData) === null || s === void 0 ? void 0 : s.defs.keys) === null || l === void 0 ? void 0 : l[0], S = {};
      p.added.forEach(function(E) {
        S[E[0]] = !0;
      });
      var b = {};
      p.removed.forEach(function(E) {
        b[E[0]] = !0;
      });
      var _ = this.id + "_" + Math.random(), O = this.id + "_" + Math.random();
      u.forEach(function(E) {
        E.each(function(D, x) {
          var P, M = [
            { from: D.x, to: x.x },
            { from: D.width, to: x.width },
            { from: D.y, to: x.y },
            { from: D.height, to: x.height }
          ], F = p.removed.length > 0 ? v : 0, I = v, N = !1, k = C ? x.xValue : "", L = y, B = 0, j = x.y, J = x.height;
          r.getBarDirection() === ue.Y && (L = x.x, B = x.width, j = m, J = 0);
          var U = k !== void 0 && S[k] !== void 0, Y = k !== void 0 && b[k] !== void 0;
          U ? (M = [
            { from: L, to: x.x },
            { from: B, to: x.width },
            { from: j, to: x.y },
            { from: J, to: x.height }
          ], I = v) : Y && (M = [
            { from: x.x, to: L },
            { from: x.width, to: B },
            { from: x.y, to: j },
            { from: x.height, to: J }
          ], F = 0, I = v, N = !0), (P = r.ctx.animationManager) === null || P === void 0 || P.animateManyWithThrottle(r.id + "_waiting-update-ready_" + D.id, M, {
            delay: F,
            duration: I,
            ease: Zl,
            throttleId: r.id + "_rects",
            throttleGroup: _,
            onUpdate: function(X) {
              var ne = Xs(X, 4), K = ne[0], ee = ne[1], ie = ne[2], le = ne[3];
              D.x = K, D.width = ee, D.y = ie, D.height = le;
            },
            onComplete: function() {
              N && E.cleanup();
            }
          });
        });
      }), c.forEach(function(E) {
        E.each(function(D) {
          var x;
          D.opacity = 0, (x = r.ctx.animationManager) === null || x === void 0 || x.animateWithThrottle(r.id + "_waiting-update-ready_" + D.id, {
            from: 0,
            to: 1,
            delay: h,
            duration: f,
            throttleId: r.id + "_labels",
            throttleGroup: O,
            onUpdate: function(P) {
              D.opacity = P;
            }
          });
        });
      });
    }, t.prototype.resetSelectionRects = function(e) {
      e.each(function(r, n) {
        r.x = n.x, r.y = n.y, r.width = n.width, r.height = n.height;
      }), e.cleanup();
    }, t.prototype.getDirectionStartingValues = function(e) {
      var r = this.getBarDirection() === ue.Y, n = this.axes[ue.X], i = this.axes[ue.Y], a = (n == null ? void 0 : n.scale) instanceof it, s = (i == null ? void 0 : i.scale) instanceof it, l = 1 / 0, u = 0;
      return i && r && (s ? u = i.scale.convert(0) : e.forEach(function(c) {
        return c.each(function(d, p) {
          p.yValue >= 0 && (u = Math.max(u, p.height + p.y));
        });
      })), n && !r && (a ? l = n.scale.convert(0) : e.forEach(function(c) {
        return c.each(function(d, p) {
          p.yValue >= 0 && (l = Math.min(l, p.x));
        });
      })), { startingX: l, startingY: u };
    }, t.prototype.isLabelEnabled = function() {
      return this.label.enabled;
    }, t.prototype.getBandScalePadding = function() {
      return { inner: 0.2, outer: 0.3 };
    }, t.prototype.getBarDirection = function() {
      return ue.X;
    }, t.prototype.getCategoryDirection = function() {
      return ue.Y;
    }, t.className = "BarSeries", t.type = "bar", Jt([
      A(ct)
    ], t.prototype, "fill", void 0), Jt([
      A(ct)
    ], t.prototype, "stroke", void 0), Jt([
      A(ae(0, 1))
    ], t.prototype, "fillOpacity", void 0), Jt([
      A(ae(0, 1))
    ], t.prototype, "strokeOpacity", void 0), Jt([
      A(su)
    ], t.prototype, "lineDash", void 0), Jt([
      A(ae(0))
    ], t.prototype, "lineDashOffset", void 0), Jt([
      A(mt)
    ], t.prototype, "formatter", void 0), Jt([
      A(Oe)
    ], t.prototype, "xKey", void 0), Jt([
      A(Oe)
    ], t.prototype, "xName", void 0), Jt([
      A(Oe)
    ], t.prototype, "yKey", void 0), Jt([
      A(Oe)
    ], t.prototype, "yName", void 0), Jt([
      A(Oe)
    ], t.prototype, "stackGroup", void 0), Jt([
      A(tt())
    ], t.prototype, "normalizedTo", void 0), Jt([
      A(ae(0))
    ], t.prototype, "strokeWidth", void 0), t;
  }(hd)
), m4 = (
  /** @class */
  function(o) {
    Lf(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getBarDirection = function() {
      return ue.Y;
    }, t.prototype.getCategoryDirection = function() {
      return ue.X;
    }, t.type = "column", t.className = "ColumnSeries", t;
  }(_x)
), _C = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Qt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, qs = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Zs = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Po = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, O_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, C4 = ["count", "sum", "mean"], S4 = we(function(o) {
  return C4.includes(o);
}, "expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"), Kh;
(function(o) {
  o[o.Bin = 0] = "Bin", o[o.Label = 1] = "Label";
})(Kh || (Kh = {}));
var w4 = (
  /** @class */
  function(o) {
    _C(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e;
    }
    return Qt([
      A(mt)
    ], t.prototype, "formatter", void 0), t;
  }(Yn)
), x_ = 10, _4 = (
  /** @class */
  function(o) {
    _C(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e;
    }
    return Qt([
      A(mt)
    ], t.prototype, "renderer", void 0), t;
  }(gs)
), b4 = (
  /** @class */
  function(o) {
    _C(t, o);
    function t(e) {
      var r = o.call(this, { moduleCtx: e, pickModes: [Lt.EXACT_SHAPE_MATCH] }) || this;
      return r.label = new w4(), r.tooltip = new _4(), r.fill = void 0, r.stroke = void 0, r.fillOpacity = 1, r.strokeOpacity = 1, r.lineDash = [0], r.lineDashOffset = 0, r.xKey = void 0, r.areaPlot = !1, r.bins = void 0, r.aggregation = "count", r.binCount = void 0, r.xName = void 0, r.yKey = void 0, r.yName = void 0, r.strokeWidth = 1, r.shadow = void 0, r.calculatedBins = [], r.datumSelectionGarbageCollection = !1, r.label.enabled = !1, r;
    }
    return t.prototype.deriveBins = function(e) {
      if (this.binCount === void 0) {
        var r = cC(e[0], e[1], x_), n = Xc(e[0], e[1], x_), i = r[0], a = function(s) {
          return [s, s + n];
        };
        return O_([[i - n, i]], Po(r.map(a)));
      } else
        return this.calculateNiceBins(e, this.binCount);
    }, t.prototype.calculateNiceBins = function(e, r) {
      var n = Math.floor(e[0]), i = e[1], a = r || 1, s = this.calculateNiceStart(n, i, a), l = s.start, u = s.binSize;
      return this.getBins(l, i, u, a);
    }, t.prototype.getBins = function(e, r, n, i) {
      for (var a = [], s = 0; s < i; s++) {
        var l = Math.round((e + s * n) * 10) / 10, u = Math.round((e + (s + 1) * n) * 10) / 10;
        s === i - 1 && (u = Math.max(u, r)), a[s] = [l, u];
      }
      return a;
    }, t.prototype.calculateNiceStart = function(e, r, n) {
      var i = Math.abs(r - e) / n, a = Math.floor(Math.log10(i)), s = Math.pow(10, a), l = Math.floor(e / s) * s;
      return {
        start: l,
        binSize: i
      };
    }, t.prototype.processData = function(e) {
      var r;
      return qs(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, d, p, h, f, v, g = this;
        return Zs(this, function(y) {
          switch (y.label) {
            case 0:
              return n = this, i = n.xKey, a = n.yKey, s = n.data, l = n.areaPlot, u = n.aggregation, c = [sC(this, i, !0), J2], a ? (d = bw(this, "groupCount"), u === "count" || (u === "sum" ? d = X2(this, "groupAgg") : u === "mean" && (d = q2(this, "groupAgg"))), l && (d = Ew(this, "groupAgg", d)), c.push(or(this, a, !0, { invalidValue: void 0 }), d)) : (d = bw(this, "groupAgg"), l && (d = Ew(this, "groupAgg", d)), c.push(d)), p = function(m) {
                var C, S = Kp(m.domain.keys[0]);
                if (S.length === 0)
                  return m.domain.groups = [], function() {
                    return [];
                  };
                var b = (C = g.bins) !== null && C !== void 0 ? C : g.deriveBins(S), _ = b.length;
                return g.calculatedBins = O_([], Po(b)), function(O) {
                  for (var E = O.keys[0], D = 0; D < _; D++) {
                    var x = b[D];
                    if (E >= x[0] && E < x[1] || D === _ - 1 && E <= x[1])
                      return x;
                  }
                  return [];
                };
              }, !(!((r = this.ctx.animationManager) === null || r === void 0) && r.skipAnimations) && this.processedData && c.push(MO(this.processedData, !1)), [4, e.request(this.id, s != null ? s : [], {
                props: c,
                dataVisible: this.visible,
                groupByFn: p
              })];
            case 1:
              return h = y.sent(), f = h.dataModel, v = h.processedData, this.dataModel = f, this.processedData = v, this.animationState.transition("updateData"), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.getDomain = function(e) {
      var r, n, i, a, s = this, l = s.processedData, u = s.dataModel;
      if (!l || !u)
        return [];
      var c = u.getDomain(this, "groupAgg", "aggregate", l), d = (r = this.calculatedBins) === null || r === void 0 ? void 0 : r[0][0], p = (n = this.calculatedBins) === null || n === void 0 ? void 0 : n[((a = (i = this.calculatedBins) === null || i === void 0 ? void 0 : i.length) !== null && a !== void 0 ? a : 0) - 1][1];
      return e === ue.X ? Kp([d, p]) : Kp(c);
    }, t.prototype.getNodeClickEvent = function(e, r) {
      var n, i;
      return new If((n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      var n, i;
      return new Ff((n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.createNodeData = function() {
      var e;
      return qs(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F, I = this;
        return Zs(this, function(N) {
          return r = this, n = r.axes, i = r.processedData, a = r.ctx.callbackCache, s = n[ue.X], l = n[ue.Y], !this.visible || !s || !l || !i || i.type !== "grouped" ? [2, []] : (u = s.scale, c = l.scale, d = this, p = d.fill, h = d.stroke, f = d.strokeWidth, v = d.id, g = d.yKey, y = g === void 0 ? "" : g, m = d.xKey, C = m === void 0 ? "" : m, S = [], b = function(k) {
            return String(k.value);
          }, _ = this.label, O = _.formatter, E = O === void 0 ? b : O, D = _.fontStyle, x = _.fontWeight, P = _.fontSize, M = _.fontFamily, F = _.color, i.data.forEach(function(k) {
            var L, B = k.aggValues, j = B === void 0 ? [[0, 0]] : B, J = Po(j, 1), U = Po(J[0], 2), Y = U[0], X = U[1], ne = k.datum, K = k.datum.length, ee = k.keys, ie = Po(k.keys, 2), le = ie[0], Ce = ie[1], ye = u.convert(le), He = u.convert(Ce), $e = Y + X, Ne = c.convert(0), ke = c.convert($e), Q = He - ye, fe = Math.abs(ke - Ne), De = $e !== 0 ? {
              text: (L = a.call(E, { value: $e, seriesId: v })) !== null && L !== void 0 ? L : String($e),
              fontStyle: D,
              fontWeight: x,
              fontSize: P,
              fontFamily: M,
              fill: F,
              x: ye + Q / 2,
              y: ke + fe / 2
            } : void 0, Ve = {
              x: ye + Q / 2,
              y: ke + fe / 2
            };
            S.push({
              series: I,
              datum: ne,
              // since each selection is an aggregation of multiple data.
              aggregatedValue: $e,
              frequency: K,
              domain: ee,
              yKey: y,
              xKey: C,
              x: ye,
              y: ke,
              xValue: ye,
              yValue: ke,
              width: Q,
              height: fe,
              nodeMidPoint: Ve,
              fill: p,
              stroke: h,
              strokeWidth: f,
              label: De
            });
          }), [2, [{ itemId: (e = this.yKey) !== null && e !== void 0 ? e : this.id, nodeData: S, labelData: S }]]);
        });
      });
    }, t.prototype.nodeFactory = function() {
      return new Un();
    }, t.prototype.updateDatumSelection = function(e) {
      return qs(this, void 0, void 0, function() {
        var r, n;
        return Zs(this, function(i) {
          return r = e.nodeData, n = e.datumSelection, [2, n.update(r, function(a) {
            a.tag = Kh.Bin, a.crisp = !0;
          }, function(a) {
            return a.domain.join("_");
          })];
        });
      });
    }, t.prototype.updateDatumNodes = function(e) {
      return qs(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v = this;
        return Zs(this, function(g) {
          return r = e.datumSelection, n = e.isHighlight, i = this, a = i.fillOpacity, s = i.strokeOpacity, l = i.shadow, u = i.highlightStyle.item, c = u.fill, d = u.fillOpacity, p = d === void 0 ? a : d, h = u.stroke, f = u.strokeWidth, r.each(function(y, m, C) {
            var S, b, _ = n && f !== void 0 ? f : m.strokeWidth, O = n ? p : a;
            y.fill = (S = n ? c : void 0) !== null && S !== void 0 ? S : m.fill, y.stroke = (b = n ? h : void 0) !== null && b !== void 0 ? b : m.stroke, y.fillOpacity = O, y.strokeOpacity = s, y.strokeWidth = _, y.lineDash = v.lineDash, y.lineDashOffset = v.lineDashOffset, y.fillShadow = l, y.zIndex = n ? Af.highlightedZIndex : C, y.visible = m.height > 0;
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateLabelSelection = function(e) {
      return qs(this, void 0, void 0, function() {
        var r, n;
        return Zs(this, function(i) {
          return r = e.labelData, n = e.labelSelection, [2, n.update(r, function(a) {
            a.tag = Kh.Label, a.pointerEvents = yr.None, a.textAlign = "center", a.textBaseline = "middle";
          })];
        });
      });
    }, t.prototype.updateLabelNodes = function(e) {
      return qs(this, void 0, void 0, function() {
        var r, n;
        return Zs(this, function(i) {
          return r = e.labelSelection, n = this.label.enabled, r.each(function(a, s) {
            var l = s.label;
            l && n ? (a.text = l.text, a.x = l.x, a.y = l.y, a.fontStyle = l.fontStyle, a.fontWeight = l.fontWeight, a.fontSize = l.fontSize, a.fontFamily = l.fontFamily, a.fill = l.fill, a.visible = !0) : a.visible = !1;
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getTooltipHtml = function(e) {
      var r = this, n = r.xKey, i = r.yKey, a = i === void 0 ? "" : i, s = r.axes, l = s[ue.X], u = s[ue.Y];
      if (!n || !l || !u)
        return "";
      var c = this, d = c.xName, p = c.yName, h = c.fill, f = c.tooltip, v = c.aggregation, g = c.id, y = f.renderer, m = e.aggregatedValue, C = e.frequency, S = e.domain, b = Po(e.domain, 2), _ = b[0], O = b[1], E = er(d != null ? d : n) + ": " + l.formatDatum(_) + " - " + l.formatDatum(O), D = a ? "<b>" + er(p != null ? p : a) + " (" + v + ")</b>: " + u.formatDatum(m) + "<br>" : "";
      D += "<b>Frequency</b>: " + C;
      var x = {
        title: E,
        backgroundColor: h,
        content: D
      };
      return y ? ur(y({
        datum: {
          data: e.datum,
          aggregatedValue: e.aggregatedValue,
          domain: e.domain,
          frequency: e.frequency
        },
        xKey: n,
        xValue: S,
        xName: d,
        yKey: a,
        yValue: m,
        yName: p,
        color: h,
        title: E,
        seriesId: g
      }), x) : ur(x);
    }, t.prototype.getLegendData = function() {
      var e, r = this, n = r.id, i = r.data, a = r.xKey, s = r.yName, l = r.visible, u = r.fill, c = r.stroke, d = r.fillOpacity, p = r.strokeOpacity;
      if (!i || i.length === 0)
        return [];
      var h = [
        {
          legendType: "category",
          id: n,
          itemId: a,
          seriesId: n,
          enabled: l,
          label: {
            text: (e = s != null ? s : a) !== null && e !== void 0 ? e : "Frequency"
          },
          marker: {
            fill: u != null ? u : "rgba(0, 0, 0, 0)",
            stroke: c != null ? c : "rgba(0, 0, 0, 0)",
            fillOpacity: d,
            strokeOpacity: p
          }
        }
      ];
      return h;
    }, t.prototype.animateEmptyUpdateReady = function(e) {
      var r = this, n, i, a = e.datumSelections, s = e.labelSelections, l = (i = (n = this.ctx.animationManager) === null || n === void 0 ? void 0 : n.defaultOptions.duration) !== null && i !== void 0 ? i : 1e3, u = 200, c = 0;
      a.forEach(function(d) {
        return d.each(function(p, h) {
          c = Math.max(c, h.height + h.y);
        });
      }), a.forEach(function(d) {
        d.each(function(p, h) {
          var f;
          (f = r.ctx.animationManager) === null || f === void 0 || f.animateMany(r.id + "_empty-update-ready_" + p.id, [
            { from: c, to: h.y },
            { from: 0, to: h.height }
          ], {
            duration: l,
            ease: Zl,
            onUpdate: function(v) {
              var g = Po(v, 2), y = g[0], m = g[1];
              p.y = y, p.height = m, p.x = h.x, p.width = h.width;
            }
          });
        });
      }), s.forEach(function(d) {
        d.each(function(p) {
          var h;
          (h = r.ctx.animationManager) === null || h === void 0 || h.animate(r.id + "_empty-update-ready_" + p.id, {
            from: 0,
            to: 1,
            delay: l,
            duration: u,
            onUpdate: function(f) {
              p.opacity = f;
            }
          });
        });
      });
    }, t.prototype.animateReadyUpdate = function(e) {
      var r = this, n = e.datumSelections;
      n.forEach(function(i) {
        r.resetSelectionRects(i);
      });
    }, t.prototype.animateReadyHighlight = function(e) {
      this.resetSelectionRects(e);
    }, t.prototype.animateReadyResize = function(e) {
      var r = this, n, i = e.datumSelections;
      (n = this.ctx.animationManager) === null || n === void 0 || n.reset(), i.forEach(function(a) {
        r.resetSelectionRects(a);
      });
    }, t.prototype.animateWaitingUpdateReady = function(e) {
      var r = this, n, i, a, s = e.datumSelections, l = e.labelSelections, u = this.processedData, c = (n = u == null ? void 0 : u.reduced) === null || n === void 0 ? void 0 : n.diff;
      if (!(c != null && c.changed)) {
        s.forEach(function(y) {
          r.resetSelectionRects(y);
        });
        return;
      }
      var d = (a = (i = this.ctx.animationManager) === null || i === void 0 ? void 0 : i.defaultOptions.duration) !== null && a !== void 0 ? a : 1e3, p = 200, h = d;
      c.added.length > 0 && c.removed.length > 0 ? h = Math.floor(d / 3) : (c.added.length > 0 || c.removed.length > 0) && (h = Math.floor(d / 2));
      var f = 0;
      s.forEach(function(y) {
        return y.each(function(m, C) {
          f = Math.max(f, C.height + C.y);
        });
      });
      var v = {};
      c.added.forEach(function(y) {
        v[y.join("_")] = !0;
      });
      var g = {};
      c.removed.forEach(function(y) {
        g[y.join("_")] = !0;
      }), s.forEach(function(y) {
        y.each(function(m, C) {
          var S, b = [
            { from: m.x, to: C.x },
            { from: m.width, to: C.width },
            { from: m.y, to: C.y },
            { from: m.height, to: C.height }
          ], _ = c.removed.length > 0 ? h : 0, O = !1, E = C.domain.join("_"), D = f, x = 0;
          E !== void 0 && v[E] !== void 0 ? (b = [
            { from: C.x, to: C.x },
            { from: C.width, to: C.width },
            { from: D, to: C.y },
            { from: x, to: C.height }
          ], _ += h) : E !== void 0 && g[E] !== void 0 && (b = [
            { from: m.x, to: C.x },
            { from: m.width, to: C.width },
            { from: C.y, to: D },
            { from: C.height, to: x }
          ], _ = 0, O = !0), (S = r.ctx.animationManager) === null || S === void 0 || S.animateMany(r.id + "_waiting-update-ready_" + m.id, b, {
            disableInteractions: !0,
            delay: _,
            duration: h,
            ease: Zl,
            repeat: 0,
            onUpdate: function(P) {
              var M = Po(P, 4), F = M[0], I = M[1], N = M[2], k = M[3];
              m.x = F, m.width = I, m.y = N, m.height = k;
            },
            onComplete: function() {
              O && y.cleanup();
            }
          });
        });
      }), l.forEach(function(y) {
        y.each(function(m) {
          var C;
          m.opacity = 0, (C = r.ctx.animationManager) === null || C === void 0 || C.animate(r.id + "_waiting-update-ready_" + m.id, {
            from: 0,
            to: 1,
            delay: d,
            duration: p,
            ease: VO,
            repeat: 0,
            onUpdate: function(S) {
              m.opacity = S;
            }
          });
        });
      });
    }, t.prototype.resetSelectionRects = function(e) {
      e.each(function(r, n) {
        r.x = n.x, r.y = n.y, r.width = n.width, r.height = n.height;
      });
    }, t.prototype.isLabelEnabled = function() {
      return this.label.enabled;
    }, t.className = "HistogramSeries", t.type = "histogram", Qt([
      A(ct)
    ], t.prototype, "fill", void 0), Qt([
      A(ct)
    ], t.prototype, "stroke", void 0), Qt([
      A(ae(0, 1))
    ], t.prototype, "fillOpacity", void 0), Qt([
      A(ae(0, 1))
    ], t.prototype, "strokeOpacity", void 0), Qt([
      A(su)
    ], t.prototype, "lineDash", void 0), Qt([
      A(ae(0))
    ], t.prototype, "lineDashOffset", void 0), Qt([
      A(Oe)
    ], t.prototype, "xKey", void 0), Qt([
      A(at)
    ], t.prototype, "areaPlot", void 0), Qt([
      A(rC())
    ], t.prototype, "bins", void 0), Qt([
      A(S4)
    ], t.prototype, "aggregation", void 0), Qt([
      A(tt(0))
    ], t.prototype, "binCount", void 0), Qt([
      A(Oe)
    ], t.prototype, "xName", void 0), Qt([
      A(Oe)
    ], t.prototype, "yKey", void 0), Qt([
      A(Oe)
    ], t.prototype, "yName", void 0), Qt([
      A(ae(0))
    ], t.prototype, "strokeWidth", void 0), t;
  }(hd)
), bC = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Rl = function() {
  return Rl = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Rl.apply(this, arguments);
}, Wr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Qs = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Js = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, T_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, E4 = (
  /** @class */
  function(o) {
    bC(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e;
    }
    return Wr([
      A(mt)
    ], t.prototype, "formatter", void 0), t;
  }(Yn)
), O4 = (
  /** @class */
  function(o) {
    bC(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e.format = void 0, e;
    }
    return Wr([
      A(mt)
    ], t.prototype, "renderer", void 0), Wr([
      A(Oe)
    ], t.prototype, "format", void 0), t;
  }(gs)
), x4 = (
  /** @class */
  function(o) {
    bC(t, o);
    function t(e) {
      var r = o.call(this, {
        moduleCtx: e,
        hasMarkers: !0,
        pickModes: [
          Lt.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,
          Lt.NEAREST_NODE,
          Lt.EXACT_SHAPE_MATCH
        ]
      }) || this;
      r.marker = new SC(), r.label = new E4(), r.title = void 0, r.stroke = "#874349", r.lineDash = [0], r.lineDashOffset = 0, r.strokeWidth = 2, r.strokeOpacity = 1, r.tooltip = new O4(), r.xKey = void 0, r.xName = void 0, r.yKey = void 0, r.yName = void 0;
      var n = r, i = n.marker, a = n.label;
      return i.fill = "#c16068", i.stroke = "#874349", a.enabled = !1, r;
    }
    return t.prototype.processData = function(e) {
      return Qs(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g;
        return Js(this, function(y) {
          switch (y.label) {
            case 0:
              return r = this, n = r.axes, i = r.xKey, a = i === void 0 ? "" : i, s = r.yKey, l = s === void 0 ? "" : s, u = a && l && this.data ? this.data : [], c = n[ue.X], d = n[ue.Y], p = (c == null ? void 0 : c.scale) instanceof it, h = (d == null ? void 0 : d.scale) instanceof it, [4, e.request(this.id, u != null ? u : [], {
                props: [
                  or(this, a, p, { id: "xValue" }),
                  or(this, l, h, { id: "yValue", invalidValue: void 0 })
                ],
                dataVisible: this.visible
              })];
            case 1:
              return f = y.sent(), v = f.dataModel, g = f.processedData, this.dataModel = v, this.processedData = g, [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.getDomain = function(e) {
      var r = this, n = r.axes, i = r.dataModel, a = r.processedData;
      if (!a || !i)
        return [];
      var s = n[ue.X], l = n[ue.Y], u = i.resolveProcessedDataDefById(this, "xValue");
      if (e === ue.X) {
        var c = i.getDomain(this, "xValue", "value", a);
        return (u == null ? void 0 : u.def.type) === "value" && u.def.valueType === "category" ? c : this.fixNumericExtent(rn(c), s);
      } else {
        var c = i.getDomain(this, "yValue", "value", a);
        return this.fixNumericExtent(c, l);
      }
    }, t.prototype.createNodeData = function() {
      var e, r, n, i, a;
      return Qs(this, void 0, void 0, function() {
        var s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F, I, N, k, L, B, j, J, U, Y, X, ne, K, ee, ie, le, Ce, ye, He, $e, Ne;
        return Js(this, function(ke) {
          if (s = this, l = s.processedData, u = s.dataModel, c = s.axes, d = s.marker, p = d.enabled, h = d.size, f = d.strokeWidth, v = s.ctx.callbackCache, g = c[ue.X], y = c[ue.Y], !l || !u || !g || !y)
            return [2, []];
          for (m = this, C = m.label, S = m.yKey, b = S === void 0 ? "" : S, _ = m.xKey, O = _ === void 0 ? "" : _, E = m.id, D = g.scale, x = y.scale, P = ((e = D.bandwidth) !== null && e !== void 0 ? e : 0) / 2, M = ((r = x.bandwidth) !== null && r !== void 0 ? r : 0) / 2, F = new Array(l.data.length), I = p ? h : 0, N = u.resolveProcessedDataIndexById(this, "xValue").index, k = u.resolveProcessedDataIndexById(this, "yValue").index, L = !0, B = void 0, j = void 0, J = 0, U = 0; U < l.data.length; U++)
            if (Y = j != null ? j : l.data[U], X = Y.datum, ne = Y.values, K = ne[N], ee = ne[k], ee === void 0)
              B = void 0, L = !0;
            else {
              if (ie = D.convert(K) + P, isNaN(ie)) {
                B = void 0, L = !0, j = void 0;
                continue;
              }
              if (le = ((n = D.bandwidth) !== null && n !== void 0 ? n : h * 0.5 + (f != null ? f : 0)) + 1, j = ((i = l.data[U + 1]) === null || i === void 0 ? void 0 : i.values[k]) === void 0 ? void 0 : l.data[U + 1], Ce = (a = l.data[U + 1]) === null || a === void 0 ? void 0 : a.values[N], ye = g.inRangeEx(ie, 0, le), He = j && g.inRangeEx(D.convert(Ce) + P, 0, le), ye === -1 && He === -1) {
                L = !0;
                continue;
              }
              if (ye === 1 && B === 1) {
                L = !0;
                continue;
              }
              B = ye, $e = x.convert(ee) + M, Ne = void 0, C.formatter && (Ne = v.call(C.formatter, { value: ee, seriesId: E })), Ne !== void 0 || (typeof ee == "number" && isFinite(ee) ? Ne = ee.toFixed(2) : ee && (Ne = String(ee))), F[J++] = {
                series: this,
                datum: X,
                yKey: b,
                xKey: O,
                point: { x: ie, y: $e, moveTo: L, size: I },
                nodeMidPoint: { x: ie, y: $e },
                yValue: ee,
                xValue: K,
                label: Ne ? {
                  text: Ne,
                  fontStyle: C.fontStyle,
                  fontWeight: C.fontWeight,
                  fontSize: C.fontSize,
                  fontFamily: C.fontFamily,
                  textAlign: "center",
                  textBaseline: "bottom",
                  fill: C.color
                } : void 0
              }, L = !1;
            }
          return F.length = J, [2, [{ itemId: b, nodeData: F, labelData: F }]];
        });
      });
    }, t.prototype.isPathOrSelectionDirty = function() {
      return this.marker.isDirty();
    }, t.prototype.markerFactory = function() {
      var e = this.marker.shape, r = lu(e);
      return new r();
    }, t.prototype.updateMarkerSelection = function(e) {
      return Qs(this, void 0, void 0, function() {
        var r, n, i, a, s;
        return Js(this, function(l) {
          return r = e.nodeData, n = e.markerSelection, i = this.marker, a = i.shape, s = i.enabled, r = a && s ? r : [], this.marker.isDirty() && n.clear(), [2, n.update(r)];
        });
      });
    }, t.prototype.updateMarkerNodes = function(e) {
      var r;
      return Qs(this, void 0, void 0, function() {
        var n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x;
        return Js(this, function(P) {
          return n = e.markerSelection, i = e.isHighlight, a = this, s = a.marker, l = a.marker.fillOpacity, u = a.xKey, c = u === void 0 ? "" : u, d = a.yKey, p = d === void 0 ? "" : d, h = a.stroke, f = a.strokeOpacity, v = a.highlightStyle.item, g = v.fill, y = v.fillOpacity, m = y === void 0 ? l : y, C = v.stroke, S = v.strokeWidth, b = a.id, _ = a.ctx.callbackCache, O = s.size, E = s.formatter, D = (r = s.strokeWidth) !== null && r !== void 0 ? r : this.strokeWidth, x = typeof s.shape == "function", n.each(function(M, F) {
            var I, N, k, L, B, j, J, U = i && g !== void 0 ? g : s.fill, Y = i ? m : l, X = i && C !== void 0 ? C : (I = s.stroke) !== null && I !== void 0 ? I : h, ne = i && S !== void 0 ? S : D, K = void 0;
            E && (K = _.call(E, {
              datum: F.datum,
              xKey: c,
              yKey: p,
              fill: U,
              stroke: X,
              strokeWidth: ne,
              size: O,
              highlighted: i,
              seriesId: b
            })), M.fill = (N = K == null ? void 0 : K.fill) !== null && N !== void 0 ? N : U, M.stroke = (k = K == null ? void 0 : K.stroke) !== null && k !== void 0 ? k : X, M.strokeWidth = (L = K == null ? void 0 : K.strokeWidth) !== null && L !== void 0 ? L : ne, M.fillOpacity = Y != null ? Y : 1, M.strokeOpacity = (j = (B = s.strokeOpacity) !== null && B !== void 0 ? B : f) !== null && j !== void 0 ? j : 1, M.size = (J = K == null ? void 0 : K.size) !== null && J !== void 0 ? J : O, M.translationX = F.point.x, M.translationY = F.point.y, M.visible = M.size > 0 && !isNaN(F.point.x) && !isNaN(F.point.y), !(!x || M.dirtyPath) && (M.path.clear({ trackChanges: !0 }), M.updatePath(), M.checkPathDirty());
          }), i || this.marker.markClean(), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateLabelSelection = function(e) {
      return Qs(this, void 0, void 0, function() {
        var r, n, i, a, s;
        return Js(this, function(l) {
          return r = e.labelData, n = e.labelSelection, i = this.marker, a = i.shape, s = i.enabled, r = a && s ? r : [], [2, n.update(r)];
        });
      });
    }, t.prototype.updateLabelNodes = function(e) {
      return Qs(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c;
        return Js(this, function(d) {
          return r = e.labelSelection, n = this.label, i = n.enabled, a = n.fontStyle, s = n.fontWeight, l = n.fontSize, u = n.fontFamily, c = n.color, r.each(function(p, h) {
            var f = h.point, v = h.label;
            h && v && i ? (p.fontStyle = a, p.fontWeight = s, p.fontSize = l, p.fontFamily = u, p.textAlign = v.textAlign, p.textBaseline = v.textBaseline, p.text = v.text, p.x = f.x, p.y = f.y - 10, p.fill = c, p.visible = !0) : p.visible = !1;
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getNodeClickEvent = function(e, r) {
      var n, i;
      return new If((n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      var n, i;
      return new Ff((n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i = this, a = i.xKey, s = i.yKey, l = i.axes, u = l[ue.X], c = l[ue.Y];
      if (!a || !s || !u || !c)
        return "";
      var d = this, p = d.xName, h = d.yName, f = d.tooltip, v = d.marker, g = d.id, y = f.renderer, m = f.format, C = e.datum, S = e.xValue, b = e.yValue, _ = u.formatDatum(S), O = c.formatDatum(b), E = er((r = this.title) !== null && r !== void 0 ? r : h), D = er(_ + ": " + O), x = v.formatter, P = v.fill, M = v.stroke, F = v.strokeWidth, I = v.size, N = F != null ? F : this.strokeWidth, k = void 0;
      x && (k = x({
        datum: C,
        xKey: a,
        yKey: s,
        fill: P,
        stroke: M,
        strokeWidth: N,
        size: I,
        highlighted: !1,
        seriesId: g
      }));
      var L = (n = k == null ? void 0 : k.fill) !== null && n !== void 0 ? n : P, B = {
        title: E,
        backgroundColor: L,
        content: D
      };
      if (m || y) {
        var j = {
          datum: C,
          xKey: a,
          xValue: S,
          xName: p,
          yKey: s,
          yValue: b,
          yName: h,
          title: E,
          color: L,
          seriesId: g
        };
        if (m)
          return ur({
            content: wx(m, j)
          }, B);
        if (y)
          return ur(y(j), B);
      }
      return ur(B);
    }, t.prototype.getLegendData = function() {
      var e, r, n, i, a, s, l, u = this, c = u.id, d = u.data, p = u.xKey, h = u.yKey, f = u.yName, v = u.visible, g = u.title, y = u.marker, m = u.stroke, C = u.strokeOpacity;
      if (!(d != null && d.length && p && h))
        return [];
      var S = [
        {
          legendType: "category",
          id: c,
          itemId: h,
          seriesId: c,
          enabled: v,
          label: {
            text: (e = g != null ? g : f) !== null && e !== void 0 ? e : h
          },
          marker: {
            shape: y.shape,
            fill: (r = y.fill) !== null && r !== void 0 ? r : "rgba(0, 0, 0, 0)",
            stroke: (i = (n = y.stroke) !== null && n !== void 0 ? n : m) !== null && i !== void 0 ? i : "rgba(0, 0, 0, 0)",
            fillOpacity: (a = y.fillOpacity) !== null && a !== void 0 ? a : 1,
            strokeOpacity: (l = (s = y.strokeOpacity) !== null && s !== void 0 ? s : C) !== null && l !== void 0 ? l : 1
          }
        }
      ];
      return S;
    }, t.prototype.animateEmptyUpdateReady = function(e) {
      var r = this, n = e.markerSelections, i = e.labelSelections, a = e.contextData, s = e.paths;
      a.forEach(function(l, u) {
        var c, d, p, h = l.nodeData, f = T_(s[u], 1), v = f[0], g = v.path, y = [0], m = h.reduce(function(_, O, E) {
          if (E === 0)
            return _;
          var D = h[E - 1];
          if (isNaN(O.point.x) || isNaN(O.point.y) || isNaN(D.point.x) || isNaN(D.point.y))
            return y.push(_), _;
          var x = Math.sqrt(Math.pow(O.point.x - D.point.x, 2) + Math.pow(O.point.y - D.point.y, 2));
          return y.push(_ + x), _ + x;
        }, 0);
        v.fill = void 0, v.lineJoin = "round", v.pointerEvents = yr.None, v.stroke = r.stroke, v.strokeWidth = r.getStrokeWidth(r.strokeWidth), v.strokeOpacity = r.strokeOpacity, v.lineDash = r.lineDash, v.lineDashOffset = r.lineDashOffset;
        var C = (d = (c = r.ctx.animationManager) === null || c === void 0 ? void 0 : c.defaultOptions.duration) !== null && d !== void 0 ? d : 1e3, S = 200, b = {
          from: 0,
          to: m
        };
        (p = r.ctx.animationManager) === null || p === void 0 || p.animate(r.id + "_empty-update-ready", Rl(Rl({}, b), { duration: C, onUpdate: function(_) {
          g.clear({ trackChanges: !0 }), h.forEach(function(O, E) {
            if (y[E] <= _)
              O.point.moveTo ? g.moveTo(O.point.x, O.point.y) : g.lineTo(O.point.x, O.point.y);
            else if (E > 0 && y[E - 1] < _) {
              var D = h[E - 1].point, x = O.point, P = y[E] - y[E - 1], M = y[E] - _, F = (P - M) / P, I = (1 - F) * D.x + F * x.x, N = (1 - F) * D.y + F * x.y;
              O.point.moveTo ? g.moveTo(I, N) : g.lineTo(I, N);
            }
          }), v.checkPathDirty();
        } })), n[u].each(function(_, O, E) {
          var D, x, P, M, F = m > 0 ? y[E] / m * C : 0, I = r.animateFormatter(O), N = (x = (D = O.point) === null || D === void 0 ? void 0 : D.size) !== null && x !== void 0 ? x : 0;
          (P = r.ctx.animationManager) === null || P === void 0 || P.animate(r.id + "_empty-update-ready_" + _.id, Rl(Rl({}, b), { to: (M = I == null ? void 0 : I.size) !== null && M !== void 0 ? M : N, delay: F, duration: S, onUpdate: function(k) {
            _.size = k;
          } }));
        }), i[u].each(function(_, O, E) {
          var D, x = y[E] / m * C;
          (D = r.ctx.animationManager) === null || D === void 0 || D.animate(r.id + "_empty-update-ready_" + _.id, {
            from: 0,
            to: 1,
            delay: x,
            duration: S,
            onUpdate: function(P) {
              _.opacity = P;
            }
          });
        });
      });
    }, t.prototype.animateReadyUpdate = function(e) {
      this.resetMarkersAndPaths(e);
    }, t.prototype.animateReadyResize = function(e) {
      var r;
      (r = this.ctx.animationManager) === null || r === void 0 || r.reset(), this.resetMarkersAndPaths(e);
    }, t.prototype.resetMarkersAndPaths = function(e) {
      var r = this, n = e.markerSelections, i = e.contextData, a = e.paths;
      i.forEach(function(s, l) {
        var u = s.nodeData, c = T_(a[l], 1), d = c[0], p = d.path;
        d.stroke = r.stroke, d.strokeWidth = r.getStrokeWidth(r.strokeWidth), d.strokeOpacity = r.strokeOpacity, d.lineDash = r.lineDash, d.lineDashOffset = r.lineDashOffset, p.clear({ trackChanges: !0 }), u.forEach(function(h) {
          h.point.moveTo ? p.moveTo(h.point.x, h.point.y) : p.lineTo(h.point.x, h.point.y);
        }), d.checkPathDirty(), n[l].each(function(h, f) {
          var v, g, y, m = r.animateFormatter(f), C = (g = (v = f.point) === null || v === void 0 ? void 0 : v.size) !== null && g !== void 0 ? g : 0;
          h.size = (y = m == null ? void 0 : m.size) !== null && y !== void 0 ? y : C;
        });
      });
    }, t.prototype.animateFormatter = function(e) {
      var r, n, i = this, a = i.marker, s = i.xKey, l = s === void 0 ? "" : s, u = i.yKey, c = u === void 0 ? "" : u, d = i.stroke, p = i.id, h = i.ctx.callbackCache, f = a.size, v = a.formatter, g = a.fill, y = (r = a.stroke) !== null && r !== void 0 ? r : d, m = (n = a.strokeWidth) !== null && n !== void 0 ? n : this.strokeWidth, C = void 0;
      return v && (C = h.call(v, {
        datum: e.datum,
        xKey: l,
        yKey: c,
        fill: g,
        stroke: y,
        strokeWidth: m,
        size: f,
        highlighted: !1,
        seriesId: p
      })), C;
    }, t.prototype.isLabelEnabled = function() {
      return this.label.enabled;
    }, t.className = "LineSeries", t.type = "line", Wr([
      A(Oe)
    ], t.prototype, "title", void 0), Wr([
      A(ct)
    ], t.prototype, "stroke", void 0), Wr([
      A(su)
    ], t.prototype, "lineDash", void 0), Wr([
      A(ae(0))
    ], t.prototype, "lineDashOffset", void 0), Wr([
      A(ae(0))
    ], t.prototype, "strokeWidth", void 0), Wr([
      A(ae(0, 1))
    ], t.prototype, "strokeOpacity", void 0), Wr([
      A(Oe)
    ], t.prototype, "xKey", void 0), Wr([
      A(Oe)
    ], t.prototype, "xName", void 0), Wr([
      A(Oe)
    ], t.prototype, "yKey", void 0), Wr([
      A(Oe)
    ], t.prototype, "yName", void 0), t;
  }(hd)
), bx = (
  /** @class */
  function() {
    function o() {
      this.domain = [0, 1], this.range = ["red", "blue"], this.parsedRange = this.range.map(function(t) {
        return Nt.fromString(t);
      });
    }
    return o.prototype.update = function() {
      var t = this, e = t.domain, r = t.range;
      e.length < 2 && (pe.warnOnce("`colorDomain` should have at least 2 values."), e.length === 0 ? e.push(0, 1) : e.length === 1 && e.push(e[0] + 1));
      for (var n = 1; n < e.length; n++) {
        var i = e[n - 1], a = e[n];
        if (i >= a) {
          pe.warnOnce("`colorDomain` values should be supplied in ascending order."), e.sort(function(l, u) {
            return l - u;
          });
          break;
        }
      }
      var s = r.length < e.length;
      if (s || e.length > 2 && r.length > e.length)
        if (pe.warnOnce("Number of elements in `colorRange` needs to match the number of elements in `colorDomain`."), s)
          for (var n = r.length; n < e.length; n++)
            r.push("black");
        else
          r.splice(e.length);
      this.parsedRange = this.range.map(function(l) {
        return Nt.fromString(l);
      });
    }, o.prototype.convert = function(t) {
      var e = this, r = e.domain, n = e.range, i = e.parsedRange, a = r[0], s = r[r.length - 1], l = n[0], u = n[n.length - 1];
      if (t <= a)
        return l;
      if (t >= s)
        return u;
      var c, d;
      if (r.length === 2) {
        var p = (t - a) / (s - a), h = 1 / (n.length - 1);
        c = n.length <= 2 ? 0 : Math.min(Math.floor(p * (n.length - 1)), n.length - 2), d = (p - c * h) / h;
      } else {
        for (c = 0; c < r.length - 2 && !(t < r[c + 1]); c++)
          ;
        var f = r[c], v = r[c + 1];
        d = (t - f) / (v - f);
      }
      var g = i[c], y = i[c + 1];
      return GO(g, y)(d);
    }, o;
  }()
), cu = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Nc = function() {
  return Nc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Nc.apply(this, arguments);
}, Sr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, el = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, tl = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, bg = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Eg = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, T4 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, R4 = (
  /** @class */
  function(o) {
    cu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e;
    }
    return Sr([
      A(mt)
    ], t.prototype, "formatter", void 0), t;
  }(Yn)
), Ex = (
  /** @class */
  function(o) {
    cu(t, o);
    function t(e, r, n, i, a, s) {
      var l = o.call(this, r, n, i, a, s) || this;
      return l.sizeKey = e, l;
    }
    return t;
  }(CC)
), D4 = (
  /** @class */
  function(o) {
    cu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeClick", e;
    }
    return t;
  }(Ex)
), P4 = (
  /** @class */
  function(o) {
    cu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeDoubleClick", e;
    }
    return t;
  }(Ex)
), A4 = (
  /** @class */
  function(o) {
    cu(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e;
    }
    return Sr([
      A(mt)
    ], t.prototype, "renderer", void 0), t;
  }(gs)
), M4 = (
  /** @class */
  function(o) {
    cu(t, o);
    function t(e) {
      var r = o.call(this, {
        moduleCtx: e,
        pickModes: [
          Lt.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,
          Lt.NEAREST_NODE,
          Lt.EXACT_SHAPE_MATCH
        ],
        pathsPerSeries: 0,
        hasMarkers: !0
      }) || this;
      r.sizeScale = new Vt(), r.marker = new SC(), r.label = new R4(), r.title = void 0, r.labelKey = void 0, r.xName = void 0, r.yName = void 0, r.sizeName = "Size", r.labelName = "Label", r.xKey = void 0, r.yKey = void 0, r.sizeKey = void 0, r.colorKey = void 0, r.colorName = "Color", r.colorDomain = void 0, r.colorRange = ["#ffff00", "#00ff00", "#0000ff"], r.colorScale = new bx(), r.tooltip = new A4();
      var n = r.label;
      return n.enabled = !1, r;
    }
    return t.prototype.processData = function(e) {
      var r, n;
      return el(this, void 0, void 0, function() {
        var i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F;
        return tl(this, function(I) {
          switch (I.label) {
            case 0:
              return i = this, a = i.xKey, s = a === void 0 ? "" : a, l = i.yKey, u = l === void 0 ? "" : l, c = i.sizeKey, d = i.labelKey, p = i.axes, h = i.marker, f = i.data, v = p[ue.X], g = p[ue.Y], y = (v == null ? void 0 : v.scale) instanceof it, m = (g == null ? void 0 : g.scale) instanceof it, C = this, S = C.colorScale, b = C.colorDomain, _ = C.colorRange, O = C.colorKey, [4, e.request(this.id, f != null ? f : [], {
                props: Eg(Eg(Eg([
                  or(this, s, y, { id: "xValue" }),
                  or(this, u, m, { id: "yValue" })
                ], bg(c ? [or(this, c, !0, { id: "sizeValue" })] : [])), bg(O ? [or(this, O, !0, { id: "colorValue" })] : [])), bg(d ? [or(this, d, !1, { id: "labelValue" })] : [])),
                dataVisible: this.visible
              })];
            case 1:
              return E = I.sent(), D = E.dataModel, x = E.processedData, this.dataModel = D, this.processedData = x, c && (P = D.resolveProcessedDataIndexById(this, "sizeValue").index, M = (r = x.domain.values[P]) !== null && r !== void 0 ? r : [], this.sizeScale.domain = h.domain ? h.domain : M), O && (F = D.resolveProcessedDataIndexById(this, "colorValue").index, S.domain = (n = b != null ? b : x.domain.values[F]) !== null && n !== void 0 ? n : [], S.range = _, S.update()), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.getDomain = function(e) {
      var r = this, n = r.dataModel, i = r.processedData;
      if (!i || !n)
        return [];
      var a = e === ue.X ? "xValue" : "yValue", s = n.resolveProcessedDataDefById(this, a, "value"), l = n.getDomain(this, a, "value", i);
      if ((s == null ? void 0 : s.def.type) === "value" && (s == null ? void 0 : s.def.valueType) === "category")
        return l;
      var u = this.axes[e];
      return this.fixNumericExtent(rn(l), u);
    }, t.prototype.getNodeClickEvent = function(e, r) {
      var n, i;
      return new D4(this.sizeKey, (n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      var n, i;
      return new P4(this.sizeKey, (n = this.xKey) !== null && n !== void 0 ? n : "", (i = this.yKey) !== null && i !== void 0 ? i : "", e, r, this);
    }, t.prototype.createNodeData = function() {
      var e, r, n, i, a, s;
      return el(this, void 0, void 0, function() {
        var l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D, x, P, M, F, I, N, k, L, B, j, J, U, Y, X, ne, K, ee, ie, le, Ce, ye, He, $e, Ne, ke, Q, fe, De, Ve, Ct, zt;
        return tl(this, function(Rn) {
          if (l = this, u = l.visible, c = l.axes, d = l.yKey, p = d === void 0 ? "" : d, h = l.xKey, f = h === void 0 ? "" : h, v = l.label, g = l.labelKey, y = l.ctx.callbackCache, m = l.dataModel, C = l.processedData, S = c[ue.X], b = c[ue.Y], !(m && C && u && S && b))
            return [2, []];
          _ = m.resolveProcessedDataIndexById(this, "xValue").index, O = m.resolveProcessedDataIndexById(this, "yValue").index, E = this.sizeKey ? m.resolveProcessedDataIndexById(this, "sizeValue").index : -1, D = this.colorKey ? m.resolveProcessedDataIndexById(this, "colorValue").index : -1, x = this.labelKey ? m.resolveProcessedDataIndexById(this, "labelValue").index : -1, P = this, M = P.colorScale, F = P.sizeKey, I = P.colorKey, N = P.id, k = S.scale, L = b.scale, B = ((e = k.bandwidth) !== null && e !== void 0 ? e : 0) / 2, j = ((r = L.bandwidth) !== null && r !== void 0 ? r : 0) / 2, J = this, U = J.sizeScale, Y = J.marker, X = new Array((i = (n = this.processedData) === null || n === void 0 ? void 0 : n.data.length) !== null && i !== void 0 ? i : 0), U.range = [Y.size, Y.maxSize], ne = v.getFont(), K = 0;
          try {
            for (ee = T4((a = C.data) !== null && a !== void 0 ? a : []), ie = ee.next(); !ie.done; ie = ee.next())
              le = ie.value, Ce = le.values, ye = le.datum, He = Ce[_], $e = Ce[O], Ne = k.convert(He) + B, ke = L.convert($e) + j, this.checkRangeXY(Ne, ke, S, b) && (Q = void 0, v.formatter && (Q = y.call(v.formatter, { value: $e, seriesId: N, datum: ye })), Q === void 0 && (Q = g ? String(Ce[x]) : ""), fe = wt.getTextSize(Q, ne), De = F ? U.convert(Ce[E]) : Y.size, Ve = I ? M.convert(Ce[D]) : void 0, X[K++] = {
                series: this,
                itemId: p,
                yKey: p,
                xKey: f,
                datum: ye,
                xValue: He,
                yValue: $e,
                sizeValue: Ce[E],
                point: { x: Ne, y: ke, size: De },
                nodeMidPoint: { x: Ne, y: ke },
                fill: Ve,
                label: Nc({ text: Q }, fe)
              });
          } catch (Dn) {
            Ct = { error: Dn };
          } finally {
            try {
              ie && !ie.done && (zt = ee.return) && zt.call(ee);
            } finally {
              if (Ct)
                throw Ct.error;
            }
          }
          return X.length = K, [2, [{ itemId: (s = this.yKey) !== null && s !== void 0 ? s : this.id, nodeData: X, labelData: X }]];
        });
      });
    }, t.prototype.isPathOrSelectionDirty = function() {
      return this.marker.isDirty();
    }, t.prototype.getLabelData = function() {
      var e;
      return (e = this.contextNodeData) === null || e === void 0 ? void 0 : e.reduce(function(r, n) {
        return r.concat(n.labelData);
      }, []);
    }, t.prototype.markerFactory = function() {
      var e = this.marker.shape, r = lu(e);
      return new r();
    }, t.prototype.updateMarkerSelection = function(e) {
      return el(this, void 0, void 0, function() {
        var r, n, i, a;
        return tl(this, function(s) {
          return r = e.nodeData, n = e.markerSelection, i = this.marker.enabled, this.marker.isDirty() && n.clear(), a = i ? r : [], [2, n.update(a)];
        });
      });
    }, t.prototype.updateMarkerNodes = function(e) {
      return el(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E, D;
        return tl(this, function(x) {
          return r = e.markerSelection, n = e.isHighlight, i = this, a = i.marker, s = i.xKey, l = s === void 0 ? "" : s, u = i.yKey, c = u === void 0 ? "" : u, d = i.sizeScale, p = i.marker, h = p.fillOpacity, f = p.strokeOpacity, v = p.strokeWidth, g = i.highlightStyle.item, y = g.fill, m = g.fillOpacity, C = m === void 0 ? h : m, S = g.stroke, b = g.strokeWidth, _ = i.id, O = i.ctx.callbackCache, E = a.formatter, d.range = [a.size, a.maxSize], D = typeof a.shape == "function", r.each(function(P, M) {
            var F, I, N, k, L, B, j, J, U, Y, X = n && y !== void 0 ? y : (F = M.fill) !== null && F !== void 0 ? F : a.fill, ne = n ? C : h, K = n && S !== void 0 ? S : a.stroke, ee = f, ie = n && b !== void 0 ? b : v != null ? v : 1, le = (N = (I = M.point) === null || I === void 0 ? void 0 : I.size) !== null && N !== void 0 ? N : 0, Ce = void 0;
            E && (Ce = O.call(E, {
              datum: M.datum,
              xKey: l,
              yKey: c,
              fill: X,
              stroke: K,
              strokeWidth: ie,
              size: le,
              highlighted: n,
              seriesId: _
            })), P.fill = (k = Ce == null ? void 0 : Ce.fill) !== null && k !== void 0 ? k : X, P.stroke = (L = Ce == null ? void 0 : Ce.stroke) !== null && L !== void 0 ? L : K, P.strokeWidth = (B = Ce == null ? void 0 : Ce.strokeWidth) !== null && B !== void 0 ? B : ie, P.fillOpacity = ne != null ? ne : 1, P.strokeOpacity = ee != null ? ee : 1, P.translationX = (J = (j = M.point) === null || j === void 0 ? void 0 : j.x) !== null && J !== void 0 ? J : 0, P.translationY = (Y = (U = M.point) === null || U === void 0 ? void 0 : U.y) !== null && Y !== void 0 ? Y : 0, P.visible = P.size > 0, !(!D || P.dirtyPath) && (P.path.clear({ trackChanges: !0 }), P.updatePath(), P.checkPathDirty());
          }), n || this.marker.markClean(), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateLabelSelection = function(e) {
      var r, n;
      return el(this, void 0, void 0, function() {
        var i, a, s, l;
        return tl(this, function(u) {
          return i = e.labelSelection, a = this.label.enabled, s = a ? (n = (r = this.chart) === null || r === void 0 ? void 0 : r.placeLabels().get(this)) !== null && n !== void 0 ? n : [] : [], l = s.map(function(c) {
            return Nc(Nc({}, c.datum), { point: {
              x: c.x,
              y: c.y,
              size: c.datum.point.size
            } });
          }), [2, i.update(l)];
        });
      });
    }, t.prototype.updateLabelNodes = function(e) {
      return el(this, void 0, void 0, function() {
        var r, n;
        return tl(this, function(i) {
          return r = e.labelSelection, n = this.label, r.each(function(a, s) {
            var l, u, c, d;
            a.text = s.label.text, a.fill = n.color, a.x = (u = (l = s.point) === null || l === void 0 ? void 0 : l.x) !== null && u !== void 0 ? u : 0, a.y = (d = (c = s.point) === null || c === void 0 ? void 0 : c.y) !== null && d !== void 0 ? d : 0, a.fontStyle = n.fontStyle, a.fontWeight = n.fontWeight, a.fontSize = n.fontSize, a.fontFamily = n.fontFamily, a.textAlign = "left", a.textBaseline = "top";
          }), [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i, a, s, l, u, c = this, d = c.xKey, p = c.yKey, h = c.axes, f = h[ue.X], v = h[ue.Y];
      if (!d || !p || !f || !v)
        return "";
      var g = this, y = g.marker, m = g.tooltip, C = g.xName, S = g.yName, b = g.sizeKey, _ = g.sizeName, O = g.labelKey, E = g.labelName, D = g.id, x = g.ctx.callbackCache, P = y.stroke, M = (r = e.fill) !== null && r !== void 0 ? r : y.fill, F = this.getStrokeWidth((n = y.strokeWidth) !== null && n !== void 0 ? n : 1), I = this.marker.formatter, N = void 0;
      I && (N = x.call(I, {
        datum: e,
        xKey: d,
        yKey: p,
        fill: M,
        stroke: P,
        strokeWidth: F,
        size: (a = (i = e.point) === null || i === void 0 ? void 0 : i.size) !== null && a !== void 0 ? a : 0,
        highlighted: !1,
        seriesId: D
      }));
      var k = (l = (s = N == null ? void 0 : N.fill) !== null && s !== void 0 ? s : M) !== null && l !== void 0 ? l : "gray", L = (u = this.title) !== null && u !== void 0 ? u : S, B = e.datum, j = e.xValue, J = e.yValue, U = e.sizeValue, Y = e.label.text, X = er(f.formatDatum(j)), ne = er(v.formatDatum(J)), K = "<b>" + er(C != null ? C : d) + "</b>: " + X + "<br>" + ("<b>" + er(S != null ? S : p) + "</b>: " + ne);
      b && (K += "<br><b>" + er(_ != null ? _ : b) + "</b>: " + er(U)), O && (K = "<b>" + er(E != null ? E : O) + "</b>: " + er(Y) + "<br>" + K);
      var ee = {
        title: L,
        backgroundColor: k,
        content: K
      }, ie = m.renderer;
      return ie ? ur(ie({
        datum: B,
        xKey: d,
        xValue: j,
        xName: C,
        yKey: p,
        yValue: J,
        yName: S,
        sizeKey: b,
        sizeName: _,
        labelKey: O,
        labelName: E,
        title: L,
        color: k,
        seriesId: D
      }), ee) : ur(ee);
    }, t.prototype.getLegendData = function() {
      var e, r, n, i, a, s = this, l = s.id, u = s.data, c = s.xKey, d = s.yKey, p = s.yName, h = s.title, f = s.visible, v = s.marker, g = v.fill, y = v.stroke, m = v.fillOpacity, C = v.strokeOpacity;
      if (!(u != null && u.length && c && d))
        return [];
      var S = [
        {
          legendType: "category",
          id: l,
          itemId: d,
          seriesId: l,
          enabled: f,
          label: {
            text: (e = h != null ? h : p) !== null && e !== void 0 ? e : d
          },
          marker: {
            shape: v.shape,
            fill: (n = (r = v.fill) !== null && r !== void 0 ? r : g) !== null && n !== void 0 ? n : "rgba(0, 0, 0, 0)",
            stroke: (a = (i = v.stroke) !== null && i !== void 0 ? i : y) !== null && a !== void 0 ? a : "rgba(0, 0, 0, 0)",
            fillOpacity: m != null ? m : 1,
            strokeOpacity: C != null ? C : 1
          }
        }
      ];
      return S;
    }, t.prototype.animateEmptyUpdateReady = function(e) {
      var r = this, n, i, a = e.markerSelections, s = e.labelSelections, l = (i = (n = this.ctx.animationManager) === null || n === void 0 ? void 0 : n.defaultOptions.duration) !== null && i !== void 0 ? i : 1e3, u = 200;
      a.forEach(function(c) {
        c.each(function(d, p) {
          var h, f, v, g, y = r.animateFormatter(d, p), m = (f = (h = p.point) === null || h === void 0 ? void 0 : h.size) !== null && f !== void 0 ? f : 0, C = (v = y == null ? void 0 : y.size) !== null && v !== void 0 ? v : m;
          (g = r.ctx.animationManager) === null || g === void 0 || g.animate(r.id + "_empty-update-ready_" + d.id, {
            from: 0,
            to: C,
            duration: l,
            onUpdate: function(S) {
              d.size = S;
            }
          });
        });
      }), s.forEach(function(c) {
        c.each(function(d) {
          var p;
          (p = r.ctx.animationManager) === null || p === void 0 || p.animate(r.id + "_empty-update-ready_" + d.id, {
            from: 0,
            to: 1,
            delay: l,
            duration: u,
            onUpdate: function(h) {
              d.opacity = h;
            }
          });
        });
      });
    }, t.prototype.animateReadyUpdate = function(e) {
      var r = this, n = e.markerSelections;
      n.forEach(function(i) {
        r.resetMarkers(i);
      });
    }, t.prototype.animateReadyHighlightMarkers = function(e) {
      this.resetMarkers(e);
    }, t.prototype.resetMarkers = function(e) {
      var r = this;
      e.each(function(n, i) {
        var a, s, l, u = r.animateFormatter(n, i), c = (s = (a = i.point) === null || a === void 0 ? void 0 : a.size) !== null && s !== void 0 ? s : 0;
        n.size = (l = u == null ? void 0 : u.size) !== null && l !== void 0 ? l : c;
      });
    }, t.prototype.animateFormatter = function(e, r) {
      var n, i, a, s = this, l = s.xKey, u = l === void 0 ? "" : l, c = s.yKey, d = c === void 0 ? "" : c, p = s.marker.strokeWidth, h = s.id, f = s.ctx.callbackCache, v = this.marker.formatter, g = (n = r.fill) !== null && n !== void 0 ? n : e.fill, y = e.stroke, m = p != null ? p : 1, C = (a = (i = r.point) === null || i === void 0 ? void 0 : i.size) !== null && a !== void 0 ? a : 0, S = void 0;
      return v && (S = f.call(v, {
        datum: r.datum,
        xKey: u,
        yKey: d,
        fill: g,
        stroke: y,
        strokeWidth: m,
        size: C,
        highlighted: !1,
        seriesId: h
      })), S;
    }, t.prototype.isLabelEnabled = function() {
      return this.label.enabled;
    }, t.className = "ScatterSeries", t.type = "scatter", Sr([
      A(Oe)
    ], t.prototype, "title", void 0), Sr([
      A(Oe)
    ], t.prototype, "labelKey", void 0), Sr([
      A(Oe)
    ], t.prototype, "xName", void 0), Sr([
      A(Oe)
    ], t.prototype, "yName", void 0), Sr([
      A(Oe)
    ], t.prototype, "sizeName", void 0), Sr([
      A(Oe)
    ], t.prototype, "labelName", void 0), Sr([
      A(Oe)
    ], t.prototype, "xKey", void 0), Sr([
      A(Oe)
    ], t.prototype, "yKey", void 0), Sr([
      A(Oe)
    ], t.prototype, "sizeKey", void 0), Sr([
      A(Oe)
    ], t.prototype, "colorKey", void 0), Sr([
      A(Oe)
    ], t.prototype, "colorName", void 0), Sr([
      A(bO)
    ], t.prototype, "colorDomain", void 0), Sr([
      A(Kc)
    ], t.prototype, "colorRange", void 0), t;
  }(hd)
), I4 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), F4 = (
  /** @class */
  function(o) {
    I4(t, o);
    function t(e) {
      return o.call(this, { moduleCtx: e, pickModes: [Lt.EXACT_SHAPE_MATCH] }) || this;
    }
    return t.prototype.getLabelData = function() {
      return [];
    }, t;
  }(Af)
), la = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fy = function() {
  return Fy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Fy.apply(this, arguments);
}, dt = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Qu = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, Ju = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, L4 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, N4 = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.renderer = void 0, e;
    }
    return dt([
      A(mt)
    ], t.prototype, "renderer", void 0), t;
  }(gs)
), Ox = (
  /** @class */
  function(o) {
    la(t, o);
    function t(e, r, n, i, a, s) {
      var l = o.call(this, i, a, s) || this;
      return l.labelKey = e, l.sizeKey = r, l.colorKey = n, l;
    }
    return t;
  }(dd)
), G4 = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeClick", e;
    }
    return t;
  }(Ox)
), k4 = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.type = "nodeDoubleClick", e;
    }
    return t;
  }(Ox)
), R_ = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.padding = 10, e;
    }
    return dt([
      A(ae(0))
    ], t.prototype, "padding", void 0), t;
  }(Yn)
), Og = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.wrapping = "on-space", e;
    }
    return dt([
      A(iC)
    ], t.prototype, "wrapping", void 0), t;
  }(Yn)
), V4 = (
  /** @class */
  function() {
    function o() {
      this.style = function() {
        var t = new Yn();
        return t.color = "white", t;
      }();
    }
    return dt([
      A(Oe)
    ], o.prototype, "key", void 0), dt([
      A(Oe)
    ], o.prototype, "name", void 0), dt([
      A(mt)
    ], o.prototype, "formatter", void 0), o;
  }()
), No;
(function(o) {
  o[o.Name = 0] = "Name", o[o.Value = 1] = "Value";
})(No || (No = {}));
var ni = new ot();
function rl(o, t) {
  var e = t.fontStyle, r = t.fontWeight, n = t.fontSize, i = t.fontFamily;
  ni.fontStyle = e, ni.fontWeight = r, ni.fontSize = n, ni.fontFamily = i, ni.text = o, ni.x = 0, ni.y = 0, ni.textAlign = "left", ni.textBaseline = "top";
  var a = ni.computeBBox(), s = a.width, l = a.height;
  return { width: s, height: l };
}
function xg(o) {
  if (typeof o == "string" && !Nt.validColorString(o)) {
    var t = "black";
    return pe.warnOnce('invalid Treemap tile colour string "' + o + '". Affected treemap tiles will be coloured ' + t + "."), "black";
  }
  return o;
}
var B4 = (
  /** @class */
  function() {
    function o() {
      this.color = "black";
    }
    return dt([
      A(ct)
    ], o.prototype, "color", void 0), o;
  }()
), H4 = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.text = new B4(), e;
    }
    return t;
  }(lC)
), j4 = (
  /** @class */
  function(o) {
    la(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.groupSelection = ft.select(e.contentGroup, Se), e.highlightSelection = ft.select(e.highlightGroup, Se), e.title = function() {
        var r = new R_();
        return r.color = "white", r.fontWeight = "bold", r.fontSize = 12, r.fontFamily = "Verdana, sans-serif", r.padding = 15, r;
      }(), e.subtitle = function() {
        var r = new R_();
        return r.color = "white", r.fontSize = 9, r.fontFamily = "Verdana, sans-serif", r.padding = 13, r;
      }(), e.labels = {
        large: function() {
          var r = new Og();
          return r.color = "white", r.fontWeight = "bold", r.fontSize = 18, r;
        }(),
        medium: function() {
          var r = new Og();
          return r.color = "white", r.fontWeight = "bold", r.fontSize = 14, r;
        }(),
        small: function() {
          var r = new Og();
          return r.color = "white", r.fontWeight = "bold", r.fontSize = 10, r;
        }(),
        formatter: void 0,
        value: new V4()
      }, e.nodePadding = 2, e.nodeGap = 0, e.labelKey = "label", e.sizeKey = "size", e.colorKey = "color", e.colorDomain = [-5, 5], e.colorRange = ["#cb4b3f", "#6acb64"], e.groupFill = "#272931", e.groupStroke = "black", e.groupStrokeWidth = 1, e.tileStroke = "black", e.tileStrokeWidth = 1, e.gradient = !0, e.formatter = void 0, e.colorName = "Change", e.rootName = "Root", e.highlightGroups = !0, e.tileShadow = new Ry(), e.labelShadow = new Ry(), e.tooltip = new N4(), e.highlightStyle = new H4(), e;
    }
    return t.prototype.getNodePaddingTop = function(e, r) {
      var n, i = this, a = i.title, s = i.subtitle, l = i.nodePadding, u = e.label;
      if (e.isLeaf || !u || e.depth === 0)
        return l;
      var c = e.depth > 1 ? s : a, d = rl(u, c), p = 3;
      return c.fontSize > r.width / p || c.fontSize > r.height / p || d.height >= r.height ? l : d.height + l + ((n = c.padding) !== null && n !== void 0 ? n : 0);
    }, t.prototype.getNodePadding = function(e, r) {
      var n = this.nodePadding, i = this.getNodePaddingTop(e, r);
      return {
        top: i,
        right: n,
        bottom: n,
        left: n
      };
    }, t.prototype.squarify = function(e, r, n) {
      if (n === void 0 && (n = /* @__PURE__ */ new Map()), r.width <= 0 || r.height <= 0)
        return n;
      n.set(e, r);
      var i = 1, a = this.getNodePadding(e, r), s = r.width - a.left - a.right, l = r.height - a.top - a.bottom;
      if (s <= 0 || l <= 0 || e.value <= 0)
        return n;
      for (var u = 0, c = 0, d = 1 / 0, p = e.value, h = e.children, f = new Ye(r.x + a.left, r.y + a.top, s, l), v = f.clone(), g = 0; g < h.length; g++) {
        var y = h[g].value, m = h[c].value, C = v.width < v.height;
        u += y;
        var S = C ? v.height : v.width, b = C ? v.width : v.height, _ = b * m / u, O = S * u / p, E = Math.max(_, O) / Math.min(_, O), D = Math.abs(i - E);
        if (D < d) {
          d = D;
          continue;
        }
        u -= y, O = S * u / p;
        for (var x = C ? v.x : v.y, P = c; P < g; P++) {
          var M = h[P], F = C ? x : v.x, I = C ? v.y : x, N = b * M.value / u, k = C ? N : O, L = C ? O : N, B = new Ye(F, I, k, L);
          this.applyGap(f, B), this.squarify(M, B, n), p -= M.value, x += N;
        }
        C ? (v.y += O, v.height -= O) : (v.x += O, v.width -= O), c = g, u = 0, d = 1 / 0, g--;
      }
      for (var j = v.width < v.height, J = j ? v.x : v.y, g = c; g < h.length; g++) {
        var F = j ? J : v.x, I = j ? v.y : J, U = h[g].value / p, Y = v.width * (j ? U : 1), X = v.height * (j ? 1 : U), B = new Ye(F, I, Y, X);
        this.applyGap(f, B), this.squarify(h[g], B, n), J += j ? Y : X;
      }
      return n;
    }, t.prototype.applyGap = function(e, r) {
      var n = this.nodeGap / 2, i = function(u) {
        return {
          left: u.x,
          top: u.y,
          right: u.x + u.width,
          bottom: u.y + u.height
        };
      }, a = i(e), s = i(r), l = Object.keys(a);
      l.forEach(function(u) {
        yC(a[u], s[u]) || r.shrink(n, u);
      });
    }, t.prototype.processData = function() {
      return Qu(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d, p, h = this;
        return Ju(this, function(f) {
          return this.data ? (e = this, r = e.data, n = e.sizeKey, i = e.labelKey, a = e.colorKey, s = e.colorDomain, l = e.colorRange, u = e.groupFill, c = this.labels.formatter, d = new bx(), d.domain = s, d.range = l, d.update(), p = function(v, g, y) {
            var m, C, S, b;
            g === void 0 && (g = 0);
            var _;
            c && (_ = h.ctx.callbackCache.call(c, { datum: v })), _ !== void 0 || (i ? _ = (m = v[i]) !== null && m !== void 0 ? m : "" : _ = "");
            var O = a && (C = v[a]) !== null && C !== void 0 ? C : g;
            O = xg(O);
            var E = !v.children, D = u;
            typeof O == "string" ? D = O : (E || !u) && (D = d.convert(O));
            var x = {
              datum: v,
              depth: g,
              parent: y,
              value: 0,
              label: _,
              fill: D,
              series: h,
              isLeaf: E,
              children: []
            };
            return E ? x.value = n && (S = v[n]) !== null && S !== void 0 ? S : 1 : ((b = v.children) === null || b === void 0 || b.forEach(function(P) {
              var M = p(P, g + 1, x), F = M.value;
              isNaN(F) || !isFinite(F) || F === 0 || (x.value += F, x.children.push(M));
            }), x.children.sort(function(P, M) {
              return M.value - P.value;
            })), x;
          }, this.dataRoot = p(r), [
            2
            /*return*/
          ]) : [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.createNodeData = function() {
      return Qu(this, void 0, void 0, function() {
        return Ju(this, function(e) {
          return [2, []];
        });
      });
    }, t.prototype.update = function() {
      return Qu(this, void 0, void 0, function() {
        return Ju(this, function(e) {
          switch (e.label) {
            case 0:
              return [4, this.updateSelections()];
            case 1:
              return e.sent(), [4, this.updateNodes()];
            case 2:
              return e.sent(), [
                2
                /*return*/
              ];
          }
        });
      });
    }, t.prototype.updateSelections = function() {
      return Qu(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d;
        return Ju(this, function(p) {
          return this.nodeDataRefresh ? (this.nodeDataRefresh = !1, e = this, r = e.chart, n = e.dataRoot, !r || !n ? [
            2
            /*return*/
          ] : (i = r.getSeriesRect(), i ? (a = [], s = function(h) {
            var f;
            a.push(h), (f = h.children) === null || f === void 0 || f.forEach(s);
          }, s(n), l = this, u = l.groupSelection, c = l.highlightSelection, d = function(h) {
            return h.update(a, function(f) {
              var v = new Un(), g = new ot();
              g.tag = No.Name;
              var y = new ot();
              y.tag = No.Value, f.append([v, g, y]);
            });
          }, this.groupSelection = d(u), this.highlightSelection = d(c), [
            2
            /*return*/
          ]) : [
            2
            /*return*/
          ])) : [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.isDatumHighlighted = function(e) {
      var r, n = (r = this.ctx.highlightManager) === null || r === void 0 ? void 0 : r.getActiveHighlight();
      return e === n && (e.isLeaf || this.highlightGroups);
    }, t.prototype.getTileFormat = function(e, r) {
      var n, i = this, a = i.formatter, s = i.ctx.callbackCache;
      if (!a)
        return {};
      var l = this, u = l.gradient, c = l.colorKey, d = l.labelKey, p = l.sizeKey, h = l.tileStroke, f = l.tileStrokeWidth, v = l.groupStroke, g = l.groupStrokeWidth, y = e.isLeaf ? h : v, m = e.isLeaf ? f : g, C = s.call(a, {
        seriesId: this.id,
        datum: e.datum,
        depth: e.depth,
        parent: (n = e.parent) === null || n === void 0 ? void 0 : n.datum,
        colorKey: c,
        sizeKey: p,
        labelKey: d,
        fill: e.fill,
        stroke: y,
        strokeWidth: m,
        gradient: u,
        highlighted: r
      });
      return C != null ? C : {};
    }, t.prototype.updateNodes = function() {
      return Qu(this, void 0, void 0, function() {
        var e, r, n, i, a, s, l, u, c, d, p, h, f, v, g, y, m, C, S, b, _, O, E = this;
        return Ju(this, function(D) {
          return this.chart ? (e = this, r = e.gradient, n = e.highlightStyle, i = n.item, a = i.fill, s = i.fillOpacity, l = i.stroke, u = i.strokeWidth, c = n.text.color, d = e.tileStroke, p = e.tileStrokeWidth, h = e.groupStroke, f = e.groupStrokeWidth, v = e.tileShadow, g = e.labelShadow, y = e.dataRoot, y ? (m = this.chart.getSeriesRect(), C = this.squarify(y, new Ye(0, 0, m.width, m.height)), S = this.buildLabelMeta(C), b = this.getHighlightedSubtree(y), this.updateNodeMidPoint(C), _ = function(x, P, M) {
            var F, I, N, k, L, B, j = C.get(P);
            if (!j) {
              x.visible = !1;
              return;
            }
            var J = M && a !== void 0 ? a : P.fill, U = (F = M ? s : 1) !== null && F !== void 0 ? F : 1, Y = h;
            M && l !== void 0 ? Y = l : P.isLeaf && (Y = d);
            var X = f;
            M && u !== void 0 ? X = u : P.isLeaf && (X = p);
            var ne = E.getTileFormat(P, M), K = xg((I = ne == null ? void 0 : ne.fill) !== null && I !== void 0 ? I : J);
            if ((N = ne == null ? void 0 : ne.gradient) !== null && N !== void 0 ? N : r) {
              var ee = Nt.tryParseFromString(J).brighter().toString(), ie = Nt.tryParseFromString(J).darker().toString();
              x.fill = "linear-gradient(180deg, " + ee + ", " + ie + ")";
            } else
              x.fill = K;
            x.fillOpacity = (k = ne == null ? void 0 : ne.fillOpacity) !== null && k !== void 0 ? k : U, x.stroke = xg((L = ne == null ? void 0 : ne.stroke) !== null && L !== void 0 ? L : Y), x.strokeWidth = (B = ne == null ? void 0 : ne.strokeWidth) !== null && B !== void 0 ? B : X, x.fillShadow = v, x.crisp = !0, x.x = j.x, x.y = j.y, x.width = j.width, x.height = j.height, x.visible = !0;
          }, this.groupSelection.selectByClass(Un).forEach(function(x) {
            return _(x, x.datum, !1);
          }), this.highlightSelection.selectByClass(Un).forEach(function(x) {
            var P = E.isDatumHighlighted(x.datum);
            x.visible = P || b.has(x.datum), x.visible && _(x, x.datum, P);
          }), O = function(x, P, M, F) {
            var I = S.get(P), N = I == null ? void 0 : I[F];
            if (!N) {
              x.visible = !1;
              return;
            }
            x.text = N.text, x.fontFamily = N.style.fontFamily, x.fontSize = N.style.fontSize, x.fontWeight = N.style.fontWeight, x.fill = M && c != null ? c : N.style.color, x.fillShadow = M ? void 0 : g, x.textAlign = N.hAlign, x.textBaseline = N.vAlign, x.x = N.x, x.y = N.y, x.visible = !0;
          }, this.groupSelection.selectByTag(No.Name).forEach(function(x) {
            return O(x, x.datum, !1, "label");
          }), this.highlightSelection.selectByTag(No.Name).forEach(function(x) {
            var P = E.isDatumHighlighted(x.datum);
            x.visible = P || b.has(x.datum), x.visible && O(x, x.datum, P, "label");
          }), this.groupSelection.selectByTag(No.Value).forEach(function(x) {
            return O(x, x.datum, !1, "value");
          }), this.highlightSelection.selectByTag(No.Value).forEach(function(x) {
            var P = E.isDatumHighlighted(x.datum);
            x.visible = P || b.has(x.datum), x.visible && O(x, x.datum, P, "value");
          }), [
            2
            /*return*/
          ]) : [
            2
            /*return*/
          ]) : [
            2
            /*return*/
          ];
        });
      });
    }, t.prototype.updateNodeMidPoint = function(e) {
      e.forEach(function(r, n) {
        n.nodeMidPoint = {
          x: r.x + r.width / 2,
          y: r.y
        };
      });
    }, t.prototype.getHighlightedSubtree = function(e) {
      var r = this, n = /* @__PURE__ */ new Set(), i = function(a) {
        var s;
        (r.isDatumHighlighted(a) || a.parent && n.has(a.parent)) && n.add(a), (s = a.children) === null || s === void 0 || s.forEach(i);
      };
      return i(e), n;
    }, t.prototype.buildLabelMeta = function(e) {
      var r = this, n = r.labels, i = r.title, a = r.subtitle, s = r.nodePadding, l = r.labelKey, u = r.ctx.callbackCache, c = /-$/m, d = /* @__PURE__ */ new Map();
      return e.forEach(function(p, h) {
        var f, v, g;
        if (!(!l || h.depth === 0)) {
          var y = p.width - 2 * s, m = p.height - 2 * s, C = function(L) {
            var B = 3;
            return L.fontSize > p.width / B || L.fontSize > p.height / B;
          }, S = h.isLeaf ? h.label : h.label.toUpperCase(), b = "", _ = n.value, O = _.style, E = Math.ceil(O.fontSize * 2 * (ot.defaultLineHeightRatio - 1));
          h.isLeaf && (_.formatter ? b = (f = u.call(_.formatter, { datum: h.datum })) !== null && f !== void 0 ? f : "" : _.key && (b = h.datum[_.key]));
          var D = rl(b, O);
          b && D.width > y && (b = "");
          var x, P = "";
          if (h.isLeaf) {
            var M = function() {
              var L, B, j = m - (b ? O.fontSize + E : 0), J = [n.large, n.medium, n.small];
              try {
                for (var U = L4(J), Y = U.next(); !Y.done; Y = U.next()) {
                  var X = Y.value, ne = rl(S, X), K = ne.width, ee = ne.height;
                  if (!(ee > j || C(X))) {
                    if (K <= y)
                      return { style: X, wrappedText: void 0 };
                    var ie = ot.wrap(S, y, j, X, X.wrapping);
                    if (ie && ie !== "…" && (X === n.small || !(c.exec(ie) || ie.endsWith("…"))))
                      return { style: X, wrappedText: ie };
                  }
                }
              } catch (Ce) {
                L = { error: Ce };
              } finally {
                try {
                  Y && !Y.done && (B = U.return) && B.call(U);
                } finally {
                  if (L)
                    throw L.error;
                }
              }
              var le = rl(S, n.small);
              return le.height <= j && !C(n.small) ? { style: n.small, wrappedText: void 0 } : { style: void 0, wrappedText: void 0 };
            }, F = M();
            !F.style && b && (b = "", F = M()), x = (v = F.style) !== null && v !== void 0 ? v : n.small, P = (g = F.wrappedText) !== null && g !== void 0 ? g : "";
          } else
            h.depth === 1 ? x = i : x = a;
          var I = rl(P || S, x);
          if (!C(x)) {
            if (I.width > y) {
              var N = Math.floor(S.length * y / I.width) - 1;
              S = S.substring(0, N).trim() + "…";
            }
            D = rl(b, O);
            var k = b && D.width < y && D.height + I.height + E < m;
            d.set(h, {
              label: Fy({ text: P || S, style: x }, h.isLeaf ? {
                hAlign: "center",
                vAlign: "middle",
                x: p.x + p.width / 2,
                y: p.y + p.height / 2 - (k ? D.height / 2 + E / 2 : 0)
              } : {
                hAlign: "left",
                vAlign: "top",
                x: p.x + s,
                y: p.y + s
              }),
              value: k ? {
                text: b,
                style: O,
                hAlign: "center",
                vAlign: "middle",
                x: p.x + p.width / 2,
                y: p.y + p.height / 2 + I.height / 2 + E / 2
              } : void 0
            });
          }
        }
      }), d;
    }, t.prototype.getDomain = function(e) {
      return [0, 1];
    }, t.prototype.getNodeClickEvent = function(e, r) {
      return new G4(this.labelKey, this.sizeKey, this.colorKey, e, r, this);
    }, t.prototype.getNodeDoubleClickEvent = function(e, r) {
      return new k4(this.labelKey, this.sizeKey, this.colorKey, e, r, this);
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i, a;
      if (!this.highlightGroups && !e.isLeaf)
        return "";
      var s = this, l = s.tooltip, u = s.sizeKey, c = s.labelKey, d = s.colorKey, p = s.rootName, h = s.id, f = s.labels, v = s.ctx.callbackCache, g = e.datum, y = l.renderer, m = e.depth ? g[c] : (r = g[c]) !== null && r !== void 0 ? r : p, C = "", S = this.getTileFormat(e, !1), b = (i = (n = S == null ? void 0 : S.fill) !== null && n !== void 0 ? n : e.fill) !== null && i !== void 0 ? i : "gray", _ = f.value.key, O = f.value.formatter;
      if (_ || O) {
        var E = "";
        if (O)
          E = v.call(O, { datum: g });
        else if (_ != null) {
          var D = g[_];
          typeof D == "number" && isFinite(D) && (E = tx(D));
        }
        E && (f.value.name && (C += "<b>" + f.value.name + ":</b> "), C += E);
      }
      var x = {
        title: m,
        backgroundColor: b,
        content: C
      };
      return y ? ur(y({
        datum: e.datum,
        parent: (a = e.parent) === null || a === void 0 ? void 0 : a.datum,
        depth: e.depth,
        sizeKey: u,
        labelKey: c,
        colorKey: d,
        title: m,
        color: b,
        seriesId: h
      }), x) : !m && !C ? "" : ur(x);
    }, t.prototype.getLegendData = function() {
      return [];
    }, t.className = "TreemapSeries", t.type = "treemap", dt([
      A(ae(0))
    ], t.prototype, "nodePadding", void 0), dt([
      A(ae(0))
    ], t.prototype, "nodeGap", void 0), dt([
      A(lr)
    ], t.prototype, "labelKey", void 0), dt([
      A(Oe)
    ], t.prototype, "sizeKey", void 0), dt([
      A(Oe)
    ], t.prototype, "colorKey", void 0), dt([
      A(_O)
    ], t.prototype, "colorDomain", void 0), dt([
      A(Kc)
    ], t.prototype, "colorRange", void 0), dt([
      A(Oe)
    ], t.prototype, "groupFill", void 0), dt([
      A(ct)
    ], t.prototype, "groupStroke", void 0), dt([
      A(tt(0))
    ], t.prototype, "groupStrokeWidth", void 0), dt([
      A(ct)
    ], t.prototype, "tileStroke", void 0), dt([
      A(tt(0))
    ], t.prototype, "tileStrokeWidth", void 0), dt([
      A(at)
    ], t.prototype, "gradient", void 0), dt([
      A(mt)
    ], t.prototype, "formatter", void 0), dt([
      A(lr)
    ], t.prototype, "colorName", void 0), dt([
      A(lr)
    ], t.prototype, "rootName", void 0), dt([
      A(Ti)
    ], t.prototype, "highlightGroups", void 0), t;
  }(F4)
), vl = {
  area: "cartesian",
  bar: "cartesian",
  column: "cartesian",
  histogram: "cartesian",
  line: "cartesian",
  scatter: "cartesian",
  treemap: "hierarchy",
  pie: "polar"
}, Ly = {}, Pt = {
  has: function(o) {
    return Object.prototype.hasOwnProperty.call(vl, o);
  },
  isCartesian: function(o) {
    return vl[o] === "cartesian";
  },
  isPolar: function(o) {
    return vl[o] === "polar";
  },
  isHierarchy: function(o) {
    return vl[o] === "hierarchy";
  },
  get seriesTypes() {
    return Object.keys(vl);
  },
  get cartesianTypes() {
    var o = this;
    return this.seriesTypes.filter(function(t) {
      return o.isCartesian(t);
    });
  },
  get polarTypes() {
    var o = this;
    return this.seriesTypes.filter(function(t) {
      return o.isPolar(t);
    });
  },
  get hierarchyTypes() {
    var o = this;
    return this.seriesTypes.filter(function(t) {
      return o.isHierarchy(t);
    });
  }
};
function W4(o, t) {
  vl[o] = t;
}
function $4(o, t) {
  var e;
  Ly[o] = xt([(e = Ly[o]) !== null && e !== void 0 ? e : {}, t]);
}
function D_(o) {
  var t;
  return (t = Ly[o]) !== null && t !== void 0 ? t : {};
}
var U4 = {
  area: o4,
  bar: _x,
  column: m4,
  histogram: b4,
  line: x4,
  pie: ax,
  scatter: M4,
  treemap: j4
}, xx = {}, Tx = {}, Rx = {}, Dx = {};
function z4(o, t, e, r, n, i) {
  xx[o] = e, Tx[o] = r, Rx[o] = n, i && ua(o, i), W4(o, t);
}
function K4(o, t) {
  var e, r = (e = xx[o]) !== null && e !== void 0 ? e : U4[o];
  if (r)
    return new r(t);
  throw new Error("AG Charts - unknown series type: " + o);
}
function P_(o) {
  return Tx[o];
}
function Px(o) {
  return Rx[o];
}
function ua(o, t) {
  Dx[o] = t;
}
function Y4(o) {
  return Dx[o];
}
var X4 = {
  axes: [
    {
      type: jh.type,
      position: "left"
    },
    {
      type: Jl.type,
      position: "bottom"
    }
  ]
}, q4 = {
  axes: [
    {
      type: "number",
      position: "bottom"
    },
    {
      type: "category",
      position: "left"
    }
  ]
}, Z4 = {
  axes: [
    {
      type: "number",
      position: "bottom"
    },
    {
      type: "number",
      position: "left"
    }
  ]
};
function li(o, t) {
  if (A_(o) && A_(t)) {
    var e = {};
    return Object.keys(o).forEach(function(r) {
      r in t ? e[r] = li(o[r], t[r]) : e[r] = o[r];
    }), Object.keys(t).forEach(function(r) {
      r in o || (e[r] = t[r]);
    }), e;
  }
  return Array.isArray(o) && !Array.isArray(t) || Ny(o) && !Ny(t) ? o : t;
}
function Ny(o) {
  return o && typeof o == "object";
}
function A_(o) {
  return Ny(o) && o.constructor === Object;
}
var Ee = function() {
  return Ee = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ee.apply(this, arguments);
}, M_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Q4 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, J4 = {
  fills: ["#f3622d", "#fba71b", "#57b757", "#41a9c9", "#4258c9", "#9a42c8", "#c84164", "#888888"],
  strokes: ["#aa4520", "#b07513", "#3d803d", "#2d768d", "#2e3e8d", "#6c2e8c", "#8c2d46", "#5f5f5f"]
}, e5 = Symbol("extends-axes-defaults"), t5 = Symbol("extends-axes-label-defaults"), r5 = Symbol("extends-axes-line-defaults"), n5 = Symbol("extends-series-defaults"), Ax = Symbol("override-series-label-defaults"), i5 = Symbol("default-font"), I_ = "bold", o5 = "inside", a5 = "bottom", ys = (
  /** @class */
  function() {
    function o(t) {
      t = li({}, t != null ? t : {});
      var e = t.overrides, r = e === void 0 ? null : e, n = t.palette, i = n === void 0 ? null : n, a = this.createChartConfigPerChartType(this.getDefaults());
      if (r) {
        var s = r.common, l = r.cartesian, u = r.polar, c = r.hierarchy, d = function(p, h, f) {
          f && (a[p] = li(a[p], f), h.forEach(function(v) {
            var g = v;
            a[g] = li(a[g], f);
          }));
        };
        d("common", Object.keys(a), s), d("cartesian", Pt.cartesianTypes, l), d("polar", Pt.polarTypes, u), d("hierarchy", Pt.hierarchyTypes, c), Pt.seriesTypes.forEach(function(p) {
          var h, f = p, v = r[f];
          v && (v.series && (v.series = (h = {}, h[f] = v.series, h)), a[f] = li(a[f], v));
        });
      }
      this.palette = i != null ? i : this.getPalette(), this.config = Object.freeze(a);
    }
    return o.prototype.getPalette = function() {
      return J4;
    }, o.getAxisDefaults = function() {
      return {
        top: {},
        right: {},
        bottom: {},
        left: {},
        title: {
          enabled: !1,
          text: "Axis Title",
          fontStyle: void 0,
          fontWeight: I_,
          fontSize: 12,
          fontFamily: this.fontFamily,
          color: "rgb(70, 70, 70)"
        },
        label: {
          fontStyle: void 0,
          fontWeight: void 0,
          fontSize: 12,
          fontFamily: this.fontFamily,
          padding: 5,
          rotation: void 0,
          color: "rgb(87, 87, 87)",
          formatter: void 0,
          autoRotate: !1,
          avoidCollisions: !0
        },
        line: {
          width: 1,
          color: "rgb(195, 195, 195)"
        },
        tick: {
          width: 1,
          size: 6,
          color: "rgb(195, 195, 195)"
        },
        gridStyle: [
          {
            stroke: "rgb(219, 219, 219)",
            lineDash: [4, 2]
          }
        ],
        crossLines: {
          enabled: !1,
          fill: "rgb(187,221,232)",
          stroke: "rgb(70,162,192)",
          strokeWidth: 1,
          label: {
            enabled: !1,
            fontStyle: void 0,
            fontWeight: void 0,
            fontSize: 12,
            fontFamily: this.fontFamily,
            padding: 5,
            color: "rgb(87, 87, 87)",
            rotation: void 0
          }
        }
      };
    }, o.getSeriesDefaults = function() {
      return {
        tooltip: {
          enabled: !0,
          renderer: void 0
        },
        visible: !0,
        showInLegend: !0,
        highlightStyle: {
          item: {
            fill: "yellow",
            fillOpacity: 1
          },
          series: {
            dimOpacity: 1
          },
          text: {
            color: "black"
          }
        },
        nodeClickRange: "exact"
      };
    }, o.getBarSeriesDefaults = function() {
      return Ee(Ee({}, this.getSeriesDefaults()), { fillOpacity: 1, strokeOpacity: 1, normalizedTo: void 0, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, label: {
        enabled: !1,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: this.fontFamily,
        color: "rgb(70, 70, 70)",
        formatter: void 0,
        placement: o5
      }, shadow: {
        enabled: !1,
        color: "rgba(0, 0, 0, 0.5)",
        xOffset: 3,
        yOffset: 3,
        blur: 5
      } });
    }, o.getLineSeriesDefaults = function() {
      var t = this.getSeriesDefaults();
      return Ee(Ee({}, t), { tooltip: Ee(Ee({}, t.tooltip), { format: void 0, position: {
        type: "node"
      } }) });
    }, o.getAreaSeriesDefaults = function() {
      var t = this.getSeriesDefaults();
      return Ee(Ee({}, t), { nodeClickRange: "nearest", tooltip: Ee(Ee({}, t.tooltip), { position: {
        type: "node"
      } }) });
    }, o.getScatterSeriesDefaults = function() {
      var t = this.getSeriesDefaults();
      return Ee(Ee({}, t), { tooltip: Ee(Ee({}, t.tooltip), { position: {
        type: "node"
      } }) });
    }, o.getCartesianSeriesMarkerDefaults = function() {
      return {
        enabled: !0,
        shape: "circle",
        size: 6,
        maxSize: 30,
        strokeWidth: 1,
        formatter: void 0
      };
    }, o.getCaptionWrappingDefaults = function() {
      return "hyphenate";
    }, o.getChartDefaults = function() {
      return {
        background: {
          visible: !0,
          fill: "white"
        },
        padding: {
          top: 20,
          right: 20,
          bottom: 20,
          left: 20
        },
        title: {
          enabled: !1,
          text: "Title",
          fontStyle: void 0,
          fontWeight: I_,
          fontSize: 16,
          fontFamily: this.fontFamily,
          color: "rgb(70, 70, 70)",
          wrapping: o.getCaptionWrappingDefaults()
        },
        subtitle: {
          enabled: !1,
          text: "Subtitle",
          fontStyle: void 0,
          fontWeight: void 0,
          fontSize: 12,
          fontFamily: this.fontFamily,
          color: "rgb(140, 140, 140)",
          wrapping: o.getCaptionWrappingDefaults()
        },
        footnote: {
          enabled: !1,
          text: "Footnote",
          fontStyle: void 0,
          fontWeight: void 0,
          fontSize: 12,
          fontFamily: this.fontFamily,
          color: "rgb(140, 140, 140)",
          spacing: 30,
          wrapping: o.getCaptionWrappingDefaults()
        },
        legend: {
          position: a5,
          spacing: 20,
          listeners: {},
          item: {
            paddingX: 16,
            paddingY: 8,
            marker: {
              shape: void 0,
              size: 15,
              strokeWidth: 1,
              padding: 8
            },
            label: {
              color: "black",
              fontStyle: void 0,
              fontWeight: void 0,
              fontSize: 12,
              fontFamily: this.fontFamily,
              formatter: void 0
            }
          },
          reverseOrder: !1,
          pagination: {
            marker: {
              size: 12
            },
            activeStyle: {
              fill: "rgb(70, 70, 70)"
            },
            inactiveStyle: {
              fill: "rgb(219, 219, 219)"
            },
            highlightStyle: {
              fill: "rgb(70, 70, 70)"
            },
            label: {
              color: "rgb(70, 70, 70)"
            }
          }
        },
        tooltip: {
          enabled: !0,
          range: "nearest",
          delay: 0
        },
        listeners: {}
      };
    }, o.prototype.createChartConfigPerChartType = function(t) {
      var e = this, r = {
        cartesian: Pt.cartesianTypes,
        polar: Pt.polarTypes,
        hierarchy: Pt.hierarchyTypes,
        groupedCategory: []
      };
      return Object.entries(r).forEach(function(n) {
        var i = M_(n, 2), a = i[0], s = i[1], l = a, u = e.templateTheme(D_(l));
        s.forEach(function(c) {
          var d = c;
          t[d] || (t[d] = li({}, t[l]), li(t[d], u));
        });
      }), t;
    }, o.prototype.getDefaults = function() {
      var t = this, e = li({}, o.defaults), r = function(i, a) {
        var s = t.templateTheme(D_(i));
        return s.series = a.reduce(function(l, u) {
          var c = Px(u);
          return c && (l[u] = t.templateTheme(c)), l;
        }, {}), (i === "cartesian" || i === "polar") && (s.axes = mC.axesTypes.reduce(function(l, u) {
          var c = zK(u);
          return c && (l[u] = t.templateTheme(c)), l;
        }, {})), s;
      }, n = {
        cartesian: r("cartesian", Pt.cartesianTypes),
        groupedCategory: r("cartesian", Pt.cartesianTypes),
        polar: r("polar", Pt.polarTypes),
        hierarchy: r("hierarchy", Pt.hierarchyTypes)
      };
      return li(e, n);
    }, o.prototype.templateTheme = function(t) {
      var e = xt([t]), r = this.getTemplateParameters(), n = r.extensions, i = r.properties;
      return ql(e, function(a, s) {
        var l, u;
        if (s.__extends__) {
          var c = s.__extends__, d = n.get(c);
          if (d == null)
            throw new Error("AG Charts - no template variable provided for: " + c);
          Object.keys(d).forEach(function(m) {
            m in s || (s[m] = d[m]);
          }), delete s.__extends__;
        }
        if (s.__overrides__) {
          var c = s.__overrides__, p = n.get(c);
          if (p == null)
            throw new Error("AG Charts - no template variable provided for: " + c);
          Object.assign(s, p), delete s.__overrides__;
        }
        try {
          for (var h = Q4(Object.entries(s)), f = h.next(); !f.done; f = h.next()) {
            var v = M_(f.value, 2), g = v[0], y = v[1];
            i.has(y) && (s[g] = i.get(y));
          }
        } catch (m) {
          l = { error: m };
        } finally {
          try {
            f && !f.done && (u = h.return) && u.call(h);
          } finally {
            if (l)
              throw l.error;
          }
        }
      }, {}), e;
    }, o.prototype.getTemplateParameters = function() {
      var t = /* @__PURE__ */ new Map();
      t.set(e5, o.getAxisDefaults()), t.set(t5, o.getAxisDefaults().label), t.set(r5, o.getAxisDefaults().line), t.set(n5, o.getSeriesDefaults()), t.set(Ax, {});
      var e = /* @__PURE__ */ new Map();
      return e.set(i5, o.fontFamily), {
        extensions: t,
        properties: e
      };
    }, o.prototype.mergeWithParentDefaults = function(t, e) {
      return li(t, e);
    }, o.fontFamily = "Verdana, sans-serif", o.cartesianDefaults = Ee(Ee({}, o.getChartDefaults()), { axes: {
      number: Ee({}, o.getAxisDefaults()),
      log: Ee(Ee({}, o.getAxisDefaults()), { base: 10 }),
      category: Ee(Ee({}, o.getAxisDefaults()), { groupPaddingInner: 0.1, label: Ee(Ee({}, o.getAxisDefaults().label), { autoRotate: !0 }) }),
      groupedCategory: Ee({}, o.getAxisDefaults()),
      time: Ee({}, o.getAxisDefaults())
    }, series: {
      column: Ee({}, o.getBarSeriesDefaults()),
      bar: Ee({}, o.getBarSeriesDefaults()),
      line: Ee(Ee({}, o.getLineSeriesDefaults()), { title: void 0, strokeWidth: 2, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, marker: Ee(Ee({}, o.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1 }), label: {
        enabled: !1,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        formatter: void 0
      } }),
      scatter: Ee(Ee({}, o.getScatterSeriesDefaults()), { sizeName: "Size", labelName: "Label", marker: Ee({}, o.getCartesianSeriesMarkerDefaults()), label: {
        enabled: !1,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)"
      } }),
      area: Ee(Ee({}, o.getAreaSeriesDefaults()), { normalizedTo: void 0, fillOpacity: 0.8, strokeOpacity: 1, strokeWidth: 2, lineDash: [0], lineDashOffset: 0, shadow: {
        enabled: !1,
        color: "rgba(0, 0, 0, 0.5)",
        xOffset: 3,
        yOffset: 3,
        blur: 5
      }, marker: Ee(Ee({}, o.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1, enabled: !1 }), label: {
        enabled: !1,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        formatter: void 0
      } }),
      histogram: Ee(Ee({}, o.getSeriesDefaults()), { strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, areaPlot: !1, bins: void 0, aggregation: "sum", label: {
        enabled: !1,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        formatter: void 0
      }, shadow: {
        enabled: !0,
        color: "rgba(0, 0, 0, 0.5)",
        xOffset: 0,
        yOffset: 0,
        blur: 5
      } })
    } }), o.polarDefaults = Ee(Ee({}, o.getChartDefaults()), { series: {
      pie: Ee(Ee({}, o.getSeriesDefaults()), { title: {
        enabled: !0,
        fontStyle: void 0,
        fontWeight: "bold",
        fontSize: 14,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        spacing: 0
      }, radiusKey: void 0, radiusName: void 0, calloutLabelKey: void 0, calloutLabelName: void 0, sectorLabelKey: void 0, sectorLabelName: void 0, calloutLabel: {
        enabled: !0,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        offset: 3,
        minAngle: 0
      }, sectorLabel: {
        enabled: !0,
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        positionOffset: 0,
        positionRatio: 0.5
      }, calloutLine: {
        length: 10,
        strokeWidth: 2
      }, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, shadow: {
        enabled: !1,
        color: "rgba(0, 0, 0, 0.5)",
        xOffset: 3,
        yOffset: 3,
        blur: 5
      }, innerLabels: {
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 12,
        fontFamily: o.fontFamily,
        color: "rgb(70, 70, 70)",
        margin: 2
      } })
    } }), o.hierarchyDefaults = Ee(Ee({}, o.getChartDefaults()), { series: {
      treemap: Ee(Ee({}, o.getSeriesDefaults()), { showInLegend: !1, labelKey: "label", sizeKey: "size", colorKey: "color", colorDomain: [-5, 5], colorRange: ["#cb4b3f", "#6acb64"], groupFill: "#272931", groupStroke: "black", groupStrokeWidth: 1, tileStroke: "black", tileStrokeWidth: 1, gradient: !0, tileShadow: {
        enabled: !1,
        color: "rgba(0, 0, 0, 0.5)",
        xOffset: 3,
        yOffset: 3,
        blur: 5
      }, labelShadow: {
        enabled: !0,
        color: "rgba(0, 0, 0, 0.4)",
        xOffset: 1.5,
        yOffset: 1.5,
        blur: 5
      }, highlightGroups: !0, nodePadding: 2, nodeGap: 0, title: {
        enabled: !0,
        color: "white",
        fontStyle: void 0,
        fontWeight: "bold",
        fontSize: 12,
        fontFamily: "Verdana, sans-serif",
        padding: 2
      }, subtitle: {
        enabled: !0,
        color: "white",
        fontStyle: void 0,
        fontWeight: void 0,
        fontSize: 9,
        fontFamily: "Verdana, sans-serif",
        padding: 2
      }, labels: {
        large: {
          enabled: !0,
          fontStyle: void 0,
          fontWeight: "bold",
          fontSize: 18,
          fontFamily: "Verdana, sans-serif",
          color: "white",
          wrapping: "on-space"
        },
        medium: {
          enabled: !0,
          fontStyle: void 0,
          fontWeight: "bold",
          fontSize: 14,
          fontFamily: "Verdana, sans-serif",
          color: "white",
          wrapping: "on-space"
        },
        small: {
          enabled: !0,
          fontStyle: void 0,
          fontWeight: "bold",
          fontSize: 10,
          fontFamily: "Verdana, sans-serif",
          color: "white",
          wrapping: "on-space"
        },
        value: {
          style: {
            enabled: !0,
            fontStyle: void 0,
            fontWeight: void 0,
            fontSize: 12,
            fontFamily: "Verdana, sans-serif",
            color: "white"
          }
        }
      } })
    } }), o.defaults = {
      cartesian: o.cartesianDefaults,
      groupedCategory: o.cartesianDefaults,
      polar: o.polarDefaults,
      hierarchy: o.hierarchyDefaults
    }, o;
  }()
), s5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), st = function() {
  return st = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, st.apply(this, arguments);
}, fd = (
  /** @class */
  function(o) {
    s5(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getDefaults = function() {
      var e = this, r = t.fontColor, n = t.mutedFontColor, i = {
        title: {
          color: r
        },
        label: {
          color: r
        },
        gridStyle: [
          {
            stroke: "rgb(88, 88, 88)",
            lineDash: [4, 2]
          }
        ]
      }, a = {
        label: {
          color: r
        }
      }, s = {
        axes: {
          number: st({}, i),
          category: st({}, i),
          time: st({}, i)
        }
      }, l = {
        background: {
          fill: "rgb(34, 38, 41)"
        },
        title: {
          color: r
        },
        subtitle: {
          color: n
        },
        legend: {
          item: {
            label: {
              color: r
            }
          },
          pagination: {
            activeStyle: {
              fill: r
            },
            inactiveStyle: {
              fill: n
            },
            highlightStyle: {
              fill: r
            },
            label: {
              color: r
            }
          }
        }
      }, u = function(c) {
        return c.reduce(function(d, p) {
          var h = Px(p);
          return h && (d[p] = e.templateTheme(h)), d;
        }, {});
      };
      return this.mergeWithParentDefaults(o.prototype.getDefaults.call(this), {
        cartesian: st(st(st({}, l), s), { series: st({ line: st({}, a), bar: st({}, a), column: st({}, a), histogram: st({}, a) }, u(Pt.cartesianTypes)) }),
        groupedCategory: st(st(st({}, l), s), { series: st({ bar: st({}, a), column: st({}, a), histogram: st({}, a) }, u(Pt.cartesianTypes)) }),
        polar: st(st({}, l), { series: st({ pie: {
          calloutLabel: {
            color: r
          },
          sectorLabel: {
            color: r
          },
          title: {
            color: r
          },
          innerLabels: {
            color: r
          }
        } }, u(Pt.polarTypes)) }),
        hierarchy: st(st({}, l), { series: st({ treemap: {
          tileStroke: "white",
          groupStroke: "white",
          title: {
            color: r
          },
          subtitle: {
            color: n
          },
          labels: {
            large: {
              color: r
            },
            medium: {
              color: r
            },
            small: {
              color: r
            },
            value: {
              style: {
                color: r
              }
            }
          }
        } }, u(Pt.hierarchyTypes)) })
      });
    }, t.prototype.getTemplateParameters = function() {
      var e = o.prototype.getTemplateParameters.call(this);
      return e.extensions.set(Ax, t.seriesLabelDefaults.label), e;
    }, t.fontColor = "rgb(200, 200, 200)", t.mutedFontColor = "rgb(150, 150, 150)", t.seriesLabelDefaults = {
      label: {
        color: t.fontColor
      }
    }, t;
  }(ys)
), l5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), u5 = {
  fills: [
    "#f44336",
    "#e91e63",
    "#9c27b0",
    "#673ab7",
    "#3f51b5",
    "#2196f3",
    "#03a9f4",
    "#00bcd4",
    "#009688",
    "#4caf50",
    "#8bc34a",
    "#cddc39",
    "#ffeb3b",
    "#ffc107",
    "#ff9800",
    "#ff5722"
  ],
  strokes: [
    "#ab2f26",
    "#a31545",
    "#6d1b7b",
    "#482980",
    "#2c397f",
    "#1769aa",
    "#0276ab",
    "#008494",
    "#00695f",
    "#357a38",
    "#618834",
    "#909a28",
    "#b3a429",
    "#b38705",
    "#b36a00",
    "#b33d18"
  ]
}, c5 = (
  /** @class */
  function(o) {
    l5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return u5;
    }, t;
  }(ys)
), d5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), p5 = {
  fills: [
    "#f44336",
    "#e91e63",
    "#9c27b0",
    "#673ab7",
    "#3f51b5",
    "#2196f3",
    "#03a9f4",
    "#00bcd4",
    "#009688",
    "#4caf50",
    "#8bc34a",
    "#cddc39",
    "#ffeb3b",
    "#ffc107",
    "#ff9800",
    "#ff5722"
  ],
  strokes: [
    "#ab2f26",
    "#a31545",
    "#6d1b7b",
    "#482980",
    "#2c397f",
    "#1769aa",
    "#0276ab",
    "#008494",
    "#00695f",
    "#357a38",
    "#618834",
    "#909a28",
    "#b3a429",
    "#b38705",
    "#b36a00",
    "#b33d18"
  ]
}, h5 = (
  /** @class */
  function(o) {
    d5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return p5;
    }, t;
  }(fd)
), f5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), v5 = {
  fills: ["#c16068", "#a2bf8a", "#ebcc87", "#80a0c3", "#b58dae", "#85c0d1"],
  strokes: ["#874349", "#718661", "#a48f5f", "#5a7088", "#7f637a", "#5d8692"]
}, g5 = (
  /** @class */
  function(o) {
    f5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return v5;
    }, t;
  }(ys)
), y5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), m5 = {
  fills: ["#c16068", "#a2bf8a", "#ebcc87", "#80a0c3", "#b58dae", "#85c0d1"],
  strokes: ["#874349", "#718661", "#a48f5f", "#5a7088", "#7f637a", "#5d8692"]
}, C5 = (
  /** @class */
  function(o) {
    y5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return m5;
    }, t;
  }(fd)
), S5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), w5 = {
  fills: [
    "#febe76",
    "#ff7979",
    "#badc58",
    "#f9ca23",
    "#f0932b",
    "#eb4c4b",
    "#6ab04c",
    "#7ed6df",
    "#e056fd",
    "#686de0"
  ],
  strokes: [
    "#b28553",
    "#b35555",
    "#829a3e",
    "#ae8d19",
    "#a8671e",
    "#a43535",
    "#4a7b35",
    "#58969c",
    "#9d3cb1",
    "#494c9d"
  ]
}, _5 = (
  /** @class */
  function(o) {
    S5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return w5;
    }, t;
  }(ys)
), b5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), E5 = {
  fills: [
    "#febe76",
    "#ff7979",
    "#badc58",
    "#f9ca23",
    "#f0932b",
    "#eb4c4b",
    "#6ab04c",
    "#7ed6df",
    "#e056fd",
    "#686de0"
  ],
  strokes: [
    "#b28553",
    "#b35555",
    "#829a3e",
    "#ae8d19",
    "#a8671e",
    "#a43535",
    "#4a7b35",
    "#58969c",
    "#9d3cb1",
    "#494c9d"
  ]
}, O5 = (
  /** @class */
  function(o) {
    b5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return E5;
    }, t;
  }(fd)
), x5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), T5 = {
  fills: ["#5BC0EB", "#FDE74C", "#9BC53D", "#E55934", "#FA7921", "#fa3081"],
  strokes: ["#4086a4", "#b1a235", "#6c8a2b", "#a03e24", "#af5517", "#af225a"]
}, R5 = (
  /** @class */
  function(o) {
    x5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return T5;
    }, t;
  }(ys)
), D5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), P5 = {
  fills: ["#5BC0EB", "#FDE74C", "#9BC53D", "#E55934", "#FA7921", "#fa3081"],
  strokes: ["#4086a4", "#b1a235", "#6c8a2b", "#a03e24", "#af5517", "#af225a"]
}, A5 = (
  /** @class */
  function(o) {
    D5(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getPalette = function() {
      return P5;
    }, t;
  }(fd)
), Zc = function() {
  return Zc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Zc.apply(this, arguments);
}, Xp = function() {
  return new ys();
}, Tg = function() {
  return new fd();
}, M5 = {
  undefined: Xp,
  null: Xp,
  "ag-default": Xp,
  "ag-material": function() {
    return new c5();
  },
  "ag-pastel": function() {
    return new g5();
  },
  "ag-solar": function() {
    return new _5();
  },
  "ag-vivid": function() {
    return new R5();
  }
}, I5 = {
  undefined: Tg,
  null: Tg,
  "ag-default-dark": Tg,
  "ag-material-dark": function() {
    return new h5();
  },
  "ag-pastel-dark": function() {
    return new C5();
  },
  "ag-solar-dark": function() {
    return new O5();
  },
  "ag-vivid-dark": function() {
    return new A5();
  }
}, Mx = Zc(Zc({}, I5), M5);
function vd(o) {
  var t;
  if (o instanceof ys)
    return o;
  var e = Mx[o];
  if (e)
    return e();
  o = o;
  for (var r = [], n; typeof o == "object"; )
    r.push((t = o.overrides) !== null && t !== void 0 ? t : {}), o.palette && n == null && (n = o.palette), o = o.baseTheme;
  r.reverse();
  var i = Zc({ baseTheme: o, overrides: xt(r) }, n ? { palette: n } : {});
  if (i.baseTheme || i.overrides) {
    var a = vd(i.baseTheme);
    return new a.constructor(i);
  }
  return Xp();
}
var Yh = function() {
  return Yh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Yh.apply(this, arguments);
}, Dl = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Gy = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, F_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, F5 = ["bar", "column", "area"], L5 = ["bar", "column"];
function N5(o) {
  var t, e, r, n, i, a, s, l, u, c, d = {}, p = {}, h = {}, f = "default-ag-charts-group", v = [];
  try {
    for (var g = Dl(o), y = g.next(); !y.done; y = g.next()) {
      var m = y.value, C = (i = m.type) !== null && i !== void 0 ? i : "line", S = F5.includes(C), b = L5.includes(C);
      if (!S && !b) {
        v.push({ type: "ungrouped", opts: [m] });
        continue;
      }
      var _ = m, O = _.stacked, E = _.stackGroup, D = _.grouped, x = D === void 0 ? void 0 : D, P = _.xKey, M = E != null || O === !0;
      (a = h[C]) !== null && a !== void 0 || (h[C] = !1), h[C] || (h[C] = M);
      var F = x === !0, I = [E != null ? E : O === !0 ? "stacked" : void 0, F ? "grouped" : void 0].filter(function(U) {
        return U != null;
      }).join("-");
      I || (I = f);
      var N = C + "-" + P + "-" + I;
      if (M && S) {
        var k = (s = p[N]) !== null && s !== void 0 ? s : p[N] = { type: "stack", opts: [] };
        k.opts.length === 0 && v.push(k), k.opts.push(m);
      } else if (F && b) {
        var k = (l = d[N]) !== null && l !== void 0 ? l : d[N] = { type: "group", opts: [] };
        k.opts.length === 0 && v.push(k), k.opts.push(m);
      } else
        v.push({ type: "ungrouped", opts: [m] });
    }
  } catch (U) {
    t = { error: U };
  } finally {
    try {
      y && !y.done && (e = g.return) && e.call(g);
    } finally {
      if (t)
        throw t.error;
    }
  }
  if (!Object.values(h).some(function(U) {
    return U;
  }))
    return v;
  try {
    for (var L = Dl(Object.entries(d)), B = L.next(); !B.done; B = L.next()) {
      var j = Gy(B.value, 2), J = j[1], C = (c = (u = J.opts[0]) === null || u === void 0 ? void 0 : u.type) !== null && c !== void 0 ? c : "line";
      h[C] === !0 && (J.type = "stack");
    }
  } catch (U) {
    r = { error: U };
  } finally {
    try {
      B && !B.done && (n = L.return) && n.call(L);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return v;
}
var G5 = function() {
  return [!0, "opts"].includes(jn("agChartsDebug"));
};
function k5(o, t) {
  var e, r, n = [], i = t.map(function(h) {
    var f;
    return (h.type === "bar" || h.type === "column") && h.yKey != null && !h.stacked ? Yh(Yh({}, h), { grouped: (f = h.grouped) !== null && f !== void 0 ? f : !0 }) : h;
  }), a = N5(i), s = a.reduce(function(h, f) {
    var v, g;
    if (f.type === "ungrouped")
      return h;
    var y = (v = f.opts[0].type) !== null && v !== void 0 ? v : "line";
    return (g = h[y]) !== null && g !== void 0 || (h[y] = 0), h[y] += f.type === "stack" ? 1 : f.opts.length, h;
  }, {}), l = {}, u = function(h) {
    var f, v, g, y, m, C, S, b, _ = 0, O = (S = h.opts[0].type) !== null && S !== void 0 ? S : "line";
    if ((b = l[O]) !== null && b !== void 0 || (l[O] = 0), h.type === "stack") {
      try {
        for (var E = Dl(h.opts), D = E.next(); !D.done; D = E.next()) {
          var x = D.value;
          x.seriesGrouping = {
            groupIndex: l[O],
            groupCount: s[O],
            stackIndex: _++,
            stackCount: h.opts.length
          };
        }
      } catch (N) {
        f = { error: N };
      } finally {
        try {
          D && !D.done && (v = E.return) && v.call(E);
        } finally {
          if (f)
            throw f.error;
        }
      }
      l[O]++;
    } else if (h.type === "group")
      try {
        for (var P = Dl(h.opts), M = P.next(); !M.done; M = P.next()) {
          var x = M.value;
          x.seriesGrouping = {
            groupIndex: l[O],
            groupCount: s[O],
            stackIndex: 0,
            stackCount: 0
          }, l[O]++;
        }
      } catch (N) {
        g = { error: N };
      } finally {
        try {
          M && !M.done && (y = P.return) && y.call(P);
        } finally {
          if (g)
            throw g.error;
        }
      }
    else
      try {
        for (var F = Dl(h.opts), I = F.next(); !I.done; I = F.next()) {
          var x = I.value;
          x.seriesGrouping = void 0;
        }
      } catch (N) {
        m = { error: N };
      } finally {
        try {
          I && !I.done && (C = F.return) && C.call(F);
        } finally {
          if (m)
            throw m.error;
        }
      }
    return h.opts;
  };
  G5() && pe.debug("processSeriesOptions() - series grouping: ", a);
  try {
    for (var c = Dl(a), d = c.next(); !d.done; d = c.next()) {
      var p = d.value;
      switch (p.opts[0].type) {
        case "column":
        case "bar":
        case "area":
          n.push.apply(n, F_([], Gy(u(p))));
          break;
        case "line":
        default:
          p.opts.length > 1 && pe.warn("unexpected grouping of series type: " + p.opts[0].type), n.push.apply(n, F_([], Gy(p.opts)));
          break;
      }
    }
  } catch (h) {
    e = { error: h };
  } finally {
    try {
      d && !d.done && (r = c.return) && r.call(c);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return n;
}
var Qi = function() {
  return Qi = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Qi.apply(this, arguments);
}, ky = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, eu = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, L_ = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
};
function du(o) {
  var t, e, r, n;
  return (n = (t = o.type) !== null && t !== void 0 ? t : (r = (e = o.series) === null || e === void 0 ? void 0 : e[0]) === null || r === void 0 ? void 0 : r.type) !== null && n !== void 0 ? n : "line";
}
function tu(o) {
  var t = du(o);
  return t == null ? !0 : t === "cartesian" ? (pe.warnOnce("type '" + t + "' is deprecated, use a series type instead"), !0) : Pt.isCartesian(t);
}
function Nf(o) {
  var t = du(o);
  return t == null ? !1 : t === "hierarchy" ? (pe.warnOnce("type '" + t + "' is deprecated, use a series type instead"), !0) : Pt.isHierarchy(t);
}
function Gf(o) {
  var t = du(o);
  return t == null ? !1 : t === "polar" ? (pe.warnOnce("type '" + t + "' is deprecated, use a series type instead"), !0) : Pt.isPolar(t);
}
function N_(o) {
  return o == null ? !1 : Pt.has(o);
}
function V5(o) {
  return o == null ? !1 : mC.has(o);
}
function Ix(o) {
  var t, e, r = 0;
  try {
    for (var n = ky(o), i = n.next(); !i.done; i = n.next()) {
      var a = i.value;
      a instanceof Array && (r += Ix(a)), a != null && r++;
    }
  } catch (s) {
    t = { error: s };
  } finally {
    try {
      i && !i.done && (e = n.return) && e.call(n);
    } finally {
      if (t)
        throw t.error;
    }
  }
  return r;
}
function G_(o, t, e) {
  for (var r = [], n = 0; n < e; n++)
    r.push(t[(n + o.colourIndex) % t.length]);
  return r;
}
var ea = {
  avoidDeepClone: ["data"]
};
function B5(o, t) {
  var e, r, n, i, a, s, l, u, c, d, p = xt([t, o], ea);
  H5(p);
  var h = p.type, f = du(p), v = (s = (a = p.tooltip) === null || a === void 0 ? void 0 : a.position) !== null && s !== void 0 ? s : {}, g = function(L) {
    if (L != null && !(N_(L) || P_(L)))
      throw new Error("AG Charts - unknown series type: " + L + "; expected one of: " + Pt.seriesTypes);
  };
  g(f);
  try {
    for (var y = ky((l = p.series) !== null && l !== void 0 ? l : []), m = y.next(); !m.done; m = y.next()) {
      var C = m.value.type;
      C != null && g(C);
    }
  } catch (L) {
    e = { error: L };
  } finally {
    try {
      m && !m.done && (r = y.return) && r.call(y);
    } finally {
      if (e)
        throw e.error;
    }
  }
  p = Qi(Qi({}, p), { type: f });
  var S = "line";
  tu(p) ? S = "line" : Nf(p) ? S = "treemap" : Gf(p) && (S = "pie");
  var b = {}, _ = P_(f);
  _ ? b = _ : f === "bar" ? b = q4 : f === "scatter" || f === "histogram" ? b = Z4 : tu(p) && (b = X4), Y5(p);
  var O = W5(b, p), E = O.context, D = O.mergedOptions, x = O.axesThemes, P = O.seriesThemes;
  D.series = k5(D, ((u = D.series) !== null && u !== void 0 ? u : []).map(function(L) {
    var B = S;
    L.type ? B = L.type : N_(h) && (B = h);
    var j = j5(L, B, P, v);
    return B === "pie" && Z5(P.pie, L, j), j;
  })).map(function(L) {
    return U5(E, L);
  });
  var M = function(L) {
    var B = V5(L);
    return B || pe.warnOnce("AG Charts - unknown axis type: " + L + "; expected one of: " + mC.axesTypes + ", ignoring."), B;
  };
  if ("axes" in D) {
    var F = !0;
    try {
      for (var I = ky((c = D.axes) !== null && c !== void 0 ? c : []), N = I.next(); !N.done; N = I.next()) {
        var k = N.value.type;
        M(k) || (F = !1);
      }
    } catch (L) {
      n = { error: L };
    } finally {
      try {
        N && !N.done && (i = I.return) && i.call(I);
      } finally {
        if (n)
          throw n.error;
      }
    }
    F ? D.axes = (d = D.axes) === null || d === void 0 ? void 0 : d.map(function(L) {
      var B, j, J = L.type, U = xt([
        x[J],
        (j = x[J][(B = L.position) !== null && B !== void 0 ? B : "unknown"]) !== null && j !== void 0 ? j : {}
      ]);
      return K5(L, U);
    }) : D.axes = b.axes, X5(p, D);
  }
  return q5(p, D), D;
}
function H5(o) {
  var t = {
    yKeys: "yKey",
    yNames: "yName"
  };
  Object.entries(t).forEach(function(e) {
    var r, n = eu(e, 2), i = n[0], a = n[1];
    !((r = o.series) === null || r === void 0) && r.some(function(s) {
      return s[i] != null;
    }) && pe.warnOnce("property [series." + i + "] is deprecated, please use [series." + a + "] and multiple series instead.");
  });
}
function j5(o, t, e, r) {
  var n, i, a = xt([Qi({}, r), (n = o.tooltip) === null || n === void 0 ? void 0 : n.position], ea), s = xt([
    (i = e[t]) !== null && i !== void 0 ? i : {},
    Qi(Qi({}, o), { type: t, tooltip: Qi(Qi({}, o.tooltip), { position: a }) })
  ], ea);
  return s;
}
function W5(o, t) {
  var e = $5(t), r = e.theme, n = e.cleanedTheme, i = e.axesThemes, a = e.seriesThemes, s = { colourIndex: 0, palette: r.palette }, l = xt([o, n, t], ea);
  return { context: s, mergedOptions: l, axesThemes: i, seriesThemes: a };
}
function $5(o) {
  var t, e, r = vd(o.theme), n = r.config[(t = du(o)) !== null && t !== void 0 ? t : "cartesian"], i = Object.entries(r.config).reduce(function(a, s) {
    var l = eu(s, 2), u = l[0], c = l[1].series;
    return a[u] = c == null ? void 0 : c[u], a;
  }, {});
  return {
    theme: r,
    axesThemes: (e = n.axes) !== null && e !== void 0 ? e : {},
    seriesThemes: i,
    cleanedTheme: xt([n, { axes: Wn, series: Wn }])
  };
}
function U5(o, t) {
  for (var e = [], r = 2; r < arguments.length; r++)
    e[r - 2] = arguments[r];
  var n = z5(o, t), i = { stacked: Wn, grouped: Wn };
  return xt(L_(L_([], eu(e)), [n, t, i]), ea);
}
ua("pie", function(o) {
  var t = o.takeColors, e = o.colorsCount;
  return t(e);
});
var pu = function(o) {
  var t = o.takeColors, e = t(1), r = eu(e.fills, 1), n = r[0], i = eu(e.strokes, 1), a = i[0];
  return { fill: n, stroke: a };
};
ua("area", pu);
ua("bar", pu);
ua("column", pu);
ua("histogram", pu);
ua("scatter", function(o) {
  var t = pu(o), e = t.fill, r = t.stroke;
  return { marker: { fill: e, stroke: r } };
});
ua("line", function(o) {
  var t = pu(o), e = t.fill, r = t.stroke;
  return {
    stroke: e,
    marker: { fill: e, stroke: r }
  };
});
function z5(o, t) {
  var e, r = Y4(t.type);
  if (!r)
    return {};
  var n = o.palette, i = n.fills, a = n.strokes, s = t, l = Ix((e = s.yKeys) !== null && e !== void 0 ? e : []) || 1, u = Math.max(i.length, a.length);
  return r({
    seriesCount: l,
    colorsCount: u,
    takeColors: function(c) {
      var d = {
        fills: G_(o, i, c),
        strokes: G_(o, a, c)
      };
      return o.colourIndex += c, d;
    }
  });
}
function K5(o, t) {
  var e = { top: Wn, bottom: Wn, left: Wn, right: Wn };
  if (o.crossLines) {
    Array.isArray(o.crossLines) || (pe.warn("axis[].crossLines should be an array."), o.crossLines = []);
    var r = t.crossLines;
    o.crossLines = o.crossLines.map(function(i) {
      return xt([r, i]);
    });
  }
  var n = { crossLines: Wn };
  return xt([t, n, o, e], ea);
}
function Y5(o) {
  ql(o, function(t, e) {
    "enabled" in e && e.enabled === !1 && Object.entries(e).forEach(function(r) {
      var n = eu(r, 1), i = n[0];
      i !== "enabled" && delete e[i];
    });
  }, { skip: ["data", "theme"] });
}
function X5(o, t) {
  var e, r, n, i;
  if (!(((e = o.legend) === null || e === void 0 ? void 0 : e.enabled) !== void 0 || ((r = t.legend) === null || r === void 0 ? void 0 : r.enabled) !== void 0)) {
    if ((n = t.legend) !== null && n !== void 0 || (t.legend = {}), ((i = o.series) !== null && i !== void 0 ? i : []).length > 1) {
      t.legend.enabled = !0;
      return;
    }
    t.legend.enabled = !1;
  }
}
function q5(o, t) {
  ql(o, function(e, r, n) {
    if (n) {
      var i = n._enabledFromTheme;
      i != null && delete n._enabledFromTheme, "enabled" in n && (i || r.enabled == null && (n.enabled = !0));
    }
  }, { skip: ["data", "theme"] }, t), ql(t, function(e, r) {
    r._enabledFromTheme != null && delete r._enabledFromTheme;
  }, { skip: ["data", "theme"] });
}
function Z5(o, t, e) {
  Array.isArray(t.innerLabels) ? e.innerLabels = t.innerLabels.map(function(r) {
    return xt([o.innerLabels, r]);
  }) : e.innerLabels = Wn;
}
var Q5 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Fx = (
  /** @class */
  function() {
    function o() {
      this.destroyFns = [];
    }
    return o.prototype.destroy = function() {
      var t, e;
      try {
        for (var r = Q5(this.destroyFns), n = r.next(); !n.done; n = r.next()) {
          var i = n.value;
          i();
        }
      } catch (a) {
        t = { error: a };
      } finally {
        try {
          n && !n.done && (e = r.return) && e.call(r);
        } finally {
          if (t)
            throw t.error;
        }
      }
    }, o;
  }()
), za = [];
function Lx(o) {
  var t = za.find(function(r) {
    return o.type === r.type && o.optionsKey === r.optionsKey && o.identifier === r.identifier;
  });
  if (t) {
    if (o.packageType === "enterprise" && t.packageType === "community") {
      var e = za.indexOf(t);
      za.splice(e, 1, o);
    }
  } else
    za.push(o);
}
var J5 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ao = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, k_ = (
  /** @class */
  function(o) {
    J5(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e._fill = "#f2f2f2", e._stroke = "#999999", e._strokeWidth = 1, e._lineCap = "square", e._centerX = 0, e._centerY = 0, e._width = 8, e._gripLineGap = 2, e._gripLineLength = 8, e._height = 16, e;
    }
    return Object.defineProperty(t.prototype, "centerX", {
      get: function() {
        return this._centerX;
      },
      set: function(e) {
        this._centerX !== e && (this._centerX = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "centerY", {
      get: function() {
        return this._centerY;
      },
      set: function(e) {
        this._centerY !== e && (this._centerY = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "width", {
      get: function() {
        return this._width;
      },
      set: function(e) {
        this._width !== e && (this._width = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "gripLineGap", {
      get: function() {
        return this._gripLineGap;
      },
      set: function(e) {
        this._gripLineGap !== e && (this._gripLineGap = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "gripLineLength", {
      get: function() {
        return this._gripLineLength;
      },
      set: function(e) {
        this._gripLineLength !== e && (this._gripLineLength = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "height", {
      get: function() {
        return this._height;
      },
      set: function(e) {
        this._height !== e && (this._height = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.computeBBox = function() {
      var e = this, r = e.centerX, n = e.centerY, i = e.width, a = e.height, s = r - i / 2, l = n - a / 2;
      return new Ye(s, l, i, a);
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.transformPoint(e, r), i = this.computeBBox();
      return i.containsPoint(n.x, n.y);
    }, t.prototype.updatePath = function() {
      var e = this, r = e.path, n = e.centerX, i = e.centerY, a = e.width, s = e.height;
      r.clear();
      var l = n - a / 2, u = i - s / 2, c = this.align(l), d = this.align(u), p = c + this.align(l, a), h = d + this.align(u, s);
      r.moveTo(c, d), r.lineTo(p, d), r.lineTo(p, h), r.lineTo(c, h), r.lineTo(c, d);
      var f = this.gripLineGap / 2, v = this.gripLineLength / 2;
      r.moveTo(this.align(n - f), this.align(i - v)), r.lineTo(this.align(n - f), this.align(i + v)), r.moveTo(this.align(n + f), this.align(i - v)), r.lineTo(this.align(n + f), this.align(i + v));
    }, t.className = "RangeHandle", Ao([
      A(en)
    ], t.prototype, "_fill", void 0), Ao([
      A(en)
    ], t.prototype, "_stroke", void 0), Ao([
      A(ae(0))
    ], t.prototype, "_strokeWidth", void 0), Ao([
      A(nC)
    ], t.prototype, "_lineCap", void 0), Ao([
      A(ae(0))
    ], t.prototype, "_width", void 0), Ao([
      A(ae(0))
    ], t.prototype, "_gripLineGap", void 0), Ao([
      A(ae(0))
    ], t.prototype, "_gripLineLength", void 0), Ao([
      A(ae(0))
    ], t.prototype, "_height", void 0), t;
  }(xr)
), eY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Wi = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, tY = (
  /** @class */
  function(o) {
    eY(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e._stroke = "#999999", e._strokeWidth = 1, e._fill = "#999999", e._fillOpacity = 0.2, e._lineCap = "square", e._x = 0, e._y = 0, e._width = 200, e._height = 30, e.minRange = 0.05, e._min = 0, e._max = 1, e;
    }
    return Object.defineProperty(t.prototype, "x", {
      get: function() {
        return this._x;
      },
      set: function(e) {
        this._x !== e && (this._x = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "y", {
      get: function() {
        return this._y;
      },
      set: function(e) {
        this._y !== e && (this._y = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "width", {
      get: function() {
        return this._width;
      },
      set: function(e) {
        this._width !== e && (this._width = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "height", {
      get: function() {
        return this._height;
      },
      set: function(e) {
        this._height !== e && (this._height = e, this.dirtyPath = !0);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "min", {
      get: function() {
        return this._min;
      },
      set: function(e) {
        var r;
        e = Math.min(Math.max(e, 0), this.max - this.minRange), !isNaN(e) && this._min !== e && (this._min = e, this.dirtyPath = !0, (r = this.onRangeChange) === null || r === void 0 || r.call(this));
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "max", {
      get: function() {
        return this._max;
      },
      set: function(e) {
        var r;
        e = Math.max(Math.min(e, 1), this.min + this.minRange), !isNaN(e) && this._max !== e && (this._max = e, this.dirtyPath = !0, (r = this.onRangeChange) === null || r === void 0 || r.call(this));
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.computeBBox = function() {
      var e = this, r = e.x, n = e.y, i = e.width, a = e.height;
      return new Ye(r, n, i, a);
    }, t.prototype.computeVisibleRangeBBox = function() {
      var e = this, r = e.x, n = e.y, i = e.width, a = e.height, s = e.min, l = e.max, u = r + i * s, c = r + i * l;
      return new Ye(u, n, c - u, a);
    }, t.prototype.updatePath = function() {
      var e = this, r = e.path, n = e.x, i = e.y, a = e.width, s = e.height, l = e.min, u = e.max;
      r.clear();
      var c = this.align(n), d = this.align(i), p = c + this.align(n, a), h = d + this.align(i, s);
      r.moveTo(c, d), r.lineTo(p, d), r.lineTo(p, h), r.lineTo(c, h), r.lineTo(c, d);
      var f = this.align(n + a * l), v = this.align(n + a * u);
      r.moveTo(f, d), r.lineTo(f, h), r.lineTo(v, h), r.lineTo(v, d), r.lineTo(f, d);
    }, t.className = "RangeMask", Wi([
      A(en)
    ], t.prototype, "_stroke", void 0), Wi([
      A(ae(0))
    ], t.prototype, "_strokeWidth", void 0), Wi([
      A(en)
    ], t.prototype, "_fill", void 0), Wi([
      A(ae(0, 1))
    ], t.prototype, "_fillOpacity", void 0), Wi([
      A(nC)
    ], t.prototype, "_lineCap", void 0), Wi([
      A(ae(0))
    ], t.prototype, "_width", void 0), Wi([
      A(ae(0))
    ], t.prototype, "_height", void 0), Wi([
      A(ae())
    ], t.prototype, "_min", void 0), Wi([
      A(ae())
    ], t.prototype, "_max", void 0), t;
  }(xr)
), rY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Xh = function() {
  return Xh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Xh.apply(this, arguments);
}, nY = (
  /** @class */
  function(o) {
    rY(t, o);
    function t() {
      var e = o.call(this, { name: "rangeSelectorGroup" }) || this;
      return e.minHandle = new k_(), e.maxHandle = new k_(), e.mask = function() {
        var r = t.defaults, n = r.x, i = r.y, a = r.width, s = r.height, l = r.min, u = r.max, c = new tY();
        c.x = n, c.y = i, c.width = a, c.height = s, c.min = l, c.max = u;
        var d = e, p = d.minHandle, h = d.maxHandle;
        return p.centerX = n, h.centerX = n + a, p.centerY = h.centerY = i + s / 2, e.append([c, p, h]), c.onRangeChange = function() {
          var f;
          e.updateHandles(), (f = e.onRangeChange) === null || f === void 0 || f.call(e);
        }, c;
      }(), e._x = t.defaults.x, e._y = t.defaults.y, e._width = t.defaults.width, e._height = t.defaults.height, e._min = t.defaults.min, e._max = t.defaults.max, e.isContainerNode = !0, e;
    }
    return Object.defineProperty(t.prototype, "x", {
      get: function() {
        return this.mask.x;
      },
      set: function(e) {
        this.mask.x = e, this.updateHandles();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "y", {
      get: function() {
        return this.mask.y;
      },
      set: function(e) {
        this.mask.y = e, this.updateHandles();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "width", {
      get: function() {
        return this.mask.width;
      },
      set: function(e) {
        this.mask.width = e, this.updateHandles();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "height", {
      get: function() {
        return this.mask.height;
      },
      set: function(e) {
        this.mask.height = e, this.updateHandles();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "min", {
      get: function() {
        return this.mask.min;
      },
      set: function(e) {
        this.mask.min = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "max", {
      get: function() {
        return this.mask.max;
      },
      set: function(e) {
        this.mask.max = e;
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.updateHandles = function() {
      var e = this, r = e.minHandle, n = e.maxHandle, i = e.x, a = e.y, s = e.width, l = e.height, u = e.mask;
      r.centerX = i + s * u.min, n.centerX = i + s * u.max, r.centerY = n.centerY = a + l / 2;
    }, t.prototype.computeBBox = function() {
      return this.mask.computeBBox();
    }, t.prototype.computeVisibleRangeBBox = function() {
      return this.mask.computeVisibleRangeBBox();
    }, t.prototype.render = function(e) {
      var r = e.ctx, n = e.forceRender, i = e.stats;
      if (this.dirty === oe.NONE && !n) {
        i && i.nodesSkipped++;
        return;
      }
      this.computeTransformMatrix(), this.matrix.toContext(r);
      var a = this, s = a.mask, l = a.minHandle, u = a.maxHandle;
      [s, l, u].forEach(function(c) {
        c.visible && (n || c.dirty > oe.NONE) && (r.save(), c.render(Xh(Xh({}, e), { ctx: r, forceRender: n })), r.restore());
      }), this.markClean({ force: !0 }), i && i.nodesRendered++;
    }, t.className = "Range", t.defaults = {
      x: 0,
      y: 0,
      width: 200,
      height: 30,
      min: 0,
      max: 1
    }, t;
  }(Se)
), iY = (
  /** @class */
  function() {
    function o(t) {
      this.rm = t;
    }
    return Object.defineProperty(o.prototype, "fill", {
      get: function() {
        return this.rm.fill;
      },
      set: function(t) {
        this.rm.fill = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "stroke", {
      get: function() {
        return this.rm.stroke;
      },
      set: function(t) {
        this.rm.stroke = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "strokeWidth", {
      get: function() {
        return this.rm.strokeWidth;
      },
      set: function(t) {
        this.rm.strokeWidth = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "fillOpacity", {
      get: function() {
        return this.rm.fillOpacity;
      },
      set: function(t) {
        this.rm.fillOpacity = t;
      },
      enumerable: !1,
      configurable: !0
    }), o;
  }()
), V_ = (
  /** @class */
  function() {
    function o(t) {
      this.rh = t;
    }
    return Object.defineProperty(o.prototype, "fill", {
      get: function() {
        return this.rh.fill;
      },
      set: function(t) {
        this.rh.fill = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "stroke", {
      get: function() {
        return this.rh.stroke;
      },
      set: function(t) {
        this.rh.stroke = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "strokeWidth", {
      get: function() {
        return this.rh.strokeWidth;
      },
      set: function(t) {
        this.rh.strokeWidth = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "width", {
      get: function() {
        return this.rh.width;
      },
      set: function(t) {
        this.rh.width = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "height", {
      get: function() {
        return this.rh.height;
      },
      set: function(t) {
        this.rh.height = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "gripLineGap", {
      get: function() {
        return this.rh.gripLineGap;
      },
      set: function(t) {
        this.rh.gripLineGap = t;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "gripLineLength", {
      get: function() {
        return this.rh.gripLineLength;
      },
      set: function(t) {
        this.rh.gripLineLength = t;
      },
      enumerable: !1,
      configurable: !0
    }), o;
  }()
), oY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), B_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, aY = (
  /** @class */
  function(o) {
    oY(t, o);
    function t(e) {
      var r, n = o.call(this) || this;
      return n.ctx = e, n.rs = new nY(), n.mask = new iY(n.rs.mask), n.minHandle = new V_(n.rs.minHandle), n.maxHandle = new V_(n.rs.maxHandle), n.minHandleDragging = !1, n.maxHandleDragging = !1, n.panHandleOffset = NaN, n._enabled = !1, n.margin = 10, n._visible = !0, n.rs.onRangeChange = function() {
        return n.ctx.zoomManager.updateZoom("navigator", { x: { min: n.rs.min, max: n.rs.max } });
      }, [
        e.interactionManager.addListener("drag-start", function(i) {
          return n.onDragStart(i);
        }),
        e.interactionManager.addListener("drag", function(i) {
          return n.onDrag(i);
        }),
        e.interactionManager.addListener("hover", function(i) {
          return n.onDrag(i);
        }),
        e.interactionManager.addListener("drag-end", function() {
          return n.onDragStop();
        })
      ].forEach(function(i) {
        return n.destroyFns.push(function() {
          return e.interactionManager.removeListener(i);
        });
      }), [
        e.layoutService.addListener("before-series", function(i) {
          return n.layout(i);
        }),
        e.layoutService.addListener("layout-complete", function(i) {
          return n.layoutComplete(i);
        })
      ].forEach(function(i) {
        return n.destroyFns.push(function() {
          return e.layoutService.removeListener(i);
        });
      }), (r = e.scene.root) === null || r === void 0 || r.appendChild(n.rs), n.destroyFns.push(function() {
        var i;
        return (i = e.scene.root) === null || i === void 0 ? void 0 : i.removeChild(n.rs);
      }), n.destroyFns.push(function() {
        return n.ctx.zoomManager.updateZoom("navigator");
      }), n.updateGroupVisibility(), n;
    }
    return Object.defineProperty(t.prototype, "enabled", {
      get: function() {
        return this._enabled;
      },
      set: function(e) {
        this._enabled = e, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "width", {
      get: function() {
        return this.rs.width;
      },
      set: function(e) {
        this.rs.width = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "height", {
      get: function() {
        return this.rs.height;
      },
      set: function(e) {
        this.rs.height = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "min", {
      get: function() {
        return this.rs.min;
      },
      set: function(e) {
        this.rs.min = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "max", {
      get: function() {
        return this.rs.max;
      },
      set: function(e) {
        this.rs.max = e;
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(t.prototype, "visible", {
      get: function() {
        return this._visible;
      },
      set: function(e) {
        this._visible = e, this.updateGroupVisibility();
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.updateGroupVisibility = function() {
      var e = this.enabled && this.visible;
      this.rs.visible = e, e ? this.ctx.zoomManager.updateZoom("navigator", { x: { min: this.rs.min, max: this.rs.max } }) : this.ctx.zoomManager.updateZoom("navigator");
    }, t.prototype.layout = function(e) {
      var r = e.shrinkRect;
      if (this.enabled) {
        var n = this.rs.height + this.margin;
        r.shrink(n, "bottom"), this.rs.y = r.y + r.height + this.margin;
      }
      return { shrinkRect: r };
    }, t.prototype.layoutComplete = function(e) {
      var r = e.series, n = r.rect, i = r.visible;
      this.enabled && i && (this.rs.x = n.x, this.rs.width = n.width), this.visible = i;
    }, t.prototype.onDragStart = function(e) {
      if (this.enabled) {
        var r = e.offsetX, n = e.offsetY, i = this.rs, a = i.minHandle, s = i.maxHandle, l = i.x, u = i.width, c = i.min, d = i.computeVisibleRangeBBox();
        this.minHandleDragging || this.maxHandleDragging || (a.containsPoint(r, n) ? this.minHandleDragging = !0 : s.containsPoint(r, n) ? this.maxHandleDragging = !0 : d.containsPoint(r, n) && (this.panHandleOffset = (r - l) / u - c));
      }
    }, t.prototype.onDrag = function(e) {
      if (this.enabled) {
        var r = this, n = r.rs, i = r.panHandleOffset, a = n.x, s = n.y, l = n.width, u = n.height, c = n.minHandle, d = n.maxHandle, p = e.offsetX, h = e.offsetY, f = a + l * n.min, v = a + l * n.max, g = new Ye(f, s, v - f, u), y = function() {
          return Math.min(Math.max((p - a) / l, 0), 1);
        };
        if (c.containsPoint(p, h) || d.containsPoint(p, h) ? this.ctx.cursorManager.updateCursor("navigator", "ew-resize") : g.containsPoint(p, h) ? this.ctx.cursorManager.updateCursor("navigator", "grab") : this.ctx.cursorManager.updateCursor("navigator"), this.minHandleDragging)
          n.min = y();
        else if (this.maxHandleDragging)
          n.max = y();
        else if (!isNaN(i)) {
          var m = n.max - n.min, C = Math.min(y() - i, 1 - m);
          C <= n.min ? (n.min = C, n.max = n.min + m) : (n.max = C + m, n.min = n.max - m);
        }
      }
    }, t.prototype.onDragStop = function() {
      this.stopHandleDragging();
    }, t.prototype.stopHandleDragging = function() {
      this.minHandleDragging = this.maxHandleDragging = !1, this.panHandleOffset = NaN;
    }, B_([
      A(at)
    ], t.prototype, "_enabled", void 0), B_([
      A(ae(0))
    ], t.prototype, "margin", void 0), t;
  }(Fx)
), sY = {
  type: "root",
  optionsKey: "navigator",
  packageType: "community",
  chartTypes: ["cartesian"],
  instanceConstructor: aY,
  themeTemplate: {
    navigator: {
      enabled: !1,
      height: 30,
      mask: {
        fill: "#999999",
        stroke: "#999999",
        strokeWidth: 1,
        fillOpacity: 0.2
      },
      minHandle: {
        fill: "#f2f2f2",
        stroke: "#999999",
        strokeWidth: 1,
        width: 8,
        height: 16,
        gripLineGap: 2,
        gripLineLength: 8
      },
      maxHandle: {
        fill: "#f2f2f2",
        stroke: "#999999",
        strokeWidth: 1,
        width: 8,
        height: 16,
        gripLineGap: 2,
        gripLineLength: 8
      }
    }
  }
};
Lx(sY);
var lY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), H_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, uY = (
  /** @class */
  function(o) {
    lY(t, o);
    function t(e) {
      var r, n = o.call(this) || this;
      n.onLayoutComplete = function(a) {
        var s = a.chart, l = s.width, u = s.height;
        n.rectNode.width = l, n.rectNode.height = u;
      }, n.node = new Se({ name: "background" }), n.node.zIndex = bt.SERIES_BACKGROUND_ZINDEX, n.rectNode = new Un(), n.node.appendChild(n.rectNode), n.fill = "white", n.visible = !0, (r = e.scene.root) === null || r === void 0 || r.appendChild(n.node), n.destroyFns.push(function() {
        var a;
        return (a = e.scene.root) === null || a === void 0 ? void 0 : a.removeChild(n.node);
      });
      var i = e.layoutService.addListener("layout-complete", n.onLayoutComplete);
      return n.destroyFns.push(function() {
        return e.layoutService.removeListener(i);
      }), n;
    }
    return H_([
      A(at),
      Ft("node", "visible")
    ], t.prototype, "visible", void 0), H_([
      A(ct),
      Ft("rectNode", "fill")
    ], t.prototype, "fill", void 0), t;
  }(Fx)
), cY = {
  type: "root",
  optionsKey: "background",
  packageType: "community",
  chartTypes: ["cartesian", "polar", "hierarchy"],
  instanceConstructor: uY
};
Lx(cY);
var Rg = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function dY() {
  var o, t, e, r, n, i;
  try {
    for (var a = Rg(za), s = a.next(); !s.done; s = a.next()) {
      var l = s.value;
      if (qc.constructors != null && l.optionConstructors != null && Object.assign(qc.constructors, l.optionConstructors), l.type === "root" && l.themeTemplate)
        try {
          for (var u = (e = void 0, Rg(l.chartTypes)), c = u.next(); !c.done; c = u.next()) {
            var d = c.value;
            $4(d, l.themeTemplate);
          }
        } catch (v) {
          e = { error: v };
        } finally {
          try {
            c && !c.done && (r = u.return) && r.call(u);
          } finally {
            if (e)
              throw e.error;
          }
        }
      if (l.type === "series") {
        if (l.chartTypes.length > 1)
          throw new Error("AG Charts - Module definition error: " + l.identifier);
        z4(l.identifier, l.chartTypes[0], l.instanceConstructor, l.seriesDefaults, l.themeTemplate, l.paletteFactory);
      }
      if (l.type === "axis-option" && l.themeTemplate)
        try {
          for (var p = (n = void 0, Rg(l.axisTypes)), h = p.next(); !h.done; h = p.next()) {
            var f = h.value;
            E_(f, l.themeTemplate);
          }
        } catch (v) {
          n = { error: v };
        } finally {
          try {
            h && !h.done && (i = p.return) && i.call(p);
          } finally {
            if (n)
              throw n.error;
          }
        }
      l.type === "axis" && ($K(l.identifier, l.instanceConstructor), l.themeTemplate && E_(l.identifier, l.themeTemplate)), l.type === "legend" && jU(l.identifier, l.instanceConstructor);
    }
  } catch (v) {
    o = { error: v };
  } finally {
    try {
      s && !s.done && (t = a.return) && t.call(a);
    } finally {
      if (o)
        throw o.error;
    }
  }
}
var Wt = function() {
  return Wt = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Wt.apply(this, arguments);
}, ec = function(o, t, e, r) {
  function n(i) {
    return i instanceof e ? i : new e(function(a) {
      a(i);
    });
  }
  return new (e || (e = Promise))(function(i, a) {
    function s(c) {
      try {
        u(r.next(c));
      } catch (d) {
        a(d);
      }
    }
    function l(c) {
      try {
        u(r.throw(c));
      } catch (d) {
        a(d);
      }
    }
    function u(c) {
      c.done ? i(c.value) : n(c.value).then(s, l);
    }
    u((r = r.apply(o, t || [])).next());
  });
}, tc = function(o, t) {
  var e = { label: 0, sent: function() {
    if (i[0] & 1)
      throw i[1];
    return i[1];
  }, trys: [], ops: [] }, r, n, i, a;
  return a = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
    return this;
  }), a;
  function s(u) {
    return function(c) {
      return l([u, c]);
    };
  }
  function l(u) {
    if (r)
      throw new TypeError("Generator is already executing.");
    for (; e; )
      try {
        if (r = 1, n && (i = u[0] & 2 ? n.return : u[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, u[1])).done)
          return i;
        switch (n = 0, i && (u = [u[0] & 2, i.value]), u[0]) {
          case 0:
          case 1:
            i = u;
            break;
          case 4:
            return e.label++, { value: u[1], done: !1 };
          case 5:
            e.label++, n = u[1], u = [0];
            continue;
          case 7:
            u = e.ops.pop(), e.trys.pop();
            continue;
          default:
            if (i = e.trys, !(i = i.length > 0 && i[i.length - 1]) && (u[0] === 6 || u[0] === 2)) {
              e = 0;
              continue;
            }
            if (u[0] === 3 && (!i || u[1] > i[0] && u[1] < i[3])) {
              e.label = u[1];
              break;
            }
            if (u[0] === 6 && e.label < i[1]) {
              e.label = i[1], i = u;
              break;
            }
            if (i && e.label < i[2]) {
              e.label = i[2], e.ops.push(u);
              break;
            }
            i[2] && e.ops.pop(), e.trys.pop();
            continue;
        }
        u = t.call(o, e);
      } catch (c) {
        u = [6, c], n = 0;
      } finally {
        r = i = 0;
      }
    if (u[0] & 5)
      throw u[1];
    return { value: u[0] ? u[1] : void 0, done: !0 };
  }
}, Nx = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Gx = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, kf = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function j_(o) {
  if (tu(o))
    return "cartesian";
  if (Gf(o))
    return "polar";
  if (Nf(o))
    return "hierarchy";
  throw new Error("AG Chart - unknown type of chart for options with type: " + o.type);
}
var Hl = (
  /** @class */
  function() {
    function o() {
    }
    return o.create = function(t) {
      return gl.createOrUpdate(t);
    }, o.update = function(t, e) {
      if (!mc.isInstance(t))
        throw new Error("AG Charts - invalid chart reference passed");
      gl.createOrUpdate(e, t);
    }, o.updateDelta = function(t, e) {
      if (!mc.isInstance(t))
        throw new Error("AG Charts - invalid chart reference passed");
      return gl.updateUserDelta(t, e);
    }, o.download = function(t, e) {
      if (!(t instanceof mc))
        throw new Error("AG Charts - invalid chart reference passed");
      return gl.download(t, e);
    }, o.getImageDataURL = function(t, e) {
      if (!(t instanceof mc))
        throw new Error("AG Charts - invalid chart reference passed");
      return gl.getImageDataURL(t, e);
    }, o;
  }()
), mc = (
  /** @class */
  function() {
    function o(t) {
      this.chart = t;
    }
    return o.isInstance = function(t) {
      var e, r;
      if (t instanceof o || ((e = t.constructor) === null || e === void 0 ? void 0 : e.name) === "AgChartInstanceProxy" && t.chart != null)
        return !0;
      var n = Object.keys((r = t.constructor) === null || r === void 0 ? void 0 : r.prototype), i = Object.keys(o.prototype).every(function(a) {
        return n.includes(a);
      });
      return !!(i && t.chart != null);
    }, o.prototype.getOptions = function() {
      return this.chart.getOptions();
    }, o.prototype.destroy = function() {
      this.chart.destroy();
    }, o;
  }()
), gl = (
  /** @class */
  function() {
    function o() {
    }
    return o.initialiseModules = function() {
      o.initialised || (dY(), o.initialised = !0);
    }, o.createOrUpdate = function(t, e) {
      var r = this;
      o.initialiseModules(), Ka(">>> AgChartV2.createOrUpdate() user options", t);
      var n = {};
      o.DEBUG() === !0 && (n.debug = !0);
      var i = t.overrideDevicePixelRatio;
      delete t.overrideDevicePixelRatio;
      var a = B5(t, n), s = e == null ? void 0 : e.chart;
      (s == null || j_(t) !== j_(s.processedOptions)) && (s = o.createChartInstance(a, i, s)), e == null ? e = new mc(s) : e.chart = s;
      var l = s;
      l.queuedUserOptions.push(t);
      var u = function() {
        var c = l.queuedUserOptions.indexOf(t);
        l.queuedUserOptions.splice(0, c);
      };
      return l.requestFactoryUpdate(function() {
        return ec(r, void 0, void 0, function() {
          var c;
          return tc(this, function(d) {
            switch (d.label) {
              case 0:
                return l.destroyed ? [
                  2
                  /*return*/
                ] : (c = ss(l.processedOptions, a), c == null ? (u(), [
                  2
                  /*return*/
                ]) : [4, o.updateDelta(l, c, t)]);
              case 1:
                return d.sent(), u(), [
                  2
                  /*return*/
                ];
            }
          });
        });
      }), e;
    }, o.updateUserDelta = function(t, e) {
      var r, n = t.chart, i = t.chart.queuedUserOptions, a = (r = i[i.length - 1]) !== null && r !== void 0 ? r : n.userOptions, s = xt([a, e]);
      Ka(">>> AgChartV2.updateUserDelta() user delta", e), Ka("AgChartV2.updateUserDelta() - base options", a), o.createOrUpdate(s, t);
    }, o.download = function(t, e) {
      var r = this, n = function() {
        return ec(r, void 0, void 0, function() {
          var i, a;
          return tc(this, function(s) {
            switch (s.label) {
              case 0:
                return [4, o.prepareResizedChart(t, e)];
              case 1:
                return i = s.sent(), a = i.chart, a.scene.download(e == null ? void 0 : e.fileName, e == null ? void 0 : e.fileFormat), i !== t && i.destroy(), [
                  2
                  /*return*/
                ];
            }
          });
        });
      };
      n().catch(function(i) {
        return pe.errorOnce(i);
      });
    }, o.getImageDataURL = function(t, e) {
      return ec(this, void 0, void 0, function() {
        var r, n, i;
        return tc(this, function(a) {
          switch (a.label) {
            case 0:
              return [4, o.prepareResizedChart(t, e)];
            case 1:
              return r = a.sent(), n = r.chart, i = n.scene.canvas.getDataURL(e == null ? void 0 : e.fileFormat), r !== t && r.destroy(), [2, i];
          }
        });
      });
    }, o.prepareResizedChart = function(t, e) {
      return ec(this, void 0, void 0, function() {
        var r, n, i, a, s, l, u, c, d;
        return tc(this, function(p) {
          switch (p.label) {
            case 0:
              return r = t.chart, n = e != null ? e : {}, i = n.width, a = n.height, s = r.width, l = r.height, u = i === void 0 && a === void 0 || r.scene.canvas.pixelRatio === 1 && s === i && l === a, u ? [2, t] : (i = i != null ? i : s, a = a != null ? a : l, c = Wt(Wt({}, r.userOptions), { container: document.createElement("div"), width: i, height: a, autoSize: !1, overrideDevicePixelRatio: 1 }), d = o.createOrUpdate(c), [4, d.chart.waitForUpdate()]);
            case 1:
              return p.sent(), [2, d];
          }
        });
      });
    }, o.createChartInstance = function(t, e, r) {
      var n = r == null ? void 0 : r.destroy({ keepTransferableResources: !0 });
      if (tu(t))
        return new fx(document, e, n);
      if (Nf(t))
        return new gx(document, e, n);
      if (Gf(t))
        return new vx(document, e, n);
      throw new Error("AG Charts - couldn't apply configuration, check type of options: " + t.type);
    }, o.updateDelta = function(t, e, r) {
      var n;
      return ec(this, void 0, void 0, function() {
        return tc(this, function(i) {
          switch (i.label) {
            case 0:
              return e.type == null && (e = Wt(Wt({}, e), { type: (n = t.processedOptions.type) !== null && n !== void 0 ? n : du(e) })), [4, t.awaitUpdateCompletion()];
            case 1:
              return i.sent(), t.destroyed ? [
                2
                /*return*/
              ] : (Ka("AgChartV2.updateDelta() - applying delta", e), pY(t, e, r), [
                2
                /*return*/
              ]);
          }
        });
      });
    }, o.DEBUG = function() {
      var t;
      return (t = jn("agChartsDebug")) !== null && t !== void 0 ? t : !1;
    }, o.initialised = !1, o;
  }()
);
function Ka(o) {
  for (var t = [], e = 1; e < arguments.length; e++)
    t[e - 1] = arguments[e];
  [!0, "opts"].includes(gl.DEBUG()) && pe.debug.apply(pe, Gx([o], Nx(t)));
}
function pY(o, t, e) {
  var r, n, i, a, s = xt([(r = o.processedOptions) !== null && r !== void 0 ? r : {}, t], ea), l = hY(o, s), u = ["type", "data", "series", "listeners", "theme", "legend"];
  if (tu(t) || Gf(t))
    u.push("axes");
  else if (!Nf(t))
    throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: " + t.type);
  t.listeners && kx(o, t.listeners), Vf(o, t, { skip: u });
  var c = !1;
  if (t.series && t.series.length > 0 && (fY(o, t), c = !0), "axes" in t && Array.isArray(t.axes)) {
    var d = vY(o, t);
    d && (c = !0);
  }
  gY(o, t);
  var p = t.series, h = !!t.data || (p == null ? void 0 : p.some(function(y) {
    return y.data != null;
  })), f = (i = (n = t.legend) !== null && n !== void 0 ? n : t.title) !== null && i !== void 0 ? i : t.subtitle;
  c = c || h || !!f, t.data && (o.data = t.data), t.listeners && o.updateAllSeriesListeners(), o.processedOptions = s, o.userOptions = xt([(a = o.userOptions) !== null && a !== void 0 ? a : {}, e], ea);
  var v = c || l, g = v ? je.PROCESS_DATA : je.PERFORM_LAYOUT;
  Ka("AgChartV2.applyChartOptions() - update type", je[g]), o.update(g, { forceNodeDataRefresh: c });
}
function hY(o, t) {
  var e, r, n = function(p) {
    return o instanceof fx && p.chartTypes.includes("cartesian") || o instanceof vx && p.chartTypes.includes("polar") || o instanceof gx && p.chartTypes.includes("hierarchy");
  }, i = !1, a = za.filter(function(p) {
    return p.type === "root";
  });
  try {
    for (var s = kf(a), l = s.next(); !l.done; l = s.next()) {
      var u = l.value, c = n(u) && t[u.optionsKey] != null, d = o.isModuleEnabled(u);
      c !== d && (i = !0, c ? o.addModule(u) : o.removeModule(u));
    }
  } catch (p) {
    e = { error: p };
  } finally {
    try {
      l && !l.done && (r = s.return) && r.call(s);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return i;
}
function fY(o, t) {
  var e = t.series;
  if (e) {
    var r = o.series.length === e.length && o.series.every(function(n, i) {
      var a;
      return n.type === ((a = e[i]) === null || a === void 0 ? void 0 : a.type);
    });
    if (r) {
      o.series.forEach(function(n, i) {
        var a, s, l, u, c = (l = (s = (a = o.processedOptions) === null || a === void 0 ? void 0 : a.series) === null || s === void 0 ? void 0 : s[i]) !== null && l !== void 0 ? l : {}, d = ss(c, (u = e[i]) !== null && u !== void 0 ? u : {});
        d && (Ka("AgChartV2.applySeries() - applying series diff idx " + i, d), Vx(n, d, { path: "series[" + i + "]", index: i }), n.markNodeDataDirty());
      });
      return;
    }
    o.series = yY(o, e);
  }
}
function vY(o, t) {
  var e = t.axes;
  if (!e)
    return !1;
  var r = o.axes.length === e.length && o.axes.every(function(i, a) {
    return i.type === e[a].type;
  });
  if (r) {
    var n = o.processedOptions;
    if (tu(n))
      return o.axes.forEach(function(i, a) {
        var s, l, u = (l = (s = n.axes) === null || s === void 0 ? void 0 : s[a]) !== null && l !== void 0 ? l : {}, c = ss(u, e[a]);
        Ka("AgChartV2.applyAxes() - applying axis diff idx " + a, c);
        var d = "axes[" + a + "]", p = ["axes[].type"];
        Vf(i, c, { path: d, skip: p });
      }), !0;
  }
  return o.axes = mY(o, e), !0;
}
function gY(o, t) {
  var e = ["listeners"];
  o.setLegendInit(function(r) {
    var n, i, a, s;
    Vf(r, (n = t.legend) !== null && n !== void 0 ? n : {}, { skip: e }), !((i = t.legend) === null || i === void 0) && i.listeners && Object.assign((a = o.legend) === null || a === void 0 ? void 0 : a.listeners, (s = t.legend.listeners) !== null && s !== void 0 ? s : {});
  });
}
function yY(o, t) {
  var e, r, n, i = [], a = o.getModuleContext(), s = 0;
  try {
    for (var l = kf(t != null ? t : []), u = l.next(); !u.done; u = l.next()) {
      var c = u.value, d = "series[" + s++ + "]", p = K4((n = c.type) !== null && n !== void 0 ? n : "unknown", a);
      Vx(p, c, { path: d, index: s }), i.push(p);
    }
  } catch (h) {
    e = { error: h };
  } finally {
    try {
      u && !u.done && (r = l.return) && r.call(l);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return i;
}
function mY(o, t) {
  var e, r, n = [], i = ["axes[].type"], a = o.getModuleContext(), s = 0;
  try {
    for (var l = kf(t != null ? t : []), u = l.next(); !u.done; u = l.next()) {
      var c = u.value, d = UK(c.type, a), p = "axes[" + s++ + "]";
      CY(d, c), Vf(d, c, { path: p, skip: i }), n.push(d);
    }
  } catch (h) {
    e = { error: h };
  } finally {
    try {
      u && !u.done && (r = l.return) && r.call(l);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return n;
}
function CY(o, t) {
  var e, r, n = !1, i = za.filter(function(d) {
    return d.type === "axis-option";
  });
  try {
    for (var a = kf(i), s = a.next(); !s.done; s = a.next()) {
      var l = s.value, u = t[l.optionsKey] != null, c = o.isModuleEnabled(l);
      u !== c && (n = !0, u ? o.addModule(l) : o.removeModule(l));
    }
  } catch (d) {
    e = { error: d };
  } finally {
    try {
      s && !s.done && (r = a.return) && r.call(a);
    } finally {
      if (e)
        throw e.error;
    }
  }
  return n;
}
function kx(o, t) {
  o.clearEventListeners();
  for (var e in t) {
    var r = t[e];
    typeof r == "function" && o.addEventListener(e, r);
  }
}
function Vf(o, t, e) {
  var r = e === void 0 ? {} : e, n = r.skip, i = r.path, a = Wt(Wt(Wt({}, sx()), { skip: n }), i ? { path: i } : {});
  return Dc(o, t, a);
}
function Vx(o, t, e) {
  var r, n, i = e === void 0 ? {} : e, a = i.path, s = i.index, l = ["series[].listeners", "series[].seriesGrouping"], u = sx(), c = (r = u.constructors) !== null && r !== void 0 ? r : {}, d = {
    constructors: Wt(Wt({}, c), { title: o.type === "pie" ? zz : c.title })
  }, p = Wt(Wt(Wt(Wt(Wt({}, u), d), { skip: Gx(["series[].type"], Nx(l != null ? l : [])) }), a ? { path: a } : {}), { idx: s != null ? s : -1 }), h = Dc(o, t, p), f = t == null ? void 0 : t.listeners;
  f != null && kx(o, f);
  var v = t.seriesGrouping;
  if ("seriesGrouping" in (t != null ? t : {}))
    if (v) {
      var g = Object.freeze(Wt(Wt({}, (n = o.seriesGrouping) !== null && n !== void 0 ? n : {}), v));
      o.seriesGrouping = g;
    } else
      o.seriesGrouping = v;
  return h;
}
var SY = "8.0.6", wY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ta = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Pl;
(function(o) {
  o[o.Open = 0] = "Open", o[o.Chord = 1] = "Chord", o[o.Round = 2] = "Round";
})(Pl || (Pl = {}));
var Bx = (
  /** @class */
  function(o) {
    wY(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.centerX = 0, e.centerY = 0, e.radius = 10, e.startAngle = 0, e.endAngle = Math.PI * 2, e.counterClockwise = !1, e.type = Pl.Open, e.restoreOwnStyles(), e;
    }
    return Object.defineProperty(t.prototype, "fullPie", {
      get: function() {
        return yC(Or(this.startAngle), Or(this.endAngle));
      },
      enumerable: !1,
      configurable: !0
    }), t.prototype.updatePath = function() {
      var e = this.path;
      e.clear(), e.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise), this.type === Pl.Chord ? e.closePath() : this.type === Pl.Round && !this.fullPie && (e.lineTo(this.centerX, this.centerY), e.closePath());
    }, t.prototype.computeBBox = function() {
      return new Ye(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);
    }, t.prototype.isPointInPath = function(e, r) {
      var n = this.transformPoint(e, r), i = this.computeBBox();
      return this.type !== Pl.Open && i.containsPoint(n.x, n.y) && this.path.isPointInPath(n.x, n.y);
    }, t.className = "Arc", t.defaultStyles = Object.assign({}, xi.defaultStyles, {
      lineWidth: 1,
      fillStyle: null
    }), Ta([
      lt()
    ], t.prototype, "centerX", void 0), Ta([
      lt()
    ], t.prototype, "centerY", void 0), Ta([
      lt()
    ], t.prototype, "radius", void 0), Ta([
      lt()
    ], t.prototype, "startAngle", void 0), Ta([
      lt()
    ], t.prototype, "endAngle", void 0), Ta([
      lt()
    ], t.prototype, "counterClockwise", void 0), Ta([
      lt()
    ], t.prototype, "type", void 0), t;
  }(xr)
), _Y = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), rc = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
(function(o) {
  _Y(t, o);
  function t(e) {
    var r = o.call(this) || this;
    return r.x = 0, r.y = 0, r.width = 0, r.height = 0, r.opacity = 1, r.sourceImage = e, r;
  }
  return t.prototype.render = function(e) {
    var r = e.ctx, n = e.forceRender, i = e.stats;
    if (this.dirty === oe.NONE && !n) {
      i && i.nodesSkipped++;
      return;
    }
    this.computeTransformMatrix(), this.matrix.toContext(r);
    var a = this.sourceImage;
    r.globalAlpha = this.opacity, r.drawImage(a, 0, 0, a.width, a.height, this.x, this.y, this.width, this.height), o.prototype.render.call(this, e);
  }, rc([
    ve({ redraw: oe.MAJOR })
  ], t.prototype, "x", void 0), rc([
    ve({ redraw: oe.MAJOR })
  ], t.prototype, "y", void 0), rc([
    ve({ redraw: oe.MAJOR })
  ], t.prototype, "width", void 0), rc([
    ve({ redraw: oe.MAJOR })
  ], t.prototype, "height", void 0), rc([
    ve({ redraw: oe.MAJOR })
  ], t.prototype, "opacity", void 0), t;
})(Rf);
var bY = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, EY = Object.entries(Mx).reduce(function(o, t) {
  var e = bY(t, 2), r = e[0], n = e[1];
  return o[r] = n(), o;
}, {}), OY = [
  "area",
  "bar",
  "column",
  "histogram",
  "line",
  "pie",
  "scatter"
];
function bn(o) {
  switch (o) {
    case "bar":
    case "groupedBar":
    case "stackedBar":
    case "normalizedBar":
      return "bar";
    case "column":
    case "groupedColumn":
    case "stackedColumn":
    case "normalizedColumn":
      return "column";
    case "line":
      return "line";
    case "area":
    case "stackedArea":
    case "normalizedArea":
      return "area";
    case "scatter":
    case "bubble":
      return "scatter";
    case "histogram":
      return "histogram";
    case "pie":
    case "doughnut":
      return "pie";
    default:
      return "cartesian";
  }
}
var Hx = ["number", "category", "groupedCategory", "log", "time"];
function xY(o) {
  switch (o) {
    case "bar":
    case "stackedBar":
    case "normalizedBar":
      return ["number", "category"];
    case "groupedBar":
      return ["number", "groupedCategory"];
    case "column":
    case "stackedColumn":
    case "normalizedColumn":
    case "line":
    case "area":
    case "stackedArea":
    case "normalizedArea":
    case "histogram":
      return ["category", "number"];
    case "groupedColumn":
      return ["groupedCategory", "number"];
    case "scatter":
    case "bubble":
      return ["number", "number"];
    default:
      return;
  }
}
var Qc = function() {
  return Qc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Qc.apply(this, arguments);
};
function TY(o, t) {
  var e, r = o.chartOptionsToRestore, n = o.chartPaletteToRestore, i = o.chartThemeToRestore, a = MY(o), s = jx(a), l = s ? { baseTheme: a } : (e = Wx(o, a)) !== null && e !== void 0 ? e : {}, u = o.getGridOptionsChartThemeOverrides(), c = o.apiChartThemeOverrides, d = bn(o.chartType), p = d === "pie" ? "polar" : "cartesian", h = o.crossFiltering ? DY(t, o, p) : void 0, f = Qc({}, r != null ? r : {}), v = function() {
    var C = function(S) {
      return S ? Object.keys(S).some(function(b) {
        return T.get(S[b], "title.enabled", !1);
      }) : !1;
    };
    return C(u) || C(c);
  }, g = [
    s ? AY(o, v()) : void 0,
    h,
    u,
    c,
    f
  ], y = g.filter(function(C) {
    return !!C;
  }).reduce(function(C, S) {
    return {
      baseTheme: C,
      overrides: S
    };
  }, l);
  if (n && a === i) {
    var m = vd(l).palette;
    RY(n, m) || (y.palette = n);
  }
  return y;
}
function RY(o, t) {
  var e = function(r, n) {
    return r.length !== n.length ? !1 : r.every(function(i, a) {
      return i === n[a];
    });
  };
  return e(o.fills, t.fills) && e(o.strokes, t.strokes);
}
function jx(o) {
  return T.includes(Object.keys(EY), o);
}
function DY(o, t, e) {
  var r, n = {
    listeners: {
      legendItemClick: function(a) {
        var s = o.getChart();
        s.series.forEach(function(l) {
          l.toggleSeriesItem(a.itemId, a.enabled), l.toggleSeriesItem(a.itemId + "-filtered-out", a.enabled);
        });
      }
    }
  }, i = {};
  return e === "polar" && (i.pie = {
    tooltip: {
      renderer: function(a) {
        var s = a.angleName, l = a.datum, u = a.calloutLabelKey, c = a.radiusKey, d = a.angleValue, p = s, h = l[u], f = l[c], v = d;
        return { title: p, content: h + ": " + v * f };
      }
    }
  }), r = {}, r[e] = {
    tooltip: {
      delay: 500
    },
    legend: n,
    listeners: {
      click: function(a) {
        return t.crossFilterCallback(a, !0);
      }
    },
    series: i
  }, r;
}
var PY = Hx.reduce(function(o, t) {
  var e;
  return Qc(Qc({}, o), (e = {}, e[t] = { title: { _enabledFromTheme: !0 } }, e));
}, {});
function AY(o, t) {
  var e = o.getExtraPaddingDirections();
  return {
    common: {
      axes: PY,
      padding: {
        // don't add extra padding when a title is present!
        top: !t && e.includes("top") ? 40 : 20,
        right: e.includes("right") ? 30 : 20,
        bottom: e.includes("bottom") ? 40 : 20,
        left: e.includes("left") ? 30 : 20
      }
    },
    pie: {
      series: {
        title: { _enabledFromTheme: !0 },
        calloutLabel: { _enabledFromTheme: !0 },
        sectorLabel: {
          enabled: !1,
          _enabledFromTheme: !0
        }
      }
    }
  };
}
function MY(o) {
  var t = o.getChartThemeName(), e = o.getChartThemes();
  return T.includes(e, t) || (t = e[0]), t;
}
function Wx(o, t) {
  var e = o.customChartThemes, r = e && e[t];
  return r || console.warn("AG Grid: no stock theme exists with the name '" + t + "' and no custom chart theme with that name was supplied to 'customChartThemes'"), r;
}
var nc = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, nl = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, IY = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, Pp = function(o) {
  return function(t) {
    return t === void 0 ? !0 : o(t);
  };
}, W_ = function(o) {
  return typeof o == "string";
}, $_ = function(o) {
  return typeof o == "boolean";
}, FY = function(o) {
  return typeof o == "object";
}, $i = function(o, t) {
  return function(e) {
    return "AG Grid - unable to update chart as invalid params supplied:  `" + o + ": " + e + "`, expected " + t + ".";
  };
}, LY = (
  /** @class */
  function() {
    function o() {
    }
    return o.validateChartParams = function(t) {
      var e = t;
      switch (e.type) {
        case "rangeChartUpdate":
          return o.validateUpdateRangeChartParams(t);
        case "pivotChartUpdate":
          return o.validateUpdatePivotChartParams(t);
        case "crossFilterChartUpdate":
          return o.validateUpdateCrossFilterChartParams(t);
        default:
          return console.warn("AG Grid - Invalid value supplied for 'type': " + t.type + ". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."), !1;
      }
    }, o.validateUpdateRangeChartParams = function(t) {
      var e = nl(nl(nl([], nc(o.commonValidations)), nc(o.cellRangeValidations)), [
        {
          property: "seriesChartTypes",
          validationFn: function(r) {
            return r === void 0 || Array.isArray(r) && r.every(FY);
          },
          warnMessage: $i("seriesChartTypes", "Array of SeriesChartType")
        }
      ]);
      return o.validateProperties(t, e, ["type", "chartId", "chartType", "chartThemeName", "chartThemeOverrides", "unlinkChart", "cellRange", "suppressChartRanges", "aggFunc", "seriesChartTypes"], "UpdateRangeChartParams");
    }, o.validateUpdatePivotChartParams = function(t) {
      var e = nl([], nc(o.commonValidations));
      return o.validateProperties(t, e, ["type", "chartId", "chartType", "chartThemeName", "chartThemeOverrides", "unlinkChart"], "UpdatePivotChartParams");
    }, o.validateUpdateCrossFilterChartParams = function(t) {
      var e = nl(nl([], nc(o.commonValidations)), nc(o.cellRangeValidations));
      return o.validateProperties(t, e, ["type", "chartId", "chartType", "chartThemeName", "chartThemeOverrides", "unlinkChart", "cellRange", "suppressChartRanges", "aggFunc"], "UpdateCrossFilterChartParams");
    }, o.validateProperties = function(t, e, r, n) {
      var i, a;
      try {
        for (var s = IY(e), l = s.next(); !l.done; l = s.next()) {
          var u = l.value, c = u.property, d = u.validationFn, p = u.warnMessage;
          if (c in t) {
            var h = t[c];
            if (!d(h))
              return console.warn(p(h)), !1;
          }
        }
      } catch (f) {
        i = { error: f };
      } finally {
        try {
          l && !l.done && (a = s.return) && a.call(s);
        } finally {
          if (i)
            throw i.error;
        }
      }
      for (var c in t)
        if (!r.includes(c))
          return console.warn("AG Grid - Unexpected property supplied. " + n + " does not contain: `" + c + "`."), !1;
      return !0;
    }, o.validChartTypes = [
      "column",
      "groupedColumn",
      "stackedColumn",
      "normalizedColumn",
      "bar",
      "groupedBar",
      "stackedBar",
      "normalizedBar",
      "line",
      "scatter",
      "bubble",
      "pie",
      "doughnut",
      "area",
      "stackedArea",
      "normalizedArea",
      "histogram",
      "columnLineCombo",
      "areaColumnCombo",
      "customCombo"
    ], o.validateChartType = Pp(function(t) {
      return o.validChartTypes.includes(t);
    }), o.validateAgChartThemeOverrides = Pp(function(t) {
      return typeof t == "object";
    }), o.validateChartParamsCellRange = Pp(function(t) {
      return typeof t == "object";
    }), o.validateAggFunc = Pp(function(t) {
      return typeof t == "string" || typeof t == "function";
    }), o.commonValidations = [
      { property: "chartId", validationFn: W_, warnMessage: $i("chartId", "string") },
      {
        property: "chartType",
        validationFn: o.validateChartType,
        warnMessage: $i("chartType", o.validChartTypes.join(", "))
      },
      {
        property: "chartThemeName",
        validationFn: W_,
        warnMessage: $i("chartThemeName", "string")
      },
      {
        property: "chartThemeOverrides",
        validationFn: o.validateAgChartThemeOverrides,
        warnMessage: $i("chartThemeOverrides", "AgChartThemeOverrides")
      },
      { property: "unlinkChart", validationFn: $_, warnMessage: $i("unlinkChart", "boolean") }
    ], o.cellRangeValidations = [
      {
        property: "cellRange",
        validationFn: o.validateChartParamsCellRange,
        warnMessage: $i("cellRange", "ChartParamsCellRange")
      },
      {
        property: "suppressChartRanges",
        validationFn: $_,
        warnMessage: $i("suppressChartRanges", "boolean")
      },
      {
        property: "aggFunc",
        validationFn: o.validateAggFunc,
        warnMessage: $i("aggFunc", "string or IAggFunc")
      }
    ], o;
  }()
), NY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Vy = function() {
  return Vy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Vy.apply(this, arguments);
}, U_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $x = ["ag-default", "ag-material", "ag-pastel", "ag-vivid", "ag-solar"], Kn = (
  /** @class */
  function(o) {
    NY(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.model = e, r;
    }
    return t.prototype.init = function() {
      var e = this;
      this.setChartRange(), this.addManagedListener(this.eventService, R.EVENT_RANGE_SELECTION_CHANGED, function(r) {
        r.id && r.id === e.model.chartId && e.updateForRangeChange();
      }), this.model.unlinked && this.rangeService && this.rangeService.setCellRanges([]), this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, this.updateForGridChange.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PINNED, this.updateForGridChange.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, this.updateForGridChange.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, this.updateForGridChange.bind(this)), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.updateForGridChange.bind(this)), this.addManagedListener(this.eventService, R.EVENT_CELL_VALUE_CHANGED, this.updateForDataChange.bind(this));
    }, t.prototype.update = function(e) {
      var r, n, i, a, s, l, u;
      if (!this.validUpdateType(e) || !LY.validateChartParams(e))
        return !1;
      var c = e.chartId, d = e.chartType, p = e.chartThemeName, h = e.unlinkChart, f = {
        chartId: c,
        pivotChart: this.model.pivotChart,
        chartType: d != null ? d : this.model.chartType,
        chartThemeName: p != null ? p : this.model.chartThemeName,
        unlinkChart: h != null ? h : this.model.unlinked,
        cellRange: this.model.suppliedCellRange,
        aggFunc: this.model.aggFunc,
        seriesChartTypes: void 0,
        suppressChartRanges: !1,
        crossFiltering: !1
      }, v = Vy({}, f);
      switch (e.type) {
        case "rangeChartUpdate":
          v.cellRange = (r = this.createCellRange(e)) !== null && r !== void 0 ? r : this.model.suppliedCellRange, v.aggFunc = (n = e.aggFunc) !== null && n !== void 0 ? n : this.model.aggFunc, v.seriesChartTypes = e.seriesChartTypes, v.suppressChartRanges = (i = e.suppressChartRanges) !== null && i !== void 0 ? i : this.model.suppressChartRanges;
          break;
        case "crossFilterChartUpdate":
          v.cellRange = (a = this.createCellRange(e)) !== null && a !== void 0 ? a : this.model.suppliedCellRange, v.aggFunc = (s = e.aggFunc) !== null && s !== void 0 ? s : this.model.aggFunc, v.crossFiltering = !0, v.suppressChartRanges = (l = e.suppressChartRanges) !== null && l !== void 0 ? l : this.model.suppressChartRanges;
          break;
      }
      this.model.updateModel(v);
      var g = v.unlinkChart || v.suppressChartRanges;
      return g ? (u = this.rangeService) === null || u === void 0 || u.setCellRanges([]) : this.setChartRange(), !0;
    }, t.prototype.updateForGridChange = function() {
      this.model.unlinked || (this.model.updateCellRanges(), this.model.updateData(), this.setChartRange());
    }, t.prototype.updateForDataChange = function() {
      this.model.unlinked || (this.model.updateData(), this.raiseChartModelUpdateEvent());
    }, t.prototype.updateForRangeChange = function() {
      this.updateForGridChange(), this.raiseChartRangeSelectionChangedEvent();
    }, t.prototype.updateForPanelChange = function(e) {
      this.model.updateCellRanges(e), this.model.updateData(), this.setChartRange(), this.raiseChartRangeSelectionChangedEvent();
    }, t.prototype.getChartUpdateParams = function(e) {
      var r = this.getSelectedValueColState(), n = r.map(function(s) {
        return { colId: s.colId, displayName: s.displayName };
      }), i = this.getChartData(), a = this.getSelectedDimension();
      return {
        data: i,
        grouping: this.isGrouping(),
        category: {
          id: a.colId,
          name: a.displayName,
          chartDataType: this.model.getChartDataType(a.colId)
        },
        fields: n,
        chartId: this.getChartId(),
        getCrossFilteringContext: function() {
          return { lastSelectedChartId: "xxx" };
        },
        seriesChartTypes: this.getSeriesChartTypes(),
        updatedOverrides: e
      };
    }, t.prototype.getChartModel = function() {
      var e = this.model.pivotChart ? "pivot" : "range", r = this.isComboChart() ? this.model.comboChartModel.seriesChartTypes : void 0;
      return {
        modelType: e,
        chartId: this.model.chartId,
        chartType: this.model.chartType,
        chartThemeName: this.getChartThemeName(),
        chartOptions: this.chartProxy.getChartThemeOverrides(),
        chartPalette: this.chartProxy.getChartPalette(),
        cellRange: this.getCellRangeParams(),
        suppressChartRanges: this.model.suppressChartRanges,
        aggFunc: this.model.aggFunc,
        unlinkChart: this.model.unlinked,
        seriesChartTypes: r
      };
    }, t.prototype.getChartId = function() {
      return this.model.chartId;
    }, t.prototype.getChartData = function() {
      return this.model.chartData;
    }, t.prototype.getChartType = function() {
      return this.model.chartType;
    }, t.prototype.setChartType = function(e) {
      this.model.chartType = e, this.model.comboChartModel.updateSeriesChartTypes(), this.raiseChartModelUpdateEvent(), this.raiseChartOptionsChangedEvent();
    }, t.prototype.setChartThemeName = function(e) {
      this.model.chartThemeName = e, this.raiseChartModelUpdateEvent(), this.raiseChartOptionsChangedEvent();
    }, t.prototype.getChartThemeName = function() {
      return this.model.chartThemeName;
    }, t.prototype.isPivotChart = function() {
      return this.model.pivotChart;
    }, t.prototype.isPivotMode = function() {
      return this.model.isPivotMode();
    }, t.prototype.isGrouping = function() {
      return this.model.isGrouping();
    }, t.prototype.isCrossFilterChart = function() {
      return this.model.crossFiltering;
    }, t.prototype.getThemes = function() {
      return this.gridOptionsService.get("chartThemes") || $x;
    }, t.prototype.getPalettes = function() {
      var e = this, r = this.getThemes();
      return r.map(function(n) {
        var i = jx(n), a = i ? n : e.chartProxy.lookupCustomChartTheme(n);
        return vd(a).palette;
      });
    }, t.prototype.getValueColState = function() {
      return this.model.valueColState.map(this.displayNameMapper.bind(this));
    }, t.prototype.getSelectedValueColState = function() {
      return this.getValueColState().filter(function(e) {
        return e.selected;
      });
    }, t.prototype.getSelectedDimension = function() {
      return this.model.getSelectedDimension();
    }, t.prototype.displayNameMapper = function(e) {
      var r = this.model.columnNames[e.colId];
      return e.displayName = r ? r.join(" - ") : this.model.getColDisplayName(e.column), e;
    }, t.prototype.getColStateForMenu = function() {
      return { dimensionCols: this.model.dimensionColState, valueCols: this.getValueColState() };
    }, t.prototype.setChartRange = function(e) {
      e === void 0 && (e = !1), this.rangeService && !this.model.suppressChartRanges && !this.model.unlinked && this.rangeService.setCellRanges(this.getCellRanges()), e || this.raiseChartModelUpdateEvent();
    }, t.prototype.detachChartRange = function() {
      this.model.unlinked = !this.model.unlinked, this.model.unlinked ? this.rangeService && this.rangeService.setCellRanges([]) : this.updateForGridChange();
    }, t.prototype.setChartProxy = function(e) {
      this.chartProxy = e;
    }, t.prototype.getChartProxy = function() {
      return this.chartProxy;
    }, t.prototype.isActiveXYChart = function() {
      return T.includes(["scatter", "bubble"], this.getChartType());
    }, t.prototype.isChartLinked = function() {
      return !this.model.unlinked;
    }, t.prototype.customComboExists = function() {
      var e = this.model.comboChartModel.savedCustomSeriesChartTypes;
      return e && e.length > 0;
    }, t.prototype.getSeriesChartTypes = function() {
      return this.model.comboChartModel.seriesChartTypes;
    }, t.prototype.isComboChart = function() {
      return this.model.isComboChart();
    }, t.prototype.updateSeriesChartType = function(e, r, n) {
      var i = this.model.comboChartModel.seriesChartTypes.find(function(l) {
        return l.colId === e;
      });
      if (i) {
        var a = this.model.chartType !== "customCombo";
        a && (this.model.chartType = "customCombo");
        var s = i.chartType;
        r != null && (i.chartType = r), n != null && (i.secondaryAxis = n), this.model.comboChartModel.savedCustomSeriesChartTypes = this.model.comboChartModel.seriesChartTypes, this.model.comboChartModel.updateSeriesChartTypes(), this.updateForDataChange(), a && this.dispatchEvent({
          type: t.EVENT_CHART_TYPE_CHANGED
        }), s !== r && this.dispatchEvent({
          type: t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED
        }), this.raiseChartOptionsChangedEvent();
      }
    }, t.prototype.getActiveSeriesChartTypes = function() {
      var e = this.getSelectedValueColState().map(function(r) {
        return r.colId;
      });
      return this.getSeriesChartTypes().filter(function(r) {
        return e.includes(r.colId);
      });
    }, t.prototype.getChartSeriesTypes = function() {
      var e = ["line", "column", "area"];
      return this.isComboChart() ? e : [bn(this.getChartType())];
    }, t.prototype.getCellRanges = function() {
      return [this.model.dimensionCellRange, this.model.valueCellRange].filter(function(e) {
        return e;
      });
    }, t.prototype.createCellRange = function(e) {
      var r;
      return e.cellRange && ((r = this.rangeService) === null || r === void 0 ? void 0 : r.createCellRangeFromCellRangeParams(e.cellRange));
    }, t.prototype.validUpdateType = function(e) {
      var r = this, n;
      if (!e.type)
        return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."), !1;
      var i = {
        "Range Chart": function() {
          return !r.isPivotChart() && !r.isCrossFilterChart();
        },
        "Pivot Chart": function() {
          return r.isPivotChart();
        },
        "Cross Filter Chart": function() {
          return r.isCrossFilterChart();
        }
      }, a = (n = Object.keys(i).find(function(l) {
        return i[l]();
      })) !== null && n !== void 0 ? n : "Range Chart", s = e.type === "" + a[0].toLowerCase() + a.slice(1).replace(/ /g, "") + "Update";
      return s || console.warn("AG Grid - Unable to update chart as a '" + e.type + "' update type is not permitted on a " + a + "."), s;
    }, t.prototype.getCellRangeParams = function() {
      var e = this.getCellRanges(), r = e[0], n = r && r.startRow || null, i = r && r.endRow || null;
      return {
        rowStartIndex: n && n.rowIndex,
        rowStartPinned: n && n.rowPinned,
        rowEndIndex: i && i.rowIndex,
        rowEndPinned: i && i.rowPinned,
        columns: e.reduce(function(a, s) {
          return a.concat(s.columns.map(function(l) {
            return l.getId();
          }));
        }, [])
      };
    }, t.prototype.raiseChartModelUpdateEvent = function() {
      var e = {
        type: t.EVENT_CHART_MODEL_UPDATE
      };
      this.dispatchEvent(e);
    }, t.prototype.raiseChartUpdatedEvent = function() {
      var e = {
        type: t.EVENT_CHART_UPDATED
      };
      this.dispatchEvent(e);
    }, t.prototype.raiseChartApiUpdateEvent = function() {
      var e = {
        type: t.EVENT_CHART_API_UPDATE
      };
      this.dispatchEvent(e);
    }, t.prototype.raiseChartOptionsChangedEvent = function() {
      var e = this.getChartModel(), r = e.chartId, n = e.chartType, i = {
        type: R.EVENT_CHART_OPTIONS_CHANGED,
        chartId: r,
        chartType: n,
        chartThemeName: this.getChartThemeName(),
        chartOptions: this.chartProxy.getChartThemeOverrides()
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.raiseChartRangeSelectionChangedEvent = function() {
      var e = {
        type: R.EVENT_CHART_RANGE_SELECTION_CHANGED,
        id: this.model.chartId,
        chartId: this.model.chartId,
        cellRange: this.getCellRangeParams()
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.rangeService && this.rangeService.setCellRanges([]);
    }, t.EVENT_CHART_UPDATED = "chartUpdated", t.EVENT_CHART_API_UPDATE = "chartApiUpdate", t.EVENT_CHART_MODEL_UPDATE = "chartModelUpdate", t.EVENT_CHART_TYPE_CHANGED = "chartTypeChanged", t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED = "chartSeriesChartTypeChanged", U_([
      w("rangeService")
    ], t.prototype, "rangeService", void 0), U_([
      V
    ], t.prototype, "init", null), t;
  }(W)
), GY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Dg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ap = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Mp = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, kY = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, VY = {
  groups: [
    { type: "categories", isOpen: !0 },
    { type: "series", isOpen: !0 },
    { type: "seriesChartType", isOpen: !0 }
  ]
}, BY = (
  /** @class */
  function(o) {
    GY(t, o);
    function t(e, r) {
      var n = o.call(this, t.TEMPLATE) || this;
      return n.chartController = e, n.chartOptionsService = r, n.columnComps = /* @__PURE__ */ new Map(), n;
    }
    return t.prototype.init = function() {
      this.updatePanels(), this.addManagedListener(this.chartController, Kn.EVENT_CHART_MODEL_UPDATE, this.updatePanels.bind(this)), this.addManagedListener(this.chartController, Kn.EVENT_CHART_API_UPDATE, this.updatePanels.bind(this)), this.createAutoScrollService();
    }, t.prototype.destroy = function() {
      this.clearComponents(), o.prototype.destroy.call(this);
    }, t.prototype.updatePanels = function() {
      var e = this, r, n, i = this.chartType, a = this.chartController.getColStateForMenu(), s = a.dimensionCols, l = a.valueCols, u = s.map(function(h) {
        return h.colId;
      }).concat(l.map(function(h) {
        return h.colId;
      }));
      this.chartType = this.chartController.getChartType();
      var c = this.getGroupExpandedState();
      if (T.areEqual(T.keys(this.columnComps), u) && this.chartType === i) {
        if (Mp(Mp([], Ap(s)), Ap(l)).forEach(function(h) {
          e.columnComps.get(h.colId).setValue(h.selected, !0);
        }), this.chartController.isActiveXYChart()) {
          var d = this.generateGetSeriesLabel();
          l.forEach(function(h) {
            e.columnComps.get(h.colId).setLabel(d(h));
          });
        }
        T.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")), this.seriesChartTypeGroupComp = this.destroyBean(this.seriesChartTypeGroupComp);
        var p = (r = this.getDataPanelDef().groups) === null || r === void 0 ? void 0 : r.reduce(function(h, f, v) {
          var g = f.type;
          return g === "seriesChartType" ? v : h;
        }, -1);
        p !== -1 && this.createSeriesChartTypeGroup(l, p);
      } else
        this.clearComponents(), (n = this.getDataPanelDef().groups) === null || n === void 0 || n.forEach(function(h) {
          var f = h.type;
          f === "categories" ? e.createCategoriesGroup(s) : f === "series" ? e.createSeriesGroup(l) : f === "seriesChartType" ? e.createSeriesChartTypeGroup(l) : console.warn("AG Grid: invalid charts data panel group name supplied: '" + f + "'");
        });
      this.restoreGroupExpandedState(c);
    }, t.prototype.getGroupExpandedState = function() {
      var e = this, r = [
        { groupType: "categories", comp: this.categoriesGroupComp },
        { groupType: "series", comp: this.seriesGroupComp },
        { groupType: "seriesChartType", comp: this.seriesChartTypeGroupComp }
      ];
      return r.map(function(n) {
        var i, a, s = n.groupType, l = n.comp, u = !!(!((a = (i = e.getDataPanelDef().groups) === null || i === void 0 ? void 0 : i.find(function(c) {
          var d = c.type;
          return d === s;
        })) === null || a === void 0) && a.isOpen);
        return l ? l.isExpanded() : u;
      });
    }, t.prototype.restoreGroupExpandedState = function(e) {
      [
        this.categoriesGroupComp,
        this.seriesGroupComp,
        this.seriesChartTypeGroupComp
      ].forEach(function(r, n) {
        r && r.toggleGroupExpand(e[n]);
      });
    }, t.prototype.createAutoScrollService = function() {
      var e = this.getGui();
      this.autoScrollService = new bf({
        scrollContainer: e,
        scrollAxis: "y",
        getVerticalPosition: function() {
          return e.scrollTop;
        },
        setVerticalPosition: function(r) {
          return e.scrollTop = r;
        }
      });
    }, t.prototype.createComponent = function(e, r) {
      var n = document.createElement("div");
      return n.id = r, n.className = "ag-chart-data-section", n.appendChild(e.getGui()), n;
    }, t.prototype.addComponent = function(e, r, n) {
      var i = this.createComponent(r, n);
      e.appendChild(i);
    }, t.prototype.addComponentAtIndex = function(e, r, n, i) {
      var a = this.createComponent(r, n);
      e.insertBefore(a, e.children[i]);
    }, t.prototype.addChangeListener = function(e, r) {
      var n = this;
      this.addManagedListener(e, bi.EVENT_CHANGED, function() {
        r.selected = e.getValue(), n.chartController.updateForPanelChange(r);
      });
    }, t.prototype.createCategoriesGroup = function(e) {
      var r = this;
      this.categoriesGroupComp = this.createBean(new Ci({
        title: this.getCategoryGroupTitle(),
        enabled: !0,
        suppressEnabledCheckbox: !0,
        suppressOpenCloseIcons: !1,
        cssIdentifier: "charts-data"
      }));
      var n = "chartDimension" + this.getCompId();
      e.forEach(function(i) {
        var a = r.categoriesGroupComp.createManagedBean(new Nm());
        a.setLabel(T.escapeString(i.displayName)), a.setValue(i.selected), a.setInputName(n), r.addChangeListener(a, i), r.categoriesGroupComp.addItem(a), r.columnComps.set(i.colId, a);
      }), this.addComponent(this.getGui(), this.categoriesGroupComp, "categoriesGroup");
    }, t.prototype.createSeriesGroup = function(e) {
      var r = this;
      if (this.seriesGroupComp = this.createManagedBean(new Ci({
        title: this.getSeriesGroupTitle(),
        enabled: !0,
        suppressEnabledCheckbox: !0,
        suppressOpenCloseIcons: !1,
        cssIdentifier: "charts-data"
      })), this.chartController.isActiveXYChart()) {
        var n = this.seriesGroupComp.createManagedBean(new zm());
        n.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(u) {
          r.chartOptionsService.setPairedMode(!!u), r.chartController.updateForGridChange();
        }), this.seriesGroupComp.addItem(n);
      }
      var i = this.generateGetSeriesLabel();
      e.forEach(function(u) {
        var c = r.seriesGroupComp.createManagedBean(new On());
        c.addCssClass("ag-data-select-checkbox");
        var d = i(u);
        c.setLabel(d), c.setValue(u.selected), r.addChangeListener(c, u), r.seriesGroupComp.addItem(c), r.columnComps.set(u.colId, c), r.addDragHandle(c, u);
      });
      var a = this.getGui(), s = this.seriesGroupComp.getGui();
      this.addComponent(a, this.seriesGroupComp, "seriesGroup");
      var l = {
        getIconName: function() {
          return Ze.ICON_MOVE;
        },
        getContainer: function() {
          return s;
        },
        onDragging: function(u) {
          return r.onDragging(u);
        },
        onDragLeave: function() {
          return r.onDragLeave();
        },
        isInterestedIn: this.isInterestedIn.bind(this),
        targetContainsSource: !0
      };
      this.dragAndDropService.addDropTarget(l), this.addDestroyFunc(function() {
        return r.dragAndDropService.removeDropTarget(l);
      });
    }, t.prototype.createSeriesChartTypeGroup = function(e, r) {
      var n = this;
      if (this.chartController.isComboChart()) {
        this.seriesChartTypeGroupComp = this.createManagedBean(new Ci({
          title: this.chartTranslationService.translate("seriesChartType"),
          enabled: !0,
          suppressEnabledCheckbox: !0,
          suppressOpenCloseIcons: !1,
          cssIdentifier: "charts-data"
        }));
        var i = this.chartController.getSeriesChartTypes();
        e.forEach(function(a) {
          if (a.selected) {
            var s = i.filter(function(h) {
              return h.colId === a.colId;
            })[0];
            if (s) {
              var l = n.seriesChartTypeGroupComp.createManagedBean(new Ci({
                title: a.displayName,
                enabled: !0,
                suppressEnabledCheckbox: !0,
                suppressOpenCloseIcons: !0,
                cssIdentifier: "charts-format-sub-level"
              })), u = n.seriesChartTypeGroupComp.createManagedBean(new On()).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn", "stackedColumn", "stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(h) {
                return n.chartController.updateSeriesChartType(a.colId, void 0, h);
              });
              l.addItem(u);
              var c = function(h, f) {
                return n.chartTranslationService.translate(h, f);
              }, d = [
                { value: "line", text: c("line", "Line") },
                { value: "area", text: c("area", "Area") },
                { value: "stackedArea", text: c("stackedArea", "StackedArea") },
                { value: "groupedColumn", text: c("groupedColumn", "Grouped Column") },
                { value: "stackedColumn", text: c("stackedColumn", "Stacked Column") }
              ], p = l.createManagedBean(new nu());
              p.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(h) {
                return n.chartController.updateSeriesChartType(a.colId, h);
              }), l.addItem(p), n.seriesChartTypeGroupComp.addItem(l);
            }
          }
        }), r === void 0 ? this.addComponent(this.getGui(), this.seriesChartTypeGroupComp, "seriesChartTypeGroup") : this.addComponentAtIndex(this.getGui(), this.seriesChartTypeGroupComp, "seriesChartTypeGroup", r);
      }
    }, t.prototype.addDragHandle = function(e, r) {
      var n = this, i = T.createIconNoSpan("columnDrag", this.gridOptionsService);
      i.classList.add("ag-drag-handle", "ag-chart-data-column-drag-handle"), e.getGui().insertAdjacentElement("beforeend", i);
      var a = {
        type: gt.ChartPanel,
        eElement: i,
        dragItemName: r.displayName,
        getDragItem: function() {
          return { columns: [r.column] };
        },
        onDragStopped: function() {
          return n.onDragStop();
        }
      };
      this.dragAndDropService.addDragSource(a, !0), this.addDestroyFunc(function() {
        return n.dragAndDropService.removeDragSource(a);
      });
    }, t.prototype.generateGetSeriesLabel = function() {
      if (!this.chartController.isActiveXYChart())
        return function(a) {
          return T.escapeString(a.displayName);
        };
      var e = this.chartType === "bubble", r = this.isInPairedMode(), n = 0, i = /* @__PURE__ */ new Map();
      return i.set(0, "X"), i.set(1, "Y"), i.set(2, "size"), function(a) {
        var s = T.escapeString(a.displayName);
        if (!a.selected)
          return s;
        var l;
        return r ? l = i.get(n % (e ? 3 : 2)) : n === 0 ? l = "X" : l = e && n % 2 === 0 ? "size" : "Y", n++, s + " (" + l + ")";
      };
    }, t.prototype.getCategoryGroupTitle = function() {
      return this.chartTranslationService.translate(this.chartController.isActiveXYChart() ? "labels" : "categories");
    }, t.prototype.getSeriesGroupTitle = function() {
      return this.chartTranslationService.translate(this.chartController.isActiveXYChart() ? "xyValues" : "series");
    }, t.prototype.getDataPanelDef = function() {
      var e, r = (e = this.gridOptionsService.get("chartToolPanelsDef")) === null || e === void 0 ? void 0 : e.dataPanel;
      return r || VY;
    }, t.prototype.isInPairedMode = function() {
      return this.chartController.isActiveXYChart() && this.chartOptionsService.getSeriesOption("paired", "scatter");
    }, t.prototype.clearComponents = function() {
      T.clearElement(this.getGui()), this.categoriesGroupComp = this.destroyBean(this.categoriesGroupComp), this.seriesGroupComp = this.destroyBean(this.seriesGroupComp), this.seriesChartTypeGroupComp = this.destroyBean(this.seriesChartTypeGroupComp), this.columnComps.clear();
    }, t.prototype.onDragging = function(e) {
      var r = this.checkHoveredItem(e);
      if (r) {
        this.lastDraggedColumn = e.dragItem.columns[0];
        var n = r.comp, i = r.position, a = this.lastHoveredItem || {}, s = a.comp, l = a.position;
        if (!(n === s && i === l)) {
          this.autoScrollService.check(e.event), this.clearHoveredItems(), this.lastHoveredItem = { comp: n, position: i };
          var u = n.getGui();
          u.classList.add("ag-list-item-hovered", "ag-item-highlight-" + i);
        }
      }
    }, t.prototype.checkHoveredItem = function(e) {
      var r, n;
      if (T.missing(e.vDirection))
        return null;
      var i = e.event;
      try {
        for (var a = kY(this.columnComps.values()), s = a.next(); !s.done; s = a.next()) {
          var l = s.value, u = l.getGui();
          if (u.querySelector(".ag-chart-data-column-drag-handle")) {
            var c = u.getBoundingClientRect(), d = i.clientY >= c.top && i.clientY <= c.bottom;
            if (d) {
              var p = u.clientHeight, h = i.clientY > c.top + p / 2 ? "bottom" : "top";
              return { comp: l, position: h };
            }
          }
        }
      } catch (f) {
        r = { error: f };
      } finally {
        try {
          s && !s.done && (n = a.return) && n.call(a);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return null;
    }, t.prototype.onDragLeave = function() {
      this.clearHoveredItems();
    }, t.prototype.onDragStop = function() {
      var e = this;
      if (this.lastHoveredItem) {
        var r = this.chartController.getColStateForMenu(), n = r.dimensionCols, i = r.valueCols, a = Mp(Mp([], Ap(n)), Ap(i)).find(function(l) {
          return l.column === e.lastDraggedColumn;
        });
        if (a) {
          var s = Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);
          this.lastHoveredItem.position === "bottom" && s++, a.order = s, this.chartController.updateForPanelChange(a);
        }
      }
      this.clearHoveredItems(), this.lastDraggedColumn = void 0, this.autoScrollService.ensureCleared();
    }, t.prototype.clearHoveredItems = function() {
      this.columnComps.forEach(function(e) {
        e.getGui().classList.remove("ag-list-item-hovered", "ag-item-highlight-top", "ag-item-highlight-bottom");
      }), this.lastHoveredItem = void 0;
    }, t.prototype.isInterestedIn = function(e) {
      return e === gt.ChartPanel;
    }, t.TEMPLATE = '<div class="ag-chart-data-wrapper ag-scrollable-container"></div>', Dg([
      w("dragAndDropService")
    ], t.prototype, "dragAndDropService", void 0), Dg([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Dg([
      V
    ], t.prototype, "init", null), t;
  }(te)
), HY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ra = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Jc = (
  /** @class */
  function(o) {
    HY(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.activeComps = [], r.params = e, r;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical",
        suppressOpenCloseIcons: !0
      };
      this.setTemplate(t.TEMPLATE, { fontGroup: e }), this.initGroup(), this.initFontFamilySelect(), this.initFontWeightStyleSelect(), this.initFontSizeSelect(), this.initFontColorPicker();
    }, t.prototype.addCompToPanel = function(e) {
      this.fontGroup.addItem(e), this.activeComps.push(e);
    }, t.prototype.setEnabled = function(e) {
      this.fontGroup.setEnabled(e);
    }, t.prototype.initGroup = function() {
      var e = this;
      this.fontGroup.setTitle(this.params.name || this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r) {
        e.params.setEnabled && e.params.setEnabled(r);
      });
    }, t.prototype.initFontFamilySelect = function() {
      var e = this, r = [
        "Arial, sans-serif",
        "Aria Black, sans-serif",
        "Book Antiqua,  serif",
        "Charcoal, sans-serif",
        "Comic Sans MS, cursive",
        "Courier, monospace",
        "Courier New, monospace",
        "Gadget, sans-serif",
        "Geneva, sans-serif",
        "Helvetica, sans-serif",
        "Impact, sans-serif",
        "Lucida Console, monospace",
        "Lucida Grande, sans-serif",
        "Lucida Sans Unicode,  sans-serif",
        "Monaco, monospace",
        "Palatino Linotype, serif",
        "Palatino, serif",
        "Times New Roman, serif",
        "Times, serif",
        "Verdana, sans-serif"
      ], n = this.params.initialFont.family, i = r[0];
      if (n) {
        var a = r.map(function(c) {
          return c.toLowerCase();
        }), s = a.indexOf(n.toLowerCase());
        if (s >= 0)
          i = r[s];
        else {
          var l = T.capitalise(n);
          r.push(l), i = l;
        }
      }
      var u = r.sort().map(function(c) {
        return { value: c, text: c };
      });
      this.familySelect.addOptions(u).setInputWidth("flex").setValue("" + i).onValueChange(function(c) {
        return e.params.setFont({ family: c });
      });
    }, t.prototype.initFontSizeSelect = function() {
      var e = this, r = [8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36], n = this.params.initialFont.size;
      T.includes(r, n) || r.push(n);
      var i = r.sort(function(a, s) {
        return a - s;
      }).map(function(a) {
        return { value: "" + a, text: "" + a };
      });
      this.sizeSelect.addOptions(i).setInputWidth("flex").setValue("" + n).onValueChange(function(a) {
        return e.params.setFont({ size: parseInt(a, 10) });
      }), this.sizeSelect.setLabel(this.chartTranslationService.translate("size"));
    }, t.prototype.initFontWeightStyleSelect = function() {
      var e = this, r = this.params.initialFont, n = r.weight, i = n === void 0 ? "normal" : n, a = r.style, s = a === void 0 ? "normal" : a, l = [
        { name: "normal", weight: "normal", style: "normal" },
        { name: "bold", weight: "bold", style: "normal" },
        { name: "italic", weight: "normal", style: "italic" },
        { name: "boldItalic", weight: "bold", style: "italic" }
      ], u = l.find(function(d) {
        return d.weight === i && d.style === s;
      });
      u || (u = { name: "predefined", weight: i, style: s }, l.unshift(u));
      var c = l.map(function(d) {
        return {
          value: d.name,
          text: e.chartTranslationService.translate(d.name)
        };
      });
      this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(u.name).onValueChange(function(d) {
        var p = l.find(function(h) {
          return h.name === d;
        });
        e.params.setFont({ weight: p.weight, style: p.style });
      });
    }, t.prototype.initFontColorPicker = function() {
      var e = this;
      this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue("" + this.params.initialFont.color).onValueChange(function(r) {
        return e.params.setFont({ color: r });
      });
    }, t.prototype.addItemToPanel = function(e) {
      this.fontGroup.addItem(e), this.activeComps.push(e);
    }, t.prototype.destroyActiveComps = function() {
      var e = this;
      this.activeComps.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActiveComps(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-font-panel">
            <ag-group-component ref="fontGroup">
                <ag-select ref="familySelect"></ag-select>
                <ag-select ref="weightStyleSelect"></ag-select>
                <div class="ag-charts-font-size-color">
                    <ag-select ref="sizeSelect"></ag-select>
                    <ag-color-picker ref="colorPicker"></ag-color-picker>
                </div>
            </ag-group-component>
        </div>`, Ra([
      G("fontGroup")
    ], t.prototype, "fontGroup", void 0), Ra([
      G("familySelect")
    ], t.prototype, "familySelect", void 0), Ra([
      G("weightStyleSelect")
    ], t.prototype, "weightStyleSelect", void 0), Ra([
      G("sizeSelect")
    ], t.prototype, "sizeSelect", void 0), Ra([
      G("colorPicker")
    ], t.prototype, "colorPicker", void 0), Ra([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Ra([
      V
    ], t.prototype, "init", null), t;
  }(te)
), jY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ii = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, WY = (
  /** @class */
  function(o) {
    jY(t, o);
    function t(e) {
      var r = e.chartOptionsService, n = e.isExpandedOnInit, i = n === void 0 ? !1 : n, a = o.call(this) || this;
      return a.activePanels = [], a.chartOptionsService = r, a.isExpandedOnInit = i, a;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-top-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { legendGroup: e }), this.initLegendGroup(), this.initLegendPosition(), this.initLegendPadding(), this.initLegendItems(), this.initLabelPanel();
    }, t.prototype.initLegendGroup = function() {
      var e = this;
      this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled") || !1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r) {
        e.chartOptionsService.setChartOption("legend.enabled", r), e.legendGroup.toggleGroupExpand(!0);
      });
    }, t.prototype.initLegendPosition = function() {
      var e = this, r = ["top", "right", "bottom", "left"];
      this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(r.map(function(n) {
        return {
          value: n,
          text: e.chartTranslationService.translate(n)
        };
      })).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(n) {
        return e.chartOptionsService.setChartOption("legend.position", n);
      });
    }, t.prototype.initLegendPadding = function() {
      var e = this, r = this.chartOptionsService.getChartOption("legend.spacing");
      this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(tr(r, 200)).setValue("" + r).setTextFieldWidth(45).onValueChange(function(n) {
        return e.chartOptionsService.setChartOption("legend.spacing", n);
      });
    }, t.prototype.initLegendItems = function() {
      var e = this, r = function(n, i, a, s) {
        var l = e.chartOptionsService.getChartOption("legend." + n);
        a.setLabel(e.chartTranslationService.translate(i)).setMaxValue(tr(l, s)).setValue("" + l).setTextFieldWidth(45).onValueChange(function(u) {
          e.chartOptionsService.setChartOption("legend." + n, u);
        });
      };
      r("item.marker.size", "markerSize", this.markerSizeSlider, 40), r("item.marker.strokeWidth", "markerStroke", this.markerStrokeSlider, 10), r("item.marker.padding", "itemSpacing", this.markerPaddingSlider, 20), r("item.paddingX", "layoutHorizontalSpacing", this.itemPaddingXSlider, 50), r("item.paddingY", "layoutVerticalSpacing", this.itemPaddingYSlider, 50);
    }, t.prototype.initLabelPanel = function() {
      var e = this, r = this.chartOptionsService, n = {
        family: r.getChartOption("legend.item.label.fontFamily"),
        style: r.getChartOption("legend.item.label.fontStyle"),
        weight: r.getChartOption("legend.item.label.fontWeight"),
        size: r.getChartOption("legend.item.label.fontSize"),
        color: r.getChartOption("legend.item.label.color")
      }, i = function(l) {
        var u = e.chartOptionsService;
        l.family && u.setChartOption("legend.item.label.fontFamily", l.family), l.weight && u.setChartOption("legend.item.label.fontWeight", l.weight), l.style && u.setChartOption("legend.item.label.fontStyle", l.style), l.size && u.setChartOption("legend.item.label.fontSize", l.size), l.color && u.setChartOption("legend.item.label.color", l.color);
      }, a = {
        enabled: !0,
        suppressEnabledCheckbox: !0,
        initialFont: n,
        setFont: i
      }, s = this.createBean(new Jc(a));
      this.legendGroup.addItem(s), this.activePanels.push(s);
    }, t.prototype.destroyActivePanels = function() {
      var e = this;
      this.activePanels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActivePanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-slider ref="legendPaddingSlider"></ag-slider>
                <ag-slider ref="markerSizeSlider"></ag-slider>
                <ag-slider ref="markerStrokeSlider"></ag-slider>
                <ag-slider ref="markerPaddingSlider"></ag-slider>
                <ag-slider ref="itemPaddingXSlider"></ag-slider>
                <ag-slider ref="itemPaddingYSlider"></ag-slider>
            </ag-group-component>
        </div>`, ii([
      G("legendGroup")
    ], t.prototype, "legendGroup", void 0), ii([
      G("legendPositionSelect")
    ], t.prototype, "legendPositionSelect", void 0), ii([
      G("legendPaddingSlider")
    ], t.prototype, "legendPaddingSlider", void 0), ii([
      G("markerSizeSlider")
    ], t.prototype, "markerSizeSlider", void 0), ii([
      G("markerStrokeSlider")
    ], t.prototype, "markerStrokeSlider", void 0), ii([
      G("markerPaddingSlider")
    ], t.prototype, "markerPaddingSlider", void 0), ii([
      G("itemPaddingXSlider")
    ], t.prototype, "itemPaddingXSlider", void 0), ii([
      G("itemPaddingYSlider")
    ], t.prototype, "itemPaddingYSlider", void 0), ii([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), ii([
      V
    ], t.prototype, "init", null), t;
  }(te)
), $Y = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), il = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, UY = (
  /** @class */
  function(o) {
    $Y(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.chartOptionsService = e, r;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical",
        suppressOpenCloseIcons: !0
      };
      this.setTemplate(t.TEMPLATE, { axisTicksGroup: e }), this.initAxisTicks();
    }, t.prototype.initAxisTicks = function() {
      var e = this;
      this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0), this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(n) {
        return e.chartOptionsService.setAxisProperty("tick.color", n);
      });
      var r = function(n, i, a, s) {
        var l = e.chartOptionsService.getAxisProperty(n);
        i.setLabel(a).setMaxValue(tr(l, s)).setValue("" + l).setTextFieldWidth(45).onValueChange(function(u) {
          return e.chartOptionsService.setAxisProperty(n, u);
        });
      };
      r("tick.width", this.axisTicksWidthSlider, this.chartTranslationService.translate("width"), 10), r("tick.size", this.axisTicksSizeSlider, this.chartTranslationService.translate("length"), 30);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="axisTicksGroup">
                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`, il([
      G("axisTicksGroup")
    ], t.prototype, "axisTicksGroup", void 0), il([
      G("axisTicksColorPicker")
    ], t.prototype, "axisTicksColorPicker", void 0), il([
      G("axisTicksWidthSlider")
    ], t.prototype, "axisTicksWidthSlider", void 0), il([
      G("axisTicksSizeSlider")
    ], t.prototype, "axisTicksSizeSlider", void 0), il([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), il([
      V
    ], t.prototype, "init", null), t;
  }(te)
), zY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ic = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ux = (
  /** @class */
  function(o) {
    zY(t, o);
    function t(e) {
      var r = o.call(this, e, t.TEMPLATE) || this;
      return r.radius = 0, r.offsetX = 0, r.offsetY = 0, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      o.prototype.postConstruct.call(this), this.dragListener = {
        eElement: this.eParentCircle,
        dragStartPixels: 0,
        onDragStart: function(r) {
          e.parentCircleRect = e.eParentCircle.getBoundingClientRect();
        },
        onDragging: function(r) {
          return e.calculateAngleDrag(r);
        },
        onDragStop: function() {
        }
      }, this.dragService.addDragSource(this.dragListener), this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("" + this.degrees).onValueChange(function(r) {
        (r == null || r === "") && (r = "0"), r = e.eAngleValue.normalizeValue(r);
        var n = parseFloat(r);
        n > 180 && (n = n - 360), e.setValue(n);
      }), this.updateNumberInput(), T.exists(this.getValue()) && this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()), this.addManagedListener(this, bi.EVENT_CHANGED, function() {
        var r = e.gridOptionsService.getDocument();
        e.eAngleValue.getInputElement().contains(r.activeElement) || e.updateNumberInput();
      });
    }, t.prototype.updateNumberInput = function() {
      var e = this.normalizeNegativeValue(this.getValue());
      this.eAngleValue.setValue(e.toString());
    }, t.prototype.positionChildCircle = function(e) {
      var r = this.parentCircleRect || { width: 24, height: 24 }, n = this.eChildCircle, i = r.width / 2, a = r.height / 2;
      n.style.left = i + Math.cos(e) * 8 + "px", n.style.top = a + Math.sin(e) * 8 + "px";
    }, t.prototype.calculatePolar = function() {
      var e = this.offsetX, r = this.offsetY, n = Math.atan2(r, e);
      this.degrees = this.toDegrees(n), this.radius = Math.sqrt(e * e + r * r), this.positionChildCircle(n);
    }, t.prototype.calculateCartesian = function() {
      var e = this.toRadians(this.getValue()), r = this.getRadius();
      this.setOffsetX(Math.cos(e) * r).setOffsetY(Math.sin(e) * r);
    }, t.prototype.setOffsetX = function(e) {
      return this.offsetX !== e && (this.offsetX = e, this.calculatePolar()), this;
    }, t.prototype.setOffsetY = function(e) {
      return this.offsetY !== e && (this.offsetY = e, this.calculatePolar()), this;
    }, t.prototype.calculateAngleDrag = function(e) {
      var r = this.parentCircleRect, n = r.width / 2, i = r.height / 2, a = e.clientX - r.left, s = e.clientY - r.top, l = a - n, u = s - i, c = Math.atan2(u, l);
      this.setValue(c, !0);
    }, t.prototype.toDegrees = function(e) {
      return e / Math.PI * 180;
    }, t.prototype.toRadians = function(e) {
      return e / 180 * Math.PI;
    }, t.prototype.normalizeNegativeValue = function(e) {
      return e < 0 ? 360 + e : e;
    }, t.prototype.normalizeAngle180 = function(e) {
      return e %= Math.PI * 2, e < -Math.PI ? e += Math.PI * 2 : e >= Math.PI && (e -= Math.PI * 2), e;
    }, t.prototype.getRadius = function() {
      return this.radius;
    }, t.prototype.setRadius = function(e) {
      return this.radius === e ? this : (this.radius = e, this.calculateCartesian(), this);
    }, t.prototype.onValueChange = function(e) {
      var r = this;
      return this.addManagedListener(this, bi.EVENT_CHANGED, function() {
        e(r.degrees);
      }), this;
    }, t.prototype.getValue = function(e) {
      return e ? this.toRadians(this.degrees) : this.degrees;
    }, t.prototype.setValue = function(e, r) {
      var n;
      return r ? n = e : n = this.normalizeAngle180(this.toRadians(e)), e = this.toDegrees(n), this.degrees !== e && (this.degrees = Math.floor(e), this.calculateCartesian(), this.positionChildCircle(n), this.dispatchEvent({ type: bi.EVENT_CHANGED })), this;
    }, t.prototype.setWidth = function(e) {
      return T.setFixedWidth(this.getGui(), e), this;
    }, t.prototype.setDisabled = function(e) {
      return o.prototype.setDisabled.call(this, e), this.eAngleValue.setDisabled(e), this;
    }, t.prototype.destroy = function() {
      this.dragService.removeDragSource(this.dragListener), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`, ic([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), ic([
      G("eParentCircle")
    ], t.prototype, "eParentCircle", void 0), ic([
      G("eChildCircle")
    ], t.prototype, "eChildCircle", void 0), ic([
      G("eAngleValue")
    ], t.prototype, "eAngleValue", void 0), ic([
      w("dragService")
    ], t.prototype, "dragService", void 0), t;
  }(Lm)
), KY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), oc = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YY = (
  /** @class */
  function(o) {
    KY(t, o);
    function t(e) {
      var r = e.chartController, n = e.chartOptionsService, i = e.isExpandedOnInit, a = i === void 0 ? !1 : i, s = o.call(this) || this;
      return s.activePanels = [], s.axisLabelUpdateFuncs = [], s.prevXRotation = 0, s.prevYRotation = 0, s.chartController = r, s.chartOptionsService = n, s.isExpandedOnInit = a, s;
    }
    return t.prototype.init = function() {
      var e = this, r = {
        cssIdentifier: "charts-format-top-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { axisGroup: r }), this.initAxis(), this.initAxisTicks(), this.initAxisLabels();
      var n = function() {
        return e.axisLabelUpdateFuncs.forEach(function(i) {
          return i();
        });
      };
      this.addManagedListener(this.chartController, Kn.EVENT_CHART_UPDATED, n);
    }, t.prototype.initAxis = function() {
      var e = this;
      this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0), this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(n) {
        return e.chartOptionsService.setAxisProperty("line.color", n);
      });
      var r = this.chartOptionsService.getAxisProperty("line.width");
      this.axisLineWidthSlider.setMaxValue(tr(r, 10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("" + r).onValueChange(function(n) {
        return e.chartOptionsService.setAxisProperty("line.width", n);
      });
    }, t.prototype.initAxisTicks = function() {
      var e = this.createBean(new UY(this.chartOptionsService));
      this.axisGroup.addItem(e), this.activePanels.push(e);
    }, t.prototype.initAxisLabels = function() {
      var e = this, r = {
        family: this.chartOptionsService.getAxisProperty("label.fontFamily"),
        style: this.chartOptionsService.getAxisProperty("label.fontStyle"),
        weight: this.chartOptionsService.getAxisProperty("label.fontWeight"),
        size: this.chartOptionsService.getAxisProperty("label.fontSize"),
        color: this.chartOptionsService.getAxisProperty("label.color")
      }, n = function(s) {
        s.family && e.chartOptionsService.setAxisProperty("label.fontFamily", s.family), s.weight && e.chartOptionsService.setAxisProperty("label.fontWeight", s.weight), s.style && e.chartOptionsService.setAxisProperty("label.fontStyle", s.style), s.size && e.chartOptionsService.setAxisProperty("label.fontSize", s.size), s.color && e.chartOptionsService.setAxisProperty("label.color", s.color);
      }, i = {
        name: this.translate("labels"),
        enabled: !0,
        suppressEnabledCheckbox: !0,
        initialFont: r,
        setFont: n
      }, a = this.createBean(new Jc(i));
      this.axisGroup.addItem(a), this.activePanels.push(a), this.addAdditionalLabelComps(a);
    }, t.prototype.addAdditionalLabelComps = function(e) {
      this.addLabelPadding(e);
      var r = this.createRotationWidgets(), n = r.xRotationComp, i = r.yRotationComp, a = this.initLabelRotations(n, i);
      e.addCompToPanel(a), e.addCompToPanel(n), e.addCompToPanel(i);
    }, t.prototype.initLabelRotations = function(e, r) {
      var n = this, i = function(d) {
        return n.chartOptionsService.getLabelRotation(d);
      }, a = function(d, p) {
        n.chartOptionsService.setLabelRotation(d, p);
      }, s = function(d) {
        n.chartOptionsService.setAxisProperty("label.autoRotate", d), d ? (n.prevXRotation = i("xAxis"), n.prevYRotation = i("yAxis"), a("xAxis", void 0), a("yAxis", void 0)) : (a("xAxis", n.prevXRotation), a("yAxis", n.prevYRotation)), e.setDisabled(d), r.setDisabled(d);
      }, l = function() {
        var d = i("xAxis"), p = i("yAxis");
        return d == null && p == null ? n.chartOptionsService.getAxisProperty("label.autoRotate") : !1;
      }, u = l(), c = this.createBean(new On()).setLabel(this.translate("autoRotate")).setValue(u).onValueChange(s);
      return e.setDisabled(u), r.setDisabled(u), c;
    }, t.prototype.createRotationWidgets = function() {
      var e = this, r = String.fromCharCode(176), n = function(i, a) {
        var s = e.chartTranslationService.translate(i) + " " + r, l = e.chartOptionsService.getLabelRotation(a), u = new Ux().setLabel(s).setLabelWidth("flex").setValue(l || 0).onValueChange(function(c) {
          return e.chartOptionsService.setLabelRotation(a, c);
        });
        return e.axisLabelUpdateFuncs.push(function() {
          var c = e.chartOptionsService.getLabelRotation(a);
          u.setValue(c || 0);
        }), e.createBean(u);
      };
      return {
        xRotationComp: n("xRotation", "xAxis"),
        yRotationComp: n("yRotation", "yAxis")
      };
    }, t.prototype.addLabelPadding = function(e) {
      var r = this, n = this.createBean(new ci()), i = this.chartOptionsService.getAxisProperty("label.padding");
      n.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(tr(i, 30)).setValue("" + i).setTextFieldWidth(45).onValueChange(function(a) {
        return r.chartOptionsService.setAxisProperty("label.padding", a);
      }), e.addCompToPanel(n);
    }, t.prototype.translate = function(e, r) {
      return this.chartTranslationService.translate(e, r);
    }, t.prototype.destroyActivePanels = function() {
      var e = this;
      this.activePanels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActivePanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`, oc([
      G("axisGroup")
    ], t.prototype, "axisGroup", void 0), oc([
      G("axisColorInput")
    ], t.prototype, "axisColorInput", void 0), oc([
      G("axisLineWidthSlider")
    ], t.prototype, "axisLineWidthSlider", void 0), oc([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), oc([
      V
    ], t.prototype, "init", null), t;
  }(te)
), XY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ip = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, qY = (
  /** @class */
  function(o) {
    XY(t, o);
    function t(e) {
      var r = e.chartOptionsService, n = e.isExpandedOnInit, i = n === void 0 ? !1 : n, a = o.call(this) || this;
      return a.chartOptionsService = r, a.isExpandedOnInit = i, a;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-top-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { navigatorGroup: e }), this.initNavigator();
    }, t.prototype.initNavigator = function() {
      var e = this, r = this.chartTranslationService;
      this.navigatorGroup.setTitle(r.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled") || !1).onEnableChange(function(i) {
        e.chartOptionsService.setChartOption("navigator.enabled", i), e.navigatorGroup.toggleGroupExpand(!0);
      }).toggleGroupExpand(this.isExpandedOnInit);
      var n = this.chartOptionsService.getChartOption("navigator.height");
      this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(tr(n, 60)).setTextFieldWidth(45).setValue("" + (n || 30)).onValueChange(function(i) {
        return e.chartOptionsService.setChartOption("navigator.height", i);
      });
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="navigatorGroup">
                <ag-slider ref="navigatorHeightSlider"></ag-slider>
            </ag-group-component>
        </div>`, Ip([
      G("navigatorGroup")
    ], t.prototype, "navigatorGroup", void 0), Ip([
      G("navigatorHeightSlider")
    ], t.prototype, "navigatorHeightSlider", void 0), Ip([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Ip([
      V
    ], t.prototype, "init", null), t;
  }(te)
), ZY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Da = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, QY = (
  /** @class */
  function(o) {
    ZY(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.chartOptionsService = e, n.chartController = r, n;
    }
    return t.prototype.init = function() {
      var e = this, r = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical",
        suppressOpenCloseIcons: !0
      };
      this.setTemplate(t.TEMPLATE, { chartPaddingGroup: r }), this.addManagedListener(this.eventService, R.EVENT_CHART_OPTIONS_CHANGED, function(n) {
        e.updateTopPadding(n.chartOptions);
      }), this.initGroup(), this.initChartPaddingItems();
    }, t.prototype.initGroup = function() {
      this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);
    }, t.prototype.initChartPaddingItems = function() {
      var e = this, r = function(n, i) {
        var a = e.chartOptionsService.getChartOption("padding." + n);
        i.setLabel(e.chartTranslationService.translate(n)).setMaxValue(tr(a, 200)).setValue("" + a).setTextFieldWidth(45).onValueChange(function(s) {
          return e.chartOptionsService.setChartOption("padding." + n, s);
        });
      };
      r("top", this.paddingTopSlider), r("right", this.paddingRightSlider), r("bottom", this.paddingBottomSlider), r("left", this.paddingLeftSlider);
    }, t.prototype.updateTopPadding = function(e) {
      var r, n, i = this.chartController.getChartSeriesTypes()[0], a = (n = (r = e[i]) === null || r === void 0 ? void 0 : r.padding) === null || n === void 0 ? void 0 : n.top;
      a != null && this.paddingTopSlider.setValue(a);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="chartPaddingGroup">
                <ag-slider ref="paddingTopSlider"></ag-slider>
                <ag-slider ref="paddingRightSlider"></ag-slider>
                <ag-slider ref="paddingBottomSlider"></ag-slider>
                <ag-slider ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`, Da([
      G("chartPaddingGroup")
    ], t.prototype, "chartPaddingGroup", void 0), Da([
      G("paddingTopSlider")
    ], t.prototype, "paddingTopSlider", void 0), Da([
      G("paddingRightSlider")
    ], t.prototype, "paddingRightSlider", void 0), Da([
      G("paddingBottomSlider")
    ], t.prototype, "paddingBottomSlider", void 0), Da([
      G("paddingLeftSlider")
    ], t.prototype, "paddingLeftSlider", void 0), Da([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Da([
      V
    ], t.prototype, "init", null), t;
  }(te)
), JY = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, e6 = (
  /** @class */
  function(o) {
    JY(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.chartOptionsService = e, r;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical",
        suppressOpenCloseIcons: !0
      };
      this.setTemplate(t.TEMPLATE, { chartBackgroundGroup: e }), this.initGroup(), this.initColorPicker();
    }, t.prototype.initGroup = function() {
      var e = this;
      this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r) {
        return e.chartOptionsService.setChartOption("background.visible", r);
      });
    }, t.prototype.initColorPicker = function() {
      var e = this;
      this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r) {
        return e.chartOptionsService.setChartOption("background.fill", r);
      });
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="chartBackgroundGroup">
                <ag-color-picker ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`, Fp([
      G("chartBackgroundGroup")
    ], t.prototype, "group", void 0), Fp([
      G("colorPicker")
    ], t.prototype, "colorPicker", void 0), Fp([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Fp([
      V
    ], t.prototype, "init", null), t;
  }(te)
), t6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), z_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, r6 = (
  /** @class */
  function(o) {
    t6(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE) || this;
      return r.chartOptionsService = e, r.activePanels = [], r;
    }
    return t.prototype.init = function() {
      this.initFontPanel(), this.titlePlaceholder = this.chartTranslationService.translate("titlePlaceholder");
    }, t.prototype.hasTitle = function() {
      var e = this.getOption("title");
      return e && e.enabled && e.text && e.text.length > 0;
    }, t.prototype.initFontPanel = function() {
      var e = this, r = this.hasTitle(), n = function(l, u) {
        l.family && e.setOption("title.fontFamily", l.family, u), l.weight && e.setOption("title.fontWeight", l.weight, u), l.style && e.setOption("title.fontStyle", l.style, u), l.size && e.setOption("title.fontSize", l.size, u), l.color && e.setOption("title.color", l.color, u);
      }, i = {
        family: this.getOption("title.fontFamily"),
        style: this.getOption("title.fontStyle"),
        weight: this.getOption("title.fontWeight"),
        size: this.getOption("title.fontSize"),
        color: this.getOption("title.color")
      };
      r || n(i, !0);
      var a = {
        name: this.chartTranslationService.translate("title"),
        enabled: r,
        suppressEnabledCheckbox: !1,
        initialFont: i,
        setFont: n,
        setEnabled: function(l) {
          if (e.toolbarExists()) {
            var u = e.getOption("padding.top");
            e.setOption("padding.top", l ? u - 20 : u + 20);
          }
          e.setOption("title.enabled", l);
          var c = e.getOption("title.text"), d = c === "Title" || (c == null ? void 0 : c.trim().length) === 0;
          l && d && e.setOption("title.text", e.titlePlaceholder);
        }
      }, s = this.createBean(new Jc(a));
      s.addItemToPanel(this.createSpacingSlicer()), this.getGui().appendChild(s.getGui()), this.activePanels.push(s), this.addManagedListener(this.eventService, "chartTitleEdit", function() {
        s.setEnabled(e.hasTitle());
      });
    }, t.prototype.createSpacingSlicer = function() {
      var e = this, r = this.createBean(new ci()), n = this.chartOptionsService.getChartOption("title.spacing");
      return r.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(n, 100)).setValue("" + n).setTextFieldWidth(45).onValueChange(function(i) {
        return e.chartOptionsService.setChartOption("title.spacing", i);
      }), r;
    }, t.prototype.toolbarExists = function() {
      var e = this.gridOptionsService.getCallback("getChartToolbarItems");
      if (!e)
        return !0;
      var r = {
        defaultItems: ["chartUnlink", "chartDownload"]
      }, n = ["chartLink", "chartUnlink", "chartDownload"];
      return n.some(function(i) {
        var a;
        return (a = e && e(r)) === null || a === void 0 ? void 0 : a.includes(i);
      });
    }, t.prototype.getOption = function(e) {
      return this.chartOptionsService.getChartOption(e);
    }, t.prototype.setOption = function(e, r, n) {
      this.chartOptionsService.setChartOption(e, r, n);
    }, t.prototype.destroyActivePanels = function() {
      var e = this;
      this.activePanels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActivePanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = "<div></div>", z_([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), z_([
      V
    ], t.prototype, "init", null), t;
  }(te)
), n6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Pg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, i6 = (
  /** @class */
  function(o) {
    n6(t, o);
    function t(e) {
      var r = e.chartController, n = e.chartOptionsService, i = e.isExpandedOnInit, a = i === void 0 ? !1 : i, s = o.call(this) || this;
      return s.activePanels = [], s.chartController = r, s.chartOptionsService = n, s.isExpandedOnInit = a, s;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-top-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { chartGroup: e }), this.initGroup(), this.initTitles(), this.initPaddingPanel(), this.initBackgroundPanel();
    }, t.prototype.initGroup = function() {
      this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0);
    }, t.prototype.initTitles = function() {
      var e = this.createBean(new r6(this.chartOptionsService));
      this.chartGroup.addItem(e), this.activePanels.push(e);
    }, t.prototype.initPaddingPanel = function() {
      var e = this.createBean(new QY(this.chartOptionsService, this.chartController));
      this.chartGroup.addItem(e), this.activePanels.push(e);
    }, t.prototype.initBackgroundPanel = function() {
      var e = this.createBean(new e6(this.chartOptionsService));
      this.chartGroup.addItem(e), this.activePanels.push(e);
    }, t.prototype.destroyActivePanels = function() {
      var e = this;
      this.activePanels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActivePanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="chartGroup"></ag-group-component>
        </div>`, Pg([
      G("chartGroup")
    ], t.prototype, "chartGroup", void 0), Pg([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Pg([
      V
    ], t.prototype, "init", null), t;
  }(te)
), o6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Pa = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, a6 = (
  /** @class */
  function(o) {
    o6(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.chartOptionsService = e, n.getSelectedSeries = r, n;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical",
        suppressOpenCloseIcons: !0
      };
      this.setTemplate(t.TEMPLATE, { shadowGroup: e }), this.shadowBlurSlider.setTextFieldWidth(45), this.shadowXOffsetSlider.setTextFieldWidth(45), this.shadowYOffsetSlider.setTextFieldWidth(45), this.initSeriesShadow();
    }, t.prototype.initSeriesShadow = function() {
      var e = this;
      this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled", this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(n) {
        return e.chartOptionsService.setSeriesOption("shadow.enabled", n, e.getSelectedSeries());
      }), this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color", this.getSelectedSeries())).onValueChange(function(n) {
        return e.chartOptionsService.setSeriesOption("shadow.color", n, e.getSelectedSeries());
      });
      var r = function(n, i, a, s) {
        var l = e.chartOptionsService.getSeriesOption("shadow." + i, e.getSelectedSeries());
        n.setLabel(e.chartTranslationService.translate(i)).setMinValue(a).setMaxValue(tr(l, s)).setValue("" + l).onValueChange(function(u) {
          return e.chartOptionsService.setSeriesOption("shadow." + i, u, e.getSelectedSeries());
        });
      };
      r(this.shadowBlurSlider, "blur", 0, 20), r(this.shadowXOffsetSlider, "xOffset", -10, 10), r(this.shadowYOffsetSlider, "yOffset", -10, 10);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="shadowGroup">
                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>
                <ag-slider ref="shadowBlurSlider"></ag-slider>
                <ag-slider ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`, Pa([
      G("shadowGroup")
    ], t.prototype, "shadowGroup", void 0), Pa([
      G("shadowColorPicker")
    ], t.prototype, "shadowColorPicker", void 0), Pa([
      G("shadowBlurSlider")
    ], t.prototype, "shadowBlurSlider", void 0), Pa([
      G("shadowXOffsetSlider")
    ], t.prototype, "shadowXOffsetSlider", void 0), Pa([
      G("shadowYOffsetSlider")
    ], t.prototype, "shadowYOffsetSlider", void 0), Pa([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Pa([
      V
    ], t.prototype, "init", null), t;
  }(te)
);
function K_(o) {
  var t = o.labelName, e = o.chartOptionsService, r = o.getSelectedSeries, n = o.seriesOptionLabelProperty, i = function(d) {
    return n + "." + d;
  }, a = function(d) {
    var p = i(d);
    return e.getSeriesOption(p, r());
  }, s = function(d, p) {
    var h = i(d);
    e.setSeriesOption(h, p, r());
  }, l = {
    family: a("fontFamily"),
    style: a("fontStyle"),
    weight: a("fontWeight"),
    size: a("fontSize"),
    color: a("color")
  }, u = function(d) {
    d.family && s("fontFamily", d.family), d.weight && s("fontWeight", d.weight), d.style && s("fontStyle", d.style), d.size && s("fontSize", d.size), d.color && s("color", d.color);
  }, c = {
    name: t,
    enabled: a("enabled") || !1,
    setEnabled: function(d) {
      return s("enabled", d);
    },
    suppressEnabledCheckbox: !1,
    initialFont: l,
    setFont: u
  };
  return c;
}
var s6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Aa = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, l6 = (
  /** @class */
  function(o) {
    s6(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.chartOptionsService = e, n.getSelectedSeries = r, n;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { seriesMarkersGroup: e }), this.initMarkers();
    }, t.prototype.initMarkers = function() {
      var e = this, r = [
        {
          value: "square",
          text: "Square"
        },
        {
          value: "circle",
          text: "Circle"
        },
        {
          value: "cross",
          text: "Cross"
        },
        {
          value: "diamond",
          text: "Diamond"
        },
        {
          value: "plus",
          text: "Plus"
        },
        {
          value: "triangle",
          text: "Triangle"
        },
        {
          value: "heart",
          text: "Heart"
        }
      ];
      this.seriesMarkerShapeSelect.addOptions(r).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s) {
        return e.setSeriesOption("marker.shape", s);
      });
      var n = this.chartOptionsService.getChartType(), i = T.includes(["scatter", "bubble"], n);
      this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(i).setEnabled(this.getSeriesOption("marker.enabled") || !1).hideOpenCloseIcons(!0).onEnableChange(function(s) {
        return e.setSeriesOption("marker.enabled", s);
      });
      var a = function(s, l, u, c) {
        var d = e.getSeriesOption(s);
        l.setLabel(e.chartTranslationService.translate(u)).setMaxValue(tr(d, c)).setValue("" + d).setTextFieldWidth(45).onValueChange(function(p) {
          return e.setSeriesOption(s, p);
        });
      };
      n === "bubble" ? (a("marker.maxSize", this.seriesMarkerMinSizeSlider, "maxSize", 60), a("marker.size", this.seriesMarkerSizeSlider, "minSize", 60)) : (this.seriesMarkerMinSizeSlider.setDisplayed(!1), a("marker.size", this.seriesMarkerSizeSlider, "size", 60)), a("marker.strokeWidth", this.seriesMarkerStrokeWidthSlider, "strokeWidth", 10);
    }, t.prototype.getSeriesOption = function(e) {
      return this.chartOptionsService.getSeriesOption(e, this.getSelectedSeries());
    }, t.prototype.setSeriesOption = function(e, r) {
      this.chartOptionsService.setSeriesOption(e, r, this.getSelectedSeries());
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="seriesMarkersGroup">
                <ag-select ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`, Aa([
      G("seriesMarkersGroup")
    ], t.prototype, "seriesMarkersGroup", void 0), Aa([
      G("seriesMarkerShapeSelect")
    ], t.prototype, "seriesMarkerShapeSelect", void 0), Aa([
      G("seriesMarkerSizeSlider")
    ], t.prototype, "seriesMarkerSizeSlider", void 0), Aa([
      G("seriesMarkerMinSizeSlider")
    ], t.prototype, "seriesMarkerMinSizeSlider", void 0), Aa([
      G("seriesMarkerStrokeWidthSlider")
    ], t.prototype, "seriesMarkerStrokeWidthSlider", void 0), Aa([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Aa([
      V
    ], t.prototype, "init", null), t;
  }(te)
), u6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ol = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, c6 = (
  /** @class */
  function(o) {
    u6(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      return n.chartOptionsService = e, n.getSelectedSeries = r, n;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-sub-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { calloutGroup: e }), this.initCalloutOptions();
    }, t.prototype.initCalloutOptions = function() {
      var e = this;
      this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);
      var r = function(n, i, a, s) {
        var l = e.chartOptionsService.getSeriesOption(n, e.getSelectedSeries());
        i.setLabel(e.chartTranslationService.translate(a)).setMaxValue(tr(l, s)).setValue("" + l).setTextFieldWidth(45).onValueChange(function(u) {
          return e.chartOptionsService.setSeriesOption(n, u, e.getSelectedSeries());
        });
      };
      r("calloutLine.length", this.calloutLengthSlider, "length", 40), r("calloutLine.strokeWidth", this.calloutStrokeWidthSlider, "strokeWidth", 10), r("calloutLabel.offset", this.labelOffsetSlider, "offset", 30);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="calloutGroup">
                <ag-slider ref="calloutLengthSlider"></ag-slider>
                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`, ol([
      G("calloutGroup")
    ], t.prototype, "calloutGroup", void 0), ol([
      G("calloutLengthSlider")
    ], t.prototype, "calloutLengthSlider", void 0), ol([
      G("calloutStrokeWidthSlider")
    ], t.prototype, "calloutStrokeWidthSlider", void 0), ol([
      G("labelOffsetSlider")
    ], t.prototype, "labelOffsetSlider", void 0), ol([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), ol([
      V
    ], t.prototype, "init", null), t;
  }(te)
), d6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ag = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, p6 = (
  /** @class */
  function(o) {
    d6(t, o);
    function t(e) {
      var r = e.chartController, n = e.chartOptionsService, i = e.seriesType, a = e.isExpandedOnInit, s = a === void 0 ? !1 : a, l = o.call(this) || this;
      return l.activePanels = [], l.widgetFuncs = {
        lineWidth: function() {
          return l.initLineWidth();
        },
        strokeWidth: function() {
          return l.initStrokeWidth();
        },
        lineDash: function() {
          return l.initLineDash();
        },
        lineOpacity: function() {
          return l.initLineOpacity();
        },
        fillOpacity: function() {
          return l.initFillOpacity();
        },
        markers: function() {
          return l.initMarkers();
        },
        labels: function() {
          return l.initLabels();
        },
        shadow: function() {
          return l.initShadow();
        },
        tooltips: function() {
          return l.initTooltips();
        },
        bins: function() {
          return l.initBins();
        }
      }, l.seriesWidgetMappings = {
        area: ["tooltips", "lineWidth", "lineDash", "lineOpacity", "fillOpacity", "markers", "labels", "shadow"],
        bar: ["tooltips", "strokeWidth", "lineDash", "lineOpacity", "fillOpacity", "labels", "shadow"],
        column: ["tooltips", "strokeWidth", "lineDash", "lineOpacity", "fillOpacity", "labels", "shadow"],
        line: ["tooltips", "lineWidth", "lineDash", "lineOpacity", "markers", "labels"],
        histogram: ["tooltips", "bins", "strokeWidth", "lineDash", "lineOpacity", "fillOpacity", "labels", "shadow"],
        scatter: ["tooltips", "markers", "labels"],
        pie: ["tooltips", "strokeWidth", "lineOpacity", "fillOpacity", "labels", "shadow"]
      }, l.chartController = r, l.chartOptionsService = n, l.seriesType = i || l.getChartSeriesType(), l.isExpandedOnInit = s, l;
    }
    return t.prototype.init = function() {
      var e = {
        cssIdentifier: "charts-format-top-level",
        direction: "vertical"
      };
      this.setTemplate(t.TEMPLATE, { seriesGroup: e }), this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0), this.addManagedListener(this.chartController, Kn.EVENT_CHART_SERIES_CHART_TYPE_CHANGED, this.refreshWidgets.bind(this)), this.refreshWidgets();
    }, t.prototype.refreshWidgets = function() {
      var e = this;
      this.destroyActivePanels();
      var r = this.chartController.getChartProxy().getChart();
      r.waitForUpdate().then(function() {
        e.chartController.isComboChart() && (e.updateSeriesType(), e.initSeriesSelect()), e.seriesWidgetMappings[e.seriesType].forEach(function(n) {
          return e.widgetFuncs[n]();
        });
      }).catch(function(n) {
        return console.error("AG Grid - chart rendering failed", n);
      });
    }, t.prototype.initSeriesSelect = function() {
      var e = this, r = this.seriesGroup.createManagedBean(new nu());
      r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue("" + this.seriesType).onValueChange(function(n) {
        e.seriesType = n, e.refreshWidgets();
      }), this.seriesGroup.addItem(r), this.activePanels.push(r);
    }, t.prototype.initTooltips = function() {
      var e = this, r = this.createBean(new zm());
      r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled") || !1).onValueChange(function(n) {
        return e.setSeriesOption("tooltip.enabled", n);
      }), this.addWidget(r);
    }, t.prototype.initStrokeWidth = function() {
      var e = this, r = this.getSeriesOption("strokeWidth"), n = this.createBean(new ci());
      n.setLabel(this.translate("strokeWidth")).setMaxValue(tr(r, 10)).setTextFieldWidth(45).setValue("" + r).onValueChange(function(i) {
        return e.setSeriesOption("strokeWidth", i);
      }), this.addWidget(n);
    }, t.prototype.initLineWidth = function() {
      var e = this, r = this.getSeriesOption("strokeWidth"), n = this.createBean(new ci());
      n.setLabel(this.translate("lineWidth")).setMaxValue(tr(r, 10)).setTextFieldWidth(45).setValue("" + r).onValueChange(function(i) {
        return e.setSeriesOption("strokeWidth", i);
      }), this.addWidget(n);
    }, t.prototype.initLineDash = function() {
      var e = this, r = this.getSeriesOption("lineDash"), n = r ? r[0] : 0, i = this.createBean(new ci());
      i.setLabel(this.translate("lineDash")).setMaxValue(tr(n, 30)).setTextFieldWidth(45).setValue("" + n).onValueChange(function(a) {
        return e.setSeriesOption("lineDash", [a]);
      }), this.addWidget(i);
    }, t.prototype.initLineOpacity = function() {
      var e = this, r = this.getSeriesOption("strokeOpacity"), n = this.createBean(new ci());
      n.setLabel(this.translate("strokeOpacity")).setStep(0.05).setMaxValue(tr(r, 1)).setTextFieldWidth(45).setValue("" + r).onValueChange(function(i) {
        return e.setSeriesOption("strokeOpacity", i);
      }), this.addWidget(n);
    }, t.prototype.initFillOpacity = function() {
      var e = this, r = this.getSeriesOption("fillOpacity"), n = this.createBean(new ci());
      n.setLabel(this.translate("fillOpacity")).setStep(0.05).setMaxValue(tr(r, 1)).setTextFieldWidth(45).setValue("" + r).onValueChange(function(i) {
        return e.setSeriesOption("fillOpacity", i);
      }), this.addWidget(n);
    }, t.prototype.initLabels = function() {
      var e = this, r = this.seriesType === "pie" ? "calloutLabel" : "label", n = this.seriesType === "pie" ? this.chartTranslationService.translate("calloutLabels") : this.chartTranslationService.translate("labels"), i = K_({
        labelName: n,
        chartOptionsService: this.chartOptionsService,
        getSelectedSeries: function() {
          return e.seriesType;
        },
        seriesOptionLabelProperty: r
      }), a = this.createBean(new Jc(i));
      if (this.seriesType === "pie") {
        var s = this.createBean(new c6(this.chartOptionsService, function() {
          return e.seriesType;
        }));
        a.addCompToPanel(s), this.activePanels.push(s);
      }
      if (this.addWidget(a), this.seriesType === "pie") {
        var l = K_({
          labelName: this.chartTranslationService.translate("sectorLabels"),
          chartOptionsService: this.chartOptionsService,
          getSelectedSeries: function() {
            return e.seriesType;
          },
          seriesOptionLabelProperty: "sectorLabel"
        }), u = this.createBean(new Jc(l)), c = this.getSectorLabelPositionRatio();
        u.addCompToPanel(c), this.addWidget(u);
      }
    }, t.prototype.getSectorLabelPositionRatio = function() {
      var e = this, r = "sectorLabel.positionRatio", n = this.chartOptionsService.getSeriesOption(r, this.seriesType), i = this.createBean(new ci());
      return i.setLabel(this.translate("positionRatio")).setStep(0.05).setMaxValue(tr(n, 1)).setTextFieldWidth(45).setValue("" + n).onValueChange(function(a) {
        return e.chartOptionsService.setSeriesOption(r, a, e.seriesType);
      });
    }, t.prototype.initShadow = function() {
      var e = this, r = this.createBean(new a6(this.chartOptionsService, function() {
        return e.seriesType;
      }));
      this.addWidget(r);
    }, t.prototype.initMarkers = function() {
      var e = this, r = this.createBean(new l6(this.chartOptionsService, function() {
        return e.seriesType;
      }));
      this.addWidget(r);
    }, t.prototype.initBins = function() {
      var e = this, r, n = ((r = this.getSeriesOption("bins")) !== null && r !== void 0 ? r : this.getSeriesOption("calculatedBins")).length, i = this.createBean(new ci());
      i.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(tr(n, 20)).setTextFieldWidth(45).setValue("" + n).onValueChange(function(a) {
        return e.setSeriesOption("binCount", a);
      }), this.addWidget(i);
    }, t.prototype.addWidget = function(e) {
      this.seriesGroup.addItem(e), this.activePanels.push(e);
    }, t.prototype.getSeriesOption = function(e) {
      return this.chartOptionsService.getSeriesOption(e, this.seriesType);
    }, t.prototype.setSeriesOption = function(e, r) {
      this.chartOptionsService.setSeriesOption(e, r, this.seriesType);
    }, t.prototype.getChartSeriesType = function() {
      if (this.chartController.getSeriesChartTypes().length === 0)
        return "column";
      var e = this.chartController.getSeriesChartTypes()[0].chartType;
      return e === "columnLineCombo" ? "column" : e === "areaColumnCombo" ? "area" : bn(e);
    }, t.prototype.getSeriesSelectOptions = function() {
      var e = this;
      this.seriesSelectOptions || (this.seriesSelectOptions = /* @__PURE__ */ new Map([
        ["area", { value: "area", text: this.translate("area", "Area") }],
        ["bar", { value: "bar", text: this.translate("bar", "Bar") }],
        ["column", { value: "column", text: this.translate("column", "Column") }],
        ["line", { value: "line", text: this.translate("line", "Line") }],
        ["scatter", { value: "scatter", text: this.translate("scatter", "Scatter") }],
        ["histogram", { value: "histogram", text: this.translate("histogram", "Histogram") }],
        ["pie", { value: "pie", text: this.translate("pie", "Pie") }]
      ]));
      var r = /* @__PURE__ */ new Set();
      return this.chartController.getActiveSeriesChartTypes().forEach(function(n) {
        var i = bn(n.chartType);
        r.add(e.seriesSelectOptions.get(i));
      }), Array.from(r);
    }, t.prototype.updateSeriesType = function() {
      var e = this.chartController.getActiveSeriesChartTypes().map(function(n) {
        return bn(n.chartType);
      }), r = !e.includes(this.seriesType);
      r && e.length > 0 && (this.seriesType = e[0]);
    }, t.prototype.translate = function(e, r) {
      return this.chartTranslationService.translate(e, r);
    }, t.prototype.destroyActivePanels = function() {
      var e = this;
      this.activePanels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyActivePanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div>
            <ag-group-component ref="seriesGroup">
            </ag-group-component>
        </div>`, Ag([
      G("seriesGroup")
    ], t.prototype, "seriesGroup", void 0), Ag([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Ag([
      V
    ], t.prototype, "init", null), t;
  }(te)
), h6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), f6 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
};
function tr(o, t) {
  return Math.max(o, t);
}
var v6 = {
  groups: [
    { type: "chart" },
    { type: "legend" },
    { type: "series" },
    { type: "axis" },
    { type: "navigator" }
  ]
}, g6 = (
  /** @class */
  function(o) {
    h6(t, o);
    function t(e, r) {
      var n = o.call(this, t.TEMPLATE) || this;
      return n.chartController = e, n.chartOptionsService = r, n.panels = [], n.isGroupPanelShownInSeries = function(i, a) {
        var s = ["chart", "legend", "series"];
        if (s.includes(i))
          return !0;
        var l = ["axis", "navigator"], u = ["bar", "column", "line", "area", "scatter", "histogram", "cartesian"];
        return !!(l.includes(i) && u.includes(a));
      }, n;
    }
    return t.prototype.init = function() {
      var e = this;
      this.createPanels(), this.addManagedListener(this.chartController, Kn.EVENT_CHART_UPDATED, function() {
        return e.createPanels(!0);
      }), this.addManagedListener(this.chartController, Kn.EVENT_CHART_API_UPDATE, function() {
        return e.createPanels(!1);
      });
    }, t.prototype.createPanels = function(e) {
      var r = this, n, i = this.chartController.getChartType(), a = this.chartController.isGrouping(), s = bn(i);
      e && i === this.chartType && a === this.isGrouping || (this.destroyPanels(), (n = this.getFormatPanelDef().groups) === null || n === void 0 || n.forEach(function(l) {
        var u = l.type;
        if (r.isGroupPanelShownInSeries(u, s)) {
          var c = {
            chartController: r.chartController,
            chartOptionsService: r.chartOptionsService,
            isExpandedOnInit: l.isOpen,
            seriesType: s
          };
          u === "chart" ? r.addComponent(new i6(c)) : u === "legend" ? r.addComponent(new WY(c)) : u === "axis" ? r.addComponent(new YY(c)) : u === "series" ? r.addComponent(new p6(c)) : u === "navigator" ? r.addComponent(new qY(c)) : console.warn("AG Grid: invalid charts format panel group name supplied: '" + l.type + "'");
        }
      }), this.chartType = i, this.isGrouping = a);
    }, t.prototype.getFormatPanelDef = function() {
      var e, r = (e = this.gridOptionsService.get("chartToolPanelsDef")) === null || e === void 0 ? void 0 : e.formatPanel;
      return r || v6;
    }, t.prototype.addComponent = function(e) {
      this.createBean(e), this.panels.push(e), e.addCssClass("ag-chart-format-section"), this.getGui().appendChild(e.getGui());
    }, t.prototype.destroyPanels = function() {
      var e = this;
      this.panels.forEach(function(r) {
        T.removeFromParent(r.getGui()), e.destroyBean(r);
      });
    }, t.prototype.destroy = function() {
      this.destroyPanels(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = '<div class="ag-chart-format-wrapper"></div>', f6([
      V
    ], t.prototype, "init", null), t;
  }(te)
), y6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Y_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, EC = (
  /** @class */
  function(o) {
    y6(t, o);
    function t(e, r) {
      var n = o.call(this) || this;
      n.size = 58, n.padding = 5, n.root = new Se();
      var i = new eC({ document: window.document, width: n.size, height: n.size });
      return i.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"), i.root = n.root, i.container = e, n.scene = i, n.tooltipName = r, n;
    }
    return t.prototype.init = function() {
      this.scene.canvas.element.title = this.chartTranslationService.translate(this.tooltipName), this.scene.render().catch(function(e) {
        return console.error("AG Grid - chart update failed", e);
      });
    }, Y_([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Y_([
      V
    ], t.prototype, "init", null), t;
  }(te)
), m6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), C6 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Tn = (
  /** @class */
  function(o) {
    m6(t, o);
    function t(e, r) {
      var n = o.call(this, e, r) || this;
      return n.stroke = "gray", n.axisOvershoot = 3, n;
    }
    return t.prototype.addAxes = function() {
      var e = this.size, r = this.padding, n = new Gt();
      n.x1 = r, n.y1 = r, n.x2 = r, n.y2 = e - r + this.axisOvershoot, n.stroke = this.stroke;
      var i = new Gt();
      i.x1 = r - this.axisOvershoot + 1, i.y1 = e - r, i.x2 = e - r + 1, i.y2 = e - r, i.stroke = this.stroke;
      var a = this.root;
      a.append(n), a.append(i);
    }, C6([
      V
    ], t.prototype, "addAxes", null), t;
  }(EC)
);
function gd(o) {
  var t = o.stacked, e = o.size, r = o.padding, n = o.xScalePadding, i = o.xScaleDomain, a = o.yScaleDomain, s = new Tr();
  s.domain = i, s.range = [r, e - r], s.paddingInner = n, s.paddingOuter = n;
  var l = new Vt();
  l.domain = a, l.range = [e - r, r];
  var u = function(c, d, p) {
    return c.map(function(h, f) {
      var v = p.convert(h), g = new Un();
      return g.x = d.convert(f), g.y = v, g.width = d.bandwidth, g.height = p.convert(0) - v, g.strokeWidth = 1, g.crisp = !0, g;
    });
  };
  return t ? o.data.map(function(c) {
    return u(c, s, l);
  }) : u(o.data, s, l);
}
function OC(o, t, e, r) {
  var n = new Vt();
  n.domain = [0, 4], n.range = [r, e - r];
  var i = new Vt();
  i.domain = [0, 10], i.range = [e - r, r];
  var a = t.map(function(l) {
    var u = new xr();
    return u.strokeWidth = 3, u.lineCap = "round", u.fill = void 0, l.forEach(function(c, d) {
      u.path[d > 0 ? "lineTo" : "moveTo"](n.convert(d), i.convert(c));
    }), u;
  }), s = new Se();
  return s.setClipRectInGroupCoordinateSpace(new Ye(r, r, e - r * 2, e - r * 2)), s.append(a), o.append(s), a;
}
var S6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), w6 = (
  /** @class */
  function(o) {
    S6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "groupedColumnTooltip") || this;
      i.columnData = [2, 3, 4];
      var a = i, s = a.root, l = a.columnData, u = a.size, c = a.padding;
      return i.columns = gd({
        stacked: !1,
        root: s,
        data: l,
        size: u,
        padding: c,
        xScaleDomain: [0, 1, 2],
        yScaleDomain: [0, 4],
        xScalePadding: 0.3
      }), s.append(i.columns), i.updateColors(r, n), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.columns.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      });
    }, t.chartType = "groupedColumn", t;
  }(Tn)
), _6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zx = (
  /** @class */
  function(o) {
    _6(t, o);
    function t(e, r, n, i, a, s) {
      i === void 0 && (i = t.data), a === void 0 && (a = [0, 16]), s === void 0 && (s = "stackedColumnTooltip");
      var l = o.call(this, e, s) || this, u = l, c = u.root, d = u.size, p = u.padding;
      return l.stackedColumns = gd({
        stacked: !0,
        root: c,
        data: i,
        size: d,
        padding: p,
        xScaleDomain: [0, 1, 2],
        yScaleDomain: a,
        xScalePadding: 0.3
      }), c.append([].concat.apply([], l.stackedColumns)), l.updateColors(r, n), l;
    }
    return t.prototype.updateColors = function(e, r) {
      this.stackedColumns.forEach(function(n, i) {
        return n.forEach(function(a) {
          a.fill = e[i], a.stroke = r[i];
        });
      });
    }, t.chartType = "stackedColumn", t.data = [
      [8, 12, 16],
      [6, 9, 12],
      [2, 3, 4]
    ], t;
  }(Tn)
), b6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), E6 = (
  /** @class */
  function(o) {
    b6(t, o);
    function t(e, r, n) {
      return o.call(this, e, r, n, t.data, [0, 10], "normalizedColumnTooltip") || this;
    }
    return t.chartType = "normalizedColumn", t.data = [
      [10, 10, 10],
      [6, 7, 8],
      [2, 4, 6]
    ], t;
  }(zx)
), O6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), x6 = (
  /** @class */
  function(o) {
    O6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "groupedBarTooltip") || this, a = i.padding, s = i.size, l = [2, 3, 4], u = new Tr();
      u.domain = [0, 1, 2], u.range = [a, s - a], u.paddingInner = 0.3, u.paddingOuter = 0.3;
      var c = new Vt();
      c.domain = [0, 4], c.range = [s - a, a];
      var d = c.convert(0), p = u.bandwidth;
      return i.bars = l.map(function(h, f) {
        var v = new Un();
        return v.x = a, v.y = u.convert(f), v.width = d - c.convert(h), v.height = p, v.strokeWidth = 1, v.crisp = !0, v;
      }), i.updateColors(r, n), i.root.append(i.bars), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.bars.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      });
    }, t.chartType = "groupedBar", t;
  }(Tn)
), T6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Kx = (
  /** @class */
  function(o) {
    T6(t, o);
    function t(e, r, n, i, a, s) {
      i === void 0 && (i = t.data), a === void 0 && (a = [0, 16]), s === void 0 && (s = "stackedBarTooltip");
      var l = o.call(this, e, s) || this, u = l.size, c = l.padding, d = new Tr();
      d.domain = [0, 1, 2], d.range = [c, u - c], d.paddingInner = 0.3, d.paddingOuter = 0.3;
      var p = new Vt();
      p.domain = a, p.range = [u - c, c];
      var h = p.convert(0), f = d.bandwidth;
      return l.bars = i.map(function(v) {
        return v.map(function(g, y) {
          var m = new Un();
          return m.x = c, m.y = d.convert(y), m.width = h - p.convert(g), m.height = f, m.strokeWidth = 1, m.crisp = !0, m;
        });
      }), l.updateColors(r, n), l.root.append([].concat.apply([], l.bars)), l;
    }
    return t.prototype.updateColors = function(e, r) {
      this.bars.forEach(function(n, i) {
        return n.forEach(function(a) {
          a.fill = e[i], a.stroke = r[i];
        });
      });
    }, t.chartType = "stackedBar", t.data = [
      [8, 12, 16],
      [6, 9, 12],
      [2, 3, 4]
    ], t;
  }(Tn)
), R6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), D6 = (
  /** @class */
  function(o) {
    R6(t, o);
    function t(e, r, n) {
      return o.call(this, e, r, n, t.data, [0, 10], "normalizedBarTooltip") || this;
    }
    return t.chartType = "normalizedBar", t.data = [
      [10, 10, 10],
      [6, 7, 8],
      [2, 4, 6]
    ], t;
  }(Kx)
), P6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), A6 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, dn = mn, Yx = (
  /** @class */
  function(o) {
    P6(t, o);
    function t(e, r, n, i, a) {
      i === void 0 && (i = 0.6), a === void 0 && (a = "doughnutTooltip");
      var s = o.call(this, e, a) || this, l = (s.size - s.padding * 2) / 2, u = l + s.padding, c = [
        [dn(-90), dn(30)],
        [dn(30), dn(120)],
        [dn(120), dn(180)],
        [dn(180), dn(210)],
        [dn(210), dn(240)],
        [dn(240), dn(270)]
      ];
      return s.sectors = c.map(function(d) {
        var p = A6(d, 2), h = p[0], f = p[1], v = new nx();
        return v.centerX = u, v.centerY = u, v.innerRadius = l * i, v.outerRadius = l, v.startAngle = h, v.endAngle = f, v.stroke = void 0, v.strokeWidth = 1, v;
      }), s.updateColors(r, n), s.root.append(s.sectors), s;
    }
    return t.prototype.updateColors = function(e, r) {
      this.sectors.forEach(function(n, i) {
        n.fill = e[i % e.length], n.stroke = r[i % r.length];
      });
    }, t.chartType = "doughnut", t;
  }(EC)
), M6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), I6 = (
  /** @class */
  function(o) {
    M6(t, o);
    function t(e, r, n) {
      return o.call(this, e, r, n, 0, "pieTooltip") || this;
    }
    return t.chartType = "pie", t;
  }(Yx)
), F6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), L6 = (
  /** @class */
  function(o) {
    F6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "lineTooltip") || this;
      return i.data = [
        [9, 7, 8, 5, 6],
        [5, 6, 3, 4, 1],
        [1, 3, 4, 8, 7]
      ], i.lines = OC(i.root, i.data, i.size, i.padding), i.updateColors(r, n), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.lines.forEach(function(n, i) {
        n.stroke = e[i];
      });
    }, t.chartType = "line", t;
  }(Tn)
), N6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), G6 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, k6 = (
  /** @class */
  function(o) {
    N6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "scatterTooltip") || this, a = i.size, s = i.padding, l = [
        [[0.3, 3], [1.1, 0.9], [2, 0.4], [3.4, 2.4]],
        [[0, 0.3], [1, 2], [2.4, 1.4], [3, 0]]
      ], u = new Vt();
      u.domain = [-0.5, 4], u.range = [s * 2, a - s];
      var c = new Vt();
      c.domain = [-0.5, 3.5], c.range = [a - s, s];
      var d = [];
      l.forEach(function(h) {
        h.forEach(function(f) {
          var v = G6(f, 2), g = v[0], y = v[1], m = new Bx();
          m.strokeWidth = 1, m.centerX = u.convert(g), m.centerY = c.convert(y), m.radius = 2.5, d.push(m);
        });
      }), i.points = d, i.updateColors(r, n);
      var p = new Se();
      return p.setClipRectInGroupCoordinateSpace(new Ye(s, s, a - s * 2, a - s * 2)), p.append(i.points), i.root.append(p), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.points.forEach(function(n, i) {
        n.stroke = r[i % r.length], n.fill = e[i % e.length];
      });
    }, t.chartType = "scatter", t;
  }(Tn)
), V6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), B6 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, H6 = (
  /** @class */
  function(o) {
    V6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "bubbleTooltip") || this, a = i.size, s = i.padding, l = [
        [[0.1, 0.3, 5], [0.5, 0.4, 7], [0.2, 0.8, 7]],
        [[0.8, 0.7, 5], [0.7, 0.3, 9]]
      ], u = new Vt();
      u.domain = [0, 1], u.range = [s * 2, a - s];
      var c = new Vt();
      c.domain = [0, 1], c.range = [a - s, s];
      var d = [];
      l.forEach(function(h) {
        h.forEach(function(f) {
          var v = B6(f, 3), g = v[0], y = v[1], m = v[2], C = new Bx();
          C.strokeWidth = 1, C.centerX = u.convert(g), C.centerY = c.convert(y), C.radius = m, C.fillOpacity = 0.7, d.push(C);
        });
      }), i.points = d, i.updateColors(r, n);
      var p = new Se();
      return p.setClipRectInGroupCoordinateSpace(new Ye(s, s, a - s * 2, a - s * 2)), p.append(i.points), i.root.append(p), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.points.forEach(function(n, i) {
        n.stroke = r[i % r.length], n.fill = e[i % e.length];
      });
    }, t.chartType = "bubble", t;
  }(Tn)
), j6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), W6 = (
  /** @class */
  function(o) {
    j6(t, o);
    function t(e, r, n, i) {
      i === void 0 && (i = t.data);
      var a = o.call(this, e, "groupedAreaTooltip") || this, s = a.size, l = a.padding, u = new Tr();
      u.domain = [0, 1, 2], u.paddingInner = 1, u.paddingOuter = 0, u.range = [l + 0.5, s - l - 0.5];
      var c = new Vt();
      c.domain = [0, 6], c.range = [s - l + 0.5, l];
      var d = i.length, p = d * 2 - 1, h = [], f = c.convert(0);
      return i.forEach(function(v, g) {
        var y = u.convert(g);
        v.forEach(function(m, C) {
          var S = c.convert(m), b = h[C] || (h[C] = []);
          b[g] = {
            x: y,
            y: S
          }, b[p - g] = {
            x: y,
            y: f
          };
        });
      }), a.areas = h.reverse().map(function(v) {
        var g = new xr();
        g.strokeWidth = 1, g.fillOpacity = 0.7;
        var y = g.path;
        return y.clear(), v.forEach(function(m, C) {
          return y[C > 0 ? "lineTo" : "moveTo"](m.x, m.y);
        }), y.closePath(), g;
      }), a.updateColors(r, n), a.root.append(a.areas), a;
    }
    return t.prototype.updateColors = function(e, r) {
      this.areas.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      });
    }, t.chartType = "area", t.data = [
      [1, 3, 5],
      [2, 6, 4],
      [5, 3, 1]
    ], t;
  }(Tn)
), $6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), By = (
  /** @class */
  function(o) {
    $6(t, o);
    function t(e, r, n, i, a) {
      i === void 0 && (i = t.data), a === void 0 && (a = "stackedAreaTooltip");
      var s = o.call(this, e, a) || this, l = s.size, u = s.padding, c = new Tr();
      c.domain = [0, 1, 2], c.paddingInner = 1, c.paddingOuter = 0, c.range = [u + 0.5, l - u - 0.5];
      var d = new Vt();
      d.domain = [0, 16], d.range = [l - u + 0.5, u + 0.5];
      var p = i.length, h = p * 2 - 1, f = [];
      return i.forEach(function(v, g) {
        var y = c.convert(g), m = 0;
        v.forEach(function(C, S) {
          var b = d.convert(m + C), _ = f[S] || (f[S] = []);
          _[g] = {
            x: y,
            y: b
          }, _[h - g] = {
            x: y,
            y: d.convert(m)
            // bottom y
          }, m += C;
        });
      }), s.areas = f.map(function(v) {
        var g = new xr();
        g.strokeWidth = 1;
        var y = g.path;
        return y.clear(), v.forEach(function(m, C) {
          return y[C > 0 ? "lineTo" : "moveTo"](m.x, m.y);
        }), y.closePath(), g;
      }), s.updateColors(r, n), s.root.append(s.areas), s;
    }
    return t.prototype.updateColors = function(e, r) {
      this.areas.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      });
    }, t.chartType = "stackedArea", t.data = [
      [2, 3, 2],
      [3, 6, 5],
      [6, 2, 2]
    ], t;
  }(Tn)
), U6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), z6 = (
  /** @class */
  function(o) {
    U6(t, o);
    function t(e, r, n, i) {
      return i === void 0 && (i = t.data), o.call(this, e, r, n, i, "normalizedAreaTooltip") || this;
    }
    return t.chartType = "normalizedArea", t.data = By.data.map(function(e) {
      var r = e.reduce(function(n, i) {
        return n + i;
      }, 0);
      return e.map(function(n) {
        return n / r * 16;
      });
    }), t;
  }(By)
), K6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), X_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Y6 = (
  /** @class */
  function(o) {
    K6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "histogramTooltip") || this, a = i.padding, s = i.size, l = [2, 5, 11, 13, 10, 6, 1], u = new Vt();
      u.domain = [0, l.length], u.range = [a, s - a];
      var c = new Vt();
      c.domain = [0, l.reduce(function(p, h) {
        return Math.max(p, h);
      }, 0)], c.range = [s - a, a];
      var d = c.convert(0);
      return i.bars = l.map(function(p, h) {
        var f = c.convert(p), v = u.convert(h), g = u.convert(h + 1), y = new Un();
        return y.x = v, y.y = f, y.width = g - v, y.height = d - f, y.strokeWidth = 1, y.crisp = !0, y;
      }), i.updateColors(r, n), i.root.append(i.bars), i;
    }
    return t.prototype.updateColors = function(e, r) {
      var n = X_(e, 1), i = n[0], a = X_(r, 1), s = a[0];
      this.bars.forEach(function(l) {
        l.fill = i, l.stroke = s;
      });
    }, t.chartType = "histogram", t;
  }(Tn)
), X6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), q6 = (
  /** @class */
  function(o) {
    X6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "columnLineComboTooltip") || this;
      i.columnData = [3, 4], i.lineData = [
        [5, 4, 6, 5, 4]
      ];
      var a = i, s = a.root, l = a.columnData, u = a.lineData, c = a.size, d = a.padding;
      return i.columns = gd({
        stacked: !1,
        root: s,
        data: l,
        size: c,
        padding: d,
        xScaleDomain: [0, 1],
        yScaleDomain: [0, 4],
        xScalePadding: 0.5
      }), s.append(i.columns), i.lines = OC(s, u, c, d), i.updateColors(r, n), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.columns.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      }), this.lines.forEach(function(n, i) {
        n.stroke = e[i + 2];
      });
    }, t.chartType = "columnLineCombo", t;
  }(Tn)
), Z6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Q6 = (
  /** @class */
  function(o) {
    Z6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "areaColumnComboTooltip") || this;
      i.columnData = [3, 4.5], i.areaData = [
        [5, 4, 6, 5, 4]
      ];
      var a = i, s = a.root, l = a.columnData, u = a.areaData, c = a.size, d = a.padding;
      i.columns = gd({
        stacked: !1,
        root: s,
        data: l,
        size: c,
        padding: d,
        xScaleDomain: [0, 1],
        yScaleDomain: [0, 6],
        xScalePadding: 0.5
      });
      var p = new Tr();
      p.range = [d, c - d], p.domain = [0, 1, 2, 3, 4], p.paddingInner = 1, p.paddingOuter = 0;
      var h = new Vt();
      h.range = [c - d, d], h.domain = [0, 6];
      var f = [], v = h.convert(0), g = p.convert(0);
      return u.forEach(function(y, m) {
        var C = f[m] || (f[m] = []);
        y.forEach(function(b, _) {
          var O = b, E = _, D = p.convert(E), x = h.convert(O);
          C[_] = { x: D, y: x };
        });
        var S = p.convert(y.length - 1);
        f[m].push({
          x: S,
          y: v
        }, {
          x: g,
          y: v
        });
      }), i.areas = f.map(function(y) {
        var m = new xr();
        m.strokeWidth = 1, m.fillOpacity = 0.8;
        var C = m.path;
        return y.forEach(function(S, b) {
          return C[b > 0 ? "lineTo" : "moveTo"](S.x, S.y);
        }), m;
      }), s.append(i.areas), s.append([].concat.apply([], i.columns)), i.updateColors(r, n), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.areas.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      }), this.columns.forEach(function(n, i) {
        n.fill = e[i + 1], n.stroke = r[i + 1];
      });
    }, t.chartType = "areaColumnCombo", t;
  }(Tn)
), J6 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), eX = (
  /** @class */
  function(o) {
    J6(t, o);
    function t(e, r, n) {
      var i = o.call(this, e, "customComboTooltip") || this;
      i.columnData = [3, 4], i.lineData = [[5, 4, 6, 5, 4]];
      var a = i, s = a.root, l = a.columnData, u = a.lineData, c = a.size, d = a.padding;
      i.columns = gd({
        stacked: !1,
        root: s,
        data: l,
        size: c,
        padding: d,
        xScaleDomain: [0, 1],
        yScaleDomain: [0, 4],
        xScalePadding: 0.5
      }), s.append(i.columns), i.lines = OC(s, u, c, d);
      var p = "grey", h = 3, f = new Gt();
      f.x1 = d, f.y1 = d, f.x2 = d, f.y2 = c - d + h, f.stroke = p;
      var v = new Gt();
      v.x1 = d - h + 1, v.y1 = c - d, v.x2 = c - d + 1, v.y2 = c - d, v.stroke = p;
      var g = new xr();
      return i.buildPenIconPath(g), g.fill = "whitesmoke", g.stroke = "darkslategrey", g.strokeWidth = 1, s.append([v, f, g]), i.updateColors(r, n), i;
    }
    return t.prototype.updateColors = function(e, r) {
      this.columns.forEach(function(n, i) {
        n.fill = e[i], n.stroke = r[i];
      }), this.lines.forEach(function(n, i) {
        n.stroke = e[i + 2];
      });
    }, t.prototype.buildPenIconPath = function(e) {
      var r = e.path;
      r.moveTo(25.76, 43.46), r.lineTo(31.27, 48.53), r.moveTo(49.86, 22), r.lineTo(49.86, 22), r.cubicCurveTo(49.01994659053345, 21.317514933510974, 47.89593834348529, 21.09645997825817, 46.86, 21.41), r.lineTo(46.86, 21.41), r.cubicCurveTo(45.55460035985361, 21.77260167850787, 44.38777081121966, 22.517979360321792, 43.51, 23.55), r.lineTo(25.51, 43.8), r.lineTo(25.43, 43.89), r.lineTo(23.01, 51.89), r.lineTo(22.83, 52.46), r.lineTo(31.02, 48.86), r.lineTo(49.02, 28.52), r.lineTo(49.02, 28.52), r.cubicCurveTo(49.940716461596224, 27.521914221246085, 50.54302631059587, 26.2720342455763, 50.75, 24.93), r.lineTo(50.75, 24.93), r.cubicCurveTo(50.95363374988308, 23.866379846512814, 50.62080640232334, 22.77066734274871, 49.86, 22), r.closePath(), r.moveTo(41.76, 25.5), r.lineTo(47.34, 30.5), r.moveTo(40.74, 26.65), r.lineTo(46.25, 31.71);
    }, t.chartType = "customCombo", t;
  }(EC)
), tX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Hy = function() {
  return Hy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Hy.apply(this, arguments);
}, q_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Z_ = {
  columnGroup: {
    column: w6,
    stackedColumn: zx,
    normalizedColumn: E6
  },
  barGroup: {
    bar: x6,
    stackedBar: Kx,
    normalizedBar: D6
  },
  pieGroup: {
    pie: I6,
    doughnut: Yx
  },
  lineGroup: {
    line: L6
  },
  scatterGroup: {
    scatter: k6,
    bubble: H6
  },
  areaGroup: {
    area: W6,
    stackedArea: By,
    normalizedArea: z6
  },
  histogramGroup: {
    histogram: Y6
  },
  combinationGroup: {
    columnLineCombo: q6,
    areaColumnCombo: Q6,
    customCombo: eX
  }
}, rX = (
  /** @class */
  function(o) {
    tX(t, o);
    function t(e, r, n, i) {
      i === void 0 && (i = jV);
      var a = o.call(this, t.TEMPLATE) || this;
      return a.wrappers = {}, a.chartController = e, a.fills = r, a.strokes = n, a.chartGroups = Hy({}, i), a;
    }
    return t.prototype.init = function() {
      var e = this;
      !this.chartController.customComboExists() && this.chartGroups.combinationGroup && (this.chartGroups.combinationGroup = this.chartGroups.combinationGroup.filter(function(n) {
        return n !== "customCombo";
      }));
      var r = this.getGui();
      Object.keys(this.chartGroups).forEach(function(n) {
        var i = e.chartGroups[n], a = e.createBean(new Ci({
          title: e.chartTranslationService.translate(n),
          suppressEnabledCheckbox: !0,
          enabled: !0,
          suppressOpenCloseIcons: !0,
          cssIdentifier: "charts-settings",
          direction: "horizontal"
        }));
        i.forEach(function(s) {
          var l, u = (l = Z_[n]) === null || l === void 0 ? void 0 : l[s];
          if (!u) {
            Z_[n] ? T.doOnce(function() {
              return console.warn("AG Grid - invalid chartGroupsDef config '" + n + "." + s + "'");
            }, "invalid_chartGroupsDef" + s + "_" + n) : T.doOnce(function() {
              return console.warn("AG Grid - invalid chartGroupsDef config '" + n + "'");
            }, "invalid_chartGroupsDef" + n);
            return;
          }
          var c = document.createElement("div");
          c.classList.add("ag-chart-mini-thumbnail");
          var d = u.chartType;
          e.addManagedListener(c, "click", function() {
            e.chartController.setChartType(d), e.updateSelectedMiniChart();
          }), e.wrappers[d] = c, e.createBean(new u(c, e.fills, e.strokes)), a.addItem(c);
        }), r.appendChild(a.getGui());
      }), this.updateSelectedMiniChart();
    }, t.prototype.updateSelectedMiniChart = function() {
      var e = this.chartController.getChartType();
      for (var r in this.wrappers) {
        var n = this.wrappers[r], i = r === e;
        n.classList.toggle("ag-selected", i);
      }
    }, t.TEMPLATE = '<div class="ag-chart-settings-mini-wrapper"></div>', q_([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), q_([
      V
    ], t.prototype, "init", null), t;
  }(te)
), nX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ma = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, iX = (
  /** @class */
  function(o) {
    nX(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE) || this;
      return r.miniChartsContainers = [], r.cardItems = [], r.activePaletteIndex = 0, r.palettes = [], r.themes = [], r.chartController = e, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.resetPalettes(), this.ePrevBtn.insertAdjacentElement("afterbegin", T.createIconNoSpan("previous", this.gridOptionsService)), this.eNextBtn.insertAdjacentElement("afterbegin", T.createIconNoSpan("next", this.gridOptionsService)), this.addManagedListener(this.ePrevBtn, "click", function() {
        return e.setActivePalette(e.getPrev(), "left");
      }), this.addManagedListener(this.eNextBtn, "click", function() {
        return e.setActivePalette(e.getNext(), "right");
      }), this.addManagedListener(this.chartController, Kn.EVENT_CHART_TYPE_CHANGED, function() {
        return e.resetPalettes(!0);
      }), this.addManagedListener(this.chartController, Kn.EVENT_CHART_API_UPDATE, function() {
        return e.resetPalettes(!0);
      }), this.scrollSelectedIntoView();
    }, t.prototype.scrollSelectedIntoView = function() {
      var e = this;
      setTimeout(function() {
        var r = function(s) {
          return !s.getGui().classList.contains("ag-hidden");
        }, n = e.miniChartsContainers.find(r), i = n.getGui().querySelector(".ag-selected");
        if (i) {
          var a = i.offsetParent;
          a && e.eMiniChartsContainer.scrollTo(0, a.offsetTop);
        }
      }, 250);
    }, t.prototype.resetPalettes = function(e) {
      var r = this, n, i, a = this.chartController.getPalettes(), s = (i = (n = this.gridOptionsService.get("chartToolPanelsDef")) === null || n === void 0 ? void 0 : n.settingsPanel) === null || i === void 0 ? void 0 : i.chartGroupsDef;
      T.shallowCompare(a, this.palettes) && !e || this.isAnimating || (this.palettes = a, this.themes = this.chartController.getThemes(), this.activePaletteIndex = this.themes.findIndex(function(l) {
        return l === r.chartController.getChartThemeName();
      }), this.cardItems = [], T.clearElement(this.eCardSelector), this.destroyMiniCharts(), this.palettes.forEach(function(l, u) {
        var c = r.activePaletteIndex === u, d = l.fills, p = l.strokes, h = r.createBean(new rX(r.chartController, d, p, s));
        r.miniChartsContainers.push(h), r.eMiniChartsContainer.appendChild(h.getGui()), r.addCardLink(u), c ? h.updateSelectedMiniChart() : h.setDisplayed(!1);
      }), T.setDisplayed(this.eNavBar, this.palettes.length > 1), T.radioCssClass(this.cardItems[this.activePaletteIndex], "ag-selected", "ag-not-selected"));
    }, t.prototype.addCardLink = function(e) {
      var r = this, n = document.createElement("div");
      n.classList.add("ag-chart-settings-card-item"), this.addManagedListener(n, "click", function() {
        r.setActivePalette(e, e < r.activePaletteIndex ? "left" : "right");
      }), this.eCardSelector.appendChild(n), this.cardItems.push(n);
    }, t.prototype.getPrev = function() {
      var e = this.activePaletteIndex - 1;
      return e < 0 && (e = this.palettes.length - 1), e;
    }, t.prototype.getNext = function() {
      var e = this.activePaletteIndex + 1;
      return e >= this.palettes.length && (e = 0), e;
    }, t.prototype.setActivePalette = function(e, r) {
      var n = this;
      if (!(this.isAnimating || this.activePaletteIndex === e)) {
        T.radioCssClass(this.cardItems[e], "ag-selected", "ag-not-selected");
        var i = this.miniChartsContainers[this.activePaletteIndex], a = i.getGui(), s = this.miniChartsContainers[e], l = s.getGui();
        i.updateSelectedMiniChart(), s.updateSelectedMiniChart();
        var u = r === "left" ? -1 : 1, c = l.style.left = T.getAbsoluteWidth(this.getGui()) * u + "px";
        this.activePaletteIndex = e, this.isAnimating = !0;
        var d = "ag-animating";
        s.setDisplayed(!0), i.addCssClass(d), s.addCssClass(d), this.chartController.setChartThemeName(this.themes[e]), window.setTimeout(function() {
          a.style.left = -parseFloat(c) + "px", l.style.left = "0px";
        }, 0), window.setTimeout(function() {
          n.isAnimating = !1, i.removeCssClass(d), s.removeCssClass(d), i.setDisplayed(!1);
        }, 300);
      }
    }, t.prototype.destroyMiniCharts = function() {
      T.clearElement(this.eMiniChartsContainer), this.miniChartsContainers = this.destroyBeans(this.miniChartsContainers);
    }, t.prototype.destroy = function() {
      this.destroyMiniCharts(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-chart-settings-wrapper">
            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>
                </div>
                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`, Ma([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Ma([
      G("eMiniChartsContainer")
    ], t.prototype, "eMiniChartsContainer", void 0), Ma([
      G("eNavBar")
    ], t.prototype, "eNavBar", void 0), Ma([
      G("eCardSelector")
    ], t.prototype, "eCardSelector", void 0), Ma([
      G("ePrevBtn")
    ], t.prototype, "ePrevBtn", void 0), Ma([
      G("eNextBtn")
    ], t.prototype, "eNextBtn", void 0), Ma([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), oX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Q_ = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, aX = (
  /** @class */
  function(o) {
    oX(t, o);
    function t(e) {
      var r = o.call(this) || this;
      r.tabs = [];
      var n = e.controller, i = e.panels, a = e.chartOptionsService;
      return r.chartController = n, r.chartOptionsService = a, r.panels = i, r;
    }
    return t.prototype.init = function() {
      var e = this;
      this.panels.forEach(function(r) {
        var n = r.replace("chart", "").toLowerCase(), i = e.createTab(r, n, e.getPanelClass(n)), a = i.comp, s = i.tab;
        e.tabs.push(s), e.addDestroyFunc(function() {
          return e.destroyBean(a);
        });
      }), this.tabbedLayout = new HE({
        items: this.tabs,
        cssClass: "ag-chart-tabbed-menu",
        keepScrollPosition: !0
      }), this.getContext().createBean(this.tabbedLayout);
    }, t.prototype.createTab = function(e, r, n) {
      var i = document.createElement("div");
      i.classList.add("ag-chart-tab", "ag-chart-" + r);
      var a = new n(this.chartController, this.chartOptionsService);
      this.getContext().createBean(a), i.appendChild(a.getGui());
      var s = document.createElement("div"), l = this.chartTranslationService.translate(r);
      return s.innerText = l, {
        comp: a,
        tab: {
          title: s,
          titleLabel: l,
          bodyPromise: Je.resolve(i),
          getScrollableContainer: function() {
            var u = i.querySelector(".ag-scrollable-container");
            return u || i;
          },
          name: e
        }
      };
    }, t.prototype.showTab = function(e) {
      var r = this.tabs[e];
      this.tabbedLayout.showItem(r);
    }, t.prototype.getGui = function() {
      return this.tabbedLayout && this.tabbedLayout.getGui();
    }, t.prototype.destroy = function() {
      this.parentComponent && this.parentComponent.isAlive() && this.destroyBean(this.parentComponent), o.prototype.destroy.call(this);
    }, t.prototype.getPanelClass = function(e) {
      switch (e) {
        case t.TAB_DATA:
          return BY;
        case t.TAB_FORMAT:
          return g6;
        default:
          return iX;
      }
    }, t.TAB_DATA = "data", t.TAB_FORMAT = "format", Q_([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Q_([
      V
    ], t.prototype, "init", null), t;
  }(te)
), sX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ac = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, J_ = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, lX = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, e0 = (
  /** @class */
  function(o) {
    sX(t, o);
    function t(e, r, n, i) {
      var a = o.call(this, t.TEMPLATE) || this;
      return a.eChartContainer = e, a.eMenuPanelContainer = r, a.chartController = n, a.chartOptionsService = i, a.buttons = {
        chartSettings: ["menu", function() {
          return a.showMenu(a.defaultPanel);
        }],
        chartData: ["menu", function() {
          return a.showMenu("chartData");
        }],
        chartFormat: ["menu", function() {
          return a.showMenu("chartFormat");
        }],
        chartLink: ["linked", function(s) {
          return a.toggleDetached(s);
        }],
        chartUnlink: ["unlinked", function(s) {
          return a.toggleDetached(s);
        }],
        chartDownload: ["save", function() {
          return a.saveChart();
        }]
      }, a.panels = [], a.buttonListenersDestroyFuncs = [], a.menuVisible = !1, a;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.createButtons(), this.addManagedListener(this.eventService, R.EVENT_CHART_CREATED, function(r) {
        var n;
        if (r.chartId === e.chartController.getChartId()) {
          var i = !!(!((n = e.gridOptionsService.get("chartToolPanelsDef")) === null || n === void 0) && n.defaultToolPanel);
          i && e.showMenu(e.defaultPanel, !1);
        }
      }), this.refreshMenuClasses(), !this.gridOptionsService.is("suppressChartToolPanelsButton") && this.panels.length > 0 && (this.getGui().classList.add("ag-chart-tool-panel-button-enable"), this.addManagedListener(this.eHideButton, "click", this.toggleMenu.bind(this))), this.addManagedListener(this.chartController, Kn.EVENT_CHART_API_UPDATE, this.createButtons.bind(this));
    }, t.prototype.isVisible = function() {
      return this.menuVisible;
    }, t.prototype.getExtraPaddingDirections = function() {
      var e = this, r = ["chartLink", "chartUnlink", "chartDownload"], n = ["chartSettings", "chartData", "chartFormat"], i = [];
      return r.some(function(a) {
        return e.chartToolbarOptions.includes(a);
      }) && i.push("top"), n.some(function(a) {
        return e.chartToolbarOptions.includes(a);
      }) && i.push(this.gridOptionsService.is("enableRtl") ? "left" : "right"), i;
    }, t.prototype.getToolbarOptions = function() {
      var e = this, r, n, i, a = !!this.gridOptionsService.get("chartToolPanelsDef");
      if (a) {
        var s = [
          this.chartController.isChartLinked() ? "chartLink" : "chartUnlink",
          "chartDownload"
        ], l = this.gridOptionsService.getCallback("getChartToolbarItems"), u = {
          defaultItems: s
        }, c = l ? l(u).filter(function(g) {
          if (!FS.includes(g)) {
            var y = Hv.includes(g) ? "AG Grid: '" + g + "' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead" : "AG Grid: '" + g + "' is not a valid Chart Toolbar Option";
            return console.warn(y), !1;
          }
          return !0;
        }) : s, d = (n = (r = this.gridOptionsService.get("chartToolPanelsDef")) === null || r === void 0 ? void 0 : r.panels) === null || n === void 0 ? void 0 : n.map(function(g) {
          var y = Up[g];
          return y || console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '" + g + "'"), y;
        }).filter(function(g) {
          return !!g;
        });
        this.panels = d || Object.values(Up), this.chartController.isPivotChart() && (this.panels = this.panels.filter(function(g) {
          return g !== "chartData";
        }));
        var p = (i = this.gridOptionsService.get("chartToolPanelsDef")) === null || i === void 0 ? void 0 : i.defaultToolPanel;
        return this.defaultPanel = p && Up[p] || this.panels[0], this.panels.length > 0 ? lX([this.panels[0]], J_(c)) : c;
      } else {
        var h = [
          "chartSettings",
          "chartData",
          "chartFormat",
          this.chartController.isChartLinked() ? "chartLink" : "chartUnlink",
          "chartDownload"
        ], l = this.gridOptionsService.getCallback("getChartToolbarItems");
        if (l) {
          var f = this.gridOptionsService.is("suppressChartToolPanelsButton"), u = {
            defaultItems: f ? h : FS
          };
          h = l(u).filter(function(m) {
            if (e.buttons[m]) {
              if (!f && Hv.includes(m)) {
                var C = "AG Grid: '" + m + "' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead";
                return console.warn(C), !1;
              }
            } else
              return console.warn("AG Grid: '" + m + "' is not a valid Chart Toolbar Option"), !1;
            return !0;
          }), f || (h = h.concat(Hv));
        }
        this.chartController.isPivotChart() && (h = h.filter(function(y) {
          return y !== "chartData";
        }));
        var v = ["chartUnlink", "chartLink", "chartDownload"];
        return this.panels = h.filter(function(y) {
          return v.indexOf(y) === -1;
        }), this.defaultPanel = this.panels[0], h.filter(function(y) {
          return v.indexOf(y) !== -1 || e.panels.length && y === e.panels[0];
        });
      }
    }, t.prototype.toggleDetached = function(e) {
      var r = e.target, n = r.classList.contains("ag-icon-linked");
      r.classList.toggle("ag-icon-linked", !n), r.classList.toggle("ag-icon-unlinked", n);
      var i = n ? "chartUnlinkToolbarTooltip" : "chartLinkToolbarTooltip", a = this.chartTranslationService.translate(i);
      a && (r.title = a), this.chartController.detachChartRange();
    }, t.prototype.createButtons = function() {
      var e = this;
      this.buttonListenersDestroyFuncs.forEach(function(n) {
        return n();
      }), this.buttonListenersDestroyFuncs = [], this.chartToolbarOptions = this.getToolbarOptions();
      var r = this.eMenu;
      T.clearElement(r), this.chartToolbarOptions.forEach(function(n) {
        var i = e.buttons[n], a = J_(i, 2), s = a[0], l = a[1], u = T.createIconNoSpan(s, e.gridOptionsService, void 0, !0);
        u.classList.add("ag-chart-menu-icon");
        var c = e.chartTranslationService.translate(n + "ToolbarTooltip");
        c && u instanceof HTMLElement && (u.title = c), e.buttonListenersDestroyFuncs.push(e.addManagedListener(u, "click", l)), r.appendChild(u);
      });
    }, t.prototype.saveChart = function() {
      var e = { type: t.EVENT_DOWNLOAD_CHART };
      this.dispatchEvent(e);
    }, t.prototype.createMenuPanel = function(e) {
      var r = this, n = this.environment.chartMenuPanelWidth(), i = this.menuPanel = this.createBean(new Km({
        minWidth: n,
        width: n,
        height: "100%",
        closable: !0,
        hideTitleBar: !0,
        cssIdentifier: "chart-menu"
      }));
      return i.setParentComponent(this), this.eMenuPanelContainer.appendChild(i.getGui()), this.tabbedMenu = this.createBean(new aX({
        controller: this.chartController,
        type: this.chartController.getChartType(),
        panels: this.panels,
        chartOptionsService: this.chartOptionsService
      })), this.addManagedListener(i, te.EVENT_DESTROYED, function() {
        return r.destroyBean(r.tabbedMenu);
      }), new Je(function(a) {
        window.setTimeout(function() {
          i.setBodyComponent(r.tabbedMenu), r.tabbedMenu.showTab(e), a(i), r.addManagedListener(r.eChartContainer, "click", function(s) {
            r.getGui().contains(s.target) || r.menuVisible && r.hideMenu();
          });
        }, 100);
      });
    }, t.prototype.showContainer = function() {
      this.menuPanel && (this.menuVisible = !0, this.showParent(this.menuPanel.getWidth()), this.refreshMenuClasses());
    }, t.prototype.toggleMenu = function() {
      this.menuVisible ? this.hideMenu() : this.showMenu();
    }, t.prototype.showMenu = function(e, r) {
      var n = this;
      if (r === void 0 && (r = !0), r || this.eMenuPanelContainer.classList.add("ag-no-transition"), this.menuPanel && !e)
        this.showContainer();
      else {
        var i = e || this.defaultPanel, a = this.panels.indexOf(i);
        a < 0 && (console.warn("AG Grid: '" + e + "' is not a valid Chart Tool Panel name"), a = this.panels.indexOf(this.defaultPanel)), this.menuPanel ? (this.tabbedMenu.showTab(a), this.showContainer()) : this.createMenuPanel(a).then(this.showContainer.bind(this));
      }
      r || setTimeout(function() {
        n.isAlive() && n.eMenuPanelContainer.classList.remove("ag-no-transition");
      }, 500);
    }, t.prototype.hideMenu = function() {
      var e = this;
      this.hideParent(), window.setTimeout(function() {
        e.menuVisible = !1, e.refreshMenuClasses();
      }, 500);
    }, t.prototype.refreshMenuClasses = function() {
      this.eChartContainer.classList.toggle("ag-chart-menu-visible", this.menuVisible), this.eChartContainer.classList.toggle("ag-chart-menu-hidden", !this.menuVisible), this.gridOptionsService.is("suppressChartToolPanelsButton") || (this.eHideButtonIcon.classList.toggle("ag-icon-contracted", this.menuVisible), this.eHideButtonIcon.classList.toggle("ag-icon-expanded", !this.menuVisible));
    }, t.prototype.showParent = function(e) {
      this.eMenuPanelContainer.style.minWidth = e + "px";
    }, t.prototype.hideParent = function() {
      this.eMenuPanelContainer.style.minWidth = "0";
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.menuPanel && this.menuPanel.isAlive() && this.destroyBean(this.menuPanel), this.tabbedMenu && this.tabbedMenu.isAlive() && this.destroyBean(this.tabbedMenu);
    }, t.EVENT_DOWNLOAD_CHART = "downloadChart", t.TEMPLATE = `<div>
        <div class="ag-chart-menu" ref="eMenu"></div>
        <button class="ag-button ag-chart-menu-close" ref="eHideButton">
            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>
        </button>
    </div>`, ac([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), ac([
      G("eMenu")
    ], t.prototype, "eMenu", void 0), ac([
      G("eHideButton")
    ], t.prototype, "eHideButton", void 0), ac([
      G("eHideButtonIcon")
    ], t.prototype, "eHideButtonIcon", void 0), ac([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), uX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qh = function() {
  return qh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, qh.apply(this, arguments);
}, t0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, cX = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, dX = (
  /** @class */
  function(o) {
    uX(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE) || this;
      return r.chartMenu = e, r.destroyableChartListeners = [], r.editing = !1, r;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addManagedListener(this.getGui(), "keydown", function(r) {
        e.editing && r.key === "Enter" && !r.shiftKey && (e.handleEndEditing(), r.preventDefault());
      }), this.addManagedListener(this.getGui(), "input", function() {
        e.editing && e.updateHeight();
      }), this.addManagedListener(this.getGui(), "blur", function() {
        return e.endEditing();
      });
    }, t.prototype.refreshTitle = function(e, r) {
      var n, i, a = this;
      this.chartController = e, this.chartOptionsService = r;
      try {
        for (var s = cX(this.destroyableChartListeners), l = s.next(); !l.done; l = s.next()) {
          var u = l.value;
          u();
        }
      } catch (g) {
        n = { error: g };
      } finally {
        try {
          l && !l.done && (i = s.return) && i.call(s);
        } finally {
          if (n)
            throw n.error;
        }
      }
      this.destroyableChartListeners = [];
      var c = this.chartController.getChartProxy(), d = c.getChart(), p = d.scene.canvas.element, h = this.addManagedListener(p, "dblclick", function(g) {
        var y = d.title;
        if (y && y.node.containsPoint(g.offsetX, g.offsetY)) {
          var m = y.node.computeBBox(), C = y.node.inverseTransformPoint(m.x, m.y);
          a.startEditing(qh(qh({}, m), C), p.width);
        }
      }), f = !1, v = this.addManagedListener(p, "mousemove", function(g) {
        var y = d.title, m = !!(y && y.enabled && y.node.containsPoint(g.offsetX, g.offsetY));
        f !== m && (p.style.cursor = m ? "pointer" : ""), f = m;
      });
      this.destroyableChartListeners = [
        h,
        v
      ];
    }, t.prototype.startEditing = function(e, r) {
      if (!(this.chartMenu && this.chartMenu.isVisible()) && !this.editing) {
        this.editing = !0;
        var n = 300, i = Math.max(Math.min(e.width + 20, r), n), a = this.getGui();
        a.classList.add("currently-editing");
        var s = a.style;
        s.fontFamily = this.chartOptionsService.getChartOption("title.fontFamily"), s.fontWeight = this.chartOptionsService.getChartOption("title.fontWeight"), s.fontStyle = this.chartOptionsService.getChartOption("title.fontStyle"), s.fontSize = this.chartOptionsService.getChartOption("title.fontSize") + "px", s.color = this.chartOptionsService.getChartOption("title.color");
        var l = this.chartOptionsService.getChartOption("title.text"), u = l === this.chartTranslationService.translate("titlePlaceholder");
        a.value = u ? "" : l;
        var c = l.split(/\r?\n/g).length;
        s.left = Math.round(e.x + e.width / 2 - i / 2 - 1) + "px", s.top = Math.round(e.y + e.height / 2 - c * this.getLineHeight() / 2 - 2) + "px", s.width = Math.round(i) + "px", s.lineHeight = this.getLineHeight() + "px", this.updateHeight(), a.focus();
      }
    }, t.prototype.updateHeight = function() {
      var e = this.getGui(), r = this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length, n = e.value.split(/\r?\n/g).length;
      e.style.height = Math.round(Math.max(r, n) * this.getLineHeight()) + 4 + "px";
    }, t.prototype.getLineHeight = function() {
      var e = this.chartOptionsService.getChartOption("title.lineHeight");
      return e ? parseInt(e) : Math.round(parseInt(this.chartOptionsService.getChartOption("title.fontSize")) * 1.2);
    }, t.prototype.handleEndEditing = function() {
      var e = this, r = this.chartOptionsService.getChartOption("title.color"), n = "rgba(0, 0, 0, 0)";
      this.chartOptionsService.setChartOption("title.color", n), this.chartOptionsService.awaitChartOptionUpdate(function() {
        return e.endEditing();
      }), this.chartOptionsService.awaitChartOptionUpdate(function() {
        e.chartOptionsService.setChartOption("title.color", r);
      });
    }, t.prototype.endEditing = function() {
      var e = this;
      if (this.editing) {
        this.editing = !1;
        var r = this.getGui().value;
        r && r.trim() !== "" ? (this.chartOptionsService.setChartOption("title.text", r), this.chartOptionsService.setChartOption("title.enabled", !0)) : (this.chartOptionsService.setChartOption("title.text", ""), this.chartOptionsService.setChartOption("title.enabled", !1)), this.getGui().classList.remove("currently-editing"), this.chartOptionsService.awaitChartOptionUpdate(function() {
          e.eventService.dispatchEvent({ type: "chartTitleEdit" });
        });
      }
    }, t.TEMPLATE = `<textarea
             class="ag-chart-title-edit"
             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />
        `, t0([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), t0([
      V
    ], t.prototype, "init", null), t;
  }(te)
), pX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), al = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hX = (
  /** @class */
  function(o) {
    pX(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getData = function(e) {
      if (e.crossFiltering) {
        if (e.grouping)
          return console.warn("AG Grid: crossing filtering with row grouping is not supported."), { chartData: [], columnNames: {} };
        if (!this.gridOptionsService.isRowModelType("clientSide"))
          return console.warn("AG Grid: crossing filtering is only supported in the client side row model."), { chartData: [], columnNames: {} };
      }
      var r = this.gridOptionsService.isRowModelType("serverSide");
      r && e.pivoting && this.updatePivotKeysForSSRM();
      var n = this.extractRowsFromGridRowModel(e);
      return n.chartData = this.aggregateRowsByDimension(e, n.chartData), n;
    }, t.prototype.extractRowsFromGridRowModel = function(e) {
      var r = this, n = [], i = {}, a = {}, s = {}, l = {}, u = [], c;
      if (e.crossFiltering)
        l = this.getFilteredRowNodes(), u = this.getAllRowNodes(), c = u.length;
      else {
        var d = this.gridRowModel.getRowCount() - 1, p = e.endRow >= 0 ? Math.min(e.endRow, d) : d;
        c = p - e.startRow + 1;
      }
      for (var h = function(m) {
        var C = {}, S = e.crossFiltering ? u[m] : f.gridRowModel.getRow(m + e.startRow);
        e.dimensionCols.forEach(function(b) {
          var _ = b.colId, O = r.columnModel.getGridColumn(_);
          if (O) {
            var E = r.valueService.getValue(O, S);
            if (e.grouping) {
              var D = E && E.toString ? String(E.toString()) : "", x = t.getGroupLabels(S, D);
              C[_] = {
                labels: x,
                toString: function() {
                  return this.labels.filter(function(M) {
                    return !!M;
                  }).reverse().join(" - ");
                }
              }, S.group && (a[x.toString()] = m);
              var P = x.slice(1, x.length).toString();
              P && (s[P] = a[P]);
            } else
              C[_] = E;
          } else
            C[xC.DEFAULT_CATEGORY] = m + 1;
        }), e.valueCols.forEach(function(b) {
          var _ = [], O = b.getColDef().pivotKeys;
          O && (_ = O.slice());
          var E = b.getColDef().headerName;
          E && _.push(E), _.length > 0 && (i[b.getId()] = _);
          var D = b.getColId();
          if (e.crossFiltering) {
            var x = D + "-filtered-out", P = r.valueService.getValue(b, S), M = P != null && typeof P.toNumber == "function" ? P.toNumber() : P;
            l[S.id] ? (C[D] = M, C[x] = e.aggFunc || e.isScatter ? void 0 : 0) : (C[D] = e.aggFunc || e.isScatter ? void 0 : 0, C[x] = M);
          } else {
            var P = r.valueService.getValue(b, S);
            P && P.hasOwnProperty("toString") && (P = parseFloat(P.toString())), C[D] = P != null && typeof P.toNumber == "function" ? P.toNumber() : P;
          }
        }), S.footer && (C.footer = !0), n.push(C);
      }, f = this, v = 0; v < c; v++)
        h(v);
      if (e.grouping) {
        var g = T.values(s), y = function(m, C) {
          return !m.footer && !T.includes(g, C);
        };
        n = n.filter(y);
      }
      return { chartData: n, columnNames: i };
    }, t.prototype.aggregateRowsByDimension = function(e, r) {
      var n = this, i = e.dimensionCols;
      if (!e.aggFunc || i.length === 0)
        return r;
      var a = T.last(i), s = a && a.colId, l = {}, u = [];
      return r.forEach(function(c) {
        var d = l;
        i.forEach(function(p) {
          var h = p.colId, f = c[h];
          if (h === s) {
            var v = d[f];
            v || (v = { __children: [] }, i.forEach(function(g) {
              var y = g.colId;
              v[y] = c[y];
            }), d[f] = v, u.push(v)), v.__children.push(c);
          } else
            d[f] || (d[f] = {}), d = d[f];
        });
      }), de.__assertRegistered(Z.RowGroupingModule, "Charting Aggregation", this.context.getGridId()) && u.forEach(function(c) {
        return e.valueCols.forEach(function(d) {
          if (e.crossFiltering)
            e.valueCols.forEach(function(f) {
              var v = f.getColId(), g = c.__children.filter(function(b) {
                return typeof b[v] != "undefined";
              }).map(function(b) {
                return b[v];
              }), y = n.aggregationStage.aggregateValues(g, e.aggFunc);
              c[f.getId()] = y && typeof y.value != "undefined" ? y.value : y;
              var m = v + "-filtered-out", C = c.__children.filter(function(b) {
                return typeof b[m] != "undefined";
              }).map(function(b) {
                return b[m];
              }), S = n.aggregationStage.aggregateValues(C, e.aggFunc);
              c[m] = S && typeof S.value != "undefined" ? S.value : S;
            });
          else {
            var p = c.__children.map(function(f) {
              return f[d.getId()];
            }), h = 0;
            de.__assertRegistered(Z.RowGroupingModule, "Charting Aggregation", n.context.getGridId()) && (h = n.aggregationStage.aggregateValues(p, e.aggFunc)), c[d.getId()] = h && typeof h.value != "undefined" ? h.value : h;
          }
        });
      }), u;
    }, t.prototype.updatePivotKeysForSSRM = function() {
      var e = this.columnModel.getSecondaryColumns();
      if (e) {
        var r = this.extractPivotKeySeparator(e);
        e.forEach(function(n) {
          if (r === "")
            n.getColDef().pivotKeys = [];
          else {
            var i = n.getColId().split(r);
            n.getColDef().pivotKeys = i.slice(0, i.length - 1);
          }
        });
      }
    }, t.prototype.extractPivotKeySeparator = function(e) {
      if (e.length === 0)
        return "";
      var r = function(i, a) {
        var s = i.getGroupId();
        return i.getParent() ? r(i.getParent(), s) : a.split(s)[1][0];
      }, n = e[0];
      return n.getParent() == null ? "" : r(n.getParent(), n.getColId());
    }, t.getGroupLabels = function(e, r) {
      for (var n = [r]; e && e.level !== 0; )
        e = e.parent, e && n.push(e.key);
      return n;
    }, t.prototype.getFilteredRowNodes = function() {
      var e = {};
      return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r) {
        e[r.id] = r;
      }), e;
    }, t.prototype.getAllRowNodes = function() {
      var e = [];
      return this.gridRowModel.forEachNode(function(r) {
        e.push(r);
      }), this.sortRowNodes(e);
    }, t.prototype.sortRowNodes = function(e) {
      var r = this.sortController.getSortOptions(), n = !r || r.length == 0;
      return n ? e : this.rowNodeSorter.doFullSort(e, r);
    }, al([
      w("rowModel")
    ], t.prototype, "gridRowModel", void 0), al([
      w("valueService")
    ], t.prototype, "valueService", void 0), al([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), al([
      w("rowNodeSorter")
    ], t.prototype, "rowNodeSorter", void 0), al([
      w("sortController")
    ], t.prototype, "sortController", void 0), al([
      Fe("aggregationStage")
    ], t.prototype, "aggregationStage", void 0), t;
  }(W)
), fX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Lp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, vX = (
  /** @class */
  function(o) {
    fX(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.getColumn = function(e) {
      return this.columnModel.getPrimaryColumn(e);
    }, t.prototype.getAllDisplayedColumns = function() {
      return this.columnModel.getAllDisplayedColumns();
    }, t.prototype.getColDisplayName = function(e) {
      return this.columnModel.getDisplayNameForColumn(e, "chart");
    }, t.prototype.getRowGroupColumns = function() {
      return this.columnModel.getRowGroupColumns();
    }, t.prototype.getGroupDisplayColumns = function() {
      return this.columnModel.getGroupDisplayColumns();
    }, t.prototype.isPivotMode = function() {
      return this.columnModel.isPivotMode();
    }, t.prototype.isPivotActive = function() {
      return this.columnModel.isPivotActive();
    }, t.prototype.getChartColumns = function() {
      var e = this, r = this.columnModel.getAllDisplayedColumns(), n = /* @__PURE__ */ new Set(), i = /* @__PURE__ */ new Set();
      return r.forEach(function(a) {
        var s = a.getColDef(), l = s.chartDataType;
        if (l)
          switch (l) {
            case "category":
            case "time":
              n.add(a);
              return;
            case "series":
              i.add(a);
              return;
            case "excluded":
              return;
            default:
              console.warn("AG Grid: unexpected chartDataType value '" + l + "' supplied, instead use 'category', 'series' or 'excluded'");
              break;
          }
        if (s.colId === "ag-Grid-AutoColumn") {
          n.add(a);
          return;
        }
        if (!a.isPrimary()) {
          i.add(a);
          return;
        }
        (e.isNumberCol(a) ? i : n).add(a);
      }), { dimensionCols: n, valueCols: i };
    }, t.prototype.isNumberCol = function(e) {
      if (e.getColId() === "ag-Grid-AutoColumn")
        return !1;
      var r = this.rowRenderer.getRowNode({ rowIndex: 0, rowPinned: null });
      if (!r)
        return !1;
      var n = this.valueService.getValue(e, r);
      return n == null && (n = this.extractLeafData(r, e)), n != null && typeof n.toNumber == "function" && (n = n.toNumber()), typeof n == "number";
    }, t.prototype.extractLeafData = function(e, r) {
      if (!e.allLeafChildren)
        return null;
      for (var n = 0; n < e.allLeafChildren.length; n++) {
        var i = e.allLeafChildren[n], a = this.valueService.getValue(r, i);
        if (a != null)
          return a;
      }
      return null;
    }, Lp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Lp([
      w("valueService")
    ], t.prototype, "valueService", void 0), Lp([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), t = Lp([
      q("chartColumnService")
    ], t), t;
  }(W)
), gX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), yX = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, mX = (
  /** @class */
  function(o) {
    gX(t, o);
    function t(e) {
      var r, n = o.call(this) || this;
      return n.suppressComboChartWarnings = !1, n.chartDataModel = e, n.seriesChartTypes = (r = e.params.seriesChartTypes) !== null && r !== void 0 ? r : [], n;
    }
    return t.prototype.init = function() {
      this.initComboCharts();
    }, t.prototype.update = function(e) {
      this.seriesChartTypes = e != null ? e : this.seriesChartTypes, this.initComboCharts(), this.updateSeriesChartTypes();
    }, t.prototype.initComboCharts = function() {
      var e = this.seriesChartTypes && this.seriesChartTypes.length > 0, r = this.chartDataModel.chartType === "customCombo" || e;
      r && (this.chartDataModel.chartType = "customCombo", this.savedCustomSeriesChartTypes = this.seriesChartTypes || []);
    }, t.prototype.updateSeriesChartTypes = function() {
      if (this.chartDataModel.isComboChart()) {
        if (this.seriesChartTypes = this.seriesChartTypes.map(function(e) {
          var r = ["groupedColumn", "stackedColumn", "stackedArea"].includes(e.chartType);
          return e.secondaryAxis = r ? !1 : e.secondaryAxis, e;
        }), this.chartDataModel.chartType === "customCombo") {
          this.updateSeriesChartTypesForCustomCombo();
          return;
        }
        this.updateChartSeriesTypesForBuiltInCombos();
      }
    }, t.prototype.updateSeriesChartTypesForCustomCombo = function() {
      var e = this, r = this.seriesChartTypes && this.seriesChartTypes.length > 0;
      !r && !this.suppressComboChartWarnings && console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."), this.seriesChartTypes = this.seriesChartTypes.map(function(a) {
        return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType) || (console.warn("AG Grid: invalid chartType '" + a.chartType + "' supplied in 'seriesChartTypes', converting to 'line' instead."), a.chartType = "line"), a;
      });
      var n = function(a) {
        (!e.savedCustomSeriesChartTypes || e.savedCustomSeriesChartTypes.length === 0) && (e.savedCustomSeriesChartTypes = e.seriesChartTypes);
        var s = e.savedCustomSeriesChartTypes.find(function(l) {
          return l.colId === a.colId;
        });
        return s || (a.selected && !e.suppressComboChartWarnings && console.warn("AG Grid: no 'seriesChartType' found for colId = '" + a.colId + "', defaulting to 'line'."), {
          colId: a.colId,
          chartType: "line",
          secondaryAxis: !1
        });
      }, i = this.chartDataModel.valueColState.map(n);
      this.seriesChartTypes = i, this.savedCustomSeriesChartTypes = i, this.suppressComboChartWarnings = !0;
    }, t.prototype.updateChartSeriesTypesForBuiltInCombos = function() {
      var e = this.chartDataModel, r = e.chartType, n = e.valueColState, i = r === "columnLineCombo" ? "groupedColumn" : "stackedArea", a = r === "columnLineCombo" ? "line" : "groupedColumn", s = n.filter(function(u) {
        return u.selected;
      }), l = Math.ceil(s.length / 2);
      this.seriesChartTypes = s.map(function(u, c) {
        var d = c >= l ? a : i;
        return { colId: u.colId, chartType: d, secondaryAxis: !1 };
      });
    }, t.SUPPORTED_COMBO_CHART_TYPES = ["line", "groupedColumn", "stackedColumn", "area", "stackedArea"], yX([
      V
    ], t.prototype, "init", null), t;
  }(W)
), CX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Zh = function() {
  return Zh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Zh.apply(this, arguments);
}, Mg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, sc = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, lc = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, xC = (
  /** @class */
  function(o) {
    CX(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.unlinked = !1, r.chartData = [], r.valueColState = [], r.dimensionColState = [], r.columnNames = {}, r.crossFiltering = !1, r.grouping = !1, r.params = e, r.chartId = e.chartId, r.chartType = e.chartType, r.pivotChart = e.pivotChart, r.chartThemeName = e.chartThemeName, r.aggFunc = e.aggFunc, r.referenceCellRange = e.cellRange, r.suppliedCellRange = e.cellRange, r.suppressChartRanges = e.suppressChartRanges, r.unlinked = !!e.unlinkChart, r.crossFiltering = !!e.crossFiltering, r;
    }
    return t.prototype.init = function() {
      this.datasource = this.createManagedBean(new hX()), this.chartColumnService = this.createManagedBean(new vX()), this.comboChartModel = this.createManagedBean(new mX(this)), this.updateCellRanges(), this.updateData();
    }, t.prototype.updateModel = function(e) {
      var r = e.cellRange, n = e.chartType, i = e.pivotChart, a = e.chartThemeName, s = e.aggFunc, l = e.suppressChartRanges, u = e.unlinkChart, c = e.crossFiltering, d = e.seriesChartTypes;
      r !== this.suppliedCellRange && (this.dimensionCellRange = void 0, this.valueCellRange = void 0), this.chartType = n, this.pivotChart = i, this.chartThemeName = a, this.aggFunc = s, this.referenceCellRange = r, this.suppliedCellRange = r, this.suppressChartRanges = l, this.unlinked = !!u, this.crossFiltering = !!c, this.updateSelectedDimension(r == null ? void 0 : r.columns), this.updateCellRanges();
      var p = this.isComboChart() || d;
      p && this.comboChartModel.update(d), this.unlinked || this.updateData();
    }, t.prototype.updateCellRanges = function(e) {
      this.valueCellRange && (this.referenceCellRange = this.valueCellRange);
      var r = this.chartColumnService.getChartColumns(), n = r.dimensionCols, i = r.valueCols, a = this.getAllColumnsFromRanges();
      e && this.updateColumnState(e), this.setDimensionCellRange(n, a, e), this.setValueCellRange(i, a, e), e || (this.resetColumnState(), this.syncDimensionCellRange()), this.comboChartModel.updateSeriesChartTypes();
    }, t.prototype.updateData = function() {
      var e = this.getRowIndexes(), r = e.startRow, n = e.endRow;
      this.pivotChart && this.resetColumnState(), this.grouping = this.isGrouping();
      var i = {
        aggFunc: this.aggFunc,
        dimensionCols: [this.getSelectedDimension()],
        grouping: this.grouping,
        pivoting: this.isPivotActive(),
        crossFiltering: this.crossFiltering,
        valueCols: this.getSelectedValueCols(),
        startRow: r,
        endRow: n,
        isScatter: T.includes(["scatter", "bubble"], this.chartType)
      }, a = this.datasource.getData(i), s = a.chartData, l = a.columnNames;
      this.chartData = s, this.columnNames = l;
    }, t.prototype.isGrouping = function() {
      var e = this.gridOptionsService.isTreeData(), r = e ? null : this.chartColumnService.getRowGroupColumns(), n = e || r && r.length > 0, i = this.getSelectedDimension().colId, a = this.chartColumnService.getGroupDisplayColumns(), s = a.map(function(l) {
        return l.getColId();
      }).some(function(l) {
        return l === i;
      });
      return !!n && s;
    }, t.prototype.getSelectedValueCols = function() {
      return this.valueColState.filter(function(e) {
        return e.selected;
      }).map(function(e) {
        return e.column;
      });
    }, t.prototype.getSelectedDimension = function() {
      return this.dimensionColState.filter(function(e) {
        return e.selected;
      })[0];
    }, t.prototype.getColDisplayName = function(e) {
      return this.chartColumnService.getColDisplayName(e);
    }, t.prototype.isPivotMode = function() {
      return this.chartColumnService.isPivotMode();
    }, t.prototype.getChartDataType = function(e) {
      var r = this.chartColumnService.getColumn(e);
      return r ? r.getColDef().chartDataType : void 0;
    }, t.prototype.isPivotActive = function() {
      return this.chartColumnService.isPivotActive();
    }, t.prototype.createCellRange = function(e) {
      for (var r = [], n = 1; n < arguments.length; n++)
        r[n - 1] = arguments[n];
      return {
        id: this.chartId,
        startRow: this.referenceCellRange.startRow,
        endRow: this.referenceCellRange.endRow,
        columns: r,
        startColumn: e === Yr.DIMENSION ? r[0] : this.referenceCellRange.startColumn,
        type: e
      };
    }, t.prototype.getAllColumnsFromRanges = function() {
      if (this.pivotChart)
        return T.convertToSet(this.chartColumnService.getAllDisplayedColumns());
      var e = this.dimensionCellRange || this.valueCellRange ? [] : this.referenceCellRange.columns;
      return this.dimensionCellRange && e.push.apply(e, lc([], sc(this.dimensionCellRange.columns))), this.valueCellRange && e.push.apply(e, lc([], sc(this.valueCellRange.columns))), T.convertToSet(e);
    }, t.prototype.getRowIndexes = function() {
      var e = 0, r = 0, n = this, i = n.rangeService, a = n.valueCellRange;
      if (i && a) {
        e = i.getRangeStartRow(a).rowIndex;
        var s = i.getRangeEndRow(a);
        r = s.rowPinned === "bottom" ? -1 : s.rowIndex;
      }
      return { startRow: e, endRow: r };
    }, t.prototype.resetColumnState = function() {
      var e = this, r = this.chartColumnService.getChartColumns(), n = r.dimensionCols, i = r.valueCols, a = this.getAllColumnsFromRanges(), s = this.valueColState.length < 1;
      this.dimensionColState = [], this.valueColState = [];
      var l = !1, u = 1, c = this.suppliedCellRange.columns[0];
      n.forEach(function(h) {
        var f = h.getColId() === "ag-Grid-AutoColumn", v = !1;
        e.crossFiltering && e.aggFunc ? c.getColId() === h.getColId() && (v = !0) : v = f ? !0 : !l && a.has(h), e.dimensionColState.push({
          column: h,
          colId: h.getColId(),
          displayName: e.getColDisplayName(h),
          selected: v,
          order: u++
        }), v && (l = !0);
      });
      var d = {
        colId: t.DEFAULT_CATEGORY,
        displayName: this.chartTranslationService.translate("defaultCategory"),
        selected: !l,
        order: 0
      };
      this.dimensionColState.unshift(d);
      var p = this.referenceCellRange.columns.filter(function(h) {
        return i.has(h);
      });
      i.forEach(function(h) {
        s && T.includes(e.referenceCellRange.columns, h) && (h = p.shift()), e.valueColState.push({
          column: h,
          colId: h.getColId(),
          displayName: e.getColDisplayName(h),
          selected: a.has(h),
          order: u++
        });
      });
    }, t.prototype.updateColumnState = function(e) {
      var r = function(u) {
        return u.colId === e.colId;
      }, n = this, i = n.dimensionColState, a = n.valueColState;
      i.filter(r).length > 0 ? i.forEach(function(u) {
        return u.selected = r(u);
      }) : a.filter(r).forEach(function(u) {
        return u.selected = e.selected;
      });
      var s = lc(lc([], sc(i)), sc(a)), l = [];
      s.forEach(function(u, c) {
        c === e.order && l.push(e.colId), u.colId !== e.colId && l.push(u.colId);
      }), s.forEach(function(u) {
        var c = l.indexOf(u.colId);
        u.order = c >= 0 ? l.indexOf(u.colId) : s.length - 1;
      }), this.reorderColState();
    }, t.prototype.reorderColState = function() {
      var e = function(r, n) {
        return r.order - n.order;
      };
      this.dimensionColState.sort(e), this.valueColState.sort(e);
    }, t.prototype.setDimensionCellRange = function(e, r, n) {
      var i = this;
      if (this.dimensionCellRange = void 0, !n && !this.dimensionColState.length) {
        e.forEach(function(l) {
          i.dimensionCellRange || !r.has(l) || (i.dimensionCellRange = i.createCellRange(Yr.DIMENSION, l));
        });
        return;
      }
      var a = n;
      if (this.crossFiltering && this.aggFunc) {
        var s = this.suppliedCellRange.columns[0];
        a = this.dimensionColState.filter(function(l) {
          return l.colId === s.getColId();
        })[0];
      } else
        (!a || !e.has(a.column)) && (a = this.dimensionColState.filter(function(l) {
          return l.selected;
        })[0]);
      a && a.colId !== t.DEFAULT_CATEGORY && (this.dimensionCellRange = this.createCellRange(Yr.DIMENSION, a.column));
    }, t.prototype.setValueCellRange = function(e, r, n) {
      this.valueCellRange = void 0;
      var i = [];
      if (e.forEach(function(s) {
        n && n.colId === s.getColId() ? n.selected && i.push(n.column) : r.has(s) && i.push(s);
      }), i.length > 0) {
        var a = [];
        this.valueColState.length > 0 ? a = this.valueColState.map(function(s) {
          return s.colId;
        }) : r.forEach(function(s) {
          return a.push(s.getColId());
        }), i.sort(function(s, l) {
          return a.indexOf(s.getColId()) - a.indexOf(l.getColId());
        }), this.valueCellRange = this.createCellRange.apply(this, lc([Yr.VALUE], sc(i)));
      }
    }, t.prototype.updateSelectedDimension = function(e) {
      var r = new Set(e.map(function(i) {
        return i.getColId();
      })), n = this.dimensionColState.find(function(i) {
        return r.has(i.colId);
      }) || this.dimensionColState[0];
      this.dimensionColState = this.dimensionColState.map(function(i) {
        return Zh(Zh({}, i), { selected: i.colId === n.colId });
      });
    }, t.prototype.syncDimensionCellRange = function() {
      var e = this.getSelectedDimension();
      e && e.column && (this.dimensionCellRange = this.createCellRange(Yr.DIMENSION, e.column));
    }, t.prototype.isComboChart = function() {
      return ["columnLineCombo", "areaColumnCombo", "customCombo"].includes(this.chartType);
    }, t.DEFAULT_CATEGORY = "AG-GRID-DEFAULT-CATEGORY", Mg([
      w("rangeService")
    ], t.prototype, "rangeService", void 0), Mg([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), Mg([
      V
    ], t.prototype, "init", null), t;
  }(W)
);
function r0(o) {
  return o.chart != null ? o.chart : o;
}
var $a = function() {
  return $a = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, $a.apply(this, arguments);
}, Xx = (
  /** @class */
  function() {
    function o(t) {
      this.chartProxyParams = t, this.clearThemeOverrides = !1, this.chart = t.chartInstance, this.chartType = t.chartType, this.crossFiltering = t.crossFiltering, this.crossFilterCallback = t.crossFilterCallback, this.standaloneChartType = bn(this.chartType), this.chart == null ? this.chart = Hl.create(this.getCommonChartOptions()) : this.clearThemeOverrides = !0;
    }
    return o.prototype.getChart = function() {
      return r0(this.chart);
    }, o.prototype.getChartRef = function() {
      return this.chart;
    }, o.prototype.downloadChart = function(t, e, r) {
      var n = this.chart, i = r0(n), a = e || (i.title ? i.title.text : "chart"), s = t || {}, l = s.width, u = s.height;
      Hl.download(n, { width: l, height: u, fileName: a, fileFormat: r });
    }, o.prototype.getChartImageDataURL = function(t) {
      return this.getChart().scene.getDataURL(t);
    }, o.prototype.getChartOptions = function() {
      return this.chart.getOptions();
    }, o.prototype.getChartThemeOverrides = function() {
      var t, e = this.getChartOptions().theme;
      return (t = e.overrides) !== null && t !== void 0 ? t : {};
    }, o.prototype.getChartPalette = function() {
      return vd(this.getChartOptions().theme).palette;
    }, o.prototype.setPaired = function(t) {
      var e, r = bn(this.chartProxyParams.chartType);
      Hl.updateDelta(this.chart, { theme: { overrides: (e = {}, e[r] = { paired: t }, e) } });
    }, o.prototype.isPaired = function() {
      var t = bn(this.chartProxyParams.chartType);
      return T.get(this.getChartThemeOverrides(), t + ".paired", !0);
    }, o.prototype.lookupCustomChartTheme = function(t) {
      return Wx(this.chartProxyParams, t);
    }, o.prototype.transformData = function(t, e, r) {
      return r ? t.map(function(n, i) {
        var a = n[e], s = a && a.toString ? a.toString() : "", l = $a({}, n);
        return l[e] = { id: i, value: a, toString: function() {
          return s;
        } }, l;
      }) : t;
    }, o.prototype.getCommonChartOptions = function(t) {
      var e, r, n = this.clearThemeOverrides ? {} : (r = (e = this.chart) === null || e === void 0 ? void 0 : e.getOptions()) !== null && r !== void 0 ? r : {}, i = this.chart != null ? { overrides: this.getActiveFormattingPanelOverrides() } : {};
      return this.clearThemeOverrides = !1, $a($a({}, n), { theme: $a($a({}, TY(this.chartProxyParams, this)), t ? { overrides: t } : i), container: this.chartProxyParams.parentElement, mode: "integrated" });
    }, o.prototype.getActiveFormattingPanelOverrides = function() {
      var t, e;
      if (this.clearThemeOverrides)
        return {};
      var r = (t = this.chart) === null || t === void 0 ? void 0 : t.getOptions().theme;
      return (e = r == null ? void 0 : r.overrides) !== null && e !== void 0 ? e : {};
    }, o.prototype.destroy = function(t) {
      var e = t === void 0 ? {} : t, r = e.keepChartInstance, n = r === void 0 ? !1 : r;
      if (n)
        return this.chart;
      this.destroyChart();
    }, o.prototype.destroyChart = function() {
      this.chart && (this.chart.destroy(), this.chart = void 0);
    }, o;
  }()
), SX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Qh = function() {
  return Qh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Qh.apply(this, arguments);
}, hu = (
  /** @class */
  function(o) {
    SX(t, o);
    function t(e) {
      var r = o.call(this, e) || this;
      return r.crossFilteringAllPoints = /* @__PURE__ */ new Set(), r.crossFilteringSelectedPoints = [], r;
    }
    return t.prototype.update = function(e) {
      var r = this.getAxes(e), n = Qh(Qh({}, this.getCommonChartOptions(e.updatedOverrides)), { data: this.getData(e, r), axes: r, series: this.getSeries(e) });
      Hl.update(this.getChartRef(), n);
    }, t.prototype.getData = function(e, r) {
      var n, i = ["area", "line"].includes(this.standaloneChartType), a = this.standaloneChartType === "bar" ? "left" : "bottom", s = ((n = r.find(function(l) {
        return l.position === a;
      })) === null || n === void 0 ? void 0 : n.type) === "category";
      return this.crossFiltering && i ? this.getCrossFilterData(e) : this.getDataTransformedData(e, s);
    }, t.prototype.getDataTransformedData = function(e, r) {
      return this.transformData(e.data, e.category.id, r);
    }, t.prototype.getXAxisType = function(e) {
      return e.grouping ? "groupedCategory" : t.isTimeAxis(e) ? "time" : "category";
    }, t.isTimeAxis = function(e) {
      if (e.category && e.category.chartDataType)
        return e.category.chartDataType === "time";
      var r = e.data[0];
      return (r && r[e.category.id]) instanceof Date;
    }, t.prototype.crossFilteringReset = function() {
      this.crossFilteringSelectedPoints = [], this.crossFilteringAllPoints.clear();
    }, t.prototype.crossFilteringPointSelected = function(e) {
      return this.crossFilteringSelectedPoints.length == 0 || this.crossFilteringSelectedPoints.includes(e);
    }, t.prototype.crossFilteringDeselectedPoints = function() {
      return this.crossFilteringSelectedPoints.length > 0 && this.crossFilteringAllPoints.size !== this.crossFilteringSelectedPoints.length;
    }, t.prototype.extractLineAreaCrossFilterSeries = function(e, r) {
      var n = this, i = function(a) {
        if (n.standaloneChartType === "area") {
          var s = r.getCrossFilteringContext().lastSelectedChartId;
          return s === r.chartId ? a + "-total" : a;
        }
        return a + "-total";
      };
      return e.map(function(a) {
        return a.yKey = i(a.yKey), a.listeners = {
          nodeClick: function(s) {
            var l = s.datum[a.xKey], u = s.event.metaKey || s.event.ctrlKey;
            n.crossFilteringAddSelectedPoint(u, l), n.crossFilterCallback(s);
          }
        }, a.marker = {
          formatter: function(s) {
            var l = s.datum[r.category.id];
            return {
              fill: s.highlighted ? "yellow" : s.fill,
              size: s.highlighted ? 14 : n.crossFilteringPointSelected(l) ? 8 : 0
            };
          }
        }, n.standaloneChartType === "area" && (a.fillOpacity = n.crossFilteringDeselectedPoints() ? 0.3 : 1), n.standaloneChartType === "line" && (a.strokeOpacity = n.crossFilteringDeselectedPoints() ? 0.3 : 1), a;
      });
    }, t.prototype.getCrossFilterData = function(e) {
      var r = this;
      this.crossFilteringAllPoints.clear();
      var n = e.fields[0].colId, i = n + "-filtered-out", a = e.getCrossFilteringContext().lastSelectedChartId;
      return e.data.map(function(s) {
        var l = s[e.category.id];
        r.crossFilteringAllPoints.add(l);
        var u = r.crossFilteringPointSelected(l);
        return r.standaloneChartType === "area" && a === e.chartId && (s[n + "-total"] = u ? s[n] : s[n] + s[i]), r.standaloneChartType === "line" && (s[n + "-total"] = u ? s[n] : s[n] + s[i]), s;
      });
    }, t.prototype.crossFilteringAddSelectedPoint = function(e, r) {
      e ? this.crossFilteringSelectedPoints.push(r) : this.crossFilteringSelectedPoints = [r];
    }, t;
  }(Xx)
);
function wX(o) {
  return Array.isArray(o) ? [] : {};
}
function ed(o, t) {
  return t.clone !== !1 && t.isMergeableObject(o) ? ls(wX(o), o, t) : o;
}
function _X(o, t, e) {
  return o.concat(t).map(function(r) {
    return ed(r, e);
  });
}
function bX(o, t) {
  if (!t.customMerge)
    return ls;
  var e = t.customMerge(o);
  return typeof e == "function" ? e : ls;
}
function EX(o) {
  return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(o).filter(function(t) {
    return o.propertyIsEnumerable(t);
  }) : [];
}
function n0(o) {
  return Object.keys(o).concat(EX(o));
}
function qx(o, t) {
  try {
    return t in o;
  } catch (e) {
    return !1;
  }
}
function OX(o, t) {
  return qx(o, t) && !(Object.hasOwnProperty.call(o, t) && Object.propertyIsEnumerable.call(o, t));
}
function xX(o, t, e) {
  o === void 0 && (o = {}), t === void 0 && (t = {});
  var r = {};
  return e.isMergeableObject(o) && n0(o).forEach(function(n) {
    r[n] = ed(o[n], e);
  }), n0(t).forEach(function(n) {
    OX(o, n) || (qx(o, n) && e.isMergeableObject(t[n]) ? r[n] = bX(n, e)(o[n], t[n], e) : r[n] = ed(t[n], e));
  }), r;
}
function TX(o) {
  return RX(o) && !DX(o);
}
function RX(o) {
  return !!o && typeof o == "object";
}
function DX(o) {
  var t = Object.prototype.toString.call(o);
  return t === "[object RegExp]" || t === "[object Date]";
}
function ls(o, t, e) {
  e = e || {}, e.arrayMerge = e.arrayMerge || _X, e.isMergeableObject = e.isMergeableObject || TX, e.cloneUnlessOtherwiseSpecified = ed;
  var r = Array.isArray(t), n = Array.isArray(o), i = r === n;
  return i ? r ? e.arrayMerge(o, t, e) : xX(o, t, e) : ed(t, e);
}
function i0(o, t) {
  var e = parseInt(o.slice(1, 3), 16), r = parseInt(o.slice(3, 5), 16), n = parseInt(o.slice(5, 7), 16);
  return t ? "rgba(" + e + ", " + r + ", " + n + ", " + t + ")" : "rgba(" + e + ", " + r + ", " + n + ")";
}
function o0(o, t) {
  return o.map(function(e) {
    var r = Nt.fromString(e);
    return new Nt(r.r, r.g, r.b, t).toHexString();
  });
}
var PX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Go = function() {
  return Go = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Go.apply(this, arguments);
}, AX = (
  /** @class */
  function(o) {
    PX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getAxes = function(e) {
      var r = this.standaloneChartType === "bar", n = [
        {
          type: this.getXAxisType(e),
          position: r ? "left" : "bottom"
        },
        {
          type: "number",
          position: r ? "bottom" : "left"
        }
      ];
      if (this.isNormalised()) {
        var i = n[1];
        i.label = Go(Go({}, i.label), { formatter: function(a) {
          return Math.round(a.value) + "%";
        } });
      }
      return n;
    }, t.prototype.getSeries = function(e) {
      var r = this, n = ["groupedColumn", "groupedBar"], i = !this.crossFiltering && T.includes(n, this.chartType), a = e.fields.map(function(s) {
        return {
          type: r.standaloneChartType,
          grouped: i,
          stacked: ["stackedColumn", "normalizedColumn", "stackedBar", "normalizedBar"].includes(r.chartType),
          normalizedTo: r.isNormalised() ? 100 : void 0,
          xKey: e.category.id,
          xName: e.category.name,
          yKey: s.colId,
          yName: s.displayName
        };
      });
      return this.crossFiltering ? this.extractCrossFilterSeries(a) : a;
    }, t.prototype.extractCrossFilterSeries = function(e) {
      for (var r = this, n = this.getChartPalette(), i = function(c, d) {
        return Go(Go({}, c), { highlightStyle: { item: { fill: void 0 } }, fill: n == null ? void 0 : n.fills[d], stroke: n == null ? void 0 : n.strokes[d], listeners: {
          nodeClick: r.crossFilterCallback
        } });
      }, a = function(c) {
        var d = c.yKey + "-filtered-out";
        return Go(Go({}, ls({}, c)), { yKey: d, fill: i0(c.fill, "0.3"), stroke: i0(c.stroke, "0.3"), showInLegend: !1 });
      }, s = [], l = 0; l < e.length; l++) {
        var u = i(e[l], l);
        s.push(u), s.push(a(u));
      }
      return s;
    }, t.prototype.isNormalised = function() {
      var e = ["normalizedColumn", "normalizedBar"];
      return !this.crossFiltering && T.includes(e, this.chartType);
    }, t;
  }(hu)
), MX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Jh = function() {
  return Jh = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Jh.apply(this, arguments);
}, IX = (
  /** @class */
  function(o) {
    MX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getAxes = function(e) {
      var r = [
        {
          type: this.getXAxisType(e),
          position: "bottom"
        },
        {
          type: "number",
          position: "left"
        }
      ];
      if (this.isNormalised()) {
        var n = r[1];
        n.label = Jh(Jh({}, n.label), { formatter: function(i) {
          return Math.round(i.value) + "%";
        } });
      }
      return r;
    }, t.prototype.getSeries = function(e) {
      var r = this, n = e.fields.map(function(i) {
        return {
          type: r.standaloneChartType,
          xKey: e.category.id,
          xName: e.category.name,
          yKey: i.colId,
          yName: i.displayName,
          normalizedTo: r.chartType === "normalizedArea" ? 100 : void 0,
          stacked: ["normalizedArea", "stackedArea"].includes(r.chartType)
        };
      });
      return this.crossFiltering ? this.extractLineAreaCrossFilterSeries(n, e) : n;
    }, t.prototype.isNormalised = function() {
      return !this.crossFiltering && this.chartType === "normalizedArea";
    }, t;
  }(hu)
), FX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), LX = (
  /** @class */
  function(o) {
    FX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getAxes = function(e) {
      return [
        {
          type: this.getXAxisType(e),
          position: "bottom"
        },
        {
          type: "number",
          position: "left"
        }
      ];
    }, t.prototype.getSeries = function(e) {
      var r = this, n = e.fields.map(function(i) {
        return {
          type: r.standaloneChartType,
          xKey: e.category.id,
          xName: e.category.name,
          yKey: i.colId,
          yName: i.displayName
        };
      });
      return this.crossFiltering ? this.extractLineAreaCrossFilterSeries(n, e) : n;
    }, t;
  }(hu)
), NX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fn = function() {
  return fn = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, fn.apply(this, arguments);
}, GX = (
  /** @class */
  function(o) {
    NX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.update = function(e) {
      var r = e.data, n = e.category, i = fn(fn({}, this.getCommonChartOptions(e.updatedOverrides)), { data: this.crossFiltering ? this.getCrossFilterData(e) : this.transformData(r, n.id), series: this.getSeries(e) });
      Hl.update(this.getChartRef(), i);
    }, t.prototype.getSeries = function(e) {
      var r = this, n = e.fields.length, i = {
        currentOffset: 0,
        offsetAmount: n > 1 ? 20 : 40
      }, a = this.getFields(e).map(function(s) {
        var l, u = {
          type: r.standaloneChartType,
          angleKey: s.colId,
          angleName: s.displayName,
          sectorLabelKey: s.colId,
          calloutLabelKey: e.category.id,
          calloutLabelName: e.category.name
        };
        if (r.chartType === "doughnut") {
          var c = t.calculateOffsets(i), d = c.outerRadiusOffset, p = c.innerRadiusOffset, h = s.displayName ? {
            title: { text: s.displayName, showInLegend: n > 1 }
          } : void 0;
          return fn(fn(fn(fn({}, u), { outerRadiusOffset: d, innerRadiusOffset: p }), h), { calloutLine: {
            colors: (l = r.getChartPalette()) === null || l === void 0 ? void 0 : l.strokes
          } });
        }
        return u;
      });
      return this.crossFiltering ? this.extractCrossFilterSeries(a) : a;
    }, t.prototype.getCrossFilterData = function(e) {
      var r = e.fields[0].colId, n = r + "-filtered-out";
      return e.data.map(function(i) {
        var a = i[r] + i[n];
        return i[r + "-total"] = a, i[n] = 1, i[r] = i[r] / a, i;
      });
    }, t.prototype.extractCrossFilterSeries = function(e) {
      var r = this, n = this.getChartPalette(), i = function(c) {
        return fn(fn({}, c), { calloutLabel: { enabled: !1 }, highlightStyle: { item: { fill: void 0 } }, radiusKey: c.angleKey, angleKey: c.angleKey + "-total", radiusMin: 0, radiusMax: 1, listeners: {
          nodeClick: r.crossFilterCallback
        } });
      }, a = function(c, d) {
        var p, h;
        return fn(fn({}, ls({}, u)), { radiusKey: d + "-filtered-out", fills: o0((p = c.fills) !== null && p !== void 0 ? p : n.fills, 0.3), strokes: o0((h = c.strokes) !== null && h !== void 0 ? h : n.strokes, 0.3), showInLegend: !1 });
      }, s = e[0], l = s.angleKey, u = i(s);
      return [
        a(s, l),
        u
      ];
    }, t.calculateOffsets = function(e) {
      var r = e.currentOffset;
      e.currentOffset -= e.offsetAmount;
      var n = e.currentOffset;
      return e.currentOffset -= e.offsetAmount, { outerRadiusOffset: r, innerRadiusOffset: n };
    }, t.prototype.getFields = function(e) {
      return this.chartType === "pie" ? e.fields.slice(0, 1) : e.fields;
    }, t.prototype.crossFilteringReset = function() {
    }, t;
  }(Xx)
), kX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ht = function() {
  return Ht = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ht.apply(this, arguments);
}, VX = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, a0 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, s0 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, BX = (
  /** @class */
  function(o) {
    kX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getAxes = function(e) {
      return [
        {
          type: "number",
          position: "bottom"
        },
        {
          type: "number",
          position: "left"
        }
      ];
    }, t.prototype.getSeries = function(e) {
      var r = this, n = this.isPaired(), i = this.getSeriesDefinitions(e.fields, n), a = e.category.id === xC.DEFAULT_CATEGORY ? void 0 : e.category, s = i.map(function(l) {
        return {
          type: r.standaloneChartType,
          xKey: l.xField.colId,
          xName: l.xField.displayName,
          yKey: l.yField.colId,
          yName: l.yField.displayName,
          title: l.yField.displayName + " vs " + l.xField.displayName,
          sizeKey: l.sizeField ? l.sizeField.colId : void 0,
          sizeName: l.sizeField ? l.sizeField.displayName : void 0,
          labelKey: a ? a.id : l.yField.colId,
          labelName: a ? a.name : void 0
        };
      });
      return this.crossFiltering ? this.extractCrossFilterSeries(s, e) : s;
    }, t.prototype.extractCrossFilterSeries = function(e, r) {
      var n = this, i = r.data, a = this.getChartPalette(), s = function(p) {
        return p + "-filtered-out";
      }, l = function(p, h) {
        var f, v, g, y = [1 / 0, -1 / 0];
        if (h != null)
          try {
            for (var m = VX(p), C = m.next(); !C.done; C = m.next()) {
              var S = C.value, b = (g = S[h]) !== null && g !== void 0 ? g : S[s(h)];
              b < y[0] && (y[0] = b), b > y[1] && (y[1] = b);
            }
          } catch (_) {
            f = { error: _ };
          } finally {
            try {
              C && !C.done && (v = m.return) && v.call(m);
            } finally {
              if (f)
                throw f.error;
            }
          }
        if (y[0] <= y[1])
          return y;
      }, u = function(p, h) {
        var f = p.sizeKey, v = a == null ? void 0 : a.fills[h], g = a == null ? void 0 : a.strokes[h], y = l(i, f), m = Ht(Ht({}, p.marker), { fill: v, stroke: g, domain: y });
        return Ht(Ht({}, p), { marker: m, highlightStyle: { item: { fill: "yellow" } }, listeners: Ht(Ht({}, p.listeners), { nodeClick: n.crossFilterCallback }) });
      }, c = function(p) {
        var h = p.sizeKey, f = p.yKey, v = p.xKey;
        return h != null && (h = s(h)), Ht(Ht({}, p), { yKey: s(f), xKey: s(v), marker: Ht(Ht({}, p.marker), { fillOpacity: 0.3, strokeOpacity: 0.3 }), sizeKey: h, showInLegend: !1, listeners: Ht(Ht({}, p.listeners), { nodeClick: function(g) {
          var y, m = g.datum[s(v)], C = Ht(Ht({}, g), { xKey: v, datum: Ht(Ht({}, g.datum), (y = {}, y[v] = m, y)) });
          n.crossFilterCallback(C);
        } }) });
      }, d = e.map(u);
      return s0(s0([], a0(d)), a0(d.map(c)));
    }, t.prototype.getSeriesDefinitions = function(e, r) {
      if (e.length < 2)
        return [];
      var n = this.chartType === "bubble";
      if (r)
        return n ? e.map(function(a, s) {
          return s % 3 === 0 ? {
            xField: a,
            yField: e[s + 1],
            sizeField: e[s + 2]
          } : null;
        }).filter(function(a) {
          return a && a.yField && a.sizeField;
        }) : e.map(function(a, s) {
          return s % 2 === 0 ? {
            xField: a,
            yField: e[s + 1]
          } : null;
        }).filter(function(a) {
          return a && a.yField;
        });
      var i = e[0];
      return n ? e.map(function(a, s) {
        return s % 2 === 1 ? {
          xField: i,
          yField: a,
          sizeField: e[s + 1]
        } : null;
      }).filter(function(a) {
        return a && a.sizeField;
      }) : e.filter(function(a, s) {
        return s > 0;
      }).map(function(a) {
        return { xField: i, yField: a };
      });
    }, t;
  }(hu)
), HX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jX = (
  /** @class */
  function(o) {
    HX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getSeries = function(e) {
      var r = e.fields[0];
      return [
        {
          type: this.standaloneChartType,
          xKey: r.colId,
          xName: r.displayName,
          yName: this.chartProxyParams.translate("histogramFrequency"),
          areaPlot: !1
          // only constant width is supported via integrated charts
        }
      ];
    }, t.prototype.getAxes = function(e) {
      return [
        {
          type: "number",
          position: "bottom"
        },
        {
          type: "number",
          position: "left"
        }
      ];
    }, t;
  }(hu)
), WX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), $X = (
  /** @class */
  function(o) {
    WX(t, o);
    function t(e) {
      var r = o.call(this) || this;
      return r.chartController = e, r;
    }
    return t.prototype.getChartOption = function(e) {
      return T.get(this.getChart(), e, void 0);
    }, t.prototype.setChartOption = function(e, r, n) {
      var i = this, a = this.chartController.getChartSeriesTypes();
      this.chartController.isComboChart() && a.push("cartesian");
      var s = {};
      a.forEach(function(l) {
        s = ls(s, i.createChartOptions({
          seriesType: l,
          expression: e,
          value: r
        }));
      }), this.updateChart(s), n || this.raiseChartOptionsChangedEvent();
    }, t.prototype.awaitChartOptionUpdate = function(e) {
      var r = this.chartController.getChartProxy().getChart();
      r.waitForUpdate().then(function() {
        return e();
      }).catch(function(n) {
        return console.error("AG Grid - chart update failed", n);
      });
    }, t.prototype.getAxisProperty = function(e) {
      var r;
      return T.get((r = this.getChart().axes) === null || r === void 0 ? void 0 : r[0], e, void 0);
    }, t.prototype.setAxisProperty = function(e, r) {
      var n = this, i, a = this.getChart(), s = {};
      (i = a.axes) === null || i === void 0 || i.forEach(function(l) {
        s = ls(s, n.getUpdateAxisOptions(l, e, r));
      }), this.updateChart(s), this.raiseChartOptionsChangedEvent();
    }, t.prototype.getLabelRotation = function(e) {
      var r = this.getAxis(e);
      return T.get(r, "label.rotation", void 0);
    }, t.prototype.setLabelRotation = function(e, r) {
      var n = this.getAxis(e);
      if (n) {
        var i = this.getUpdateAxisOptions(n, "label.rotation", r);
        this.updateChart(i), this.raiseChartOptionsChangedEvent();
      }
    }, t.prototype.getSeriesOption = function(e, r) {
      var n = this.getChart().series.find(function(i) {
        return t.isMatchingSeries(r, i);
      });
      return T.get(n, e, void 0);
    }, t.prototype.setSeriesOption = function(e, r, n) {
      var i = this.createChartOptions({
        seriesType: n,
        expression: "series." + e,
        value: r
      });
      this.updateChart(i), this.raiseChartOptionsChangedEvent();
    }, t.prototype.getPairedMode = function() {
      return this.chartController.getChartProxy().isPaired();
    }, t.prototype.setPairedMode = function(e) {
      this.chartController.getChartProxy().setPaired(e);
    }, t.prototype.getAxis = function(e) {
      var r = this.getChart();
      if (!(!r.axes || r.axes.length < 1))
        return e === "xAxis" ? r.axes && r.axes[0].direction === "x" ? r.axes[0] : r.axes[1] : r.axes && r.axes[1].direction === "y" ? r.axes[1] : r.axes[0];
    }, t.prototype.getUpdateAxisOptions = function(e, r, n) {
      var i = bn(this.getChartType()), a = ["number", "category", "time", "groupedCategory"];
      return a.includes(e.type) ? this.createChartOptions({
        seriesType: i,
        expression: "axes." + e.type + "." + r,
        value: n
      }) : {};
    }, t.prototype.getChartType = function() {
      return this.chartController.getChartType();
    }, t.prototype.getChart = function() {
      return this.chartController.getChartProxy().getChart();
    }, t.prototype.updateChart = function(e) {
      var r = this.chartController.getChartProxy().getChartRef();
      Hl.updateDelta(r, e);
    }, t.prototype.createChartOptions = function(e) {
      var r = e.seriesType, n = e.expression, i = e.value, a = {}, s = {
        theme: {
          overrides: a
        }
      };
      return T.set(a, r + "." + n, i), s;
    }, t.prototype.raiseChartOptionsChangedEvent = function() {
      var e = this.chartController.getChartModel(), r = {
        type: R.EVENT_CHART_OPTIONS_CHANGED,
        chartId: e.chartId,
        chartType: e.chartType,
        chartThemeName: this.chartController.getChartThemeName(),
        chartOptions: e.chartOptions
      };
      this.eventService.dispatchEvent(r);
    }, t.isMatchingSeries = function(e, r) {
      return OY.includes(e) && r.type === e;
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t;
  }(W)
), UX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jy = function() {
  return jy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, jy.apply(this, arguments);
}, zX = (
  /** @class */
  function(o) {
    UX(t, o);
    function t(e) {
      return o.call(this, e) || this;
    }
    return t.prototype.getAxes = function(e) {
      var r = e ? e.fields : [], n = new Map(r.map(function(u) {
        return [u.colId, u];
      })), i = this.getYKeys(r, e.seriesChartTypes), a = i.primaryYKeys, s = i.secondaryYKeys, l = [
        {
          type: this.getXAxisType(e),
          position: "bottom",
          gridStyle: [{ stroke: void 0 }]
        }
      ];
      return a.length > 0 && l.push({
        type: "number",
        keys: a,
        position: "left"
      }), s.length > 0 && s.forEach(function(u, c) {
        var d = n.get(u), p = d && d.colId === u;
        if (p) {
          var h = {
            type: "number",
            keys: [u],
            position: "right"
          }, f = a.some(function(g) {
            return !!n.get(g);
          }), v = c === s.length - 1;
          !f && v || (h.gridStyle = [{ stroke: void 0 }]), l.push(h);
        }
      }), l;
    }, t.prototype.getSeries = function(e) {
      var r = e.fields, n = e.category, i = e.seriesChartTypes;
      return r.map(function(a) {
        var s = i.find(function(d) {
          return d.colId === a.colId;
        });
        if (s) {
          var l = s.chartType, u = ["groupedColumn", "groupedBar"].includes(l), c = u ? { grouped: !0 } : {};
          return jy({ type: bn(l), xKey: n.id, yKey: a.colId, yName: a.displayName, stacked: ["stackedArea", "stackedColumn"].includes(l) }, c);
        }
      });
    }, t.prototype.getYKeys = function(e, r) {
      var n = [], i = [];
      return e.forEach(function(a) {
        var s = a.colId, l = r.find(function(u) {
          return u.colId === s;
        });
        l && (l.secondaryAxis ? i.push(s) : n.push(s));
      }), { primaryYKeys: n, secondaryYKeys: i };
    }, t;
  }(hu)
), KX = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), oi = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, YX = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, l0 = (
  /** @class */
  function(o) {
    KX(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE) || this;
      return r.params = e, r;
    }
    return t.prototype.init = function() {
      var e = this, r = this.gridOptionsService.get("chartThemes") || $x;
      if (r.length < 1)
        throw new Error("Cannot create chart: no chart themes are available to be used.");
      var n = this.params.chartThemeName;
      T.includes(r, n) || (n = r[0]);
      var i = {
        chartId: this.params.chartId,
        pivotChart: this.params.pivotChart,
        chartType: this.params.chartType,
        chartThemeName: n,
        aggFunc: this.params.aggFunc,
        cellRange: this.params.cellRange,
        suppressChartRanges: this.params.suppressChartRanges,
        unlinkChart: this.params.unlinkChart,
        crossFiltering: this.params.crossFiltering,
        seriesChartTypes: this.params.seriesChartTypes
      }, a = this.gridOptionsService.is("enableRtl");
      this.addCssClass(a ? "ag-rtl" : "ag-ltr");
      var s = this.createBean(new xC(i));
      this.chartController = this.createManagedBean(new Kn(s)), this.validateCustomThemes(), this.createChart(), this.params.insideDialog && this.addDialog(), this.addMenu(), this.addTitleEditComp(), this.addManagedListener(this.getGui(), "focusin", this.setActiveChartCellRange.bind(this)), this.addManagedListener(this.chartController, Kn.EVENT_CHART_MODEL_UPDATE, this.update.bind(this)), this.chartMenu && this.addManagedListener(this.chartMenu, e0.EVENT_DOWNLOAD_CHART, function() {
        return e.downloadChart();
      }), this.update(), this.raiseChartCreatedEvent();
    }, t.prototype.validateCustomThemes = function() {
      var e = this.getChartThemes(), r = this.gridOptionsService.get("customChartThemes");
      r && T.getAllKeysInObjects([r]).forEach(function(n) {
        T.includes(e, n) || console.warn("AG Grid: a custom chart theme with the name '" + n + "' has been supplied but not added to the 'chartThemes' list");
      });
    }, t.prototype.createChart = function() {
      var e = this, r = void 0;
      this.chartProxy && (r = this.chartProxy.destroy({ keepChartInstance: !0 }));
      var n = function(l, u) {
        var c = e.params.crossFilteringContext;
        c.lastSelectedChartId = u ? "" : e.chartController.getChartId(), u && e.params.crossFilteringResetCallback(), e.crossFilterService.filter(l, u);
      }, i = this.chartController.getChartType(), a = {
        chartType: i,
        chartInstance: r,
        getChartThemeName: this.getChartThemeName.bind(this),
        getChartThemes: this.getChartThemes.bind(this),
        customChartThemes: this.gridOptionsService.get("customChartThemes"),
        getGridOptionsChartThemeOverrides: function() {
          return e.getGridOptionsChartThemeOverrides();
        },
        getExtraPaddingDirections: function() {
          var l, u;
          return (u = (l = e.chartMenu) === null || l === void 0 ? void 0 : l.getExtraPaddingDirections()) !== null && u !== void 0 ? u : [];
        },
        apiChartThemeOverrides: this.params.chartThemeOverrides,
        crossFiltering: this.params.crossFiltering,
        crossFilterCallback: n,
        parentElement: this.eChart,
        grouping: this.chartController.isGrouping(),
        chartThemeToRestore: this.params.chartThemeName,
        chartOptionsToRestore: this.params.chartOptionsToRestore,
        chartPaletteToRestore: this.params.chartPaletteToRestore,
        seriesChartTypes: this.chartController.getSeriesChartTypes(),
        translate: function(l, u) {
          return e.chartTranslationService.translate(l, u);
        }
      };
      if (this.params.chartOptionsToRestore = void 0, this.chartType = i, this.chartThemeName = this.chartController.getChartThemeName(), this.chartProxy = t.createChartProxy(a), !this.chartProxy) {
        console.warn("AG Grid: invalid chart type supplied: ", a.chartType);
        return;
      }
      var s = this.eChart.querySelector("canvas");
      s && s.classList.add("ag-charts-canvas"), this.chartController.setChartProxy(this.chartProxy), this.chartOptionsService = this.createBean(new $X(this.chartController)), this.titleEdit && this.titleEdit.refreshTitle(this.chartController, this.chartOptionsService);
    }, t.prototype.getChartThemeName = function() {
      return this.chartController.getChartThemeName();
    }, t.prototype.getChartThemes = function() {
      return this.chartController.getThemes();
    }, t.prototype.getGridOptionsChartThemeOverrides = function() {
      return this.gridOptionsService.get("chartThemeOverrides");
    }, t.createChartProxy = function(e) {
      switch (e.chartType) {
        case "column":
        case "bar":
        case "groupedColumn":
        case "stackedColumn":
        case "normalizedColumn":
        case "groupedBar":
        case "stackedBar":
        case "normalizedBar":
          return new AX(e);
        case "pie":
        case "doughnut":
          return new GX(e);
        case "area":
        case "stackedArea":
        case "normalizedArea":
          return new IX(e);
        case "line":
          return new LX(e);
        case "scatter":
        case "bubble":
          return new BX(e);
        case "histogram":
          return new jX(e);
        case "columnLineCombo":
        case "areaColumnCombo":
        case "customCombo":
          return new zX(e);
        default:
          throw "AG Grid: Unable to create chart as an invalid chartType = '" + e.chartType + "' was supplied.";
      }
    }, t.prototype.addDialog = function() {
      var e = this, r = this.chartTranslationService.translate(this.params.pivotChart ? "pivotChartTitle" : "rangeChartTitle"), n = this.getBestDialogSize(), i = n.width, a = n.height;
      this.chartDialog = new gh({
        resizable: !0,
        movable: !0,
        maximizable: !0,
        title: r,
        width: i,
        height: a,
        component: this,
        centered: !0,
        closable: !0
      }), this.getContext().createBean(this.chartDialog), this.chartDialog.addEventListener(gh.EVENT_DESTROYED, function() {
        return e.destroy();
      });
    }, t.prototype.getBestDialogSize = function() {
      var e = this.popupService.getPopupParent(), r = T.getAbsoluteWidth(e) * 0.75, n = T.getAbsoluteHeight(e) * 0.75, i = 0.553, a = this.chartProxy.getChart(), s = this.params.insideDialog ? 850 : a.width, l = this.params.insideDialog ? 470 : a.height;
      return (s > r || l > n) && (s = Math.min(s, r), l = Math.round(s * i), l > n && (l = n, s = Math.min(s, Math.round(l / i)))), { width: s, height: l };
    }, t.prototype.addMenu = function() {
      this.params.crossFiltering || (this.chartMenu = this.createBean(new e0(this.eChartContainer, this.eMenuContainer, this.chartController, this.chartOptionsService)), this.eChartContainer.appendChild(this.chartMenu.getGui()));
    }, t.prototype.addTitleEditComp = function() {
      this.titleEdit = this.createBean(new dX(this.chartMenu)), this.eTitleEditContainer.appendChild(this.titleEdit.getGui()), this.chartProxy && this.titleEdit.refreshTitle(this.chartController, this.chartOptionsService);
    }, t.prototype.update = function(e) {
      var r = this;
      if (e != null && e.chartId) {
        var n = this.chartController.update(e);
        if (!n)
          return;
      }
      var i = this.chartTypeChanged(e);
      i && this.createChart(), this.updateChart(e == null ? void 0 : e.chartThemeOverrides), e != null && e.chartId && this.chartProxy.getChart().waitForUpdate().then(function() {
        r.chartController.raiseChartApiUpdateEvent();
      });
    }, t.prototype.updateChart = function(e) {
      var r = this, n = this.chartProxy, i = this.chartController.getSelectedValueColState(), a = i.map(function(c) {
        return { colId: c.colId, displayName: c.displayName };
      }), s = this.chartController.getChartData(), l = this.handleEmptyChart(s, a);
      if (!l) {
        var u = this.chartController.getChartUpdateParams(e);
        n.update(u), this.chartProxy.getChart().waitForUpdate().then(function() {
          r.chartController.raiseChartUpdatedEvent();
        }), this.titleEdit.refreshTitle(this.chartController, this.chartOptionsService);
      }
    }, t.prototype.chartTypeChanged = function(e) {
      var r = YX([this.chartController.getChartType(), e == null ? void 0 : e.chartType], 2), n = r[0], i = r[1];
      return this.chartType !== n || !!i && this.chartType !== i;
    }, t.prototype.getChartModel = function() {
      return this.chartController.getChartModel();
    }, t.prototype.getChartImageDataURL = function(e) {
      return this.chartProxy.getChartImageDataURL(e);
    }, t.prototype.handleEmptyChart = function(e, r) {
      var n = this.chartController.isPivotChart() && !this.chartController.isPivotMode(), i = 1;
      this.chartController.isActiveXYChart() && (i = this.chartController.getChartType() === "bubble" ? 3 : 2);
      var a = r.length < i || e.length === 0;
      if (this.eChart) {
        var s = n || a;
        T.setDisplayed(this.eChart, !s), T.setDisplayed(this.eEmpty, s);
      }
      return n ? (this.eEmpty.innerText = this.chartTranslationService.translate("pivotChartRequiresPivotMode"), !0) : a ? (this.eEmpty.innerText = this.chartTranslationService.translate("noDataToChart"), !0) : !1;
    }, t.prototype.downloadChart = function(e, r, n) {
      this.chartProxy.downloadChart(e, r, n);
    }, t.prototype.openChartToolPanel = function(e) {
      var r = e && Up[e];
      this.chartMenu.showMenu(r);
    }, t.prototype.closeChartToolPanel = function() {
      this.chartMenu.hideMenu();
    }, t.prototype.getChartId = function() {
      return this.chartController.getChartId();
    }, t.prototype.getUnderlyingChart = function() {
      return this.chartProxy.getChartRef();
    }, t.prototype.crossFilteringReset = function() {
      this.chartProxy.crossFilteringReset();
    }, t.prototype.setActiveChartCellRange = function(e) {
      this.getGui().contains(e.relatedTarget) || (this.chartController.setChartRange(!0), this.gridApi.focusService.clearFocusedCell());
    }, t.prototype.raiseChartCreatedEvent = function() {
      var e = this, r = {
        type: R.EVENT_CHART_CREATED,
        chartId: this.chartController.getChartId()
      };
      this.chartProxy.getChart().waitForUpdate().then(function() {
        e.eventService.dispatchEvent(r);
      });
    }, t.prototype.raiseChartDestroyedEvent = function() {
      var e = {
        type: R.EVENT_CHART_DESTROYED,
        chartId: this.chartController.getChartId()
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this), this.chartProxy && this.chartProxy.destroy(), this.destroyBean(this.chartMenu), this.destroyBean(this.titleEdit), this.chartDialog && this.chartDialog.isAlive() && this.destroyBean(this.chartDialog);
      var e = this.getGui();
      T.clearElement(e), T.removeFromParent(e), this.raiseChartDestroyedEvent();
    }, t.TEMPLATE = `<div class="ag-chart" tabindex="-1">
            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">
                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>
                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
            </div>
            <div ref="eTitleEditContainer"></div>
            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>
        </div>`, oi([
      G("eChart")
    ], t.prototype, "eChart", void 0), oi([
      G("eChartContainer")
    ], t.prototype, "eChartContainer", void 0), oi([
      G("eMenuContainer")
    ], t.prototype, "eMenuContainer", void 0), oi([
      G("eEmpty")
    ], t.prototype, "eEmpty", void 0), oi([
      G("eTitleEditContainer")
    ], t.prototype, "eTitleEditContainer", void 0), oi([
      w("chartCrossFilterService")
    ], t.prototype, "crossFilterService", void 0), oi([
      w("chartTranslationService")
    ], t.prototype, "chartTranslationService", void 0), oi([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), oi([
      w("popupService")
    ], t.prototype, "popupService", void 0), oi([
      V
    ], t.prototype, "init", null), t;
  }(te)
), td = "30.0.6", ht = function() {
  return ht = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ht.apply(this, arguments);
}, Xo = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, u0 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, XX = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function qX(o) {
  return o.version, o.version == null && (o.version = l8(o)), o = Hr("23.0.0", o, ZX), o = Hr("24.0.0", o, QX), o = Hr("25.1.0", o, JX), o = Hr("26.0.0", o, e8), o = Hr("26.1.0", o, t8), o = Hr("26.2.0", o, r8), o = Hr("28.0.0", o, n8), o = Hr("28.2.0", o, i8), o = Hr("29.0.0", o, o8), o = Hr("29.1.0", o, Zx), o = Hr("29.2.0", o, Qx), o = Hr("30.0.0", o, a8), o = s8(o), o = Hr(td, o, function(t) {
    return t;
  }), o;
}
function ZX(o) {
  return o = wi("chartOptions.legend.item.marker.type", "shape", o), o = wi("chartOptions.seriesDefaults.marker.type", "shape", o), o = wi("chartOptions.legend.padding", "spacing", o), o;
}
function QX(o) {
  var t;
  o = gr("chartOptions.seriesDefaults.marker.minSize", o);
  var e = o, r = e.chartType, n = e.chartPalette, i = e.chartOptions, a = i.xAxis, s = i.yAxis, l = Xo(i, ["xAxis", "yAxis"]), u = Xo(e, ["chartType", "chartPalette", "chartOptions"]), c = xY(r), d = c == null ? void 0 : c.map(function(p, h) {
    return ht({ type: p }, h === 0 ? a : s);
  });
  return ht({ chartType: r, chartThemeName: (t = c8[n]) !== null && t !== void 0 ? t : "ag-default", chartOptions: ht(ht({}, l), { axes: d, xAxis: a, yAxis: s }) }, u);
}
function JX(o) {
  return o = wi("chartOptions.seriesDefaults.label.minRequiredAngle", "minAngle", o), o;
}
function e8(o) {
  var t = function(e) {
    var r = e.dimOpacity, n = Xo(e, ["dimOpacity"]);
    return ht(ht({}, n), r != null ? { series: { dimOpacity: r } } : {});
  };
  return o = to("chartOptions.seriesDefaults.highlightStyle", o, t), o = gr("chart", o), o = gr("chartOptions.seriesDefaults.tooltipClass", o), o = gr("chartOptions.seriesDefaults.tooltipTracking", o), o = d0("chartOptions.axes[].label.rotation", 0, o), o = d0("chartOptions.axes[].label.rotation", 335, o), o;
}
function t8(o) {
  var t = function(e) {
    var r = e.item, n = e.series, i = Xo(e, ["item", "series"]);
    return ht({ item: ht(ht({}, i), r) }, n ? { series: n } : {});
  };
  return o = to("chartOptions.seriesDefaults.highlightStyle", o, t), o = to("chartOptions.series[].highlightStyle", o, t), o;
}
function r8(o) {
  o = qp("chartOptions.seriesDefaults.fill.opacity", "chartOptions.seriesDefaults.fillOpacity", o), o = qp("chartOptions.seriesDefaults.stroke.opacity", "chartOptions.seriesDefaults.strokeOpacity", o), o = qp("chartOptions.seriesDefaults.stroke.width", "chartOptions.seriesDefaults.strokeWidth", o), o = gr("chartOptions.seriesDefaults.fill", o), o = gr("chartOptions.seriesDefaults.stroke", o), o = gr("chartOptions.seriesDefaults.callout.colors", o), o = gr("chartOptions.xAxis", o), o = gr("chartOptions.yAxis", o);
  var t = o, e = t.chartType, r = t.chartOptions, n = r.axes;
  r.series;
  var i = r.seriesDefaults, a = Xo(r, ["axes", "series", "seriesDefaults"]), s = Xo(t, ["chartType", "chartOptions"]), l = [bn(e)], u = {};
  if (!l.includes("pie")) {
    var c = { top: {}, bottom: {}, left: {}, right: {} }, d = n.map(function(h) {
      var f, v = h.type, g = Xo(h, ["type"]);
      return f = {}, f[v] = ht(ht({}, c), g), f;
    }).reduce(p0, {});
    Hx.filter(function(h) {
      return d[h] == null;
    }).forEach(function(h) {
      d[h] = ht({}, c);
    }), u.axes = d;
  }
  var p = l.map(function(h) {
    var f;
    return f = {}, f[h] = ht(ht(ht({}, u), { series: i }), a), f;
  }).reduce(p0, {});
  return o = ht(ht({}, s), { chartType: e, chartOptions: p }), o;
}
function n8(o) {
  return o = gr("chartOptions.*.title.padding", o), o = gr("chartOptions.*.subtitle.padding", o), o = gr("chartOptions.*.axes.*.title.padding", o), o = TC("chartOptions.*.axes.*.title.enabled", !1, o), o;
}
function i8(o) {
  return o = wi("chartOptions.pie.series.callout", "calloutLine", o), o = wi("chartOptions.pie.series.label", "calloutLabel", o), o = wi("chartOptions.pie.series.labelKey", "sectorLabelKey", o), o = wi("chartOptions.pie.series.labelName", "sectorLabelName", o), o;
}
function o8(o) {
  return o = uc("chartOptions.scatter.series.fill", "chartOptions.scatter.series.marker.fill", o), o = uc("chartOptions.scatter.series.fillOpacity", "chartOptions.scatter.series.marker.fillOpacity", o), o = uc("chartOptions.scatter.series.stroke", "chartOptions.scatter.series.marker.stroke", o), o = uc("chartOptions.scatter.series.strokeOpacity", "chartOptions.scatter.series.marker.strokeOpacity", o), o = uc("chartOptions.scatter.series.strokeWidth", "chartOptions.scatter.series.marker.strokeWidth", o), o = qp("chartOptions.scatter.series.paired", "chartOptions.scatter.paired", o), o;
}
function Zx(o) {
  return o = gr("chartOptions.axes[].tick.count", o), o;
}
function Qx(o) {
  var t = function(e) {
    var r, n, i, a, s = e.tracking, l = Xo(e, ["tracking"]), u = ht({}, l);
    return s === !1 ? ((r = u.position) !== null && r !== void 0 || (u.position = { type: "pointer" }), (n = u.range) !== null && n !== void 0 || (u.range = "nearest")) : s === !0 && ((i = u.position) !== null && i !== void 0 || (u.position = { type: "node" }), (a = u.range) !== null && a !== void 0 || (u.range = "nearest")), u;
  };
  return o = to("chartOptions.*.tooltip", o, t), o;
}
function a8(o) {
  return o = wi("chartOptions.pie.series.labelKey", "sectorLabelKey", o), o = wi("chartOptions.pie.series.labelName", "sectorLabelName", o), o = Zx(o), o = Qx(o), o = gr("chartOptions.*.series.flipXY", o), o = Jx("chartOptions.common.legend.enabled", !0, o), o = TC("chartOptions.common.legend.position", "right", o), o;
}
function s8(o) {
  return o = gr("chartOptions.*.width", o), o = gr("chartOptions.*.height", o), o = TC("chartOptions.*.axes.category.label.autoRotate", !0, o), o;
}
function l8(o) {
  var t, e, r = o;
  if (o.version != null)
    return o.version;
  var n = function(h) {
    for (var f = [], v = 1; v < arguments.length; v++)
      f[v - 1] = arguments[v];
    return Object.keys(h || {}).some(function(g) {
      return f.includes(g);
    });
  }, i = r.chartOptions, a = n(i, "seriesDefaults") ? i == null ? void 0 : i.seriesDefaults : i == null ? void 0 : i[Object.keys(i)[0]], s = {
    "27.0.0": n(r, "seriesChartTypes"),
    "26.2.0": !n(i, "seriesDefaults"),
    "26.1.0": n(a == null ? void 0 : a.highlightStyle, "item"),
    "26.0.0": n(a == null ? void 0 : a.highlightStyle, "series"),
    // '26.0.0': modelAny.chart === undefined,
    "25.1.0": n(a == null ? void 0 : a.label, "minAngle"),
    "25.0.0": n(r, "modelType", "aggFunc", "unlinkChart", "suppressChartRanges") || n(a, "lineDash", "lineDashOffset"),
    "24.0.0": n(r, "chartThemeName", "chart") || n(i, "series"),
    "23.2.0": n(i, "navigator"),
    "23.0.0": n((e = (t = i == null ? void 0 : i.legend) === null || t === void 0 ? void 0 : t.item) === null || e === void 0 ? void 0 : e.marker, "shape"),
    "22.1.0": n(r, "chartPalette", "chartType")
  }, l = "27.1.0", u = Object.entries(s).filter(function(h) {
    var f = u0(h, 2);
    f[0];
    var v = f[1];
    return v;
  }), c = u0(u[0], 1), d = c[0], p = d === void 0 ? l : d;
  return p;
}
function Hr(o, t, e) {
  if (c0(o) > c0(t.version)) {
    var r = e(t);
    return r.version = o, r;
  }
  return t;
}
function u8(o) {
  var t = typeof o == "string" ? o.split(".").map(function(e) {
    return Number(e);
  }) : [];
  if (t.length !== 3 || t.some(function(e) {
    return isNaN(e);
  }))
    throw new Error("AG Grid - Illegal version string: " + o);
  return {
    major: t[0],
    minor: t[1],
    patch: t[2]
  };
}
function c0(o) {
  var t = u8(o), e = t.major, r = t.minor, n = t.patch;
  return e * 1e4 + r * 100 + n;
}
function d0(o, t, e) {
  return ta(o, !0, e, function(r, n) {
    r[n] === t && delete r[n];
  });
}
function TC(o, t, e) {
  return ta(o, !1, e, function(r, n) {
    r[n] == null && (r[n] = t);
  });
}
function Jx(o, t, e) {
  var r;
  typeof o == "string" && (o = o.split("."));
  var n = o[0];
  o.length > 1 && (e[n] = Jx(o.slice(1), t, (r = e[n]) !== null && r !== void 0 ? r : {}));
  var i = Object.keys(e).includes(n);
  return i || (e[n] = t), e;
}
function qp(o, t, e) {
  var r = void 0, n = !1;
  return e = ta(o, !0, e, function(i, a) {
    n = !0, r = i[a], delete i[a];
  }), n ? ta(t, !1, e, function(i, a) {
    i[a] = r;
  }) : e;
}
function uc(o, t, e) {
  var r = void 0, n = !1;
  return e = ta(o, !0, e, function(i, a) {
    n = !0, r = i[a], delete i[a];
  }), n ? ta(t, !1, e, function(i, a) {
    i[a] === void 0 && (i[a] = r);
  }) : e;
}
function wi(o, t, e) {
  return ta(o, !0, e, function(r, n) {
    r[t] = r[n], delete r[n];
  });
}
function gr(o, t) {
  return ta(o, !0, t, function(e, r) {
    return delete e[r];
  });
}
function ta(o, t, e, r) {
  var n = o instanceof Array ? o : o.split("."), i = n.slice(0, n.length - 1), a = n[n.length - 1];
  return to(i, e, function(s) {
    var l = Object.keys(s).includes(a);
    if (t && !l)
      return s;
    var u = ht({}, s);
    return r(u, a), u;
  });
}
function to(o, t, e) {
  var r, n, i = o instanceof Array ? o : o.split(".");
  if (t = ht({}, t), i.length === 0)
    return e(t);
  if (i[0].startsWith("{")) {
    var a = i[0].substring(1, i[0].lastIndexOf("}")).split(",");
    try {
      for (var s = XX(a), l = s.next(); !l.done; l = s.next()) {
        var u = l.value;
        t[u] != null && (t[u] = to(i.slice(1), t[u], e));
      }
    } catch (p) {
      r = { error: p };
    } finally {
      try {
        l && !l.done && (n = s.return) && n.call(s);
      } finally {
        if (r)
          throw r.error;
      }
    }
  } else if (i[0].endsWith("[]")) {
    var c = i[0].substring(0, o[0].indexOf("["));
    t[c] instanceof Array && (t[c] = t[c].map(function(p) {
      return to(i.slice(1), p, e);
    }));
  } else if (i[0] === "*")
    for (var d in t)
      t[d] = to(i.slice(1), t[d], e);
  else
    t[i[0]] != null && (t[i[0]] = to(i.slice(1), t[i[0]], e));
  return t;
}
var p0 = function(o, t) {
  return ht(ht({}, o), t);
}, c8 = {
  borneo: "ag-default",
  material: "ag-material",
  pastel: "ag-pastel",
  bright: "ag-vivid",
  flat: "ag-solar"
}, d8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ef = function() {
  return ef = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ef.apply(this, arguments);
}, Np = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, p8 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, h8 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, h0 = (
  /** @class */
  function(o) {
    d8(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.activeCharts = /* @__PURE__ */ new Set(), e.activeChartComps = /* @__PURE__ */ new Set(), e.crossFilteringContext = {
        lastSelectedChartId: ""
      }, e;
    }
    return t.prototype.updateChart = function(e) {
      if (this.activeChartComps.size === 0) {
        console.warn("AG Grid - No active charts to update.");
        return;
      }
      var r = h8([], p8(this.activeChartComps)).find(function(n) {
        return n.getChartId() === e.chartId;
      });
      if (!r) {
        console.warn("AG Grid - Unable to update chart. No active chart found with ID: " + e.chartId + ".");
        return;
      }
      r.update(e);
    }, t.prototype.getChartModels = function() {
      var e = [], r = function(n) {
        return ef(ef({}, n), { version: td });
      };
      return this.activeChartComps.forEach(function(n) {
        return e.push(r(n.getChartModel()));
      }), e;
    }, t.prototype.getChartRef = function(e) {
      var r;
      return this.activeCharts.forEach(function(n) {
        n.chartId === e && (r = n);
      }), r;
    }, t.prototype.getChartComp = function(e) {
      var r;
      return this.activeChartComps.forEach(function(n) {
        n.getChartId() === e && (r = n);
      }), r;
    }, t.prototype.getChartImageDataURL = function(e) {
      var r;
      return this.activeChartComps.forEach(function(n) {
        n.getChartId() === e.chartId && (r = n.getChartImageDataURL(e.fileFormat));
      }), r;
    }, t.prototype.downloadChart = function(e) {
      var r = Array.from(this.activeChartComps).find(function(n) {
        return n.getChartId() === e.chartId;
      });
      r == null || r.downloadChart(e.dimensions, e.fileName, e.fileFormat);
    }, t.prototype.openChartToolPanel = function(e) {
      var r = Array.from(this.activeChartComps).find(function(n) {
        return n.getChartId() === e.chartId;
      });
      r == null || r.openChartToolPanel(e.panel);
    }, t.prototype.closeChartToolPanel = function(e) {
      var r = Array.from(this.activeChartComps).find(function(n) {
        return n.getChartId() === e;
      });
      r == null || r.closeChartToolPanel();
    }, t.prototype.createChartFromCurrentRange = function(e) {
      e === void 0 && (e = "groupedColumn");
      var r = this.getSelectedRange();
      return this.createChart(r, e);
    }, t.prototype.restoreChart = function(e, r) {
      var n = this;
      if (!e) {
        console.warn("AG Grid - unable to restore chart as no chart model is provided");
        return;
      }
      e.version !== td && (e = qX(e));
      var i = {
        cellRange: e.cellRange,
        chartType: e.chartType,
        chartThemeName: e.chartThemeName,
        chartContainer: r,
        suppressChartRanges: e.suppressChartRanges,
        aggFunc: e.aggFunc,
        unlinkChart: e.unlinkChart,
        seriesChartTypes: e.seriesChartTypes
      }, a = function(d) {
        return n.rangeService ? n.rangeService.createCellRangeFromCellRangeParams(d) : void 0;
      };
      if (e.modelType === "pivot") {
        this.columnModel.isPivotMode() || this.columnModel.setPivotMode(!0, "pivotChart");
        var s = this.columnModel.getAllDisplayedColumns().map(function(d) {
          return d.getColId();
        }), l = {
          rowStartIndex: null,
          rowStartPinned: void 0,
          rowEndIndex: null,
          rowEndPinned: void 0,
          columns: s
        }, u = a(l);
        if (!u) {
          console.warn("AG Grid - unable to create chart as there are no columns in the grid.");
          return;
        }
        return this.createChart(u, i.chartType, i.chartThemeName, !0, !0, i.chartContainer, void 0, void 0, i.unlinkChart, !1, e.chartOptions);
      }
      var c = a(i.cellRange);
      if (!c) {
        console.warn("AG Grid - unable to create chart as no range is selected");
        return;
      }
      return this.createChart(c, i.chartType, i.chartThemeName, !1, i.suppressChartRanges, i.chartContainer, i.aggFunc, void 0, i.unlinkChart, !1, e.chartOptions, e.chartPalette, i.seriesChartTypes);
    }, t.prototype.createRangeChart = function(e) {
      var r, n = (r = this.rangeService) === null || r === void 0 ? void 0 : r.createCellRangeFromCellRangeParams(e.cellRange);
      if (!n) {
        console.warn("AG Grid - unable to create chart as no range is selected");
        return;
      }
      return this.createChart(n, e.chartType, e.chartThemeName, !1, e.suppressChartRanges, e.chartContainer, e.aggFunc, e.chartThemeOverrides, e.unlinkChart, void 0, void 0, void 0, e.seriesChartTypes);
    }, t.prototype.createPivotChart = function(e) {
      this.columnModel.isPivotMode() || this.columnModel.setPivotMode(!0, "pivotChart");
      var r = {
        rowStartIndex: null,
        rowStartPinned: void 0,
        rowEndIndex: null,
        rowEndPinned: void 0,
        columns: this.columnModel.getAllDisplayedColumns().map(function(i) {
          return i.getColId();
        })
      }, n = this.rangeService ? this.rangeService.createCellRangeFromCellRangeParams(r) : void 0;
      if (!n) {
        console.warn("AG Grid - unable to create chart as there are no columns in the grid.");
        return;
      }
      return this.createChart(n, e.chartType, e.chartThemeName, !0, !0, e.chartContainer, void 0, e.chartThemeOverrides, e.unlinkChart);
    }, t.prototype.createCrossFilterChart = function(e) {
      var r, n = (r = this.rangeService) === null || r === void 0 ? void 0 : r.createCellRangeFromCellRangeParams(e.cellRange);
      if (!n) {
        console.warn("AG Grid - unable to create chart as no range is selected");
        return;
      }
      var i = !0, a = typeof e.suppressChartRanges != "undefined" && e.suppressChartRanges !== null, s = a ? e.suppressChartRanges : !0;
      return this.createChart(n, e.chartType, e.chartThemeName, !1, s, e.chartContainer, e.aggFunc, e.chartThemeOverrides, e.unlinkChart, i);
    }, t.prototype.createChart = function(e, r, n, i, a, s, l, u, c, d, p, h, f) {
      var v = this;
      i === void 0 && (i = !1), a === void 0 && (a = !1), c === void 0 && (c = !1), d === void 0 && (d = !1);
      var g = this.gridOptionsService.getCallback("createChartContainer"), y = {
        chartId: this.generateId(),
        pivotChart: i,
        cellRange: e,
        chartType: r,
        chartThemeName: n,
        insideDialog: !(s || g),
        suppressChartRanges: a,
        aggFunc: l,
        chartThemeOverrides: u,
        unlinkChart: c,
        crossFiltering: d,
        crossFilteringContext: this.crossFilteringContext,
        chartOptionsToRestore: p,
        chartPaletteToRestore: h,
        seriesChartTypes: f,
        crossFilteringResetCallback: function() {
          return v.activeChartComps.forEach(function(b) {
            return b.crossFilteringReset();
          });
        }
      }, m = new l0(y);
      this.context.createBean(m);
      var C = this.createChartRef(m);
      if (s) {
        s.appendChild(m.getGui());
        var S = this.environment.getTheme();
        S.el && !S.el.contains(s) && s.classList.add(S.theme);
      } else
        g ? g(C) : m.addEventListener(l0.EVENT_DESTROYED, function() {
          v.activeChartComps.delete(m), v.activeCharts.delete(C);
        });
      return C;
    }, t.prototype.createChartRef = function(e) {
      var r = this, n = {
        destroyChart: function() {
          r.activeCharts.has(n) && (r.context.destroyBean(e), r.activeChartComps.delete(e), r.activeCharts.delete(n));
        },
        chartElement: e.getGui(),
        chart: e.getUnderlyingChart(),
        chartId: e.getChartModel().chartId
      };
      return this.activeCharts.add(n), this.activeChartComps.add(e), n;
    }, t.prototype.getSelectedRange = function() {
      var e = this.rangeService.getCellRanges();
      return e.length > 0 ? e[0] : {};
    }, t.prototype.generateId = function() {
      return "id-" + Math.random().toString(36).substring(2, 18);
    }, t.prototype.destroyAllActiveCharts = function() {
      this.activeCharts.forEach(function(e) {
        return e.destroyChart();
      });
    }, t.CHARTS_VERSION = SY, Np([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Np([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Np([
      rt
    ], t.prototype, "destroyAllActiveCharts", null), t = Np([
      q("chartService")
    ], t), t;
  }(W)
), f8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), v8 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, g8 = (
  /** @class */
  function(o) {
    f8(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.prototype.translate = function(r, n) {
      var i = this.localeService.getLocaleTextFunc(), a = e.DEFAULT_TRANSLATIONS[r] || n;
      return i(r, a);
    };
    var e;
    return t.DEFAULT_TRANSLATIONS = {
      pivotChartTitle: "Pivot Chart",
      rangeChartTitle: "Range Chart",
      settings: "Settings",
      data: "Data",
      format: "Format",
      categories: "Categories",
      defaultCategory: "(None)",
      series: "Series",
      xyValues: "X Y Values",
      paired: "Paired Mode",
      axis: "Axis",
      navigator: "Navigator",
      color: "Color",
      thickness: "Thickness",
      xType: "X Type",
      automatic: "Automatic",
      category: "Category",
      number: "Number",
      time: "Time",
      autoRotate: "Auto Rotate",
      xRotation: "X Rotation",
      yRotation: "Y Rotation",
      ticks: "Ticks",
      width: "Width",
      height: "Height",
      length: "Length",
      padding: "Padding",
      spacing: "Spacing",
      chart: "Chart",
      title: "Title",
      titlePlaceholder: "Chart title - double click to edit",
      background: "Background",
      font: "Font",
      top: "Top",
      right: "Right",
      bottom: "Bottom",
      left: "Left",
      labels: "Labels",
      calloutLabels: "Callout Labels",
      sectorLabels: "Sector Labels",
      positionRatio: "Position Ratio",
      size: "Size",
      shape: "Shape",
      minSize: "Minimum Size",
      maxSize: "Maximum Size",
      legend: "Legend",
      position: "Position",
      markerSize: "Marker Size",
      markerStroke: "Marker Stroke",
      markerPadding: "Marker Padding",
      itemSpacing: "Item Spacing",
      itemPaddingX: "Item Padding X",
      itemPaddingY: "Item Padding Y",
      layoutHorizontalSpacing: "Horizontal Spacing",
      layoutVerticalSpacing: "Vertical Spacing",
      strokeWidth: "Stroke Width",
      offset: "Offset",
      offsets: "Offsets",
      tooltips: "Tooltips",
      callout: "Callout",
      markers: "Markers",
      shadow: "Shadow",
      blur: "Blur",
      xOffset: "X Offset",
      yOffset: "Y Offset",
      lineWidth: "Line Width",
      lineDash: "Line Dash",
      normal: "Normal",
      bold: "Bold",
      italic: "Italic",
      boldItalic: "Bold Italic",
      predefined: "Predefined",
      fillOpacity: "Fill Opacity",
      strokeOpacity: "Line Opacity",
      histogramBinCount: "Bin count",
      columnGroup: "Column",
      barGroup: "Bar",
      pieGroup: "Pie",
      lineGroup: "Line",
      scatterGroup: "X Y (Scatter)",
      areaGroup: "Area",
      histogramGroup: "Histogram",
      combinationGroup: "Combination",
      groupedColumnTooltip: "Grouped",
      stackedColumnTooltip: "Stacked",
      normalizedColumnTooltip: "100% Stacked",
      groupedBarTooltip: "Grouped",
      stackedBarTooltip: "Stacked",
      normalizedBarTooltip: "100% Stacked",
      pieTooltip: "Pie",
      doughnutTooltip: "Doughnut",
      lineTooltip: "Line",
      groupedAreaTooltip: "Area",
      stackedAreaTooltip: "Stacked",
      normalizedAreaTooltip: "100% Stacked",
      scatterTooltip: "Scatter",
      bubbleTooltip: "Bubble",
      histogramTooltip: "Histogram",
      columnLineComboTooltip: "Column & Line",
      areaColumnComboTooltip: "Area & Column",
      customComboTooltip: "Custom Combination",
      noDataToChart: "No data available to be charted.",
      pivotChartRequiresPivotMode: "Pivot Chart requires Pivot Mode enabled.",
      chartSettingsToolbarTooltip: "Menu",
      chartLinkToolbarTooltip: "Linked to Grid",
      chartUnlinkToolbarTooltip: "Unlinked from Grid",
      chartDownloadToolbarTooltip: "Download Chart",
      histogramFrequency: "Frequency",
      seriesChartType: "Series Chart Type",
      seriesType: "Series Type",
      secondaryAxis: "Secondary Axis"
    }, t = e = v8([
      q("chartTranslationService")
    ], t), t;
  }(W)
), y8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Gp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, m8 = (
  /** @class */
  function(o) {
    y8(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.prototype.filter = function(r, n) {
      n === void 0 && (n = !1);
      var i = this.gridApi.getFilterModel();
      if (n) {
        this.resetFilters(i);
        return;
      }
      var a = e.extractFilterColId(r);
      this.isValidColumnFilter(a) ? this.updateFilters(i, r, a) : console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '" + a + "'");
    }, t.prototype.resetFilters = function(r) {
      var n = Object.keys(r).length > 0;
      n && (this.gridApi.setFilterModel(null), this.gridApi.onFilterChanged());
    }, t.prototype.updateFilters = function(r, n, i) {
      var a, s = e.extractFilterColId(n), l = n.datum[s];
      if (l !== void 0) {
        var u = l.toString();
        if (n.event.metaKey || n.event.ctrlKey) {
          var c = this.getCurrentGridValuesForCategory(i), d = T.includes(c, u), p = void 0;
          d ? p = c.filter(function(h) {
            return h !== u;
          }) : (p = c, p.push(u)), r[i] = this.getUpdatedFilterModel(i, p);
        } else {
          var p = [u];
          r = (a = {}, a[i] = this.getUpdatedFilterModel(i, p), a);
        }
        this.gridApi.setFilterModel(r);
      }
    }, t.prototype.getUpdatedFilterModel = function(r, n) {
      var i = this.getColumnFilterType(r);
      return i === "agMultiColumnFilter" ? { filterType: "multi", filterModels: [null, { filterType: "set", values: n }] } : { filterType: "set", values: n };
    }, t.prototype.getCurrentGridValuesForCategory = function(r) {
      var n = this, i = [], a = this.getColumnById(r);
      return this.gridApi.forEachNodeAfterFilter(function(s) {
        if (a && !s.group) {
          var l = n.valueService.getValue(a, s) + "";
          i.includes(l) || i.push(l);
        }
      }), i;
    }, t.extractFilterColId = function(r) {
      return r.xKey || r.calloutLabelKey;
    }, t.prototype.isValidColumnFilter = function(r) {
      r.indexOf("-filtered-out") && (r = r.replace("-filtered-out", ""));
      var n = this.getColumnFilterType(r);
      return typeof n == "boolean" ? n : T.includes(["agSetColumnFilter", "agMultiColumnFilter"], n);
    }, t.prototype.getColumnFilterType = function(r) {
      var n = this.getColumnById(r);
      if (n) {
        var i = n.getColDef();
        return i.filter;
      }
    }, t.prototype.getColumnById = function(r) {
      return this.columnModel.getGridColumn(r);
    };
    var e;
    return Gp([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Gp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Gp([
      w("valueService")
    ], t.prototype, "valueService", void 0), t = e = Gp([
      q("chartCrossFilterService")
    ], t), t;
  }(W)
), C8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ko = function() {
  return ko = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, ko.apply(this, arguments);
}, ai = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, cc = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, sl = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, S8 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, w8 = (
  /** @class */
  function(o) {
    C8(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.cellRanges = [], e.bodyScrollListener = e.onBodyScroll.bind(e), e.dragging = !1, e.intersectionRange = !1, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, function() {
        return e.onColumnsChanged();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VISIBLE, this.onColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, this.onColumnsChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, function() {
        return e.removeAllCellRanges();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
        return e.removeAllCellRanges();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, function() {
        return e.removeAllCellRanges();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_GROUP_OPENED, this.refreshLastRangeStart.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_MOVED, this.refreshLastRangeStart.bind(this)), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PINNED, this.refreshLastRangeStart.bind(this)), this.ctrlsService.whenReady(function() {
        var r = e.ctrlsService.getGridBodyCtrl();
        e.autoScrollService = new bf({
          scrollContainer: r.getBodyViewportElement(),
          scrollAxis: "xy",
          getVerticalPosition: function() {
            return r.getScrollFeature().getVScrollPosition().top;
          },
          setVerticalPosition: function(n) {
            return r.getScrollFeature().setVerticalScrollPosition(n);
          },
          getHorizontalPosition: function() {
            return r.getScrollFeature().getHScrollPosition().left;
          },
          setHorizontalPosition: function(n) {
            return r.getScrollFeature().setHorizontalScrollPosition(n);
          },
          shouldSkipVerticalScroll: function() {
            return !e.gridOptionsService.isDomLayout("normal");
          },
          shouldSkipHorizontalScroll: function() {
            return !r.getScrollFeature().isHorizontalScrollShowing();
          }
        });
      });
    }, t.prototype.onColumnsChanged = function() {
      var e = this;
      this.refreshLastRangeStart();
      var r = this.columnModel.getAllDisplayedColumns();
      this.cellRanges.forEach(function(i) {
        var a = i.columns;
        i.columns = i.columns.filter(function(l) {
          return l.isVisible() && r.indexOf(l) !== -1;
        });
        var s = !T.areEqual(a, i.columns);
        s && e.dispatchChangedEvent(!1, !0, i.id);
      });
      var n = this.cellRanges.length;
      this.cellRanges = this.cellRanges.filter(function(i) {
        return i.columns.length > 0;
      }), n > this.cellRanges.length && this.dispatchChangedEvent(!1, !0);
    }, t.prototype.refreshLastRangeStart = function() {
      var e = T.last(this.cellRanges);
      e && this.refreshRangeStart(e);
    }, t.prototype.isContiguousRange = function(e) {
      var r = e.columns;
      if (!r.length)
        return !1;
      var n = this.columnModel.getAllDisplayedColumns(), i = r.map(function(a) {
        return n.indexOf(a);
      }).sort(function(a, s) {
        return a - s;
      });
      return T.last(i) - i[0] + 1 === r.length;
    }, t.prototype.getRangeStartRow = function(e) {
      if (e.startRow && e.endRow)
        return this.rowPositionUtils.before(e.startRow, e.endRow) ? e.startRow : e.endRow;
      var r = this.pinnedRowModel.getPinnedTopRowCount() > 0 ? "top" : null;
      return { rowIndex: 0, rowPinned: r };
    }, t.prototype.getRangeEndRow = function(e) {
      if (e.startRow && e.endRow)
        return this.rowPositionUtils.before(e.startRow, e.endRow) ? e.endRow : e.startRow;
      var r = this.pinnedRowModel.getPinnedBottomRowCount(), n = r > 0;
      return n ? {
        rowIndex: r - 1,
        rowPinned: "bottom"
      } : {
        rowIndex: this.rowModel.getRowCount() - 1,
        rowPinned: null
      };
    }, t.prototype.setRangeToCell = function(e, r) {
      if (r === void 0 && (r = !1), !!this.gridOptionsService.isEnableRangeSelection()) {
        var n = this.calculateColumnsBetween(e.column, e.column);
        if (n) {
          var i = this.gridOptionsService.is("suppressMultiRangeSelection");
          (i || !r || T.missing(this.cellRanges)) && this.removeAllCellRanges(!0);
          var a = {
            rowIndex: e.rowIndex,
            rowPinned: e.rowPinned
          }, s = {
            startRow: a,
            endRow: a,
            columns: n,
            startColumn: e.column
          };
          this.cellRanges.push(s), this.setNewestRangeStartCell(e), this.onDragStop(), this.dispatchChangedEvent(!0, !0);
        }
      }
    }, t.prototype.extendLatestRangeToCell = function(e) {
      if (!(this.isEmpty() || !this.newestRangeStartCell)) {
        var r = T.last(this.cellRanges);
        this.updateRangeEnd(r, e);
      }
    }, t.prototype.updateRangeEnd = function(e, r, n) {
      n === void 0 && (n = !1);
      var i = r.column, a = this.calculateColumnsBetween(e.startColumn, i);
      !a || this.isLastCellOfRange(e, r) || (e.columns = a, e.endRow = { rowIndex: r.rowIndex, rowPinned: r.rowPinned }, n || this.dispatchChangedEvent(!0, !0, e.id));
    }, t.prototype.refreshRangeStart = function(e) {
      var r = e.startColumn, n = e.columns, i = function(d, p) {
        var h = e.columns.filter(function(f) {
          return f !== d;
        });
        d ? (e.startColumn = d, e.columns = p ? sl([d], cc(h)) : sl(sl([], cc(h)), [d])) : e.columns = h;
      }, a = this.getRangeEdgeColumns(e), s = a.left, l = a.right, u = r === n[0] && r !== s;
      if (u) {
        i(s, !0);
        return;
      }
      var c = r === T.last(n) && r === l;
      if (c) {
        i(l, !1);
        return;
      }
    }, t.prototype.getRangeEdgeColumns = function(e) {
      var r = this.columnModel.getAllDisplayedColumns(), n = e.columns.map(function(i) {
        return r.indexOf(i);
      }).filter(function(i) {
        return i > -1;
      }).sort(function(i, a) {
        return i - a;
      });
      return {
        left: r[n[0]],
        right: r[T.last(n)]
      };
    }, t.prototype.extendLatestRangeInDirection = function(e) {
      if (!(this.isEmpty() || !this.newestRangeStartCell)) {
        var r = e.key, n = e.ctrlKey || e.metaKey, i = T.last(this.cellRanges), a = this.newestRangeStartCell, s = i.columns[0], l = T.last(i.columns), u = i.endRow.rowIndex, c = i.endRow.rowPinned, d = a.column === s ? l : s, p = { column: d, rowIndex: u, rowPinned: c }, h = this.cellNavigationService.getNextCellToFocus(r, p, n);
        if (h)
          return this.setCellRange({
            rowStartIndex: a.rowIndex,
            rowStartPinned: a.rowPinned,
            rowEndIndex: h.rowIndex,
            rowEndPinned: h.rowPinned,
            columnStart: a.column,
            columnEnd: h.column
          }), h;
      }
    }, t.prototype.setCellRange = function(e) {
      this.gridOptionsService.isEnableRangeSelection() && (this.removeAllCellRanges(!0), this.addCellRange(e));
    }, t.prototype.setCellRanges = function(e) {
      var r = this;
      T.shallowCompare(this.cellRanges, e) || (this.removeAllCellRanges(!0), e.forEach(function(n) {
        n.columns && n.startRow && r.setNewestRangeStartCell({
          rowIndex: n.startRow.rowIndex,
          rowPinned: n.startRow.rowPinned,
          column: n.columns[0]
        }), r.cellRanges.push(n);
      }), this.dispatchChangedEvent(!1, !0));
    }, t.prototype.setNewestRangeStartCell = function(e) {
      this.newestRangeStartCell = e;
    }, t.prototype.clearCellRangeCellValues = function(e) {
      var r = this, n = e.cellRanges, i = e.cellEventSource, a = i === void 0 ? "rangeService" : i, s = e.dispatchWrapperEvents, l = e.wrapperEventSource, u = l === void 0 ? "deleteKey" : l;
      if (s) {
        var c = {
          type: R.EVENT_RANGE_DELETE_START,
          source: u
        };
        this.eventService.dispatchEvent(c);
      }
      if (n || (n = this.cellRanges), n.forEach(function(p) {
        r.forEachRowInRange(p, function(h) {
          var f = r.rowPositionUtils.getRowNode(h);
          if (f)
            for (var v = 0; v < p.columns.length; v++) {
              var g = r.columnModel.getGridColumn(p.columns[v]);
              if (!g || !g.isCellEditable(f))
                return;
              f.setDataValue(g, null, a);
            }
        });
      }), s) {
        var d = {
          type: R.EVENT_RANGE_DELETE_END,
          source: u
        };
        this.eventService.dispatchEvent(d);
      }
    }, t.prototype.createCellRangeFromCellRangeParams = function(e) {
      var r = this, n, i = !1;
      if (e.columns)
        n = e.columns.map(function(c) {
          return r.columnModel.getColumnWithValidation(c);
        }).filter(function(c) {
          return c;
        });
      else {
        var a = this.columnModel.getColumnWithValidation(e.columnStart), s = this.columnModel.getColumnWithValidation(e.columnEnd);
        if (!a || !s)
          return;
        n = this.calculateColumnsBetween(a, s), n && n.length && (i = n[0] !== a);
      }
      if (n) {
        var l = e.rowStartIndex != null ? {
          rowIndex: e.rowStartIndex,
          rowPinned: e.rowStartPinned || null
        } : void 0, u = e.rowEndIndex != null ? {
          rowIndex: e.rowEndIndex,
          rowPinned: e.rowEndPinned || null
        } : void 0;
        return {
          startRow: l,
          endRow: u,
          columns: n,
          startColumn: i ? T.last(n) : n[0]
        };
      }
    }, t.prototype.addCellRange = function(e) {
      if (this.gridOptionsService.isEnableRangeSelection()) {
        var r = this.createCellRangeFromCellRangeParams(e);
        r && (r.startRow && this.setNewestRangeStartCell({
          rowIndex: r.startRow.rowIndex,
          rowPinned: r.startRow.rowPinned,
          column: r.startColumn
        }), this.cellRanges.push(r), this.dispatchChangedEvent(!1, !0, r.id));
      }
    }, t.prototype.getCellRanges = function() {
      return this.cellRanges;
    }, t.prototype.isEmpty = function() {
      return this.cellRanges.length === 0;
    }, t.prototype.isMoreThanOneCell = function() {
      var e = this.cellRanges.length;
      if (e === 0)
        return !1;
      if (e > 1)
        return !0;
      var r = this.cellRanges[0], n = this.getRangeStartRow(r), i = this.getRangeEndRow(r);
      return n.rowPinned !== i.rowPinned || n.rowIndex !== i.rowIndex || r.columns.length !== 1;
    }, t.prototype.areAllRangesAbleToMerge = function() {
      var e, r, n = this, i = /* @__PURE__ */ new Map(), a = this.cellRanges.length;
      if (a <= 1)
        return !0;
      this.cellRanges.forEach(function(p) {
        n.forEachRowInRange(p, function(h) {
          var f = (h.rowPinned || "normal") + "_" + h.rowIndex, v = i.get(f), g = p.columns.map(function(m) {
            return m.getId();
          });
          if (v) {
            var y = g.filter(function(m) {
              return v.indexOf(m) === -1;
            });
            v.push.apply(v, sl([], cc(y)));
          } else
            i.set(f, g);
        });
      });
      var s;
      try {
        for (var l = S8(i.values()), u = l.next(); !u.done; u = l.next()) {
          var c = u.value, d = c.sort().join();
          if (s === void 0) {
            s = d;
            continue;
          }
          if (s !== d)
            return !1;
        }
      } catch (p) {
        e = { error: p };
      } finally {
        try {
          u && !u.done && (r = l.return) && r.call(l);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return !0;
    }, t.prototype.forEachRowInRange = function(e, r) {
      for (var n = this.getRangeStartRow(e), i = this.getRangeEndRow(e), a = n; a && (r(a), !this.rowPositionUtils.sameRow(a, i)); )
        a = this.cellNavigationService.getRowBelow(a);
    }, t.prototype.removeAllCellRanges = function(e) {
      this.isEmpty() || (this.onDragStop(), this.cellRanges.length = 0, e || this.dispatchChangedEvent(!1, !0));
    }, t.prototype.onBodyScroll = function() {
      this.dragging && this.lastMouseEvent && this.onDragging(this.lastMouseEvent);
    }, t.prototype.isCellInAnyRange = function(e) {
      return this.getCellRangeCount(e) > 0;
    }, t.prototype.isCellInSpecificRange = function(e, r) {
      var n = r.columns !== null && T.includes(r.columns, e.column), i = this.isRowInRange(e.rowIndex, e.rowPinned, r);
      return n && i;
    }, t.prototype.isLastCellOfRange = function(e, r) {
      var n = e.startRow, i = e.endRow, a = this.rowPositionUtils.before(n, i) ? i : n, s = r.rowIndex === a.rowIndex && r.rowPinned === a.rowPinned, l = e.columns[0], u = T.last(e.columns), c = e.startColumn === l ? u : l, d = r.column === c;
      return d && s;
    }, t.prototype.isBottomRightCell = function(e, r) {
      var n = this.columnModel.getAllDisplayedColumns(), i = e.columns.map(function(d) {
        return n.indexOf(d);
      }).sort(function(d, p) {
        return d - p;
      }), a = e.startRow, s = e.endRow, l = this.rowPositionUtils.before(a, s) ? s : a, u = n.indexOf(r.column) === T.last(i), c = r.rowIndex === l.rowIndex && T.makeNull(r.rowPinned) === T.makeNull(l.rowPinned);
      return u && c;
    }, t.prototype.getCellRangeCount = function(e) {
      var r = this;
      return this.isEmpty() ? 0 : this.cellRanges.filter(function(n) {
        return r.isCellInSpecificRange(e, n);
      }).length;
    }, t.prototype.isRowInRange = function(e, r, n) {
      var i = this.getRangeStartRow(n), a = this.getRangeEndRow(n), s = { rowIndex: e, rowPinned: r || null }, l = s.rowIndex === i.rowIndex && s.rowPinned == i.rowPinned, u = s.rowIndex === a.rowIndex && s.rowPinned == a.rowPinned;
      if (l || u)
        return !0;
      var c = !this.rowPositionUtils.before(s, i), d = this.rowPositionUtils.before(s, a);
      return c && d;
    }, t.prototype.getDraggingRange = function() {
      return this.draggingRange;
    }, t.prototype.onDragStart = function(e) {
      if (this.gridOptionsService.isEnableRangeSelection()) {
        var r = e.ctrlKey, n = e.metaKey, i = e.shiftKey, a = r || n, s = !this.gridOptionsService.is("suppressMultiRangeSelection"), l = s ? a : !1, u = i && T.existsAndNotEmpty(this.cellRanges);
        !l && (!u || T.exists(T.last(this.cellRanges).type)) && this.removeAllCellRanges(!0);
        var c = this.dragService.getStartTarget();
        if (c && this.updateValuesOnMove(c), !!this.lastCellHovered) {
          if (this.dragging = !0, this.lastMouseEvent = e, this.intersectionRange = l && this.getCellRangeCount(this.lastCellHovered) > 1, u || this.setNewestRangeStartCell(this.lastCellHovered), this.cellRanges.length > 0)
            this.draggingRange = T.last(this.cellRanges);
          else {
            var d = {
              rowIndex: this.lastCellHovered.rowIndex,
              rowPinned: this.lastCellHovered.rowPinned
            };
            this.draggingRange = {
              startRow: d,
              endRow: d,
              columns: [this.lastCellHovered.column],
              startColumn: this.newestRangeStartCell.column
            }, this.cellRanges.push(this.draggingRange);
          }
          this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener), this.dispatchChangedEvent(!0, !1, this.draggingRange.id);
        }
      }
    }, t.prototype.intersectLastRange = function(e) {
      var r = this;
      if (!(e && this.dragging) && !this.gridOptionsService.is("suppressMultiRangeSelection") && !this.isEmpty()) {
        var n = T.last(this.cellRanges), i = this.getRangeStartRow(n), a = this.getRangeEndRow(n), s = [];
        this.cellRanges.slice(0, -1).forEach(function(l) {
          var u = r.getRangeStartRow(l), c = r.getRangeEndRow(l), d = l.columns, p = d.filter(function(g) {
            return n.columns.indexOf(g) === -1;
          });
          if (p.length === d.length) {
            s.push(l);
            return;
          }
          if (r.rowPositionUtils.before(a, u) || r.rowPositionUtils.before(c, i)) {
            s.push(l);
            return;
          }
          var h = s.length;
          if (r.rowPositionUtils.before(u, i)) {
            var f = {
              columns: sl([], cc(d)),
              startColumn: n.startColumn,
              startRow: ko({}, u),
              endRow: r.cellNavigationService.getRowAbove(i)
            };
            s.push(f);
          }
          if (p.length > 0) {
            var v = {
              columns: p,
              startColumn: T.includes(p, n.startColumn) ? n.startColumn : p[0],
              startRow: r.rowPositionUtils.rowMax([ko({}, i), ko({}, u)]),
              endRow: r.rowPositionUtils.rowMin([ko({}, a), ko({}, c)])
            };
            s.push(v);
          }
          r.rowPositionUtils.before(a, c) && s.push({
            columns: sl([], cc(d)),
            startColumn: n.startColumn,
            startRow: r.cellNavigationService.getRowBelow(a),
            endRow: ko({}, c)
          }), s.length - h === 1 && (s[s.length - 1].id = l.id);
        }), this.cellRanges = s, e && this.dispatchChangedEvent(!1, !0);
      }
    }, t.prototype.updateValuesOnMove = function(e) {
      var r = T.getCtrlForEventTarget(this.gridOptionsService, e, Ko.DOM_DATA_KEY_CELL_CTRL), n = r == null ? void 0 : r.getCellPosition();
      this.cellHasChanged = !1, !(!n || this.lastCellHovered && this.cellPositionUtils.equals(n, this.lastCellHovered)) && (this.lastCellHovered && (this.cellHasChanged = !0), this.lastCellHovered = n);
    }, t.prototype.onDragging = function(e) {
      var r = this;
      if (!(!this.dragging || !e)) {
        this.updateValuesOnMove(e.target), this.lastMouseEvent = e;
        var n = this.lastCellHovered, i = function(l) {
          return n && n.rowPinned === l && r.newestRangeStartCell.rowPinned === l;
        }, a = i("top") || i("bottom");
        if (this.autoScrollService.check(e, a), !!this.cellHasChanged) {
          var s = this.calculateColumnsBetween(this.newestRangeStartCell.column, n.column);
          s && (this.draggingRange.endRow = {
            rowIndex: n.rowIndex,
            rowPinned: n.rowPinned
          }, this.draggingRange.columns = s, this.dispatchChangedEvent(!1, !1, this.draggingRange.id));
        }
      }
    }, t.prototype.onDragStop = function() {
      if (this.dragging) {
        var e = this.draggingRange.id;
        this.autoScrollService.ensureCleared(), this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener), this.lastMouseEvent = null, this.dragging = !1, this.draggingRange = void 0, this.lastCellHovered = void 0, this.intersectionRange && (this.intersectionRange = !1, this.intersectLastRange()), this.dispatchChangedEvent(!1, !0, e);
      }
    }, t.prototype.dispatchChangedEvent = function(e, r, n) {
      var i = {
        type: R.EVENT_RANGE_SELECTION_CHANGED,
        started: e,
        finished: r,
        id: n
      };
      this.eventService.dispatchEvent(i);
    }, t.prototype.calculateColumnsBetween = function(e, r) {
      var n = this.columnModel.getAllDisplayedColumns(), i = e === r, a = n.indexOf(e);
      if (a < 0) {
        console.warn("AG Grid: column " + e.getId() + " is not visible");
        return;
      }
      var s = i ? a : n.indexOf(r);
      if (s < 0) {
        console.warn("AG Grid: column " + r.getId() + " is not visible");
        return;
      }
      if (i)
        return [e];
      for (var l = Math.min(a, s), u = l === a ? s : a, c = [], d = l; d <= u; d++)
        c.push(n[d]);
      return c;
    }, ai([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), ai([
      w("dragService")
    ], t.prototype, "dragService", void 0), ai([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ai([
      w("cellNavigationService")
    ], t.prototype, "cellNavigationService", void 0), ai([
      w("pinnedRowModel")
    ], t.prototype, "pinnedRowModel", void 0), ai([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), ai([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), ai([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), ai([
      V
    ], t.prototype, "init", null), t = ai([
      q("rangeService")
    ], t), t;
  }(W)
), _8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Nn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, eT = (
  /** @class */
  function(o) {
    _8(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.changedCalculatedValues = !1, e.dragging = !1, e.shouldDestroyOnEndDragging = !1, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.dragService.addDragSource({
        dragStartPixels: 0,
        eElement: this.getGui(),
        onDragStart: this.onDragStart.bind(this),
        onDragging: function(r) {
          e.dragging = !0, e.rangeService.autoScrollService.check(r), e.changedCalculatedValues && (e.onDrag(r), e.changedCalculatedValues = !1);
        },
        onDragStop: function(r) {
          e.dragging = !1, e.onDragEnd(r), e.clearValues(), e.rangeService.autoScrollService.ensureCleared(), document.body.classList.remove(e.getDraggingCssClass()), e.shouldDestroyOnEndDragging && e.destroy();
        }
      }), this.addManagedListener(this.getGui(), "mousedown", this.preventRangeExtension.bind(this));
    }, t.prototype.isDragging = function() {
      return this.dragging;
    }, t.prototype.getCellCtrl = function() {
      return this.cellCtrl;
    }, t.prototype.setCellCtrl = function(e) {
      this.cellCtrl = e;
    }, t.prototype.getCellRange = function() {
      return this.cellRange;
    }, t.prototype.setCellRange = function(e) {
      this.cellRange = e;
    }, t.prototype.getRangeStartRow = function() {
      return this.rangeStartRow;
    }, t.prototype.setRangeStartRow = function(e) {
      this.rangeStartRow = e;
    }, t.prototype.getRangeEndRow = function() {
      return this.rangeEndRow;
    }, t.prototype.setRangeEndRow = function(e) {
      this.rangeEndRow = e;
    }, t.prototype.getLastCellHovered = function() {
      return this.lastCellHovered;
    }, t.prototype.preventRangeExtension = function(e) {
      e.stopPropagation();
    }, t.prototype.onDragStart = function(e) {
      this.cellHoverListener = this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(), "mousemove", this.updateValuesOnMove.bind(this)), document.body.classList.add(this.getDraggingCssClass());
    }, t.prototype.getDraggingCssClass = function() {
      return "ag-dragging-" + (this.type === Zo.FILL ? "fill" : "range") + "-handle";
    }, t.prototype.updateValuesOnMove = function(e) {
      var r = this.mouseEventService.getCellPositionForEvent(e);
      !r || this.lastCellHovered && this.cellPositionUtils.equals(r, this.lastCellHovered) || (this.lastCellHovered = r, this.changedCalculatedValues = !0);
    }, t.prototype.getType = function() {
      return this.type;
    }, t.prototype.refresh = function(e) {
      var r = this.getCellCtrl(), n = this.getGui(), i = T.last(this.rangeService.getCellRanges()), a = i.startRow, s = i.endRow;
      if (a && s) {
        var l = this.rowPositionUtils.before(s, a);
        l ? (this.setRangeStartRow(s), this.setRangeEndRow(a)) : (this.setRangeStartRow(a), this.setRangeEndRow(s));
      }
      if (r !== e || !T.isVisible(n)) {
        this.setCellCtrl(e);
        var u = e.getComp().getParentOfValue();
        u && u.appendChild(n);
      }
      this.setCellRange(i);
    }, t.prototype.clearValues = function() {
      this.lastCellHovered = void 0, this.removeListeners();
    }, t.prototype.removeListeners = function() {
      this.cellHoverListener && (this.cellHoverListener(), this.cellHoverListener = void 0);
    }, t.prototype.destroy = function() {
      if (!this.shouldDestroyOnEndDragging && this.isDragging()) {
        T.setDisplayed(this.getGui(), !1), this.shouldDestroyOnEndDragging = !0;
        return;
      }
      this.shouldDestroyOnEndDragging = !1, o.prototype.destroy.call(this), this.removeListeners();
      var e = this.getGui();
      e.parentElement && e.parentElement.removeChild(e);
    }, Nn([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Nn([
      w("dragService")
    ], t.prototype, "dragService", void 0), Nn([
      w("rangeService")
    ], t.prototype, "rangeService", void 0), Nn([
      w("mouseEventService")
    ], t.prototype, "mouseEventService", void 0), Nn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Nn([
      w("cellNavigationService")
    ], t.prototype, "cellNavigationService", void 0), Nn([
      w("navigationService")
    ], t.prototype, "navigationService", void 0), Nn([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), Nn([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), Nn([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Nn([
      V
    ], t.prototype, "init", null), t;
  }(te)
);
function b8(o) {
  var t = o.length, e = 0;
  if (t <= 1)
    return o;
  for (var r = 0; r < o.length; r++) {
    var n = o[r], i = n.toString().split("e-");
    if (i.length > 1) {
      e = Math.max(e, parseInt(i[1], 10));
      continue;
    }
    Math.floor(n) !== n && (e = Math.max(e, n.toString().split(".")[1].length));
  }
  for (var a = 0, s = 0, l = 0, u = 0, c = 0, d = 0; d < t; d++)
    c = o[d], a += d, s += c, u += d * d, l += d * c;
  for (var p = (t * l - a * s) / (t * u - a * a), h = s / t - p * a / t, f = [], d = 0; d <= t; d++)
    f.push(parseFloat((d * p + h).toFixed(e)));
  return f;
}
var E8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Al = function() {
  return Al = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Al.apply(this, arguments);
}, Ig = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, O8 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, x8 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, tT = (
  /** @class */
  function(o) {
    E8(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.markedCells = [], e.cellValues = [], e.isUp = !1, e.isLeft = !1, e.isReduce = !1, e.type = Zo.FILL, e;
    }
    return t.prototype.updateValuesOnMove = function(e) {
      o.prototype.updateValuesOnMove.call(this, e), this.initialXY || (this.initialXY = this.mouseEventService.getNormalisedPosition(e));
      var r = this.initialXY, n = r.x, i = r.y, a = this.mouseEventService.getNormalisedPosition(e), s = a.x, l = a.y, u = Math.abs(n - s), c = Math.abs(i - l), d = this.getFillHandleDirection(), p;
      d === "xy" ? p = u > c ? "x" : "y" : p = d, p !== this.dragAxis && (this.dragAxis = p, this.changedCalculatedValues = !0);
    }, t.prototype.onDrag = function(e) {
      if (!this.initialPosition) {
        var r = this.getCellCtrl();
        if (!r)
          return;
        this.initialPosition = r.getCellPosition();
      }
      var n = this.getLastCellHovered();
      n && this.markPathFrom(this.initialPosition, n);
    }, t.prototype.onDragEnd = function(e) {
      if (this.initialXY = null, !!this.markedCells.length) {
        var r = this.dragAxis === "x", n = this.getCellRange(), i = n.columns.length, a = this.getRangeStartRow(), s = this.getRangeEndRow(), l;
        if (!this.isUp && !this.isLeft)
          l = this.rangeService.createCellRangeFromCellRangeParams({
            rowStartIndex: a.rowIndex,
            rowStartPinned: a.rowPinned,
            columnStart: n.columns[0],
            rowEndIndex: r ? s.rowIndex : this.lastCellMarked.rowIndex,
            rowEndPinned: r ? s.rowPinned : this.lastCellMarked.rowPinned,
            columnEnd: r ? this.lastCellMarked.column : n.columns[i - 1]
          });
        else {
          var u = r ? a : this.lastCellMarked;
          l = this.rangeService.createCellRangeFromCellRangeParams({
            rowStartIndex: u.rowIndex,
            rowStartPinned: u.rowPinned,
            columnStart: r ? this.lastCellMarked.column : n.columns[0],
            rowEndIndex: s.rowIndex,
            rowEndPinned: s.rowPinned,
            columnEnd: n.columns[i - 1]
          });
        }
        l && (this.raiseFillStartEvent(), this.handleValueChanged(n, l, e), this.rangeService.setCellRanges([l]), this.raiseFillEndEvent(n, l));
      }
    }, t.prototype.getFillHandleDirection = function() {
      var e = this.gridOptionsService.get("fillHandleDirection");
      return e ? e !== "x" && e !== "y" && e !== "xy" ? (T.doOnce(function() {
        return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.");
      }, "warn invalid fill direction"), "xy") : e : "xy";
    }, t.prototype.raiseFillStartEvent = function() {
      var e = {
        type: R.EVENT_FILL_START
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.raiseFillEndEvent = function(e, r) {
      var n = {
        type: R.EVENT_FILL_END,
        initialRange: e,
        finalRange: r
      };
      this.eventService.dispatchEvent(n);
    }, t.prototype.handleValueChanged = function(e, r, n) {
      var i = this, a = this.rangeService.getRangeEndRow(e), s = this.rangeService.getRangeStartRow(e), l = this.rangeService.getRangeEndRow(r), u = this.rangeService.getRangeStartRow(r), c = this.dragAxis === "y";
      if (this.isReduce && !this.gridOptionsService.is("suppressClearOnFillReduction")) {
        var d = c ? e.columns : e.columns.filter(function(S) {
          return r.columns.indexOf(S) < 0;
        }), p = c ? this.cellNavigationService.getRowBelow(l) : u;
        p && this.clearCellsInRange(p, a, d);
        return;
      }
      var h = !0, f = [], v = [], g = 0, y = function() {
        f.length = 0, v.length = 0, g = 0;
      }, m = function(S, b) {
        var _ = i.isUp ? a : s, O = !1;
        c && (h = !0, y());
        for (var E = function() {
          var x = i.rowPositionUtils.getRowNode(_);
          if (!x)
            return "break";
          c && S ? C(f, S, x, function() {
            return !i.rowPositionUtils.sameRow(_, i.isUp ? s : a);
          }) : b && (h = !0, y(), b.forEach(function(P) {
            return C(f, P, x, function() {
              return P !== (i.isLeft ? e.columns[0] : T.last(e.columns));
            });
          })), O = i.rowPositionUtils.sameRow(_, i.isUp ? u : l), _ = i.isUp ? i.cellNavigationService.getRowAbove(_) : i.cellNavigationService.getRowBelow(_);
        }; !O && _; ) {
          var D = E();
          if (D === "break")
            break;
        }
      }, C = function(S, b, _, O) {
        var E, D, x, P = !1;
        if (h)
          x = i.valueService.getValue(b, _), v.push(x), h = O();
        else {
          var M = i.processValues(n, S, v, b, _, g++), F = M.value, I = M.fromUserFunction, N = M.sourceCol, k = M.sourceRowNode;
          if (x = F, b.isCellEditable(_)) {
            var L = i.valueService.getValue(b, _);
            I || (!((E = N == null ? void 0 : N.getColDef()) === null || E === void 0) && E.useValueFormatterForExport && (x = (D = i.valueFormatterService.formatValue(N, k, x)) !== null && D !== void 0 ? D : x), b.getColDef().useValueParserForImport && (x = i.valueParserService.parseValue(
              b,
              _,
              // if no sourceCol, then currentValue is a number
              N ? x : T.toStringOrNull(x),
              L
            ))), !I || L !== x ? _.setDataValue(b, x, "rangeService") : P = !0;
          }
        }
        P || S.push({
          value: x,
          column: b,
          rowNode: _
        });
      };
      if (c)
        e.columns.forEach(function(S) {
          m(S);
        });
      else {
        var d = this.isLeft ? x8([], O8(r.columns)).reverse() : r.columns;
        m(void 0, d);
      }
    }, t.prototype.clearCellsInRange = function(e, r, n) {
      var i = {
        startRow: e,
        endRow: r,
        columns: n,
        startColumn: n[0]
      };
      this.rangeService.clearCellRangeCellValues({ cellRanges: [i] });
    }, t.prototype.processValues = function(e, r, n, i, a, s) {
      var l = this.gridOptionsService.getCallback("fillOperation"), u = this.dragAxis === "y", c;
      if (u ? c = this.isUp ? "up" : "down" : c = this.isLeft ? "left" : "right", l) {
        var d = {
          event: e,
          values: r.map(function(C) {
            var S = C.value;
            return S;
          }),
          initialValues: n,
          currentIndex: s,
          currentCellValue: this.valueService.getValue(i, a),
          direction: c,
          column: i,
          rowNode: a
        }, p = l(d);
        if (p !== !1)
          return { value: p, fromUserFunction: !0 };
      }
      var h = !r.some(function(C) {
        var S = C.value, b = parseFloat(S);
        return isNaN(b) || b.toString() !== S.toString();
      });
      if (e.altKey || !h) {
        if (h && n.length === 1) {
          var f = this.isUp || this.isLeft ? -1 : 1;
          return { value: parseFloat(T.last(r).value) + 1 * f, fromUserFunction: !1 };
        }
        var v = r[s % r.length], g = v.value, y = v.column, m = v.rowNode;
        return { value: g, fromUserFunction: !1, sourceCol: y, sourceRowNode: m };
      }
      return { value: T.last(b8(r.map(function(C) {
        var S = C.value;
        return Number(S);
      }))), fromUserFunction: !1 };
    }, t.prototype.clearValues = function() {
      this.clearMarkedPath(), this.clearCellValues(), this.lastCellMarked = void 0, o.prototype.clearValues.call(this);
    }, t.prototype.clearMarkedPath = function() {
      this.markedCells.forEach(function(e) {
        if (e.isAlive()) {
          var r = e.getComp();
          r.addOrRemoveCssClass("ag-selection-fill-top", !1), r.addOrRemoveCssClass("ag-selection-fill-right", !1), r.addOrRemoveCssClass("ag-selection-fill-bottom", !1), r.addOrRemoveCssClass("ag-selection-fill-left", !1);
        }
      }), this.markedCells.length = 0, this.isUp = !1, this.isLeft = !1, this.isReduce = !1;
    }, t.prototype.clearCellValues = function() {
      this.cellValues.length = 0;
    }, t.prototype.markPathFrom = function(e, r) {
      if (this.clearMarkedPath(), this.clearCellValues(), this.dragAxis === "y") {
        if (this.rowPositionUtils.sameRow(r, e))
          return;
        var n = this.rowPositionUtils.before(r, e), i = this.getRangeStartRow(), a = this.getRangeEndRow();
        n && (r.rowPinned == i.rowPinned && r.rowIndex >= i.rowIndex || i.rowPinned != a.rowPinned && r.rowPinned == a.rowPinned && r.rowIndex <= a.rowIndex) ? (this.reduceVertical(e, r), this.isReduce = !0) : (this.extendVertical(e, r, n), this.isReduce = !1);
      } else {
        var s = e.column, l = r.column;
        if (s === l)
          return;
        var u = this.columnModel.getAllDisplayedColumns(), c = u.indexOf(s), d = u.indexOf(l);
        d <= c && d >= u.indexOf(this.getCellRange().columns[0]) ? (this.reduceHorizontal(e, r), this.isReduce = !0) : (this.extendHorizontal(e, r, d < c), this.isReduce = !1);
      }
      this.lastCellMarked = r;
    }, t.prototype.extendVertical = function(e, r, n) {
      var i = this, a = i.navigationService, s = i.rangeService, l = e;
      do {
        for (var u = this.getCellRange(), c = u.columns.length, d = 0; d < c; d++) {
          var p = u.columns[d], h = { rowIndex: l.rowIndex, rowPinned: l.rowPinned }, f = Al(Al({}, h), { column: p }), v = s.isCellInSpecificRange(f, u), g = this.rowPositionUtils.sameRow(l, e);
          if (n && (this.isUp = !0), !g) {
            var y = a.getCellByPosition(f);
            if (y) {
              this.markedCells.push(y);
              var m = y.getComp();
              v || (m.addOrRemoveCssClass("ag-selection-fill-left", d === 0), m.addOrRemoveCssClass("ag-selection-fill-right", d === c - 1)), m.addOrRemoveCssClass(n ? "ag-selection-fill-top" : "ag-selection-fill-bottom", this.rowPositionUtils.sameRow(l, r));
            }
          }
        }
        if (this.rowPositionUtils.sameRow(l, r))
          break;
      } while (
        // tslint:disable-next-line
        l = n ? this.cellNavigationService.getRowAbove(l) : this.cellNavigationService.getRowBelow(l)
      );
    }, t.prototype.reduceVertical = function(e, r) {
      var n = e;
      do {
        for (var i = this.getCellRange(), a = i.columns.length, s = this.rowPositionUtils.sameRow(n, r), l = 0; l < a; l++) {
          var u = { rowIndex: n.rowIndex, rowPinned: n.rowPinned }, c = Al(Al({}, u), { column: i.columns[l] }), d = this.navigationService.getCellByPosition(c);
          if (d) {
            this.markedCells.push(d);
            var p = d.getComp();
            p.addOrRemoveCssClass("ag-selection-fill-bottom", this.rowPositionUtils.sameRow(n, r));
          }
        }
        if (s)
          break;
      } while (n = this.cellNavigationService.getRowAbove(n));
    }, t.prototype.extendHorizontal = function(e, r, n) {
      var i = this, a = this.columnModel.getAllDisplayedColumns(), s = a.indexOf(n ? r.column : e.column), l = a.indexOf(n ? this.getCellRange().columns[0] : r.column), u = n ? 0 : 1, c = a.slice(s + u, l + u), d = this.getRangeStartRow(), p = this.getRangeEndRow();
      c.forEach(function(h) {
        var f = d, v = !1;
        do {
          v = i.rowPositionUtils.sameRow(f, p);
          var g = i.navigationService.getCellByPosition({
            rowIndex: f.rowIndex,
            rowPinned: f.rowPinned,
            column: h
          });
          if (g) {
            i.markedCells.push(g);
            var y = g.getComp();
            y.addOrRemoveCssClass("ag-selection-fill-top", i.rowPositionUtils.sameRow(f, d)), y.addOrRemoveCssClass("ag-selection-fill-bottom", i.rowPositionUtils.sameRow(f, p)), n ? (i.isLeft = !0, y.addOrRemoveCssClass("ag-selection-fill-left", h === c[0])) : y.addOrRemoveCssClass("ag-selection-fill-right", h === T.last(c));
          }
          f = i.cellNavigationService.getRowBelow(f);
        } while (!v);
      });
    }, t.prototype.reduceHorizontal = function(e, r) {
      var n = this, i = this.columnModel.getAllDisplayedColumns(), a = i.indexOf(r.column), s = i.indexOf(e.column), l = i.slice(a, s), u = this.getRangeStartRow(), c = this.getRangeEndRow();
      l.forEach(function(d) {
        var p = u, h = !1;
        do {
          h = n.rowPositionUtils.sameRow(p, c);
          var f = n.navigationService.getCellByPosition({
            rowIndex: p.rowIndex,
            rowPinned: p.rowPinned,
            column: d
          });
          if (f) {
            n.markedCells.push(f);
            var v = f.getComp();
            v.addOrRemoveCssClass("ag-selection-fill-right", d === l[0]);
          }
          p = n.cellNavigationService.getRowBelow(p);
        } while (!h);
      });
    }, t.prototype.refresh = function(e) {
      var r = this.rangeService.getCellRanges()[0], n = !r.startRow || !r.endRow;
      if (n) {
        this.destroy();
        return;
      }
      o.prototype.refresh.call(this, e);
    }, t.TEMPLATE = '<div class="ag-fill-handle"></div>', Ig([
      w("valueService")
    ], t.prototype, "valueService", void 0), Ig([
      w("valueParserService")
    ], t.prototype, "valueParserService", void 0), Ig([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), t;
  }(eT)
), T8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), tf = function() {
  return tf = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, tf.apply(this, arguments);
}, rT = (
  /** @class */
  function(o) {
    T8(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.type = Zo.RANGE, e.rangeFixed = !1, e;
    }
    return t.prototype.onDrag = function(e) {
      var r = this.getLastCellHovered();
      if (r) {
        var n = this.rangeService.getCellRanges(), i = T.last(n);
        if (this.rangeFixed || (this.fixRangeStartEnd(i), this.rangeFixed = !0), this.endPosition = {
          rowIndex: r.rowIndex,
          rowPinned: r.rowPinned,
          column: r.column
        }, n.length === 2 && n[0].type === Yr.DIMENSION && i.type === Yr.VALUE) {
          var a = !this.rowPositionUtils.sameRow(this.endPosition, this.rangeService.getRangeEndRow(i));
          a && this.rangeService.updateRangeEnd(n[0], tf(tf({}, this.endPosition), { column: n[0].columns[0] }), !0);
        }
        this.rangeService.extendLatestRangeToCell(this.endPosition);
      }
    }, t.prototype.onDragEnd = function(e) {
      var r = T.last(this.rangeService.getCellRanges());
      this.fixRangeStartEnd(r), this.rangeFixed = !1;
    }, t.prototype.fixRangeStartEnd = function(e) {
      var r = this.rangeService.getRangeStartRow(e), n = this.rangeService.getRangeEndRow(e), i = e.columns[0];
      e.startRow = r, e.endRow = n, e.startColumn = i;
    }, t.TEMPLATE = '<div class="ag-range-handle"></div>', t;
  }(eT)
), R8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), D8 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, P8 = (
  /** @class */
  function(o) {
    R8(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.createSelectionHandle = function(e) {
      return this.createBean(e === Zo.RANGE ? new rT() : new tT());
    }, t = D8([
      q("selectionHandleFactory")
    ], t), t;
  }(W)
), A8 = "30.0.6", nT = {
  version: A8,
  moduleName: Z.RangeSelectionModule,
  beans: [w8, P8],
  agStackComponents: [
    { componentName: "AgFillHandle", componentClass: tT },
    { componentName: "AgRangeHandle", componentClass: rT }
  ],
  dependantModules: [
    cr
  ]
}, M8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ui = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, I8 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, F8 = (
  /** @class */
  function(o) {
    M8(t, o);
    function t(e) {
      var r = o.call(this, t.TEMPLATE) || this;
      return r.H = 1, r.S = 1, r.B = 1, r.A = 1, r.isSpectrumDragging = !1, r.isSpectrumHueDragging = !1, r.isSpectrumAlphaDragging = !1, r.colorChanged = !1, r.picker = e.picker, r;
    }
    return t.prototype.postConstruct = function() {
      var e = this.getGui();
      this.initRecentColors(), this.addManagedListener(this.spectrumVal, "mousedown", this.onSpectrumDraggerDown.bind(this)), this.addManagedListener(e, "mousemove", this.onSpectrumDraggerMove.bind(this)), this.addManagedListener(this.spectrumHue, "mousedown", this.onSpectrumHueDown.bind(this)), this.addManagedListener(e, "mousemove", this.onSpectrumHueMove.bind(this)), this.addManagedListener(this.spectrumAlpha, "mousedown", this.onSpectrumAlphaDown.bind(this)), this.addManagedListener(e, "mousemove", this.onSpectrumAlphaMove.bind(this)), this.addManagedListener(document, "mouseup", this.onMouseUp.bind(this)), this.addManagedListener(this.recentColors, "click", this.onRecentColorClick.bind(this));
    }, t.prototype.refreshSpectrumRect = function() {
      return this.spectrumValRect = this.spectrumVal.getBoundingClientRect();
    }, t.prototype.refreshHueRect = function() {
      return this.spectrumHueRect = this.spectrumHue.getBoundingClientRect();
    }, t.prototype.refreshAlphaRect = function() {
      return this.spectrumAlphaRect = this.spectrumAlpha.getBoundingClientRect();
    }, t.prototype.onSpectrumDraggerDown = function(e) {
      this.refreshSpectrumRect(), this.isSpectrumDragging = !0, this.moveDragger(e);
    }, t.prototype.onSpectrumDraggerMove = function(e) {
      this.isSpectrumDragging && this.moveDragger(e);
    }, t.prototype.onSpectrumHueDown = function(e) {
      this.refreshHueRect(), this.isSpectrumHueDragging = !0, this.moveHueSlider(e);
    }, t.prototype.onSpectrumHueMove = function(e) {
      this.isSpectrumHueDragging && this.moveHueSlider(e);
    }, t.prototype.onSpectrumAlphaDown = function(e) {
      this.refreshAlphaRect(), this.isSpectrumAlphaDragging = !0, this.moveAlphaSlider(e);
    }, t.prototype.onSpectrumAlphaMove = function(e) {
      this.isSpectrumAlphaDragging && this.moveAlphaSlider(e);
    }, t.prototype.onMouseUp = function() {
      this.isSpectrumDragging = !1, this.isSpectrumHueDragging = !1, this.isSpectrumAlphaDragging = !1;
    }, t.prototype.moveDragger = function(e) {
      var r = this.spectrumValRect;
      if (r) {
        var n = e.clientX - r.left, i = e.clientY - r.top;
        n = Math.max(n, 0), n = Math.min(n, r.width), i = Math.max(i, 0), i = Math.min(i, r.height), this.setSpectrumValue(n / r.width, 1 - i / r.height);
      }
    }, t.prototype.moveHueSlider = function(e) {
      var r = this.spectrumHueRect;
      if (r) {
        var n = this.spectrumHueSlider, i = n.getBoundingClientRect(), a = e.clientX - r.left;
        a = Math.max(a, 0), a = Math.min(a, r.width), this.H = 1 - a / r.width, n.style.left = a + i.width / 2 + "px", this.update();
      }
    }, t.prototype.moveAlphaSlider = function(e) {
      var r = this.spectrumAlphaRect;
      if (r) {
        var n = this.spectrumAlphaSlider, i = n.getBoundingClientRect(), a = e.clientX - r.left;
        a = Math.max(a, 0), a = Math.min(a, r.width), this.A = a / r.width, n.style.left = a + i.width / 2 + "px", this.update();
      }
    }, t.prototype.update = function() {
      var e = Nt.fromHSB(this.H * 360, this.S, this.B, this.A), r = Nt.fromHSB(this.H * 360, 1, 1), n = e.toRgbaString(), i = this.picker, a = Nt.fromString(i.getValue());
      a.toRgbaString() !== n && (this.colorChanged = !0), i.setValue(n), this.spectrumColor.style.backgroundColor = r.toRgbaString(), this.spectrumDragger.style.backgroundColor = n;
    }, t.prototype.setSpectrumValue = function(e, r) {
      var n = this.spectrumValRect || this.refreshSpectrumRect();
      if (n) {
        var i = this.spectrumDragger, a = i.getBoundingClientRect();
        e = Math.max(0, e), e = Math.min(1, e), r = Math.max(0, r), r = Math.min(1, r), this.S = e, this.B = r, i.style.left = e * n.width - a.width / 2 + "px", i.style.top = (1 - r) * n.height - a.height / 2 + "px", this.update();
      }
    }, t.prototype.initRecentColors = function() {
      var e = t.recentColors, r = e.map(function(n, i) {
        return '<div class="ag-recent-color" id=' + i + ' style="background-color: ' + n + '; width: 15px; height: 15px;" recent-color="' + n + '"></div>';
      });
      this.recentColors.innerHTML = r.join("");
    }, t.prototype.setValue = function(e) {
      var r = Nt.fromString(e), n = I8(r.toHSB(), 3), i = n[0], a = n[1], s = n[2];
      this.H = (isNaN(i) ? 0 : i) / 360, this.A = r.a;
      var l = this.spectrumHueRect || this.refreshHueRect(), u = this.spectrumAlphaRect || this.refreshAlphaRect();
      this.spectrumHueSlider.style.left = (this.H - 1) * -l.width + "px", this.spectrumAlphaSlider.style.left = this.A * u.width + "px", this.setSpectrumValue(a, s);
    }, t.prototype.onRecentColorClick = function(e) {
      var r = e.target;
      if (T.exists(r.id)) {
        var n = parseInt(r.id, 10);
        this.setValue(t.recentColors[n]), this.destroy();
      }
    }, t.prototype.addRecentColor = function() {
      var e = Nt.fromHSB(this.H * 360, this.S, this.B, this.A), r = e.toRgbaString(), n = t.recentColors;
      !this.colorChanged || n[0] === r || (n = n.filter(function(i) {
        return i != r;
      }), n = [r].concat(n), n.length > t.maxRecentColors && (n = n.slice(0, t.maxRecentColors)), t.recentColors = n);
    }, t.prototype.destroy = function() {
      this.addRecentColor(), o.prototype.destroy.call(this);
    }, t.maxRecentColors = 8, t.recentColors = [], t.TEMPLATE = `<div class="ag-color-panel">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`, Ui([
      G("spectrumColor")
    ], t.prototype, "spectrumColor", void 0), Ui([
      G("spectrumVal")
    ], t.prototype, "spectrumVal", void 0), Ui([
      G("spectrumDragger")
    ], t.prototype, "spectrumDragger", void 0), Ui([
      G("spectrumHue")
    ], t.prototype, "spectrumHue", void 0), Ui([
      G("spectrumHueSlider")
    ], t.prototype, "spectrumHueSlider", void 0), Ui([
      G("spectrumAlpha")
    ], t.prototype, "spectrumAlpha", void 0), Ui([
      G("spectrumAlphaSlider")
    ], t.prototype, "spectrumAlphaSlider", void 0), Ui([
      G("recentColors")
    ], t.prototype, "recentColors", void 0), Ui([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), L8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), N8 = (
  /** @class */
  function(o) {
    L8(t, o);
    function t(e) {
      var r = o.call(this, e, "ag-color-picker", "colorPicker") || this;
      return e && e.color && (r.value = e.color), r;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this), this.value && this.setValue(this.value);
    }, t.prototype.showPicker = function() {
      var e = this, r = this.getGui().getBoundingClientRect(), n = this.createBean(new gh({
        closable: !1,
        modal: !0,
        hideTitleBar: !0,
        minWidth: 190,
        width: 190,
        height: 250,
        x: r.right - 190,
        y: r.top - 250
      }));
      this.isPickerDisplayed = !0, n.addCssClass("ag-color-dialog"), T.setAriaExpanded(this.eWrapper, !0);
      var i = this.createBean(new F8({ picker: this }));
      return i.addDestroyFunc(function() {
        n.isAlive() && e.destroyBean(n);
      }), n.setParentComponent(this), n.setBodyComponent(i), i.setValue(this.getValue()), n.addDestroyFunc(function() {
        e.isDestroyingPicker ? e.isDestroyingPicker = !1 : (e.isDestroyingPicker = !0, i.isAlive() && e.destroyBean(i)), e.isAlive() && (T.setAriaExpanded(e.eWrapper, !1), e.getFocusableElement().focus()), e.isPickerDisplayed = !1;
      }), n;
    }, t.prototype.setValue = function(e) {
      return this.value === e ? this : (this.eDisplayField.style.backgroundColor = e, o.prototype.setValue.call(this, e));
    }, t.prototype.getValue = function() {
      return this.value;
    }, t;
  }(SE)
), Wy = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, iT = 28, oT = 6;
function $y(o) {
  return o && o.match(/\d+\.\d+\.\d+/);
}
function G8(o) {
  var t = o.gridMajorVersion, e = o.chartsMajorVersion, r = parseInt(t, 10), n = parseInt(e, 10), i = r - iT, a = n - oT, s = i >= 0;
  return i === a && s;
}
function k8(o) {
  if (!(!o || !$y(o))) {
    var t = Wy(o.split(".") || [], 2), e = t[0], r = t[1], n = e + "." + r + ".x", i = parseInt(e, 10), a = i - iT + oT;
    if (!(a < 0)) {
      var s = r, l = a + "." + s + ".x";
      return {
        gridMajorMinor: n,
        chartsMajorMinor: l
      };
    }
  }
}
function kp(o) {
  var t = o.type, e = o.gridVersion, r = o.chartsVersion, n = "AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";
  if (!e)
    return n;
  var i = k8(e);
  if (!i)
    return n;
  var a = i.gridMajorMinor, s = i.chartsMajorMinor;
  return t === "incompatible" ? "AG Grid version " + e + " and AG Charts version " + r + " is not supported. AG Grid version " + a + " should be used with AG Chart " + s + ". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information." : t === "invalidCharts" ? "AG Grid version " + a + " should be used with AG Chart " + s + ". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information." : n;
}
function V8(o) {
  var t = o.gridVersion, e = o.chartsVersion;
  if (!$y(e))
    return {
      isValid: !1,
      message: kp({ type: "invalidCharts", gridVersion: t, chartsVersion: e })
    };
  if (!$y(t))
    return {
      isValid: !1,
      message: kp({ type: "invalidGrid", gridVersion: t, chartsVersion: e })
    };
  var r = Wy(t.split(".") || [], 2), n = r[0], i = r[1], a = Wy(e.split(".") || [], 2), s = a[0], l = a[1], u = G8({
    gridMajorVersion: n,
    chartsMajorVersion: s
  });
  return u && i === l ? {
    isValid: !0
  } : !u || i !== l ? {
    isValid: !1,
    message: kp({ type: "incompatible", gridVersion: t, chartsVersion: e })
  } : {
    isValid: !1,
    message: kp({ type: "invalid", gridVersion: t, chartsVersion: e })
  };
}
var B8 = {
  version: td,
  validate: function() {
    return V8({
      gridVersion: td,
      chartsVersion: h0.CHARTS_VERSION
    });
  },
  moduleName: Z.GridChartsModule,
  beans: [
    h0,
    g8,
    m8
  ],
  agStackComponents: [
    { componentName: "AgColorPicker", componentClass: N8 },
    { componentName: "AgAngleSelect", componentClass: Ux }
  ],
  dependantModules: [
    nT,
    cr
  ]
}, H8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Uy = function() {
  return Uy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Uy.apply(this, arguments);
}, f0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, aT = (
  /** @class */
  function(o) {
    H8(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.loadRowDataVersion = 0, e;
    }
    return t.prototype.init = function(e, r) {
      this.params = r, this.comp = e;
      var n = r.pinned != null;
      n || (this.setAutoHeightClasses(), this.setupRefreshStrategy(), this.addThemeToDetailGrid(), this.createDetailGrid(), this.loadRowData(), this.addManagedListener(this.eventService, R.EVENT_FULL_WIDTH_ROW_FOCUSED, this.onFullWidthRowFocused.bind(this)));
    }, t.prototype.onFullWidthRowFocused = function(e) {
      var r = this.params, n = { rowIndex: r.node.rowIndex, rowPinned: r.node.rowPinned }, i = { rowIndex: e.rowIndex, rowPinned: e.rowPinned }, a = this.rowPositionUtils.sameRow(n, i);
      a && this.focusService.focusInto(this.comp.getGui(), e.fromBelow);
    }, t.prototype.setAutoHeightClasses = function() {
      var e = this.gridOptionsService.is("detailRowAutoHeight"), r = e ? "ag-details-row-auto-height" : "ag-details-row-fixed-height", n = e ? "ag-details-grid-auto-height" : "ag-details-grid-fixed-height";
      this.comp.addOrRemoveCssClass(r, !0), this.comp.addOrRemoveDetailGridCssClass(n, !0);
    }, t.prototype.setupRefreshStrategy = function() {
      var e = this.params.refreshStrategy, r = e == "everything" || e == "nothing" || e == "rows";
      if (r) {
        this.refreshStrategy = e;
        return;
      }
      e != null && console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '" + e + "' supplied, defaulting to refreshStrategy = 'rows'."), this.refreshStrategy = "rows";
    }, t.prototype.addThemeToDetailGrid = function() {
      var e = this.environment.getTheme().theme;
      e && this.comp.addOrRemoveDetailGridCssClass(e, !0);
    }, t.prototype.createDetailGrid = function() {
      if (T.missing(this.params.detailGridOptions)) {
        console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");
        return;
      }
      var e = this.gridOptionsService.is("detailRowAutoHeight"), r = Uy({}, this.params.detailGridOptions);
      e && (r.domLayout = "autoHeight"), this.comp.setDetailGrid(r);
    }, t.prototype.registerDetailWithMaster = function(e, r) {
      var n = this.params.node.id, i = this.params.api, a = {
        id: n,
        api: e,
        columnApi: r
      }, s = this.params.node;
      i.addDetailGridInfo(n, a), s.detailGridInfo = a, this.addDestroyFunc(function() {
        s.detailGridInfo === a && (i.removeDetailGridInfo(n), s.detailGridInfo = null);
      });
    }, t.prototype.loadRowData = function() {
      var e = this;
      this.loadRowDataVersion++;
      var r = this.loadRowDataVersion, n = this.params.getDetailRowData;
      if (!n) {
        console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData");
        return;
      }
      var i = function(s) {
        var l = e.loadRowDataVersion === r;
        l && e.comp.setRowData(s);
      }, a = {
        node: this.params.node,
        // we take data from node, rather than params.data
        // as the data could have been updated with new instance
        data: this.params.node.data,
        successCallback: i,
        context: this.gridOptionsService.context
      };
      n(a);
    }, t.prototype.refresh = function() {
      var e = !1, r = !0;
      switch (this.refreshStrategy) {
        case "nothing":
          return r;
        case "everything":
          return e;
      }
      return this.loadRowData(), r;
    }, f0([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), f0([
      w("focusService")
    ], t.prototype, "focusService", void 0), t;
  }(W)
), j8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), W8 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, $8 = (
  /** @class */
  function(o) {
    j8(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function(e) {
      var r = this;
      this.params = e, this.selectAndSetTemplate();
      var n = {
        addOrRemoveCssClass: function(i, a) {
          return r.addOrRemoveCssClass(i, a);
        },
        addOrRemoveDetailGridCssClass: function(i, a) {
          return r.eDetailGrid.classList.toggle(i, a);
        },
        setDetailGrid: function(i) {
          return r.setDetailGrid(i);
        },
        setRowData: function(i) {
          return r.setRowData(i);
        },
        getGui: function() {
          return r.eDetailGrid;
        }
      };
      this.ctrl = this.createManagedBean(new aT()), this.ctrl.init(n, e);
    }, t.prototype.refresh = function() {
      return this.ctrl && this.ctrl.refresh();
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.selectAndSetTemplate = function() {
      var e = this;
      if (this.params.pinned) {
        this.setTemplate('<div class="ag-details-row"></div>');
        return;
      }
      var r = function() {
        e.setTemplate(t.TEMPLATE);
      };
      if (T.missing(this.params.template))
        r();
      else if (typeof this.params.template == "string")
        this.setTemplate(this.params.template);
      else if (typeof this.params.template == "function") {
        var n = this.params.template, i = n(this.params);
        this.setTemplate(i);
      } else
        console.warn("AG Grid: detailCellRendererParams.template should be function or string"), r();
      this.eDetailGrid == null && console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.');
    }, t.prototype.setDetailGrid = function(e) {
      if (this.eDetailGrid) {
        var r = this.context.getBean("agGridReact"), n = r ? T.cloneObject(r) : void 0, i = this.context.getBean("frameworkComponentWrapper"), a = this.getFrameworkOverrides();
        new UE(this.eDetailGrid, e, {
          frameworkOverrides: a,
          providedBeanInstances: {
            agGridReact: n,
            frameworkComponentWrapper: i
          },
          modules: de.__getGridRegisteredModules(this.params.api.getGridId())
        }), this.detailApi = e.api, this.ctrl.registerDetailWithMaster(e.api, e.columnApi), this.addDestroyFunc(function() {
          e.api && e.api.destroy();
        });
      }
    }, t.prototype.setRowData = function(e) {
      this.detailApi && this.detailApi.setRowData(e);
    }, t.TEMPLATE = `<div class="ag-details-row" role="gridcell">
            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>
        </div>`, W8([
      G("eDetailGrid")
    ], t.prototype, "eDetailGrid", void 0), t;
  }(te)
), U8 = "30.0.6", z8 = {
  version: U8,
  moduleName: Z.MasterDetailModule,
  beans: [],
  userComponents: [
    { componentName: "agDetailCellRenderer", componentClass: $8 }
  ],
  controllers: [
    { controllerName: "detailCellRenderer", controllerClass: aT }
  ],
  dependantModules: [
    cr
  ]
}, sT = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Mr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, K8 = (
  /** @class */
  function(o) {
    sT(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.hideActiveMenu = function() {
      this.destroyBean(this.activeMenu);
    }, t.prototype.showMenuAfterMouseEvent = function(e, r, n) {
      var i = this;
      this.showMenu(e, function(a) {
        var s = a.getGui();
        i.popupService.positionPopupUnderMouseEvent({
          type: "columnMenu",
          column: e,
          mouseEvent: r,
          ePopup: s
        }), n && a.showTab(n);
      }, "columnMenu", n, void 0, r.target);
    }, t.prototype.showMenuAfterButtonClick = function(e, r, n, i, a) {
      var s = this, l = -1, u = "left";
      this.gridOptionsService.is("enableRtl") && (l = 1, u = "right"), this.showMenu(e, function(c) {
        var d = c.getGui();
        s.popupService.positionPopupByComponent({
          type: n,
          column: e,
          eventSource: r,
          ePopup: d,
          alignSide: u,
          nudgeX: 9 * l,
          nudgeY: -23,
          position: "under",
          keepWithinBounds: !0
        }), i && c.showTab(i);
      }, n, i, a, r);
    }, t.prototype.showMenu = function(e, r, n, i, a, s) {
      var l = this, u = this.getMenuParams(e, a, s), c = u.menu, d = u.eMenuGui, p = u.currentHeaderPosition, h = u.currentColumnIndex, f = u.anchorToElement, v = [];
      v.push(this.getClosedCallback(e, c, p, h, s));
      var g = this.localeService.getLocaleTextFunc();
      this.popupService.addPopup({
        modal: !0,
        eChild: d,
        closeOnEsc: !0,
        closedCallback: function(m) {
          v.forEach(function(C) {
            return C(m);
          });
        },
        afterGuiAttached: function(m) {
          return c.afterGuiAttached(Object.assign({}, { container: n }, m));
        },
        // if defaultTab is not present, positionCallback will be called
        // after `showTabBasedOnPreviousSelection` is called.
        positionCallback: i ? function() {
          return r(c);
        } : void 0,
        ariaLabel: g("ariaLabelColumnMenu", "Column Menu")
      }), i || (c.showTabBasedOnPreviousSelection(), r(c));
      var y = this.popupService.setPopupPositionRelatedToElement(d, f);
      y && this.addStopAnchoring(y, e, v), c.addEventListener(Fg.EVENT_TAB_SELECTED, function(m) {
        l.lastSelectedTab = m.key;
      }), e.setMenuVisible(!0, "contextMenu"), this.activeMenu = c, c.addEventListener(W.EVENT_DESTROYED, function() {
        l.activeMenu === c && (l.activeMenu = null);
      });
    }, t.prototype.addStopAnchoring = function(e, r, n) {
      e.then(function(i) {
        r.addEventListener("leftChanged", i), r.addEventListener("visibleChanged", i), n.push(function() {
          r.removeEventListener("leftChanged", i), r.removeEventListener("visibleChanged", i);
        });
      });
    }, t.prototype.getClosedCallback = function(e, r, n, i, a) {
      var s = this;
      return function(l) {
        s.destroyBean(r), e.setMenuVisible(!1, "contextMenu");
        var u = l instanceof KeyboardEvent;
        if (!(!u || !a)) {
          if (T.isVisible(a)) {
            var c = s.focusService.findTabbableParent(a);
            c && (e && s.headerNavigationService.scrollToColumn(e), c.focus());
          } else if (n && i !== -1) {
            var d = s.columnModel.getAllDisplayedColumns(), p = d[i] || T.last(d);
            p && s.focusService.focusHeaderPosition({
              headerPosition: {
                headerRowIndex: n.headerRowIndex,
                column: p
              }
            });
          }
        }
      };
    }, t.prototype.getMenuParams = function(e, r, n) {
      var i = this.createBean(new Fg(e, this.lastSelectedTab, r));
      return {
        menu: i,
        eMenuGui: i.getGui(),
        currentHeaderPosition: this.focusService.getFocusedHeader(),
        currentColumnIndex: this.columnModel.getAllDisplayedColumns().indexOf(e),
        anchorToElement: n || this.ctrlsService.getGridBodyCtrl().getGui()
      };
    }, t.prototype.isMenuEnabled = function(e) {
      return e.getMenuTabs(Fg.TABS_DEFAULT).length > 0;
    }, Mr([
      w("popupService")
    ], t.prototype, "popupService", void 0), Mr([
      w("focusService")
    ], t.prototype, "focusService", void 0), Mr([
      w("headerNavigationService")
    ], t.prototype, "headerNavigationService", void 0), Mr([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Mr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = Mr([
      q("menuFactory")
    ], t), t;
  }(W)
), Fg = (
  /** @class */
  function(o) {
    sT(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.tabFactories = {}, i.includeChecks = {}, i.column = e, i.initialSelection = r, i.tabFactories[t.TAB_GENERAL] = i.createMainPanel.bind(i), i.tabFactories[t.TAB_FILTER] = i.createFilterPanel.bind(i), i.tabFactories[t.TAB_COLUMNS] = i.createColumnsPanel.bind(i), i.includeChecks[t.TAB_GENERAL] = function() {
        return !0;
      }, i.includeChecks[t.TAB_FILTER] = function() {
        return i.filterManager.isFilterAllowed(e);
      }, i.includeChecks[t.TAB_COLUMNS] = function() {
        return !0;
      }, i.restrictTo = n, i;
    }
    return t.prototype.init = function() {
      var e = this, r = this.getTabsToCreate().map(function(n) {
        return e.createTab(n);
      });
      this.tabbedLayout = new HE({
        items: r,
        cssClass: "ag-menu",
        onActiveItemClicked: this.onHidePopup.bind(this),
        onItemClicked: this.onTabItemClicked.bind(this)
      }), this.createBean(this.tabbedLayout), this.mainMenuList && this.mainMenuList.setParentComponent(this.tabbedLayout), this.addDestroyFunc(function() {
        return e.destroyBean(e.tabbedLayout);
      });
    }, t.prototype.getTabsToCreate = function() {
      var e = this;
      return this.restrictTo ? this.restrictTo : this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(r) {
        return e.isValidMenuTabItem(r);
      }).filter(function(r) {
        return e.isNotSuppressed(r);
      }).filter(function(r) {
        return e.isModuleLoaded(r);
      });
    }, t.prototype.isModuleLoaded = function(e) {
      return e === t.TAB_COLUMNS ? de.__isRegistered(Z.ColumnsToolPanelModule, this.context.getGridId()) : !0;
    }, t.prototype.isValidMenuTabItem = function(e) {
      var r = !0, n = t.TABS_DEFAULT;
      return this.restrictTo != null && (r = this.restrictTo.indexOf(e) > -1, n = this.restrictTo), r = r && t.TABS_DEFAULT.indexOf(e) > -1, r || console.warn("AG Grid: Trying to render an invalid menu item '" + e + "'. Check that your 'menuTabs' contains one of [" + n + "]"), r;
    }, t.prototype.isNotSuppressed = function(e) {
      return this.includeChecks[e]();
    }, t.prototype.createTab = function(e) {
      return this.tabFactories[e]();
    }, t.prototype.showTabBasedOnPreviousSelection = function() {
      this.showTab(this.initialSelection);
    }, t.prototype.showTab = function(e) {
      this.tabItemColumns && e === t.TAB_COLUMNS ? this.tabbedLayout.showItem(this.tabItemColumns) : this.tabItemFilter && e === t.TAB_FILTER ? this.tabbedLayout.showItem(this.tabItemFilter) : this.tabItemGeneral && e === t.TAB_GENERAL ? this.tabbedLayout.showItem(this.tabItemGeneral) : this.tabbedLayout.showFirstItem();
    }, t.prototype.onTabItemClicked = function(e) {
      var r = null;
      switch (e.item) {
        case this.tabItemColumns:
          r = t.TAB_COLUMNS;
          break;
        case this.tabItemFilter:
          r = t.TAB_FILTER;
          break;
        case this.tabItemGeneral:
          r = t.TAB_GENERAL;
          break;
      }
      r && this.activateTab(r);
    }, t.prototype.activateTab = function(e) {
      var r = {
        type: t.EVENT_TAB_SELECTED,
        key: e
      };
      this.dispatchEvent(r);
    }, t.prototype.getMenuItems = function() {
      var e = this.getDefaultMenuOptions(), r, n = this.gridOptionsService.getCallback("getMainMenuItems");
      return n ? r = n({
        column: this.column,
        defaultItems: e
      }) : r = e, T.removeRepeatsFromArray(r, t.MENU_ITEM_SEPARATOR), r;
    }, t.prototype.getDefaultMenuOptions = function() {
      var e = [], r = !this.column.getColDef().lockPinned, n = this.columnModel.getRowGroupColumns().length, i = n > 0, a = this.columnModel.getRowGroupColumns().indexOf(this.column) >= 0, s = this.column.isAllowValue(), l = this.column.isAllowRowGroup(), u = this.column.isPrimary(), c = this.columnModel.isPivotMode(), d = this.rowModel.getType() === "clientSide", p = this.gridOptionsService.isTreeData(), h = (
        // if primary, then only allow aggValue if grouping and it's a value columns
        u && i && s || !u
      );
      r && e.push("pinSubMenu"), h && e.push("valueAggSubMenu"), (r || h) && e.push(t.MENU_ITEM_SEPARATOR), e.push("autoSizeThis"), e.push("autoSizeAll"), e.push(t.MENU_ITEM_SEPARATOR), l && this.column.isPrimary() && (a ? e.push("rowUnGroup") : e.push("rowGroup")), e.push(t.MENU_ITEM_SEPARATOR), e.push("resetColumns");
      var f = d && (p || n > (c ? 1 : 0));
      return f && (e.push("expandAll"), e.push("contractAll")), e;
    }, t.prototype.createMainPanel = function() {
      this.mainMenuList = this.createManagedBean(new xf());
      var e = this.getMenuItems(), r = this.menuItemMapper.mapWithStockItems(e, this.column);
      return this.mainMenuList.addMenuItems(r), this.mainMenuList.addEventListener(Hn.EVENT_MENU_ITEM_SELECTED, this.onHidePopup.bind(this)), this.tabItemGeneral = {
        title: T.createIconNoSpan("menu", this.gridOptionsService, this.column),
        titleLabel: t.TAB_GENERAL.replace("MenuTab", ""),
        bodyPromise: Je.resolve(this.mainMenuList.getGui()),
        name: t.TAB_GENERAL
      }, this.tabItemGeneral;
    }, t.prototype.onHidePopup = function(e) {
      var r;
      e && e.event && e.event instanceof KeyboardEvent && (r = e.event), this.hidePopupFunc(r && { keyboardEvent: r });
      var n = this.focusService.getFocusedCell(), i = this.gridOptionsService.getDocument();
      if (i.activeElement === i.body && n) {
        var a = n.rowIndex, s = n.rowPinned, l = n.column;
        this.focusService.setFocusedCell({ rowIndex: a, column: l, rowPinned: s, forceBrowserFocus: !0, preventScrollOnBrowserFocus: !0 });
      }
    }, t.prototype.createFilterPanel = function() {
      var e = this.filterManager.getOrCreateFilterWrapper(this.column, "COLUMN_MENU");
      if (!e)
        throw new Error("AG Grid - Unable to instantiate filter");
      var r = function(i) {
        e != null && e.filterPromise && e.filterPromise.then(function(a) {
          a && a.afterGuiAttached && a.afterGuiAttached(i);
        });
      }, n = function() {
        var i;
        return (i = e == null ? void 0 : e.filterPromise) === null || i === void 0 ? void 0 : i.then(function(a) {
          var s;
          return (s = a == null ? void 0 : a.afterGuiDetached) === null || s === void 0 ? void 0 : s.call(a);
        });
      };
      return this.tabItemFilter = {
        title: T.createIconNoSpan("filter", this.gridOptionsService, this.column),
        titleLabel: t.TAB_FILTER.replace("MenuTab", ""),
        bodyPromise: e == null ? void 0 : e.guiPromise,
        afterAttachedCallback: r,
        afterDetachedCallback: n,
        name: t.TAB_FILTER
      }, this.tabItemFilter;
    }, t.prototype.createColumnsPanel = function() {
      var e = document.createElement("div");
      e.classList.add("ag-menu-column-select-wrapper");
      var r = this.createManagedBean(new Zm()), n = this.column.getColDef().columnsMenuParams;
      n || (n = {});
      var i = n.contractColumnSelection, a = n.suppressColumnExpandAll, s = n.suppressColumnFilter, l = n.suppressColumnSelectAll, u = n.suppressSyncLayoutWithGrid, c = n.columnLayout;
      r.init(!1, {
        suppressColumnMove: !1,
        suppressValues: !1,
        suppressPivots: !1,
        suppressRowGroups: !1,
        suppressPivotMode: !1,
        contractColumnSelection: !!i,
        suppressColumnExpandAll: !!a,
        suppressColumnFilter: !!s,
        suppressColumnSelectAll: !!l,
        suppressSyncLayoutWithGrid: !!c || !!u,
        api: this.gridApi,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context
      }, "columnMenu"), c && r.setColumnLayout(c);
      var d = r.getGui();
      return d.classList.add("ag-menu-column-select"), e.appendChild(d), this.tabItemColumns = {
        title: T.createIconNoSpan("columns", this.gridOptionsService, this.column),
        titleLabel: t.TAB_COLUMNS.replace("MenuTab", ""),
        bodyPromise: Je.resolve(e),
        name: t.TAB_COLUMNS
      }, this.tabItemColumns;
    }, t.prototype.afterGuiAttached = function(e) {
      var r = e.container, n = e.hidePopup;
      this.tabbedLayout.setAfterAttachedParams({ container: r, hidePopup: n }), n && (this.hidePopupFunc = n, this.addDestroyFunc(n));
    }, t.prototype.getGui = function() {
      return this.tabbedLayout.getGui();
    }, t.EVENT_TAB_SELECTED = "tabSelected", t.TAB_FILTER = "filterMenuTab", t.TAB_GENERAL = "generalMenuTab", t.TAB_COLUMNS = "columnsMenuTab", t.TABS_DEFAULT = [t.TAB_GENERAL, t.TAB_FILTER, t.TAB_COLUMNS], t.MENU_ITEM_SEPARATOR = "separator", Mr([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Mr([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Mr([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Mr([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), Mr([
      w("menuItemMapper")
    ], t.prototype, "menuItemMapper", void 0), Mr([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Mr([
      w("focusService")
    ], t.prototype, "focusService", void 0), Mr([
      V
    ], t.prototype, "init", null), t;
  }(W)
), lT = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), rf = function() {
  return rf = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, rf.apply(this, arguments);
}, Ji = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Y8 = "ag-menu", v0 = "ag-context-menu-open", X8 = (
  /** @class */
  function(o) {
    lT(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.hideActiveMenu = function() {
      this.destroyBean(this.activeMenu);
    }, t.prototype.getMenuItems = function(e, r, n) {
      var i = [];
      if (T.exists(e) && de.__isRegistered(Z.ClipboardModule, this.context.getGridId()) && r && (this.gridOptionsService.is("suppressCutToClipboard") || i.push("cut"), i.push("copy", "copyWithHeaders", "copyWithGroupHeaders", "paste", "separator")), this.gridOptionsService.is("enableCharts") && de.__isRegistered(Z.GridChartsModule, this.context.getGridId()) && (this.columnModel.isPivotMode() && i.push("pivotChart"), this.rangeService && !this.rangeService.isEmpty() && i.push("chartRange")), T.exists(e)) {
        var a = !de.__isRegistered(Z.CsvExportModule, this.context.getGridId()), s = !de.__isRegistered(Z.ExcelExportModule, this.context.getGridId()), l = this.gridOptionsService.is("suppressExcelExport") || s, u = this.gridOptionsService.is("suppressCsvExport") || a, c = T.isIOSUserAgent(), d = !c && (!l || !u);
        d && i.push("export");
      }
      var p = this.gridOptionsService.getCallback("getContextMenuItems");
      if (p) {
        var h = {
          node: e,
          column: r,
          value: n,
          defaultItems: i.length ? i : void 0
        };
        return p(h);
      }
      return i;
    }, t.prototype.onContextMenu = function(e, r, n, i, a, s) {
      if (!(!this.gridOptionsService.is("allowContextMenuWithControlKey") && e && (e.ctrlKey || e.metaKey)) && (e && this.blockMiddleClickScrollsIfNeeded(e), !this.gridOptionsService.is("suppressContextMenu"))) {
        var l = e || r.touches[0];
        if (this.showMenu(n, i, a, l, s)) {
          var u = e || r;
          u.preventDefault();
        }
      }
    }, t.prototype.blockMiddleClickScrollsIfNeeded = function(e) {
      var r = this.gridOptionsService, n = e.which;
      r.is("suppressMiddleClickScrolls") && n === 2 && e.preventDefault();
    }, t.prototype.showMenu = function(e, r, n, i, a) {
      var s = this, l = this.getMenuItems(e, r, n), u = this.ctrlsService.getGridBodyCtrl().getGui();
      if (l === void 0 || T.missingOrEmpty(l))
        return !1;
      var c = new q8(l);
      this.createBean(c);
      var d = c.getGui(), p = {
        column: r,
        rowNode: e,
        type: "contextMenu",
        mouseEvent: i,
        ePopup: d,
        // move one pixel away so that accidentally double clicking
        // won't show the browser's contextmenu
        nudgeY: 1
      }, h = this.localeService.getLocaleTextFunc(), f = this.popupService.addPopup({
        modal: !0,
        eChild: d,
        closeOnEsc: !0,
        closedCallback: function() {
          u.classList.remove(v0), s.destroyBean(c);
        },
        click: i,
        positionCallback: function() {
          var v = s.gridOptionsService.is("enableRtl");
          s.popupService.positionPopupUnderMouseEvent(rf(rf({}, p), { nudgeX: v ? (d.offsetWidth + 1) * -1 : 1 }));
        },
        // so when browser is scrolled down, or grid is scrolled, context menu stays with cell
        anchorToElement: a,
        ariaLabel: h("ariaLabelContextMenu", "Context Menu")
      });
      return f && (u.classList.add(v0), c.afterGuiAttached({ container: "contextMenu", hidePopup: f.hideFunc })), this.activeMenu && this.hideActiveMenu(), this.activeMenu = c, c.addEventListener(W.EVENT_DESTROYED, function() {
        s.activeMenu === c && (s.activeMenu = null);
      }), f && c.addEventListener(Hn.EVENT_MENU_ITEM_SELECTED, f.hideFunc), !0;
    }, Ji([
      w("popupService")
    ], t.prototype, "popupService", void 0), Ji([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), Ji([
      w("ctrlsService")
    ], t.prototype, "ctrlsService", void 0), Ji([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t = Ji([
      q("contextMenuFactory")
    ], t), t;
  }(W)
), q8 = (
  /** @class */
  function(o) {
    lT(t, o);
    function t(e) {
      var r = o.call(
        this,
        /* html */
        '<div class="' + Y8 + '" role="presentation"></div>'
      ) || this;
      return r.menuList = null, r.focusedCell = null, r.menuItems = e, r;
    }
    return t.prototype.addMenuItems = function() {
      var e = this, r = this.createManagedBean(new xf()), n = this.menuItemMapper.mapWithStockItems(this.menuItems, null);
      r.addMenuItems(n), this.appendChild(r), this.menuList = r, r.addEventListener(Hn.EVENT_MENU_ITEM_SELECTED, function(i) {
        return e.dispatchEvent(i);
      });
    }, t.prototype.afterGuiAttached = function(e) {
      e.hidePopup && this.addDestroyFunc(e.hidePopup), this.focusedCell = this.focusService.getFocusedCell(), this.menuList && this.focusService.focusInto(this.menuList.getGui());
    }, t.prototype.restoreFocusedCell = function() {
      var e = this.focusService.getFocusedCell();
      if (e && this.focusedCell && this.cellPositionUtils.equals(e, this.focusedCell)) {
        var r = this.focusedCell, n = r.rowIndex, i = r.rowPinned, a = r.column, s = this.gridOptionsService.getDocument();
        s.activeElement === s.body && this.focusService.setFocusedCell({ rowIndex: n, column: a, rowPinned: i, forceBrowserFocus: !0 });
      }
    }, t.prototype.destroy = function() {
      this.restoreFocusedCell(), o.prototype.destroy.call(this);
    }, Ji([
      w("menuItemMapper")
    ], t.prototype, "menuItemMapper", void 0), Ji([
      w("focusService")
    ], t.prototype, "focusService", void 0), Ji([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), Ji([
      V
    ], t.prototype, "addMenuItems", null), t;
  }(te)
), Z8 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zy = function() {
  return zy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, zy.apply(this, arguments);
}, Mo = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Q8 = (
  /** @class */
  function(o) {
    Z8(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.mapWithStockItems = function(e, r) {
      var n = this;
      if (!e)
        return [];
      var i = [];
      return e.forEach(function(a) {
        var s;
        if (typeof a == "string" ? s = n.getStockMenuItem(a, r) : s = zy({}, a), !!s) {
          var l = s, u = l.subMenu;
          u && u instanceof Array && (l.subMenu = n.mapWithStockItems(u, r)), s != null && i.push(s);
        }
      }), i;
    }, t.prototype.getStockMenuItem = function(e, r) {
      var n = this, i, a = this.localeService.getLocaleTextFunc(), s = this.gridOptionsService.is("skipHeaderOnAutoSize");
      switch (e) {
        case "pinSubMenu":
          return {
            name: a("pinColumn", "Pin Column"),
            icon: T.createIconNoSpan("menuPin", this.gridOptionsService, null),
            subMenu: ["clearPinned", "pinLeft", "pinRight"]
          };
        case "pinLeft":
          return {
            name: a("pinLeft", "Pin Left"),
            action: function() {
              return n.columnModel.setColumnPinned(r, "left", "contextMenu");
            },
            checked: !!r && r.isPinnedLeft()
          };
        case "pinRight":
          return {
            name: a("pinRight", "Pin Right"),
            action: function() {
              return n.columnModel.setColumnPinned(r, "right", "contextMenu");
            },
            checked: !!r && r.isPinnedRight()
          };
        case "clearPinned":
          return {
            name: a("noPin", "No Pin"),
            action: function() {
              return n.columnModel.setColumnPinned(r, null, "contextMenu");
            },
            checked: !!r && !r.isPinned()
          };
        case "valueAggSubMenu":
          return de.__assertRegistered(Z.RowGroupingModule, "Aggregation from Menu", this.context.getGridId()) ? !(r != null && r.isPrimary()) && !(r != null && r.getColDef().pivotValueColumn) ? null : {
            name: a("valueAggregation", "Value Aggregation"),
            icon: T.createIconNoSpan("menuValue", this.gridOptionsService, null),
            subMenu: this.createAggregationSubMenu(r)
          } : null;
        case "autoSizeThis":
          return {
            name: a("autosizeThiscolumn", "Autosize This Column"),
            action: function() {
              return n.columnModel.autoSizeColumn(r, s, "contextMenu");
            }
          };
        case "autoSizeAll":
          return {
            name: a("autosizeAllColumns", "Autosize All Columns"),
            action: function() {
              return n.columnModel.autoSizeAllColumns(s, "contextMenu");
            }
          };
        case "rowGroup":
          return {
            name: a("groupBy", "Group by") + " " + T.escapeString(this.columnModel.getDisplayNameForColumn(r, "header")),
            disabled: (r == null ? void 0 : r.isRowGroupActive()) || !(r != null && r.getColDef().enableRowGroup),
            action: function() {
              return n.columnModel.addRowGroupColumn(r, "contextMenu");
            },
            icon: T.createIconNoSpan("menuAddRowGroup", this.gridOptionsService, null)
          };
        case "rowUnGroup":
          return {
            name: a("ungroupBy", "Un-Group by") + " " + T.escapeString(this.columnModel.getDisplayNameForColumn(r, "header")),
            disabled: !(r != null && r.isRowGroupActive()) || !(r != null && r.getColDef().enableRowGroup),
            action: function() {
              return n.columnModel.removeRowGroupColumn(r, "contextMenu");
            },
            icon: T.createIconNoSpan("menuRemoveRowGroup", this.gridOptionsService, null)
          };
        case "resetColumns":
          return {
            name: a("resetColumns", "Reset Columns"),
            action: function() {
              return n.columnModel.resetColumnState("contextMenu");
            }
          };
        case "expandAll":
          return {
            name: a("expandAll", "Expand All Row Groups"),
            action: function() {
              return n.gridApi.expandAll();
            }
          };
        case "contractAll":
          return {
            name: a("collapseAll", "Collapse All Row Groups"),
            action: function() {
              return n.gridApi.collapseAll();
            }
          };
        case "copy":
          return de.__assertRegistered(Z.ClipboardModule, "Copy from Menu", this.context.getGridId()) ? {
            name: a("copy", "Copy"),
            shortcut: a("ctrlC", "Ctrl+C"),
            icon: T.createIconNoSpan("clipboardCopy", this.gridOptionsService, null),
            action: function() {
              return n.clipboardService.copyToClipboard();
            }
          } : null;
        case "copyWithHeaders":
          return de.__assertRegistered(Z.ClipboardModule, "Copy with Headers from Menu", this.context.getGridId()) ? {
            name: a("copyWithHeaders", "Copy with Headers"),
            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),
            icon: T.createIconNoSpan("clipboardCopy", this.gridOptionsService, null),
            action: function() {
              return n.clipboardService.copyToClipboard({ includeHeaders: !0 });
            }
          } : null;
        case "copyWithGroupHeaders":
          return de.__assertRegistered(Z.ClipboardModule, "Copy with Group Headers from Menu", this.context.getGridId()) ? {
            name: a("copyWithGroupHeaders", "Copy with Group Headers"),
            // shortcut: localeTextFunc('ctrlC','Ctrl+C'),
            icon: T.createIconNoSpan("clipboardCopy", this.gridOptionsService, null),
            action: function() {
              return n.clipboardService.copyToClipboard({ includeHeaders: !0, includeGroupHeaders: !0 });
            }
          } : null;
        case "cut":
          if (de.__assertRegistered(Z.ClipboardModule, "Cut from Menu", this.context.getGridId())) {
            var l = this.focusService.getFocusedCell(), u = l ? this.rowPositionUtils.getRowNode(l) : null, c = u ? l == null ? void 0 : l.column.isCellEditable(u) : !1;
            return {
              name: a("cut", "Cut"),
              shortcut: a("ctrlX", "Ctrl+X"),
              icon: T.createIconNoSpan("clipboardCut", this.gridOptionsService, null),
              disabled: !c || this.gridOptionsService.is("suppressCutToClipboard"),
              action: function() {
                return n.clipboardService.cutToClipboard(void 0, "contextMenu");
              }
            };
          } else
            return null;
        case "paste":
          return de.__assertRegistered(Z.ClipboardModule, "Paste from Clipboard", this.context.getGridId()) ? {
            name: a("paste", "Paste"),
            shortcut: a("ctrlV", "Ctrl+V"),
            disabled: !0,
            icon: T.createIconNoSpan("clipboardPaste", this.gridOptionsService, null),
            action: function() {
              return n.clipboardService.pasteFromClipboard();
            }
          } : null;
        case "export":
          var d = [], p = de.__isRegistered(Z.CsvExportModule, this.context.getGridId()), h = de.__isRegistered(Z.ExcelExportModule, this.context.getGridId());
          return !this.gridOptionsService.is("suppressCsvExport") && p && d.push("csvExport"), !this.gridOptionsService.is("suppressExcelExport") && h && d.push("excelExport"), {
            name: a("export", "Export"),
            subMenu: d,
            icon: T.createIconNoSpan("save", this.gridOptionsService, null)
          };
        case "csvExport":
          return {
            name: a("csvExport", "CSV Export"),
            icon: T.createIconNoSpan("csvExport", this.gridOptionsService, null),
            action: function() {
              return n.gridApi.exportDataAsCsv({});
            }
          };
        case "excelExport":
          return {
            name: a("excelExport", "Excel Export"),
            icon: T.createIconNoSpan("excelExport", this.gridOptionsService, null),
            action: function() {
              return n.gridApi.exportDataAsExcel();
            }
          };
        case "separator":
          return "separator";
        case "pivotChart":
        case "chartRange":
          return (i = this.chartMenuItemMapper.getChartItems(e)) !== null && i !== void 0 ? i : null;
        default:
          return console.warn("AG Grid: unknown menu item type " + e), null;
      }
    }, t.prototype.createAggregationSubMenu = function(e) {
      var r = this, n = this.localeService.getLocaleTextFunc(), i;
      if (e.isPrimary())
        i = e;
      else {
        var a = e.getColDef().pivotValueColumn;
        i = T.exists(a) ? a : void 0;
      }
      var s = [];
      if (i) {
        var l = i.isValueActive(), u = this.aggFuncService.getFuncNames(i);
        s.push({
          name: n("noAggregation", "None"),
          action: function() {
            r.columnModel.removeValueColumn(i, "contextMenu"), r.columnModel.setColumnAggFunc(i, void 0, "contextMenu");
          },
          checked: !l
        }), u.forEach(function(c) {
          s.push({
            name: n(c, T.capitalise(c)),
            action: function() {
              r.columnModel.setColumnAggFunc(i, c, "contextMenu"), r.columnModel.addValueColumn(i, "contextMenu");
            },
            checked: l && i.getAggFunc() === c
          });
        });
      }
      return s;
    }, Mo([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Mo([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Mo([
      Fe("clipboardService")
    ], t.prototype, "clipboardService", void 0), Mo([
      Fe("aggFuncService")
    ], t.prototype, "aggFuncService", void 0), Mo([
      w("focusService")
    ], t.prototype, "focusService", void 0), Mo([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), Mo([
      w("chartMenuItemMapper")
    ], t.prototype, "chartMenuItemMapper", void 0), t = Mo([
      q("menuItemMapper")
    ], t), t;
  }(W)
), J8 = "30.0.6", e9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), nf = function() {
  return nf = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, nf.apply(this, arguments);
}, g0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, t9 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, r9 = (
  /** @class */
  function(o) {
    e9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    e = t, t.prototype.getChartItems = function(r) {
      var n, i;
      if (!this.chartService) {
        de.__assertRegistered(Z.GridChartsModule, 'the Context Menu key "' + r + '"', this.context.getGridId());
        return;
      }
      var a = r === "pivotChart" ? new n9(this.gridOptionsService, this.chartService, this.localeService) : new i9(this.gridOptionsService, this.chartService, this.localeService), s = a.getMenuItem(), l = (i = (n = this.gridOptionsService.get("chartToolPanelsDef")) === null || n === void 0 ? void 0 : n.settingsPanel) === null || i === void 0 ? void 0 : i.chartGroupsDef;
      return l && (s = e.filterAndOrderChartMenu(s, l, a.getConfigLookup())), this.cleanInternals(s);
    }, t.prototype.cleanInternals = function(r) {
      if (!r)
        return r;
      var n = function(i) {
        var a;
        return i == null || delete i._key, (a = i == null ? void 0 : i.subMenu) === null || a === void 0 || a.forEach(function(s) {
          return n(s);
        }), i;
      };
      return n(r);
    }, t.buildLookup = function(r) {
      var n = {}, i = function(a) {
        n[a._key] = a, a.subMenu && a.subMenu.forEach(function(s) {
          return i(s);
        });
      };
      return i(r), n;
    }, t.filterAndOrderChartMenu = function(r, n, i) {
      var a, s = this.buildLookup(r), l = nf(nf({}, r), { subMenu: [] });
      if (Object.entries(n).forEach(function(u) {
        var c, d, p = t9(u, 2), h = p[0], f = p[1], v = i[h];
        if (v == null) {
          T.doOnce(function() {
            return console.warn("AG Grid - invalid chartGroupsDef config '" + h + "'");
          }, "invalid_chartGroupsDef" + h);
          return;
        }
        var g = s[v._key];
        if (g)
          if (g.subMenu) {
            var y = f.map(function(m) {
              var C = v[m];
              if (C == null) {
                T.doOnce(function() {
                  return console.warn("AG Grid - invalid chartGroupsDef config '" + h + "." + m + "'");
                }, "invalid_chartGroupsDef" + m + "_" + h);
                return;
              }
              return s[C];
            }).filter(function(m) {
              return m !== void 0;
            });
            y.length > 0 && (g.subMenu = y, (c = l.subMenu) === null || c === void 0 || c.push(g));
          } else
            (d = l.subMenu) === null || d === void 0 || d.push(g);
      }), ((a = l.subMenu) === null || a === void 0 ? void 0 : a.length) != 0)
        return l;
    };
    var e;
    return g0([
      Fe("chartService")
    ], t.prototype, "chartService", void 0), t = e = g0([
      q("chartMenuItemMapper")
    ], t), t;
  }(W)
), n9 = (
  /** @class */
  function() {
    function o(t, e, r) {
      this.gridOptionsService = t, this.chartService = e, this.localeService = r;
    }
    return o.prototype.getMenuItem = function() {
      var t = this, e = this.localeService.getLocaleTextFunc(), r = function(n, i, a, s) {
        return {
          name: e(n, i),
          action: function() {
            return t.chartService.createPivotChart({ chartType: a });
          },
          _key: s
        };
      };
      return {
        name: e("pivotChart", "Pivot Chart"),
        _key: "pivotChart",
        subMenu: [
          {
            _key: "pivotColumnChart",
            name: e("columnChart", "Column"),
            subMenu: [
              r("groupedColumn", "Grouped&lrm;", "groupedColumn", "pivotGroupedColumn"),
              r("stackedColumn", "Stacked&lrm;", "stackedColumn", "pivotStackedColumn"),
              r("normalizedColumn", "100% Stacked&lrm;", "normalizedColumn", "pivotNormalizedColumn")
            ]
          },
          {
            _key: "pivotBarChart",
            name: e("barChart", "Bar"),
            subMenu: [
              r("groupedBar", "Grouped&lrm;", "groupedBar", "pivotGroupedBar"),
              r("stackedBar", "Stacked&lrm;", "stackedBar", "pivotStackedBar"),
              r("normalizedBar", "100% Stacked&lrm;", "normalizedBar", "pivotNormalizedBar")
            ]
          },
          {
            _key: "pivotPieChart",
            name: e("pieChart", "Pie"),
            subMenu: [
              r("pie", "Pie&lrm;", "pie", "pivotPie"),
              r("doughnut", "Doughnut&lrm;", "doughnut", "pivotDoughnut")
            ]
          },
          r("line", "Line&lrm;", "line", "pivotLineChart"),
          {
            _key: "pivotXYChart",
            name: e("xyChart", "X Y (Scatter)"),
            subMenu: [
              r("scatter", "Scatter&lrm;", "scatter", "pivotScatter"),
              r("bubble", "Bubble&lrm;", "bubble", "pivotBubble")
            ]
          },
          {
            _key: "pivotAreaChart",
            name: e("areaChart", "Area"),
            subMenu: [
              r("area", "Area&lrm;", "area", "pivotArea"),
              r("stackedArea", "Stacked&lrm;", "stackedArea", "pivotStackedArea"),
              r("normalizedArea", "100% Stacked&lrm;", "normalizedArea", "pivotNormalizedArea")
            ]
          },
          r("histogramChart", "Histogram&lrm;", "histogram", "pivotHistogramChart"),
          {
            _key: "pivotCombinationChart",
            name: e("combinationChart", "Combination"),
            subMenu: [
              r("columnLineCombo", "Column & Line&lrm;", "columnLineCombo", "pivotColumnLineCombo"),
              r("AreaColumnCombo", "Area & Column&lrm;", "areaColumnCombo", "pivotAreaColumnCombo")
            ]
          }
        ],
        icon: T.createIconNoSpan("chart", this.gridOptionsService, void 0)
      };
    }, o.prototype.getConfigLookup = function() {
      return {
        columnGroup: {
          _key: "pivotColumnChart",
          column: "pivotGroupedColumn",
          stackedColumn: "pivotStackedColumn",
          normalizedColumn: "pivotNormalizedColumn"
        },
        barGroup: {
          _key: "pivotBarChart",
          bar: "pivotGroupedBar",
          stackedBar: "pivotStackedBar",
          normalizedBar: "pivotNormalizedBar"
        },
        pieGroup: {
          _key: "pivotPieChart",
          pie: "pivotPie",
          doughnut: "pivotDoughnut"
        },
        lineGroup: {
          _key: "pivotLineChart",
          line: "pivotLineChart"
        },
        scatterGroup: {
          _key: "pivotXYChart",
          bubble: "pivotBubble",
          scatter: "pivotScatter"
        },
        areaGroup: {
          _key: "pivotAreaChart",
          area: "pivotArea",
          stackedArea: "pivotStackedArea",
          normalizedArea: "pivotNormalizedArea"
        },
        histogramGroup: {
          _key: "pivotHistogramChart",
          histogram: "pivotHistogramChart"
        },
        combinationGroup: {
          _key: "pivotCombinationChart",
          columnLineCombo: "pivotColumnLineCombo",
          areaColumnCombo: "pivotAreaColumnCombo",
          customCombo: ""
          // Not currently supported but needs a value to separate from a missing value
        }
      };
    }, o;
  }()
), i9 = (
  /** @class */
  function() {
    function o(t, e, r) {
      this.gridOptionsService = t, this.chartService = e, this.localeService = r;
    }
    return o.prototype.getMenuItem = function() {
      var t = this, e = this.localeService.getLocaleTextFunc(), r = function(n, i, a, s) {
        return {
          name: e(n, i),
          action: function() {
            return t.chartService.createChartFromCurrentRange(a);
          },
          _key: s
        };
      };
      return {
        name: e("chartRange", "Chart Range"),
        _key: "chartRange",
        subMenu: [
          {
            name: e("columnChart", "Column"),
            subMenu: [
              r("groupedColumn", "Grouped&lrm;", "groupedColumn", "rangeGroupedColumn"),
              r("stackedColumn", "Stacked&lrm;", "stackedColumn", "rangeStackedColumn"),
              r("normalizedColumn", "100% Stacked&lrm;", "normalizedColumn", "rangeNormalizedColumn")
            ],
            _key: "rangeColumnChart"
          },
          {
            name: e("barChart", "Bar"),
            subMenu: [
              r("groupedBar", "Grouped&lrm;", "groupedBar", "rangeGroupedBar"),
              r("stackedBar", "Stacked&lrm;", "stackedBar", "rangeStackedBar"),
              r("normalizedBar", "100% Stacked&lrm;", "normalizedBar", "rangeNormalizedBar")
            ],
            _key: "rangeBarChart"
          },
          {
            name: e("pieChart", "Pie"),
            subMenu: [
              r("pie", "Pie&lrm;", "pie", "rangePie"),
              r("doughnut", "Doughnut&lrm;", "doughnut", "rangeDoughnut")
            ],
            _key: "rangePieChart"
          },
          r("line", "Line&lrm;", "line", "rangeLineChart"),
          {
            name: e("xyChart", "X Y (Scatter)"),
            subMenu: [
              r("scatter", "Scatter&lrm;", "scatter", "rangeScatter"),
              r("bubble", "Bubble&lrm;", "bubble", "rangeBubble")
            ],
            _key: "rangeXYChart"
          },
          {
            name: e("areaChart", "Area"),
            subMenu: [
              r("area", "Area&lrm;", "area", "rangeArea"),
              r("stackedArea", "Stacked&lrm;", "stackedArea", "rangeStackedArea"),
              r("normalizedArea", "100% Stacked&lrm;", "normalizedArea", "rangeNormalizedArea")
            ],
            _key: "rangeAreaChart"
          },
          r("histogramChart", "Histogram&lrm;", "histogram", "rangeHistogramChart"),
          {
            name: e("combinationChart", "Combination"),
            subMenu: [
              r("columnLineCombo", "Column & Line&lrm;", "columnLineCombo", "rangeColumnLineCombo"),
              r("AreaColumnCombo", "Area & Column&lrm;", "areaColumnCombo", "rangeAreaColumnCombo")
            ],
            _key: "rangeCombinationChart"
          }
        ],
        icon: T.createIconNoSpan("chart", this.gridOptionsService, void 0)
      };
    }, o.prototype.getConfigLookup = function() {
      return {
        columnGroup: {
          _key: "rangeColumnChart",
          column: "rangeGroupedColumn",
          stackedColumn: "rangeStackedColumn",
          normalizedColumn: "rangeNormalizedColumn"
        },
        barGroup: {
          _key: "rangeBarChart",
          bar: "rangeGroupedBar",
          stackedBar: "rangeStackedBar",
          normalizedBar: "rangeNormalizedBar"
        },
        pieGroup: {
          _key: "rangePieChart",
          pie: "rangePie",
          doughnut: "rangeDoughnut"
        },
        lineGroup: {
          _key: "rangeLineChart",
          line: "rangeLineChart"
        },
        scatterGroup: {
          _key: "rangeXYChart",
          bubble: "rangeBubble",
          scatter: "rangeScatter"
        },
        areaGroup: {
          _key: "rangeAreaChart",
          area: "rangeArea",
          stackedArea: "rangeStackedArea",
          normalizedArea: "rangeNormalizedArea"
        },
        histogramGroup: {
          _key: "rangeHistogramChart",
          histogram: "rangeHistogramChart"
        },
        combinationGroup: {
          _key: "rangeCombinationChart",
          columnLineCombo: "rangeColumnLineCombo",
          areaColumnCombo: "rangeAreaColumnCombo",
          customCombo: ""
          // Not currently supported but needs a value to separate from a missing value
        }
      };
    }, o;
  }()
), o9 = {
  version: J8,
  moduleName: Z.MenuModule,
  beans: [K8, X8, Q8, r9],
  dependantModules: [
    cr
  ]
}, a9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ml = function() {
  return Ml = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Ml.apply(this, arguments);
}, Lg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ky = (
  /** @class */
  function(o) {
    a9(t, o);
    function t() {
      var e = o.call(
        this,
        /* html */
        '<div class="ag-multi-filter ag-menu-list-compact"></div>'
      ) || this;
      return e.filterDefs = [], e.filters = [], e.guiDestroyFuncs = [], e.activeFilterIndices = [], e.lastActivatedMenuItem = null, e.afterFiltersReadyFuncs = [], e;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      this.initialiseTabGuard({
        onFocusIn: function(r) {
          return e.onFocusIn(r);
        }
      });
    }, t.getFilterDefs = function(e) {
      var r = e.filters;
      return r && r.length > 0 ? r : [{ filter: "agTextColumnFilter" }, { filter: "agSetColumnFilter" }];
    }, t.prototype.init = function(e) {
      var r = this;
      this.params = e, this.filterDefs = t.getFilterDefs(e);
      var n = e.column, i = e.filterChangedCallback;
      this.column = n, this.filterChangedCallback = i;
      var a = [];
      return this.filterDefs.forEach(function(s, l) {
        var u = r.createFilter(s, l);
        u != null && a.push(u);
      }), Je.all(a).then(function(s) {
        r.filters = s, r.refreshGui("columnMenu"), r.afterFiltersReadyFuncs.forEach(function(l) {
          return l();
        }), r.afterFiltersReadyFuncs.length = 0;
      });
    }, t.prototype.refreshGui = function(e) {
      var r = this;
      e !== this.lastOpenedInContainer && (this.removeAllChildrenExceptTabGuards(), this.destroyChildren(), this.filters.forEach(function(n, i) {
        i > 0 && r.appendChild(T.loadTemplate(
          /* html */
          '<div class="ag-filter-separator"></div>'
        ));
        var a = r.filterDefs[i], s = r.getFilterTitle(n, a), l;
        if (a.display === "subMenu" && e !== "toolPanel") {
          var u = r.insertFilterMenu(n, s);
          l = u.getGui();
        } else if (a.display === "subMenu" || a.display === "accordion") {
          var c = r.insertFilterGroup(n, s);
          l = c.getGui();
        } else
          l = n.getGui();
        r.appendChild(l);
      }), this.lastOpenedInContainer = e);
    }, t.prototype.getFilterTitle = function(e, r) {
      if (r.title != null)
        return r.title;
      var n = e;
      return typeof n.getFilterTitle == "function" ? n.getFilterTitle() : "Filter";
    }, t.prototype.destroyChildren = function() {
      this.guiDestroyFuncs.forEach(function(e) {
        return e();
      }), this.guiDestroyFuncs.length = 0;
    }, t.prototype.insertFilterMenu = function(e, r) {
      var n = this, i = this.createBean(new Hn({
        name: r,
        subMenu: e,
        cssClasses: ["ag-multi-filter-menu-item"],
        isCompact: !0,
        isAnotherSubMenuOpen: function() {
          return !1;
        }
      }));
      return i.setParentComponent(this), this.guiDestroyFuncs.push(function() {
        return n.destroyBean(i);
      }), this.addManagedListener(i, Hn.EVENT_MENU_ITEM_ACTIVATED, function(a) {
        n.lastActivatedMenuItem && n.lastActivatedMenuItem !== a.menuItem && n.lastActivatedMenuItem.deactivate(), n.lastActivatedMenuItem = a.menuItem;
      }), i.addGuiEventListener("focusin", function() {
        return i.activate();
      }), i.addGuiEventListener("focusout", function() {
        i.isSubMenuOpen() || i.deactivate();
      }), i;
    }, t.prototype.insertFilterGroup = function(e, r) {
      var n = this, i = this.createBean(new Ci({
        title: r,
        cssIdentifier: "multi-filter"
      }));
      return this.guiDestroyFuncs.push(function() {
        return n.destroyBean(i);
      }), i.addItem(e.getGui()), i.toggleGroupExpand(!1), e.afterGuiAttached && i.addManagedListener(i, Ci.EVENT_EXPANDED, function() {
        return e.afterGuiAttached({
          container: n.lastOpenedInContainer,
          suppressFocus: !0,
          hidePopup: n.hidePopup
        });
      }), i;
    }, t.prototype.isFilterActive = function() {
      return this.filters.some(function(e) {
        return e.isFilterActive();
      });
    }, t.prototype.getLastActiveFilterIndex = function() {
      return this.activeFilterIndices.length > 0 ? this.activeFilterIndices[this.activeFilterIndices.length - 1] : null;
    }, t.prototype.doesFilterPass = function(e, r) {
      var n = !0;
      return this.filters.forEach(function(i) {
        !n || i === r || !i.isFilterActive() || (n = i.doesFilterPass(e));
      }), n;
    }, t.prototype.getFilterType = function() {
      return "multi";
    }, t.prototype.getModelFromUi = function() {
      var e = {
        filterType: this.getFilterType(),
        filterModels: this.filters.map(function(r) {
          var n = r;
          return typeof n.getModelFromUi == "function" ? n.getModelFromUi() : null;
        })
      };
      return e;
    }, t.prototype.getModel = function() {
      if (!this.isFilterActive())
        return null;
      var e = {
        filterType: this.getFilterType(),
        filterModels: this.filters.map(function(r) {
          return r.isFilterActive() ? r.getModel() : null;
        })
      };
      return e;
    }, t.prototype.setModel = function(e) {
      var r = this, n = function(a, s) {
        return new Je(function(l) {
          var u = a.setModel(s);
          u ? u.then(function() {
            return l();
          }) : l();
        });
      }, i = [];
      return e == null ? i = this.filters.map(function(a, s) {
        var l = n(a, null).then(function() {
          r.updateActiveList(s);
        });
        return l;
      }) : this.filters.forEach(function(a, s) {
        var l = e.filterModels.length > s ? e.filterModels[s] : null, u = n(a, l).then(function() {
          r.updateActiveList(s);
        });
        i.push(u);
      }), Je.all(i).then(function() {
      });
    }, t.prototype.applyModel = function(e) {
      e === void 0 && (e = "api");
      var r = !1;
      return this.filters.forEach(function(n) {
        n instanceof Ul && (r = n.applyModel(e) || r);
      }), r;
    }, t.prototype.getChildFilterInstance = function(e) {
      return this.filters[e];
    }, t.prototype.afterGuiAttached = function(e) {
      e ? (this.hidePopup = e.hidePopup, this.refreshGui(e.container)) : this.hidePopup = void 0;
      var r = this.params.filters, n = r && r.some(function(s) {
        return s.display && s.display !== "inline";
      });
      this.executeFunctionIfExists("afterGuiAttached", Ml(Ml({}, e || {}), { suppressFocus: n }));
      var i = this.gridOptionsService.getDocument(), a = i.activeElement;
      n && (a === i.body || this.getGui().contains(a)) && this.forceFocusOutOfContainer(!0);
    }, t.prototype.afterGuiDetached = function() {
      this.executeFunctionIfExists("afterGuiDetached");
    }, t.prototype.onAnyFilterChanged = function() {
      this.executeFunctionIfExists("onAnyFilterChanged");
    }, t.prototype.onNewRowsLoaded = function() {
      this.executeFunctionIfExists("onNewRowsLoaded");
    }, t.prototype.destroy = function() {
      var e = this;
      this.filters.forEach(function(r) {
        r.setModel(null), e.destroyBean(r);
      }), this.filters.length = 0, this.destroyChildren(), this.hidePopup = void 0, o.prototype.destroy.call(this);
    }, t.prototype.executeFunctionIfExists = function(e) {
      for (var r = [], n = 1; n < arguments.length; n++)
        r[n - 1] = arguments[n];
      T.forEachReverse(this.filters, function(i) {
        var a = i[e];
        typeof a == "function" && a.apply(i, r);
      });
    }, t.prototype.createFilter = function(e, r) {
      var n = this, i = this.params, a = i.filterModifiedCallback, s = i.doesRowPassOtherFilter, l, u = Ml(Ml({}, this.filterManager.createFilterParams(this.column, this.column.getColDef())), { filterModifiedCallback: a, filterChangedCallback: function(p) {
        n.executeWhenAllFiltersReady(function() {
          return n.filterChanged(r, p);
        });
      }, doesRowPassOtherFilter: function(p) {
        return s(p) && n.doesFilterPass({ node: p, data: p.data }, l);
      } }), c = this.userComponentFactory.getFilterDetails(e, u, "agTextColumnFilter");
      if (!c)
        return null;
      var d = c.newAgStackInstance();
      return d && d.then(function(p) {
        return l = p;
      }), d;
    }, t.prototype.executeWhenAllFiltersReady = function(e) {
      this.filters && this.filters.length > 0 ? e() : this.afterFiltersReadyFuncs.push(e);
    }, t.prototype.updateActiveList = function(e) {
      var r = this.filters[e];
      T.removeFromArray(this.activeFilterIndices, e), r.isFilterActive() && this.activeFilterIndices.push(e);
    }, t.prototype.filterChanged = function(e, r) {
      this.updateActiveList(e), this.filterChangedCallback(r);
      var n = this.filters[e];
      this.filters.forEach(function(i) {
        i !== n && typeof i.onAnyFilterChanged == "function" && i.onAnyFilterChanged();
      });
    }, t.prototype.onFocusIn = function(e) {
      return this.lastActivatedMenuItem != null && !this.lastActivatedMenuItem.getGui().contains(e.target) && (this.lastActivatedMenuItem.deactivate(), this.lastActivatedMenuItem = null), !0;
    }, t.prototype.getModelAsString = function(e) {
      var r, n, i, a;
      if (!this.filters || !(!((r = e == null ? void 0 : e.filterModels) === null || r === void 0) && r.length))
        return "";
      var s = (n = this.getLastActiveFilterIndex()) !== null && n !== void 0 ? n : 0, l = this.filters[s];
      return (a = (i = l.getModelAsString) === null || i === void 0 ? void 0 : i.call(l, e.filterModels[s])) !== null && a !== void 0 ? a : "";
    }, Lg([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Lg([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), Lg([
      V
    ], t.prototype, "postConstruct", null), t;
  }(iu)
), s9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), of = function() {
  return of = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, of.apply(this, arguments);
}, y0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, l9 = (
  /** @class */
  function(o) {
    s9(t, o);
    function t() {
      var e = o.call(
        this,
        /* html */
        '<div class="ag-multi-floating-filter ag-floating-filter-input"></div>'
      ) || this;
      return e.floatingFilters = [], e;
    }
    return t.prototype.init = function(e) {
      var r = this;
      this.params = e;
      var n = e.filterParams, i = [];
      return Ky.getFilterDefs(n).forEach(function(a, s) {
        var l = of(of({}, e), {
          // set the parent filter instance for each floating filter to the relevant child filter instance
          parentFilterInstance: function(c) {
            r.parentMultiFilterInstance(function(d) {
              var p = d.getChildFilterInstance(s);
              p != null && c(p);
            });
          }
        });
        T.mergeDeep(l.filterParams, a.filterParams);
        var u = r.createFloatingFilter(a, l);
        u != null && i.push(u);
      }), Je.all(i).then(function(a) {
        a.forEach(function(s, l) {
          r.floatingFilters.push(s);
          var u = s.getGui();
          r.appendChild(u), l > 0 && T.setDisplayed(u, !1);
        });
      });
    }, t.prototype.onParentModelChanged = function(e, r) {
      var n = this;
      r && r.afterFloatingFilter || this.parentMultiFilterInstance(function(i) {
        if (e == null)
          n.floatingFilters.forEach(function(s, l) {
            s.onParentModelChanged(null, r), T.setDisplayed(s.getGui(), l === 0);
          });
        else {
          var a = i.getLastActiveFilterIndex();
          n.floatingFilters.forEach(function(s, l) {
            var u = e.filterModels.length > l ? e.filterModels[l] : null;
            s.onParentModelChanged(u, r);
            var c = a == null ? l === 0 : l === a;
            T.setDisplayed(s.getGui(), c);
          });
        }
      });
    }, t.prototype.destroy = function() {
      this.destroyBeans(this.floatingFilters), this.floatingFilters.length = 0, o.prototype.destroy.call(this);
    }, t.prototype.createFloatingFilter = function(e, r) {
      var n = this, i, a = (i = this.userComponentFactory.getDefaultFloatingFilterType(e, function() {
        return n.filterManager.getDefaultFloatingFilter(n.params.column);
      })) !== null && i !== void 0 ? i : "agReadOnlyFloatingFilter", s = this.userComponentFactory.getFloatingFilterCompDetails(e, r, a);
      return s ? s.newAgStackInstance() : null;
    }, t.prototype.parentMultiFilterInstance = function(e) {
      this.params.parentFilterInstance(function(r) {
        if (!(r instanceof Ky))
          throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");
        e(r);
      });
    }, y0([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), y0([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), t;
  }(te)
), u9 = "30.0.6", c9 = {
  version: u9,
  moduleName: Z.MultiFilterModule,
  beans: [],
  userComponents: [
    { componentName: "agMultiColumnFilter", componentClass: Ky },
    { componentName: "agMultiColumnFloatingFilter", componentClass: l9 }
  ],
  dependantModules: [
    cr
  ]
};
function uT(o, t) {
  o.then(function(e) {
    var r = e.getGui();
    r != null && (typeof r == "object" ? t.appendChild(r) : t.innerHTML = r);
  });
}
var d9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), p9 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, h9 = (
  /** @class */
  function(o) {
    d9(t, o);
    function t(e) {
      var r = o.call(
        this,
        /* html */
        '<div class="ag-rich-select-row" role="presentation"></div>'
      ) || this;
      return r.params = e, r;
    }
    return t.prototype.setState = function(e, r, n) {
      var i = this.populateWithRenderer(e, r);
      i || this.populateWithoutRenderer(e, r), this.updateSelected(n);
    }, t.prototype.updateSelected = function(e) {
      this.addOrRemoveCssClass("ag-rich-select-row-selected", e);
    }, t.prototype.populateWithoutRenderer = function(e, r) {
      var n = r != null, i = n ? r : e;
      T.exists(i) && i !== "" ? this.getGui().textContent = i.toString() : this.getGui().innerHTML = "&nbsp;";
    }, t.prototype.populateWithRenderer = function(e, r) {
      var n = this, i = {
        value: e,
        valueFormatted: r,
        api: this.gridOptionsService.api
      }, a = this.userComponentFactory.getCellRendererDetails(this.params, i), s = a ? a.newAgStackInstance() : void 0;
      return s != null ? uT(s, this.getGui()) : this.getGui().innerText = i.valueFormatted != null ? i.valueFormatted : i.value, s ? (s.then(function(l) {
        n.addDestroyFunc(function() {
          n.getContext().destroyBean(l);
        });
      }), !0) : !1;
    }, p9([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), t;
  }(te)
), f9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ng = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, m0 = (
  /** @class */
  function(o) {
    f9(t, o);
    function t() {
      var e = o.call(this, t.TEMPLATE) || this;
      return e.selectionConfirmed = !1, e.searchString = "", e;
    }
    return t.prototype.init = function(e) {
      var r;
      this.params = e, this.selectedValue = e.value, this.originalSelectedValue = e.value, this.focusAfterAttached = e.cellStartedEdit;
      var n = T.createIconNoSpan("smallDown", this.gridOptionsService);
      if (n.classList.add("ag-rich-select-value-icon"), this.eValue.appendChild(n), this.virtualList = this.createManagedBean(new Tf("rich-select")), this.virtualList.setComponentCreator(this.createRowComponent.bind(this)), this.eList.appendChild(this.virtualList.getGui()), T.exists(this.params.cellHeight) && this.virtualList.setRowHeight(this.params.cellHeight), this.renderSelectedValue(), T.missing(e.values)) {
        console.warn("AG Grid: richSelectCellEditor requires values for it to work");
        return;
      }
      var i = e.values;
      this.virtualList.setModel({
        getRowCount: function() {
          return i.length;
        },
        getRow: function(l) {
          return i[l];
        }
      }), this.addGuiEventListener("keydown", this.onKeyDown.bind(this));
      var a = this.virtualList.getGui();
      this.addManagedListener(a, "click", this.onClick.bind(this)), this.addManagedListener(a, "mousemove", this.onMouseMove.bind(this));
      var s = T.exists(e.searchDebounceDelay) ? e.searchDebounceDelay : 300;
      this.clearSearchString = T.debounce(this.clearSearchString, s), ((r = e.eventKey) === null || r === void 0 ? void 0 : r.length) === 1 && this.searchText(e.eventKey);
    }, t.prototype.onKeyDown = function(e) {
      var r = e.key;
      switch (e.preventDefault(), r) {
        case H.ENTER:
          this.onEnterKeyDown();
          break;
        case H.TAB:
          this.confirmSelection();
          break;
        case H.DOWN:
        case H.UP:
          this.onNavigationKeyDown(e, r);
          break;
        default:
          this.searchText(e);
      }
    }, t.prototype.confirmSelection = function() {
      this.selectionConfirmed = !0;
    }, t.prototype.onEnterKeyDown = function() {
      this.confirmSelection(), this.params.stopEditing();
    }, t.prototype.onNavigationKeyDown = function(e, r) {
      e.preventDefault();
      var n = this.params.values.indexOf(this.selectedValue), i = r === H.UP ? n - 1 : n + 1;
      if (i >= 0 && i < this.params.values.length) {
        var a = this.params.values[i];
        this.setSelectedValue(a);
      }
    }, t.prototype.searchText = function(e) {
      if (typeof e != "string") {
        var r = e.key;
        if (r === H.BACKSPACE)
          this.searchString = this.searchString.slice(0, -1), r = "";
        else if (!T.isEventFromPrintableCharacter(e))
          return;
        this.searchText(r);
        return;
      }
      this.searchString += e, this.runSearch(), this.clearSearchString();
    }, t.prototype.runSearch = function() {
      var e = this, r = this.params.values, n;
      if ((typeof r[0] == "number" || typeof r[0] == "string") && (n = r.map(function(l) {
        return e.params.formatValue(l);
      })), typeof r[0] == "object" && this.params.colDef.keyCreator && (n = r.map(function(l) {
        var u = {
          value: l,
          colDef: e.params.colDef,
          column: e.params.column,
          node: e.params.node,
          data: e.params.data,
          api: e.gridOptionsService.api,
          columnApi: e.gridOptionsService.columnApi,
          context: e.gridOptionsService.context
        };
        return e.params.colDef.keyCreator(u);
      })), !!n) {
        var i = T.fuzzySuggestions(this.searchString, n, !0)[0];
        if (i) {
          var a = n.indexOf(i), s = r[a];
          this.setSelectedValue(s);
        }
      }
    }, t.prototype.clearSearchString = function() {
      this.searchString = "";
    }, t.prototype.renderSelectedValue = function() {
      var e = this, r = this.params.formatValue(this.selectedValue), n = this.eValue, i = {
        value: this.selectedValue,
        valueFormatted: r,
        api: this.gridOptionsService.api
      }, a = this.userComponentFactory.getCellRendererDetails(this.params, i), s = a ? a.newAgStackInstance() : void 0;
      s ? (uT(s, n), s.then(function(l) {
        e.addDestroyFunc(function() {
          return e.getContext().destroyBean(l);
        });
      })) : T.exists(this.selectedValue) ? n.innerText = r : T.clearElement(n);
    }, t.prototype.setSelectedValue = function(e) {
      if (this.selectedValue !== e) {
        var r = this.params.values.indexOf(e);
        r !== -1 && (this.selectedValue = e, this.virtualList.ensureIndexVisible(r), this.virtualList.forEachRenderedRow(function(n, i) {
          n.updateSelected(r === i);
        }), this.virtualList.focusRow(r));
      }
    }, t.prototype.createRowComponent = function(e) {
      var r = this.params.formatValue(e), n = new h9(this.params);
      return this.getContext().createBean(n), n.setState(e, r, e === this.selectedValue), n;
    }, t.prototype.onMouseMove = function(e) {
      var r = this.virtualList.getGui().getBoundingClientRect(), n = this.virtualList.getScrollTop(), i = e.clientY - r.top + n, a = Math.floor(i / this.virtualList.getRowHeight()), s = this.params.values[a];
      s !== void 0 && this.setSelectedValue(s);
    }, t.prototype.onClick = function() {
      this.confirmSelection(), this.params.stopEditing();
    }, t.prototype.afterGuiAttached = function() {
      var e = this.params.values.indexOf(this.selectedValue);
      if (this.virtualList.refresh(), e >= 0 && this.virtualList.ensureIndexVisible(e), this.virtualList.refresh(), this.focusAfterAttached) {
        var r = e !== -1 ? e : 0;
        this.params.values.length ? this.virtualList.focusRow(r) : this.getGui().focus();
      }
    }, t.prototype.getValue = function() {
      return this.selectionConfirmed ? this.selectedValue : this.originalSelectedValue;
    }, t.TEMPLATE = `<div class="ag-rich-select" tabindex="-1">
            <div ref="eValue" class="ag-rich-select-value"></div>
            <div ref="eList" class="ag-rich-select-list"></div>
        </div>`, Ng([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), Ng([
      G("eValue")
    ], t.prototype, "eValue", void 0), Ng([
      G("eList")
    ], t.prototype, "eList", void 0), t;
  }(ps)
), v9 = "30.0.6", g9 = {
  version: v9,
  moduleName: Z.RichSelectModule,
  beans: [],
  userComponents: [
    { componentName: "agRichSelect", componentClass: m0 },
    { componentName: "agRichSelectCellEditor", componentClass: m0 }
  ],
  dependantModules: [
    cr
  ]
}, y9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, cT = (
  /** @class */
  function(o) {
    y9(t, o);
    function t(e, r, n) {
      var i = (
        // finite block represents a cache with just one block, thus 0 is the id, it's the first block
        o.call(this, 0) || this
      );
      return i.nodeIdSequence = new ar(), i.info = {}, i.ssrmParams = e, i.parentRowNode = n, i.level = n.level + 1, i.groupLevel = e.rowGroupCols ? i.level < e.rowGroupCols.length : void 0, i.leafGroup = e.rowGroupCols ? i.level === e.rowGroupCols.length - 1 : !1, i;
    }
    return t.prototype.postConstruct = function() {
      var e = this;
      if (this.usingTreeData = this.gridOptionsService.isTreeData(), this.nodeIdPrefix = this.blockUtils.createNodeIdPrefix(this.parentRowNode), !this.usingTreeData && this.groupLevel) {
        var r = this.ssrmParams.rowGroupCols[this.level];
        this.groupField = r.field, this.rowGroupColumn = this.columnModel.getRowGroupColumns()[this.level];
      }
      var n = 1, i = this.parentRowNode.level === -1, a = this.storeUtils.getServerSideInitialRowCount();
      i && a !== void 0 && (n = a), this.initialiseRowNodes(n), this.rowNodeBlockLoader.addBlock(this), this.addDestroyFunc(function() {
        return e.rowNodeBlockLoader.removeBlock(e);
      });
    }, t.prototype.destroyRowNodes = function() {
      this.blockUtils.destroyRowNodes(this.allRowNodes), this.allRowNodes = [], this.nodesAfterSort = [], this.nodesAfterFilter = [], this.allNodesMap = {};
    }, t.prototype.initialiseRowNodes = function(e, r) {
      r === void 0 && (r = !1), this.destroyRowNodes();
      for (var n = 0; n < e; n++) {
        var i = this.blockUtils.createRowNode({
          field: this.groupField,
          group: this.groupLevel,
          leafGroup: this.leafGroup,
          level: this.level,
          parent: this.parentRowNode,
          rowGroupColumn: this.rowGroupColumn
        });
        r && (i.failedLoad = !0), this.allRowNodes.push(i), this.nodesAfterFilter.push(i), this.nodesAfterSort.push(i);
      }
    }, t.prototype.getBlockStateJson = function() {
      return {
        id: this.nodeIdPrefix ? this.nodeIdPrefix : "",
        state: this.getState()
      };
    }, t.prototype.loadFromDatasource = function() {
      this.storeUtils.loadFromDatasource({
        startRow: void 0,
        endRow: void 0,
        parentBlock: this,
        parentNode: this.parentRowNode,
        storeParams: this.ssrmParams,
        successCallback: this.pageLoaded.bind(this, this.getVersion()),
        success: this.success.bind(this, this.getVersion()),
        failCallback: this.pageLoadFailed.bind(this, this.getVersion()),
        fail: this.pageLoadFailed.bind(this, this.getVersion())
      });
    }, t.prototype.getStartRow = function() {
      return 0;
    }, t.prototype.getEndRow = function() {
      return this.nodesAfterSort.length;
    }, t.prototype.createDataNode = function(e, r) {
      var n = this.blockUtils.createRowNode({
        field: this.groupField,
        group: this.groupLevel,
        leafGroup: this.leafGroup,
        level: this.level,
        parent: this.parentRowNode,
        rowGroupColumn: this.rowGroupColumn
      });
      r != null ? T.insertIntoArray(this.allRowNodes, n, r) : this.allRowNodes.push(n);
      var i = this.prefixId(this.nodeIdSequence.next());
      return this.blockUtils.setDataIntoRowNode(n, e, i, void 0), this.nodeManager.addRowNode(n), this.blockUtils.checkOpenByDefault(n), this.allNodesMap[n.id] = n, n;
    }, t.prototype.prefixId = function(e) {
      return this.nodeIdPrefix ? this.nodeIdPrefix + "-" + e : e.toString();
    }, t.prototype.processServerFail = function() {
      this.initialiseRowNodes(1, !0), this.fireStoreUpdatedEvent(), this.flushAsyncTransactions();
    }, t.prototype.processServerResult = function(e) {
      if (this.isAlive()) {
        var r = e.storeInfo || e.groupLevelInfo;
        r && Object.assign(this.info, r);
        var n = this.allRowNodes.length > 0 ? this.allNodesMap : void 0;
        if (this.allRowNodes = [], this.nodesAfterSort = [], this.nodesAfterFilter = [], this.allNodesMap = {}, !e.rowData) {
          var i = 'AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.';
          T.doOnce(function() {
            return console.warn(i, e);
          }, "FullStore.noData");
        }
        this.createOrRecycleNodes(n, e.rowData), n && this.blockUtils.destroyRowNodes(T.getAllValuesInObject(n)), this.filterAndSortNodes(), this.fireStoreUpdatedEvent(), this.flushAsyncTransactions();
      }
    }, t.prototype.createOrRecycleNodes = function(e, r) {
      var n = this;
      if (r) {
        var i = function(s) {
          if (e) {
            var l = n.gridOptionsService.getCallback("getRowId");
            if (l) {
              var u = n.parentRowNode.getGroupKeys(), c = n.level, d = l({
                data: s,
                parentKeys: u.length > 0 ? u : void 0,
                level: c
              }), p = e[d];
              if (p)
                return delete e[d], p;
            }
          }
        }, a = function(s, l) {
          n.allNodesMap[s.id] = s, n.blockUtils.updateDataIntoRowNode(s, l), n.allRowNodes.push(s);
        };
        r.forEach(function(s) {
          var l = i(s);
          l ? a(l, s) : n.createDataNode(s);
        });
      }
    }, t.prototype.flushAsyncTransactions = function() {
      var e = this;
      window.setTimeout(function() {
        return e.transactionManager.flushAsyncTransactions();
      }, 0);
    }, t.prototype.filterAndSortNodes = function() {
      this.filterRowNodes(), this.sortRowNodes();
    }, t.prototype.sortRowNodes = function() {
      var e = this.storeUtils.isServerSideSortAllLevels() || this.storeUtils.isServerSideSortOnServer(), r = this.sortController.getSortOptions(), n = !r || r.length == 0;
      if (e || n) {
        this.nodesAfterSort = this.nodesAfterFilter;
        return;
      }
      this.nodesAfterSort = this.rowNodeSorter.doFullSort(this.nodesAfterFilter, r);
    }, t.prototype.filterRowNodes = function() {
      var e = this, r = !this.storeUtils.isServerSideOnlyRefreshFilteredGroups() || this.storeUtils.isServerSideFilterOnServer(), n = this.groupLevel;
      if (r || n) {
        this.nodesAfterFilter = this.allRowNodes;
        return;
      }
      this.nodesAfterFilter = this.allRowNodes.filter(function(i) {
        return e.filterManager.doesRowPassFilter({ rowNode: i });
      });
    }, t.prototype.clearDisplayIndexes = function() {
      var e = this;
      this.displayIndexStart = void 0, this.displayIndexEnd = void 0, this.allRowNodes.forEach(function(r) {
        return e.blockUtils.clearDisplayIndex(r);
      });
    }, t.prototype.getDisplayIndexEnd = function() {
      return this.displayIndexEnd;
    }, t.prototype.isDisplayIndexInStore = function(e) {
      return this.getRowCount() === 0 ? !1 : e >= this.displayIndexStart && e < this.displayIndexEnd;
    }, t.prototype.setDisplayIndexes = function(e, r) {
      var n = this;
      this.displayIndexStart = e.peek(), this.topPx = r.value;
      var i = {};
      this.nodesAfterSort.forEach(function(a) {
        n.blockUtils.setDisplayIndex(a, e, r), i[a.id] = !0;
      }), this.allRowNodes.forEach(function(a) {
        i[a.id] || n.blockUtils.clearDisplayIndex(a);
      }), this.displayIndexEnd = e.peek(), this.heightPx = r.value - this.topPx;
    }, t.prototype.forEachStoreDeep = function(e, r) {
      r === void 0 && (r = new ar()), e(this, r.next()), this.allRowNodes.forEach(function(n) {
        var i = n.childStore;
        i && i.forEachStoreDeep(e, r);
      });
    }, t.prototype.forEachNodeDeep = function(e, r) {
      r === void 0 && (r = new ar()), this.allRowNodes.forEach(function(n) {
        e(n, r.next());
        var i = n.childStore;
        i && i.forEachNodeDeep(e, r);
      });
    }, t.prototype.forEachNodeDeepAfterFilterAndSort = function(e, r) {
      r === void 0 && (r = new ar()), this.nodesAfterSort.forEach(function(n) {
        e(n, r.next());
        var i = n.childStore;
        i && i.forEachNodeDeepAfterFilterAndSort(e, r);
      });
    }, t.prototype.getRowUsingDisplayIndex = function(e) {
      if (this.isDisplayIndexInStore(e)) {
        var r = this.blockUtils.binarySearchForDisplayIndex(e, this.nodesAfterSort);
        return r;
      }
    }, t.prototype.getRowBounds = function(e) {
      for (var r = 0; r < this.nodesAfterSort.length; r++) {
        var n = this.nodesAfterSort[r], i = this.blockUtils.extractRowBounds(n, e);
        if (i)
          return i;
      }
      return null;
    }, t.prototype.isPixelInRange = function(e) {
      return e >= this.topPx && e < this.topPx + this.heightPx;
    }, t.prototype.getRowIndexAtPixel = function(e) {
      var r = this, n = e <= this.topPx;
      if (n) {
        var i = this.nodesAfterSort[0];
        return i.rowIndex;
      }
      var a = e >= this.topPx + this.heightPx;
      if (a) {
        var s = this.nodesAfterSort[this.nodesAfterSort.length - 1], l = s.rowTop + s.rowHeight;
        if (e >= l && s.expanded) {
          if (s.childStore && s.childStore.getRowCount() > 0)
            return s.childStore.getRowIndexAtPixel(e);
          if (s.detailNode)
            return s.detailNode.rowIndex;
        }
        return s.rowIndex;
      }
      var u = null;
      this.nodesAfterSort.forEach(function(d) {
        var p = r.blockUtils.getIndexAtPixel(d, e);
        p != null && (u = p);
      });
      var c = u == null;
      return c ? this.displayIndexEnd - 1 : u;
    }, t.prototype.getChildStore = function(e) {
      var r = this;
      return this.storeUtils.getChildStore(e, this, function(n) {
        var i = r.allRowNodes.find(function(a) {
          return a.key == n;
        });
        return i;
      });
    }, t.prototype.forEachChildStoreShallow = function(e) {
      this.allRowNodes.forEach(function(r) {
        var n = r.childStore;
        n && e(n);
      });
    }, t.prototype.refreshAfterFilter = function(e) {
      var r = this.storeUtils.isServerSideFilterOnServer(), n = this.storeUtils.isServerRefreshNeeded(this.parentRowNode, this.ssrmParams.rowGroupCols, e), i = !this.storeUtils.isServerSideOnlyRefreshFilteredGroups();
      if (i || r && n) {
        this.refreshStore(!0), this.sortRowNodes();
        return;
      }
      this.filterRowNodes(), this.sortRowNodes(), this.forEachChildStoreShallow(function(a) {
        return a.refreshAfterFilter(e);
      });
    }, t.prototype.refreshAfterSort = function(e) {
      var r = this.storeUtils.isServerSideSortOnServer(), n = this.storeUtils.isServerRefreshNeeded(this.parentRowNode, this.ssrmParams.rowGroupCols, e), i = this.storeUtils.isServerSideSortAllLevels();
      if (i || r && n) {
        this.refreshStore(!0), this.filterRowNodes();
        return;
      }
      this.filterRowNodes(), this.sortRowNodes(), this.forEachChildStoreShallow(function(a) {
        return a.refreshAfterSort(e);
      });
    }, t.prototype.applyTransaction = function(e) {
      switch (this.getState()) {
        case Yi.STATE_FAILED:
          return { status: Ir.StoreLoadingFailed };
        case Yi.STATE_LOADING:
          return { status: Ir.StoreLoading };
        case Yi.STATE_WAITING_TO_LOAD:
          return { status: Ir.StoreWaitingToLoad };
      }
      var r = this.gridOptionsService.getCallback("isApplyServerSideTransaction");
      if (r) {
        var n = {
          transaction: e,
          parentNode: this.parentRowNode,
          storeInfo: this.info,
          groupLevelInfo: this.info
        }, i = r(n);
        if (!i)
          return { status: Ir.Cancelled };
      }
      var a = {
        status: Ir.Applied,
        remove: [],
        update: [],
        add: []
      }, s = [];
      return this.executeAdd(e, a), this.executeRemove(e, a, s), this.executeUpdate(e, a, s), this.filterAndSortNodes(), this.updateSelection(s), a;
    }, t.prototype.updateSelection = function(e) {
      var r = e.length > 0;
      if (r) {
        this.selectionService.setNodesSelected({
          newValue: !1,
          nodes: e,
          suppressFinishActions: !0,
          clearSelection: !1,
          source: "rowDataChanged"
        });
        var n = {
          type: R.EVENT_SELECTION_CHANGED,
          source: "rowDataChanged"
        };
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.executeAdd = function(e, r) {
      var n = this, i = e.add, a = e.addIndex;
      if (!T.missingOrEmpty(i)) {
        var s = typeof a == "number" && a >= 0;
        s ? i.reverse().forEach(function(l) {
          var u = n.createDataNode(l, a);
          r.add.push(u);
        }) : i.forEach(function(l) {
          var u = n.createDataNode(l);
          r.add.push(u);
        });
      }
    }, t.prototype.executeRemove = function(e, r, n) {
      var i = this, a = e.remove;
      if (a != null) {
        var s = {};
        a.forEach(function(l) {
          var u = i.lookupRowNode(l);
          u && (u.isSelected() && n.push(u), u.clearRowTopAndRowIndex(), s[u.id] = !0, delete i.allNodesMap[u.id], r.remove.push(u), i.nodeManager.removeNode(u));
        }), this.allRowNodes = this.allRowNodes.filter(function(l) {
          return !s[l.id];
        });
      }
    }, t.prototype.executeUpdate = function(e, r, n) {
      var i = this, a = e.update;
      a != null && a.forEach(function(s) {
        var l = i.lookupRowNode(s);
        l && (i.blockUtils.updateDataIntoRowNode(l, s), !l.selectable && l.isSelected() && n.push(l), r.update.push(l));
      });
    }, t.prototype.lookupRowNode = function(e) {
      var r = this.gridOptionsService.getCallback("getRowId"), n;
      if (r != null) {
        var i = this.level, a = this.parentRowNode.getGroupKeys(), s = r({
          data: e,
          parentKeys: a.length > 0 ? a : void 0,
          level: i
        });
        if (n = this.allNodesMap[s], !n)
          return console.error("AG Grid: could not find row id=" + s + ", data item was not found for this id"), null;
      } else if (n = this.allRowNodes.find(function(l) {
        return l.data === e;
      }), !n)
        return console.error("AG Grid: could not find data item as object was not found", e), null;
      return n;
    }, t.prototype.addStoreStates = function(e) {
      e.push({
        suppressInfiniteScroll: !0,
        route: this.parentRowNode.getGroupKeys(),
        rowCount: this.allRowNodes.length,
        info: this.info
      }), this.forEachChildStoreShallow(function(r) {
        return r.addStoreStates(e);
      });
    }, t.prototype.refreshStore = function(e) {
      if (e) {
        var r = this.nodesAfterSort ? this.nodesAfterSort.length : 1;
        this.initialiseRowNodes(r);
      }
      this.scheduleLoad(), this.fireStoreUpdatedEvent();
    }, t.prototype.retryLoads = function() {
      this.getState() === Yi.STATE_FAILED && (this.initialiseRowNodes(1), this.scheduleLoad()), this.forEachChildStoreShallow(function(e) {
        return e.retryLoads();
      });
    }, t.prototype.scheduleLoad = function() {
      this.setStateWaitingToLoad(), this.rowNodeBlockLoader.checkBlockToLoad();
    }, t.prototype.fireStoreUpdatedEvent = function() {
      var e = {
        type: R.EVENT_STORE_UPDATED
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.getRowCount = function() {
      return this.nodesAfterSort.length;
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      var r = this.nodesAfterSort[e];
      return r.rowIndex;
    }, t.prototype.isLastRowIndexKnown = function() {
      return this.getState() == Yi.STATE_LOADED;
    }, t.prototype.getRowNodesInRange = function(e, r) {
      var n = [], i = !1;
      T.missing(e) && (i = !0), this.nodesAfterSort.forEach(function(s) {
        var l = s === e || s === r;
        (i || l) && n.push(s), l && (i = !i);
      });
      var a = i;
      return a ? [] : n;
    }, t.prototype.getStoreBounds = function() {
      return {
        topPx: this.topPx,
        heightPx: this.heightPx
      };
    }, pn([
      w("ssrmStoreUtils")
    ], t.prototype, "storeUtils", void 0), pn([
      w("ssrmBlockUtils")
    ], t.prototype, "blockUtils", void 0), pn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), pn([
      w("rowNodeBlockLoader")
    ], t.prototype, "rowNodeBlockLoader", void 0), pn([
      w("rowNodeSorter")
    ], t.prototype, "rowNodeSorter", void 0), pn([
      w("sortController")
    ], t.prototype, "sortController", void 0), pn([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), pn([
      w("ssrmNodeManager")
    ], t.prototype, "nodeManager", void 0), pn([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), pn([
      w("ssrmTransactionManager")
    ], t.prototype, "transactionManager", void 0), pn([
      V
    ], t.prototype, "postConstruct", null), pn([
      rt
    ], t.prototype, "destroyRowNodes", null), t;
  }(Yi)
), m9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Vp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, C9 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, S9 = (
  /** @class */
  function(o) {
    m9(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.loadingNodes = /* @__PURE__ */ new Set(), i.checkForLoadQueued = !1, i.loaderTimeout = void 0, i.nextBlockToLoad = void 0, i.parentNode = r, i.cache = e, i.storeParams = n, i;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addManagedListener(this.rowNodeBlockLoader, jE.BLOCK_LOADED_EVENT, function() {
        return e.queueLoadAction();
      });
    }, t.prototype.isRowLoading = function(e) {
      return this.loadingNodes.has(e);
    }, t.prototype.getBlockToLoad = function() {
      for (var e, r = this.api.getFirstDisplayedRow(), n = this.api.getLastDisplayedRow(), i = r; i <= n; i++) {
        var a = this.cache.getNodeCachedByDisplayIndex(i);
        if (a) {
          var s = this.cache.getNodes().getBy("node", a);
          if (s && !this.isRowLoading(s.index) && (a.__needsRefreshWhenVisible || a.stub && !a.failedLoad))
            return this.getBlockStartIndexForIndex(s.index);
        }
      }
      var l = this.cache.getNodesToRefresh(), u = null, c = Number.MAX_SAFE_INTEGER;
      l.forEach(function(p) {
        if (p.rowIndex == null) {
          u = p;
          return;
        }
        var h = Math.abs(r - p.rowIndex), f = Math.abs(p.rowIndex - n);
        h < c && (u = p, c = h), f < c && (u = p, c = f);
      });
      var d = (e = this.cache.getNodes().getBy("node", u)) === null || e === void 0 ? void 0 : e.index;
      return d == null ? void 0 : this.getBlockStartIndexForIndex(d);
    }, t.prototype.reset = function() {
      this.loadingNodes.clear(), clearTimeout(this.loaderTimeout), this.loaderTimeout = void 0;
    }, t.prototype.executeLoad = function(e, r) {
      var n = this, i, a = this.cache.getSsrmParams(), s = {
        startRow: e,
        endRow: r,
        rowGroupCols: a.rowGroupCols,
        valueCols: a.valueCols,
        pivotCols: a.pivotCols,
        pivotMode: a.pivotMode,
        groupKeys: this.parentNode.getGroupKeys(),
        filterModel: a.filterModel,
        sortModel: a.sortModel
      }, l = function() {
        for (var h = 0; h < r - e; h++)
          n.loadingNodes.delete(e + h);
      }, u = function() {
        for (var h = 0; h < r - e; h++)
          n.loadingNodes.add(e + h);
      }, c = function(h) {
        n.rowNodeBlockLoader.loadComplete(), n.cache.onLoadSuccess(e, r - e, h), l(), n.queueLoadAction();
      }, d = function() {
        n.rowNodeBlockLoader.loadComplete(), n.cache.onLoadFailed(e, r - e), l(), n.queueLoadAction();
      }, p = {
        request: s,
        successCallback: function(h, f) {
          return c({ rowData: h, rowCount: f });
        },
        success: c,
        failCallback: d,
        fail: d,
        parentNode: this.parentNode,
        api: this.api,
        columnApi: this.columnApi,
        context: this.gridOptionsService.context
      };
      u(), (i = this.cache.getSsrmParams().datasource) === null || i === void 0 || i.getRows(p);
    }, t.prototype.getNextBlockToLoad = function() {
      var e = this.getBlockToLoad();
      return e != null && e < 0 && this.getBlockToLoad(), e != null ? [String(e), e + this.getBlockSize()] : null;
    }, t.prototype.queueLoadCheck = function() {
      var e = this;
      this.checkForLoadQueued || (this.checkForLoadQueued = !0, window.queueMicrotask(function() {
        e.checkForLoadQueued = !1, e.queueLoadAction();
      }));
    }, t.prototype.queueLoadAction = function() {
      var e = this, r, n = this.getNextBlockToLoad();
      if (!n) {
        window.clearTimeout(this.loaderTimeout), this.loaderTimeout = void 0, this.nextBlockToLoad = void 0;
        return;
      }
      if (!this.nextBlockToLoad || this.nextBlockToLoad[0] !== n[0] && this.nextBlockToLoad[1] !== n[1]) {
        this.nextBlockToLoad = n, window.clearTimeout(this.loaderTimeout);
        var i = C9(this.nextBlockToLoad, 2), a = i[0], s = i[1], l = Number(a);
        this.loaderTimeout = window.setTimeout(function() {
          e.cache.isAlive() && (e.loaderTimeout = void 0, e.attemptLoad(l, s), e.nextBlockToLoad = void 0);
        }, (r = this.gridOptionsService.getNum("blockLoadDebounceMillis")) !== null && r !== void 0 ? r : 0);
      }
    }, t.prototype.attemptLoad = function(e, r) {
      var n = this.rowNodeBlockLoader.getAvailableLoadingCount();
      n != null && n === 0 || (this.rowNodeBlockLoader.registerLoads(1), this.executeLoad(e, r), this.queueLoadAction());
    }, t.prototype.getBlockSize = function() {
      return this.storeParams.cacheBlockSize || t.DEFAULT_BLOCK_SIZE;
    }, t.prototype.getBlockStartIndexForIndex = function(e) {
      var r = this.getBlockSize();
      return e - e % r;
    }, t.prototype.getBlockBoundsForIndex = function(e) {
      var r = this.getBlockStartIndexForIndex(e), n = this.getBlockSize();
      return [r, r + n];
    }, t.DEFAULT_BLOCK_SIZE = 100, Vp([
      w("gridApi")
    ], t.prototype, "api", void 0), Vp([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), Vp([
      w("rowNodeBlockLoader")
    ], t.prototype, "rowNodeBlockLoader", void 0), Vp([
      V
    ], t.prototype, "init", null), t;
  }(W)
), w9 = (
  /** @class */
  function() {
    function o() {
      for (var t = [], e = 0; e < arguments.length; e++)
        t[e] = arguments[e];
      if (t.length < 1)
        throw new Error("AG Grid: At least one index must be provided.");
      this.indexes = t, this.maps = new Map(this.indexes.map(function(r) {
        return [r, /* @__PURE__ */ new Map()];
      }));
    }
    return o.prototype.getBy = function(t, e) {
      var r = this.maps.get(t);
      if (!r)
        throw new Error("AG Grid: " + String(t) + " not found");
      return r.get(e);
    }, o.prototype.set = function(t) {
      var e = this;
      this.indexes.forEach(function(r) {
        var n = e.maps.get(r);
        if (!n)
          throw new Error("AG Grid: " + String(r) + " not found");
        n.set(t[r], t);
      });
    }, o.prototype.delete = function(t) {
      var e = this;
      this.indexes.forEach(function(r) {
        var n = e.maps.get(r);
        if (!n)
          throw new Error("AG Grid: " + String(r) + " not found");
        n.delete(t[r]);
      });
    }, o.prototype.clear = function() {
      this.maps.forEach(function(t) {
        return t.clear();
      });
    }, o.prototype.getIterator = function(t) {
      var e = this.maps.get(t);
      if (!e)
        throw new Error("AG Grid: " + String(t) + " not found");
      return e.values();
    }, o.prototype.forEach = function(t) {
      for (var e = this.getIterator(this.indexes[0]), r; (r = e.next()) && !r.done; )
        t(r.value);
    }, o.prototype.find = function(t) {
      for (var e = this.getIterator(this.indexes[0]), r; (r = e.next()) && !r.done; )
        if (t(r.value))
          return r.value;
    }, o.prototype.filter = function(t) {
      for (var e = this.getIterator(this.indexes[0]), r, n = []; (r = e.next()) && !r.done; )
        t(r.value) && n.push(r.value);
      return n;
    }, o;
  }()
), _9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ll = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Ia = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, Gg = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, kg = (
  /** @class */
  function(o) {
    _9(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.live = !0, i.removedNodeCache = /* @__PURE__ */ new Map(), i.store = e, i.numberOfRows = r, i.isLastRowKnown = !1, i.storeParams = n, i;
    }
    return t.prototype.init = function() {
      this.nodeMap = new w9("index", "id", "node"), this.nodeDisplayIndexMap = /* @__PURE__ */ new Map(), this.nodesToRefresh = /* @__PURE__ */ new Set(), this.defaultNodeIdPrefix = this.blockUtils.createNodeIdPrefix(this.store.getParentNode()), this.rowLoader = this.createManagedBean(new S9(this, this.store.getParentNode(), this.storeParams)), this.getRowIdFunc = this.gridOptionsService.getCallback("getRowId"), this.isMasterDetail = this.gridOptionsService.isMasterDetail();
    }, t.prototype.destroyRowNodes = function() {
      var e = this;
      this.numberOfRows = 0, this.nodeMap.forEach(function(r) {
        return e.blockUtils.destroyRowNode(r.node);
      }), this.nodeMap.clear(), this.nodeDisplayIndexMap.clear(), this.nodesToRefresh.clear(), this.live = !1;
    }, t.prototype.getRowByDisplayIndex = function(e) {
      var r, n, i, a;
      if (this.store.isDisplayIndexInStore(e)) {
        var s = this.nodeDisplayIndexMap.get(e);
        if (s)
          return (s.stub || s.__needsRefreshWhenVisible) && this.rowLoader.queueLoadCheck(), s;
        if (e === this.store.getDisplayIndexStart())
          return this.createStubNode(0, e);
        var l = this.nodeDisplayIndexMap.get(e - 1);
        if (l) {
          if (this.isMasterDetail && l.master && l.expanded)
            return l.detailNode;
          if (l.expanded && (!((r = l.childStore) === null || r === void 0) && r.isDisplayIndexInStore(e)))
            return (n = l.childStore) === null || n === void 0 ? void 0 : n.getRowUsingDisplayIndex(e);
          var u = this.nodeMap.getBy("node", l);
          return this.createStubNode(u.index + 1, e);
        }
        var c = this.getSurroundingNodesByDisplayIndex(e);
        if (c == null) {
          var d = this.store.getRowCount() - (this.store.getDisplayIndexEnd() - e);
          return this.createStubNode(d, e);
        }
        var p = c.previousNode, h = c.nextNode;
        if (p && p.node.expanded && (!((i = p.node.childStore) === null || i === void 0) && i.isDisplayIndexInStore(e)))
          return (a = p.node.childStore) === null || a === void 0 ? void 0 : a.getRowUsingDisplayIndex(e);
        if (h) {
          var f = h.node.rowIndex - e, v = h.index - f;
          return this.createStubNode(v, e);
        }
        var g = this.store.getRowCount() - (this.store.getDisplayIndexEnd() - e);
        return this.createStubNode(g, e);
      }
    }, t.prototype.createStubNode = function(e, r) {
      var n = this, i = this.store.getRowBounds(r), a = this.createRowAtIndex(e, null, function(s) {
        s.setRowIndex(r), s.setRowTop(i.rowTop), n.nodeDisplayIndexMap.set(r, s);
      });
      return this.rowLoader.queueLoadCheck(), a;
    }, t.prototype.getRowByStoreIndex = function(e) {
      var r;
      return (r = this.nodeMap.getBy("index", e)) === null || r === void 0 ? void 0 : r.node;
    }, t.prototype.skipDisplayIndexes = function(e, r, n) {
      if (e !== 0) {
        var i = this.gridOptionsService.getRowHeightAsNumber();
        r.skip(e), n.value += e * i;
      }
    }, t.prototype.setDisplayIndexes = function(e, r) {
      this.nodeDisplayIndexMap.clear();
      var n = {};
      this.nodeMap.forEach(function(d) {
        n[d.index] = d.node;
      });
      var i = -1;
      for (var a in n) {
        var s = n[a], l = Number(a), u = l - 1 - i;
        this.skipDisplayIndexes(u, e, r), this.blockUtils.setDisplayIndex(s, e, r), this.nodeDisplayIndexMap.set(s.rowIndex, s), i = l;
      }
      var c = this.numberOfRows - 1 - i;
      this.skipDisplayIndexes(c, e, r), this.purgeExcessRows();
    }, t.prototype.getRowCount = function() {
      return this.numberOfRows;
    }, t.prototype.setRowCount = function(e, r) {
      if (e < 0)
        throw new Error("AG Grid: setRowCount can only accept a positive row count.");
      this.numberOfRows = e, r != null && (this.isLastRowKnown = r, r === !1 && (this.numberOfRows += 1)), this.fireStoreUpdatedEvent();
    }, t.prototype.getNodes = function() {
      return this.nodeMap;
    }, t.prototype.getNodeCachedByDisplayIndex = function(e) {
      var r;
      return (r = this.nodeDisplayIndexMap.get(e)) !== null && r !== void 0 ? r : null;
    }, t.prototype.getNodesToRefresh = function() {
      return this.nodesToRefresh;
    }, t.prototype.getSurroundingNodesByDisplayIndex = function(e) {
      var r, n;
      return this.nodeMap.forEach(function(i) {
        if (e > i.node.rowIndex) {
          (n == null || n.node.rowIndex < i.node.rowIndex) && (n = i);
          return;
        }
        if (r == null || r.node.rowIndex > i.node.rowIndex) {
          r = i;
          return;
        }
      }), !n && !r ? null : { previousNode: n, nextNode: r };
    }, t.prototype.getDisplayIndexFromStoreIndex = function(e) {
      var r, n, i = this.nodeMap.getBy("index", e);
      if (i)
        return i.node.rowIndex;
      var a, s;
      if (this.nodeMap.forEach(function(c) {
        if (e > c.index) {
          (s == null || s.index < c.index) && (s = c);
          return;
        }
        if (a == null || a.index > c.index) {
          a = c;
          return;
        }
      }), !a)
        return this.store.getDisplayIndexEnd() - (this.numberOfRows - e);
      if (!s)
        return this.store.getDisplayIndexStart() + e;
      var l = e - s.index, u = (n = (r = s.node.childStore) === null || r === void 0 ? void 0 : r.getDisplayIndexEnd()) !== null && n !== void 0 ? n : s.node.rowIndex;
      return u + l;
    }, t.prototype.createRowAtIndex = function(e, r, n) {
      var i, a, s = this.nodeMap.getBy("index", e);
      if (s) {
        var l = s.node;
        if (this.nodesToRefresh.delete(l), l.__needsRefreshWhenVisible = !1, this.doesNodeMatch(r, l))
          return this.blockUtils.updateDataIntoRowNode(l, r), l;
        if (this.getRowIdFunc == null && l.group && l.expanded)
          return l;
        this.destroyRowAtIndex(e);
      }
      if (r && this.getRowIdFunc != null) {
        var u = this.getRowId(r), c = u && ((i = this.removedNodeCache) === null || i === void 0 ? void 0 : i.get(u));
        if (c)
          return (a = this.removedNodeCache) === null || a === void 0 || a.delete(u), this.blockUtils.updateDataIntoRowNode(c, r), this.nodeMap.set({
            id: c.id,
            node: c,
            index: e
          }), c;
        var d = this.nodeMap.getBy("id", u);
        if (d) {
          this.nodeMap.delete(d);
          var l = d.node, p = d.index;
          return this.blockUtils.updateDataIntoRowNode(l, r), this.nodeMap.set({
            id: l.id,
            node: l,
            index: e
          }), this.nodesToRefresh.delete(l), this.rowLoader.getBlockStartIndexForIndex(p) === this.rowLoader.getBlockStartIndexForIndex(e) || this.markBlockForVerify(p), l;
        }
      }
      var h = this.blockUtils.createRowNode(this.store.getRowDetails());
      if (r != null) {
        var f = this.getPrefixedId(this.store.getIdSequence().next());
        this.blockUtils.setDataIntoRowNode(h, r, f, void 0), this.blockUtils.checkOpenByDefault(h), this.nodeManager.addRowNode(h);
      }
      return this.nodeMap.set({
        id: h.id,
        node: h,
        index: e
      }), n && n(h), h;
    }, t.prototype.getBlockStates = function() {
      var e = this, r = {}, n = {};
      this.nodeMap.forEach(function(l) {
        var u, c = l.node, d = l.index, p = e.rowLoader.getBlockStartIndexForIndex(d);
        !c.stub && !c.failedLoad && (r[p] = ((u = r[p]) !== null && u !== void 0 ? u : 0) + 1);
        var h = "loaded";
        c.failedLoad ? h = "failed" : e.rowLoader.isRowLoading(p) ? h = "loading" : (e.nodesToRefresh.has(c) || c.stub) && (h = "needsLoading"), n[p] || (n[p] = /* @__PURE__ */ new Set()), n[p].add(h);
      });
      var i = {
        loading: 4,
        failed: 3,
        needsLoading: 2,
        loaded: 1
      }, a = this.blockUtils.createNodeIdPrefix(this.store.getParentNode()), s = {};
      return Object.entries(n).forEach(function(l) {
        var u, c = Ia(l, 2), d = c[0], p = c[1], h = Gg([], Ia(p)).sort(function(y, m) {
          var C, S;
          return ((C = i[y]) !== null && C !== void 0 ? C : 0) - ((S = i[m]) !== null && S !== void 0 ? S : 0);
        }), f = h[0], v = Number(d) / e.rowLoader.getBlockSize(), g = a ? a + "-" + v : String(v);
        s[g] = {
          blockNumber: v,
          startRow: Number(d),
          endRow: Number(d) + e.rowLoader.getBlockSize(),
          pageStatus: f,
          loadedRowCount: (u = r[d]) !== null && u !== void 0 ? u : 0
        };
      }), s;
    }, t.prototype.destroyRowAtIndex = function(e) {
      var r = this.nodeMap.getBy("index", e);
      r && (this.nodeMap.delete(r), this.nodeDisplayIndexMap.delete(r.node.rowIndex), this.nodesToRefresh.delete(r.node), r.node.group && this.nodesToRefresh.size > 0 ? this.removedNodeCache.set(r.node.id, r.node) : this.blockUtils.destroyRowNode(r.node));
    }, t.prototype.getSsrmParams = function() {
      return this.store.getSsrmParams();
    }, t.prototype.getPrefixedId = function(e) {
      return this.defaultNodeIdPrefix ? this.defaultNodeIdPrefix + "-" + e : e.toString();
    }, t.prototype.markBlockForVerify = function(e) {
      var r = Ia(this.rowLoader.getBlockBoundsForIndex(e), 2), n = r[0], i = r[1], a = this.nodeMap.filter(function(s) {
        return s.index >= n && s.index < i;
      });
      a.forEach(function(s) {
        var l = s.node;
        l.__needsRefreshWhenVisible = !0;
      });
    }, t.prototype.doesNodeMatch = function(e, r) {
      if (r.stub)
        return !1;
      if (this.getRowIdFunc != null) {
        var n = this.getRowId(e);
        return r.id === n;
      }
      return r.data === e;
    }, t.prototype.purgeStubsOutsideOfViewport = function() {
      var e = this, r = this.api.getFirstDisplayedRow(), n = this.api.getLastDisplayedRow(), i = this.rowLoader.getBlockStartIndexForIndex(r), a = Ia(this.rowLoader.getBlockBoundsForIndex(n), 2);
      a[0];
      var s = a[1];
      this.nodeMap.forEach(function(l) {
        e.rowLoader.isRowLoading(l.index) || l.node.failedLoad || l.node.stub && (l.index < i || l.index > s) && e.destroyRowAtIndex(l.index);
      });
    }, t.prototype.getBlocksDistanceFromRow = function(e, r) {
      var n = this, i = {};
      return e.forEach(function(a) {
        var s = a.node, l = a.index, u = Ia(n.rowLoader.getBlockBoundsForIndex(l), 2), c = u[0], d = u[1];
        if (!(c in i)) {
          var p = Math.abs(s.rowIndex - r), h, f = n.nodeMap.getBy("index", [d - 1]);
          f && (h = Math.abs(f.node.rowIndex - r));
          var v = h == null || p < h ? p : h;
          i[c] = v;
        }
      }), Object.entries(i);
    }, t.prototype.purgeExcessRows = function() {
      var e = this, r;
      if (this.purgeStubsOutsideOfViewport(), !(this.store.getDisplayIndexEnd() == null || this.storeParams.maxBlocksInCache == null)) {
        var n = this.api.getFirstDisplayedRow(), i = this.api.getLastDisplayedRow(), a = /* @__PURE__ */ new Set(), s = /* @__PURE__ */ new Set();
        this.nodeMap.forEach(function(b) {
          var _ = b.index, O = b.node, E = e.rowLoader.getBlockStartIndexForIndex(_);
          a.add(E);
          var D = O.rowIndex >= n && O.rowIndex <= i;
          D && s.add(E);
        });
        var l = Math.max(s.size, (r = this.storeParams.maxBlocksInCache) !== null && r !== void 0 ? r : 0), u = a.size, c = u - l;
        if (!(c <= 0)) {
          var d = Number.MAX_SAFE_INTEGER, p = Number.MIN_SAFE_INTEGER;
          s.forEach(function(b) {
            d > b && (d = b), p < b && (p = b);
          });
          var h = this.nodeMap.filter(function(b) {
            var _ = b.node, O = b.index, E = e.rowLoader.getBlockStartIndexForIndex(O), D = E >= d && E <= p;
            return !D && !e.isNodeCached(_);
          });
          if (h.length !== 0) {
            var f = n + (i - n) / 2, v = this.getBlocksDistanceFromRow(h, f), g = this.rowLoader.getBlockSize();
            v.sort(function(b, _) {
              return Math.sign(_[1] - b[1]);
            });
            for (var y = 0; y < Math.min(c, v.length); y++)
              for (var m = Number(v[y][0]), C = m; C < m + g; C++) {
                var S = this.nodeMap.getBy("index", C);
                !S || this.isNodeCached(S.node) || this.destroyRowAtIndex(C);
              }
          }
        }
      }
    }, t.prototype.isNodeFocused = function(e) {
      var r = this.focusService.getFocusCellToUseAfterRefresh();
      if (!r || r.rowPinned != null)
        return !1;
      var n = r.rowIndex === e.rowIndex;
      return n;
    }, t.prototype.isNodeCached = function(e) {
      return e.isExpandable() && e.expanded || this.isNodeFocused(e);
    }, t.prototype.extractDuplicateIds = function(e) {
      var r = this;
      if (!this.getRowIdFunc == null)
        return [];
      var n = /* @__PURE__ */ new Set(), i = /* @__PURE__ */ new Set();
      return e.forEach(function(a) {
        var s = r.getRowId(a);
        if (n.has(s)) {
          i.add(s);
          return;
        }
        n.add(s);
      }), Gg([], Ia(i));
    }, t.prototype.onLoadSuccess = function(e, r, n) {
      var i = this, a;
      if (this.live) {
        var s = (a = n.groupLevelInfo) !== null && a !== void 0 ? a : n.storeInfo;
        if (this.store.setStoreInfo(s), this.getRowIdFunc != null) {
          var l = this.extractDuplicateIds(n.rowData);
          if (l.length > 0) {
            var u = l.join(", ");
            console.warn("AG Grid: Unable to display rows as duplicate row ids (" + u + ") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."), this.onLoadFailed(e, r);
            return;
          }
        }
        var c = this.nodesToRefresh.size > 0;
        n.rowData.forEach(function(f, v) {
          var g, y = e + v, m = i.nodeMap.getBy("index", y);
          if (!((g = m == null ? void 0 : m.node) === null || g === void 0) && g.stub) {
            i.createRowAtIndex(y, f);
            return;
          }
          if (m && i.doesNodeMatch(f, m.node)) {
            i.blockUtils.updateDataIntoRowNode(m.node, f), i.nodesToRefresh.delete(m.node), m.node.__needsRefreshWhenVisible = !1;
            return;
          }
          i.createRowAtIndex(y, f);
        });
        var d = this.nodesToRefresh.size === 0;
        if (c && d && this.fireRefreshFinishedEvent(), n.rowCount != null && n.rowCount !== -1)
          this.numberOfRows = n.rowCount, this.isLastRowKnown = !0;
        else if (r > n.rowData.length)
          this.numberOfRows = e + n.rowData.length, this.isLastRowKnown = !0;
        else if (!this.isLastRowKnown) {
          var p = e + n.rowData.length + 1;
          p > this.numberOfRows && (this.numberOfRows = p);
        }
        if (this.isLastRowKnown) {
          var h = this.nodeMap.filter(function(f) {
            return f.index >= i.numberOfRows;
          });
          h.forEach(function(f) {
            return i.destroyRowAtIndex(f.index);
          });
        }
        this.fireStoreUpdatedEvent();
      }
    }, t.prototype.fireRefreshFinishedEvent = function() {
      var e = this, r = this.nodesToRefresh.size === 0;
      r && (this.removedNodeCache.forEach(function(n) {
        e.blockUtils.destroyRowNode(n);
      }), this.removedNodeCache = /* @__PURE__ */ new Map(), this.store.fireRefreshFinishedEvent());
    }, t.prototype.isLastRowIndexKnown = function() {
      return this.isLastRowKnown;
    }, t.prototype.onLoadFailed = function(e, r) {
      var n;
      if (this.live) {
        for (var i = this.nodesToRefresh.size > 0, a = e; a < e + r && a < this.getRowCount(); a++) {
          var s = ((n = this.nodeMap.getBy("index", a)) !== null && n !== void 0 ? n : {}).node;
          s && this.nodesToRefresh.delete(s), (!s || !s.stub) && (s && !s.stub && this.destroyRowAtIndex(a), s = this.createRowAtIndex(a)), s.__needsRefreshWhenVisible = !1, s.failedLoad = !0;
        }
        var l = this.nodesToRefresh.size === 0;
        i && l && this.fireRefreshFinishedEvent(), this.fireStoreUpdatedEvent();
      }
    }, t.prototype.markNodesForRefresh = function() {
      var e = this;
      this.nodeMap.forEach(function(r) {
        r.node.stub && !r.node.failedLoad || e.nodesToRefresh.add(r.node);
      }), this.rowLoader.queueLoadCheck(), this.isLastRowKnown && this.numberOfRows === 0 && (this.numberOfRows = 1, this.isLastRowKnown = !1, this.fireStoreUpdatedEvent());
    }, t.prototype.isNodeInCache = function(e) {
      return !!this.nodeMap.getBy("id", e);
    }, t.prototype.fireStoreUpdatedEvent = function() {
      this.live && this.store.fireStoreUpdatedEvent();
    }, t.prototype.getRowId = function(e) {
      if (this.getRowIdFunc == null)
        return null;
      var r = this.store.getRowDetails().level, n = this.store.getParentNode().getGroupKeys(), i = this.getRowIdFunc({
        data: e,
        parentKeys: n.length > 0 ? n : void 0,
        level: r
      });
      return String(i);
    }, t.prototype.updateRowNodes = function(e) {
      var r = this;
      if (this.getRowIdFunc == null)
        throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");
      var n = [];
      return e.forEach(function(i) {
        var a = r.getRowId(i), s = r.nodeMap.getBy("id", a);
        s && (r.blockUtils.updateDataIntoRowNode(s.node, i), n.push(s.node));
      }), n;
    }, t.prototype.insertRowNodes = function(e, r) {
      var n = this, i = r == null && this.isLastRowKnown ? this.store.getRowCount() : r;
      if (i == null || this.store.getRowCount() < i)
        return [];
      if (this.getRowIdFunc == null)
        throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");
      var a = {};
      e.forEach(function(c) {
        var d = n.getRowId(c);
        d && n.isNodeInCache(d) || (a[d] = c);
      });
      var s = Object.values(a), l = s.length;
      if (l === 0)
        return [];
      var u = this.nodeMap.filter(function(c) {
        return c.index >= i;
      });
      return u.forEach(function(c) {
        return n.nodeMap.delete(c);
      }), u.forEach(function(c) {
        n.nodeMap.set({
          node: c.node,
          index: c.index + l,
          id: c.id
        });
      }), this.numberOfRows += l, s.map(function(c, d) {
        return n.createRowAtIndex(i + d, c);
      });
    }, t.prototype.getOrderedNodeMap = function() {
      var e = {};
      return this.nodeMap.forEach(function(r) {
        return e[r.index] = r;
      }), e;
    }, t.prototype.clearDisplayIndexes = function() {
      this.nodeDisplayIndexMap.clear();
    }, t.prototype.removeRowNodes = function(e) {
      if (this.getRowIdFunc == null)
        throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");
      var r = [], n = [], i = 0, a = Gg([], Ia(e)), s = this.getOrderedNodeMap(), l = -1, u = function(p) {
        l += 1;
        var h = s[p], f = a.findIndex(function(g) {
          return g === h.id;
        });
        if (f !== -1)
          return a.splice(f, 1), c.destroyRowAtIndex(Number(p)), r.push(h.node), i += 1, "continue";
        if (i === 0)
          return "continue";
        var v = Number(p);
        l !== v && n.push(h.node), c.nodeMap.delete(s[p]), c.nodeMap.set({
          id: h.id,
          node: h.node,
          index: v - i
        });
      }, c = this;
      for (var d in s)
        u(d);
      return this.numberOfRows -= this.isLastRowIndexKnown() ? e.length : i, a.length > 0 && n.length > 0 && (n.forEach(function(p) {
        return p.__needsRefreshWhenVisible = !0;
      }), this.rowLoader.queueLoadCheck()), r;
    }, ll([
      w("gridApi")
    ], t.prototype, "api", void 0), ll([
      w("ssrmBlockUtils")
    ], t.prototype, "blockUtils", void 0), ll([
      w("focusService")
    ], t.prototype, "focusService", void 0), ll([
      w("ssrmNodeManager")
    ], t.prototype, "nodeManager", void 0), ll([
      V
    ], t.prototype, "init", null), ll([
      rt
    ], t.prototype, "destroyRowNodes", null), t;
  }(W)
), b9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), ul = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, E9 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, O9 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Yy = (
  /** @class */
  function(o) {
    b9(t, o);
    function t(e, r, n) {
      var i = o.call(this) || this;
      return i.idSequence = new ar(), i.ssrmParams = e, i.parentRowNode = n, i.storeParams = r, i.level = n.level + 1, i.group = e.rowGroupCols ? i.level < e.rowGroupCols.length : !1, i.leafGroup = e.rowGroupCols ? i.level === e.rowGroupCols.length - 1 : !1, i.info = {}, i;
    }
    return t.prototype.init = function() {
      var e = 1;
      this.level === 0 && (e = this.storeUtils.getServerSideInitialRowCount()), this.cache = this.createManagedBean(new kg(this, e, this.storeParams));
      var r = this.gridOptionsService.isTreeData();
      if (!r && this.group) {
        var n = this.ssrmParams.rowGroupCols[this.level];
        this.groupField = n.field, this.rowGroupColumn = this.columnModel.getRowGroupColumns()[this.level];
      }
    }, t.prototype.destroyRowNodes = function() {
      this.displayIndexStart = void 0, this.displayIndexEnd = void 0, this.destroyBean(this.cache);
    }, t.prototype.applyTransaction = function(e) {
      var r = this, n, i, a, s = this.gridOptionsService.getCallback("getRowId");
      if (!s)
        return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."), {
          status: Ir.Cancelled
        };
      var l = this.gridOptionsService.getCallback("isApplyServerSideTransaction");
      if (l) {
        var u = {
          transaction: e,
          parentNode: this.parentRowNode,
          storeInfo: this.info,
          groupLevelInfo: this.info
        }, c = l(u);
        if (!c)
          return { status: Ir.Cancelled };
      }
      var d = void 0;
      !((n = e.update) === null || n === void 0) && n.length && (d = this.cache.updateRowNodes(e.update));
      var p = void 0;
      if (!((i = e.add) === null || i === void 0) && i.length) {
        var h = e.addIndex;
        h != null && h < 0 && (h = void 0), p = this.cache.insertRowNodes(e.add, h);
      }
      var f = void 0;
      if (!((a = e.remove) === null || a === void 0) && a.length) {
        var v = e.remove.map(function(y) {
          return s({ level: r.level, parentKeys: r.parentRowNode.getGroupKeys(), data: y });
        }), g = O9([], E9(new Set(v)));
        f = this.cache.removeRowNodes(g);
      }
      return this.updateSelectionAfterTransaction(d, f), {
        status: Ir.Applied,
        update: d,
        add: p,
        remove: f
      };
    }, t.prototype.updateSelectionAfterTransaction = function(e, r) {
      var n = [];
      e == null || e.forEach(function(i) {
        i.isSelected() && !i.selectable && n.push(i);
      }), r == null || r.forEach(function(i) {
        i.isSelected() && n.push(i);
      }), n.length && this.selectionService.setNodesSelected({
        newValue: !1,
        clearSelection: !1,
        nodes: n,
        source: "rowDataChanged"
      });
    }, t.prototype.clearDisplayIndexes = function() {
      var e = this;
      this.displayIndexStart = void 0, this.displayIndexEnd = void 0, this.cache.getNodes().forEach(function(r) {
        return e.blockUtils.clearDisplayIndex(r.node);
      }), this.parentRowNode.sibling && this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling), this.cache.clearDisplayIndexes();
    }, t.prototype.getDisplayIndexStart = function() {
      return this.displayIndexStart;
    }, t.prototype.getDisplayIndexEnd = function() {
      return this.displayIndexEnd;
    }, t.prototype.getRowCount = function() {
      return this.parentRowNode.sibling ? this.cache.getRowCount() + 1 : this.cache.getRowCount();
    }, t.prototype.setRowCount = function(e, r) {
      this.cache.setRowCount(e, r);
    }, t.prototype.isDisplayIndexInStore = function(e) {
      return this.cache.getRowCount() === 0 ? !1 : this.displayIndexStart <= e && e < this.getDisplayIndexEnd();
    }, t.prototype.setDisplayIndexes = function(e, r) {
      this.displayIndexStart = e.peek(), this.topPx = r.value, this.cache.setDisplayIndexes(e, r), this.parentRowNode.sibling && this.blockUtils.setDisplayIndex(this.parentRowNode.sibling, e, r), this.displayIndexEnd = e.peek(), this.heightPx = r.value - this.topPx;
    }, t.prototype.forEachStoreDeep = function(e, r) {
      r === void 0 && (r = new ar()), e(this, r.next()), this.cache.getNodes().forEach(function(n) {
        var i = n.node.childStore;
        i && i.forEachStoreDeep(e, r);
      });
    }, t.prototype.forEachNodeDeep = function(e, r) {
      r === void 0 && (r = new ar()), this.cache.getNodes().forEach(function(n) {
        e(n.node, r.next());
        var i = n.node.childStore;
        i && i.forEachNodeDeep(e, r);
      });
    }, t.prototype.forEachNodeDeepAfterFilterAndSort = function(e, r) {
      r === void 0 && (r = new ar());
      var n = this.cache.getOrderedNodeMap();
      for (var i in n) {
        var a = n[i];
        e(a.node, r.next());
        var s = a.node.childStore;
        s && s.forEachNodeDeepAfterFilterAndSort(e, r);
      }
    }, t.prototype.retryLoads = function() {
      this.cache.getNodes().forEach(function(e) {
        var r = e.node;
        r.failedLoad && (r.failedLoad = !1, r.__needsRefreshWhenVisible = !0, r.stub = !0);
      }), this.forEachChildStoreShallow(function(e) {
        return e.retryLoads();
      }), this.fireStoreUpdatedEvent();
    }, t.prototype.getRowUsingDisplayIndex = function(e) {
      return this.parentRowNode.sibling && e === this.parentRowNode.sibling.rowIndex ? this.parentRowNode.sibling : this.cache.getRowByDisplayIndex(e);
    }, t.prototype.getRowBounds = function(e) {
      var r;
      if (!this.isDisplayIndexInStore(e))
        return null;
      var n = this.cache.getNodeCachedByDisplayIndex(e);
      if (n) {
        var i = this.blockUtils.extractRowBounds(n, e);
        if (i)
          return i;
      }
      var a = (r = this.cache.getSurroundingNodesByDisplayIndex(e)) !== null && r !== void 0 ? r : {}, s = a.previousNode, l = a.nextNode;
      if (s) {
        var i = this.blockUtils.extractRowBounds(s.node, e);
        if (i != null)
          return i;
      }
      var u = this.gridOptionsService.getRowHeightAsNumber();
      if (l) {
        var c = (l.node.rowIndex - e) * u;
        return {
          rowTop: l.node.rowTop - c,
          rowHeight: u
        };
      }
      var d = this.topPx + this.heightPx, p = (this.getDisplayIndexEnd() - e) * u;
      return {
        rowTop: d - p,
        rowHeight: u
      };
    }, t.prototype.isPixelInRange = function(e) {
      return e >= this.topPx && e < this.topPx + this.heightPx;
    }, t.prototype.getRowIndexAtPixel = function(e) {
      if (e < this.topPx)
        return this.getDisplayIndexStart();
      if (e >= this.topPx + this.heightPx)
        return this.getDisplayIndexEnd() - 1;
      var r = Number.MAX_SAFE_INTEGER, n = null, i = Number.MAX_SAFE_INTEGER, a = null;
      if (this.cache.getNodes().forEach(function(h) {
        var f = h.node, v = Math.abs(e - f.rowTop);
        if (f.rowTop < e) {
          v < r && (r = v, n = f);
          return;
        }
        v < i && (i = v, a = f);
      }), n = n, a = a, n) {
        var s = this.blockUtils.getIndexAtPixel(n, e);
        if (s != null)
          return s;
      }
      var l = this.gridOptionsService.getRowHeightAsNumber();
      if (a) {
        var u = a.rowTop, c = Math.ceil((u - e) / l);
        return a.rowIndex - c;
      }
      var d = this.topPx + this.heightPx, p = Math.floor((d - e) / l);
      return this.getDisplayIndexEnd() - p;
    }, t.prototype.getChildStore = function(e) {
      var r = this;
      return this.storeUtils.getChildStore(e, this, function(n) {
        var i = r.cache.getNodes().find(function(a) {
          return a.node.key == n;
        });
        return i ? i.node : null;
      });
    }, t.prototype.forEachChildStoreShallow = function(e) {
      this.cache.getNodes().forEach(function(r) {
        var n = r.node;
        n.childStore && e(n.childStore);
      });
    }, t.prototype.refreshAfterSort = function(e) {
      var r = this.storeUtils.isServerSideSortAllLevels();
      if (r || this.storeUtils.isServerRefreshNeeded(this.parentRowNode, this.ssrmParams.rowGroupCols, e)) {
        var n = this.cache.getRowCount();
        this.destroyBean(this.cache), this.cache = this.createManagedBean(new kg(this, n, this.storeParams)), this.fireStoreUpdatedEvent();
        return;
      }
      this.forEachChildStoreShallow(function(i) {
        return i.refreshAfterSort(e);
      });
    }, t.prototype.refreshAfterFilter = function(e) {
      var r = !this.storeUtils.isServerSideOnlyRefreshFilteredGroups();
      if (r || this.storeUtils.isServerRefreshNeeded(this.parentRowNode, this.ssrmParams.rowGroupCols, e)) {
        this.refreshStore(!0);
        return;
      }
      this.forEachChildStoreShallow(function(n) {
        return n.refreshAfterFilter(e);
      });
    }, t.prototype.refreshStore = function(e) {
      if (e) {
        this.destroyBean(this.cache), this.cache = this.createManagedBean(new kg(this, 1, this.storeParams)), this.fireStoreUpdatedEvent();
        return;
      }
      this.cache.markNodesForRefresh();
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      var r = this.cache.getDisplayIndexFromStoreIndex(e);
      return r != null ? r : e;
    }, t.prototype.isLastRowIndexKnown = function() {
      return this.cache.isLastRowIndexKnown();
    }, t.prototype.getRowNodesInRange = function(e, r) {
      return T.missing(e), this.cache.getNodes().filter(function(n) {
        var i = n.node;
        return i.rowIndex >= e.rowIndex && i.rowIndex <= r.rowIndex;
      }).map(function(n) {
        var i = n.node;
        return i;
      });
    }, t.prototype.addStoreStates = function(e) {
      e.push({
        suppressInfiniteScroll: !1,
        route: this.parentRowNode.getGroupKeys(),
        rowCount: this.getRowCount(),
        lastRowIndexKnown: this.isLastRowIndexKnown(),
        info: this.info,
        maxBlocksInCache: this.storeParams.maxBlocksInCache,
        cacheBlockSize: this.storeParams.cacheBlockSize
      }), this.forEachChildStoreShallow(function(r) {
        return r.addStoreStates(e);
      });
    }, t.prototype.getIdSequence = function() {
      return this.idSequence;
    }, t.prototype.getParentNode = function() {
      return this.parentRowNode;
    }, t.prototype.getRowDetails = function() {
      return {
        field: this.groupField,
        group: this.group,
        leafGroup: this.leafGroup,
        level: this.level,
        parent: this.parentRowNode,
        rowGroupColumn: this.rowGroupColumn
      };
    }, t.prototype.getSsrmParams = function() {
      return this.ssrmParams;
    }, t.prototype.setStoreInfo = function(e) {
      e && Object.assign(this.info, e);
    }, t.prototype.fireStoreUpdatedEvent = function() {
      var e = {
        type: R.EVENT_STORE_UPDATED
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.fireRefreshFinishedEvent = function() {
      var e = {
        type: R.EVENT_STORE_REFRESHED,
        route: this.parentRowNode.getRoute()
      };
      this.eventService.dispatchEvent(e);
    }, t.prototype.getBlockStates = function() {
      return this.cache.getBlockStates();
    }, t.prototype.getStoreBounds = function() {
      return {
        topPx: this.topPx,
        heightPx: this.heightPx
      };
    }, ul([
      w("ssrmBlockUtils")
    ], t.prototype, "blockUtils", void 0), ul([
      w("ssrmStoreUtils")
    ], t.prototype, "storeUtils", void 0), ul([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), ul([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), ul([
      V
    ], t.prototype, "init", null), ul([
      rt
    ], t.prototype, "destroyRowNodes", null), t;
  }(W)
), x9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Gn = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, C0 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, T9 = (
  /** @class */
  function(o) {
    x9(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.onRowHeightChanged_debounced = T.debounce(e.onRowHeightChanged.bind(e), 100), e.pauseStoreUpdateListening = !1, e.started = !1, e;
    }
    return t.prototype.ensureRowHeightsValid = function() {
      return !1;
    }, t.prototype.start = function() {
      this.started = !0;
      var e = this.gridOptionsService.get("serverSideDatasource");
      e && this.setDatasource(e);
    }, t.prototype.destroyDatasource = function() {
      this.datasource && (this.datasource.destroy && this.datasource.destroy(), this.rowRenderer.datasourceChanged(), this.datasource = void 0);
    }, t.prototype.addEventListeners = function() {
      this.addManagedListener(this.eventService, R.EVENT_NEW_COLUMNS_LOADED, this.onColumnEverything.bind(this)), this.addManagedListener(this.eventService, R.EVENT_STORE_UPDATED, this.onStoreUpdated.bind(this));
      var e = this.resetRootStore.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_COLUMN_VALUE_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, e), this.addManagedListener(this.eventService, R.EVENT_COLUMN_PIVOT_MODE_CHANGED, e), this.verifyProps();
    }, t.prototype.verifyProps = function() {
      if (this.gridOptionsService.exists("initialGroupOrderComparator")) {
        var e = "AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.";
        T.doOnce(function() {
          return console.warn(e);
        }, "SSRM.InitialGroupOrderComparator");
      }
      if (this.gridOptionsService.isRowSelection() && !this.gridOptionsService.exists("getRowId")) {
        var r = "AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.";
        T.doOnce(function() {
          return console.warn(r);
        }, "SSRM.SelectionNeedsRowNodeIdFunc");
      }
    }, t.prototype.setDatasource = function(e) {
      this.started && (this.destroyDatasource(), this.datasource = e, this.resetRootStore());
    }, t.prototype.isLastRowIndexKnown = function() {
      var e = this.getRootStore();
      return e ? e.isLastRowIndexKnown() : !1;
    }, t.prototype.onColumnEverything = function() {
      if (!this.storeParams) {
        this.resetRootStore();
        return;
      }
      var e = this.columnsToValueObjects(this.columnModel.getRowGroupColumns()), r = this.columnsToValueObjects(this.columnModel.getValueColumns()), n = this.columnsToValueObjects(this.columnModel.getPivotColumns()), i = function(p) {
        var h = {};
        p.oldCols.forEach(function(g) {
          return h[g.id] = g;
        });
        var f = p.newCols.every(function(g) {
          var y = h[g.id];
          return y && delete h[g.id], y && y.field === g.field && y.aggFunc === g.aggFunc;
        }), v = !p.allowRemovedColumns && !!Object.values(h).length;
        return f && !v;
      }, a = !T.jsonEquals(this.storeParams.sortModel, this.sortListener.extractSortModel()), s = !i({
        oldCols: this.storeParams.rowGroupCols,
        newCols: e
      }), l = !i({
        oldCols: this.storeParams.pivotCols,
        newCols: n
      }), u = !!(e != null && e.length) && !i({
        oldCols: this.storeParams.valueCols,
        newCols: r,
        allowRemovedColumns: !0
      }), c = a || s || l || u;
      if (c)
        this.resetRootStore();
      else {
        var d = this.createStoreParams();
        this.storeParams.rowGroupCols = d.rowGroupCols, this.storeParams.pivotCols = d.pivotCols, this.storeParams.valueCols = d.valueCols;
      }
    }, t.prototype.destroyRootStore = function() {
      !this.rootNode || !this.rootNode.childStore || (this.rootNode.childStore = this.destroyBean(this.rootNode.childStore), this.nodeManager.clear());
    }, t.prototype.refreshAfterSort = function(e, r) {
      this.storeParams && (this.storeParams.sortModel = e);
      var n = this.getRootStore();
      n && (n.refreshAfterSort(r), this.onStoreUpdated());
    }, t.prototype.resetRootStore = function() {
      this.destroyRootStore(), this.rootNode = new Te(this.beans), this.rootNode.group = !0, this.rootNode.level = -1, this.datasource && (this.storeParams = this.createStoreParams(), this.rootNode.childStore = this.createBean(this.storeFactory.createStore(this.storeParams, this.rootNode)), this.updateRowIndexesAndBounds());
      var e = {
        type: R.EVENT_ROW_DATA_UPDATED
      };
      this.eventService.dispatchEvent(e), this.dispatchModelUpdated(!0);
    }, t.prototype.columnsToValueObjects = function(e) {
      var r = this;
      return e.map(function(n) {
        return {
          id: n.getId(),
          aggFunc: n.getAggFunc(),
          displayName: r.columnModel.getDisplayNameForColumn(n, "model"),
          field: n.getColDef().field
        };
      });
    }, t.prototype.createStoreParams = function() {
      var e = this.columnsToValueObjects(this.columnModel.getRowGroupColumns()), r = this.columnsToValueObjects(this.columnModel.getValueColumns()), n = this.columnsToValueObjects(this.columnModel.getPivotColumns()), i = this.gridOptionsService.isGetRowHeightFunction(), a = {
        // the columns the user has grouped and aggregated by
        valueCols: r,
        rowGroupCols: e,
        pivotCols: n,
        pivotMode: this.columnModel.isPivotMode(),
        // sort and filter model
        filterModel: this.filterManager.getFilterModel(),
        sortModel: this.sortListener.extractSortModel(),
        datasource: this.datasource,
        lastAccessedSequence: new ar(),
        // blockSize: blockSize == null ? 100 : blockSize,
        dynamicRowHeight: i
      };
      return a;
    }, t.prototype.getParams = function() {
      return this.storeParams;
    }, t.prototype.dispatchModelUpdated = function(e) {
      e === void 0 && (e = !1);
      var r = {
        type: R.EVENT_MODEL_UPDATED,
        animate: !e,
        keepRenderedRows: !e,
        newPage: !1,
        newData: !1
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.onStoreUpdated = function() {
      this.pauseStoreUpdateListening || (this.updateRowIndexesAndBounds(), this.dispatchModelUpdated());
    }, t.prototype.onRowHeightChangedDebounced = function() {
      this.onRowHeightChanged_debounced();
    }, t.prototype.onRowHeightChanged = function() {
      this.updateRowIndexesAndBounds(), this.dispatchModelUpdated();
    }, t.prototype.updateRowIndexesAndBounds = function() {
      var e = this.getRootStore();
      e && e.setDisplayIndexes(new ar(), { value: 0 });
    }, t.prototype.retryLoads = function() {
      var e = this.getRootStore();
      e && (e.retryLoads(), this.onStoreUpdated());
    }, t.prototype.getRow = function(e) {
      var r = this.getRootStore();
      if (r)
        return r.getRowUsingDisplayIndex(e);
    }, t.prototype.expandAll = function(e) {
      this.pauseStoreUpdateListening = !0, this.forEachNode(function(r) {
        r.stub || r.hasChildren() && r.setExpanded(e);
      }), this.pauseStoreUpdateListening = !1, this.onStoreUpdated();
    }, t.prototype.refreshAfterFilter = function(e, r) {
      this.storeParams && (this.storeParams.filterModel = e);
      var n = this.getRootStore();
      n && (n.refreshAfterFilter(r), this.onStoreUpdated());
    }, t.prototype.getRootStore = function() {
      if (this.rootNode && this.rootNode.childStore)
        return this.rootNode.childStore;
    }, t.prototype.getRowCount = function() {
      var e = this.getRootStore();
      return e ? e.getDisplayIndexEnd() : 0;
    }, t.prototype.getTopLevelRowCount = function() {
      var e = this.getRootStore();
      return e ? e.getRowCount() : 1;
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      var r = this.getRootStore();
      return r ? r.getTopLevelRowDisplayedIndex(e) : e;
    }, t.prototype.getRowBounds = function(e) {
      var r = this.getRootStore();
      if (!r) {
        var n = this.gridOptionsService.getRowHeightAsNumber();
        return {
          rowTop: 0,
          rowHeight: n
        };
      }
      return r.getRowBounds(e);
    }, t.prototype.getBlockStates = function() {
      var e = this.getRootStore();
      if (e) {
        var r = {};
        return e.forEachStoreDeep(function(n) {
          if (n instanceof cT) {
            var i = n.getBlockStateJson(), a = i.id, s = i.state;
            r[a] = s;
          } else if (n instanceof Yy)
            Object.entries(n.getBlockStates()).forEach(function(l) {
              var u = C0(l, 2), c = u[0], d = u[1];
              r[c] = d;
            });
          else
            throw new Error("AG Grid: Unsupported store type");
        }), r;
      }
    }, t.prototype.getRowIndexAtPixel = function(e) {
      var r = this.getRootStore();
      return e <= 0 || !r ? 0 : r.getRowIndexAtPixel(e);
    }, t.prototype.isEmpty = function() {
      return !1;
    }, t.prototype.isRowsToRender = function() {
      return this.getRootStore() != null && this.getRowCount() > 0;
    }, t.prototype.getType = function() {
      return "serverSide";
    }, t.prototype.forEachNode = function(e) {
      var r = this.getRootStore();
      r && r.forEachNodeDeep(e);
    }, t.prototype.forEachNodeAfterFilterAndSort = function(e) {
      var r = this.getRootStore();
      r && r.forEachNodeDeepAfterFilterAndSort(e);
    }, t.prototype.executeOnStore = function(e, r) {
      var n = this.getRootStore();
      if (n) {
        var i = n.getChildStore(e);
        i && r(i);
      }
    }, t.prototype.refreshStore = function(e) {
      e === void 0 && (e = {});
      var r = e.route ? e.route : [];
      this.executeOnStore(r, function(n) {
        return n.refreshStore(e.purge == !0);
      });
    }, t.prototype.getStoreState = function() {
      var e = [], r = this.getRootStore();
      return r && r.addStoreStates(e), e;
    }, t.prototype.getNodesInRangeForSelection = function(e, r) {
      if (!T.exists(e))
        return [];
      if (!r)
        return [e];
      var n = e.rowIndex, i = r.rowIndex;
      if (n === null || i === null)
        return [e];
      var a = [], s = C0([n, i].sort(function(c, d) {
        return c - d;
      }), 2), l = s[0], u = s[1];
      return this.forEachNode(function(c) {
        var d = c.rowIndex;
        d == null || c.stub || d >= l && d <= u && a.push(c);
      }), a.length !== u - l + 1 ? [e] : a;
    }, t.prototype.getRowNode = function(e) {
      var r;
      return this.forEachNode(function(n) {
        n.id === e && (r = n), n.detailNode && n.detailNode.id === e && (r = n.detailNode);
      }), r;
    }, t.prototype.isRowPresent = function(e) {
      var r = this.getRowNode(e.id);
      return !!r;
    }, t.prototype.setRowCount = function(e, r) {
      var n = this.getRootStore();
      if (n) {
        if (n instanceof Yy) {
          n.setRowCount(e, r);
          return;
        }
        console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.");
      }
    }, Gn([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Gn([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), Gn([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Gn([
      w("ssrmSortService")
    ], t.prototype, "sortListener", void 0), Gn([
      w("ssrmNodeManager")
    ], t.prototype, "nodeManager", void 0), Gn([
      w("ssrmStoreFactory")
    ], t.prototype, "storeFactory", void 0), Gn([
      w("beans")
    ], t.prototype, "beans", void 0), Gn([
      rt
    ], t.prototype, "destroyDatasource", null), Gn([
      V
    ], t.prototype, "addEventListeners", null), Gn([
      rt
    ], t.prototype, "destroyRootStore", null), t = Gn([
      q("rowModel")
    ], t), t;
  }(W)
), R9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bp = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, D9 = (
  /** @class */
  function(o) {
    R9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.loadFromDatasource = function(e) {
      var r = e.storeParams, n = e.parentBlock, i = e.parentNode, a = i.getGroupKeys();
      if (r.datasource) {
        var s = {
          startRow: e.startRow,
          endRow: e.endRow,
          rowGroupCols: r.rowGroupCols,
          valueCols: r.valueCols,
          pivotCols: r.pivotCols,
          pivotMode: r.pivotMode,
          groupKeys: a,
          filterModel: r.filterModel,
          sortModel: r.sortModel
        }, l = {
          successCallback: e.successCallback,
          success: e.success,
          failCallback: e.failCallback,
          fail: e.fail,
          request: s,
          parentNode: e.parentNode,
          api: this.gridApi,
          columnApi: this.columnApi,
          context: this.gridOptionsService.context
        };
        window.setTimeout(function() {
          if (!r.datasource || !n.isAlive()) {
            e.failCallback();
            return;
          }
          r.datasource.getRows(l);
        }, 0);
      }
    }, t.prototype.getChildStore = function(e, r, n) {
      if (T.missingOrEmpty(e))
        return r;
      var i = e[0], a = n(i);
      if (a) {
        var s = e.slice(1, e.length), l = a.childStore;
        return l ? l.getChildStore(s) : null;
      }
      return null;
    }, t.prototype.isServerRefreshNeeded = function(e, r, n) {
      if (n.valueColChanged || n.secondaryColChanged)
        return !0;
      var i = e.level + 1, a = i < r.length, s = !a;
      if (s)
        return !0;
      var l = r[i].id, u = n.changedColumns.indexOf(l) > -1;
      if (u)
        return !0;
      var c = this.columnModel.getAllGridColumns(), d = c.filter(function(p) {
        return p.getColDef().showRowGroup && n.changedColumns.includes(p.getId());
      }).map(function(p) {
        return p.getColDef().showRowGroup;
      }).some(function(p) {
        return p === !0 || p === l;
      });
      return d;
    }, t.prototype.getServerSideInitialRowCount = function() {
      var e = this.gridOptionsService.getNum("serverSideInitialRowCount");
      return typeof e == "number" && e > 0 ? e : 1;
    }, t.prototype.assertRowModelIsServerSide = function(e) {
      return this.gridOptionsService.isRowModelType("serverSide") ? !0 : (T.doOnce(function() {
        return console.warn("AG Grid: The '" + e + "' property can only be used with the Server Side Row Model.");
      }, e), !1);
    }, t.prototype.assertNotTreeData = function(e) {
      return this.gridOptionsService.is("treeData") ? (T.doOnce(function() {
        return console.warn("AG Grid: The '" + e + "' property cannot be used while using tree data.");
      }, e + "_TreeData"), !1) : !0;
    }, t.prototype.isServerSideSortAllLevels = function() {
      return this.gridOptionsService.is("serverSideSortAllLevels") && this.assertRowModelIsServerSide("serverSideSortAllLevels");
    }, t.prototype.isServerSideOnlyRefreshFilteredGroups = function() {
      return this.gridOptionsService.is("serverSideOnlyRefreshFilteredGroups") && this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups");
    }, t.prototype.isServerSideSortOnServer = function() {
      return this.gridOptionsService.is("serverSideSortOnServer") && this.assertRowModelIsServerSide("serverSideSortOnServer") && this.assertNotTreeData("serverSideSortOnServer");
    }, t.prototype.isServerSideFilterOnServer = function() {
      return this.gridOptionsService.is("serverSideFilterOnServer") && this.assertRowModelIsServerSide("serverSideFilterOnServer") && this.assertNotTreeData("serverSideFilterOnServer");
    }, Bp([
      w("columnApi")
    ], t.prototype, "columnApi", void 0), Bp([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Bp([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), t = Bp([
      q("ssrmStoreUtils")
    ], t), t;
  }(W)
), P9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), cl = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, A9 = "ag-Grid-MissingKey", M9 = (
  /** @class */
  function(o) {
    P9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.rowHeight = this.gridOptionsService.getRowHeightAsNumber(), this.usingTreeData = this.gridOptionsService.isTreeData(), this.usingMasterDetail = this.gridOptionsService.isMasterDetail();
    }, t.prototype.createRowNode = function(e) {
      var r = new Te(this.beans), n = e.rowHeight != null ? e.rowHeight : this.rowHeight;
      return r.setRowHeight(n), r.group = e.group, r.leafGroup = e.leafGroup, r.level = e.level, r.uiLevel = e.level, r.parent = e.parent, r.stub = !0, r.__needsRefreshWhenVisible = !1, r.group && (r.expanded = !1, r.field = e.field, r.rowGroupColumn = e.rowGroupColumn), r;
    }, t.prototype.destroyRowNodes = function(e) {
      var r = this;
      e && e.forEach(function(n) {
        return r.destroyRowNode(n);
      });
    }, t.prototype.destroyRowNode = function(e, r) {
      r === void 0 && (r = !1), e.childStore && !r && (this.destroyBean(e.childStore), e.childStore = null), e.sibling && this.destroyRowNode(e.sibling, !1), e.clearRowTopAndRowIndex(), e.id != null && this.nodeManager.removeNode(e);
    }, t.prototype.setTreeGroupInfo = function(e) {
      e.updateHasChildren();
      var r = this.gridOptionsService.get("getServerSideGroupKey");
      e.hasChildren() && r != null && (e.key = r(e.data)), !e.hasChildren() && e.childStore != null && (this.destroyBean(e.childStore), e.childStore = null, e.expanded = !1);
    }, t.prototype.setRowGroupInfo = function(e) {
      e.key = this.valueService.getValue(e.rowGroupColumn, e), (e.key === null || e.key === void 0) && T.doOnce(function() {
        console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"), e.rowGroupColumn && console.warn("column = " + e.rowGroupColumn.getId()), console.warn("data is ", e.data);
      }, "ServerSideBlock-CannotHaveNullOrUndefinedForKey"), this.beans.gridOptionsService.is("groupIncludeFooter") && (e.createFooter(), e.sibling && (e.sibling.uiLevel = e.uiLevel + 1));
    }, t.prototype.setMasterDetailInfo = function(e) {
      var r = this.gridOptionsService.get("isRowMaster");
      r != null ? e.master = r(e.data) : e.master = !0;
    }, t.prototype.updateDataIntoRowNode = function(e, r) {
      e.updateData(r), this.usingTreeData ? (this.setTreeGroupInfo(e), this.setChildCountIntoRowNode(e)) : e.group ? this.setChildCountIntoRowNode(e) : this.usingMasterDetail;
    }, t.prototype.setDataIntoRowNode = function(e, r, n, i) {
      var a;
      e.stub = !1, T.exists(r) ? (e.setDataAndId(r, n), this.usingTreeData ? this.setTreeGroupInfo(e) : e.group ? this.setRowGroupInfo(e) : this.usingMasterDetail && this.setMasterDetailInfo(e)) : (e.setDataAndId(void 0, void 0), e.key = null), (this.usingTreeData || e.group) && (this.setGroupDataIntoRowNode(e), this.setChildCountIntoRowNode(e)), T.exists(r) && (e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e, !1, i).height), (a = e.sibling) === null || a === void 0 || a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling, !1, i).height));
    }, t.prototype.setChildCountIntoRowNode = function(e) {
      var r = this.gridOptionsService.get("getChildCount");
      r && e.setAllChildrenCount(r(e.data));
    }, t.prototype.setGroupDataIntoRowNode = function(e) {
      var r = this, n = this.columnModel.getGroupDisplayColumns(), i = this.gridOptionsService.isTreeData();
      n.forEach(function(a) {
        if (e.groupData == null && (e.groupData = {}), i)
          e.groupData[a.getColId()] = e.key;
        else if (a.isRowGroupDisplayed(e.rowGroupColumn.getId())) {
          var s = r.valueService.getValue(e.rowGroupColumn, e);
          e.groupData[a.getColId()] = s;
        }
      });
    }, t.prototype.clearDisplayIndex = function(e) {
      e.clearRowTopAndRowIndex();
      var r = e.hasChildren() && T.exists(e.childStore);
      if (r) {
        var n = e.childStore;
        n.clearDisplayIndexes();
      }
      var i = e.master && e.detailNode;
      i && e.detailNode.clearRowTopAndRowIndex();
    }, t.prototype.setDisplayIndex = function(e, r, n) {
      e.setRowIndex(r.next()), e.setRowTop(n.value), n.value += e.rowHeight;
      var i = e.master;
      i && (e.expanded && e.detailNode ? (e.detailNode.setRowIndex(r.next()), e.detailNode.setRowTop(n.value), n.value += e.detailNode.rowHeight) : e.detailNode && e.detailNode.clearRowTopAndRowIndex());
      var a = e.hasChildren() && T.exists(e.childStore);
      if (a) {
        var s = e.childStore;
        e.expanded ? s.setDisplayIndexes(r, n) : s.clearDisplayIndexes();
      }
    }, t.prototype.binarySearchForDisplayIndex = function(e, r) {
      var n = 0, i = r.length - 1;
      if (T.missing(i) || T.missing(n)) {
        console.warn("AG Grid: error: topPointer = " + i + ", bottomPointer = " + n);
        return;
      }
      for (; ; ) {
        var a = Math.floor((n + i) / 2), s = r[a];
        if (s.rowIndex === e)
          return s;
        var l = s.master && s.expanded, u = s.detailNode;
        if (l && u && u.rowIndex === e)
          return s.detailNode;
        var c = s.childStore;
        if (s.expanded && c && c.isDisplayIndexInStore(e))
          return c.getRowUsingDisplayIndex(e);
        if (s.rowIndex < e)
          n = a + 1;
        else if (s.rowIndex > e)
          i = a - 1;
        else {
          console.warn("AG Grid: error: unable to locate rowIndex = " + e + " in cache");
          return;
        }
      }
    }, t.prototype.extractRowBounds = function(e, r) {
      var n = function(a) {
        return {
          rowHeight: a.rowHeight,
          rowTop: a.rowTop
        };
      };
      if (e.rowIndex === r)
        return n(e);
      if (e.hasChildren() && e.expanded && T.exists(e.childStore)) {
        var i = e.childStore;
        if (i.isDisplayIndexInStore(r))
          return i.getRowBounds(r);
      } else if (e.master && e.expanded && T.exists(e.detailNode) && e.detailNode.rowIndex === r)
        return n(e.detailNode);
    }, t.prototype.getIndexAtPixel = function(e, r) {
      if (e.isPixelInRange(r))
        return e.rowIndex;
      var n = e.master && e.expanded, i = e.detailNode;
      if (n && i && i.isPixelInRange(r))
        return e.detailNode.rowIndex;
      if (e.hasChildren() && e.expanded && T.exists(e.childStore)) {
        var a = e.childStore;
        if (a.isPixelInRange(r))
          return a.getRowIndexAtPixel(r);
      }
      return null;
    }, t.prototype.createNodeIdPrefix = function(e) {
      for (var r = [], n = e; n && n.level >= 0; )
        n.key === "" ? r.push(A9) : r.push(n.key), n = n.parent;
      if (r.length > 0)
        return r.reverse().join("-");
    }, t.prototype.checkOpenByDefault = function(e) {
      if (e.isExpandable()) {
        var r = this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");
        if (r) {
          var n = {
            data: e.data,
            rowNode: e
          }, i = r(n);
          i && window.setTimeout(function() {
            return e.setExpanded(!0);
          }, 0);
        }
      }
    }, cl([
      w("valueService")
    ], t.prototype, "valueService", void 0), cl([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), cl([
      w("ssrmNodeManager")
    ], t.prototype, "nodeManager", void 0), cl([
      w("beans")
    ], t.prototype, "beans", void 0), cl([
      V
    ], t.prototype, "postConstruct", null), t = cl([
      q("ssrmBlockUtils")
    ], t), t;
  }(W)
), S0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, I9 = (
  /** @class */
  function() {
    function o() {
      this.rowNodes = {};
    }
    return o.prototype.addRowNode = function(t) {
      var e = t.id;
      this.rowNodes[e] && (console.warn("AG Grid: Duplicate node id " + t.id + ". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."), console.warn("first instance", this.rowNodes[e].data), console.warn("second instance", t.data)), this.rowNodes[e] = t;
    }, o.prototype.removeNode = function(t) {
      var e = t.id;
      this.rowNodes[e] && (this.rowNodes[e] = void 0);
    }, o.prototype.clear = function() {
      this.rowNodes = {};
    }, S0([
      rt
    ], o.prototype, "clear", null), o = S0([
      q("ssrmNodeManager")
    ], o), o;
  }()
), F9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Fa = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, L9 = (
  /** @class */
  function(o) {
    F9(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.asyncTransactions = [], e;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.isRowModelType("serverSide");
    }, t.prototype.applyTransactionAsync = function(e, r) {
      this.asyncTransactionsTimeout == null && this.scheduleExecuteAsync(), this.asyncTransactions.push({ transaction: e, callback: r });
    }, t.prototype.scheduleExecuteAsync = function() {
      var e = this, r = this.gridOptionsService.getAsyncTransactionWaitMillis();
      this.asyncTransactionsTimeout = window.setTimeout(function() {
        e.executeAsyncTransactions();
      }, r);
    }, t.prototype.executeAsyncTransactions = function() {
      var e = this;
      if (this.asyncTransactions) {
        var r = [], n = [], i = [], a = !1;
        if (this.asyncTransactions.forEach(function(l) {
          var u;
          e.serverSideRowModel.executeOnStore(l.transaction.route, function(d) {
            u = d.applyTransaction(l.transaction);
          }), u == null && (u = { status: Ir.StoreNotFound }), n.push(u);
          var c = u.status == Ir.StoreLoading;
          if (c) {
            i.push(l);
            return;
          }
          l.callback && r.push(function() {
            return l.callback(u);
          }), u.status === Ir.Applied && (a = !0);
        }), r.length > 0 && window.setTimeout(function() {
          r.forEach(function(l) {
            return l();
          });
        }, 0), this.asyncTransactionsTimeout = void 0, this.asyncTransactions = i, a && (this.valueCache.onDataChanged(), this.eventService.dispatchEvent({ type: R.EVENT_STORE_UPDATED })), n.length > 0) {
          var s = {
            type: R.EVENT_ASYNC_TRANSACTIONS_FLUSHED,
            results: n
          };
          this.eventService.dispatchEvent(s);
        }
      }
    }, t.prototype.flushAsyncTransactions = function() {
      this.asyncTransactionsTimeout != null && clearTimeout(this.asyncTransactionsTimeout), this.executeAsyncTransactions();
    }, t.prototype.applyTransaction = function(e) {
      var r;
      if (this.serverSideRowModel.executeOnStore(e.route, function(i) {
        r = i.applyTransaction(e);
      }), r) {
        if (this.valueCache.onDataChanged(), r.remove) {
          var n = r.remove.map(function(i) {
            return i.id;
          });
          this.selectionService.deleteSelectionStateFromParent(e.route || [], n);
        }
        return this.eventService.dispatchEvent({ type: R.EVENT_STORE_UPDATED }), r;
      } else
        return { status: Ir.StoreNotFound };
    }, Fa([
      w("rowNodeBlockLoader")
    ], t.prototype, "rowNodeBlockLoader", void 0), Fa([
      w("valueCache")
    ], t.prototype, "valueCache", void 0), Fa([
      w("rowModel")
    ], t.prototype, "serverSideRowModel", void 0), Fa([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), Fa([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Fa([
      V
    ], t.prototype, "postConstruct", null), t = Fa([
      q("ssrmTransactionManager")
    ], t), t;
  }(W)
), N9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dc = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, G9 = (
  /** @class */
  function(o) {
    N9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.isRowModelType("serverSide") && this.addManagedListener(this.eventService, R.EVENT_ROW_GROUP_OPENED, this.onRowGroupOpened.bind(this));
    }, t.prototype.onRowGroupOpened = function(e) {
      var r = e.node;
      if (r.expanded) {
        if (r.master)
          this.createDetailNode(r);
        else if (T.missing(r.childStore)) {
          var n = this.serverSideRowModel.getParams();
          r.childStore = this.createBean(this.storeFactory.createStore(n, r));
        }
      } else
        this.gridOptionsService.is("purgeClosedRowNodes") && T.exists(r.childStore) && (r.childStore = this.destroyBean(r.childStore));
      var i = { type: R.EVENT_STORE_UPDATED };
      this.eventService.dispatchEvent(i);
    }, t.prototype.createDetailNode = function(e) {
      if (T.exists(e.detailNode))
        return e.detailNode;
      var r = new Te(this.beans);
      r.detail = !0, r.selectable = !1, r.parent = e, T.exists(e.id) && (r.id = "detail_" + e.id), r.data = e.data, r.level = e.level + 1;
      var n = 200, i = this.gridOptionsService.getRowHeightForNode(r).height;
      return r.rowHeight = i || n, e.detailNode = r, r;
    }, dc([
      w("rowModel")
    ], t.prototype, "serverSideRowModel", void 0), dc([
      w("ssrmStoreFactory")
    ], t.prototype, "storeFactory", void 0), dc([
      w("beans")
    ], t.prototype, "beans", void 0), dc([
      V
    ], t.prototype, "postConstruct", null), t = dc([
      q("ssrmExpandListener")
    ], t), t;
  }(W)
), k9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dl = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, V9 = (
  /** @class */
  function(o) {
    k9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.isRowModelType("serverSide") && this.addManagedListener(this.eventService, R.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));
    }, t.prototype.extractSortModel = function() {
      var e = this.sortController.getSortModel();
      return this.gridOptionsService.isTreeData() || (this.replaceAutoGroupColumnWithActualRowGroupColumns(e), this.removeMultiColumnPrefixOnColumnIds(e)), e;
    }, t.prototype.removeMultiColumnPrefixOnColumnIds = function(e) {
      if (this.gridOptionsService.isGroupMultiAutoColumn())
        for (var r = oo + "-", n = 0; n < e.length; ++n)
          e[n].colId.indexOf(r) > -1 && (e[n].colId = e[n].colId.substr(r.length));
    }, t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns = function(e) {
      var r = e.find(function(l) {
        return l.colId == oo;
      });
      if (r) {
        var n = e.indexOf(r);
        T.removeFromArray(e, r);
        var i = function(l) {
          return e.filter(function(u) {
            return u.colId === l.getColId();
          }).length == 0;
        }, a = function(l) {
          return { colId: l.getId(), sort: r.sort };
        }, s = this.columnModel.getRowGroupColumns().filter(i).map(a);
        T.insertArrayIntoArray(e, s, n);
      }
    }, t.prototype.onSortChanged = function() {
      var e = this.serverSideRowModel.getParams();
      if (e) {
        var r = this.extractSortModel(), n = e.sortModel, i = this.findChangedColumnsInSort(r, n), a = this.listenerUtils.isSortingWithValueColumn(i), s = this.listenerUtils.isSortingWithSecondaryColumn(i), l = {
          valueColChanged: a,
          secondaryColChanged: s,
          changedColumns: i
        };
        this.serverSideRowModel.refreshAfterSort(r, l);
      }
    }, t.prototype.findChangedColumnsInSort = function(e, r) {
      var n = [];
      [e, r].forEach(function(s) {
        if (s) {
          var l = s.map(function(u) {
            return u.colId;
          });
          n = n.concat(l);
        }
      });
      var i = function(s, l) {
        var u = s ? s.sort : null, c = l ? l.sort : null;
        return u !== c;
      }, a = function(s, l) {
        var u = s ? r.indexOf(s) : -1, c = l ? e.indexOf(l) : -1;
        return u !== c;
      };
      return n.filter(function(s) {
        var l = r.find(function(c) {
          return c.colId === s;
        }), u = e.find(function(c) {
          return c.colId === s;
        });
        return i(l, u) || a(l, u);
      });
    }, dl([
      w("sortController")
    ], t.prototype, "sortController", void 0), dl([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), dl([
      w("rowModel")
    ], t.prototype, "serverSideRowModel", void 0), dl([
      w("ssrmListenerUtils")
    ], t.prototype, "listenerUtils", void 0), dl([
      V
    ], t.prototype, "postConstruct", null), t = dl([
      q("ssrmSortService")
    ], t), t;
  }(W)
), B9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), pc = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, H9 = (
  /** @class */
  function(o) {
    B9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.gridOptionsService.isRowModelType("serverSide") && this.addManagedListener(this.eventService, R.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));
    }, t.prototype.onFilterChanged = function() {
      var e = this.serverSideRowModel.getParams();
      if (e) {
        var r = this.filterManager.getFilterModel(), n = e ? e.filterModel : {}, i = this.findChangedColumns(r, n), a = this.listenerUtils.isSortingWithValueColumn(i), s = this.listenerUtils.isSortingWithSecondaryColumn(i), l = {
          valueColChanged: a,
          secondaryColChanged: s,
          changedColumns: i
        };
        this.serverSideRowModel.refreshAfterFilter(r, l);
      }
    }, t.prototype.findChangedColumns = function(e, r) {
      var n = {};
      Object.keys(e).forEach(function(a) {
        return n[a] = !0;
      }), Object.keys(r).forEach(function(a) {
        return n[a] = !0;
      });
      var i = [];
      return Object.keys(n).forEach(function(a) {
        var s = JSON.stringify(e[a]), l = JSON.stringify(r[a]), u = s != l;
        u && i.push(a);
      }), i;
    }, pc([
      w("rowModel")
    ], t.prototype, "serverSideRowModel", void 0), pc([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), pc([
      w("ssrmListenerUtils")
    ], t.prototype, "listenerUtils", void 0), pc([
      V
    ], t.prototype, "postConstruct", null), t = pc([
      q("ssrmFilterListener")
    ], t), t;
  }(W)
), Vg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, j9 = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.createStore = function(t, e) {
      var r = this.getStoreParams(t, e), n = r.suppressInfiniteScroll ? cT : Yy;
      return new n(t, r, e);
    }, o.prototype.getStoreParams = function(t, e) {
      var r = this.getLevelSpecificParams(e), n = this.isInfiniteScroll(r), i = this.getBlockSize(n, r), a = this.getMaxBlocksInCache(n, t, r), s = {
        suppressInfiniteScroll: !n,
        cacheBlockSize: i,
        maxBlocksInCache: a
      };
      return s;
    }, o.prototype.getMaxBlocksInCache = function(t, e, r) {
      if (t) {
        var n = r && r.maxBlocksInCache != null ? r.maxBlocksInCache : this.gridOptionsService.getNum("maxBlocksInCache"), i = n != null && n >= 0;
        if (i) {
          if (e.dynamicRowHeight) {
            var a = "AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.";
            T.doOnce(function() {
              return console.warn(a);
            }, "storeFactory.maxBlocksInCache.dynamicRowHeight");
            return;
          }
          if (this.columnModel.isAutoRowHeightActive()) {
            var s = "AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.";
            T.doOnce(function() {
              return console.warn(s);
            }, "storeFactory.maxBlocksInCache.autoRowHeightActive");
            return;
          }
          return n;
        }
      }
    }, o.prototype.getBlockSize = function(t, e) {
      if (t) {
        var r = e && e.cacheBlockSize != null ? e.cacheBlockSize : this.gridOptionsService.getNum("cacheBlockSize");
        return r != null && r > 0 ? r : 100;
      }
    }, o.prototype.getLevelSpecificParams = function(t) {
      var e = this.gridOptionsService.getCallback("getServerSideGroupLevelParams");
      if (e) {
        var r = {
          level: t.level + 1,
          parentRowNode: t.level >= 0 ? t : void 0,
          rowGroupColumns: this.columnModel.getRowGroupColumns(),
          pivotColumns: this.columnModel.getPivotColumns(),
          pivotMode: this.columnModel.isPivotMode()
        }, n = e(r);
        return n.storeType != null && (n.suppressInfiniteScroll = n.storeType !== "partial"), n;
      }
    }, o.prototype.isInfiniteScroll = function(t) {
      var e = t && t.suppressInfiniteScroll != null ? t.suppressInfiniteScroll : this.isSuppressServerSideInfiniteScroll();
      return !e;
    }, o.prototype.isSuppressServerSideInfiniteScroll = function() {
      return this.gridOptionsService.is("suppressServerSideInfiniteScroll");
    }, Vg([
      w("gridOptionsService")
    ], o.prototype, "gridOptionsService", void 0), Vg([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), o = Vg([
      q("ssrmStoreFactory")
    ], o), o;
  }()
), w0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, W9 = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.isSortingWithValueColumn = function(t) {
      for (var e = this.columnModel.getValueColumns().map(function(n) {
        return n.getColId();
      }), r = 0; r < t.length; r++)
        if (e.indexOf(t[r]) > -1)
          return !0;
      return !1;
    }, o.prototype.isSortingWithSecondaryColumn = function(t) {
      if (!this.columnModel.getSecondaryColumns())
        return !1;
      for (var e = this.columnModel.getSecondaryColumns().map(function(n) {
        return n.getColId();
      }), r = 0; r < t.length; r++)
        if (e.indexOf(t[r]) > -1)
          return !0;
      return !1;
    }, w0([
      w("columnModel")
    ], o.prototype, "columnModel", void 0), o = w0([
      q("ssrmListenerUtils")
    ], o), o;
  }()
), $9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), _0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, U9 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, z9 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, b0 = (
  /** @class */
  function(o) {
    $9(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.selectedState = { selectAll: !1, toggledNodes: /* @__PURE__ */ new Set() }, e.lastSelected = null, e.selectAllUsed = !1, e.selectedNodes = {}, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.rowSelection = this.gridOptionsService.get("rowSelection"), this.addManagedPropertyListener("rowSelection", function(r) {
        e.rowSelection = r.currentValue;
      });
    }, t.prototype.getSelectedState = function() {
      return {
        selectAll: this.selectedState.selectAll,
        toggledNodes: z9([], U9(this.selectedState.toggledNodes))
      };
    }, t.prototype.setSelectedState = function(e) {
      var r = {
        selectAll: !1,
        toggledNodes: /* @__PURE__ */ new Set()
      };
      if (typeof e != "object") {
        console.error("AG Grid: The provided selection state should be an object.");
        return;
      }
      if ("selectAll" in e && typeof e.selectAll == "boolean")
        r.selectAll = e.selectAll;
      else {
        console.error("AG Grid: Select all status should be of boolean type.");
        return;
      }
      if ("toggledNodes" in e && Array.isArray(e.toggledNodes))
        e.toggledNodes.forEach(function(n) {
          typeof n == "string" ? r.toggledNodes.add(n) : console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: " + n);
        });
      else {
        console.error("AG Grid: `toggledNodes` must be an array of string ids.");
        return;
      }
      this.selectedState = r;
    }, t.prototype.deleteSelectionStateFromParent = function(e, r) {
      var n = this;
      if (this.selectedState.toggledNodes.size === 0)
        return !1;
      var i = !1;
      return r.forEach(function(a) {
        n.selectedState.toggledNodes.delete(a) && (i = !0);
      }), i;
    }, t.prototype.setNodesSelected = function(e) {
      var r, n = this;
      if (e.nodes.length === 0)
        return 0;
      var i = e.clearSelection && e.newValue && !e.rangeSelect;
      if (this.rowSelection !== "multiple" || i) {
        if (e.nodes.length > 1)
          throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");
        var a = e.nodes[0];
        return e.newValue ? (this.selectedNodes = (r = {}, r[a.id] = a, r), this.selectedState = {
          selectAll: !1,
          toggledNodes: /* @__PURE__ */ new Set([a.id])
        }) : (this.selectedNodes = {}, this.selectedState = {
          selectAll: !1,
          toggledNodes: /* @__PURE__ */ new Set()
        }), this.lastSelected = a.id, 1;
      }
      var s = function(u) {
        e.newValue ? n.selectedNodes[u.id] = u : delete n.selectedNodes[u.id];
        var c = e.newValue === n.selectedState.selectAll;
        if (c) {
          n.selectedState.toggledNodes.delete(u.id);
          return;
        }
        n.selectedState.toggledNodes.add(u.id);
      };
      if (e.rangeSelect && this.lastSelected) {
        if (e.nodes.length > 1)
          throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");
        var a = e.nodes[0], l = this.rowModel.getRowNode(this.lastSelected);
        return this.rowModel.getNodesInRangeForSelection(a, l != null ? l : null).forEach(s), this.lastSelected = a.id, 1;
      }
      return e.nodes.forEach(s), this.lastSelected = e.nodes[e.nodes.length - 1].id, 1;
    }, t.prototype.processNewRow = function(e) {
      this.selectedNodes[e.id] && (this.selectedNodes[e.id] = e);
    }, t.prototype.isNodeSelected = function(e) {
      var r = this.selectedState.toggledNodes.has(e.id);
      return this.selectedState.selectAll ? !r : r;
    }, t.prototype.getSelectedNodes = function() {
      return this.selectAllUsed && console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."), Object.values(this.selectedNodes);
    }, t.prototype.getSelectedRows = function() {
      return this.getSelectedNodes().map(function(e) {
        return e.data;
      });
    }, t.prototype.getSelectionCount = function() {
      return this.selectedState.selectAll ? -1 : this.selectedState.toggledNodes.size;
    }, t.prototype.clearOtherNodes = function(e, r) {
      var n = this.selectedState.selectAll ? 1 : this.selectedState.toggledNodes.size - 1;
      this.selectedState = {
        selectAll: !1,
        toggledNodes: /* @__PURE__ */ new Set([e.id])
      }, this.rowModel.forEachNode(function(a) {
        a !== e && a.selectThisNode(!1, void 0, r);
      });
      var i = {
        type: R.EVENT_SELECTION_CHANGED,
        source: r
      };
      return this.eventService.dispatchEvent(i), n;
    }, t.prototype.isEmpty = function() {
      var e;
      return !this.selectedState.selectAll && !(!((e = this.selectedState.toggledNodes) === null || e === void 0) && e.size);
    }, t.prototype.selectAllRowNodes = function(e) {
      this.selectedState = { selectAll: !0, toggledNodes: /* @__PURE__ */ new Set() }, this.selectedNodes = {}, this.selectAllUsed = !0;
    }, t.prototype.deselectAllRowNodes = function(e) {
      this.selectedState = { selectAll: !1, toggledNodes: /* @__PURE__ */ new Set() }, this.selectedNodes = {};
    }, t.prototype.getSelectAllState = function(e, r) {
      return this.selectedState.selectAll ? this.selectedState.toggledNodes.size > 0 ? null : !0 : this.selectedState.toggledNodes.size > 0 ? null : !1;
    }, _0([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), _0([
      V
    ], t.prototype, "init", null), t;
  }(W)
), K9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Gc = function() {
  return Gc = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, Gc.apply(this, arguments);
}, pl = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Y9 = function(o, t) {
  var e = {};
  for (var r in o)
    Object.prototype.hasOwnProperty.call(o, r) && t.indexOf(r) < 0 && (e[r] = o[r]);
  if (o != null && typeof Object.getOwnPropertySymbols == "function")
    for (var n = 0, r = Object.getOwnPropertySymbols(o); n < r.length; n++)
      t.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(o, r[n]) && (e[r[n]] = o[r[n]]);
  return e;
}, Hp = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, X9 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, E0 = (
  /** @class */
  function(o) {
    K9(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.selectedState = { selectAllChildren: !1, toggledNodes: /* @__PURE__ */ new Map() }, e.lastSelected = null, e;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, function() {
        return e.removeRedundantState();
      }), this.addManagedListener(this.eventService, R.EVENT_COLUMN_ROW_GROUP_CHANGED, function() {
        return e.selectionService.reset();
      });
    }, t.prototype.getSelectedState = function() {
      var e = this, r = function(n, i, a) {
        var s = {
          nodeId: a
        };
        if (i <= e.columnModel.getRowGroupColumns().length && (s.selectAllChildren = n.selectAllChildren), n.toggledNodes.size) {
          var l = [];
          n.toggledNodes.forEach(function(u, c) {
            var d = r(u, i + 1, c);
            l.push(d);
          }), s.toggledNodes = l;
        }
        return s;
      };
      return r(this.selectedState, 0);
    }, t.prototype.setSelectedState = function(e) {
      var r = function(n, i) {
        var a, s;
        if (typeof n != "object")
          throw new Error("AG Grid: Each provided state object must be an object.");
        if ("selectAllChildren" in n && typeof n.selectAllChildren != "boolean")
          throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");
        if ("toggledNodes" in n) {
          if (!Array.isArray(n.toggledNodes))
            throw new Error("AG Grid: `toggledNodes` must be an array.");
          var l = n.toggledNodes.every(function(p) {
            return typeof p == "object" && "nodeId" in p && typeof p.nodeId == "string";
          });
          if (!l)
            throw new Error("AG Grid: Every `toggledNode` requires an associated string id.");
        }
        var u = (a = n.selectAllChildren) !== null && a !== void 0 ? a : !i, c = (s = n.toggledNodes) === null || s === void 0 ? void 0 : s.map(function(p) {
          return [p.nodeId, r(p, u)];
        }), d = c == null ? void 0 : c.some(function(p) {
          var h = Hp(p, 2);
          h[0];
          var f = h[1];
          return u === f.selectAllChildren && f.toggledNodes.size === 0;
        });
        if (d)
          throw new Error(`
                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.
                    Please rebuild the selection state and reapply it.
                `);
        return {
          selectAllChildren: u,
          toggledNodes: new Map(c)
        };
      };
      try {
        this.selectedState = r(e, !!e.selectAllChildren);
      } catch (n) {
        console.error(n.message);
      }
    }, t.prototype.deleteSelectionStateFromParent = function(e, r) {
      for (var n = this.selectedState, i = X9([], Hp(e)); n && i.length; )
        n = n.toggledNodes.get(i.pop());
      if (!n)
        return !1;
      var a = !1;
      return r.forEach(function(s) {
        n != null && n.toggledNodes.delete(s) && (a = !0);
      }), a && this.removeRedundantState(), a;
    }, t.prototype.setNodesSelected = function(e) {
      var r = this, n = e.nodes, i = Y9(e, ["nodes"]);
      if (n.length === 0)
        return 0;
      if (e.rangeSelect) {
        if (n.length > 1)
          throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");
        var a = n[0], s = this.rowModel.getNodesInRangeForSelection(a, this.lastSelected), l = s.map(this.getRouteToNode).sort(function(c, d) {
          return d.length - c.length;
        }), u = /* @__PURE__ */ new Set();
        return l.forEach(function(c) {
          u.has(c[c.length - 1]) || (c.forEach(function(d) {
            return u.add(d);
          }), r.recursivelySelectNode(c, r.selectedState, Gc({ node: a }, i)));
        }), this.removeRedundantState(), this.lastSelected = a, 1;
      }
      return e.nodes.forEach(function(c) {
        var d = r.getRouteToNode(c);
        r.recursivelySelectNode(d, r.selectedState, Gc(Gc({}, i), { node: c }));
      }), this.removeRedundantState(), this.lastSelected = e.nodes[e.nodes.length - 1], 1;
    }, t.prototype.isNodeSelected = function(e) {
      var r = this.getRouteToNode(e);
      return this.isNodePathSelected(r, this.selectedState);
    }, t.prototype.isNodePathSelected = function(e, r) {
      var n = Hp(e), i = n[0], a = n.slice(1);
      if (a.length === 0) {
        var s = r.toggledNodes.has(i.id);
        if (i.hasChildren()) {
          var l = r.toggledNodes.get(i.id);
          if (l && l.toggledNodes.size)
            return;
        }
        return r.selectAllChildren ? !s : s;
      }
      if (r.toggledNodes.has(i.id)) {
        var u = r.toggledNodes.get(i.id);
        if (u)
          return this.isNodePathSelected(a, u);
      }
      return !!r.selectAllChildren;
    }, t.prototype.getRouteToNode = function(e) {
      for (var r = [], n = e; n.parent; )
        r.push(n), n = n.parent;
      return r.reverse();
    }, t.prototype.removeRedundantState = function() {
      var e = this;
      if (!this.filterManager.isAnyFilterPresent()) {
        var r = function(n, i, a) {
          n === void 0 && (n = e.selectedState), i === void 0 && (i = e.serverSideRowModel.getRootStore());
          var s = !0, l = !0;
          return n.toggledNodes.forEach(function(u, c) {
            var d = e.rowModel.getRowNode(c);
            d || (s = !1);
            var p = d == null ? void 0 : d.childStore;
            if (!p) {
              u.toggledNodes.size > 0 && (l = !1);
              return;
            }
            r(u, p, d) && n.selectAllChildren === u.selectAllChildren && n.toggledNodes.delete(c), u.toggledNodes.size > 0 && (l = !1);
          }), !i || !i.isLastRowIndexKnown() || i.getRowCount() !== n.toggledNodes.size ? !1 : l && s ? (n.toggledNodes.clear(), n.selectAllChildren = !n.selectAllChildren, a && (a == null ? void 0 : a.isSelected()) !== n.selectAllChildren && a.selectThisNode(n.selectAllChildren, void 0, "api"), !0) : !1;
        };
        r();
      }
    }, t.prototype.recursivelySelectNode = function(e, r, n) {
      var i = Hp(e), a = i[0], s = i.slice(1);
      if (a) {
        var l = !s.length;
        if (l) {
          var u = r.selectAllChildren === n.newValue;
          if (u) {
            r.toggledNodes.delete(a.id);
            return;
          }
          var c = {
            selectAllChildren: n.newValue,
            toggledNodes: /* @__PURE__ */ new Map()
          };
          r.toggledNodes.set(a.id, c);
          return;
        }
        var d = r.toggledNodes.has(a.id), p = d ? r.toggledNodes.get(a.id) : {
          selectAllChildren: r.selectAllChildren,
          toggledNodes: /* @__PURE__ */ new Map()
        };
        d || r.toggledNodes.set(a.id, p), this.recursivelySelectNode(s, p, n), r.selectAllChildren === p.selectAllChildren && p.toggledNodes.size === 0 && r.toggledNodes.delete(a.id);
      }
    }, t.prototype.getSelectedNodes = function() {
      console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");
      var e = [];
      return this.rowModel.forEachNode(function(r) {
        r.isSelected() && e.push(r);
      }), e;
    }, t.prototype.processNewRow = function(e) {
    }, t.prototype.getSelectedRows = function() {
      return this.getSelectedNodes().map(function(e) {
        return e.data;
      });
    }, t.prototype.getSelectionCount = function() {
      return -1;
    }, t.prototype.isEmpty = function() {
      var e;
      return !this.selectedState.selectAllChildren && !(!((e = this.selectedState.toggledNodes) === null || e === void 0) && e.size);
    }, t.prototype.selectAllRowNodes = function(e) {
      this.selectedState = { selectAllChildren: !0, toggledNodes: /* @__PURE__ */ new Map() };
    }, t.prototype.deselectAllRowNodes = function(e) {
      this.selectedState = { selectAllChildren: !1, toggledNodes: /* @__PURE__ */ new Map() };
    }, t.prototype.getSelectAllState = function(e, r) {
      return this.selectedState.selectAllChildren ? this.selectedState.toggledNodes.size > 0 ? null : !0 : this.selectedState.toggledNodes.size > 0 ? null : !1;
    }, pl([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), pl([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), pl([
      w("filterManager")
    ], t.prototype, "filterManager", void 0), pl([
      w("rowModel")
    ], t.prototype, "serverSideRowModel", void 0), pl([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), pl([
      V
    ], t.prototype, "init", null), t;
  }(W)
), q9 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Bg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Z9 = (
  /** @class */
  function(o) {
    q9(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.init = function() {
      var e = this, r = this.gridOptionsService.is("groupSelectsChildren");
      this.addManagedPropertyListener("groupSelectsChildren", function(i) {
        e.destroyBean(e.selectionStrategy);
        var a = i.currentValue ? E0 : b0;
        e.selectionStrategy = e.createManagedBean(new a()), e.shotgunResetNodeSelectionState();
        var s = {
          type: R.EVENT_SELECTION_CHANGED,
          source: "api"
        };
        e.eventService.dispatchEvent(s);
      }), this.rowSelection = this.gridOptionsService.get("rowSelection"), this.addManagedPropertyListener("rowSelection", function(i) {
        return e.rowSelection = i.currentValue;
      });
      var n = r ? E0 : b0;
      this.selectionStrategy = this.createManagedBean(new n());
    }, t.prototype.getServerSideSelectionState = function() {
      return this.selectionStrategy.getSelectedState();
    }, t.prototype.setServerSideSelectionState = function(e) {
      this.selectionStrategy.setSelectedState(e), this.shotgunResetNodeSelectionState();
      var r = {
        type: R.EVENT_SELECTION_CHANGED,
        source: "api"
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.setNodesSelected = function(e) {
      if (e.nodes.length > 1 && this.rowSelection !== "multiple")
        return console.warn("AG Grid: cannot multi select while rowSelection='single'"), 0;
      if (e.nodes.length > 1 && e.rangeSelect)
        return console.warn("AG Grid: cannot use range selection when multi selecting rows"), 0;
      var r = this.selectionStrategy.setNodesSelected(e);
      this.shotgunResetNodeSelectionState(e.source);
      var n = {
        type: R.EVENT_SELECTION_CHANGED,
        source: e.source
      };
      return this.eventService.dispatchEvent(n), r;
    }, t.prototype.deleteSelectionStateFromParent = function(e, r) {
      var n = this.selectionStrategy.deleteSelectionStateFromParent(e, r);
      if (n) {
        this.shotgunResetNodeSelectionState();
        var i = {
          type: R.EVENT_SELECTION_CHANGED,
          source: "api"
        };
        this.eventService.dispatchEvent(i);
      }
    }, t.prototype.shotgunResetNodeSelectionState = function(e) {
      var r = this;
      this.rowModel.forEachNode(function(n) {
        if (!n.stub) {
          var i = r.selectionStrategy.isNodeSelected(n);
          i !== n.isSelected() && n.selectThisNode(i, void 0, e);
        }
      });
    }, t.prototype.getSelectedNodes = function() {
      return this.selectionStrategy.getSelectedNodes();
    }, t.prototype.getSelectedRows = function() {
      return this.selectionStrategy.getSelectedRows();
    }, t.prototype.getSelectionCount = function() {
      return this.selectionStrategy.getSelectionCount();
    }, t.prototype.syncInRowNode = function(e, r) {
      this.selectionStrategy.processNewRow(e);
      var n = this.selectionStrategy.isNodeSelected(e);
      e.setSelectedInitialValue(n);
    }, t.prototype.reset = function() {
      this.selectionStrategy.deselectAllRowNodes({ source: "api" });
    }, t.prototype.isEmpty = function() {
      return this.selectionStrategy.isEmpty();
    }, t.prototype.selectAllRowNodes = function(e) {
      (e.justCurrentPage || e.justFiltered) && console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"), this.selectionStrategy.selectAllRowNodes(e), this.rowModel.forEachNode(function(n) {
        n.stub || n.selectThisNode(!0, void 0, e.source);
      });
      var r = {
        type: R.EVENT_SELECTION_CHANGED,
        source: e.source
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.deselectAllRowNodes = function(e) {
      (e.justCurrentPage || e.justFiltered) && console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"), this.selectionStrategy.deselectAllRowNodes(e), this.rowModel.forEachNode(function(n) {
        n.stub || n.selectThisNode(!1, void 0, e.source);
      });
      var r = {
        type: R.EVENT_SELECTION_CHANGED,
        source: e.source
      };
      this.eventService.dispatchEvent(r);
    }, t.prototype.getSelectAllState = function(e, r) {
      return this.selectionStrategy.getSelectAllState(e, r);
    }, t.prototype.updateGroupsFromChildrenSelections = function(e, r) {
      return !1;
    }, t.prototype.getBestCostNodeSelection = function() {
      console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.");
    }, t.prototype.filterFromSelection = function() {
    }, Bg([
      w("rowModel")
    ], t.prototype, "rowModel", void 0), Bg([
      V
    ], t.prototype, "init", null), t = Bg([
      q("selectionService")
    ], t), t;
  }(W)
), Q9 = "30.0.6", J9 = {
  version: Q9,
  moduleName: Z.ServerSideRowModelModule,
  rowModel: "serverSide",
  beans: [
    T9,
    G9,
    V9,
    D9,
    M9,
    I9,
    L9,
    H9,
    j9,
    W9,
    Z9
  ],
  dependantModules: [
    cr
  ]
}, e7 = (
  /** @class */
  function() {
    function o(t, e, r, n, i, a, s, l, u) {
      this.rowModel = t, this.filterParams = e, this.createKey = r, this.caseFormat = n, this.columnModel = i, this.valueService = a, this.treeDataOrGrouping = s, this.treeData = l, this.getDataPath = u;
    }
    return o.prototype.extractUniqueValues = function(t, e) {
      var r = this, n = /* @__PURE__ */ new Map(), i = this.extractExistingFormattedKeys(e), a = /* @__PURE__ */ new Set(), s = this.treeData && !!this.getDataPath, l = this.columnModel.getRowGroupColumns(), u = function(c, d) {
        var p = r.caseFormat(c);
        if (!a.has(p)) {
          a.add(p);
          var h = c, f = T.makeNull(d), v = i == null ? void 0 : i.get(p);
          v != null && (h = v, f = e.get(v)), n.set(h, f);
        }
      };
      return this.rowModel.forEachLeafNode(function(c) {
        if (!(!c.data || !t(c))) {
          if (r.treeDataOrGrouping) {
            r.addValueForTreeDataOrGrouping(c, s, l, u);
            return;
          }
          var d = r.getValue(c);
          if (r.filterParams.convertValuesToStrings) {
            r.addValueForConvertValuesToString(c, d, u);
            return;
          }
          d != null && Array.isArray(d) ? (d.forEach(function(p) {
            u(r.createKey(p, c), p);
          }), d.length === 0 && u(null, null)) : u(r.createKey(d, c), d);
        }
      }), n;
    }, o.prototype.addValueForConvertValuesToString = function(t, e, r) {
      var n = this.createKey(e, t);
      n != null && Array.isArray(n) ? (n.forEach(function(i) {
        var a = T.toStringOrNull(T.makeNull(i));
        r(a, a);
      }), n.length === 0 && r(null, null)) : r(n, n);
    }, o.prototype.addValueForTreeDataOrGrouping = function(t, e, r, n) {
      var i = this, a, s;
      if (e) {
        if (!((a = t.childrenAfterGroup) === null || a === void 0) && a.length)
          return;
        s = this.getDataPath(t.data);
      } else
        s = r.map(function(l) {
          return i.valueService.getKeyForNode(l, t);
        }), s.push(this.getValue(t));
      s && (s = s.map(function(l) {
        return T.toStringOrNull(T.makeNull(l));
      })), s != null && s.some(function(l) {
        return l == null;
      }) && (s = null), n(this.createKey(s), s);
    }, o.prototype.getValue = function(t) {
      var e = this.filterParams, r = e.api, n = e.colDef, i = e.column, a = e.columnApi, s = e.context;
      return this.filterParams.valueGetter({
        api: r,
        colDef: n,
        column: i,
        columnApi: a,
        context: s,
        data: t.data,
        getValue: function(l) {
          return t.data[l];
        },
        node: t
      });
    }, o.prototype.extractExistingFormattedKeys = function(t) {
      var e = this;
      if (!t)
        return null;
      var r = /* @__PURE__ */ new Map();
      return t.forEach(function(n, i) {
        r.set(e.caseFormat(i), i);
      }), r;
    }, o;
  }()
), Ya = (
  /** @class */
  function() {
    function o() {
    }
    return o.SELECT_ALL = "__AG_SELECT_ALL__", o;
  }()
), t7 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, r7 = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.valueFormatterService = t, this.valueFormatter = e, this.formatter = r, this.column = n, this.displayedKeys = [];
    }
    return o.prototype.updateDisplayedValuesToAllAvailable = function(t, e, r) {
      this.displayedKeys = Array.from(r);
    }, o.prototype.updateDisplayedValuesToMatchMiniFilter = function(t, e, r, n, i) {
      var a, s;
      this.displayedKeys = [];
      try {
        for (var l = t7(r), u = l.next(); !u.done; u = l.next()) {
          var c = u.value;
          if (c == null)
            i && this.displayedKeys.push(c);
          else {
            var d = t(c), p = this.valueFormatterService.formatValue(this.column, null, d, this.valueFormatter, !1), h = this.formatter(p);
            n(h) && this.displayedKeys.push(c);
          }
        }
      } catch (f) {
        a = { error: f };
      } finally {
        try {
          u && !u.done && (s = l.return) && s.call(l);
        } finally {
          if (a)
            throw a.error;
        }
      }
    }, o.prototype.getDisplayedValueCount = function() {
      return this.displayedKeys.length;
    }, o.prototype.getDisplayedItem = function(t) {
      return this.displayedKeys[t];
    }, o.prototype.getSelectAllItem = function() {
      return Ya.SELECT_ALL;
    }, o.prototype.getDisplayedKeys = function() {
      return this.displayedKeys;
    }, o.prototype.forEachDisplayedKey = function(t) {
      this.displayedKeys.forEach(t);
    }, o.prototype.someDisplayedKey = function(t) {
      return this.displayedKeys.some(t);
    }, o.prototype.hasGroups = function() {
      return !1;
    }, o.prototype.refresh = function() {
    }, o;
  }()
), n7 = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, O0 = function(o, t) {
  for (var e = 0, r = t.length, n = o.length; e < r; e++, n++)
    o[n] = t[e];
  return o;
}, Hg = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, i7 = (
  /** @class */
  function() {
    function o(t, e, r, n) {
      this.formatter = t, this.treeListPathGetter = e, this.treeListFormatter = r, this.treeDataOrGrouping = n, this.allDisplayedItemsTree = [], this.activeDisplayedItemsFlat = [], this.selectAllItem = {
        depth: 0,
        filterPasses: !0,
        available: !0,
        treeKey: Ya.SELECT_ALL,
        children: this.allDisplayedItemsTree,
        expanded: !0,
        key: Ya.SELECT_ALL,
        parentTreeKeys: []
      };
    }
    return o.prototype.updateDisplayedValuesToAllAvailable = function(t, e, r, n) {
      n === "reload" ? this.generateItemTree(t, e, r) : n === "otherFilter" ? (this.updateAvailable(r), this.updateExpandAll()) : n === "miniFilter" && (this.resetFilter(), this.updateExpandAll()), this.flattenItems();
    }, o.prototype.updateDisplayedValuesToMatchMiniFilter = function(t, e, r, n, i, a) {
      a === "reload" ? this.generateItemTree(t, e, r) : a === "otherFilter" && this.updateAvailable(r), this.updateFilter(n, i), this.updateExpandAll(), this.flattenItems();
    }, o.prototype.generateItemTree = function(t, e, r) {
      var n, i, a;
      this.allDisplayedItemsTree = [], this.groupsExist = !1;
      var s = this.getTreeListPathGetter(t, r), l = function(h) {
        var f = t(h), v = (a = s(f)) !== null && a !== void 0 ? a : [null];
        v.length > 1 && (u.groupsExist = !0);
        var g = r.has(h), y = u.allDisplayedItemsTree, m, C = [];
        v.forEach(function(S, b) {
          y || (y = [], m.children = y), m = y.find(function(_) {
            var O;
            return ((O = _.treeKey) === null || O === void 0 ? void 0 : O.toUpperCase()) === (S == null ? void 0 : S.toUpperCase());
          }), m || (m = { treeKey: S, depth: b, filterPasses: !0, expanded: !1, available: g, parentTreeKeys: C }, b === v.length - 1 && (m.key = h), y.push(m)), y = m.children, C = O0(O0([], n7(C)), [S]);
        });
      }, u = this;
      try {
        for (var c = Hg(e), d = c.next(); !d.done; d = c.next()) {
          var p = d.value;
          l(p);
        }
      } catch (h) {
        n = { error: h };
      } finally {
        try {
          d && !d.done && (i = c.return) && i.call(c);
        } finally {
          if (n)
            throw n.error;
        }
      }
      this.updateAvailable(r), this.selectAllItem.children = this.allDisplayedItemsTree, this.selectAllItem.expanded = !1;
    }, o.prototype.getTreeListPathGetter = function(t, e) {
      var r, n;
      if (this.treeListPathGetter)
        return this.treeListPathGetter;
      if (this.treeDataOrGrouping)
        return function(c) {
          return c;
        };
      var i = !1;
      try {
        for (var a = Hg(e), s = a.next(); !s.done; s = a.next()) {
          var l = s.value, u = t(l);
          if (u instanceof Date) {
            i = !0;
            break;
          } else if (u != null)
            break;
        }
      } catch (c) {
        r = { error: c };
      } finally {
        try {
          s && !s.done && (n = a.return) && n.call(a);
        } finally {
          if (r)
            throw r.error;
        }
      }
      return i ? o.DATE_TREE_LIST_PATH_GETTER : (T.doOnce(function() {
        return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.");
      }, "getTreeListPathGetter"), function(c) {
        return [String(c)];
      });
    }, o.prototype.flattenItems = function() {
      var t = this;
      this.activeDisplayedItemsFlat = [];
      var e = function(r) {
        r.forEach(function(n) {
          !n.filterPasses || !n.available || (t.activeDisplayedItemsFlat.push(n), n.children && n.expanded && e(n.children));
        });
      };
      e(this.allDisplayedItemsTree);
    }, o.prototype.resetFilter = function() {
      var t = function(e) {
        e.children && e.children.forEach(function(r) {
          t(r);
        }), e.filterPasses = !0;
      };
      this.allDisplayedItemsTree.forEach(function(e) {
        return t(e);
      });
    }, o.prototype.updateFilter = function(t, e) {
      var r = this, n = function(i) {
        return i.available ? i.treeKey == null ? e : t(r.formatter(r.treeListFormatter ? r.treeListFormatter(i.treeKey, i.depth, i.parentTreeKeys) : i.treeKey)) : !1;
      };
      this.allDisplayedItemsTree.forEach(function(i) {
        return r.recursiveItemCheck(i, !1, n, "filterPasses");
      });
    }, o.prototype.getDisplayedValueCount = function() {
      return this.activeDisplayedItemsFlat.length;
    }, o.prototype.getDisplayedItem = function(t) {
      return this.activeDisplayedItemsFlat[t];
    }, o.prototype.getSelectAllItem = function() {
      return this.selectAllItem;
    }, o.prototype.getDisplayedKeys = function() {
      var t = [];
      return this.forEachDisplayedKey(function(e) {
        return t.push(e);
      }), t;
    }, o.prototype.forEachDisplayedKey = function(t) {
      var e = function(r, n) {
        r.children ? (!r.expanded || !n) && r.children.forEach(function(i) {
          i.filterPasses && e(i, !1);
        }) : t(r.key);
      };
      this.activeDisplayedItemsFlat.forEach(function(r) {
        return e(r, !0);
      });
    }, o.prototype.someDisplayedKey = function(t) {
      var e = function(r, n) {
        if (r.children) {
          if (!r.expanded || !n)
            return r.children.some(function(i) {
              return i.filterPasses ? e(i, !1) : !1;
            });
        } else
          return t(r.key);
        return !1;
      };
      return this.activeDisplayedItemsFlat.some(function(r) {
        return e(r, !0);
      });
    }, o.prototype.hasGroups = function() {
      return this.groupsExist;
    }, o.prototype.refresh = function() {
      this.updateExpandAll(), this.flattenItems();
    }, o.prototype.updateExpandAll = function() {
      var t = function(r, n, i) {
        var a, s;
        try {
          for (var l = Hg(r), u = l.next(); !u.done; u = l.next()) {
            var c = u.value;
            if (!(!c.filterPasses || !c.available || !c.children)) {
              if (n = n || !!c.expanded, i = i || !c.expanded, n && i)
                return;
              var d = t(c.children, n, i);
              if (d === void 0)
                return;
              d ? n = !0 : i = !0;
            }
          }
        } catch (p) {
          a = { error: p };
        } finally {
          try {
            u && !u.done && (s = l.return) && s.call(l);
          } finally {
            if (a)
              throw a.error;
          }
        }
        return n && i ? void 0 : n;
      }, e = this.getSelectAllItem();
      e.expanded = t(e.children, !1, !1);
    }, o.prototype.recursiveItemCheck = function(t, e, r, n) {
      var i = this, a = !1;
      t.children && t.children.forEach(function(l) {
        var u = i.recursiveItemCheck(l, e || r(t), r, n);
        a = a || u;
      });
      var s = e || a || r(t);
      return t[n] = s, s;
    }, o.prototype.updateAvailable = function(t) {
      var e = this, r = function(n) {
        return t.has(n.key);
      };
      this.allDisplayedItemsTree.forEach(function(n) {
        return e.recursiveItemCheck(n, !1, r, "available");
      });
    }, o.DATE_TREE_LIST_PATH_GETTER = function(t) {
      return t ? [String(t.getFullYear()), String(t.getMonth() + 1), String(t.getDate())] : null;
    }, o;
  }()
), La = function(o, t) {
  var e = typeof Symbol == "function" && o[Symbol.iterator];
  if (!e)
    return o;
  var r = e.call(o), n, i = [], a;
  try {
    for (; (t === void 0 || t-- > 0) && !(n = r.next()).done; )
      i.push(n.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      n && !n.done && (e = r.return) && e.call(r);
    } finally {
      if (a)
        throw a.error;
    }
  }
  return i;
}, $r;
(function(o) {
  o[o.PROVIDED_LIST = 0] = "PROVIDED_LIST", o[o.PROVIDED_CALLBACK = 1] = "PROVIDED_CALLBACK", o[o.TAKEN_FROM_GRID_VALUES = 2] = "TAKEN_FROM_GRID_VALUES";
})($r || ($r = {}));
var dT = (
  /** @class */
  function() {
    function o(t) {
      var e = this, r;
      this.localEventService = new Di(), this.miniFilterText = null, this.providedValues = null, this.allValues = /* @__PURE__ */ new Map(), this.availableKeys = /* @__PURE__ */ new Set(), this.selectedKeys = /* @__PURE__ */ new Set(), this.initialised = !1;
      var n = t.usingComplexObjects, i = t.columnModel, a = t.valueService, s = t.treeDataTreeList, l = t.groupingTreeList, u = t.filterParams, c = t.gridOptionsService, d = t.valueFormatterService, p = t.valueFormatter, h = u.column, f = u.colDef, v = u.textFormatter, g = u.doesRowPassOtherFilter, y = u.suppressSorting, m = u.comparator, C = u.rowModel, S = u.values, b = u.caseSensitive, _ = u.convertValuesToStrings, O = u.treeList, E = u.treeListPathGetter, D = u.treeListFormatter;
      this.filterParams = u, this.setIsLoading = t.setIsLoading, this.translate = t.translate, this.caseFormat = t.caseFormat, this.createKey = t.createKey, this.usingComplexObjects = !!t.usingComplexObjects, this.formatter = v || Sf.DEFAULT_FORMATTER, this.doesRowPassOtherFilters = g, this.suppressSorting = y || !1, this.convertValuesToStrings = !!_;
      var x = m != null ? m : f.comparator, P = !!s || !!l;
      this.compareByValue = !!(n && x || P || O && !E), P && !x ? this.entryComparator = this.createTreeDataOrGroupingComparator() : O && !E && !x ? this.entryComparator = function(F, I) {
        var N = La(F, 2);
        N[0];
        var k = N[1], L = La(I, 2);
        L[0];
        var B = L[1];
        return T.defaultComparator(k, B);
      } : this.entryComparator = function(F, I) {
        var N = La(F, 2);
        N[0];
        var k = N[1], L = La(I, 2);
        L[0];
        var B = L[1];
        return x(k, B);
      }, this.keyComparator = (r = x) !== null && r !== void 0 ? r : T.defaultComparator, this.caseSensitive = !!b;
      var M = c.get("getDataPath");
      C.getType() === "clientSide" && (this.clientSideValuesExtractor = new e7(C, this.filterParams, this.createKey, this.caseFormat, i, a, P, !!s, M)), S == null ? this.valuesType = $r.TAKEN_FROM_GRID_VALUES : (this.valuesType = Array.isArray(S) ? $r.PROVIDED_LIST : $r.PROVIDED_CALLBACK, this.providedValues = S), this.displayValueModel = O ? new i7(this.formatter, E, D, s || l) : new r7(d, p, this.formatter, h), this.updateAllValues().then(function(F) {
        return e.resetSelectionState(F || []);
      });
    }
    return o.prototype.addEventListener = function(t, e, r) {
      this.localEventService.addEventListener(t, e, r);
    }, o.prototype.removeEventListener = function(t, e, r) {
      this.localEventService.removeEventListener(t, e, r);
    }, o.prototype.refreshValues = function() {
      var t = this.getModel();
      return this.updateAllValues(), this.setModel(t);
    }, o.prototype.overrideValues = function(t) {
      var e = this;
      return new Je(function(r) {
        e.allValuesPromise.then(function() {
          e.valuesType = $r.PROVIDED_LIST, e.providedValues = t, e.refreshValues().then(function() {
            return r();
          });
        });
      });
    }, o.prototype.refreshAfterAnyFilterChanged = function() {
      var t = this;
      return this.showAvailableOnly() ? this.allValuesPromise.then(function(e) {
        return t.updateAvailableKeys(e != null ? e : [], "otherFilter"), !0;
      }) : Je.resolve(!1);
    }, o.prototype.isInitialised = function() {
      return this.initialised;
    }, o.prototype.updateAllValues = function() {
      var t = this;
      return this.allValuesPromise = new Je(function(e) {
        switch (t.valuesType) {
          case $r.TAKEN_FROM_GRID_VALUES:
          case $r.PROVIDED_LIST: {
            e(t.processAllKeys(t.valuesType === $r.TAKEN_FROM_GRID_VALUES, t.providedValues));
            break;
          }
          case $r.PROVIDED_CALLBACK: {
            t.setIsLoading(!0);
            var r = t.providedValues, n = t.filterParams, i = n.columnApi, a = n.api, s = n.context, l = n.column, u = n.colDef, c = {
              success: function(d) {
                t.setIsLoading(!1), e(t.processAllKeys(!1, d));
              },
              colDef: u,
              column: l,
              columnApi: i,
              api: a,
              context: s
            };
            window.setTimeout(function() {
              return r(c);
            }, 0);
            break;
          }
          default:
            throw new Error("Unrecognised valuesType");
        }
      }), this.allValuesPromise.then(function(e) {
        return t.updateAvailableKeys(e || [], "reload");
      }).then(function() {
        return t.initialised = !0;
      }), this.allValuesPromise;
    }, o.prototype.processAllKeys = function(t, e) {
      var r = t ? this.getValuesFromRows(!1) : this.uniqueValues(this.validateProvidedValues(e)), n = this.sortKeys(r);
      return this.allValues = r != null ? r : /* @__PURE__ */ new Map(), n;
    }, o.prototype.validateProvidedValues = function(t) {
      if (this.usingComplexObjects && (t != null && t.length)) {
        var e = t[0];
        if (e && typeof e != "object" && typeof e != "function") {
          var r = this.createKey(e);
          r == null ? T.doOnce(function() {
            return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types");
          }, "setFilterComplexObjectsProvidedNull") : T.doOnce(function() {
            return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?");
          }, "setFilterComplexObjectsProvidedPrimitive");
        }
      }
      return t;
    }, o.prototype.setValuesType = function(t) {
      this.valuesType = t;
    }, o.prototype.getValuesType = function() {
      return this.valuesType;
    }, o.prototype.isKeyAvailable = function(t) {
      return this.availableKeys.has(t);
    }, o.prototype.showAvailableOnly = function() {
      return this.valuesType === $r.TAKEN_FROM_GRID_VALUES;
    }, o.prototype.updateAvailableKeys = function(t, e) {
      var r = this.showAvailableOnly() ? this.sortKeys(this.getValuesFromRows(!0)) : t;
      this.availableKeys = new Set(r), this.localEventService.dispatchEvent({ type: o.EVENT_AVAILABLE_VALUES_CHANGED }), this.updateDisplayedValues(e, t);
    }, o.prototype.sortKeys = function(t) {
      var e = t != null ? t : /* @__PURE__ */ new Map();
      if (this.suppressSorting)
        return Array.from(e.keys());
      var r;
      return this.compareByValue ? r = Array.from(e.entries()).sort(this.entryComparator).map(function(n) {
        var i = La(n, 1), a = i[0];
        return a;
      }) : r = Array.from(e.keys()).sort(this.keyComparator), this.filterParams.excelMode && e.has(null) && (r = r.filter(function(n) {
        return n != null;
      }), r.push(null)), r;
    }, o.prototype.getValuesFromRows = function(t) {
      var e = this;
      if (t === void 0 && (t = !1), !this.clientSideValuesExtractor)
        return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"), null;
      var r = function(n) {
        return !t || e.doesRowPassOtherFilters(n);
      };
      return this.clientSideValuesExtractor.extractUniqueValues(r, t && !this.caseSensitive ? this.allValues : void 0);
    }, o.prototype.setMiniFilter = function(t) {
      return t = T.makeNull(t), this.miniFilterText === t ? !1 : (this.miniFilterText = t, this.updateDisplayedValues("miniFilter"), !0);
    }, o.prototype.getMiniFilter = function() {
      return this.miniFilterText;
    }, o.prototype.updateDisplayedValues = function(t, e) {
      var r = this;
      if (t === "expansion") {
        this.displayValueModel.refresh();
        return;
      }
      if (this.miniFilterText == null) {
        this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s) {
          return r.getValue(s);
        }, e, this.availableKeys, t);
        return;
      }
      var n = this.caseFormat(this.formatter(this.miniFilterText) || ""), i = function(s) {
        return s != null && r.caseFormat(s).indexOf(n) >= 0;
      }, a = !!this.filterParams.excelMode && i(this.translate("blanks"));
      this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s) {
        return r.getValue(s);
      }, e, this.availableKeys, i, a, t);
    }, o.prototype.getDisplayedValueCount = function() {
      return this.displayValueModel.getDisplayedValueCount();
    }, o.prototype.getDisplayedItem = function(t) {
      return this.displayValueModel.getDisplayedItem(t);
    }, o.prototype.getSelectAllItem = function() {
      return this.displayValueModel.getSelectAllItem();
    }, o.prototype.hasSelections = function() {
      return this.filterParams.defaultToNothingSelected ? this.selectedKeys.size > 0 : this.allValues.size !== this.selectedKeys.size;
    }, o.prototype.getKeys = function() {
      return Array.from(this.allValues.keys());
    }, o.prototype.getValues = function() {
      return Array.from(this.allValues.values());
    }, o.prototype.getValue = function(t) {
      return this.allValues.get(t);
    }, o.prototype.selectAllMatchingMiniFilter = function(t) {
      var e = this;
      t === void 0 && (t = !1), this.miniFilterText == null ? this.selectedKeys = new Set(this.allValues.keys()) : (t && this.selectedKeys.clear(), this.displayValueModel.forEachDisplayedKey(function(r) {
        return e.selectedKeys.add(r);
      }));
    }, o.prototype.deselectAllMatchingMiniFilter = function() {
      var t = this;
      this.miniFilterText == null ? this.selectedKeys.clear() : this.displayValueModel.forEachDisplayedKey(function(e) {
        return t.selectedKeys.delete(e);
      });
    }, o.prototype.selectKey = function(t) {
      this.selectedKeys.add(t);
    }, o.prototype.deselectKey = function(t) {
      this.filterParams.excelMode && this.isEverythingVisibleSelected() && this.resetSelectionState(this.displayValueModel.getDisplayedKeys()), this.selectedKeys.delete(t);
    }, o.prototype.isKeySelected = function(t) {
      return this.selectedKeys.has(t);
    }, o.prototype.isEverythingVisibleSelected = function() {
      var t = this;
      return !this.displayValueModel.someDisplayedKey(function(e) {
        return !t.isKeySelected(e);
      });
    }, o.prototype.isNothingVisibleSelected = function() {
      var t = this;
      return !this.displayValueModel.someDisplayedKey(function(e) {
        return t.isKeySelected(e);
      });
    }, o.prototype.getModel = function() {
      return this.hasSelections() ? Array.from(this.selectedKeys) : null;
    }, o.prototype.setModel = function(t) {
      var e = this;
      return this.allValuesPromise.then(function(r) {
        if (t == null)
          e.resetSelectionState(r != null ? r : []);
        else {
          e.selectedKeys.clear();
          var n = /* @__PURE__ */ new Map();
          e.allValues.forEach(function(i, a) {
            n.set(e.caseFormat(a), a);
          }), t.forEach(function(i) {
            var a = e.caseFormat(i), s = n.get(a);
            s !== void 0 && e.selectKey(s);
          });
        }
      });
    }, o.prototype.uniqueValues = function(t) {
      var e = this, r = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Set();
      return (t != null ? t : []).forEach(function(i) {
        var a = T.makeNull(i), s = e.convertAndGetKey(a), l = e.caseFormat(s);
        n.has(l) || (n.add(l), r.set(s, a));
      }), r;
    }, o.prototype.convertAndGetKey = function(t) {
      return this.convertValuesToStrings ? t : this.createKey(t);
    }, o.prototype.resetSelectionState = function(t) {
      this.filterParams.defaultToNothingSelected ? this.selectedKeys.clear() : this.selectedKeys = new Set(t);
    }, o.prototype.hasGroups = function() {
      return this.displayValueModel.hasGroups();
    }, o.prototype.createTreeDataOrGroupingComparator = function() {
      return function(t, e) {
        var r = La(t, 2);
        r[0];
        var n = r[1], i = La(e, 2);
        i[0];
        var a = i[1];
        if (n == null)
          return a == null ? 0 : -1;
        if (a == null)
          return 1;
        for (var s = 0; s < n.length; s++) {
          if (s >= a.length)
            return 1;
          var l = T.defaultComparator(n[s], a[s]);
          if (l !== 0)
            return l;
        }
        return 0;
      };
    }, o.EVENT_AVAILABLE_VALUES_CHANGED = "availableValuesChanged", o;
  }()
), o7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Na = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, jg = (
  /** @class */
  function(o) {
    o7(t, o);
    function t(e) {
      var r, n = o.call(this, e.isGroup ? t.GROUP_TEMPLATE : t.TEMPLATE) || this;
      return n.focusWrapper = e.focusWrapper, n.value = e.value, n.params = e.params, n.translate = e.translate, n.valueFormatter = e.valueFormatter, n.item = e.item, n.isSelected = e.isSelected, n.isTree = e.isTree, n.depth = (r = e.depth) !== null && r !== void 0 ? r : 0, n.isGroup = e.isGroup, n.groupsExist = e.groupsExist, n.isExpanded = e.isExpanded, n.hasIndeterminateExpandState = e.hasIndeterminateExpandState, n;
    }
    return t.prototype.init = function() {
      var e = this;
      this.addDestroyFunc(function() {
        var r;
        return (r = e.destroyCellRendererComponent) === null || r === void 0 ? void 0 : r.call(e);
      }), this.render(), this.eCheckbox.setLabelEllipsis(!0), this.eCheckbox.setValue(this.isSelected, !0), this.eCheckbox.setDisabled(!!this.params.readOnly), this.eCheckbox.getInputElement().setAttribute("tabindex", "-1"), this.refreshVariableAriaLabels(), this.isTree && (this.depth > 0 && this.addCssClass("ag-set-filter-indent-" + this.depth), this.isGroup ? this.setupExpansion() : this.groupsExist && this.addCssClass("ag-set-filter-add-group-indent"), T.setAriaLevel(this.focusWrapper, this.depth + 1)), !this.params.readOnly && this.eCheckbox.onValueChange(function(r) {
        return e.onCheckboxChanged(!!r);
      });
    }, t.prototype.setupExpansion = function() {
      this.eGroupClosedIcon.appendChild(T.createIcon("setFilterGroupClosed", this.gridOptionsService, null)), this.eGroupOpenedIcon.appendChild(T.createIcon("setFilterGroupOpen", this.gridOptionsService, null)), this.addManagedListener(this.eGroupClosedIcon, "click", this.onExpandOrContractClicked.bind(this)), this.addManagedListener(this.eGroupOpenedIcon, "click", this.onExpandOrContractClicked.bind(this)), this.hasIndeterminateExpandState && (this.eGroupIndeterminateIcon.appendChild(T.createIcon("setFilterGroupIndeterminate", this.gridOptionsService, null)), this.addManagedListener(this.eGroupIndeterminateIcon, "click", this.onExpandOrContractClicked.bind(this))), this.setExpandedIcons(), this.refreshAriaExpanded();
    }, t.prototype.onExpandOrContractClicked = function() {
      this.setExpanded(!this.isExpanded);
    }, t.prototype.setExpanded = function(e, r) {
      if (this.isGroup && e !== this.isExpanded) {
        this.isExpanded = e;
        var n = {
          type: t.EVENT_EXPANDED_CHANGED,
          isExpanded: !!e,
          item: this.item
        };
        r || this.dispatchEvent(n), this.setExpandedIcons(), this.refreshAriaExpanded();
      }
    }, t.prototype.refreshAriaExpanded = function() {
      T.setAriaExpanded(this.focusWrapper, !!this.isExpanded);
    }, t.prototype.setExpandedIcons = function() {
      T.setDisplayed(this.eGroupClosedIcon, this.hasIndeterminateExpandState ? this.isExpanded === !1 : !this.isExpanded), T.setDisplayed(this.eGroupOpenedIcon, this.isExpanded === !0), this.hasIndeterminateExpandState && T.setDisplayed(this.eGroupIndeterminateIcon, this.isExpanded === void 0);
    }, t.prototype.onCheckboxChanged = function(e) {
      this.isSelected = e;
      var r = {
        type: t.EVENT_SELECTION_CHANGED,
        isSelected: e,
        item: this.item
      };
      this.dispatchEvent(r), this.refreshVariableAriaLabels();
    }, t.prototype.toggleSelected = function() {
      this.params.readOnly || this.setSelected(!this.isSelected);
    }, t.prototype.setSelected = function(e, r) {
      this.isSelected = e, this.eCheckbox.setValue(this.isSelected, r);
    }, t.prototype.refreshVariableAriaLabels = function() {
      if (this.isTree) {
        var e = this.localeService.getLocaleTextFunc(), r = this.eCheckbox.getValue(), n = r === void 0 ? e("ariaIndeterminate", "indeterminate") : r ? e("ariaVisible", "visible") : e("ariaHidden", "hidden"), i = e("ariaToggleVisibility", "Press SPACE to toggle visibility");
        T.setAriaLabelledBy(this.eCheckbox.getInputElement(), void 0), this.eCheckbox.setInputAriaLabel(i + " (" + n + ")");
      }
    }, t.prototype.setupFixedAriaLabels = function(e) {
      if (this.isTree) {
        var r = this.localeService.getLocaleTextFunc(), n = r("ariaFilterValue", "Filter Value");
        T.setAriaLabel(this.focusWrapper, e + " " + n), T.setAriaDescribedBy(this.focusWrapper, this.eCheckbox.getInputElement().id);
      }
    }, t.prototype.refresh = function(e, r, n) {
      var i, a;
      if (this.item = e, r !== this.isSelected && this.setSelected(r, !0), this.setExpanded(n, !0), this.valueFunction) {
        var s = this.valueFunction();
        this.setTooltipAndCellRendererParams(s, s), this.cellRendererComponent || this.renderCellWithoutCellRenderer();
      }
      if (this.cellRendererComponent) {
        var l = (a = (i = this.cellRendererComponent).refresh) === null || a === void 0 ? void 0 : a.call(i, this.cellRendererParams);
        if (!l) {
          var u = this.cellRendererComponent;
          this.renderCell(), this.destroyBean(u);
        }
      }
    }, t.prototype.render = function() {
      var e = this.params.column, r = this.value, n = null;
      typeof r == "function" ? (this.valueFunction = r, n = this.valueFunction(), r = n) : this.isTree ? n = T.toStringOrNull(r) : n = this.getFormattedValue(e, r), this.setTooltipAndCellRendererParams(r, n), this.renderCell();
    }, t.prototype.setTooltipAndCellRendererParams = function(e, r) {
      if (this.params.showTooltips) {
        var n = r != null ? r : T.toStringOrNull(e);
        this.setTooltip(n);
      }
      this.cellRendererParams = {
        value: e,
        valueFormatted: r,
        api: this.gridOptionsService.api,
        columnApi: this.gridOptionsService.columnApi,
        context: this.gridOptionsService.context,
        colDef: this.params.colDef,
        column: this.params.column
      };
    }, t.prototype.getTooltipParams = function() {
      var e = o.prototype.getTooltipParams.call(this);
      return e.location = "setFilterValue", e.colDef = this.getComponentHolder(), this.isTree && (e.level = this.depth), e;
    }, t.prototype.getFormattedValue = function(e, r) {
      return this.valueFormatterService.formatValue(e, null, r, this.valueFormatter, !1);
    }, t.prototype.renderCell = function() {
      var e = this, r = this.userComponentFactory.getSetFilterCellRendererDetails(this.params, this.cellRendererParams), n = r ? r.newAgStackInstance() : void 0;
      if (n == null) {
        this.renderCellWithoutCellRenderer();
        return;
      }
      n.then(function(i) {
        i && (e.cellRendererComponent = i, e.eCheckbox.setLabel(i.getGui()), e.destroyCellRendererComponent = function() {
          return e.destroyBean(i);
        });
      });
    }, t.prototype.renderCellWithoutCellRenderer = function() {
      var e, r = (e = this.cellRendererParams.valueFormatted == null ? this.cellRendererParams.value : this.cellRendererParams.valueFormatted) !== null && e !== void 0 ? e : this.translate("blanks");
      typeof r != "string" && (T.doOnce(function() {
        return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types");
      }, "setFilterComplexObjectsValueFormatter"), r = ""), this.eCheckbox.setLabel(r), this.setupFixedAriaLabels(r);
    }, t.prototype.getComponentHolder = function() {
      return this.params.column.getColDef();
    }, t.EVENT_SELECTION_CHANGED = "selectionChanged", t.EVENT_EXPANDED_CHANGED = "expandedChanged", t.GROUP_TEMPLATE = `
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`, t.TEMPLATE = `
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`, Na([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), Na([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), Na([
      G("eCheckbox")
    ], t.prototype, "eCheckbox", void 0), Na([
      G("eGroupOpenedIcon")
    ], t.prototype, "eGroupOpenedIcon", void 0), Na([
      G("eGroupClosedIcon")
    ], t.prototype, "eGroupClosedIcon", void 0), Na([
      G("eGroupIndeterminateIcon")
    ], t.prototype, "eGroupIndeterminateIcon", void 0), Na([
      V
    ], t.prototype, "init", null), t;
  }(te)
), a7 = {
  loadingOoo: "Loading...",
  blanks: "(Blanks)",
  searchOoo: "Search...",
  selectAll: "(Select All)",
  selectAllSearchResults: "(Select All Search Results)",
  noMatches: "No matches."
}, pT = (
  /** @class */
  function() {
    function o() {
    }
    return o.prototype.getModelAsString = function(t, e) {
      var r = (t || e.getModel() || {}).values, n = e.getValueModel();
      if (r == null || n == null)
        return "";
      var i = r.filter(function(l) {
        return n.isKeyAvailable(l);
      }), a = i.length, s = i.slice(0, 10).map(function(l) {
        return e.getFormattedValue(l);
      });
      return "(" + a + ") " + s.join(",") + (a > 10 ? ",..." : "");
    }, o;
  }()
), s7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Ga = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, hT = (
  /** @class */
  function(o) {
    s7(t, o);
    function t() {
      var e = o.call(this, "setFilter") || this;
      return e.valueModel = null, e.setFilterParams = null, e.virtualList = null, e.caseSensitive = !1, e.convertValuesToStrings = !1, e.treeDataTreeList = !1, e.groupingTreeList = !1, e.hardRefreshVirtualList = !1, e.noValueFormatterSupplied = !1, e.appliedModelKeys = null, e.noAppliedModelKeys = !1, e.filterModelFormatter = new pT(), e;
    }
    return t.prototype.postConstruct = function() {
      o.prototype.postConstruct.call(this);
    }, t.prototype.updateUiVisibility = function() {
    }, t.prototype.createBodyTemplate = function() {
      return (
        /* html */
        `
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">` + this.translateForSetFilter("loadingOoo") + `</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">` + this.translateForSetFilter("noMatches") + `</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`
      );
    }, t.prototype.handleKeyDown = function(e) {
      if (o.prototype.handleKeyDown.call(this, e), !e.defaultPrevented)
        switch (e.key) {
          case H.SPACE:
            this.handleKeySpace(e);
            break;
          case H.ENTER:
            this.handleKeyEnter(e);
            break;
          case H.LEFT:
            this.handleKeyLeft(e);
            break;
          case H.RIGHT:
            this.handleKeyRight(e);
            break;
        }
    }, t.prototype.handleKeySpace = function(e) {
      var r;
      (r = this.getComponentForKeyEvent(e)) === null || r === void 0 || r.toggleSelected();
    }, t.prototype.handleKeyEnter = function(e) {
      if (this.setFilterParams) {
        var r = this.setFilterParams || {}, n = r.excelMode, i = r.readOnly;
        !n || i || (e.preventDefault(), this.onBtApply(!1, !1, e), this.setFilterParams.excelMode === "mac" && this.eMiniFilter.getInputElement().select());
      }
    }, t.prototype.handleKeyLeft = function(e) {
      var r;
      (r = this.getComponentForKeyEvent(e)) === null || r === void 0 || r.setExpanded(!1);
    }, t.prototype.handleKeyRight = function(e) {
      var r;
      (r = this.getComponentForKeyEvent(e)) === null || r === void 0 || r.setExpanded(!0);
    }, t.prototype.getComponentForKeyEvent = function(e) {
      var r, n = this.gridOptionsService.getDocument();
      if (!(!this.eSetFilterList.contains(n.activeElement) || !this.virtualList)) {
        var i = this.virtualList.getLastFocusedRow();
        if (i != null) {
          var a = this.virtualList.getComponentAt(i);
          if (a != null) {
            e.preventDefault();
            var s = ((r = this.setFilterParams) !== null && r !== void 0 ? r : {}).readOnly;
            if (!s)
              return a;
          }
        }
      }
    }, t.prototype.getCssIdentifier = function() {
      return "set-filter";
    }, t.prototype.setModel = function(e) {
      var r;
      return e == null && ((r = this.valueModel) === null || r === void 0 ? void 0 : r.getModel()) == null ? (this.setMiniFilter(null), Je.resolve()) : o.prototype.setModel.call(this, e);
    }, t.prototype.setModelAndRefresh = function(e) {
      var r = this;
      return this.valueModel ? this.valueModel.setModel(e).then(function() {
        return r.refresh();
      }) : Je.resolve();
    }, t.prototype.resetUiToDefaults = function() {
      return this.setMiniFilter(null), this.setModelAndRefresh(null);
    }, t.prototype.setModelIntoUi = function(e) {
      this.setMiniFilter(null);
      var r = e == null ? null : e.values;
      return this.setModelAndRefresh(r);
    }, t.prototype.getModelFromUi = function() {
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var e = this.valueModel.getModel();
      return e ? { values: e, filterType: this.getFilterType() } : null;
    }, t.prototype.getFilterType = function() {
      return "set";
    }, t.prototype.getValueModel = function() {
      return this.valueModel;
    }, t.prototype.areModelsEqual = function(e, r) {
      return e == null && r == null ? !0 : e != null && r != null && T.areEqual(e.values, r.values);
    }, t.prototype.setParams = function(e) {
      var r = this, n;
      this.applyExcelModeOptions(e), o.prototype.setParams.call(this, e), this.setFilterParams = e, this.convertValuesToStrings = !!e.convertValuesToStrings, this.caseSensitive = !!e.caseSensitive;
      var i = (n = e.keyCreator) !== null && n !== void 0 ? n : e.colDef.keyCreator;
      this.setValueFormatter(e.valueFormatter, i, this.convertValuesToStrings, !!e.treeList, !!e.colDef.refData);
      var a = e.column.getId().startsWith(oo);
      this.treeDataTreeList = this.gridOptionsService.is("treeData") && !!e.treeList && a, this.getDataPath = this.gridOptionsService.get("getDataPath"), this.groupingTreeList = !!this.columnModel.getRowGroupColumns().length && !!e.treeList && a, this.createKey = this.generateCreateKey(i, this.convertValuesToStrings, this.treeDataTreeList || this.groupingTreeList), this.valueModel = new dT({
        filterParams: e,
        setIsLoading: function(s) {
          return r.setIsLoading(s);
        },
        valueFormatterService: this.valueFormatterService,
        translate: function(s) {
          return r.translateForSetFilter(s);
        },
        caseFormat: function(s) {
          return r.caseFormat(s);
        },
        createKey: this.createKey,
        valueFormatter: this.valueFormatter,
        usingComplexObjects: !!i,
        gridOptionsService: this.gridOptionsService,
        columnModel: this.columnModel,
        valueService: this.valueService,
        treeDataTreeList: this.treeDataTreeList,
        groupingTreeList: this.groupingTreeList
      }), this.initialiseFilterBodyUi(), this.addEventListenersForDataChanges();
    }, t.prototype.setValueFormatter = function(e, r, n, i, a) {
      var s = e;
      if (!s) {
        if (r && !n && !i)
          throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");
        this.noValueFormatterSupplied = !0, a || (s = function(l) {
          return T.toStringOrNull(l.value);
        });
      }
      this.valueFormatter = s;
    }, t.prototype.generateCreateKey = function(e, r, n) {
      var i = this;
      if (n && !e)
        throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");
      return e ? function(a, s) {
        s === void 0 && (s = null);
        var l = i.getKeyCreatorParams(a, s);
        return T.makeNull(e(l));
      } : r ? function(a) {
        return Array.isArray(a) ? a : T.makeNull(T.toStringOrNull(a));
      } : function(a) {
        return T.makeNull(T.toStringOrNull(a));
      };
    }, t.prototype.getFormattedValue = function(e) {
      var r, n = this.valueModel.getValue(e);
      this.noValueFormatterSupplied && (this.treeDataTreeList || this.groupingTreeList) && Array.isArray(n) && (n = T.last(n));
      var i = this.valueFormatterService.formatValue(this.setFilterParams.column, null, n, this.valueFormatter, !1);
      return (r = i == null ? T.toStringOrNull(n) : i) !== null && r !== void 0 ? r : this.translateForSetFilter("blanks");
    }, t.prototype.applyExcelModeOptions = function(e) {
      e.excelMode === "windows" ? (e.buttons || (e.buttons = ["apply", "cancel"]), e.closeOnApply == null && (e.closeOnApply = !0)) : e.excelMode === "mac" && (e.buttons || (e.buttons = ["reset"]), e.applyMiniFilterWhileTyping == null && (e.applyMiniFilterWhileTyping = !0), e.debounceMs == null && (e.debounceMs = 500)), e.excelMode && e.defaultToNothingSelected && (e.defaultToNothingSelected = !1, T.doOnce(function() {
        return console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.');
      }, "setFilterExcelModeDefaultToNothingSelect"));
    }, t.prototype.addEventListenersForDataChanges = function() {
      var e = this;
      this.isValuesTakenFromGrid() && this.addManagedListener(this.eventService, R.EVENT_CELL_VALUE_CHANGED, function(r) {
        e.setFilterParams && r.column === e.setFilterParams.column && e.syncAfterDataChange();
      });
    }, t.prototype.syncAfterDataChange = function() {
      var e = this;
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var r = this.valueModel.refreshValues();
      return r.then(function() {
        e.refresh(), e.onBtApply(!1, !0);
      });
    }, t.prototype.setIsLoading = function(e) {
      T.setDisplayed(this.eFilterLoading, e), e || (this.hardRefreshVirtualList = !0);
    }, t.prototype.initialiseFilterBodyUi = function() {
      this.initVirtualList(), this.initMiniFilter();
    }, t.prototype.initVirtualList = function() {
      var e = this;
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var r = this.localeService.getLocaleTextFunc(), n = r("ariaFilterList", "Filter List"), i = !!this.setFilterParams.treeList, a = this.virtualList = this.createBean(new Tf("filter", i ? "tree" : "listbox", n)), s = this.getRefElement("eSetFilterList");
      i && s.classList.add("ag-set-filter-tree-list"), s && s.appendChild(a.getGui());
      var l = this.setFilterParams.cellHeight;
      l != null && a.setRowHeight(l);
      var u = function(p, h) {
        return e.createSetListItem(p, i, h);
      };
      a.setComponentCreator(u);
      var c = function(p, h) {
        return e.updateSetListItem(p, h);
      };
      a.setComponentUpdater(c);
      var d;
      this.setFilterParams.suppressSelectAll ? d = new l7(this.valueModel) : d = new u7(this.valueModel, function() {
        return e.isSelectAllSelected();
      }), i && (d = new c7(d)), a.setModel(d);
    }, t.prototype.getSelectAllLabel = function() {
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var e = this.valueModel.getMiniFilter() == null || !this.setFilterParams.excelMode ? "selectAll" : "selectAllSearchResults";
      return this.translateForSetFilter(e);
    }, t.prototype.createSetListItem = function(e, r, n) {
      var i = this, a, s, l, u, c, d;
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var p = this.valueModel.hasGroups(), h, f, v, g, y, m;
      this.isSetFilterModelTreeItem(e) ? (f = e.depth, e.key === Ya.SELECT_ALL ? (h = function() {
        return i.getSelectAllLabel();
      }, v = p, g = !0, y = function(E) {
        return i.onSelectAll(E.isSelected);
      }, m = function(E) {
        return i.onExpandAll(E.item, E.isExpanded);
      }) : e.children ? (h = (l = (s = (a = this.setFilterParams).treeListFormatter) === null || s === void 0 ? void 0 : s.call(a, e.treeKey, e.depth, e.parentTreeKeys)) !== null && l !== void 0 ? l : e.treeKey, v = !0, y = function(E) {
        return i.onGroupItemSelected(E.item, E.isSelected);
      }, m = function(E) {
        return i.onExpandedChanged(E.item, E.isExpanded);
      }) : (h = (d = (c = (u = this.setFilterParams).treeListFormatter) === null || c === void 0 ? void 0 : c.call(u, e.treeKey, e.depth, e.parentTreeKeys)) !== null && d !== void 0 ? d : e.treeKey, y = function(E) {
        return i.onItemSelected(E.item.key, E.isSelected);
      })) : e === Ya.SELECT_ALL ? (h = function() {
        return i.getSelectAllLabel();
      }, y = function(E) {
        return i.onSelectAll(E.isSelected);
      }) : (h = this.valueModel.getValue(e), y = function(E) {
        return i.onItemSelected(E.item, E.isSelected);
      });
      var C = this.isSelectedExpanded(e), S = C.isSelected, b = C.isExpanded, _ = {
        focusWrapper: n,
        value: h,
        params: this.setFilterParams,
        translate: function(E) {
          return i.translateForSetFilter(E);
        },
        valueFormatter: this.valueFormatter,
        item: e,
        isSelected: S,
        isTree: r,
        depth: f,
        groupsExist: p,
        isGroup: v,
        isExpanded: b,
        hasIndeterminateExpandState: g
      }, O = this.createBean(new jg(_));
      return O.addEventListener(jg.EVENT_SELECTION_CHANGED, y), m && O.addEventListener(jg.EVENT_EXPANDED_CHANGED, m), O;
    }, t.prototype.updateSetListItem = function(e, r) {
      var n = this.isSelectedExpanded(e), i = n.isSelected, a = n.isExpanded;
      r.refresh(e, i, a);
    }, t.prototype.isSelectedExpanded = function(e) {
      var r, n;
      return this.isSetFilterModelTreeItem(e) ? (n = e.expanded, e.key === Ya.SELECT_ALL ? r = this.isSelectAllSelected() : e.children ? r = this.areAllChildrenSelected(e) : r = this.valueModel.isKeySelected(e.key)) : e === Ya.SELECT_ALL ? r = this.isSelectAllSelected() : r = this.valueModel.isKeySelected(e), { isSelected: r, isExpanded: n };
    }, t.prototype.isSetFilterModelTreeItem = function(e) {
      return (e == null ? void 0 : e.treeKey) !== void 0;
    }, t.prototype.initMiniFilter = function() {
      var e = this;
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var r = this, n = r.eMiniFilter, i = r.localeService, a = i.getLocaleTextFunc();
      n.setDisplayed(!this.setFilterParams.suppressMiniFilter), n.setValue(this.valueModel.getMiniFilter()), n.onValueChange(function() {
        return e.onMiniFilterInput();
      }), n.setInputAriaLabel(a("ariaSearchFilterValues", "Search filter values")), this.addManagedListener(n.getInputElement(), "keydown", function(s) {
        return e.onMiniFilterKeyDown(s);
      });
    }, t.prototype.afterGuiAttached = function(e) {
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      o.prototype.afterGuiAttached.call(this, e), this.resetExpansion(), this.refreshVirtualList();
      var r = this.eMiniFilter;
      r.setInputPlaceholder(this.translateForSetFilter("searchOoo")), (!e || !e.suppressFocus) && r.getFocusableElement().focus();
    }, t.prototype.afterGuiDetached = function() {
      var e, r;
      o.prototype.afterGuiDetached.call(this), !((e = this.setFilterParams) === null || e === void 0) && e.excelMode && this.resetMiniFilter();
      var n = this.getModel();
      (!((r = this.setFilterParams) === null || r === void 0) && r.excelMode || !this.areModelsEqual(n, this.getModelFromUi())) && (this.resetUiToActiveModel(n), this.showOrHideResults());
    }, t.prototype.applyModel = function(e) {
      var r = this;
      if (e === void 0 && (e = "api"), !this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      this.setFilterParams.excelMode && e !== "rowDataUpdated" && this.valueModel.isEverythingVisibleSelected() && this.valueModel.selectAllMatchingMiniFilter();
      var n = o.prototype.applyModel.call(this, e), i = this.getModel();
      return i ? (this.appliedModelKeys = /* @__PURE__ */ new Set(), i.values.forEach(function(a) {
        r.appliedModelKeys.add(r.caseFormat(a));
      })) : this.appliedModelKeys = null, this.noAppliedModelKeys = (i == null ? void 0 : i.values.length) === 0, n;
    }, t.prototype.isModelValid = function(e) {
      return this.setFilterParams && this.setFilterParams.excelMode ? e == null || e.values.length > 0 : !0;
    }, t.prototype.doesFilterPass = function(e) {
      var r = this;
      if (!this.setFilterParams || !this.valueModel || !this.appliedModelKeys)
        return !0;
      if (this.noAppliedModelKeys)
        return !1;
      var n = e.node, i = e.data;
      if (this.treeDataTreeList)
        return this.doesFilterPassForTreeData(n, i);
      if (this.groupingTreeList)
        return this.doesFilterPassForGrouping(n, i);
      var a = this.getValueFromNode(n, i);
      return this.convertValuesToStrings ? this.doesFilterPassForConvertValuesToString(n, a) : a != null && Array.isArray(a) ? a.length === 0 ? this.appliedModelKeys.has(null) : a.some(function(s) {
        return r.isInAppliedModel(r.createKey(s, n));
      }) : this.isInAppliedModel(this.createKey(a, n));
    }, t.prototype.doesFilterPassForConvertValuesToString = function(e, r) {
      var n = this, i = this.createKey(r, e);
      return i != null && Array.isArray(i) ? i.length === 0 ? this.appliedModelKeys.has(null) : i.some(function(a) {
        return n.isInAppliedModel(a);
      }) : this.isInAppliedModel(i);
    }, t.prototype.doesFilterPassForTreeData = function(e, r) {
      var n;
      return !((n = e.childrenAfterGroup) === null || n === void 0) && n.length ? !1 : this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(r))));
    }, t.prototype.doesFilterPassForGrouping = function(e, r) {
      var n = this, i = this.columnModel.getRowGroupColumns().map(function(a) {
        return n.valueService.getKeyForNode(a, e);
      });
      return i.push(this.getValueFromNode(e, r)), this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(i)));
    }, t.prototype.checkMakeNullDataPath = function(e) {
      return e && (e = e.map(function(r) {
        return T.toStringOrNull(T.makeNull(r));
      })), e != null && e.some(function(r) {
        return r == null;
      }) ? null : e;
    }, t.prototype.isInAppliedModel = function(e) {
      return this.appliedModelKeys.has(this.caseFormat(e));
    }, t.prototype.getValueFromNode = function(e, r) {
      var n = this.setFilterParams, i = n.valueGetter, a = n.api, s = n.colDef, l = n.column, u = n.columnApi, c = n.context;
      return i({
        api: a,
        colDef: s,
        column: l,
        columnApi: u,
        context: c,
        data: r,
        getValue: function(d) {
          return r[d];
        },
        node: e
      });
    }, t.prototype.getKeyCreatorParams = function(e, r) {
      return r === void 0 && (r = null), {
        value: e,
        colDef: this.setFilterParams.colDef,
        column: this.setFilterParams.column,
        node: r,
        data: r == null ? void 0 : r.data,
        api: this.setFilterParams.api,
        columnApi: this.setFilterParams.columnApi,
        context: this.setFilterParams.context
      };
    }, t.prototype.onNewRowsLoaded = function() {
      this.isValuesTakenFromGrid() && this.syncAfterDataChange();
    }, t.prototype.isValuesTakenFromGrid = function() {
      if (!this.valueModel)
        return !1;
      var e = this.valueModel.getValuesType();
      return e === $r.TAKEN_FROM_GRID_VALUES;
    }, t.prototype.setFilterValues = function(e) {
      var r = this;
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      this.valueModel.overrideValues(e).then(function() {
        r.refresh(), r.onUiChanged();
      });
    }, t.prototype.resetFilterValues = function() {
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      this.valueModel.setValuesType($r.TAKEN_FROM_GRID_VALUES), this.syncAfterDataChange();
    }, t.prototype.refreshFilterValues = function() {
      var e = this;
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      this.valueModel.isInitialised() && this.valueModel.refreshValues().then(function() {
        e.refresh(), e.onUiChanged();
      });
    }, t.prototype.onAnyFilterChanged = function() {
      var e = this;
      setTimeout(function() {
        if (e.isAlive()) {
          if (!e.valueModel)
            throw new Error("Value model has not been created.");
          e.valueModel.refreshAfterAnyFilterChanged().then(function(r) {
            r && (e.refresh(), e.showOrHideResults());
          });
        }
      }, 0);
    }, t.prototype.onMiniFilterInput = function() {
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      if (this.valueModel.setMiniFilter(this.eMiniFilter.getValue())) {
        var e = this.setFilterParams || {}, r = e.applyMiniFilterWhileTyping, n = e.readOnly;
        !n && r ? this.filterOnAllVisibleValues(!1) : this.updateUiAfterMiniFilterChange();
      }
    }, t.prototype.updateUiAfterMiniFilterChange = function() {
      if (!this.setFilterParams)
        throw new Error("Set filter params have not been provided.");
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var e = this.setFilterParams || {}, r = e.excelMode, n = e.readOnly;
      r == null || n ? this.refresh() : this.valueModel.getMiniFilter() == null ? this.resetUiToActiveModel(this.getModel()) : (this.valueModel.selectAllMatchingMiniFilter(!0), this.refresh(), this.onUiChanged()), this.showOrHideResults();
    }, t.prototype.showOrHideResults = function() {
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      var e = this.valueModel.getMiniFilter() != null && this.valueModel.getDisplayedValueCount() < 1;
      T.setDisplayed(this.eNoMatches, e), T.setDisplayed(this.eSetFilterList, !e);
    }, t.prototype.resetMiniFilter = function() {
      var e;
      this.eMiniFilter.setValue(null, !0), (e = this.valueModel) === null || e === void 0 || e.setMiniFilter(null);
    }, t.prototype.resetUiToActiveModel = function(e, r) {
      var n = this;
      this.setModelAndRefresh(e == null ? null : e.values).then(function() {
        n.onUiChanged(!1, "prevent"), r == null || r();
      });
    }, t.prototype.handleCancelEnd = function(e) {
      this.setMiniFilter(null), o.prototype.handleCancelEnd.call(this, e);
    }, t.prototype.onMiniFilterKeyDown = function(e) {
      var r = this.setFilterParams || {}, n = r.excelMode, i = r.readOnly;
      e.key === H.ENTER && !n && !i && this.filterOnAllVisibleValues();
    }, t.prototype.filterOnAllVisibleValues = function(e) {
      e === void 0 && (e = !0);
      var r = (this.setFilterParams || {}).readOnly;
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      if (r)
        throw new Error("Unable to filter in readOnly mode.");
      this.valueModel.selectAllMatchingMiniFilter(!0), this.refresh(), this.onUiChanged(!1, e ? "immediately" : "debounce"), this.showOrHideResults();
    }, t.prototype.focusRowIfAlive = function(e) {
      var r = this;
      e != null && window.setTimeout(function() {
        if (!r.virtualList)
          throw new Error("Virtual list has not been created.");
        r.isAlive() && r.virtualList.focusRow(e);
      }, 0);
    }, t.prototype.onSelectAll = function(e) {
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      if (!this.virtualList)
        throw new Error("Virtual list has not been created.");
      e ? this.valueModel.selectAllMatchingMiniFilter() : this.valueModel.deselectAllMatchingMiniFilter(), this.refreshAfterSelection();
    }, t.prototype.onGroupItemSelected = function(e, r) {
      var n = this, i = function(a) {
        a.children ? a.children.forEach(function(s) {
          return i(s);
        }) : n.selectItem(a.key, r);
      };
      i(e), this.refreshAfterSelection();
    }, t.prototype.onItemSelected = function(e, r) {
      if (!this.valueModel)
        throw new Error("Value model has not been created.");
      if (!this.virtualList)
        throw new Error("Virtual list has not been created.");
      this.selectItem(e, r), this.refreshAfterSelection();
    }, t.prototype.selectItem = function(e, r) {
      r ? this.valueModel.selectKey(e) : this.valueModel.deselectKey(e);
    }, t.prototype.onExpandAll = function(e, r) {
      var n = function(i) {
        i.filterPasses && i.available && i.children && (i.children.forEach(function(a) {
          return n(a);
        }), i.expanded = r);
      };
      n(e), this.refreshAfterExpansion();
    }, t.prototype.onExpandedChanged = function(e, r) {
      e.expanded = r, this.refreshAfterExpansion();
    }, t.prototype.refreshAfterExpansion = function() {
      var e = this.virtualList.getLastFocusedRow();
      this.valueModel.updateDisplayedValues("expansion"), this.refresh(), this.focusRowIfAlive(e);
    }, t.prototype.refreshAfterSelection = function() {
      var e = this.virtualList.getLastFocusedRow();
      this.refresh(), this.onUiChanged(), this.focusRowIfAlive(e);
    }, t.prototype.setMiniFilter = function(e) {
      this.eMiniFilter.setValue(e), this.onMiniFilterInput();
    }, t.prototype.getMiniFilter = function() {
      return this.valueModel ? this.valueModel.getMiniFilter() : null;
    }, t.prototype.refresh = function() {
      if (!this.virtualList)
        throw new Error("Virtual list has not been created.");
      this.virtualList.refresh(!this.hardRefreshVirtualList), this.hardRefreshVirtualList && (this.hardRefreshVirtualList = !1);
    }, t.prototype.getFilterKeys = function() {
      return this.valueModel ? this.valueModel.getKeys() : [];
    }, t.prototype.getFilterValues = function() {
      return this.valueModel ? this.valueModel.getValues() : [];
    }, t.prototype.getValues = function() {
      return this.getFilterKeys();
    }, t.prototype.refreshVirtualList = function() {
      this.setFilterParams && this.setFilterParams.refreshValuesOnOpen ? this.refreshFilterValues() : this.refresh();
    }, t.prototype.translateForSetFilter = function(e) {
      var r = this.localeService.getLocaleTextFunc();
      return r(e, a7[e]);
    }, t.prototype.isSelectAllSelected = function() {
      if (!this.setFilterParams || !this.valueModel)
        return !1;
      if (this.setFilterParams.defaultToNothingSelected) {
        if (this.valueModel.hasSelections() && this.valueModel.isEverythingVisibleSelected())
          return !0;
        if (this.valueModel.isNothingVisibleSelected())
          return !1;
      } else {
        if (this.valueModel.hasSelections() && this.valueModel.isNothingVisibleSelected())
          return !1;
        if (this.valueModel.isEverythingVisibleSelected())
          return !0;
      }
    }, t.prototype.areAllChildrenSelected = function(e) {
      var r = this, n = function(i) {
        if (i.children) {
          var a = !1, s = !1, l = i.children.some(function(u) {
            if (!u.filterPasses || !u.available)
              return !1;
            var c = n(u);
            return c === void 0 ? !0 : (c ? a = !0 : s = !0, a && s);
          });
          return l ? void 0 : a;
        } else
          return r.valueModel.isKeySelected(i.key);
      };
      return this.setFilterParams.defaultToNothingSelected ? this.valueModel.hasSelections() && n(e) : n(e);
    }, t.prototype.destroy = function() {
      this.virtualList != null && (this.virtualList.destroy(), this.virtualList = null), o.prototype.destroy.call(this);
    }, t.prototype.caseFormat = function(e) {
      return e == null || typeof e != "string" || this.caseSensitive ? e : e.toUpperCase();
    }, t.prototype.resetExpansion = function() {
      var e, r;
      if (!((e = this.setFilterParams) === null || e === void 0) && e.treeList) {
        var n = (r = this.valueModel) === null || r === void 0 ? void 0 : r.getSelectAllItem();
        if (this.isSetFilterModelTreeItem(n)) {
          var i = function(a) {
            a.children && (a.children.forEach(function(s) {
              return i(s);
            }), a.expanded = !1);
          };
          i(n), this.valueModel.updateDisplayedValues("expansion");
        }
      }
    }, t.prototype.getModelAsString = function(e) {
      return this.filterModelFormatter.getModelAsString(e, this);
    }, t.prototype.getPositionableElement = function() {
      return this.eSetFilterList;
    }, Ga([
      G("eMiniFilter")
    ], t.prototype, "eMiniFilter", void 0), Ga([
      G("eFilterLoading")
    ], t.prototype, "eFilterLoading", void 0), Ga([
      G("eSetFilterList")
    ], t.prototype, "eSetFilterList", void 0), Ga([
      G("eFilterNoMatches")
    ], t.prototype, "eNoMatches", void 0), Ga([
      w("valueFormatterService")
    ], t.prototype, "valueFormatterService", void 0), Ga([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), Ga([
      w("valueService")
    ], t.prototype, "valueService", void 0), t;
  }(Ul)
), l7 = (
  /** @class */
  function() {
    function o(t) {
      this.model = t;
    }
    return o.prototype.getRowCount = function() {
      return this.model.getDisplayedValueCount();
    }, o.prototype.getRow = function(t) {
      return this.model.getDisplayedItem(t);
    }, o.prototype.isRowSelected = function(t) {
      return this.model.isKeySelected(this.getRow(t));
    }, o.prototype.areRowsEqual = function(t, e) {
      return t === e;
    }, o;
  }()
), u7 = (
  /** @class */
  function() {
    function o(t, e) {
      this.model = t, this.isSelectAllSelected = e;
    }
    return o.prototype.getRowCount = function() {
      return this.model.getDisplayedValueCount() + 1;
    }, o.prototype.getRow = function(t) {
      return t === 0 ? this.model.getSelectAllItem() : this.model.getDisplayedItem(t - 1);
    }, o.prototype.isRowSelected = function(t) {
      return t === 0 ? this.isSelectAllSelected() : this.model.isKeySelected(this.getRow(t));
    }, o.prototype.areRowsEqual = function(t, e) {
      return t === e;
    }, o;
  }()
), c7 = (
  /** @class */
  function() {
    function o(t) {
      this.model = t;
    }
    return o.prototype.getRowCount = function() {
      return this.model.getRowCount();
    }, o.prototype.getRow = function(t) {
      return this.model.getRow(t);
    }, o.prototype.areRowsEqual = function(t, e) {
      return t == null && e == null ? !0 : t != null && e != null && t.treeKey === e.treeKey && t.depth === e.depth;
    }, o;
  }()
), d7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), x0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, p7 = (
  /** @class */
  function(o) {
    d7(t, o);
    function t() {
      var e = o.call(
        this,
        /* html */
        `
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`
      ) || this;
      return e.availableValuesListenerAdded = !1, e.filterModelFormatter = new pT(), e;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.init = function(e) {
      var r = this.columnModel.getDisplayNameForColumn(e.column, "header", !0), n = this.localeService.getLocaleTextFunc();
      this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r + " " + n("ariaFilterInput", "Filter Input")).addGuiEventListener("click", function() {
        return e.showParentFilter();
      }), this.params = e;
    }, t.prototype.onParentModelChanged = function(e) {
      this.updateFloatingFilterText(e);
    }, t.prototype.parentSetFilterInstance = function(e) {
      this.params.parentFilterInstance(function(r) {
        if (!(r instanceof hT))
          throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");
        e(r);
      });
    }, t.prototype.addAvailableValuesListener = function() {
      var e = this;
      this.parentSetFilterInstance(function(r) {
        var n = r.getValueModel();
        n && e.addManagedListener(n, dT.EVENT_AVAILABLE_VALUES_CHANGED, function() {
          return e.updateFloatingFilterText();
        });
      }), this.availableValuesListenerAdded = !0;
    }, t.prototype.updateFloatingFilterText = function(e) {
      var r = this;
      this.availableValuesListenerAdded || this.addAvailableValuesListener(), this.parentSetFilterInstance(function(n) {
        r.eFloatingFilterText.setValue(r.filterModelFormatter.getModelAsString(e, n));
      });
    }, x0([
      G("eFloatingFilterText")
    ], t.prototype, "eFloatingFilterText", void 0), x0([
      w("columnModel")
    ], t.prototype, "columnModel", void 0), t;
  }(te)
), h7 = "30.0.6", f7 = {
  version: h7,
  moduleName: Z.SetFilterModule,
  beans: [],
  userComponents: [
    { componentName: "agSetColumnFilter", componentClass: hT },
    { componentName: "agSetColumnFloatingFilter", componentClass: p7 }
  ],
  dependantModules: [
    cr
  ]
}, v7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), g7 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, y7 = (
  /** @class */
  function(o) {
    v7(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.allComponents = {}, e;
    }
    return t.prototype.registerStatusPanel = function(e, r) {
      this.allComponents[e] = r;
    }, t.prototype.getStatusPanel = function(e) {
      return this.allComponents[e];
    }, t = g7([
      q("statusBarService")
    ], t), t;
  }(W)
), m7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), hl = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, C7 = (
  /** @class */
  function(o) {
    m7(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.postConstruct = function() {
      var e, r = (e = this.gridOptionsService.get("statusBar")) === null || e === void 0 ? void 0 : e.statusPanels;
      if (r) {
        var n = r.filter(function(s) {
          return s.align === "left";
        });
        this.createAndRenderComponents(n, this.eStatusBarLeft);
        var i = r.filter(function(s) {
          return s.align === "center";
        });
        this.createAndRenderComponents(i, this.eStatusBarCenter);
        var a = r.filter(function(s) {
          return !s.align || s.align === "right";
        });
        this.createAndRenderComponents(a, this.eStatusBarRight);
      } else
        this.setDisplayed(!1);
    }, t.prototype.createAndRenderComponents = function(e, r) {
      var n = this, i = [];
      e.forEach(function(a) {
        var s = {}, l = n.userComponentFactory.getStatusPanelCompDetails(a, s), u = l.newAgStackInstance();
        u && i.push({
          // default to the component name if no key supplied
          key: a.key || a.statusPanel,
          promise: u
        });
      }), Je.all(i.map(function(a) {
        return a.promise;
      })).then(function() {
        i.forEach(function(a) {
          a.promise.then(function(s) {
            var l = function() {
              n.getContext().destroyBean(s);
            };
            n.isAlive() ? (n.statusBarService.registerStatusPanel(a.key, s), r.appendChild(s.getGui()), n.addDestroyFunc(l)) : l();
          });
        });
      });
    }, t.TEMPLATE = `<div class="ag-status-bar">
            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>
            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>
            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>
        </div>`, hl([
      w("userComponentFactory")
    ], t.prototype, "userComponentFactory", void 0), hl([
      w("statusBarService")
    ], t.prototype, "statusBarService", void 0), hl([
      G("eStatusBarLeft")
    ], t.prototype, "eStatusBarLeft", void 0), hl([
      G("eStatusBarCenter")
    ], t.prototype, "eStatusBarCenter", void 0), hl([
      G("eStatusBarRight")
    ], t.prototype, "eStatusBarRight", void 0), hl([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), S7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), T0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, yd = (
  /** @class */
  function(o) {
    S7(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.setLabel = function(e, r) {
      this.setDisplayed(!1);
      var n = this.localeService.getLocaleTextFunc();
      this.eLabel.innerHTML = n(e, r);
    }, t.prototype.setValue = function(e) {
      this.eValue.innerHTML = e;
    }, t.TEMPLATE = `<div class="ag-status-name-value">
            <span ref="eLabel"></span>:&nbsp;
            <span ref="eValue" class="ag-status-name-value-value"></span>
        </div>`, T0([
      G("eLabel")
    ], t.prototype, "eLabel", void 0), T0([
      G("eValue")
    ], t.prototype, "eValue", void 0), t;
  }(te)
), w7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), R0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, _7 = (
  /** @class */
  function(o) {
    w7(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      if (this.gridApi.getModel().getType() !== "clientSide") {
        console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.");
        return;
      }
      this.setLabel("totalAndFilteredRows", "Rows"), this.addCssClass("ag-status-panel"), this.addCssClass("ag-status-panel-total-and-filtered-row-count"), this.setDisplayed(!0), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.onDataChanged.bind(this)), this.onDataChanged();
    }, t.prototype.onDataChanged = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("thousandSeparator", ","), n = e("decimalSeparator", "."), i = T.formatNumberCommas(this.getFilteredRowCountValue(), r, n), a = T.formatNumberCommas(this.getTotalRowCount(), r, n);
      if (i === a)
        this.setValue(i);
      else {
        var s = this.localeService.getLocaleTextFunc();
        this.setValue(i + " " + s("of", "of") + " " + a);
      }
    }, t.prototype.getFilteredRowCountValue = function() {
      var e = 0;
      return this.gridApi.forEachNodeAfterFilter(function(r) {
        r.group || e++;
      }), e;
    }, t.prototype.getTotalRowCount = function() {
      var e = 0;
      return this.gridApi.forEachNode(function(r) {
        r.group || e++;
      }), e;
    }, t.prototype.init = function() {
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, R0([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), R0([
      V
    ], t.prototype, "postConstruct", null), t;
  }(yd)
), b7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), D0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, E7 = (
  /** @class */
  function(o) {
    b7(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      if (this.setLabel("filteredRows", "Filtered"), this.gridApi.getModel().getType() !== "clientSide") {
        console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.");
        return;
      }
      this.addCssClass("ag-status-panel"), this.addCssClass("ag-status-panel-filtered-row-count"), this.setDisplayed(!0);
      var e = this.onDataChanged.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, e), e();
    }, t.prototype.onDataChanged = function() {
      var e = this.getTotalRowCountValue(), r = this.getFilteredRowCountValue(), n = this.localeService.getLocaleTextFunc(), i = n("thousandSeparator", ","), a = n("decimalSeparator", ".");
      this.setValue(T.formatNumberCommas(r, i, a)), this.setDisplayed(e !== r);
    }, t.prototype.getTotalRowCountValue = function() {
      var e = 0;
      return this.gridApi.forEachNode(function(r) {
        return e += 1;
      }), e;
    }, t.prototype.getFilteredRowCountValue = function() {
      var e = 0;
      return this.gridApi.forEachNodeAfterFilter(function(r) {
        r.group || (e += 1);
      }), e;
    }, t.prototype.init = function() {
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, D0([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), D0([
      V
    ], t.prototype, "postConstruct", null), t;
  }(yd)
), O7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), P0 = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, x7 = (
  /** @class */
  function(o) {
    O7(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      if (this.setLabel("totalRows", "Total Rows"), this.gridApi.getModel().getType() !== "clientSide") {
        console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.");
        return;
      }
      this.addCssClass("ag-status-panel"), this.addCssClass("ag-status-panel-total-row-count"), this.setDisplayed(!0), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.onDataChanged.bind(this)), this.onDataChanged();
    }, t.prototype.onDataChanged = function() {
      var e = this.localeService.getLocaleTextFunc(), r = e("thousandSeparator", ","), n = e("decimalSeparator", ".");
      this.setValue(T.formatNumberCommas(this.getRowCountValue(), r, n));
    }, t.prototype.getRowCountValue = function() {
      var e = 0;
      return this.gridApi.forEachLeafNode(function(r) {
        return e += 1;
      }), e;
    }, t.prototype.init = function() {
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, P0([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), P0([
      V
    ], t.prototype, "postConstruct", null), t;
  }(yd)
), T7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), Wg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, R7 = (
  /** @class */
  function(o) {
    T7(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      if (!this.isValidRowModel()) {
        console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.");
        return;
      }
      this.setLabel("selectedRows", "Selected"), this.addCssClass("ag-status-panel"), this.addCssClass("ag-status-panel-selected-row-count"), this.onRowSelectionChanged();
      var e = this.onRowSelectionChanged.bind(this);
      this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, e), this.addManagedListener(this.eventService, R.EVENT_SELECTION_CHANGED, e);
    }, t.prototype.isValidRowModel = function() {
      var e = this.gridApi.getModel().getType();
      return e === "clientSide" || e === "serverSide";
    }, t.prototype.onRowSelectionChanged = function() {
      var e = this.selectionService.getSelectionCount();
      if (e < 0) {
        this.setValue("?"), this.setDisplayed(!0);
        return;
      }
      var r = this.localeService.getLocaleTextFunc(), n = r("thousandSeparator", ","), i = r("decimalSeparator", ".");
      this.setValue(T.formatNumberCommas(e, n, i)), this.setDisplayed(e > 0);
    }, t.prototype.init = function() {
    }, t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, Wg([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), Wg([
      w("selectionService")
    ], t.prototype, "selectionService", void 0), Wg([
      V
    ], t.prototype, "postConstruct", null), t;
  }(yd)
), D7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), jr = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, P7 = (
  /** @class */
  function(o) {
    D7(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.destroy = function() {
      o.prototype.destroy.call(this);
    }, t.prototype.postConstruct = function() {
      if (!this.isValidRowModel()) {
        console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.");
        return;
      }
      this.avgAggregationComp.setLabel("avg", "Average"), this.countAggregationComp.setLabel("count", "Count"), this.minAggregationComp.setLabel("min", "Min"), this.maxAggregationComp.setLabel("max", "Max"), this.sumAggregationComp.setLabel("sum", "Sum"), this.addManagedListener(this.eventService, R.EVENT_RANGE_SELECTION_CHANGED, this.onRangeSelectionChanged.bind(this)), this.addManagedListener(this.eventService, R.EVENT_MODEL_UPDATED, this.onRangeSelectionChanged.bind(this));
    }, t.prototype.isValidRowModel = function() {
      var e = this.gridApi.getModel().getType();
      return e === "clientSide" || e === "serverSide";
    }, t.prototype.init = function() {
    }, t.prototype.setAggregationComponentValue = function(e, r, n) {
      var i = this.getAggregationValueComponent(e);
      if (T.exists(i) && i) {
        var a = this.localeService.getLocaleTextFunc(), s = a("thousandSeparator", ","), l = a("decimalSeparator", ".");
        i.setValue(T.formatNumberTwoDecimalPlacesAndCommas(r, s, l)), i.setDisplayed(n);
      }
    }, t.prototype.getAggregationValueComponent = function(e) {
      var r = e + "AggregationComp", n = null, i = this.gridOptionsService.get("statusBar"), a = T.exists(i) && i ? i.statusPanels.find(function(s) {
        return s.statusPanel === "agAggregationComponent";
      }) : null;
      return T.exists(a) && a ? (!T.exists(a.statusPanelParams) || T.exists(a.statusPanelParams) && T.exists(a.statusPanelParams.aggFuncs) && T.exists(a.statusPanelParams.aggFuncs.find(function(s) {
        return s === e;
      }))) && (n = this[r]) : n = this[r], n;
    }, t.prototype.onRangeSelectionChanged = function() {
      var e = this, r = this.rangeService ? this.rangeService.getCellRanges() : void 0, n = 0, i = 0, a = 0, s = null, l = null, u = {};
      r && !T.missingOrEmpty(r) && r.forEach(function(p) {
        for (var h = e.rangeService.getRangeStartRow(p), f = e.rangeService.getRangeEndRow(p); ; ) {
          var v = T.missing(h) || !h || e.rowPositionUtils.before(f, h);
          if (v || !h || !p.columns)
            break;
          p.columns.forEach(function(g) {
            if (h !== null) {
              var y = e.cellPositionUtils.createId({
                rowPinned: h.rowPinned,
                column: g,
                rowIndex: h.rowIndex
              });
              if (!u[y]) {
                u[y] = !0;
                var m = e.rowRenderer.getRowNode(h);
                if (!T.missing(m)) {
                  var C = e.valueService.getValue(g, m);
                  T.missing(C) || C === "" || (i++, !(typeof C == "object" && "value" in C && (C = C.value, C === "")) && (typeof C == "string" && (C = Number(C)), typeof C == "number" && !isNaN(C) && (n += C, (l === null || C > l) && (l = C), (s === null || C < s) && (s = C), a++)));
                }
              }
            }
          }), h = e.cellNavigationService.getRowBelow(h);
        }
      });
      var c = i > 1, d = a > 1;
      this.setAggregationComponentValue("count", i, c), this.setAggregationComponentValue("sum", n, d), this.setAggregationComponentValue("min", s, d), this.setAggregationComponentValue("max", l, d), this.setAggregationComponentValue("avg", n / a, d);
    }, t.TEMPLATE = `<div class="ag-status-panel ag-status-panel-aggregations">
            <ag-name-value ref="avgAggregationComp"></ag-name-value>
            <ag-name-value ref="countAggregationComp"></ag-name-value>
            <ag-name-value ref="minAggregationComp"></ag-name-value>
            <ag-name-value ref="maxAggregationComp"></ag-name-value>
            <ag-name-value ref="sumAggregationComp"></ag-name-value>
        </div>`, jr([
      Fe("rangeService")
    ], t.prototype, "rangeService", void 0), jr([
      w("valueService")
    ], t.prototype, "valueService", void 0), jr([
      w("cellNavigationService")
    ], t.prototype, "cellNavigationService", void 0), jr([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), jr([
      w("gridApi")
    ], t.prototype, "gridApi", void 0), jr([
      w("cellPositionUtils")
    ], t.prototype, "cellPositionUtils", void 0), jr([
      w("rowPositionUtils")
    ], t.prototype, "rowPositionUtils", void 0), jr([
      G("sumAggregationComp")
    ], t.prototype, "sumAggregationComp", void 0), jr([
      G("countAggregationComp")
    ], t.prototype, "countAggregationComp", void 0), jr([
      G("minAggregationComp")
    ], t.prototype, "minAggregationComp", void 0), jr([
      G("maxAggregationComp")
    ], t.prototype, "maxAggregationComp", void 0), jr([
      G("avgAggregationComp")
    ], t.prototype, "avgAggregationComp", void 0), jr([
      V
    ], t.prototype, "postConstruct", null), t;
  }(te)
), A7 = "30.0.6", M7 = {
  version: A7,
  moduleName: Z.StatusBarModule,
  beans: [y7],
  agStackComponents: [
    { componentName: "AgStatusBar", componentClass: C7 },
    { componentName: "AgNameValue", componentClass: yd }
  ],
  userComponents: [
    { componentName: "agAggregationComponent", componentClass: P7 },
    { componentName: "agSelectedRowCountComponent", componentClass: R7 },
    { componentName: "agTotalRowCountComponent", componentClass: x7 },
    { componentName: "agFilteredRowCountComponent", componentClass: E7 },
    { componentName: "agTotalAndFilteredRowCountComponent", componentClass: _7 }
  ],
  dependantModules: [
    cr
  ]
}, I7 = "30.0.6", F7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fl = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, L7 = 5, N7 = 5, G7 = (
  /** @class */
  function(o) {
    F7(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.firstRow = -1, e.lastRow = -1, e.rowCount = -1, e.rowNodesByIndex = {}, e;
    }
    return t.prototype.ensureRowHeightsValid = function(e, r, n, i) {
      return !1;
    }, t.prototype.init = function() {
      this.rowHeight = this.gridOptionsService.getRowHeightAsNumber(), this.addManagedListener(this.eventService, R.EVENT_VIEWPORT_CHANGED, this.onViewportChanged.bind(this));
    }, t.prototype.start = function() {
      this.gridOptionsService.get("viewportDatasource") && this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"));
    }, t.prototype.isLastRowIndexKnown = function() {
      return !0;
    }, t.prototype.destroyDatasource = function() {
      this.viewportDatasource && (this.viewportDatasource.destroy && this.viewportDatasource.destroy(), this.rowRenderer.datasourceChanged(), this.firstRow = -1, this.lastRow = -1);
    }, t.prototype.getViewportRowModelPageSize = function() {
      return T.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"), L7);
    }, t.prototype.getViewportRowModelBufferSize = function() {
      return T.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"), N7);
    }, t.prototype.calculateFirstRow = function(e) {
      var r = this.getViewportRowModelBufferSize(), n = this.getViewportRowModelPageSize(), i = e - r;
      return i < 0 ? 0 : Math.floor(i / n) * n;
    }, t.prototype.calculateLastRow = function(e) {
      if (e === -1)
        return e;
      var r = this.getViewportRowModelBufferSize(), n = this.getViewportRowModelPageSize(), i = e + r, a = Math.ceil(i / n) * n, s = this.rowCount - 1;
      return Math.min(a, s);
    }, t.prototype.onViewportChanged = function(e) {
      var r = this.calculateFirstRow(e.firstRow), n = this.calculateLastRow(e.lastRow);
      (this.firstRow !== r || this.lastRow !== n) && (this.firstRow = r, this.lastRow = n, this.purgeRowsNotInViewport(), this.viewportDatasource && this.viewportDatasource.setViewportRange(this.firstRow, this.lastRow));
    }, t.prototype.purgeRowsNotInViewport = function() {
      var e = this;
      Object.keys(this.rowNodesByIndex).forEach(function(r) {
        var n = parseInt(r, 10);
        if (n < e.firstRow || n > e.lastRow) {
          if (e.isRowFocused(n))
            return;
          delete e.rowNodesByIndex[n];
        }
      });
    }, t.prototype.isRowFocused = function(e) {
      var r = this.focusService.getFocusCellToUseAfterRefresh();
      if (!r || r.rowPinned != null)
        return !1;
      var n = r.rowIndex === e;
      return n;
    }, t.prototype.setViewportDatasource = function(e) {
      this.destroyDatasource(), this.viewportDatasource = e, this.rowCount = -1, e.init ? e.init({
        setRowCount: this.setRowCount.bind(this),
        setRowData: this.setRowData.bind(this),
        getRow: this.getRow.bind(this)
      }) : console.warn("AG Grid: viewport is missing init method.");
    }, t.prototype.getType = function() {
      return "viewport";
    }, t.prototype.getRow = function(e) {
      return this.rowNodesByIndex[e] || (this.rowNodesByIndex[e] = this.createBlankRowNode(e)), this.rowNodesByIndex[e];
    }, t.prototype.getRowNode = function(e) {
      var r;
      return this.forEachNode(function(n) {
        n.id === e && (r = n);
      }), r;
    }, t.prototype.getRowCount = function() {
      return this.rowCount === -1 ? 0 : this.rowCount;
    }, t.prototype.getRowIndexAtPixel = function(e) {
      return this.rowHeight !== 0 ? Math.floor(e / this.rowHeight) : 0;
    }, t.prototype.getRowBounds = function(e) {
      return {
        rowHeight: this.rowHeight,
        rowTop: this.rowHeight * e
      };
    }, t.prototype.getTopLevelRowCount = function() {
      return this.getRowCount();
    }, t.prototype.getTopLevelRowDisplayedIndex = function(e) {
      return e;
    }, t.prototype.isEmpty = function() {
      return this.rowCount > 0;
    }, t.prototype.isRowsToRender = function() {
      return this.rowCount > 0;
    }, t.prototype.getNodesInRangeForSelection = function(e, r) {
      var n = T.missing(e) ? 0 : e.rowIndex, i = r.rowIndex, a = n < this.firstRow || n > this.lastRow, s = i < this.firstRow || i > this.lastRow;
      if (a || s)
        return [];
      for (var l = [], u = n <= i ? n : i, c = n <= i ? i : n, d = u; d <= c; d++)
        l.push(this.rowNodesByIndex[d]);
      return l;
    }, t.prototype.forEachNode = function(e) {
      var r = this, n = 0;
      Object.keys(this.rowNodesByIndex).forEach(function(i) {
        var a = parseInt(i, 10), s = r.rowNodesByIndex[a];
        e(s, n), n++;
      });
    }, t.prototype.setRowData = function(e) {
      var r = this;
      T.iterateObject(e, function(n, i) {
        var a = parseInt(n, 10);
        if (a >= r.firstRow && a <= r.lastRow) {
          var s = r.rowNodesByIndex[a];
          T.missing(s) && (s = r.createBlankRowNode(a), r.rowNodesByIndex[a] = s), s.setDataAndId(i, a.toString());
        }
      });
    }, t.prototype.createBlankRowNode = function(e) {
      var r = new Te(this.beans);
      return r.setRowHeight(this.rowHeight), r.setRowTop(this.rowHeight * e), r.setRowIndex(e), r;
    }, t.prototype.setRowCount = function(e, r) {
      if (r === void 0 && (r = !1), e !== this.rowCount) {
        this.rowCount = e;
        var n = {
          type: R.EVENT_MODEL_UPDATED,
          newData: !1,
          newPage: !1,
          keepRenderedRows: r,
          animate: !1
        };
        this.eventService.dispatchEvent(n);
      }
    }, t.prototype.isRowPresent = function(e) {
      var r = this.getRowNode(e.id);
      return !!r;
    }, fl([
      w("rowRenderer")
    ], t.prototype, "rowRenderer", void 0), fl([
      w("focusService")
    ], t.prototype, "focusService", void 0), fl([
      w("beans")
    ], t.prototype, "beans", void 0), fl([
      V
    ], t.prototype, "init", null), fl([
      rt
    ], t.prototype, "destroyDatasource", null), t = fl([
      q("rowModel")
    ], t), t;
  }(W)
), k7 = {
  version: I7,
  moduleName: Z.ViewportRowModelModule,
  rowModel: "viewport",
  beans: [G7],
  dependantModules: [
    cr
  ]
}, V7 = `
.ag-sparkline-tooltip-wrapper {
    position: absolute;
    user-select: none;
    pointer-events: none;
}

.ag-sparkline-tooltip {
    position: relative;
    font: 12px arial,sans-serif;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);
    line-height: 1.7em;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: rgba(0,0,0, 0.67);
}

.ag-sparkline-tooltip-content {
    padding: 0 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-title {
    padding-left: 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-wrapper-hidden {
    top: -10000px !important;
}

.ag-sparkline-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`, B7 = function(o) {
  var t = typeof Symbol == "function" && Symbol.iterator, e = t && o[t], r = 0;
  if (e)
    return e.call(o);
  if (o && typeof o.length == "number")
    return {
      next: function() {
        return o && r >= o.length && (o = void 0), { value: o && o[r++], done: !o };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}, H7 = rn, hc = mr, j7 = tC, W7 = SO, A0 = y2, $7 = lo, U7 = Ah, $g = Vt, z7 = Tr, M0 = hC, br;
(function(o) {
  o[o.SERIES_FILL_ZINDEX = 50] = "SERIES_FILL_ZINDEX", o[o.AXIS_LINE_ZINDEX = 500] = "AXIS_LINE_ZINDEX", o[o.SERIES_STROKE_ZINDEX = 1e3] = "SERIES_STROKE_ZINDEX", o[o.SERIES_LABEL_ZINDEX = 1500] = "SERIES_LABEL_ZINDEX", o[o.CROSSHAIR_ZINDEX = 2e3] = "CROSSHAIR_ZINDEX", o[o.SERIES_MARKERS_ZINDEX = 2500] = "SERIES_MARKERS_ZINDEX";
})(br || (br = {}));
var K7 = (
  /** @class */
  function() {
    function o() {
      this.type = "category", this.stroke = "rgb(204, 214, 235)", this.strokeWidth = 1;
    }
    return o;
  }()
), RC = (
  /** @class */
  function() {
    function o() {
      this.id = $7(this), this.seriesRect = {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      }, this._context = void 0, this._container = void 0, this._data = void 0, this.padding = new U7(3), this.xKey = "x", this.yKey = "y", this.dataType = void 0, this.xData = [], this.yData = [], this.min = void 0, this.max = void 0, this.yScale = new $g(), this.axis = new K7(), this.highlightStyle = {
        size: 6,
        fill: "yellow",
        stroke: "silver",
        strokeWidth: 1
      }, this._width = 100, this._height = 100, this.smallestInterval = void 0, this.layoutId = 0, this.defaultDateFormatter = new Intl.DateTimeFormat("en-US", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: !1
      }), this._onMouseMove = this.onMouseMove.bind(this), this._onMouseOut = this.onMouseOut.bind(this);
      var t = new Se();
      this.rootGroup = t;
      var e = document.createElement("div");
      e.setAttribute("class", "ag-sparkline-wrapper");
      var r = new eC({ document });
      if (this.scene = r, this.canvasElement = r.canvas.element, r.root = t, r.container = e, r.resize(this.width, this.height), this.seriesRect.width = this.width, this.seriesRect.height = this.height, o.tooltipDocuments.indexOf(document) === -1) {
        var n = document.createElement("style");
        n.innerHTML = V7, document.head.insertBefore(n, document.head.querySelector("style")), o.tooltipDocuments.push(document);
      }
      this.setupDomEventListeners(this.scene.canvas.element);
    }
    return Object.defineProperty(o.prototype, "context", {
      get: function() {
        return this._context;
      },
      set: function(t) {
        this._context !== t && (this._context = t);
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "container", {
      get: function() {
        return this._container;
      },
      set: function(t) {
        if (this._container !== t) {
          var e = this.canvasElement.parentNode;
          e != null && e.removeChild(this.canvasElement), t && t.appendChild(this.canvasElement), this._container = t;
        }
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "data", {
      get: function() {
        return this._data;
      },
      set: function(t) {
        this._data !== t && (this._data = t, this.processData(), this.mouseMoveEvent && this.highlightedDatum && this.updateHitPoint(this.mouseMoveEvent));
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "width", {
      get: function() {
        return this._width;
      },
      set: function(t) {
        this._width !== t && (this._width = t, this.scene.resize(t, this.height), this.scheduleLayout());
      },
      enumerable: !1,
      configurable: !0
    }), Object.defineProperty(o.prototype, "height", {
      get: function() {
        return this._height;
      },
      set: function(t) {
        this._height !== t && (this._height = t, this.scene.resize(this.width, t), this.scheduleLayout());
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.update = function() {
    }, o.prototype.updateYScale = function() {
      this.updateYScaleRange(), this.updateYScaleDomain();
    }, o.prototype.updateYScaleDomain = function() {
    }, o.prototype.updateYScaleRange = function() {
      var t = this, e = t.yScale, r = t.seriesRect;
      e.range = [r.height, 0];
    }, o.prototype.updateXScale = function() {
      var t = this.axis.type;
      this.xScale = this.getXScale(t), this.updateXScaleRange(), this.updateXScaleDomain();
    }, o.prototype.updateXScaleRange = function() {
      this.xScale.range = [0, this.seriesRect.width];
    }, o.prototype.updateXScaleDomain = function() {
      var t = this, e = t.xData, r = t.xScale, n;
      (r instanceof $g || r instanceof M0) && (n = H7(e)), this.xScale.domain = n ? n.slice() : e;
    }, o.prototype.getXScale = function(t) {
      switch (t === void 0 && (t = "category"), t) {
        case "number":
          return new $g();
        case "time":
          return new M0();
        case "category":
        default:
          return new z7();
      }
    }, o.prototype.updateAxisLine = function() {
    }, o.prototype.updateAxes = function() {
      this.updateYScale(), this.updateXScale(), this.updateAxisLine();
    }, o.prototype.updateCrosshairs = function() {
      this.updateXCrosshairLine(), this.updateYCrosshairLine();
    }, o.prototype.generateNodeData = function() {
      return [];
    }, o.prototype.getNodeData = function() {
      return [];
    }, o.prototype.updateNodes = function() {
    }, o.prototype.updateXCrosshairLine = function() {
    }, o.prototype.updateYCrosshairLine = function() {
    }, o.prototype.highlightDatum = function(t) {
      this.updateNodes();
    }, o.prototype.dehighlightDatum = function() {
      this.highlightedDatum = void 0, this.updateNodes(), this.updateCrosshairs();
    }, o.prototype.onMouseMove = function(t) {
      this.mouseMoveEvent = t, this.updateHitPoint(t);
    }, o.prototype.updateHitPoint = function(t) {
      var e, r, n, i = this.pickClosestSeriesNodeDatum(t.offsetX, t.offsetY);
      if (i) {
        var a = this.highlightedDatum;
        this.highlightedDatum = i, (this.highlightedDatum && !a || this.highlightedDatum && a && this.highlightedDatum !== a) && (this.highlightDatum(i), this.updateCrosshairs(), this.scene.render().catch(function(l) {
          return console.error("AG Grid - chart rendering failed", l);
        }));
        var s = (n = (r = (e = this.processedOptions) === null || e === void 0 ? void 0 : e.tooltip) === null || r === void 0 ? void 0 : r.enabled) !== null && n !== void 0 ? n : !0;
        s && this.handleTooltip(t, i);
      }
    }, o.prototype.onMouseOut = function(t) {
      this.dehighlightDatum(), this.tooltip.toggle(!1), this.scene.render().catch(function(e) {
        return console.error("AG Grid - chart rendering failed", e);
      });
    }, o.prototype.processData = function() {
      var t = this, e = this, r = e.data, n = e.yData, i = e.xData;
      if (!(!r || this.invalidData(this.data))) {
        n.length = 0, i.length = 0;
        var a = r.length, s = this.getDataType(r);
        this.dataType = s;
        var l = this.axis.type, u = l !== "number" && l !== "time" ? "category" : l, c = u === "number" || u === "time", d = function(_, O) {
          t.smallestInterval == null && (t.smallestInterval = { x: 1 / 0, y: 1 / 0 });
          var E = t.smallestInterval.x, D = Math.abs(_ - O);
          D > 0 && D < E && (t.smallestInterval.x = D);
        }, p;
        if (s === "number")
          for (var h = 0; h < a; h++) {
            var f = h, v = r[h], g = this.getDatum(f, u), y = this.getDatum(v, "number");
            c && d(g, p), i.push(g), n.push(y), p = g;
          }
        else if (s === "array")
          for (var h = 0; h < a; h++) {
            var m = r[h];
            if (Array.isArray(m)) {
              var f = m[0], v = m[1], g = this.getDatum(f, u), y = this.getDatum(v, "number");
              if (g == null)
                continue;
              c && d(g, p), i.push(g), n.push(y), p = g;
            }
          }
        else if (s === "object")
          for (var C = this, S = C.yKey, b = C.xKey, h = 0; h < a; h++) {
            var m = r[h];
            if (typeof m == "object" && !Array.isArray(m)) {
              var f = m[b], v = m[S], g = this.getDatum(f, u), y = this.getDatum(v, "number");
              if (g == null)
                continue;
              c && d(g, p), i.push(g), n.push(y), p = g;
            }
          }
        this.updateAxes(), this.immediateLayout();
      }
    }, o.prototype.getDataType = function(t) {
      var e, r;
      try {
        for (var n = B7(t), i = n.next(); !i.done; i = n.next()) {
          var a = i.value;
          if (a != null) {
            if (hc(a))
              return "number";
            if (Array.isArray(a))
              return "array";
            if (typeof a == "object")
              return "object";
          }
        }
      } catch (s) {
        e = { error: s };
      } finally {
        try {
          i && !i.done && (r = n.return) && r.call(n);
        } finally {
          if (e)
            throw e.error;
        }
      }
    }, o.prototype.getDatum = function(t, e) {
      if (e === "number" && hc(t) || e === "time" && (hc(t) || A0(t)))
        return t;
      if (e === "category") {
        if (j7(t) || A0(t) || hc(t))
          return { toString: function() {
            return String(t);
          } };
        if (W7(t))
          return t;
      }
    }, Object.defineProperty(o.prototype, "layoutScheduled", {
      /**
       * Only `true` while we are waiting for the layout to start.
       * This will be `false` if the layout has already started and is ongoing.
       */
      get: function() {
        return !!this.layoutId;
      },
      enumerable: !1,
      configurable: !0
    }), o.prototype.scheduleLayout = function() {
      var t = this;
      this.layoutId && cancelAnimationFrame(this.layoutId), this.layoutId = requestAnimationFrame(function() {
        t.immediateLayout(), t.layoutId = 0;
      });
    }, o.prototype.immediateLayout = function() {
      this.setSparklineDimensions(), !this.invalidData(this.data) && (this.updateXScaleRange(), this.updateYScaleRange(), this.updateAxisLine(), this.update(), this.scene.render().catch(function(t) {
        return console.error("AG Grid - chart rendering failed", t);
      }));
    }, o.prototype.setSparklineDimensions = function() {
      var t = this, e = t.width, r = t.height, n = t.padding, i = t.seriesRect, a = t.rootGroup, s = e - n.left - n.right, l = r - n.top - n.bottom;
      i.width = s, i.height = l, i.x = n.left, i.y = n.top, a.translationX = i.x, a.translationY = i.y;
    }, o.prototype.pickClosestSeriesNodeDatum = function(t, e) {
      for (var r = 1 / 0, n, i = this.rootGroup.transformPoint(t, e), a = this.getNodeData(), s = 0; s < a.length; s++) {
        var l = a[s];
        if (!l.point)
          return;
        var u = this.getDistance(i, l.point);
        u <= r && (r = u, n = l);
      }
      return n;
    }, o.prototype.getDistance = function(t, e) {
      return Math.abs(t.x - e.x);
    }, o.prototype.handleTooltip = function(t, e) {
      var r, n, i = e.seriesDatum, a = this.canvasElement, s = t.clientX, l = t.clientY, u = (r = this.processedOptions) === null || r === void 0 ? void 0 : r.tooltip, c = {
        pageX: s,
        pageY: l,
        position: {
          xOffset: u == null ? void 0 : u.xOffset,
          yOffset: u == null ? void 0 : u.yOffset
        },
        container: u == null ? void 0 : u.container
      };
      c.container == null && (c.container = a);
      var d = i.y, p = i.x, h = (n = u == null ? void 0 : u.enabled) !== null && n !== void 0 ? n : !0, f = u == null ? void 0 : u.renderer;
      if (f) {
        var v = f({
          context: this.context,
          datum: i,
          yValue: d,
          xValue: p
        });
        h = typeof v != "string" && v.enabled !== void 0 ? v.enabled : h;
      }
      var g = h && i.y !== void 0 && this.getTooltipHtml(e);
      g && this.tooltip.show(c, g);
    }, o.prototype.formatNumericDatum = function(t) {
      return String(Math.round(t * 10) / 10);
    }, o.prototype.formatDatum = function(t) {
      var e = this.axis.type || "category";
      return e === "number" && typeof t == "number" ? this.formatNumericDatum(t) : e === "time" && (t instanceof Date || hc(t)) ? this.defaultDateFormatter.format(t) : String(t);
    }, o.prototype.setupDomEventListeners = function(t) {
      t.addEventListener("mousemove", this._onMouseMove), t.addEventListener("mouseout", this._onMouseOut);
    }, o.prototype.cleanupDomEventListeners = function(t) {
      t.removeEventListener("mousemove", this._onMouseMove), t.removeEventListener("mouseout", this._onMouseOut);
    }, o.prototype.invalidData = function(t) {
      return !t || !Array.isArray(t) || t.length === 0;
    }, o.prototype.destroy = function() {
      this.scene.container = void 0, this.container = void 0, this.cleanupDomEventListeners(this.scene.canvas.element);
    }, o.tooltipDocuments = [], o;
  }()
);
function ru(o, t) {
  var e, r, n;
  if (typeof o == "string")
    return o;
  t = t != null ? t : {};
  var i = o.content, a = i === void 0 ? (e = t.content) !== null && e !== void 0 ? e : "" : i, s = o.title, l = s === void 0 ? (r = t.title) !== null && r !== void 0 ? r : void 0 : s, u = o.color, c = u === void 0 ? t.color : u, d = o.backgroundColor, p = d === void 0 ? t.backgroundColor : d, h = o.opacity, f = h === void 0 ? (n = t.opacity) !== null && n !== void 0 ? n : 1 : h, v, g;
  c ? (v = l ? '<span class="' + yl.class + '-title"; style="color: ' + c + '">' + l + "</span>" : "", g = '<span class="' + yl.class + '-content" style="color: ' + c + '">' + a + "</span>") : (v = l ? '<span class="' + yl.class + '-title">' + l + "</span>" : "", g = '<span class="' + yl.class + '-content">' + a + "</span>");
  var y = "opacity: " + f;
  return p && (y += "; background-color: " + p.toLowerCase()), '<div class="' + yl.class + '" style="' + y + `">
                ` + v + `
                ` + g + `
            </div>`;
}
var yl = (
  /** @class */
  function() {
    function o() {
      this.element = document.createElement("div");
      var t = document.body;
      t.appendChild(this.element);
    }
    return o.prototype.isVisible = function() {
      var t = this.element;
      if (t.classList)
        return !t.classList.contains(o.class + "-wrapper-hidden");
      var e = t.getAttribute("class");
      return e ? e.split(" ").indexOf(o.class + "-wrapper-hidden") < 0 : !1;
    }, o.prototype.updateClass = function(t) {
      var e = [o.class + "-wrapper"];
      t !== !0 && e.push(o.class + "-wrapper-hidden"), this.element.setAttribute("class", e.join(" "));
    }, o.prototype.show = function(t, e) {
      var r, n, i, a;
      this.toggle(!1);
      var s = this.element;
      if (e !== void 0)
        s.innerHTML = e;
      else if (!s.innerHTML)
        return;
      var l = (n = (r = t.position) === null || r === void 0 ? void 0 : r.xOffset) !== null && n !== void 0 ? n : 10, u = (a = (i = t.position) === null || i === void 0 ? void 0 : i.yOffset) !== null && a !== void 0 ? a : 0, c = t.pageX + l, d = t.pageY + u, p = s.getBoundingClientRect(), h = window.innerWidth - p.width;
      if (t.container) {
        var f = t.container.getBoundingClientRect();
        h = f.left + (f.width - p.width);
      }
      c > h && (c = t.pageX - s.clientWidth - l), typeof scrollX != "undefined" && (c += scrollX), typeof scrollY != "undefined" && (d += scrollY), s.style.left = Math.round(c) + "px", s.style.top = Math.round(d) + "px", this.toggle(!0);
    }, o.prototype.toggle = function(t) {
      this.updateClass(t);
    }, o.prototype.destroy = function() {
      var t = this.element.parentNode;
      t && t.removeChild(this.element);
    }, o.class = "ag-sparkline-tooltip", o;
  }()
);
function fT(o) {
  switch (o) {
    case "circle":
      return Yc;
    case "square":
      return Ac;
    case "diamond":
      return jO;
    default:
      return Yc;
  }
}
function af(o, t) {
  t === void 0 && (t = "solid");
  var e = {
    solid: [],
    dash: [4, 3],
    dot: [1, 3],
    dashDot: [4, 3, 1, 3],
    dashDotDot: [4, 3, 1, 3, 1, 3],
    shortDot: [1, 1],
    shortDash: [3, 1],
    shortDashDot: [3, 1, 1, 1],
    shortDashDotDot: [3, 1, 1, 1, 1, 1],
    longDash: [8, 3],
    longDashDot: [8, 3, 1, 3],
    longDashDotDot: [8, 3, 1, 3, 1, 3]
  }, r = {
    solid: [],
    dash: [3, 3],
    dot: [0, 3],
    dashDot: [3, 3, 0, 3],
    dashDotDot: [3, 3, 0, 3, 0, 3],
    shortDot: [0, 2],
    shortDash: [2, 2],
    shortDashDot: [2, 2, 0, 2],
    shortDashDotDot: [2, 2, 0, 2, 0, 2],
    longDash: [7, 3],
    longDashDot: [7, 3, 0, 3],
    longDashDotDot: [7, 3, 0, 3, 0, 3]
  };
  return o === "round" || o === "square" ? r[t] == null ? (console.warn("'" + t + "' is not a valid 'lineDash' option."), r.solid) : r[t] : e[t] == null ? (console.warn("'" + t + "' is not a valid 'lineDash' option."), e.solid) : e[t];
}
var Y7 = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), X7 = rn, q7 = Tr, Z7 = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.shape = "circle", this.size = 0, this.fill = "rgb(124, 181, 236)", this.stroke = "rgb(124, 181, 236)", this.strokeWidth = 1, this.formatter = void 0;
    }
    return o;
  }()
), Q7 = (
  /** @class */
  function() {
    function o() {
      this.stroke = "rgb(124, 181, 236)", this.strokeWidth = 1;
    }
    return o;
  }()
), J7 = (
  /** @class */
  function() {
    function o() {
      this.xLine = {
        enabled: !0,
        stroke: "rgba(0,0,0, 0.54)",
        strokeWidth: 1,
        lineDash: "solid",
        lineCap: void 0
      }, this.yLine = {
        enabled: !1,
        stroke: "rgba(0,0,0, 0.54)",
        strokeWidth: 1,
        lineDash: "solid",
        lineCap: void 0
      };
    }
    return o;
  }()
), eq = (
  /** @class */
  function(o) {
    Y7(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.fill = "rgba(124, 181, 236, 0.25)", e.strokePath = new xr(), e.fillPath = new xr(), e.xCrosshairLine = new Gt(), e.yCrosshairLine = new Gt(), e.areaSparklineGroup = new Se(), e.xAxisLine = new Gt(), e.markers = new Se(), e.markerSelection = ft.select(e.markers, function() {
        return e.markerFactory();
      }), e.markerSelectionData = [], e.marker = new Z7(), e.line = new Q7(), e.crosshairs = new J7(), e.rootGroup.append(e.areaSparklineGroup), e.xAxisLine.zIndex = br.AXIS_LINE_ZINDEX, e.fillPath.zIndex = br.SERIES_FILL_ZINDEX, e.strokePath.zIndex = br.SERIES_STROKE_ZINDEX, e.xCrosshairLine.zIndex = br.CROSSHAIR_ZINDEX, e.yCrosshairLine.zIndex = br.CROSSHAIR_ZINDEX, e.markers.zIndex = br.SERIES_MARKERS_ZINDEX, e.areaSparklineGroup.append([
        e.fillPath,
        e.xAxisLine,
        e.strokePath,
        e.xCrosshairLine,
        e.yCrosshairLine,
        e.markers
      ]), e;
    }
    return t.prototype.markerFactory = function() {
      var e = this.marker.shape, r = fT(e);
      return new r();
    }, t.prototype.getNodeData = function() {
      return this.markerSelectionData;
    }, t.prototype.update = function() {
      var e = this.generateNodeData();
      if (e) {
        var r = e.nodeData, n = e.fillData, i = e.strokeData;
        this.markerSelectionData = r, this.updateSelection(r), this.updateNodes(), this.updateStroke(i), this.updateFill(n);
      }
    }, t.prototype.updateYScaleDomain = function() {
      var e = this, r = e.yData, n = e.yScale, i = X7(r), a = 0, s = 1;
      i !== void 0 && (a = this.min = i[0], s = this.max = i[1]), a = a < 0 ? a : 0, s = s < 0 ? 0 : s, n.domain = [a, s];
    }, t.prototype.generateNodeData = function() {
      var e = this, r = e.data, n = e.yData, i = e.xData, a = e.xScale, s = e.yScale;
      if (r) {
        for (var l = !(a instanceof q7), u = l ? 0 : a.bandwidth / 2, c = n.length, d = [], p = [], h = [], f, v, g, y, m = s.convert(0), C = 0; C < c; C++) {
          var S = n[C], b = i[C], _ = a.convert(l ? a.toDomain(b) : b) + u, O = S === void 0 ? NaN : s.convert(S);
          C + 1 < c && (y = a.convert(l ? a.toDomain(i[C + 1]) : i[C + 1]) + u), h.push({
            seriesDatum: { x: b, y: S },
            point: { x: _, y: O }
          }), S === void 0 && g !== void 0 ? (p.push({ seriesDatum: void 0, point: { x: g, y: m } }), y !== void 0 && p.push({ seriesDatum: void 0, point: { x: y, y: m } })) : S !== void 0 && (p.push({
            seriesDatum: { x: b, y: S },
            point: { x: _, y: O }
          }), d.push({
            seriesDatum: { x: b, y: S },
            point: { x: _, y: O }
          }), f = f !== void 0 ? f : _, v = _), g = _;
        }
        return p.push({ seriesDatum: void 0, point: { x: v, y: m } }, { seriesDatum: void 0, point: { x: f, y: m } }), { nodeData: d, fillData: p, strokeData: h };
      }
    }, t.prototype.updateAxisLine = function() {
      var e = this, r = e.xScale, n = e.yScale, i = e.axis, a = e.xAxisLine;
      a.x1 = r.range[0], a.x2 = r.range[1], a.y1 = a.y2 = 0, a.stroke = i.stroke, a.strokeWidth = i.strokeWidth;
      var s = n.convert(0);
      a.translationY = s;
    }, t.prototype.updateSelection = function(e) {
      this.markerSelection.update(e);
    }, t.prototype.updateNodes = function() {
      var e = this, r = this, n = r.highlightedDatum, i = r.highlightStyle, a = r.marker, s = i.size, l = i.fill, u = i.stroke, c = i.strokeWidth, d = a.formatter;
      this.markerSelection.each(function(p, h, f) {
        var v = h.point, g = h.seriesDatum;
        if (v) {
          var y = h === n, m = y && l !== void 0 ? l : a.fill, C = y && u !== void 0 ? u : a.stroke, S = y && c !== void 0 ? c : a.strokeWidth, b = y && s !== void 0 ? s : a.size, _;
          if (d) {
            var O = f === 0, E = f === e.markerSelectionData.length - 1, D = g.y === e.min, x = g.y === e.max;
            _ = d({
              datum: h,
              xValue: g.x,
              yValue: g.y,
              min: D,
              max: x,
              first: O,
              last: E,
              fill: m,
              stroke: C,
              strokeWidth: S,
              size: b,
              highlighted: y
            });
          }
          p.size = _ && _.size != null ? _.size : b, p.fill = _ && _.fill != null ? _.fill : m, p.stroke = _ && _.stroke != null ? _.stroke : C, p.strokeWidth = _ && _.strokeWidth != null ? _.strokeWidth : S, p.translationX = v.x, p.translationY = v.y, p.visible = _ && _.enabled != null ? _.enabled : a.enabled && p.size > 0;
        }
      });
    }, t.prototype.updateStroke = function(e) {
      var r = this, n = r.strokePath, i = r.yData, a = r.line;
      if (!(i.length < 2)) {
        var s = n.path, l = e.length, u = !0;
        s.clear();
        for (var c = 0; c < l; c++) {
          var d = e[c], p = d.point, h = d.seriesDatum, f = p.x, v = p.y;
          h.y == null ? u = !0 : u ? (s.moveTo(f, v), u = !1) : s.lineTo(f, v);
        }
        n.lineJoin = n.lineCap = "round", n.fill = void 0, n.stroke = a.stroke, n.strokeWidth = a.strokeWidth;
      }
    }, t.prototype.updateFill = function(e) {
      var r = this, n = r.fillPath, i = r.yData, a = r.fill, s = n.path, l = e.length;
      if (s.clear(), !(i.length < 2)) {
        for (var u = 0; u < l; u++) {
          var c = e[u].point, d = c.x, p = c.y;
          u > 0 ? s.lineTo(d, p) : s.moveTo(d, p);
        }
        s.closePath(), n.lineJoin = "round", n.stroke = void 0, n.fill = a;
      }
    }, t.prototype.updateXCrosshairLine = function() {
      var e, r = this, n = r.yScale, i = r.xCrosshairLine, a = r.highlightedDatum, s = r.crosshairs.xLine;
      if (!s.enabled || a == null) {
        i.strokeWidth = 0;
        return;
      }
      i.y1 = n.range[0], i.y2 = n.range[1], i.x1 = i.x2 = 0, i.stroke = s.stroke, i.strokeWidth = (e = s.strokeWidth) !== null && e !== void 0 ? e : 1, i.lineCap = s.lineCap === "round" || s.lineCap === "square" ? s.lineCap : void 0;
      var l = s.lineDash;
      i.lineDash = Array.isArray(l) ? l : af(i.lineCap, s.lineDash), i.translationX = a.point.x;
    }, t.prototype.updateYCrosshairLine = function() {
      var e, r = this, n = r.xScale, i = r.yCrosshairLine, a = r.highlightedDatum, s = r.crosshairs.yLine;
      if (!s.enabled || a == null) {
        i.strokeWidth = 0;
        return;
      }
      i.x1 = n.range[0], i.x2 = n.range[1], i.y1 = i.y2 = 0, i.stroke = s.stroke, i.strokeWidth = (e = s.strokeWidth) !== null && e !== void 0 ? e : 1, i.lineCap = s.lineCap === "round" || s.lineCap === "square" ? s.lineCap : void 0;
      var l = s.lineDash;
      i.lineDash = Array.isArray(l) ? l : af(i.lineCap, s.lineDash), i.translationY = a.point.y;
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i = this.dataType, a = e.seriesDatum, s = a.y, l = a.x, u = this.formatNumericDatum(s), c = i === "array" || i === "object" ? this.formatDatum(l) : void 0, d = {
        content: u,
        title: c
      }, p = (n = (r = this.processedOptions) === null || r === void 0 ? void 0 : r.tooltip) === null || n === void 0 ? void 0 : n.renderer;
      return p ? ru(p({
        context: this.context,
        datum: a,
        yValue: s,
        xValue: l
      }), d) : ru(d);
    }, t.className = "AreaSparkline", t;
  }(RC)
), tq = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), rq = rn, I0 = Tr, nq = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.shape = "circle", this.size = 0, this.fill = "rgb(124, 181, 236)", this.stroke = "rgb(124, 181, 236)", this.strokeWidth = 1, this.formatter = void 0;
    }
    return o;
  }()
), iq = (
  /** @class */
  function() {
    function o() {
      this.stroke = "rgb(124, 181, 236)", this.strokeWidth = 1;
    }
    return o;
  }()
), oq = (
  /** @class */
  function() {
    function o() {
      this.xLine = {
        enabled: !0,
        stroke: "rgba(0,0,0, 0.54)",
        strokeWidth: 1,
        lineDash: "solid",
        lineCap: void 0
      }, this.yLine = {
        enabled: !1,
        stroke: "rgba(0,0,0, 0.54)",
        strokeWidth: 1,
        lineDash: "solid",
        lineCap: void 0
      };
    }
    return o;
  }()
), aq = (
  /** @class */
  function(o) {
    tq(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.linePath = new xr(), e.xCrosshairLine = new Gt(), e.yCrosshairLine = new Gt(), e.lineSparklineGroup = new Se(), e.markers = new Se(), e.markerSelection = ft.select(e.markers, function() {
        return e.markerFactory();
      }), e.markerSelectionData = [], e.marker = new nq(), e.line = new iq(), e.crosshairs = new oq(), e.rootGroup.append(e.lineSparklineGroup), e.linePath.zIndex = br.SERIES_STROKE_ZINDEX, e.xCrosshairLine.zIndex = br.CROSSHAIR_ZINDEX, e.yCrosshairLine.zIndex = br.CROSSHAIR_ZINDEX, e.markers.zIndex = br.SERIES_MARKERS_ZINDEX, e.lineSparklineGroup.append([e.linePath, e.xCrosshairLine, e.yCrosshairLine, e.markers]), e;
    }
    return t.prototype.getNodeData = function() {
      return this.markerSelectionData;
    }, t.prototype.markerFactory = function() {
      var e = this.marker.shape, r = fT(e);
      return new r();
    }, t.prototype.onMarkerShapeChange = function() {
      this.markerSelection = this.markerSelection.clear(), this.scheduleLayout();
    }, t.prototype.update = function() {
      var e = this.generateNodeData();
      e && (this.markerSelectionData = e, this.updateSelection(e), this.updateNodes(), this.updateLine());
    }, t.prototype.updateYScaleDomain = function() {
      var e = this, r = e.yData, n = e.yScale, i = rq(r), a = 0, s = 1;
      if (i !== void 0 && (a = this.min = i[0], s = this.max = i[1]), a === s) {
        var l = Math.abs(a * 0.01);
        a -= l, s += l;
      }
      n.domain = [a, s];
    }, t.prototype.generateNodeData = function() {
      var e = this, r = e.data, n = e.yData, i = e.xData, a = e.xScale, s = e.yScale;
      if (r) {
        for (var l = !(a instanceof I0), u = l ? 0 : a.bandwidth / 2, c = [], d = 0; d < n.length; d++) {
          var p = n[d], h = i[d];
          if (p != null) {
            var f = a.convert(l ? a.toDomain(h) : h) + u, v = p === void 0 ? NaN : s.convert(p);
            c.push({
              seriesDatum: { x: h, y: p },
              point: { x: f, y: v }
            });
          }
        }
        return c;
      }
    }, t.prototype.updateSelection = function(e) {
      this.markerSelection.update(e);
    }, t.prototype.updateNodes = function() {
      var e = this, r = this, n = r.highlightedDatum, i = r.highlightStyle, a = r.marker, s = i.size, l = i.fill, u = i.stroke, c = i.strokeWidth, d = a.formatter;
      this.markerSelection.each(function(p, h, f) {
        var v = h === n, g = v && l !== void 0 ? l : a.fill, y = v && u !== void 0 ? u : a.stroke, m = v && c !== void 0 ? c : a.strokeWidth, C = v && s !== void 0 ? s : a.size, S, b = h.seriesDatum, _ = h.point;
        if (d) {
          var O = f === 0, E = f === e.markerSelectionData.length - 1, D = b.y === e.min, x = b.y === e.max;
          S = d({
            datum: h,
            xValue: b.x,
            yValue: b.y,
            min: D,
            max: x,
            first: O,
            last: E,
            fill: g,
            stroke: y,
            strokeWidth: m,
            size: C,
            highlighted: v
          });
        }
        p.size = S && S.size != null ? S.size : C, p.fill = S && S.fill != null ? S.fill : g, p.stroke = S && S.stroke != null ? S.stroke : y, p.strokeWidth = S && S.strokeWidth != null ? S.strokeWidth : m, p.translationX = _.x, p.translationY = _.y, p.visible = S && S.enabled != null ? S.enabled : a.enabled && p.size > 0;
      });
    }, t.prototype.updateLine = function() {
      var e = this, r = e.linePath, n = e.yData, i = e.xData, a = e.xScale, s = e.yScale, l = e.line;
      if (!(n.length < 2)) {
        var u = !(a instanceof I0), c = r.path, d = n.length, p = u ? 0 : a.bandwidth / 2, h = !0;
        c.clear();
        for (var f = 0; f < d; f++) {
          var v = i[f], g = n[f], y = a.convert(u ? a.toDomain(v) : v) + p, m = g === void 0 ? NaN : s.convert(g);
          g == null ? h = !0 : h ? (c.moveTo(y, m), h = !1) : c.lineTo(y, m);
        }
        r.fill = void 0, r.stroke = l.stroke, r.strokeWidth = l.strokeWidth;
      }
    }, t.prototype.updateXCrosshairLine = function() {
      var e, r = this, n = r.yScale, i = r.xCrosshairLine, a = r.highlightedDatum, s = r.crosshairs.xLine;
      if (!s.enabled || a == null) {
        i.strokeWidth = 0;
        return;
      }
      i.y1 = n.range[0], i.y2 = n.range[1], i.x1 = i.x2 = 0, i.stroke = s.stroke, i.strokeWidth = (e = s.strokeWidth) !== null && e !== void 0 ? e : 1, i.lineCap = s.lineCap === "round" || s.lineCap === "square" ? s.lineCap : void 0;
      var l = s.lineDash;
      i.lineDash = Array.isArray(l) ? l : af(i.lineCap, s.lineDash), i.translationX = a.point.x;
    }, t.prototype.updateYCrosshairLine = function() {
      var e, r = this, n = r.xScale, i = r.yCrosshairLine, a = r.highlightedDatum, s = r.crosshairs.yLine;
      if (!s.enabled || a == null) {
        i.strokeWidth = 0;
        return;
      }
      i.x1 = n.range[0], i.x2 = n.range[1], i.y1 = i.y2 = 0, i.stroke = s.stroke, i.strokeWidth = (e = s.strokeWidth) !== null && e !== void 0 ? e : 1, i.lineCap = s.lineCap === "round" || s.lineCap === "square" ? s.lineCap : void 0;
      var l = s.lineDash;
      i.lineDash = Array.isArray(l) ? l : af(i.lineCap, s.lineDash), i.translationY = a.point.y;
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i = this.dataType, a = e.seriesDatum, s = a.y, l = a.x, u = this.formatNumericDatum(s), c = i === "array" || i === "object" ? this.formatDatum(l) : void 0, d = {
        content: u,
        title: c
      }, p = (n = (r = this.processedOptions) === null || r === void 0 ? void 0 : r.tooltip) === null || n === void 0 ? void 0 : n.renderer;
      return p ? ru(p({
        context: this.context,
        datum: a,
        yValue: s,
        xValue: l
      }), d) : ru(d);
    }, t.className = "LineSparkline", t;
  }(RC)
), sq = (
  /** @class */
  function() {
    function o() {
      this.enabled = !0, this.fontSize = 8, this.fontFamily = "Verdana, sans-serif", this.fontStyle = void 0, this.fontWeight = void 0, this.color = "rgba(70, 70, 70, 1)";
    }
    return o;
  }()
), vT = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), lq = rn, Xy;
(function(o) {
  o[o.Rect = 0] = "Rect", o[o.Label = 1] = "Label";
})(Xy || (Xy = {}));
var no;
(function(o) {
  o.InsideBase = "insideBase", o.InsideEnd = "insideEnd", o.Center = "center", o.OutsideEnd = "outsideEnd";
})(no || (no = {}));
var uq = (
  /** @class */
  function(o) {
    vT(t, o);
    function t() {
      var e = o !== null && o.apply(this, arguments) || this;
      return e.formatter = void 0, e.placement = no.InsideEnd, e;
    }
    return t;
  }(sq)
), gT = (
  /** @class */
  function(o) {
    vT(t, o);
    function t() {
      var e = o.call(this) || this;
      return e.fill = "rgb(124, 181, 236)", e.stroke = "silver", e.strokeWidth = 0, e.paddingInner = 0.1, e.paddingOuter = 0.2, e.valueAxisDomain = void 0, e.formatter = void 0, e.axisLine = new Gt(), e.bandWidth = 0, e.sparklineGroup = new Se(), e.rectGroup = new Se(), e.labelGroup = new Se(), e.rectSelection = ft.select(e.rectGroup, Un), e.labelSelection = ft.select(e.labelGroup, ot), e.nodeSelectionData = [], e.label = new uq(), e.rootGroup.append(e.sparklineGroup), e.rectGroup.zIndex = br.SERIES_FILL_ZINDEX, e.axisLine.zIndex = br.AXIS_LINE_ZINDEX, e.labelGroup.zIndex = br.SERIES_LABEL_ZINDEX, e.sparklineGroup.append([e.rectGroup, e.axisLine, e.labelGroup]), e.axisLine.lineCap = "round", e.label.enabled = !1, e;
    }
    return t.prototype.getNodeData = function() {
      return this.nodeSelectionData;
    }, t.prototype.update = function() {
      this.updateSelections(), this.updateNodes();
    }, t.prototype.updateSelections = function() {
      var e = this.generateNodeData();
      e && (this.nodeSelectionData = e, this.updateRectSelection(e), this.updateLabelSelection(e));
    }, t.prototype.updateNodes = function() {
      this.updateRectNodes(), this.updateLabelNodes();
    }, t.prototype.calculateStep = function(e) {
      var r, n = this, i = n.xScale, a = n.paddingInner, s = n.paddingOuter, l = n.smallestInterval, u = i.domain[1] - i.domain[0], c = u / ((r = l == null ? void 0 : l.x) !== null && r !== void 0 ? r : 1) + 1, d = 50, p = Math.min(c, d), h = p - 1, f = e / Math.max(1, 2 * s + h * a + p);
      return f;
    }, t.prototype.updateYScaleDomain = function() {
      var e = this, r = e.yScale, n = e.yData, i = e.valueAxisDomain, a = lq(n), s = 0, l = 1;
      a !== void 0 && (s = this.min = a[0], l = this.max = a[1]), s = s < 0 ? s : 0, l = l < 0 ? 0 : l, i && (i[1] < l && (i[1] = l), i[0] > s && (i[0] = s)), r.domain = i || [s, l];
    }, t.prototype.updateRectSelection = function(e) {
      this.rectSelection.update(e);
    }, t.prototype.updateRectNodes = function() {
      var e = this, r = this, n = r.highlightedDatum, i = r.formatter, a = r.fill, s = r.stroke, l = r.strokeWidth, u = this.highlightStyle, c = u.fill, d = u.stroke, p = u.strokeWidth;
      this.rectSelection.each(function(h, f, v) {
        var g = f === n, y = g && c !== void 0 ? c : a, m = g && d !== void 0 ? d : s, C = g && p !== void 0 ? p : l, S, b = f.x, _ = f.y, O = f.width, E = f.height, D = f.seriesDatum;
        if (i) {
          var x = v === 0, P = v === e.nodeSelectionData.length - 1, M = D.y === e.min, F = D.y === e.max;
          S = i({
            datum: f,
            xValue: D.x,
            yValue: D.y,
            width: O,
            height: E,
            min: M,
            max: F,
            first: x,
            last: P,
            fill: y,
            stroke: m,
            strokeWidth: C,
            highlighted: g
          });
        }
        h.fill = S && S.fill || y, h.stroke = S && S.stroke || m, h.strokeWidth = S && S.strokeWidth || C, h.x = h.y = 0, h.width = O, h.height = E, h.visible = h.height > 0, h.translationX = b, h.translationY = _;
      });
    }, t.prototype.updateLabelSelection = function(e) {
      this.labelSelection.update(e, function(r) {
        r.tag = Xy.Label, r.pointerEvents = yr.None;
      });
    }, t.prototype.updateLabelNodes = function() {
      var e = this.label, r = e.enabled, n = e.fontStyle, i = e.fontWeight, a = e.fontSize, s = e.fontFamily, l = e.color;
      this.labelSelection.each(function(u, c) {
        var d = c.label;
        d && r ? (u.fontStyle = n, u.fontWeight = i, u.fontSize = a, u.fontFamily = s, u.textAlign = d.textAlign, u.textBaseline = d.textBaseline, u.text = d.text, u.x = d.x, u.y = d.y, u.fill = l, u.visible = !0) : u.visible = !1;
      });
    }, t.prototype.getTooltipHtml = function(e) {
      var r, n, i = this.dataType, a = e.seriesDatum, s = a.y, l = a.x, u = this.formatNumericDatum(s), c = i === "array" || i === "object" ? this.formatDatum(l) : void 0, d = {
        content: u,
        title: c
      }, p = (n = (r = this.processedOptions) === null || r === void 0 ? void 0 : r.tooltip) === null || n === void 0 ? void 0 : n.renderer;
      return p ? ru(p({
        context: this.context,
        datum: a,
        yValue: s,
        xValue: l
      }), d) : ru(d);
    }, t.prototype.formatLabelValue = function(e) {
      return e % 1 !== 0 ? e.toFixed(1) : e.toFixed(0);
    }, t;
  }(RC)
), cq = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), dq = mr, F0 = Tr, pq = (
  /** @class */
  function(o) {
    cq(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updateYScaleRange = function() {
      var e = this, r = e.seriesRect, n = e.yScale;
      n.range = [0, r.width];
    }, t.prototype.updateXScaleRange = function() {
      var e = this, r = e.xScale, n = e.seriesRect, i = e.paddingOuter, a = e.paddingInner;
      if (r instanceof F0)
        r.range = [0, n.height], r.paddingInner = a, r.paddingOuter = i;
      else {
        var s = this.calculateStep(n.height), l = s * i;
        this.bandWidth = s * (1 - a), r.range = [l, n.height - l - this.bandWidth];
      }
    }, t.prototype.updateAxisLine = function() {
      var e = this, r = e.yScale, n = e.axis, i = e.axisLine, a = e.seriesRect, s = n.strokeWidth;
      i.x1 = 0, i.x2 = 0, i.y1 = 0, i.y2 = a.height, i.stroke = n.stroke, i.strokeWidth = s + (s % 2 === 1 ? 1 : 0);
      var l = r.convert(0);
      i.translationX = l;
    }, t.prototype.generateNodeData = function() {
      var e = this, r = e.data, n = e.yData, i = e.xData, a = e.xScale, s = e.yScale, l = e.fill, u = e.stroke, c = e.strokeWidth, d = e.label;
      if (r) {
        for (var p = d.fontStyle, h = d.fontWeight, f = d.fontSize, v = d.fontFamily, g = d.color, y = d.formatter, m = d.placement, C = [], S = s.convert(0), b = !(a instanceof F0), _ = 0, O = n.length; _ < O; _++) {
          var E = n[_], D = i[_], x = E === void 0;
          x && (E = 0);
          var P = a.convert(b ? a.toDomain(D) : D), M = Math.min(E === void 0 ? NaN : s.convert(E), S), F = Math.max(E === void 0 ? NaN : s.convert(E), S), I = b ? this.bandWidth : a.bandwidth, N = F - M, k = {
            x: S,
            y: P
          }, L = void 0;
          y ? L = y({ value: E }) : L = E !== void 0 && dq(E) ? this.formatLabelValue(E) : "";
          var B = P + I / 2, j = void 0, J = "middle", U = void 0, Y = E !== void 0 && E >= 0, X = 4;
          if (m === no.Center)
            j = M + N / 2, U = "center";
          else if (m === no.OutsideEnd)
            j = M + (Y ? N + X : -X), U = Y ? "start" : "end";
          else if (m === no.InsideEnd) {
            j = M + (Y ? N - X : X), U = Y ? "end" : "start";
            var ne = wt.getTextSize(L, v), K = ne.width || 20, ee = S + K, ie = S - K, le = Y && j < ee || !Y && j > ie;
            le && (j = S + X * (Y ? 1 : -1), U = Y ? "start" : "end");
          } else
            j = S + X * (Y ? 1 : -1), U = Y ? "start" : "end";
          C.push({
            x: M,
            y: P,
            width: N,
            height: I,
            fill: l,
            stroke: u,
            strokeWidth: c,
            seriesDatum: { x: D, y: x ? void 0 : E },
            point: k,
            label: {
              x: j,
              y: B,
              text: L,
              fontStyle: p,
              fontWeight: h,
              fontSize: f,
              fontFamily: v,
              textAlign: U,
              textBaseline: J,
              fill: g
            }
          });
        }
        return C;
      }
    }, t.prototype.getDistance = function(e, r) {
      return Math.abs(e.y - r.y);
    }, t.className = "BarSparkline", t;
  }(gT)
), hq = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), fq = mr, L0 = Tr, vq = (
  /** @class */
  function(o) {
    hq(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.updateYScaleRange = function() {
      var e = this, r = e.seriesRect, n = e.yScale;
      n.range = [r.height, 0];
    }, t.prototype.updateXScaleRange = function() {
      var e = this, r = e.xScale, n = e.seriesRect, i = e.paddingOuter, a = e.paddingInner;
      if (r instanceof L0)
        r.range = [0, n.width], r.paddingInner = a, r.paddingOuter = i;
      else {
        var s = this.calculateStep(n.width), l = s * i;
        this.bandWidth = s * (1 - a), r.range = [l, n.width - l - this.bandWidth];
      }
    }, t.prototype.updateAxisLine = function() {
      var e = this, r = e.yScale, n = e.axis, i = e.axisLine, a = e.seriesRect, s = n.strokeWidth;
      i.x1 = 0, i.x2 = a.width, i.y1 = 0, i.y2 = 0, i.stroke = n.stroke, i.strokeWidth = s + (s % 2 === 1 ? 1 : 0);
      var l = r.convert(0);
      i.translationY = l;
    }, t.prototype.generateNodeData = function() {
      var e = this, r = e.data, n = e.yData, i = e.xData, a = e.xScale, s = e.yScale, l = e.fill, u = e.stroke, c = e.strokeWidth, d = e.label;
      if (r) {
        for (var p = d.fontStyle, h = d.fontWeight, f = d.fontSize, v = d.fontFamily, g = d.color, y = d.formatter, m = d.placement, C = [], S = s.convert(0), b = !(a instanceof L0), _ = 0, O = n.length; _ < O; _++) {
          var E = n[_], D = i[_], x = E === void 0;
          x && (E = 0);
          var P = Math.min(E === void 0 ? NaN : s.convert(E), S), M = a.convert(b ? a.toDomain(D) : D), F = Math.max(E === void 0 ? NaN : s.convert(E), S), I = b ? this.bandWidth : a.bandwidth, N = F - P, k = {
            x: M + I / 2,
            y: S
          }, L = void 0;
          y ? L = y({ value: E }) : L = E !== void 0 && fq(E) ? this.formatLabelValue(E) : "";
          var B = M + I / 2, j = void 0, J = "center", U = void 0, Y = E !== void 0 && E >= 0, X = 2;
          if (m === no.Center)
            j = P + N / 2, U = "middle";
          else if (m === no.OutsideEnd)
            j = P + (Y ? -X : N + X), U = Y ? "bottom" : "top";
          else if (m === no.InsideEnd) {
            j = P + (Y ? X : N - X), U = Y ? "top" : "bottom";
            var ne = wt.getTextSize(L, v), K = ne.height || 10, ee = S - K, ie = S + K, le = Y && j > ee || !Y && j < ie;
            le && (j = S + X * (Y ? -1 : 1), U = Y ? "bottom" : "top");
          } else
            j = S + X * (Y ? -1 : 1), U = Y ? "bottom" : "top";
          C.push({
            x: M,
            y: P,
            width: I,
            height: N,
            fill: l,
            stroke: u,
            strokeWidth: c,
            seriesDatum: { x: D, y: x ? void 0 : E },
            point: k,
            label: {
              x: B,
              y: j,
              text: L,
              fontStyle: p,
              fontWeight: h,
              fontSize: f,
              fontFamily: v,
              textAlign: J,
              textBaseline: U,
              fill: g
            }
          });
        }
        return C;
      }
    }, t.className = "ColumnSparkline", t;
  }(gT)
), gq = mr, yq = (
  /** @class */
  function() {
    function o() {
    }
    return o.create = function(t, e) {
      t = xt([t]);
      var r = mq(t.type);
      return e && (r.tooltip = e), Sq(r, t), Cq(r, t), t.data && (r.data = t.data), r.processedOptions = t, r;
    }, o;
  }()
);
function mq(o) {
  switch (o === void 0 && (o = "line"), o) {
    case "column":
      return new vq();
    case "bar":
      return new pq();
    case "area":
      return new eq();
    case "line":
    default:
      return new aq();
  }
}
function Cq(o, t) {
  switch (t.type) {
    case "bar":
      N0(o, t);
      break;
    case "column":
      N0(o, t);
      break;
    case "area":
      _q(o, t);
      break;
    case "line":
    default:
      wq(o, t);
      break;
  }
}
function Sq(o, t) {
  xe(o, "context", t.context, t), xe(o, "width", t.width, t), xe(o, "height", t.height, t), xe(o, "container", t.container, t), xe(o, "xKey", t.xKey, t), xe(o, "yKey", t.yKey, t), t.padding && bq(o.padding, t.padding), t.axis && Oq(o.axis, t.axis), t.highlightStyle && xq(o.highlightStyle, t.highlightStyle);
}
function wq(o, t) {
  t.marker && yT(o.marker, t.marker), t.line && mT(o.line, t.line), t.crosshairs && CT(o.crosshairs, t.crosshairs);
}
function _q(o, t) {
  xe(o, "fill", t.fill, t), t.marker && yT(o.marker, t.marker), t.line && mT(o.line, t.line), t.crosshairs && CT(o.crosshairs, t.crosshairs);
}
function N0(o, t) {
  xe(o, "valueAxisDomain", t.valueAxisDomain, t), xe(o, "fill", t.fill, t), xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t), xe(o, "paddingInner", t.paddingInner, t), xe(o, "paddingOuter", t.paddingOuter, t), xe(o, "formatter", t.formatter, t), t.label && Eq(o.label, t.label);
}
function bq(o, t) {
  xe(o, "top", t.top, t), xe(o, "right", t.right, t), xe(o, "bottom", t.bottom, t), xe(o, "left", t.left, t);
}
function yT(o, t) {
  xe(o, "enabled", t.enabled, t), xe(o, "size", t.size, t), xe(o, "shape", t.shape, t), xe(o, "fill", t.fill, t), xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t), xe(o, "formatter", t.formatter, t);
}
function Eq(o, t) {
  xe(o, "enabled", t.enabled, t), xe(o, "fontStyle", t.fontStyle, t), xe(o, "fontWeight", t.fontWeight, t), xe(o, "fontSize", t.fontSize, t), xe(o, "fontFamily", t.fontFamily, t), xe(o, "textAlign", t.textAlign, t), xe(o, "textBaseline", t.textBaseline, t), xe(o, "color", t.color, t), xe(o, "formatter", t.formatter, t), xe(o, "placement", t.placement, t);
}
function mT(o, t) {
  xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t);
}
function Oq(o, t) {
  xe(o, "type", t.type, t), xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t);
}
function xq(o, t) {
  xe(o, "fill", t.fill, t), xe(o, "size", t.size, t), xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t);
}
function CT(o, t) {
  o.xLine && t.xLine && G0(o.xLine, t.xLine), o.yLine && t.yLine && G0(o.yLine, t.yLine);
}
function G0(o, t) {
  xe(o, "enabled", t.enabled, t), xe(o, "stroke", t.stroke, t), xe(o, "strokeWidth", t.strokeWidth, t), xe(o, "lineDash", t.lineDash, t), xe(o, "lineCap", t.lineCap, t);
}
var k0 = {};
function Tq(o, t) {
  k0[t] || (o(), k0[t] = !0);
}
var V0 = function(o, t, e) {
  if (gq(t))
    return !0;
  var r = "AG Charts: " + o + " must be a number, the value you provided is not a valid number. Using the default of " + e + "px.";
  return Tq(function() {
    return console.warn(r);
  }, o + " not a number"), !1;
}, Rq = {
  xOffset: V0,
  yOffset: V0
};
function xe(o, t, e, r) {
  if (t in r)
    if (t in o) {
      var n = Rq[t], i = n ? n(t, e, o[t]) : !0;
      i && o[t] !== e && (o[t] = e);
    } else
      console.warn("Property " + t + " does not exist on the target object.");
}
var Dq = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), qy = function() {
  return qy = Object.assign || function(o) {
    for (var t, e = 1, r = arguments.length; e < r; e++) {
      t = arguments[e];
      for (var n in t)
        Object.prototype.hasOwnProperty.call(t, n) && (o[n] = t[n]);
    }
    return o;
  }, qy.apply(this, arguments);
}, Ug = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Pq = (
  /** @class */
  function(o) {
    Dq(t, o);
    function t() {
      return o.call(this, t.TEMPLATE) || this;
    }
    return t.prototype.init = function(e) {
      var r = this, n = !0, i = function() {
        var s = r.getGui(), l = s.clientWidth, u = s.clientHeight;
        if (!(l === 0 || u === 0))
          if (n) {
            var c = qy({ data: e.value, width: l, height: u, context: {
              data: e.data
            } }, e.sparklineOptions);
            r.sparkline = yq.create(c, r.sparklineTooltipSingleton.getSparklineTooltip()), r.eSparkline.appendChild(r.sparkline.canvasElement), n = !1;
          } else
            r.sparkline.width = l, r.sparkline.height = u;
      }, a = this.resizeObserverService.observeResize(this.getGui(), i);
      this.addDestroyFunc(function() {
        return a();
      });
    }, t.prototype.refresh = function(e) {
      return this.sparkline ? (this.sparkline.data = e.value, !0) : !1;
    }, t.prototype.destroy = function() {
      this.sparkline && this.sparkline.destroy(), o.prototype.destroy.call(this);
    }, t.TEMPLATE = `<div class="ag-sparkline-wrapper">
            <span ref="eSparkline"></span>
        </div>`, Ug([
      G("eSparkline")
    ], t.prototype, "eSparkline", void 0), Ug([
      w("resizeObserverService")
    ], t.prototype, "resizeObserverService", void 0), Ug([
      w("sparklineTooltipSingleton")
    ], t.prototype, "sparklineTooltipSingleton", void 0), t;
  }(te)
), Aq = function() {
  var o = function(t, e) {
    return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
      r.__proto__ = n;
    } || function(r, n) {
      for (var i in n)
        Object.prototype.hasOwnProperty.call(n, i) && (r[i] = n[i]);
    }, o(t, e);
  };
  return function(t, e) {
    if (typeof e != "function" && e !== null)
      throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    o(t, e);
    function r() {
      this.constructor = t;
    }
    t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r());
  };
}(), zg = function(o, t, e, r) {
  var n = arguments.length, i = n < 3 ? t : r === null ? r = Object.getOwnPropertyDescriptor(t, e) : r, a;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    i = Reflect.decorate(o, t, e, r);
  else
    for (var s = o.length - 1; s >= 0; s--)
      (a = o[s]) && (i = (n < 3 ? a(i) : n > 3 ? a(t, e, i) : a(t, e)) || i);
  return n > 3 && i && Object.defineProperty(t, e, i), i;
}, Mq = (
  /** @class */
  function(o) {
    Aq(t, o);
    function t() {
      return o !== null && o.apply(this, arguments) || this;
    }
    return t.prototype.postConstruct = function() {
      this.tooltip = new yl();
    }, t.prototype.getSparklineTooltip = function() {
      return this.tooltip;
    }, t.prototype.destroyTooltip = function() {
      this.tooltip && this.tooltip.destroy();
    }, zg([
      V
    ], t.prototype, "postConstruct", null), zg([
      rt
    ], t.prototype, "destroyTooltip", null), t = zg([
      q("sparklineTooltipSingleton")
    ], t), t;
  }(W)
), Iq = "30.0.6", Fq = {
  version: Iq,
  moduleName: Z.SparklinesModule,
  beans: [Mq],
  userComponents: [{ componentName: "agSparklineCellRenderer", componentClass: Pq }],
  dependantModules: [cr]
};
const Lq = [
  NB,
  zH,
  o3,
  v3,
  B8,
  z8,
  o9,
  c9,
  nT,
  g9,
  JE,
  J9,
  f7,
  Qm,
  M7,
  k7,
  Fq
];
de.registerModules(Lq);
process.env.NODE_ENV !== "production" && Object.freeze({});
process.env.NODE_ENV !== "production" && Object.freeze([]);
const Nq = (o) => typeof o == "symbol", Gq = (o, t, e) => {
  Object.defineProperty(o, t, {
    configurable: !0,
    enumerable: !1,
    value: e
  });
};
Symbol(process.env.NODE_ENV !== "production" ? "iterate" : "");
Symbol(process.env.NODE_ENV !== "production" ? "Map key iterate" : "");
new Set(
  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((o) => o !== "arguments" && o !== "caller").map((o) => Symbol[o]).filter(Nq)
);
function Zp(o) {
  const t = o && o.__v_raw;
  return t ? Zp(t) : o;
}
function Kg(o) {
  return Gq(o, "__v_skip", !0), o;
}
class rd {
  static getComponentDefinition(t, e) {
    let r;
    return typeof t == "string" ? r = this.searchForComponentInstance(e, t) : r = { extends: Ae(Object.assign({}, t)) }, r || console.error(`Could not find component with name of ${t}. Is it in Vue.components?`), r.extends ? (r.extends.setup && (r.setup = r.extends.setup), r.extends.props = this.addParamsToProps(r.extends.props)) : r.props = this.addParamsToProps(r.props), r;
  }
  static addParamsToProps(t) {
    return !t || Array.isArray(t) && t.indexOf("params") === -1 ? t = ["params", ...t || []] : typeof t == "object" && !t.params && (t.params = {
      type: Object
    }), t;
  }
  static createAndMountComponent(t, e, r, n) {
    const i = rd.getComponentDefinition(t, r);
    if (!i)
      return;
    const { vNode: a, destroy: s, el: l } = this.mount(i, { params: Object.freeze(e) }, r, n || {});
    return {
      componentInstance: a.component.proxy,
      element: l,
      destroy: s
    };
  }
  static mount(t, e, r, n) {
    let i = ge(t, e);
    i.appContext = r.$.appContext, i.appContext.provides = Object.assign(Object.assign(Object.assign({}, n), i.appContext.provides ? i.appContext.provides : {}), r.$parent.$options.provide ? r.$parent.$options.provide : {});
    let a = document.createElement("div");
    return AC(i, a), { vNode: i, destroy: () => {
      a && AC(null, a), a = null, i = null;
    }, el: a };
  }
  static searchForComponentInstance(t, e, r = 10, n = !1) {
    let i = null, a = t.$parent, s = 0;
    for (; !i && a && a.$options && ++s < r; ) {
      const l = a;
      i = l.$options && l.$options.components ? l.$options.components[e] : null, a = a.$parent;
    }
    if (!i) {
      const l = t.$.appContext.components;
      l && l[e] && (i = l[e]);
    }
    return !i && !n ? (console.error(`Could not find component with name of ${e}. Is it in Vue.components?`), null) : i;
  }
}
class kc extends HV {
  constructor(t, e) {
    super(), this.parent = t, kc.provides || (kc.provides = e);
  }
  createWrapper(t) {
    const e = this;
    class r extends kq {
      init(a) {
        super.init(a);
      }
      hasMethod(a) {
        return n.getFrameworkComponentInstance()[a] != null;
      }
      callMethod(a, s) {
        const l = this.getFrameworkComponentInstance();
        return n.getFrameworkComponentInstance()[a].apply(l, s);
      }
      addMethod(a, s) {
        n[a] = s;
      }
      overrideProcessing(a) {
        return e.parent.autoParamsRefresh && a === "refresh";
      }
      processMethod(a, s) {
        return a === "refresh" && (this.getFrameworkComponentInstance().params = s[0]), this.hasMethod(a) ? this.callMethod(a, s) : a === "refresh";
      }
      createComponent(a) {
        return e.createComponent(t, a);
      }
    }
    const n = new r();
    return n;
  }
  createComponent(t, e) {
    return rd.createAndMountComponent(t, e, this.parent, kc.provides);
  }
  createMethodProxy(t, e, r) {
    return function() {
      return t.overrideProcessing(e) ? t.processMethod(e, arguments) : t.hasMethod(e) ? t.callMethod(e, arguments) : (r && console.warn("AG Grid: Framework component is missing the method " + e + "()"), null);
    };
  }
  destroy() {
    this.parent = null;
  }
}
class kq {
  getGui() {
    return this.element;
  }
  destroy() {
    this.getFrameworkComponentInstance() && typeof this.getFrameworkComponentInstance().destroy == "function" && this.getFrameworkComponentInstance().destroy(), this.unmount();
  }
  getFrameworkComponentInstance() {
    return this.componentInstance;
  }
  init(t) {
    const { componentInstance: e, element: r, destroy: n } = this.createComponent(t);
    this.componentInstance = e, this.unmount = n, this.element = r.firstElementChild;
  }
}
const Vq = (o) => o.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), Bq = (o) => `on${o.charAt(0).toUpperCase()}${o.substring(1, o.length)}`, Hq = () => {
  const o = {};
  Uo.PUBLIC_EVENTS.map((r) => Bq(Vq(r))).forEach((r) => o[r] = void 0);
  const e = {};
  return Uo.ALL_PROPERTIES.filter((r) => r != "gridOptions").forEach((r) => {
    o[r] = {}, e[r] = {
      handler(n, i) {
        this.processChanges(r, n, i);
      },
      deep: r !== "popupParent" && r !== "context"
    };
  }), [o, e];
};
class jq extends WE {
  constructor(t) {
    super(), this.parent = t;
  }
  /*
   * vue components are specified in the "components" part of the vue component - as such we need a way to determine
   * if a given component is within that context - this method provides this
   * Note: This is only really used/necessary with cellRendererSelectors
   */
  frameworkComponent(t, e) {
    let r = rd.searchForComponentInstance(this.parent, t, 10, !0) ? t : null;
    if (!r && e && e[t]) {
      const n = e[t];
      r = rd.searchForComponentInstance(this.parent, n, 10, !0) ? n : null;
    }
    return r;
  }
  isFrameworkComponent(t) {
    return typeof t == "object";
  }
}
const Wq = ["rowDataChanged", "rowDataUpdated", "cellValueChanged", "rowValueChanged"], B0 = "onUpdate:modelValue", $q = "update:modelValue", [Uq, zq] = Hq(), Kq = Ae({
  render() {
    return xT("div");
  },
  props: Object.assign({ gridOptions: {
    type: Object,
    default: () => ({})
  }, autoParamsRefresh: {
    type: Boolean,
    default: () => !1
  }, componentDependencies: {
    type: Array,
    default: () => []
  }, plugins: [], modules: {
    type: Array,
    default: () => []
  }, modelValue: {
    type: Array,
    default: void 0,
    required: !1
  } }, Uq),
  data() {
    return {
      gridCreated: !1,
      isDestroyed: !1,
      gridReadyFired: !1,
      emitRowModel: void 0
    };
  },
  watch: Object.assign({ modelValue: {
    handler(o, t) {
      this.processChanges("rowData", o, t);
    },
    deep: !0
  } }, zq),
  methods: {
    globalEventListener(o, t) {
      this.isDestroyed || (o === "gridReady" && (this.gridReadyFired = !0), this.updateModelIfUsed(o));
    },
    processChanges(o, t, e) {
      if (this.gridCreated) {
        if (this.skipChange(o, t, e))
          return;
        const r = {};
        r[o] = {
          // decouple the row data - if we don't when the grid changes row data directly that'll trigger this component to react to rowData changes,
          // which can reset grid state (ie row selection)
          currentValue: o === "rowData" ? Object.isFrozen(t) ? t : Kg(Zp(t)) : t,
          previousValue: e
        }, Uo.processOnChange(r, this.gridOptions.api);
      }
    },
    checkForBindingConflicts() {
      const o = this;
      (o.rowData || this.gridOptions.rowData) && o.modelValue && console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.");
    },
    getRowData() {
      const o = [];
      return this.gridOptions.api.forEachNode((t) => {
        o.push(t.data);
      }), o;
    },
    updateModelIfUsed(o) {
      this.gridReadyFired && this.$attrs[B0] && Wq.indexOf(o) !== -1 && this.emitRowModel && this.emitRowModel();
    },
    getRowDataBasedOnBindings() {
      const o = this, t = o.modelValue;
      return t || (o.rowData ? o.rowData : o.gridOptions.rowData);
    },
    getProvides() {
      let o = TT(), t = {};
      for (; o; )
        o && o.provides && (t = Object.assign(Object.assign({}, t), o.provides)), o = o.parent;
      return t;
    },
    /*
    * Prevents an infinite loop when using v-model for the rowData
    */
    skipChange(o, t, e) {
      if (this.gridReadyFired && o === "rowData" && this.$attrs[B0]) {
        if (t === e)
          return !0;
        if (t && e) {
          const r = t, n = e;
          if (r.length === n.length) {
            for (let i = 0; i < r.length; i++)
              if (r[i] !== n[i])
                return !1;
            return !0;
          }
        }
      }
      return !1;
    },
    debounce(o, t) {
      let e;
      return () => {
        const r = function() {
          o();
        };
        window.clearTimeout(e), e = window.setTimeout(r, t);
      };
    }
  },
  mounted() {
    this.emitRowModel = this.debounce(() => {
      this.$emit($q, Object.freeze(this.getRowData()));
    }, 20);
    const o = this.getProvides(), t = new kc(this, o), e = Kg(Uo.copyAttributesToGridOptions(Zp(this.gridOptions), this, !0));
    this.checkForBindingConflicts();
    const r = this.getRowDataBasedOnBindings();
    e.rowData = r && (Object.isFrozen(r) ? r : Kg(Zp(r)));
    const n = {
      globalEventListener: this.globalEventListener.bind(this),
      frameworkOverrides: new jq(this),
      providedBeanInstances: {
        frameworkComponentWrapper: t
      },
      modules: this.modules
    };
    new UE(this.$el, e, n), this.gridCreated = !0;
  },
  unmounted() {
    this.gridCreated && (this.gridOptions.api && this.gridOptions.api.destroy(), this.isDestroyed = !0);
  }
});
const Yq = {
  data() {
    return {
      QIcon: Ri,
      QItem: K0,
      QMenu: z0,
      QList: X0,
      QItemSection: Y0,
      ClosePopup: q0,
      mdiSortAscending: Qp,
      mdiSortDescending: Jp,
      mdiChevronDown: J0,
      mdiMagnify: uf,
      mdiFilterOutline: JT,
      ascSort: null,
      descSort: null,
      noSort: "active",
      filterActive: !1
    };
  },
  mounted() {
    this.params.column.addEventListener("sortChanged", this.onSortChanged), this.params.column.addEventListener("filterChanged", this.onFilterChanged), this.onSortChanged();
  },
  beforeUnmount() {
    this.params.column.removeEventListener("sortChanged", this.onSortChanged), this.params.column.removeEventListener("filterChanged", this.onFilterChanged);
  },
  computed: {
    sortColIcon() {
      return this.descSort === "active" ? Qp : Jp;
    },
    sortText() {
      return this.descSort === "active" ? "descending" : "ascending";
    }
  },
  methods: {
    searchColumn() {
      this.params.showColumnMenu(this.$refs.menuButton);
    },
    onSortChanged() {
      this.ascSort = this.descSort = this.noSort = "inactive", this.params.column.isSortAscending() ? this.ascSort = "active" : this.params.column.isSortDescending() ? this.descSort = "active" : this.noSort = "active";
    },
    onSortRequested(o) {
      let t = this.noSort === "active" ? "asc" : this.ascSort === "active" ? "desc" : "";
      this.params.setSort(t, o.shiftKey);
    },
    onFilterChanged() {
      this.filterActive = this.params.column.filterActive;
    }
  }
}, Xq = (o) => (us("data-v-6f1952c3"), o = o(), cs(), o), qq = { class: "bs-grid-header-container" }, Zq = { class: "bs-grid-col-header-title-container" }, Qq = { class: "bs-grid-col-header-title" }, Jq = {
  key: 1,
  class: "bs-grid-col-header-title-icon",
  ref: "menuButton"
}, eZ = /* @__PURE__ */ Xq(() => /* @__PURE__ */ _e("div", null, "Filter", -1)), tZ = {
  key: 0,
  class: "bs-grid-col-header-data-type"
};
function rZ(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("q-item-section"), l = ce("q-item"), u = ce("q-list"), c = ce("q-menu"), d = Jy("close-popup");
  return se(), Ge("div", qq, [
    _e("div", Zq, [
      _e("div", Qq, Ot(o.params.displayName), 1),
      n.filterActive ? (se(), be(a, {
        key: 0,
        name: n.mdiFilterOutline,
        size: "1rem"
      }, null, 8, ["name"])) : Re("", !0),
      o.params.enableMenu ? (se(), Ge("div", Jq, [
        ge(a, {
          name: n.mdiChevronDown,
          size: "1rem"
        }, {
          default: he(() => [
            ge(c, {
              anchor: "bottom middle",
              self: "top middle",
              "transition-show": "scale",
              "transition-hide": "scale",
              offset: [0, 10]
            }, {
              default: he(() => [
                ge(u, {
                  ref: "BsGridColHeaderActions",
                  class: "bs-grid-col-header-actions q-py-xs q-px-sm rounded-borders"
                }, {
                  default: he(() => [
                    o.params.enableSorting ? (se(), be(l, { key: 0 }, {
                      default: he(() => [
                        ge(s, null, {
                          default: he(() => [
                            _e("div", {
                              class: "bs-grid-col-header-action-section cursor-pointer",
                              onClick: t[0] || (t[0] = (...p) => i.onSortRequested && i.onSortRequested(...p))
                            }, [
                              ge(a, {
                                name: i.sortColIcon,
                                size: "0.8rem",
                                class: qr(["sort-icon", {
                                  sorted: n.noSort === "inactive"
                                }])
                              }, null, 8, ["name", "class"]),
                              _e("div", null, "Sort " + Ot(i.sortText), 1)
                            ])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })) : Re("", !0),
                    qo((se(), be(l, null, {
                      default: he(() => [
                        ge(s, null, {
                          default: he(() => [
                            _e("div", {
                              class: "bs-grid-col-header-action-section cursor-pointer",
                              onClick: t[1] || (t[1] = (...p) => i.searchColumn && i.searchColumn(...p))
                            }, [
                              ge(a, {
                                name: n.mdiMagnify,
                                size: "0.8rem"
                              }, null, 8, ["name"]),
                              eZ
                            ])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })), [
                      [d]
                    ])
                  ]),
                  _: 1
                }, 512)
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["name"])
      ], 512)) : Re("", !0)
    ]),
    o.params.column.colDef.dataType ? (se(), Ge("div", tZ, Ot(o.params.column.colDef.dataType), 1)) : Re("", !0)
  ]);
}
const nZ = /* @__PURE__ */ Le(Yq, [["render", rZ], ["__scopeId", "data-v-6f1952c3"]]), iZ = Ae({
  components: { QInput: lf, QIcon: Ri },
  props: {
    params: { required: !0, type: Object }
  },
  data() {
    return {
      currentValue: null,
      mdiTrashCanOutline: rm
    };
  },
  methods: {
    onInputBoxChanged(o) {
      if (this.currentValue = o, this.currentValue === "") {
        this.params.parentFilterInstance((t) => {
          t.onFloatingFilterChanged(null, null);
        });
        return;
      }
      this.params.parentFilterInstance((t) => {
        t.onFloatingFilterChanged("contains", this.currentValue);
      });
    },
    onParentModelChanged(o) {
      o ? this.currentValue = o.filter : this.currentValue = "";
    },
    clearField() {
      this.onInputBoxChanged(""), this.params.column.colDef.floatingFilter = !1, setTimeout(() => {
        this.params.columnApi.resetColumnState();
      }, 0), console.log(this.params.column);
    }
  }
});
const oZ = { class: "bs-search-grid-col-search-box" };
function aZ(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("QInput");
  return se(), Ge("div", oZ, [
    ge(s, {
      class: "bs-search-grid-col-input",
      "model-value": o.currentValue,
      "onUpdate:modelValue": o.onInputBoxChanged,
      clearable: "",
      "clear-icon": "close",
      borderless: "",
      dense: "",
      "format-input": "",
      autofocus: ""
    }, {
      prepend: he(() => [
        ge(a, {
          name: "search",
          size: "1rem"
        })
      ]),
      _: 1
    }, 8, ["model-value", "onUpdate:modelValue"]),
    _e("div", null, [
      ge(a, {
        name: o.mdiTrashCanOutline,
        onClick: o.clearField,
        size: "1rem",
        class: "cursor-pointer"
      }, null, 8, ["name", "onClick"])
    ])
  ]);
}
const sZ = /* @__PURE__ */ Le(iZ, [["render", aZ]]), H0 = /* @__PURE__ */ new Map([
  ["string", "text"],
  ["int", "number"],
  ["bigint", "number"],
  ["smallint", "number"],
  ["tinyint", "number"],
  ["float", "number"],
  ["double", "number"],
  ["boolean", "boolean"],
  ["date", "datestring"],
  ["object", "object"],
  ["map", "object"],
  ["array", "object"],
  ["default", "text"]
]), j0 = /* @__PURE__ */ new Map([
  ["text", "agTextColumnFilter"],
  ["number", "agNumberColumnFilter"],
  ["date", "agDateColumnFilter"],
  ["default", "agTextColumnFilter"]
]), lZ = /* @__PURE__ */ new Map([
  ["number", "numericColumn"],
  ["right", "rightAligned"],
  ["left", "leftAligned"]
]);
var Cc = /* @__PURE__ */ ((o) => (o.clientSide = "clientSide", o.serverSide = "serverSide", o))(Cc || {});
const Zy = "dss-index";
var Qy = /* @__PURE__ */ ((o) => (o.Equals = "equals", o.NotEqual = "notEqual", o.Contains = "contains", o.NotContains = "notContains", o.StartsWith = "startsWith", o.EndsWith = "endsWith", o.Blank = "blank", o.NotBlank = "notBlank", o.LessThan = "lessThan", o.LessThanOrEqual = "lessThanOrEqual", o.GreaterThan = "greaterThan", o.GreaterThanOrEqual = "greaterThanOrEqual", o.InRange = "inRange", o))(Qy || {});
class uZ {
  static build(t) {
    var e, r;
    return t.type === Qy.InRange ? {
      filterType: Qy.InRange,
      value: t.filter.toString(),
      toValue: (e = t.filterTo) == null ? void 0 : e.toString(),
      valueType: t.filterType
    } : {
      value: ((r = t.filter) == null ? void 0 : r.toString()) || "",
      filterType: t.type
    };
  }
  static createFilters(t) {
    return Object.entries(t).reduce((e, [r, n]) => (e[r] = n.conditions ? this.createConditionFilters(n) : this.build(n), e), {});
  }
  static createConditionFilters(t) {
    return t.conditions.map((e) => {
      let r = this.build(e);
      return r.operator = t.operator.toLowerCase(), r;
    });
  }
}
class nd {
  static isGroupKey(t, e) {
    return (e || []).indexOf(t) >= 0;
  }
  static transformDatasetRowsToGridRows(t, e, r, n) {
    let i = [];
    if (t === "None" || typeof t == "string")
      return i;
    const a = Object.values(t)[0], s = Object.keys(a);
    for (let l of s) {
      let u = {};
      e.forEach((c) => {
        r && nd.isGroupKey(c.field, n) || !r ? u[c.field] = t[c.field][l] : u[c.field] = null, u[Zy] = l;
      }), i.push(u);
    }
    return i;
  }
  static createBsGridCol(t, e) {
    const r = H0.get(t.dataType) || H0.get("default"), n = lZ.get(r) || [], i = j0.get(r) || j0.get("default"), a = nd.isGroupKey(t.name, e);
    return {
      headerName: t.name,
      field: t.name,
      type: n,
      filter: i,
      dataType: t.dataType,
      rowGroup: a,
      hide: a
    };
  }
}
const cZ = "leaf", dZ = Ae({
  name: "BsGrid",
  components: {
    AgGridVue: Kq,
    agColumnHeader: nZ,
    BsGridSearchColVue: sZ,
    QInput: lf,
    QIcon: Ri,
    QBtn: ds
  },
  props: {
    columns: {
      type: Array,
      required: !1
    },
    rows: {
      type: Array,
      required: !1
    },
    isLoading: {
      type: Boolean,
      default: !1
    },
    virtualScroll: {
      type: Boolean,
      default: !1
    },
    pageSize: {
      type: Number,
      default: 100
    },
    cacheBlockSize: {
      type: Number,
      default: 100
    },
    rowId: {
      type: String,
      default: Zy
    },
    dssTableName: {
      type: String,
      default: null
    },
    filters: {
      type: Object,
      default: () => ({})
    },
    title: {
      type: String,
      default: null
    },
    rowSelection: {
      type: String,
      default: null
    },
    groupKeys: {
      type: Array,
      default: () => []
    },
    groupName: {
      type: String,
      default: null
    },
    saveSelectionState: {
      type: Boolean,
      default: !1
    }
  },
  emits: [
    "update:rows",
    "update:columns",
    "update:loading",
    "update:selection-state",
    "error"
  ],
  data() {
    return {
      mdiTrashCanOutline: rm,
      rowHeight: 36,
      headerHeight: 51,
      columnDefs: [],
      filterGridText: "",
      datasetColumns: void 0,
      datasetRows: void 0,
      params: void 0,
      gridApi: void 0,
      autoGroupColumnDef: void 0,
      loading: !1,
      rowModelType: this.dssTableName ? Cc.serverSide : Cc.clientSide,
      rowData: void 0,
      dataSource: void 0,
      selectionState: {
        selectAllChildren: !1,
        toggledNodes: []
      },
      isComponentAlive: !0,
      hasFilters: !1
    };
  },
  computed: {
    isDataClientSide() {
      return this.rowModelType === Cc.clientSide;
    }
  },
  watch: {
    datasetColumns(o) {
      this.$emit("update:columns", o);
    },
    datasetRows(o) {
      this.$emit("update:rows", o);
    },
    dssTableName() {
      this.fetchDatasetColumns(), this.rowModelType = Cc.serverSide;
    },
    filters() {
      this.dssTableName && this.refreshData();
    },
    saveSelectionState() {
      var o;
      this.selectionState = (o = this.gridApi) == null ? void 0 : o.getServerSideSelectionState(), this.$emit("update:selection-state", this.selectionState);
    }
  },
  mounted() {
    var o;
    this.dssTableName ? (this.fetchDatasetColumns(), this.dataSource = this.createDataSource()) : (this.columnDefs = this.columns, this.rowData = (o = this.rows) == null ? void 0 : o.map((t, e) => ca(Kt({}, t), { [Zy]: e }))), this.prepareGridColStyle();
  },
  beforeUnmount() {
    var o, t;
    this.isComponentAlive = !1, (t = (o = this.params) == null ? void 0 : o.api) == null || t.removeEventListener("filterChanged", this.onFilterChanged);
  },
  methods: {
    onFilterChanged() {
      var o, t;
      this.hasFilters = ((t = (o = this.params) == null ? void 0 : o.api) == null ? void 0 : t.isAnyFilterPresent()) || !1;
    },
    updateLoadingState(o) {
      this.loading = o, this.$emit("update:loading", o);
    },
    onGridReady(o) {
      var t, e;
      this.params = o, this.gridApi = o.api, (e = (t = this.params) == null ? void 0 : t.api) == null || e.addEventListener("filterChanged", this.onFilterChanged), this.autoSizeColumns(), this.updateLoadingState(!1);
    },
    autoSizeColumns() {
      var t, e, r;
      const o = [];
      (r = (e = (t = this.params) == null ? void 0 : t.columnApi) == null ? void 0 : e.getColumns()) == null || r.forEach((n) => {
        o.push(n.getId());
      }), this.params.columnApi.autoSizeColumns(o, !1);
    },
    fetchDatasetColumns() {
      return Sd(this, null, function* () {
        this.updateLoadingState(!0);
        try {
          const { schema: o } = yield Xa.getDatasetGenericData(this.dssTableName);
          this.isComponentAlive && (this.datasetColumns = o.columns.map(
            (t) => nd.createBsGridCol(
              {
                name: t.name,
                dataType: t.type
              },
              this.groupKeys
            )
          ), this.columnDefs = this.datasetColumns);
        } catch (o) {
          this.handleError("Failed to fetch columns: " + o);
        } finally {
          this.isComponentAlive && (this.updateLoadingState(!1), this.autoSizeColumns());
        }
      });
    },
    handleError(o) {
      console.log("got error:", o), this.$emit("error", o);
    },
    refreshData() {
      var o;
      (o = this.gridApi) == null || o.refreshServerSide({ route: void 0, purge: !0 });
    },
    isDoingGrouping(o) {
      return o.rowGroupCols.length > o.groupKeys.length;
    },
    currentPageIndex(o) {
      return o.startRow && this.pageSize > 0 ? o.startRow / this.pageSize : void 0;
    },
    createDataSource() {
      return {
        getRows: (o) => Sd(this, null, function* () {
          this.updateLoadingState(!0);
          try {
            const t = o.request, e = uZ.createFilters(
              t.filterModel
            ), r = yield Xa.getFilteredDataset(
              this.dssTableName,
              this.pageSize,
              this.currentPageIndex(t),
              this.filters,
              this.groupKeys,
              t.groupKeys,
              t.sortModel,
              e
            );
            this.datasetRows = nd.transformDatasetRowsToGridRows(
              r,
              this.datasetColumns,
              this.isDoingGrouping(t),
              this.groupKeys
            ), o.success({ rowData: this.datasetRows });
          } catch (t) {
            this.handleError(`Failed to fetch rows: ${t}`), o.fail();
          } finally {
            this.updateLoadingState(!1), this.autoSizeColumns();
          }
        })
      };
    },
    getRowId(o) {
      return o.level > 0 ? cZ + o.level + "-" + o.data[this.rowId] : o.data[this.rowId];
    },
    prepareGridColStyle() {
      const o = this.$refs.agGrid;
      o.gridOptions.defaultColDef = {
        flex: 1,
        headerComponentParams: { enableMenu: !0 },
        sortable: !0,
        filter: !0,
        menuTabs: ["filterMenuTab"]
      }, this.groupKeys && this.groupKeys.length >= 1 && (this.autoGroupColumnDef = {
        flex: 1,
        headerName: this.groupName || "Group",
        field: this.groupKeys[this.groupKeys.length - 1],
        filter: "agGroupColumnFilter",
        hide: !0,
        minWidth: 250,
        cellRenderer: "agGroupCellRenderer",
        cellRendererParams: {
          checkbox: !0
        },
        headerCheckboxSelection: this.rowSelection === "multiple",
        headerCheckboxSelectionCurrentPageOnly: !0
      });
    },
    clearFilters() {
      var o, t;
      (t = (o = this.params) == null ? void 0 : o.api) == null || t.setFilterModel(null);
    }
  }
});
const pZ = {
  class: "bs-grid ag-theme-alpine",
  style: { height: "100%" }
}, hZ = { class: "ag-root-wrapper bs-grid-title" }, fZ = {
  key: 0,
  class: "ag-root-wrapper bs-grid-header"
}, vZ = { class: "bs-grid-search-grid-row" }, gZ = {
  key: 1,
  class: "ag-root-wrapper bs-grid-header"
}, yZ = { class: "bs-grid-search-grid-row" };
function mZ(o, t, e, r, n, i) {
  const a = ce("q-icon"), s = ce("QInput"), l = ce("QBtn"), u = ce("ag-grid-vue");
  return se(), Ge("div", pZ, [
    _e("div", hZ, Ot(o.title || o.dssTableName), 1),
    o.isDataClientSide ? (se(), Ge("div", fZ, [
      _e("div", vZ, [
        ge(s, {
          modelValue: o.filterGridText,
          "onUpdate:modelValue": t[0] || (t[0] = (c) => o.filterGridText = c),
          class: "bs-grid-search",
          type: "text",
          placeholder: "Search Items...",
          clearable: ""
        }, {
          prepend: he(() => [
            ge(a, {
              name: "search",
              size: "1rem"
            })
          ]),
          _: 1
        }, 8, ["modelValue"])
      ])
    ])) : Re("", !0),
    o.hasFilters ? (se(), Ge("div", gZ, [
      _e("div", yZ, [
        ge(l, {
          flat: "",
          "no-caps": "",
          label: "Clear Filters",
          icon: o.mdiTrashCanOutline,
          onClick: o.clearFilters
        }, null, 8, ["icon", "onClick"])
      ])
    ])) : Re("", !0),
    ge(u, {
      ref: "agGrid",
      style: { height: "85%", "max-height": "100%", width: "100%" },
      "column-defs": o.columnDefs,
      "row-data": o.dssTableName ? null : o.rowData,
      "quick-filter-text": o.isDataClientSide ? o.filterGridText : null,
      "row-height": o.rowHeight,
      "row-selection": o.rowSelection,
      "row-model-type": o.rowModelType,
      "get-row-id": o.getRowId,
      pagination: !o.virtualScroll,
      "pagination-page-size": o.pageSize,
      "cache-block-size": o.cacheBlockSize,
      "header-height": o.headerHeight,
      "group-selects-children": o.rowSelection === "multiple",
      "auto-group-column-def": o.autoGroupColumnDef,
      "on-grid-ready": o.onGridReady,
      "server-side-datasource": o.dataSource,
      "paginate-child-rows": "true"
    }, null, 8, ["column-defs", "row-data", "quick-filter-text", "row-height", "row-selection", "row-model-type", "get-row-id", "pagination", "pagination-page-size", "cache-block-size", "header-height", "group-selects-children", "auto-group-column-def", "on-grid-ready", "server-side-datasource"])
  ]);
}
const CZ = /* @__PURE__ */ Le(dZ, [["render", mZ], ["__scopeId", "data-v-7a7d518b"]]);
const SZ = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  BsButton: cD,
  BsCheckbox: tA,
  BsContent: Yg,
  BsDateRange: aA,
  BsDocumentation: Xg,
  BsDrawer: Sc,
  BsDrawerBtn: ob,
  BsGrid: CZ,
  BsHeader: wc,
  BsIcon: ZP,
  BsImg: YP,
  BsLayoutDefault: YR,
  BsLayoutDrawer: ab,
  BsLayoutHeader: sb,
  BsMenuTab: lb,
  BsMenuTabs: ub,
  BsRange: wD,
  BsSelect: sD,
  BsSlider: mD,
  BsSpinner: ED,
  BsTab: pb,
  BsTabChild: od,
  BsTabIcon: jp,
  BsTabPageChildWrapper: om,
  BsTabTitle: am,
  BsTable: UP,
  BsToggle: nD,
  BsTooltip: hD,
  CheckSlotComponentsMixin: im,
  ProvideMixin: nm
}, Symbol.toStringTag, { value: "Module" })), TZ = {
  version: "1.4.1",
  install(o) {
    tR(o, { components: SZ });
  }
}, RZ = "1.4.1";
export {
  cD as BsButton,
  tA as BsCheckbox,
  Yg as BsContent,
  aA as BsDateRange,
  Xg as BsDocumentation,
  Sc as BsDrawer,
  ob as BsDrawerBtn,
  CZ as BsGrid,
  wc as BsHeader,
  ZP as BsIcon,
  YP as BsImg,
  YR as BsLayoutDefault,
  ab as BsLayoutDrawer,
  sb as BsLayoutHeader,
  lb as BsMenuTab,
  ub as BsMenuTabs,
  wD as BsRange,
  sD as BsSelect,
  mD as BsSlider,
  ED as BsSpinner,
  pb as BsTab,
  od as BsTabChild,
  jp as BsTabIcon,
  om as BsTabPageChildWrapper,
  am as BsTabTitle,
  UP as BsTable,
  nD as BsToggle,
  hD as BsTooltip,
  im as CheckSlotComponentsMixin,
  nm as ProvideMixin,
  TZ as QuasarBs,
  Xa as ServerApi,
  RZ as version
};
